(()=>{var NP={793:function(Ee,ve,$){(function(){var W,U,d={}.hasOwnProperty;U=$(3379),W=$(9168),Ee.exports=function(h){function c(f,m,g){if(c.__super__.constructor.call(this,f),null==m)throw new Error("Missing DTD notation name. "+this.debugInfo(m));if(!g.pubID&&!g.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(m));this.name=this.stringify.name(m),this.type=W.NotationDeclaration,null!=g.pubID&&(this.pubID=this.stringify.dtdPubID(g.pubID)),null!=g.sysID&&(this.sysID=this.stringify.dtdSysID(g.sysID))}return function(h,c){for(var f in c)d.call(c,f)&&(h[f]=c[f]);function m(){this.constructor=h}m.prototype=c.prototype,h.prototype=new m,h.__super__=c.prototype}(c,h),Object.defineProperty(c.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(c.prototype,"systemId",{get:function(){return this.sysID}}),c.prototype.toString=function(f){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(f))},c}(U)}).call(this)},899:function(Ee,ve,$){(function(){var W,U,d={}.hasOwnProperty;U=$(3379),W=$(9168),Ee.exports=function(h){function c(f,m,g){if(c.__super__.constructor.call(this,f),null==m)throw new Error("Missing DTD element name. "+this.debugInfo());g||(g="(#PCDATA)"),Array.isArray(g)&&(g="("+g.join(",")+")"),this.name=this.stringify.name(m),this.type=W.ElementDeclaration,this.value=this.stringify.dtdElementValue(g)}return function(h,c){for(var f in c)d.call(c,f)&&(h[f]=c[f]);function m(){this.constructor=h}m.prototype=c.prototype,h.prototype=new m,h.__super__=c.prototype}(c,h),c.prototype.toString=function(f){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(f))},c}(U)}).call(this)},922:function(Ee){(function(){Ee.exports=function(){function $(W){this.arr=W||[]}return Object.defineProperty($.prototype,"length",{get:function(){return this.arr.length}}),$.prototype.item=function(W){return this.arr[W]||null},$.prototype.contains=function(W){return-1!==this.arr.indexOf(W)},$}()}).call(this)},1161:function(Ee,ve,$){(function(){"use strict";var W,K,U,l,d,h={}.hasOwnProperty;W=$(5410),K=$(2426).defaults,l=function(c){return"string"==typeof c&&(c.indexOf("&")>=0||c.indexOf(">")>=0||c.indexOf("<")>=0)},d=function(c){return"<![CDATA["+U(c)+"]]>"},U=function(c){return c.replace("]]>","]]]]><![CDATA[>")},ve.Builder=function(){function c(f){var m,g;for(m in this.options={},g=K[.2])h.call(g,m)&&(this.options[m]=g[m]);for(m in f)h.call(f,m)&&(this.options[m]=f[m])}return c.prototype.buildObject=function(f){var m,g,_,v,w;return m=this.options.attrkey,g=this.options.charkey,1===Object.keys(f).length&&this.options.rootName===K[.2].rootName?f=f[w=Object.keys(f)[0]]:w=this.options.rootName,_=function(C){return function(D,M){var H,O,A,S,T;if("object"!=typeof M)C.options.cdata&&l(M)?D.raw(d(M)):D.txt(M);else if(Array.isArray(M)){for(S in M)if(h.call(M,S))for(T in O=M[S])A=O[T],D=_(D.ele(T),A).up()}else for(T in M)if(h.call(M,T))if(O=M[T],T===m){if("object"==typeof O)for(H in O)D=D.att(H,O[H])}else if(T===g)D=C.options.cdata&&l(O)?D.raw(d(O)):D.txt(O);else if(Array.isArray(O))for(S in O)h.call(O,S)&&(D="string"==typeof(A=O[S])?C.options.cdata&&l(A)?D.ele(T).raw(d(A)).up():D.ele(T,A).up():_(D.ele(T),A).up());else"object"==typeof O?D=_(D.ele(T),O).up():"string"==typeof O&&C.options.cdata&&l(O)?D=D.ele(T).raw(d(O)).up():(null==O&&(O=""),D=D.ele(T,O.toString()).up());return D}}(this),v=W.create(w,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),_(v,f).end(this.options.renderOpts)},c}()}).call(this)},1615:function(Ee,ve,$){(function(){var W;W=$(9168),$(3379),Ee.exports=function(){function l(d,h,c){if(this.parent=d,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==h)throw new Error("Missing attribute name. "+this.debugInfo(h));this.name=this.stringify.name(h),this.value=this.stringify.attValue(c),this.type=W.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(l.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(l.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(l.prototype,"textContent",{get:function(){return this.value},set:function(d){return this.value=d||""}}),Object.defineProperty(l.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(l.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(l.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(l.prototype,"specified",{get:function(){return!0}}),l.prototype.clone=function(){return Object.create(this)},l.prototype.toString=function(d){return this.options.writer.attribute(this,this.options.writer.filterOptions(d))},l.prototype.debugInfo=function(d){return null==(d=d||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+d+"}, parent: <"+this.parent.name+">"},l.prototype.isEqualNode=function(d){return!(d.namespaceURI!==this.namespaceURI||d.prefix!==this.prefix||d.localName!==this.localName||d.value!==this.value)},l}()}).call(this)},1762:function(Ee,ve,$){(function(){"use strict";var W,K,U,l,h={}.hasOwnProperty;K=$(2426),W=$(1161),U=$(4743),l=$(2649),ve.defaults=K.defaults,ve.processors=l,ve.ValidationError=function(){function f(m){this.message=m}return function(c,f){for(var m in f)h.call(f,m)&&(c[m]=f[m]);function g(){this.constructor=c}g.prototype=f.prototype,c.prototype=new g,c.__super__=f.prototype}(f,Error),f}(),ve.Builder=W.Builder,ve.Parser=U.Parser,ve.parseString=U.parseString,ve.parseStringPromise=U.parseStringPromise}).call(this)},2020:(Ee,ve)=>{ve.read=function($,W,K,U,l){var d,h,c=8*l-U-1,f=(1<<c)-1,m=f>>1,g=-7,_=K?l-1:0,v=K?-1:1,w=$[W+_];for(_+=v,d=w&(1<<-g)-1,w>>=-g,g+=c;g>0;d=256*d+$[W+_],_+=v,g-=8);for(h=d&(1<<-g)-1,d>>=-g,g+=U;g>0;h=256*h+$[W+_],_+=v,g-=8);if(0===d)d=1-m;else{if(d===f)return h?NaN:1/0*(w?-1:1);h+=Math.pow(2,U),d-=m}return(w?-1:1)*h*Math.pow(2,d-U)},ve.write=function($,W,K,U,l,d){var h,c,f,m=8*d-l-1,g=(1<<m)-1,_=g>>1,v=23===l?Math.pow(2,-24)-Math.pow(2,-77):0,w=U?0:d-1,C=U?1:-1,D=W<0||0===W&&1/W<0?1:0;for(W=Math.abs(W),isNaN(W)||W===1/0?(c=isNaN(W)?1:0,h=g):(h=Math.floor(Math.log(W)/Math.LN2),W*(f=Math.pow(2,-h))<1&&(h--,f*=2),(W+=h+_>=1?v/f:v*Math.pow(2,1-_))*f>=2&&(h++,f/=2),h+_>=g?(c=0,h=g):h+_>=1?(c=(W*f-1)*Math.pow(2,l),h+=_):(c=W*Math.pow(2,_-1)*Math.pow(2,l),h=0));l>=8;$[K+w]=255&c,w+=C,c/=256,l-=8);for(h=h<<l|c,m+=l;m>0;$[K+w]=255&h,w+=C,h/=256,m-=8);$[K+w-C]|=128*D}},2106:function(Ee,ve,$){(function(){var W,U,d={}.hasOwnProperty;W=$(9168),U=$(4732),Ee.exports=function(h){function c(f,m){if(c.__super__.constructor.call(this,f),null==m)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=W.CData,this.value=this.stringify.cdata(m)}return function(h,c){for(var f in c)d.call(c,f)&&(h[f]=c[f]);function m(){this.constructor=h}m.prototype=c.prototype,h.prototype=new m,h.__super__=c.prototype}(c,h),c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(f){return this.options.writer.cdata(this,this.options.writer.filterOptions(f))},c}(U)}).call(this)},2426:function(Ee,ve){(function(){ve.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},2649:function(Ee,ve){(function(){"use strict";var $;$=new RegExp(/(?!xmlns)^.*:/),ve.normalize=function(W){return W.toLowerCase()},ve.firstCharLowerCase=function(W){return W.charAt(0).toLowerCase()+W.slice(1)},ve.stripPrefix=function(W){return W.replace($,"")},ve.parseNumbers=function(W){return isNaN(W)||(W=W%1==0?parseInt(W,10):parseFloat(W)),W},ve.parseBooleans=function(W){return/^(?:true|false)$/i.test(W)&&(W="true"===W.toLowerCase()),W}}).call(this)},3338:function(Ee){(function(){var ve,$,W,K,U,l,d,h=[].slice,c={}.hasOwnProperty;ve=function(){var f,m,g,_,v,w;if(w=arguments[0],v=2<=arguments.length?h.call(arguments,1):[],U(Object.assign))Object.assign.apply(null,arguments);else for(f=0,g=v.length;f<g;f++)if(null!=(_=v[f]))for(m in _)c.call(_,m)&&(w[m]=_[m]);return w},U=function(f){return!!f&&"[object Function]"===Object.prototype.toString.call(f)},l=function(f){var m;return!!f&&("function"==(m=typeof f)||"object"===m)},W=function(f){return U(Array.isArray)?Array.isArray(f):"[object Array]"===Object.prototype.toString.call(f)},K=function(f){var m;if(W(f))return!f.length;for(m in f)if(c.call(f,m))return!1;return!0},d=function(f){var m,g;return l(f)&&(g=Object.getPrototypeOf(f))&&(m=g.constructor)&&"function"==typeof m&&m instanceof m&&Function.prototype.toString.call(m)===Function.prototype.toString.call(Object)},$=function(f){return U(f.valueOf)?f.valueOf():f},Ee.exports.assign=ve,Ee.exports.isFunction=U,Ee.exports.isObject=l,Ee.exports.isArray=W,Ee.exports.isEmpty=K,Ee.exports.isPlainObject=d,Ee.exports.getValue=$}).call(this)},3379:function(Ee,ve,$){(function(){var W,K,U,l,d,h,c,f,_,v,w,C,D,M,H,O,A,S={}.hasOwnProperty;A=$(3338),O=A.isObject,H=A.isFunction,M=A.isEmpty,D=A.getValue,f=null,U=null,l=null,d=null,h=null,w=null,C=null,v=null,c=null,K=null,_=null,W=null,Ee.exports=function(){function T(k){this.parent=k,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,f||(f=$(9335),U=$(2106),l=$(4526),d=$(4835),h=$(9729),w=$(8881),C=$(5212),v=$(6410),c=$(4747),K=$(9168),_=$(9723),$(9770),W=$(4914))}return Object.defineProperty(T.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(T.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(T.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(T.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(T.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new _(this.children)),this.childNodeList}}),Object.defineProperty(T.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(T.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(T.prototype,"previousSibling",{get:function(){var k;return k=this.parent.children.indexOf(this),this.parent.children[k-1]||null}}),Object.defineProperty(T.prototype,"nextSibling",{get:function(){var k;return k=this.parent.children.indexOf(this),this.parent.children[k+1]||null}}),Object.defineProperty(T.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(T.prototype,"textContent",{get:function(){var k,j,ne,V,ae;if(this.nodeType===K.Element||this.nodeType===K.DocumentFragment){for(ae="",j=0,ne=(V=this.children).length;j<ne;j++)(k=V[j]).textContent&&(ae+=k.textContent);return ae}return null},set:function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),T.prototype.setParent=function(k){var ne,V,ae,J;for(this.parent=k,k&&(this.options=k.options,this.stringify=k.stringify),J=[],ne=0,V=(ae=this.children).length;ne<V;ne++)J.push(ae[ne].setParent(this));return J},T.prototype.element=function(k,j,ne){var V,J,ce,ge,we,He,Qe,Fe,Pt,at;if(we=null,null===j&&null==ne&&(j=(Fe=[{},null])[0],ne=Fe[1]),null==j&&(j={}),j=D(j),O(j)||(ne=(Pt=[j,ne])[0],j=Pt[1]),null!=k&&(k=D(k)),Array.isArray(k))for(J=0,He=k.length;J<He;J++)we=this.element(k[J]);else if(H(k))we=this.element(k.apply());else if(O(k)){for(ge in k)if(S.call(k,ge))if(H(at=k[ge])&&(at=at.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===ge.indexOf(this.stringify.convertAttKey))we=this.attribute(ge.substr(this.stringify.convertAttKey.length),at);else if(!this.options.separateArrayItems&&Array.isArray(at)&&M(at))we=this.dummy();else if(O(at)&&M(at))we=this.element(ge);else if(this.options.keepNullNodes||null!=at)if(!this.options.separateArrayItems&&Array.isArray(at))for(ce=0,Qe=at.length;ce<Qe;ce++)(V={})[ge]=at[ce],we=this.element(V);else O(at)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===ge.indexOf(this.stringify.convertTextKey)?we=this.element(at):(we=this.element(ge)).element(at):we=this.element(ge,at);else we=this.dummy()}else we=this.options.keepNullNodes||null!==ne?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===k.indexOf(this.stringify.convertTextKey)?this.text(ne):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===k.indexOf(this.stringify.convertCDataKey)?this.cdata(ne):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===k.indexOf(this.stringify.convertCommentKey)?this.comment(ne):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===k.indexOf(this.stringify.convertRawKey)?this.raw(ne):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===k.indexOf(this.stringify.convertPIKey)?this.instruction(k.substr(this.stringify.convertPIKey.length),ne):this.node(k,j,ne):this.dummy();if(null==we)throw new Error("Could not create any elements with: "+k+". "+this.debugInfo());return we},T.prototype.insertBefore=function(k,j,ne){var V,ae,J,ce,ge;if(k?.type)return ce=j,(J=k).setParent(this),ce?(ae=children.indexOf(ce),ge=children.splice(ae),children.push(J),Array.prototype.push.apply(children,ge)):children.push(J),J;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(k));return ae=this.parent.children.indexOf(this),ge=this.parent.children.splice(ae),V=this.parent.element(k,j,ne),Array.prototype.push.apply(this.parent.children,ge),V},T.prototype.insertAfter=function(k,j,ne){var V,ae,J;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(k));return ae=this.parent.children.indexOf(this),J=this.parent.children.splice(ae+1),V=this.parent.element(k,j,ne),Array.prototype.push.apply(this.parent.children,J),V},T.prototype.remove=function(){var k;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return k=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[k,k-k+1].concat([])),this.parent},T.prototype.node=function(k,j,ne){var V,ae;return null!=k&&(k=D(k)),j||(j={}),j=D(j),O(j)||(ne=(ae=[j,ne])[0],j=ae[1]),V=new f(this,k,j),null!=ne&&V.text(ne),this.children.push(V),V},T.prototype.text=function(k){var j;return O(k)&&this.element(k),j=new C(this,k),this.children.push(j),this},T.prototype.cdata=function(k){var j;return j=new U(this,k),this.children.push(j),this},T.prototype.comment=function(k){var j;return j=new l(this,k),this.children.push(j),this},T.prototype.commentBefore=function(k){var ne,V;return ne=this.parent.children.indexOf(this),V=this.parent.children.splice(ne),this.parent.comment(k),Array.prototype.push.apply(this.parent.children,V),this},T.prototype.commentAfter=function(k){var ne,V;return ne=this.parent.children.indexOf(this),V=this.parent.children.splice(ne+1),this.parent.comment(k),Array.prototype.push.apply(this.parent.children,V),this},T.prototype.raw=function(k){var j;return j=new w(this,k),this.children.push(j),this},T.prototype.dummy=function(){return new c(this)},T.prototype.instruction=function(k,j){var ne,ae,J,ce;if(null!=k&&(k=D(k)),null!=j&&(j=D(j)),Array.isArray(k))for(J=0,ce=k.length;J<ce;J++)this.instruction(ne=k[J]);else if(O(k))for(ne in k)S.call(k,ne)&&this.instruction(ne,k[ne]);else H(j)&&(j=j.apply()),ae=new v(this,k,j),this.children.push(ae);return this},T.prototype.instructionBefore=function(k,j){var V,ae;return V=this.parent.children.indexOf(this),ae=this.parent.children.splice(V),this.parent.instruction(k,j),Array.prototype.push.apply(this.parent.children,ae),this},T.prototype.instructionAfter=function(k,j){var V,ae;return V=this.parent.children.indexOf(this),ae=this.parent.children.splice(V+1),this.parent.instruction(k,j),Array.prototype.push.apply(this.parent.children,ae),this},T.prototype.declaration=function(k,j,ne){var V,ae;return V=this.document(),ae=new d(V,k,j,ne),0===V.children.length?V.children.unshift(ae):V.children[0].type===K.Declaration?V.children[0]=ae:V.children.unshift(ae),V.root()||V},T.prototype.dtd=function(k,j){var V,ae,J,ce,ge,we,He,Qe,Fe;for(V=this.document(),ae=new h(V,k,j),J=ce=0,we=(Qe=V.children).length;ce<we;J=++ce)if(Qe[J].type===K.DocType)return V.children[J]=ae,ae;for(J=ge=0,He=(Fe=V.children).length;ge<He;J=++ge)if(Fe[J].isRoot)return V.children.splice(J,0,ae),ae;return V.children.push(ae),ae},T.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},T.prototype.root=function(){var k;for(k=this;k;){if(k.type===K.Document)return k.rootObject;if(k.isRoot)return k;k=k.parent}},T.prototype.document=function(){var k;for(k=this;k;){if(k.type===K.Document)return k;k=k.parent}},T.prototype.end=function(k){return this.document().end(k)},T.prototype.prev=function(){var k;if((k=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[k-1]},T.prototype.next=function(){var k;if(-1===(k=this.parent.children.indexOf(this))||k===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[k+1]},T.prototype.importDocument=function(k){var j;return(j=k.root().clone()).parent=this,j.isRoot=!1,this.children.push(j),this},T.prototype.debugInfo=function(k){var j,ne;return null!=(k=k||this.name)||null!=(j=this.parent)&&j.name?null==k?"parent: <"+this.parent.name+">":null!=(ne=this.parent)&&ne.name?"node: <"+k+">, parent: <"+this.parent.name+">":"node: <"+k+">":""},T.prototype.ele=function(k,j,ne){return this.element(k,j,ne)},T.prototype.nod=function(k,j,ne){return this.node(k,j,ne)},T.prototype.txt=function(k){return this.text(k)},T.prototype.dat=function(k){return this.cdata(k)},T.prototype.com=function(k){return this.comment(k)},T.prototype.ins=function(k,j){return this.instruction(k,j)},T.prototype.doc=function(){return this.document()},T.prototype.dec=function(k,j,ne){return this.declaration(k,j,ne)},T.prototype.e=function(k,j,ne){return this.element(k,j,ne)},T.prototype.n=function(k,j,ne){return this.node(k,j,ne)},T.prototype.t=function(k){return this.text(k)},T.prototype.d=function(k){return this.cdata(k)},T.prototype.c=function(k){return this.comment(k)},T.prototype.r=function(k){return this.raw(k)},T.prototype.i=function(k,j){return this.instruction(k,j)},T.prototype.u=function(){return this.up()},T.prototype.importXMLBuilder=function(k){return this.importDocument(k)},T.prototype.replaceChild=function(k,j){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.removeChild=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.appendChild=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.hasChildNodes=function(){return 0!==this.children.length},T.prototype.cloneNode=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.isSupported=function(k,j){return!0},T.prototype.hasAttributes=function(){return 0!==this.attribs.length},T.prototype.compareDocumentPosition=function(k){var j,ne;return(j=this)===k?0:this.document()!==k.document()?(ne=W.Disconnected|W.ImplementationSpecific,Math.random()<.5?ne|=W.Preceding:ne|=W.Following,ne):j.isAncestor(k)?W.Contains|W.Preceding:j.isDescendant(k)?W.Contains|W.Following:j.isPreceding(k)?W.Preceding:W.Following},T.prototype.isSameNode=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.lookupPrefix=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.isDefaultNamespace=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.lookupNamespaceURI=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.isEqualNode=function(k){var j,ne,V;if(k.nodeType!==this.nodeType||k.children.length!==this.children.length)return!1;for(j=ne=0,V=this.children.length-1;0<=V?ne<=V:ne>=V;j=0<=V?++ne:--ne)if(!this.children[j].isEqualNode(k.children[j]))return!1;return!0},T.prototype.getFeature=function(k,j){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.setUserData=function(k,j,ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.getUserData=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.contains=function(k){return!!k&&(k===this||this.isDescendant(k))},T.prototype.isDescendant=function(k){var j,V,ae,J;for(V=0,ae=(J=this.children).length;V<ae;V++)if(k===(j=J[V])||j.isDescendant(k))return!0;return!1},T.prototype.isAncestor=function(k){return k.isDescendant(this)},T.prototype.isPreceding=function(k){var j,ne;return j=this.treePosition(k),ne=this.treePosition(this),-1!==j&&-1!==ne&&j<ne},T.prototype.isFollowing=function(k){var j,ne;return j=this.treePosition(k),ne=this.treePosition(this),-1!==j&&-1!==ne&&j>ne},T.prototype.treePosition=function(k){var j,ne;return ne=0,j=!1,this.foreachTreeNode(this.document(),function(V){if(ne++,!j&&V===k)return j=!0}),j?ne:-1},T.prototype.foreachTreeNode=function(k,j){var ne,V,ae,J,ce;for(k||(k=this.document()),V=0,ae=(J=k.children).length;V<ae;V++){if(ce=j(ne=J[V]))return ce;if(ce=this.foreachTreeNode(ne,j))return ce}},T}()}).call(this)},3838:(Ee,ve,$)=>{"use strict";var W=$(3981),K=$(2020),U="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ve.Buffer=c,ve.SlowBuffer=function O(q){return+q!=q&&(q=0),c.alloc(+q)},ve.INSPECT_MAX_BYTES=50;var l=2147483647;function h(q){if(q>l)throw new RangeError('The value "'+q+'" is invalid for option "size"');var I=new Uint8Array(q);return Object.setPrototypeOf(I,c.prototype),I}function c(q,I,R){if("number"==typeof q){if("string"==typeof I)throw new TypeError('The "string" argument must be of type string. Received type number');return _(q)}return f(q,I,R)}function f(q,I,R){if("string"==typeof q)return function v(q,I){if(("string"!=typeof I||""===I)&&(I="utf8"),!c.isEncoding(I))throw new TypeError("Unknown encoding: "+I);var R=0|A(q,I),b=h(R),P=b.write(q,I);return P!==R&&(b=b.slice(0,P)),b}(q,I);if(ArrayBuffer.isView(q))return function C(q){if(Bt(q,Uint8Array)){var I=new Uint8Array(q);return D(I.buffer,I.byteOffset,I.byteLength)}return w(q)}(q);if(null==q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(Bt(q,ArrayBuffer)||q&&Bt(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Bt(q,SharedArrayBuffer)||q&&Bt(q.buffer,SharedArrayBuffer)))return D(q,I,R);if("number"==typeof q)throw new TypeError('The "value" argument must not be of type number. Received type number');var b=q.valueOf&&q.valueOf();if(null!=b&&b!==q)return c.from(b,I,R);var P=function M(q){if(c.isBuffer(q)){var I=0|H(q.length),R=h(I);return 0===R.length||q.copy(R,0,0,I),R}return void 0!==q.length?"number"!=typeof q.length||fn(q.length)?h(0):w(q):"Buffer"===q.type&&Array.isArray(q.data)?w(q.data):void 0}(q);if(P)return P;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof q[Symbol.toPrimitive])return c.from(q[Symbol.toPrimitive]("string"),I,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}function m(q){if("number"!=typeof q)throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function _(q){return m(q),h(q<0?0:0|H(q))}function w(q){for(var I=q.length<0?0:0|H(q.length),R=h(I),b=0;b<I;b+=1)R[b]=255&q[b];return R}function D(q,I,R){if(I<0||q.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<I+(R||0))throw new RangeError('"length" is outside of buffer bounds');var b;return b=void 0===I&&void 0===R?new Uint8Array(q):void 0===R?new Uint8Array(q,I):new Uint8Array(q,I,R),Object.setPrototypeOf(b,c.prototype),b}function H(q){if(q>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return 0|q}function A(q,I){if(c.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||Bt(q,ArrayBuffer))return q.byteLength;if("string"!=typeof q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var R=q.length,b=arguments.length>2&&!0===arguments[2];if(!b&&0===R)return 0;for(var P=!1;;)switch(I){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return z(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*R;case"hex":return R>>>1;case"base64":return Nt(q).length;default:if(P)return b?-1:z(q).length;I=(""+I).toLowerCase(),P=!0}}function S(q,I,R){var b=!1;if((void 0===I||I<0)&&(I=0),I>this.length||((void 0===R||R>this.length)&&(R=this.length),R<=0)||(R>>>=0)<=(I>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return at(this,I,R);case"utf8":case"utf-8":return we(this,I,R);case"ascii":return Fe(this,I,R);case"latin1":case"binary":return Pt(this,I,R);case"base64":return ge(this,I,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return on(this,I,R);default:if(b)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),b=!0}}function T(q,I,R){var b=q[I];q[I]=q[R],q[R]=b}function k(q,I,R,b,P){if(0===q.length)return-1;if("string"==typeof R?(b=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),fn(R=+R)&&(R=P?0:q.length-1),R<0&&(R=q.length+R),R>=q.length){if(P)return-1;R=q.length-1}else if(R<0){if(!P)return-1;R=0}if("string"==typeof I&&(I=c.from(I,b)),c.isBuffer(I))return 0===I.length?-1:j(q,I,R,b,P);if("number"==typeof I)return I&=255,"function"==typeof Uint8Array.prototype.indexOf?P?Uint8Array.prototype.indexOf.call(q,I,R):Uint8Array.prototype.lastIndexOf.call(q,I,R):j(q,[I],R,b,P);throw new TypeError("val must be string, number or Buffer")}function j(q,I,R,b,P){var _e,Y=1,re=q.length,de=I.length;if(void 0!==b&&("ucs2"===(b=String(b).toLowerCase())||"ucs-2"===b||"utf16le"===b||"utf-16le"===b)){if(q.length<2||I.length<2)return-1;Y=2,re/=2,de/=2,R/=2}function ke(ht,en){return 1===Y?ht[en]:ht.readUInt16BE(en*Y)}if(P){var We=-1;for(_e=R;_e<re;_e++)if(ke(q,_e)===ke(I,-1===We?0:_e-We)){if(-1===We&&(We=_e),_e-We+1===de)return We*Y}else-1!==We&&(_e-=_e-We),We=-1}else for(R+de>re&&(R=re-de),_e=R;_e>=0;_e--){for(var Ke=!0,jt=0;jt<de;jt++)if(ke(q,_e+jt)!==ke(I,jt)){Ke=!1;break}if(Ke)return _e}return-1}function ne(q,I,R,b){R=Number(R)||0;var P=q.length-R;b?(b=Number(b))>P&&(b=P):b=P;var Y=I.length;b>Y/2&&(b=Y/2);for(var re=0;re<b;++re){var de=parseInt(I.substr(2*re,2),16);if(fn(de))return re;q[R+re]=de}return re}function V(q,I,R,b){return sn(z(I,q.length-R),q,R,b)}function ae(q,I,R,b){return sn(function ye(q){for(var I=[],R=0;R<q.length;++R)I.push(255&q.charCodeAt(R));return I}(I),q,R,b)}function J(q,I,R,b){return sn(Nt(I),q,R,b)}function ce(q,I,R,b){return sn(function le(q,I){for(var R,b,Y=[],re=0;re<q.length&&!((I-=2)<0);++re)b=(R=q.charCodeAt(re))>>8,Y.push(R%256),Y.push(b);return Y}(I,q.length-R),q,R,b)}function ge(q,I,R){return W.fromByteArray(0===I&&R===q.length?q:q.slice(I,R))}function we(q,I,R){R=Math.min(q.length,R);for(var b=[],P=I;P<R;){var ke,_e,We,Ke,Y=q[P],re=null,de=Y>239?4:Y>223?3:Y>191?2:1;if(P+de<=R)switch(de){case 1:Y<128&&(re=Y);break;case 2:128==(192&(ke=q[P+1]))&&(Ke=(31&Y)<<6|63&ke)>127&&(re=Ke);break;case 3:_e=q[P+2],128==(192&(ke=q[P+1]))&&128==(192&_e)&&(Ke=(15&Y)<<12|(63&ke)<<6|63&_e)>2047&&(Ke<55296||Ke>57343)&&(re=Ke);break;case 4:_e=q[P+2],We=q[P+3],128==(192&(ke=q[P+1]))&&128==(192&_e)&&128==(192&We)&&(Ke=(15&Y)<<18|(63&ke)<<12|(63&_e)<<6|63&We)>65535&&Ke<1114112&&(re=Ke)}null===re?(re=65533,de=1):re>65535&&(b.push((re-=65536)>>>10&1023|55296),re=56320|1023&re),b.push(re),P+=de}return function Qe(q){var I=q.length;if(I<=He)return String.fromCharCode.apply(String,q);for(var R="",b=0;b<I;)R+=String.fromCharCode.apply(String,q.slice(b,b+=He));return R}(b)}ve.kMaxLength=l,!(c.TYPED_ARRAY_SUPPORT=function d(){try{var q=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(q,I),42===q.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(q,I,R){return f(q,I,R)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(q,I,R){return function g(q,I,R){return m(q),q<=0?h(q):void 0!==I?"string"==typeof R?h(q).fill(I,R):h(q).fill(I):h(q)}(q,I,R)},c.allocUnsafe=function(q){return _(q)},c.allocUnsafeSlow=function(q){return _(q)},c.isBuffer=function(I){return null!=I&&!0===I._isBuffer&&I!==c.prototype},c.compare=function(I,R){if(Bt(I,Uint8Array)&&(I=c.from(I,I.offset,I.byteLength)),Bt(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),!c.isBuffer(I)||!c.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===R)return 0;for(var b=I.length,P=R.length,Y=0,re=Math.min(b,P);Y<re;++Y)if(I[Y]!==R[Y]){b=I[Y],P=R[Y];break}return b<P?-1:P<b?1:0},c.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(I,R){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(0===I.length)return c.alloc(0);var b;if(void 0===R)for(R=0,b=0;b<I.length;++b)R+=I[b].length;var P=c.allocUnsafe(R),Y=0;for(b=0;b<I.length;++b){var re=I[b];if(Bt(re,Uint8Array))Y+re.length>P.length?c.from(re).copy(P,Y):Uint8Array.prototype.set.call(P,re,Y);else{if(!c.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(P,Y)}Y+=re.length}return P},c.byteLength=A,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<I;R+=2)T(this,R,R+1);return this},c.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<I;R+=4)T(this,R,R+3),T(this,R+1,R+2);return this},c.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<I;R+=8)T(this,R,R+7),T(this,R+1,R+6),T(this,R+2,R+5),T(this,R+3,R+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var I=this.length;return 0===I?"":0===arguments.length?we(this,0,I):S.apply(this,arguments)},c.prototype.equals=function(I){if(!c.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||0===c.compare(this,I)},c.prototype.inspect=function(){var I="",R=ve.INSPECT_MAX_BYTES;return I=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(I+=" ... "),"<Buffer "+I+">"},U&&(c.prototype[U]=c.prototype.inspect),c.prototype.compare=function(I,R,b,P,Y){if(Bt(I,Uint8Array)&&(I=c.from(I,I.offset,I.byteLength)),!c.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(void 0===R&&(R=0),void 0===b&&(b=I?I.length:0),void 0===P&&(P=0),void 0===Y&&(Y=this.length),R<0||b>I.length||P<0||Y>this.length)throw new RangeError("out of range index");if(P>=Y&&R>=b)return 0;if(P>=Y)return-1;if(R>=b)return 1;if(this===I)return 0;for(var re=(Y>>>=0)-(P>>>=0),de=(b>>>=0)-(R>>>=0),ke=Math.min(re,de),_e=this.slice(P,Y),We=I.slice(R,b),Ke=0;Ke<ke;++Ke)if(_e[Ke]!==We[Ke]){re=_e[Ke],de=We[Ke];break}return re<de?-1:de<re?1:0},c.prototype.includes=function(I,R,b){return-1!==this.indexOf(I,R,b)},c.prototype.indexOf=function(I,R,b){return k(this,I,R,b,!0)},c.prototype.lastIndexOf=function(I,R,b){return k(this,I,R,b,!1)},c.prototype.write=function(I,R,b,P){if(void 0===R)P="utf8",b=this.length,R=0;else if(void 0===b&&"string"==typeof R)P=R,b=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(b)?(b>>>=0,void 0===P&&(P="utf8")):(P=b,b=void 0)}var Y=this.length-R;if((void 0===b||b>Y)&&(b=Y),I.length>0&&(b<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");for(var re=!1;;)switch(P){case"hex":return ne(this,I,R,b);case"utf8":case"utf-8":return V(this,I,R,b);case"ascii":case"latin1":case"binary":return ae(this,I,R,b);case"base64":return J(this,I,R,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,I,R,b);default:if(re)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),re=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var He=4096;function Fe(q,I,R){var b="";R=Math.min(q.length,R);for(var P=I;P<R;++P)b+=String.fromCharCode(127&q[P]);return b}function Pt(q,I,R){var b="";R=Math.min(q.length,R);for(var P=I;P<R;++P)b+=String.fromCharCode(q[P]);return b}function at(q,I,R){var b=q.length;(!I||I<0)&&(I=0),(!R||R<0||R>b)&&(R=b);for(var P="",Y=I;Y<R;++Y)P+=In[q[Y]];return P}function on(q,I,R){for(var b=q.slice(I,R),P="",Y=0;Y<b.length-1;Y+=2)P+=String.fromCharCode(b[Y]+256*b[Y+1]);return P}function Dt(q,I,R){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+I>R)throw new RangeError("Trying to access beyond buffer length")}function zt(q,I,R,b,P,Y){if(!c.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>P||I<Y)throw new RangeError('"value" argument is out of bounds');if(R+b>q.length)throw new RangeError("Index out of range")}function Oi(q,I,R,b,P,Y){if(R+b>q.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function si(q,I,R,b,P){return I=+I,R>>>=0,P||Oi(q,0,R,4),K.write(q,I,R,b,23,4),R+4}function yt(q,I,R,b,P){return I=+I,R>>>=0,P||Oi(q,0,R,8),K.write(q,I,R,b,52,8),R+8}c.prototype.slice=function(I,R){var b=this.length;(I=~~I)<0?(I+=b)<0&&(I=0):I>b&&(I=b),(R=void 0===R?b:~~R)<0?(R+=b)<0&&(R=0):R>b&&(R=b),R<I&&(R=I);var P=this.subarray(I,R);return Object.setPrototypeOf(P,c.prototype),P},c.prototype.readUintLE=c.prototype.readUIntLE=function(I,R,b){I>>>=0,R>>>=0,b||Dt(I,R,this.length);for(var P=this[I],Y=1,re=0;++re<R&&(Y*=256);)P+=this[I+re]*Y;return P},c.prototype.readUintBE=c.prototype.readUIntBE=function(I,R,b){I>>>=0,R>>>=0,b||Dt(I,R,this.length);for(var P=this[I+--R],Y=1;R>0&&(Y*=256);)P+=this[I+--R]*Y;return P},c.prototype.readUint8=c.prototype.readUInt8=function(I,R){return I>>>=0,R||Dt(I,1,this.length),this[I]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(I,R){return I>>>=0,R||Dt(I,2,this.length),this[I]|this[I+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(I,R){return I>>>=0,R||Dt(I,2,this.length),this[I]<<8|this[I+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(I,R){return I>>>=0,R||Dt(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(I,R){return I>>>=0,R||Dt(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},c.prototype.readIntLE=function(I,R,b){I>>>=0,R>>>=0,b||Dt(I,R,this.length);for(var P=this[I],Y=1,re=0;++re<R&&(Y*=256);)P+=this[I+re]*Y;return P>=(Y*=128)&&(P-=Math.pow(2,8*R)),P},c.prototype.readIntBE=function(I,R,b){I>>>=0,R>>>=0,b||Dt(I,R,this.length);for(var P=R,Y=1,re=this[I+--P];P>0&&(Y*=256);)re+=this[I+--P]*Y;return re>=(Y*=128)&&(re-=Math.pow(2,8*R)),re},c.prototype.readInt8=function(I,R){return I>>>=0,R||Dt(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},c.prototype.readInt16LE=function(I,R){I>>>=0,R||Dt(I,2,this.length);var b=this[I]|this[I+1]<<8;return 32768&b?4294901760|b:b},c.prototype.readInt16BE=function(I,R){I>>>=0,R||Dt(I,2,this.length);var b=this[I+1]|this[I]<<8;return 32768&b?4294901760|b:b},c.prototype.readInt32LE=function(I,R){return I>>>=0,R||Dt(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},c.prototype.readInt32BE=function(I,R){return I>>>=0,R||Dt(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},c.prototype.readFloatLE=function(I,R){return I>>>=0,R||Dt(I,4,this.length),K.read(this,I,!0,23,4)},c.prototype.readFloatBE=function(I,R){return I>>>=0,R||Dt(I,4,this.length),K.read(this,I,!1,23,4)},c.prototype.readDoubleLE=function(I,R){return I>>>=0,R||Dt(I,8,this.length),K.read(this,I,!0,52,8)},c.prototype.readDoubleBE=function(I,R){return I>>>=0,R||Dt(I,8,this.length),K.read(this,I,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(I,R,b,P){I=+I,R>>>=0,b>>>=0,P||zt(this,I,R,b,Math.pow(2,8*b)-1,0);var re=1,de=0;for(this[R]=255&I;++de<b&&(re*=256);)this[R+de]=I/re&255;return R+b},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(I,R,b,P){I=+I,R>>>=0,b>>>=0,P||zt(this,I,R,b,Math.pow(2,8*b)-1,0);var re=b-1,de=1;for(this[R+re]=255&I;--re>=0&&(de*=256);)this[R+re]=I/de&255;return R+b},c.prototype.writeUint8=c.prototype.writeUInt8=function(I,R,b){return I=+I,R>>>=0,b||zt(this,I,R,1,255,0),this[R]=255&I,R+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(I,R,b){return I=+I,R>>>=0,b||zt(this,I,R,2,65535,0),this[R]=255&I,this[R+1]=I>>>8,R+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(I,R,b){return I=+I,R>>>=0,b||zt(this,I,R,2,65535,0),this[R]=I>>>8,this[R+1]=255&I,R+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(I,R,b){return I=+I,R>>>=0,b||zt(this,I,R,4,4294967295,0),this[R+3]=I>>>24,this[R+2]=I>>>16,this[R+1]=I>>>8,this[R]=255&I,R+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(I,R,b){return I=+I,R>>>=0,b||zt(this,I,R,4,4294967295,0),this[R]=I>>>24,this[R+1]=I>>>16,this[R+2]=I>>>8,this[R+3]=255&I,R+4},c.prototype.writeIntLE=function(I,R,b,P){if(I=+I,R>>>=0,!P){var Y=Math.pow(2,8*b-1);zt(this,I,R,b,Y-1,-Y)}var re=0,de=1,ke=0;for(this[R]=255&I;++re<b&&(de*=256);)I<0&&0===ke&&0!==this[R+re-1]&&(ke=1),this[R+re]=(I/de|0)-ke&255;return R+b},c.prototype.writeIntBE=function(I,R,b,P){if(I=+I,R>>>=0,!P){var Y=Math.pow(2,8*b-1);zt(this,I,R,b,Y-1,-Y)}var re=b-1,de=1,ke=0;for(this[R+re]=255&I;--re>=0&&(de*=256);)I<0&&0===ke&&0!==this[R+re+1]&&(ke=1),this[R+re]=(I/de|0)-ke&255;return R+b},c.prototype.writeInt8=function(I,R,b){return I=+I,R>>>=0,b||zt(this,I,R,1,127,-128),I<0&&(I=255+I+1),this[R]=255&I,R+1},c.prototype.writeInt16LE=function(I,R,b){return I=+I,R>>>=0,b||zt(this,I,R,2,32767,-32768),this[R]=255&I,this[R+1]=I>>>8,R+2},c.prototype.writeInt16BE=function(I,R,b){return I=+I,R>>>=0,b||zt(this,I,R,2,32767,-32768),this[R]=I>>>8,this[R+1]=255&I,R+2},c.prototype.writeInt32LE=function(I,R,b){return I=+I,R>>>=0,b||zt(this,I,R,4,2147483647,-2147483648),this[R]=255&I,this[R+1]=I>>>8,this[R+2]=I>>>16,this[R+3]=I>>>24,R+4},c.prototype.writeInt32BE=function(I,R,b){return I=+I,R>>>=0,b||zt(this,I,R,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[R]=I>>>24,this[R+1]=I>>>16,this[R+2]=I>>>8,this[R+3]=255&I,R+4},c.prototype.writeFloatLE=function(I,R,b){return si(this,I,R,!0,b)},c.prototype.writeFloatBE=function(I,R,b){return si(this,I,R,!1,b)},c.prototype.writeDoubleLE=function(I,R,b){return yt(this,I,R,!0,b)},c.prototype.writeDoubleBE=function(I,R,b){return yt(this,I,R,!1,b)},c.prototype.copy=function(I,R,b,P){if(!c.isBuffer(I))throw new TypeError("argument should be a Buffer");if(b||(b=0),!P&&0!==P&&(P=this.length),R>=I.length&&(R=I.length),R||(R=0),P>0&&P<b&&(P=b),P===b||0===I.length||0===this.length)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),I.length-R<P-b&&(P=I.length-R+b);var Y=P-b;return this===I&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(R,b,P):Uint8Array.prototype.set.call(I,this.subarray(b,P),R),Y},c.prototype.fill=function(I,R,b,P){if("string"==typeof I){if("string"==typeof R?(P=R,R=0,b=this.length):"string"==typeof b&&(P=b,b=this.length),void 0!==P&&"string"!=typeof P)throw new TypeError("encoding must be a string");if("string"==typeof P&&!c.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(1===I.length){var Y=I.charCodeAt(0);("utf8"===P&&Y<128||"latin1"===P)&&(I=Y)}}else"number"==typeof I?I&=255:"boolean"==typeof I&&(I=Number(I));if(R<0||this.length<R||this.length<b)throw new RangeError("Out of range index");if(b<=R)return this;var re;if(R>>>=0,b=void 0===b?this.length:b>>>0,I||(I=0),"number"==typeof I)for(re=R;re<b;++re)this[re]=I;else{var de=c.isBuffer(I)?I:c.from(I,P),ke=de.length;if(0===ke)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(re=0;re<b-R;++re)this[re+R]=de[re%ke]}return this};var Wr=/[^+/0-9A-Za-z-_]/g;function z(q,I){I=I||1/0;for(var R,b=q.length,P=null,Y=[],re=0;re<b;++re){if((R=q.charCodeAt(re))>55295&&R<57344){if(!P){if(R>56319){(I-=3)>-1&&Y.push(239,191,189);continue}if(re+1===b){(I-=3)>-1&&Y.push(239,191,189);continue}P=R;continue}if(R<56320){(I-=3)>-1&&Y.push(239,191,189),P=R;continue}R=65536+(P-55296<<10|R-56320)}else P&&(I-=3)>-1&&Y.push(239,191,189);if(P=null,R<128){if((I-=1)<0)break;Y.push(R)}else if(R<2048){if((I-=2)<0)break;Y.push(R>>6|192,63&R|128)}else if(R<65536){if((I-=3)<0)break;Y.push(R>>12|224,R>>6&63|128,63&R|128)}else{if(!(R<1114112))throw new Error("Invalid code point");if((I-=4)<0)break;Y.push(R>>18|240,R>>12&63|128,R>>6&63|128,63&R|128)}}return Y}function Nt(q){return W.toByteArray(function X(q){if((q=(q=q.split("=")[0]).trim().replace(Wr,"")).length<2)return"";for(;q.length%4!=0;)q+="=";return q}(q))}function sn(q,I,R,b){for(var P=0;P<b&&!(P+R>=I.length||P>=q.length);++P)I[P+R]=q[P];return P}function Bt(q,I){return q instanceof I||null!=q&&null!=q.constructor&&null!=q.constructor.name&&q.constructor.name===I.name}function fn(q){return q!=q}var In=function(){for(var q="0123456789abcdef",I=new Array(256),R=0;R<16;++R)for(var b=16*R,P=0;P<16;++P)I[b+P]=q[R]+q[P];return I}()},3962:function(Ee,ve,$){(function(){var W,K,U,d,h,c,f,g={}.hasOwnProperty;f=$(3338).isPlainObject,U=$(7705),K=$(4489),d=$(3379),W=$(9168),c=$(6573),h=$(8737),Ee.exports=function(_){function v(w){v.__super__.constructor.call(this,null),this.name="#document",this.type=W.Document,this.documentURI=null,this.domConfig=new K,w||(w={}),w.writer||(w.writer=new h),this.options=w,this.stringify=new c(w)}return function(_,v){for(var w in v)g.call(v,w)&&(_[w]=v[w]);function C(){this.constructor=_}C.prototype=v.prototype,_.prototype=new C,_.__super__=v.prototype}(v,_),Object.defineProperty(v.prototype,"implementation",{value:new U}),Object.defineProperty(v.prototype,"doctype",{get:function(){var w,C,D,M;for(C=0,D=(M=this.children).length;C<D;C++)if((w=M[C]).type===W.DocType)return w;return null}}),Object.defineProperty(v.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(v.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(v.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(v.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===W.Declaration?this.children[0].encoding:null}}),Object.defineProperty(v.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===W.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(v.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===W.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(v.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(v.prototype,"origin",{get:function(){return null}}),Object.defineProperty(v.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(v.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(v.prototype,"contentType",{get:function(){return null}}),v.prototype.end=function(w){var C;return C={},w?f(w)&&(C=w,w=this.options.writer):w=this.options.writer,w.document(this,w.filterOptions(C))},v.prototype.toString=function(w){return this.options.writer.document(this,this.options.writer.filterOptions(w))},v.prototype.createElement=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createTextNode=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createComment=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createCDATASection=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createProcessingInstruction=function(w,C){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createAttribute=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createEntityReference=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.getElementsByTagName=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.importNode=function(w,C){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createElementNS=function(w,C){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createAttributeNS=function(w,C){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.getElementsByTagNameNS=function(w,C){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.getElementById=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.adoptNode=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.renameNode=function(w,C,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.getElementsByClassName=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createEvent=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createNodeIterator=function(w,C,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},v.prototype.createTreeWalker=function(w,C,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},v}(d)}).call(this)},3981:(Ee,ve)=>{"use strict";ve.byteLength=function c(w){var C=h(w),M=C[1];return 3*(C[0]+M)/4-M},ve.toByteArray=function m(w){var C,T,D=h(w),M=D[0],H=D[1],O=new K(function f(w,C,D){return 3*(C+D)/4-D}(0,M,H)),A=0,S=H>0?M-4:M;for(T=0;T<S;T+=4)C=W[w.charCodeAt(T)]<<18|W[w.charCodeAt(T+1)]<<12|W[w.charCodeAt(T+2)]<<6|W[w.charCodeAt(T+3)],O[A++]=C>>16&255,O[A++]=C>>8&255,O[A++]=255&C;return 2===H&&(C=W[w.charCodeAt(T)]<<2|W[w.charCodeAt(T+1)]>>4,O[A++]=255&C),1===H&&(C=W[w.charCodeAt(T)]<<10|W[w.charCodeAt(T+1)]<<4|W[w.charCodeAt(T+2)]>>2,O[A++]=C>>8&255,O[A++]=255&C),O},ve.fromByteArray=function v(w){for(var C,D=w.length,M=D%3,H=[],O=16383,A=0,S=D-M;A<S;A+=O)H.push(_(w,A,A+O>S?S:A+O));return 1===M?H.push($[(C=w[D-1])>>2]+$[C<<4&63]+"=="):2===M&&H.push($[(C=(w[D-2]<<8)+w[D-1])>>10]+$[C>>4&63]+$[C<<2&63]+"="),H.join("")};for(var $=[],W=[],K=typeof Uint8Array<"u"?Uint8Array:Array,U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0;l<64;++l)$[l]=U[l],W[U.charCodeAt(l)]=l;function h(w){var C=w.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var D=w.indexOf("=");return-1===D&&(D=C),[D,D===C?0:4-D%4]}function g(w){return $[w>>18&63]+$[w>>12&63]+$[w>>6&63]+$[63&w]}function _(w,C,D){for(var H=[],O=C;O<D;O+=3)H.push(g((w[O]<<16&16711680)+(w[O+1]<<8&65280)+(255&w[O+2])));return H.join("")}W[45]=62,W[95]=63},4356:Ee=>{"use strict";var W,ve="object"==typeof Reflect?Reflect:null,$=ve&&"function"==typeof ve.apply?ve.apply:function(S,T,k){return Function.prototype.apply.call(S,T,k)};W=ve&&"function"==typeof ve.ownKeys?ve.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var U=Number.isNaN||function(S){return S!=S};function l(){l.init.call(this)}Ee.exports=l,Ee.exports.once=function M(A,S){return new Promise(function(T,k){function j(V){A.removeListener(S,ne),k(V)}function ne(){"function"==typeof A.removeListener&&A.removeListener("error",j),T([].slice.call(arguments))}O(A,S,ne,{once:!0}),"error"!==S&&function H(A,S,T){"function"==typeof A.on&&O(A,"error",S,T)}(A,j,{once:!0})})},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var d=10;function h(A){if("function"!=typeof A)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}function c(A){return void 0===A._maxListeners?l.defaultMaxListeners:A._maxListeners}function f(A,S,T,k){var j,ne,V;if(h(T),void 0===(ne=A._events)?(ne=A._events=Object.create(null),A._eventsCount=0):(void 0!==ne.newListener&&(A.emit("newListener",S,T.listener?T.listener:T),ne=A._events),V=ne[S]),void 0===V)V=ne[S]=T,++A._eventsCount;else if("function"==typeof V?V=ne[S]=k?[T,V]:[V,T]:k?V.unshift(T):V.push(T),(j=c(A))>0&&V.length>j&&!V.warned){V.warned=!0;var ae=new Error("Possible EventEmitter memory leak detected. "+V.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");ae.name="MaxListenersExceededWarning",ae.emitter=A,ae.type=S,ae.count=V.length,function K(A){console&&console.warn&&console.warn(A)}(ae)}return A}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(A,S,T){var k={fired:!1,wrapFn:void 0,target:A,type:S,listener:T},j=m.bind(k);return j.listener=T,k.wrapFn=j,j}function _(A,S,T){var k=A._events;if(void 0===k)return[];var j=k[S];return void 0===j?[]:"function"==typeof j?T?[j.listener||j]:[j]:T?function D(A){for(var S=new Array(A.length),T=0;T<S.length;++T)S[T]=A[T].listener||A[T];return S}(j):w(j,j.length)}function v(A){var S=this._events;if(void 0!==S){var T=S[A];if("function"==typeof T)return 1;if(void 0!==T)return T.length}return 0}function w(A,S){for(var T=new Array(S),k=0;k<S;++k)T[k]=A[k];return T}function O(A,S,T,k){if("function"==typeof A.on)k.once?A.once(S,T):A.on(S,T);else{if("function"!=typeof A.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A);A.addEventListener(S,function j(ne){k.once&&A.removeEventListener(S,j),T(ne)})}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(A){if("number"!=typeof A||A<0||U(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");d=A}}),l.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(S){if("number"!=typeof S||S<0||U(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},l.prototype.getMaxListeners=function(){return c(this)},l.prototype.emit=function(S){for(var T=[],k=1;k<arguments.length;k++)T.push(arguments[k]);var j="error"===S,ne=this._events;if(void 0!==ne)j=j&&void 0===ne.error;else if(!j)return!1;if(j){var V;if(T.length>0&&(V=T[0]),V instanceof Error)throw V;var ae=new Error("Unhandled error."+(V?" ("+V.message+")":""));throw ae.context=V,ae}var J=ne[S];if(void 0===J)return!1;if("function"==typeof J)$(J,this,T);else{var ce=J.length,ge=w(J,ce);for(k=0;k<ce;++k)$(ge[k],this,T)}return!0},l.prototype.on=l.prototype.addListener=function(S,T){return f(this,S,T,!1)},l.prototype.prependListener=function(S,T){return f(this,S,T,!0)},l.prototype.once=function(S,T){return h(T),this.on(S,g(this,S,T)),this},l.prototype.prependOnceListener=function(S,T){return h(T),this.prependListener(S,g(this,S,T)),this},l.prototype.off=l.prototype.removeListener=function(S,T){var k,j,ne,V,ae;if(h(T),void 0===(j=this._events))return this;if(void 0===(k=j[S]))return this;if(k===T||k.listener===T)0===--this._eventsCount?this._events=Object.create(null):(delete j[S],j.removeListener&&this.emit("removeListener",S,k.listener||T));else if("function"!=typeof k){for(ne=-1,V=k.length-1;V>=0;V--)if(k[V]===T||k[V].listener===T){ae=k[V].listener,ne=V;break}if(ne<0)return this;0===ne?k.shift():function C(A,S){for(;S+1<A.length;S++)A[S]=A[S+1];A.pop()}(k,ne),1===k.length&&(j[S]=k[0]),void 0!==j.removeListener&&this.emit("removeListener",S,ae||T)}return this},l.prototype.removeAllListeners=function(S){var T,k,j;if(void 0===(k=this._events))return this;if(void 0===k.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==k[S]&&(0===--this._eventsCount?this._events=Object.create(null):delete k[S]),this;if(0===arguments.length){var V,ne=Object.keys(k);for(j=0;j<ne.length;++j)"removeListener"!==(V=ne[j])&&this.removeAllListeners(V);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(T=k[S]))this.removeListener(S,T);else if(void 0!==T)for(j=T.length-1;j>=0;j--)this.removeListener(S,T[j]);return this},l.prototype.listeners=function(S){return _(this,S,!0)},l.prototype.rawListeners=function(S){return _(this,S,!1)},l.listenerCount=function(A,S){return"function"==typeof A.listenerCount?A.listenerCount(S):v.call(A,S)},l.prototype.listenerCount=v,l.prototype.eventNames=function(){return this._eventsCount>0?W(this._events):[]}},4489:function(Ee,ve,$){(function(){var K,U;K=$(4501),U=$(922),Ee.exports=function(){function l(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new K,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(l.prototype,"parameterNames",{get:function(){return new U(Object.keys(this.defaultParams))}}),l.prototype.getParameter=function(d){return this.params.hasOwnProperty(d)?this.params[d]:null},l.prototype.canSetParameter=function(d,h){return!0},l.prototype.setParameter=function(d,h){return null!=h?this.params[d]=h:delete this.params[d]},l}()}).call(this)},4501:function(Ee){(function(){Ee.exports=function(){function $(){}return $.prototype.handleError=function(W){throw new Error(W)},$}()}).call(this)},4526:function(Ee,ve,$){(function(){var W,K,d={}.hasOwnProperty;W=$(9168),K=$(4732),Ee.exports=function(h){function c(f,m){if(c.__super__.constructor.call(this,f),null==m)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=W.Comment,this.value=this.stringify.comment(m)}return function(h,c){for(var f in c)d.call(c,f)&&(h[f]=c[f]);function m(){this.constructor=h}m.prototype=c.prototype,h.prototype=new m,h.__super__=c.prototype}(c,h),c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(f){return this.options.writer.comment(this,this.options.writer.filterOptions(f))},c}(K)}).call(this)},4732:function(Ee,ve,$){(function(){var K,l={}.hasOwnProperty;K=$(3379),Ee.exports=function(d){function h(c){h.__super__.constructor.call(this,c),this.value=""}return function(d,h){for(var c in h)l.call(h,c)&&(d[c]=h[c]);function f(){this.constructor=d}f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype}(h,d),Object.defineProperty(h.prototype,"data",{get:function(){return this.value},set:function(c){return this.value=c||""}}),Object.defineProperty(h.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(h.prototype,"textContent",{get:function(){return this.value},set:function(c){return this.value=c||""}}),h.prototype.clone=function(){return Object.create(this)},h.prototype.substringData=function(c,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.appendData=function(c){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.insertData=function(c,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.deleteData=function(c,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.replaceData=function(c,f,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.isEqualNode=function(c){return!(!h.__super__.isEqualNode.apply(this,arguments).isEqualNode(c)||c.data!==this.data)},h}(K)}).call(this)},4743:function(Ee,ve,$){(function(){"use strict";var W,K,U,l,d,h,c,f,m,g=function(w,C){return function(){return w.apply(C,arguments)}},v={}.hasOwnProperty;f=$(6620),l=$(4356),W=$(5908),c=$(2649),m=$(7210).setImmediate,K=$(2426).defaults,d=function(w){return"object"==typeof w&&null!=w&&0===Object.keys(w).length},h=function(w,C,D){var M,H;for(M=0,H=w.length;M<H;M++)C=(0,w[M])(C,D);return C},U=function(w,C,D){var M;return(M=Object.create(null)).value=D,M.writable=!0,M.enumerable=!0,M.configurable=!0,Object.defineProperty(w,C,M)},ve.Parser=function(w){function C(D){var M,H;if(this.parseStringPromise=g(this.parseStringPromise,this),this.parseString=g(this.parseString,this),this.reset=g(this.reset,this),this.assignOrPush=g(this.assignOrPush,this),this.processAsync=g(this.processAsync,this),!(this instanceof ve.Parser))return new ve.Parser(D);for(M in this.options={},H=K[.2])v.call(H,M)&&(this.options[M]=H[M]);for(M in D)v.call(D,M)&&(this.options[M]=D[M]);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(c.normalize)),this.reset()}return function(w,C){for(var D in C)v.call(C,D)&&(w[D]=C[D]);function M(){this.constructor=w}M.prototype=C.prototype,w.prototype=new M,w.__super__=C.prototype}(C,w),C.prototype.processAsync=function(){var D,M;try{return this.remaining.length<=this.options.chunkSize?(D=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(D),this.saxParser.close()):(D=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(D),m(this.processAsync))}catch(H){if(M=H,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(M)}},C.prototype.assignOrPush=function(D,M,H){return M in D?(D[M]instanceof Array||U(D,M,[D[M]]),D[M].push(H)):U(D,M,this.options.explicitArray?[H]:H)},C.prototype.reset=function(){var D,M,H,O;return this.removeAllListeners(),this.saxParser=f.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(A){return function(S){if(A.saxParser.resume(),!A.saxParser.errThrown)return A.saxParser.errThrown=!0,A.emit("error",S)}}(this),this.saxParser.onend=function(A){return function(){if(!A.saxParser.ended)return A.saxParser.ended=!0,A.emit("end",A.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,O=[],D=this.options.attrkey,M=this.options.charkey,this.saxParser.onopentag=function(A){return function(S){var T,k,j,ne,V;if((j={})[M]="",!A.options.ignoreAttrs)for(T in V=S.attributes)v.call(V,T)&&(!(D in j)&&!A.options.mergeAttrs&&(j[D]={}),k=A.options.attrValueProcessors?h(A.options.attrValueProcessors,S.attributes[T],T):S.attributes[T],ne=A.options.attrNameProcessors?h(A.options.attrNameProcessors,T):T,A.options.mergeAttrs?A.assignOrPush(j,ne,k):U(j[D],ne,k));return j["#name"]=A.options.tagNameProcessors?h(A.options.tagNameProcessors,S.name):S.name,A.options.xmlns&&(j[A.options.xmlnskey]={uri:S.uri,local:S.local}),O.push(j)}}(this),this.saxParser.onclosetag=function(A){return function(){var S,T,k,j,ne,V,ae,J,ce,ge;if(V=O.pop(),ne=V["#name"],(!A.options.explicitChildren||!A.options.preserveChildrenOrder)&&delete V["#name"],!0===V.cdata&&(S=V.cdata,delete V.cdata),ce=O[O.length-1],V[M].match(/^\s*$/)&&!S?(T=V[M],delete V[M]):(A.options.trim&&(V[M]=V[M].trim()),A.options.normalize&&(V[M]=V[M].replace(/\s{2,}/g," ").trim()),V[M]=A.options.valueProcessors?h(A.options.valueProcessors,V[M],ne):V[M],1===Object.keys(V).length&&M in V&&!A.EXPLICIT_CHARKEY&&(V=V[M])),d(V)&&(V="function"==typeof A.options.emptyTag?A.options.emptyTag():""!==A.options.emptyTag?A.options.emptyTag:T),null!=A.options.validator&&(ge="/"+function(){var we,He,Qe;for(Qe=[],we=0,He=O.length;we<He;we++)Qe.push((j=O[we])["#name"]);return Qe}().concat(ne).join("/"),function(){try{return V=A.options.validator(ge,ce&&ce[ne],V)}catch(He){return A.emit("error",He)}}()),A.options.explicitChildren&&!A.options.mergeAttrs&&"object"==typeof V)if(A.options.preserveChildrenOrder){if(ce){for(k in ce[A.options.childkey]=ce[A.options.childkey]||[],ae={},V)v.call(V,k)&&U(ae,k,V[k]);ce[A.options.childkey].push(ae),delete V["#name"],1===Object.keys(V).length&&M in V&&!A.EXPLICIT_CHARKEY&&(V=V[M])}}else j={},A.options.attrkey in V&&(j[A.options.attrkey]=V[A.options.attrkey],delete V[A.options.attrkey]),!A.options.charsAsChildren&&A.options.charkey in V&&(j[A.options.charkey]=V[A.options.charkey],delete V[A.options.charkey]),Object.getOwnPropertyNames(V).length>0&&(j[A.options.childkey]=V),V=j;return O.length>0?A.assignOrPush(ce,ne,V):(A.options.explicitRoot&&(J=V,U(V={},ne,J)),A.resultObject=V,A.saxParser.ended=!0,A.emit("end",A.resultObject))}}(this),this.saxParser.ontext=H=function(A){return function(S){var T,k;if(k=O[O.length-1])return k[M]+=S,A.options.explicitChildren&&A.options.preserveChildrenOrder&&A.options.charsAsChildren&&(A.options.includeWhiteChars||""!==S.replace(/\\n/g,"").trim())&&(k[A.options.childkey]=k[A.options.childkey]||[],(T={"#name":"__text__"})[M]=S,A.options.normalize&&(T[M]=T[M].replace(/\s{2,}/g," ").trim()),k[A.options.childkey].push(T)),k}}(this),this.saxParser.oncdata=function(){return function(S){var T;if(T=H(S))return T.cdata=!0}}()},C.prototype.parseString=function(D,M){var H;null!=M&&"function"==typeof M&&(this.on("end",function(O){return this.reset(),M(null,O)}),this.on("error",function(O){return this.reset(),M(O)}));try{return""===(D=D.toString()).trim()?(this.emit("end",null),!0):(D=W.stripBOM(D),this.options.async?(this.remaining=D,m(this.processAsync),this.saxParser):this.saxParser.write(D).close())}catch(O){if(H=O,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",H),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw H}},C.prototype.parseStringPromise=function(D){return new Promise(function(M){return function(H,O){return M.parseString(D,function(A,S){return A?O(A):H(S)})}}(this))},C}(l),ve.parseString=function(w,C,D){var M,H;return null!=D?("function"==typeof D&&(M=D),"object"==typeof C&&(H=C)):("function"==typeof C&&(M=C),H={}),new ve.Parser(H).parseString(w,M)},ve.parseStringPromise=function(w,C){var D;return"object"==typeof C&&(D=C),new ve.Parser(D).parseStringPromise(w)}}).call(this)},4747:function(Ee,ve,$){(function(){var W,U,d={}.hasOwnProperty;U=$(3379),W=$(9168),Ee.exports=function(h){function c(f){c.__super__.constructor.call(this,f),this.type=W.Dummy}return function(h,c){for(var f in c)d.call(c,f)&&(h[f]=c[f]);function m(){this.constructor=h}m.prototype=c.prototype,h.prototype=new m,h.__super__=c.prototype}(c,h),c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(f){return""},c}(U)}).call(this)},4792:(Ee,ve,$)=>{var W=$(5932);function K(){W.call(this)}K.prototype=new W,Ee.exports=K,K.Stream=K,K.prototype.pipe=function(U,l){var d=this;function h(w){U.writable&&!1===U.write(w)&&d.pause&&d.pause()}function c(){d.readable&&d.resume&&d.resume()}d.on("data",h),U.on("drain",c),!U._isStdio&&(!l||!1!==l.end)&&(d.on("end",m),d.on("close",g));var f=!1;function m(){f||(f=!0,U.end())}function g(){f||(f=!0,"function"==typeof U.destroy&&U.destroy())}function _(w){if(v(),!this.hasListeners("error"))throw w}function v(){d.off("data",h),U.off("drain",c),d.off("end",m),d.off("close",g),d.off("error",_),U.off("error",_),d.off("end",v),d.off("close",v),U.off("end",v),U.off("close",v)}return d.on("error",_),U.on("error",_),d.on("end",v),d.on("close",v),U.on("end",v),U.on("close",v),U.emit("pipe",d),U}},4835:function(Ee,ve,$){(function(){var W,U,l,h={}.hasOwnProperty;l=$(3338).isObject,U=$(3379),W=$(9168),Ee.exports=function(c){function f(m,g,_,v){var w;f.__super__.constructor.call(this,m),l(g)&&(g=(w=g).version,_=w.encoding,v=w.standalone),g||(g="1.0"),this.type=W.Declaration,this.version=this.stringify.xmlVersion(g),null!=_&&(this.encoding=this.stringify.xmlEncoding(_)),null!=v&&(this.standalone=this.stringify.xmlStandalone(v))}return function(c,f){for(var m in f)h.call(f,m)&&(c[m]=f[m]);function g(){this.constructor=c}g.prototype=f.prototype,c.prototype=new g,c.__super__=f.prototype}(f,c),f.prototype.toString=function(m){return this.options.writer.declaration(this,this.options.writer.filterOptions(m))},f}(U)}).call(this)},4914:function(Ee){(function(){Ee.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},5204:function(Ee,ve,$){(function(){var W,K,l,h={}.hasOwnProperty;W=$(9168),l=$(8829),K=$(9810),Ee.exports=function(c){function f(m,g){this.stream=m,f.__super__.constructor.call(this,g)}return function(c,f){for(var m in f)h.call(f,m)&&(c[m]=f[m]);function g(){this.constructor=c}g.prototype=f.prototype,c.prototype=new g,c.__super__=f.prototype}(f,c),f.prototype.endline=function(m,g,_){return m.isLastRootNode&&g.state===K.CloseTag?"":f.__super__.endline.call(this,m,g,_)},f.prototype.document=function(m,g){var v,w,C,D,M,H,O,A;for(v=w=0,D=(H=m.children).length;w<D;v=++w)H[v].isLastRootNode=v===m.children.length-1;for(g=this.filterOptions(g),A=[],C=0,M=(O=m.children).length;C<M;C++)A.push(this.writeChildNode(O[C],g,0));return A},f.prototype.attribute=function(m,g,_){return this.stream.write(f.__super__.attribute.call(this,m,g,_))},f.prototype.cdata=function(m,g,_){return this.stream.write(f.__super__.cdata.call(this,m,g,_))},f.prototype.comment=function(m,g,_){return this.stream.write(f.__super__.comment.call(this,m,g,_))},f.prototype.declaration=function(m,g,_){return this.stream.write(f.__super__.declaration.call(this,m,g,_))},f.prototype.docType=function(m,g,_){var w,C,D;if(_||(_=0),this.openNode(m,g,_),g.state=K.OpenTag,this.stream.write(this.indent(m,g,_)),this.stream.write("<!DOCTYPE "+m.root().name),m.pubID&&m.sysID?this.stream.write(' PUBLIC "'+m.pubID+'" "'+m.sysID+'"'):m.sysID&&this.stream.write(' SYSTEM "'+m.sysID+'"'),m.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(m,g,_)),g.state=K.InsideTag,w=0,C=(D=m.children).length;w<C;w++)this.writeChildNode(D[w],g,_+1);g.state=K.CloseTag,this.stream.write("]")}return g.state=K.CloseTag,this.stream.write(g.spaceBeforeSlash+">"),this.stream.write(this.endline(m,g,_)),g.state=K.None,this.closeNode(m,g,_)},f.prototype.element=function(m,g,_){var C,D,M,H,O,S,T;for(O in _||(_=0),this.openNode(m,g,_),g.state=K.OpenTag,this.stream.write(this.indent(m,g,_)+"<"+m.name),S=m.attribs)h.call(S,O)&&this.attribute(S[O],g,_);if(D=0===(C=m.children.length)?null:m.children[0],0===C||m.children.every(function(k){return(k.type===W.Text||k.type===W.Raw)&&""===k.value}))g.allowEmpty?(this.stream.write(">"),g.state=K.CloseTag,this.stream.write("</"+m.name+">")):(g.state=K.CloseTag,this.stream.write(g.spaceBeforeSlash+"/>"));else if(!g.pretty||1!==C||D.type!==W.Text&&D.type!==W.Raw||null==D.value){for(this.stream.write(">"+this.endline(m,g,_)),g.state=K.InsideTag,M=0,H=(T=m.children).length;M<H;M++)this.writeChildNode(T[M],g,_+1);g.state=K.CloseTag,this.stream.write(this.indent(m,g,_)+"</"+m.name+">")}else this.stream.write(">"),g.state=K.InsideTag,g.suppressPrettyCount++,this.writeChildNode(D,g,_+1),g.suppressPrettyCount--,g.state=K.CloseTag,this.stream.write("</"+m.name+">");return this.stream.write(this.endline(m,g,_)),g.state=K.None,this.closeNode(m,g,_)},f.prototype.processingInstruction=function(m,g,_){return this.stream.write(f.__super__.processingInstruction.call(this,m,g,_))},f.prototype.raw=function(m,g,_){return this.stream.write(f.__super__.raw.call(this,m,g,_))},f.prototype.text=function(m,g,_){return this.stream.write(f.__super__.text.call(this,m,g,_))},f.prototype.dtdAttList=function(m,g,_){return this.stream.write(f.__super__.dtdAttList.call(this,m,g,_))},f.prototype.dtdElement=function(m,g,_){return this.stream.write(f.__super__.dtdElement.call(this,m,g,_))},f.prototype.dtdEntity=function(m,g,_){return this.stream.write(f.__super__.dtdEntity.call(this,m,g,_))},f.prototype.dtdNotation=function(m,g,_){return this.stream.write(f.__super__.dtdNotation.call(this,m,g,_))},f}(l)}).call(this)},5212:function(Ee,ve,$){(function(){var W,K,d={}.hasOwnProperty;W=$(9168),K=$(4732),Ee.exports=function(h){function c(f,m){if(c.__super__.constructor.call(this,f),null==m)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=W.Text,this.value=this.stringify.text(m)}return function(h,c){for(var f in c)d.call(c,f)&&(h[f]=c[f]);function m(){this.constructor=h}m.prototype=c.prototype,h.prototype=new m,h.__super__=c.prototype}(c,h),Object.defineProperty(c.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(c.prototype,"wholeText",{get:function(){var f,m,g;for(g="",m=this.previousSibling;m;)g=m.data+g,m=m.previousSibling;for(g+=this.data,f=this.nextSibling;f;)g+=f.data,f=f.nextSibling;return g}}),c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(f){return this.options.writer.text(this,this.options.writer.filterOptions(f))},c.prototype.splitText=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.replaceWholeText=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},c}(K)}).call(this)},5410:function(Ee,ve,$){(function(){var W,K,U,l,d,h,c,f,m,g;g=$(3338),f=g.assign,m=g.isFunction,U=$(7705),l=$(3962),d=$(7987),c=$(8737),h=$(5204),W=$(9168),K=$(9810),Ee.exports.create=function(_,v,w,C){var D,M;if(null==_)throw new Error("Root element needs a name.");return C=f({},v,w,C),M=(D=new l(C)).element(_),C.headless||(D.declaration(C),(null!=C.pubID||null!=C.sysID)&&D.dtd(C)),M},Ee.exports.begin=function(_,v,w){var C;return m(_)&&(v=(C=[_,v])[0],w=C[1],_={}),v?new d(_,v,w):new l(_)},Ee.exports.stringWriter=function(_){return new c(_)},Ee.exports.streamWriter=function(_,v){return new h(_,v)},Ee.exports.implementation=new U,Ee.exports.nodeType=W,Ee.exports.writerState=K}).call(this)},5836:function(Ee,ve){var $,K,l,d;function U(l){return new U.Viewer(l)}(function(l){l.version={versionStr:"5.0.1",major:parseInt("5",10),minor:parseInt("0",10),revision:parseInt("1",10)};var f,d={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},h=Object.prototype.toString,c=Object.prototype.hasOwnProperty;l.isFunction=function(f){return"function"===l.type(f)},l.isArray=Array.isArray||function(f){return"array"===l.type(f)},l.isWindow=function(f){return f&&"object"==typeof f&&"setInterval"in f},l.type=function(f){return null==f?String(f):d[h.call(f)]||"object"},l.isPlainObject=function(f){if(!f||"object"!==U.type(f)||f.nodeType||l.isWindow(f)||f.constructor&&!c.call(f,"constructor")&&!c.call(f.constructor.prototype,"isPrototypeOf"))return!1;var m;for(var g in f)m=g;return void 0===m||c.call(f,m)},l.isEmptyObject=function(f){for(var m in f)return!1;return!0},l.freezeObject=function(f){return l.freezeObject=Object.freeze?Object.freeze:function(m){return m},l.freezeObject(f)},l.supportsCanvas=(f=document.createElement("canvas"),!(!l.isFunction(f.getContext)||!f.getContext("2d"))),l.isCanvasTainted=function(f){var m=!1;try{f.getContext("2d").getImageData(0,0,1,1)}catch{m=!0}return m},l.supportsAddEventListener=!(!document.documentElement.addEventListener||!document.addEventListener),l.supportsRemoveEventListener=!(!document.documentElement.removeEventListener||!document.removeEventListener),l.supportsEventListenerOptions=function(){var f=0;if(l.supportsAddEventListener)try{var m={get capture(){return f++,!1},get once(){return f++,!1},get passive(){return f++,!1}};window.addEventListener("test",null,m),window.removeEventListener("test",null,m)}catch{f=0}return f>=3}(),l.getCurrentPixelDensityRatio=function(){if(l.supportsCanvas){var f=document.createElement("canvas").getContext("2d"),m=window.devicePixelRatio||1,g=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1;return Math.max(m,1)/g}return 1},l.pixelDensityRatio=l.getCurrentPixelDensityRatio()})(U),function(l){l.extend=function(){var g,_,v,w,C,D,M=arguments[0]||{},H=arguments.length,O=!1,A=1;for("boolean"==typeof M&&(O=M,M=arguments[1]||{},A=2),"object"!=typeof M&&!U.isFunction(M)&&(M={}),H===A&&(M=this,--A);A<H;A++)if(null!==(g=arguments[A])||void 0!==g)for(_ in g){var S=Object.getOwnPropertyDescriptor(g,_);void 0!==S?S.get||S.set?Object.defineProperty(M,_,S):M!==(w=S.value)&&(O&&w&&(U.isPlainObject(w)||(C=U.isArray(w)))?(v=M[_],C?(C=!1,D=v&&U.isArray(v)?v:[]):D=v&&U.isPlainObject(v)?v:{},M[_]=U.extend(O,D,w)):void 0!==w&&(M[_]=w)):l.console.warn('Could not copy inherited property "'+_+'".')}return M},l.extend(l,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:function(){if("object"!=typeof navigator)return!1;var g=navigator.userAgent;return"string"==typeof g&&(-1!==g.indexOf("iPhone")||-1!==g.indexOf("iPad")||-1!==g.indexOf("iPod"))}(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,maxTilesPerFrame:1,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,overlayPreserveContentDirection:!0,opacity:1,compositeOperation:null,drawer:["webgl","canvas","html"],drawerOptions:{webgl:{},canvas:{},html:{},custom:{}},preload:!1,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},delegate:function(g,_){return function(){var v=arguments;return void 0===v&&(v=[]),_.apply(g,v)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(g){return l._viewers.get(this.getElement(g))},getElement:function(g){return"string"==typeof g&&(g=document.getElementById(g)),g},getElementPosition:function(g){var v,w,_=new l.Point;for(w=m(g=l.getElement(g),v="fixed"===l.getElementStyle(g).position);w;)_.x+=g.offsetLeft,_.y+=g.offsetTop,v&&(_=_.plus(l.getPageScroll())),w=m(g=w,v="fixed"===l.getElementStyle(g).position);return _},getElementOffset:function(g){var v,w,_=(g=l.getElement(g))&&g.ownerDocument,C={top:0,left:0};return _?(v=_.documentElement,typeof g.getBoundingClientRect<"u"&&(C=g.getBoundingClientRect()),new l.Point(C.left+((w=_===_.window?_:9===_.nodeType&&(_.defaultView||_.parentWindow)).pageXOffset||v.scrollLeft)-(v.clientLeft||0),C.top+(w.pageYOffset||v.scrollTop)-(v.clientTop||0))):new l.Point},getElementSize:function(g){return g=l.getElement(g),new l.Point(g.clientWidth,g.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(g){return(g=l.getElement(g)).currentStyle}:function(g){return g=l.getElement(g),window.getComputedStyle(g,"")},getCssPropertyWithVendorPrefix:function(g){var _={};return l.getCssPropertyWithVendorPrefix=function(v){if(void 0!==_[v])return _[v];var w=document.createElement("div").style,C=null;if(void 0!==w[v])C=v;else for(var D=["Webkit","Moz","MS","O","webkit","moz","ms","o"],M=l.capitalizeFirstLetter(v),H=0;H<D.length;H++){var O=D[H]+M;if(void 0!==w[O]){C=O;break}}return _[v]=C,C},l.getCssPropertyWithVendorPrefix(g)},capitalizeFirstLetter:function(g){return g.charAt(0).toUpperCase()+g.slice(1)},positiveModulo:function(g,_){var v=g%_;return v<0&&(v+=_),v},pointInElement:function(g,_){g=l.getElement(g);var v=l.getElementOffset(g),w=l.getElementSize(g);return _.x>=v.x&&_.x<v.x+w.x&&_.y<v.y+w.y&&_.y>=v.y},getMousePosition:function(g){if("number"==typeof g.pageX)l.getMousePosition=function(_){var v=new l.Point;return v.x=_.pageX,v.y=_.pageY,v};else{if("number"!=typeof g.clientX)throw new Error("Unknown event mouse position, no known technique.");l.getMousePosition=function(_){var v=new l.Point;return v.x=_.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,v.y=_.clientY+document.body.scrollTop+document.documentElement.scrollTop,v}}return l.getMousePosition(g)},getPageScroll:function(){var g=document.documentElement||{},_=document.body||{};if("number"==typeof window.pageXOffset)l.getPageScroll=function(){return new l.Point(window.pageXOffset,window.pageYOffset)};else if(_.scrollLeft||_.scrollTop)l.getPageScroll=function(){return new l.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!g.scrollLeft&&!g.scrollTop)return new l.Point(0,0);l.getPageScroll=function(){return new l.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return l.getPageScroll()},setPageScroll:function(g){if(typeof window.scrollTo<"u")l.setPageScroll=function(w){window.scrollTo(w.x,w.y)};else{var _=l.getPageScroll();if(_.x===g.x&&_.y===g.y)return;document.body.scrollLeft=g.x,document.body.scrollTop=g.y;var v=l.getPageScroll();if(v.x!==_.x&&v.y!==_.y)return void(l.setPageScroll=function(w){document.body.scrollLeft=w.x,document.body.scrollTop=w.y});if(document.documentElement.scrollLeft=g.x,document.documentElement.scrollTop=g.y,(v=l.getPageScroll()).x!==_.x&&v.y!==_.y)return void(l.setPageScroll=function(w){document.documentElement.scrollLeft=w.x,document.documentElement.scrollTop=w.y});l.setPageScroll=function(w){}}l.setPageScroll(g)},getWindowSize:function(){var g=document.documentElement||{},_=document.body||{};if("number"==typeof window.innerWidth)l.getWindowSize=function(){return new l.Point(window.innerWidth,window.innerHeight)};else if(g.clientWidth||g.clientHeight)l.getWindowSize=function(){return new l.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!_.clientWidth&&!_.clientHeight)throw new Error("Unknown window size, no known technique.");l.getWindowSize=function(){return new l.Point(document.body.clientWidth,document.body.clientHeight)}}return l.getWindowSize()},makeCenteredNode:function(g){g=l.getElement(g);var _=[l.makeNeutralElement("div"),l.makeNeutralElement("div"),l.makeNeutralElement("div")];return l.extend(_[0].style,{display:"table",height:"100%",width:"100%"}),l.extend(_[1].style,{display:"table-row"}),l.extend(_[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),_[0].appendChild(_[1]),_[1].appendChild(_[2]),_[2].appendChild(g),_[0]},makeNeutralElement:function(g){var _=document.createElement(g),v=_.style;return v.background="transparent none",v.border="none",v.margin="0px",v.padding="0px",v.position="static",_},now:function(){return l.now=Date.now?Date.now:function(){return(new Date).getTime()},l.now()},makeTransparentImage:function(g){var _=l.makeNeutralElement("img");return _.src=g,_},setElementOpacity:function(g,_,v){var w;g=l.getElement(g),v&&!l.Browser.alpha&&(_=Math.round(_)),l.Browser.opacity?g.style.opacity=_<1?_:"":_<1?(w=Math.round(100*_),g.style.filter="alpha(opacity="+w+")"):g.style.filter=""},setElementTouchActionNone:function(g){typeof(g=l.getElement(g)).style.touchAction<"u"?g.style.touchAction="none":typeof g.style.msTouchAction<"u"&&(g.style.msTouchAction="none")},setElementPointerEvents:function(g,_){typeof(g=l.getElement(g)).style<"u"&&typeof g.style.pointerEvents<"u"&&(g.style.pointerEvents=_)},setElementPointerEventsNone:function(g){l.setElementPointerEvents(g,"none")},addClass:function(g,_){(g=l.getElement(g)).className?-1===(" "+g.className+" ").indexOf(" "+_+" ")&&(g.className+=" "+_):g.className=_},indexOf:function(g,_,v){return this.indexOf=Array.prototype.indexOf?function(w,C,D){return w.indexOf(C,D)}:function(w,C,D){var M,O,H=D||0;if(!w)throw new TypeError;if(0===(O=w.length)||H>=O)return-1;for(H<0&&(H=O-Math.abs(H)),M=H;M<O;M++)if(w[M]===C)return M;return-1},this.indexOf(g,_,v)},removeClass:function(g,_){var v,C,w=[];for(v=(g=l.getElement(g)).className.split(/\s+/),C=0;C<v.length;C++)v[C]&&v[C]!==_&&w.push(v[C]);g.className=w.join(" ")},normalizeEventListenerOptions:function(g){return typeof g<"u"?"boolean"==typeof g?l.supportsEventListenerOptions?{capture:g}:g:l.supportsEventListenerOptions?g:typeof g.capture<"u"&&g.capture:!!l.supportsEventListenerOptions&&{capture:!1}},addEvent:function(){if(l.supportsAddEventListener)return function(g,_,v,w){w=l.normalizeEventListenerOptions(w),(g=l.getElement(g)).addEventListener(_,v,w)};if(document.documentElement.attachEvent&&document.attachEvent)return function(g,_,v){(g=l.getElement(g)).attachEvent("on"+_,v)};throw new Error("No known event model.")}(),removeEvent:function(){if(l.supportsRemoveEventListener)return function(g,_,v,w){w=l.normalizeEventListenerOptions(w),(g=l.getElement(g)).removeEventListener(_,v,w)};if(document.documentElement.detachEvent&&document.detachEvent)return function(g,_,v){(g=l.getElement(g)).detachEvent("on"+_,v)};throw new Error("No known event model.")}(),cancelEvent:function(g){g.preventDefault()},eventIsCanceled:function(g){return g.defaultPrevented},stopEvent:function(g){g.stopPropagation()},createCallback:function(g,_){console.error("The createCallback function is deprecated and will be removed in future versions. Please use alternativeFunction instead.");var w,v=[];for(w=2;w<arguments.length;w++)v.push(arguments[w]);return function(){var D,C=v.concat([]);for(D=0;D<arguments.length;D++)C.push(arguments[D]);return _.apply(g,C)}},getUrlParameter:function(g){return f[g]||null},getUrlProtocol:function(g){var _=g.match(/^([a-z]+:)\/\//i);return null===_?window.location.protocol:_[1].toLowerCase()},createAjaxRequest:function(){if(window.XMLHttpRequest)return l.createAjaxRequest=function(){return new XMLHttpRequest},new XMLHttpRequest;throw new Error("Browser doesn't support XMLHttpRequest.")},makeAjaxRequest:function(g,_,v){var w,C,D,M;l.isPlainObject(g)&&(_=g.success,v=g.error,w=g.withCredentials,C=g.headers,D=g.responseType||null,M=g.postData||null,g=g.url);var H=l.getUrlProtocol(g),O=l.createAjaxRequest();if(!l.isFunction(_))throw new Error("makeAjaxRequest requires a success callback");O.onreadystatechange=function(){4===O.readyState&&(O.onreadystatechange=function(){},O.status>=200&&O.status<300||0===O.status&&"http:"!==H&&"https:"!==H?_(O):l.isFunction(v)?v(O):l.console.error("AJAX request returned %d: %s",O.status,g))};var A=M?"POST":"GET";try{if(O.open(A,g,!0),D&&(O.responseType=D),C)for(var S in C)Object.prototype.hasOwnProperty.call(C,S)&&C[S]&&O.setRequestHeader(S,C[S]);w&&(O.withCredentials=!0),O.send(M)}catch(T){l.console.error("%s while making AJAX request: %s",T.name,T.message),O.onreadystatechange=function(){},l.isFunction(v)&&v(O,T)}return O},jsonp:function(g){var _,v=g.url,w=document.head||document.getElementsByTagName("head")[0]||document.documentElement,C=g.callbackName||"openseadragon"+l.now(),D=window[C],H=g.param||"callback",O=g.callback;v=v.replace(/(=)\?(&|$)|\?\?/i,"$1"+C+"$2"),v+=(/\?/.test(v)?"&":"?")+H+"="+C,window[C]=function(A){if(D)window[C]=D;else try{delete window[C]}catch{}O&&l.isFunction(O)&&O(A)},_=document.createElement("script"),(void 0!==g.async||!1!==g.async)&&(_.async="async"),g.scriptCharset&&(_.charset=g.scriptCharset),_.src=v,_.onload=_.onreadystatechange=function(A,S){(S||!_.readyState||/loaded|complete/.test(_.readyState))&&(_.onload=_.onreadystatechange=null,w&&_.parentNode&&w.removeChild(_),_=void 0)},w.insertBefore(_,w.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(g){if(!window.DOMParser)throw new Error("Browser doesn't support XML DOM.");return l.parseXml=function(_){return(new DOMParser).parseFromString(_,"text/xml")},l.parseXml(g)},parseJSON:function(g){return l.parseJSON=window.JSON.parse,l.parseJSON(g)},imageFormatSupported:function(g){return!!c[(g=g||"").toLowerCase()]},setImageFormatsSupported:function(g){l.extend(c,g)}});var h=function(g){};l.console=window.console||{log:h,debug:h,info:h,warn:h,error:h,assert:h},l.Browser={vendor:l.BROWSERS.UNKNOWN,version:0,alpha:!0};var c={avif:!0,bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1,webp:!0},f={};function m(g,_){return _&&g!==document.body?document.body:g.offsetParent}(function(){var g=navigator.appVersion,_=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(l.Browser.vendor=l.BROWSERS.IE,l.Browser.version=parseFloat(_.substring(_.indexOf("MSIE")+5,_.indexOf(";",_.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(_.indexOf("Edge")>=0?(l.Browser.vendor=l.BROWSERS.EDGE,l.Browser.version=parseFloat(_.substring(_.indexOf("Edge")+5))):_.indexOf("Edg")>=0?(l.Browser.vendor=l.BROWSERS.CHROMEEDGE,l.Browser.version=parseFloat(_.substring(_.indexOf("Edg")+4))):_.indexOf("Firefox")>=0?(l.Browser.vendor=l.BROWSERS.FIREFOX,l.Browser.version=parseFloat(_.substring(_.indexOf("Firefox")+8))):_.indexOf("Safari")>=0?(l.Browser.vendor=_.indexOf("Chrome")>=0?l.BROWSERS.CHROME:l.BROWSERS.SAFARI,l.Browser.version=parseFloat(_.substring(_.substring(0,_.indexOf("Safari")).lastIndexOf("/")+1,_.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(_)&&(l.Browser.vendor=l.BROWSERS.IE,l.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":l.Browser.vendor=l.BROWSERS.OPERA,l.Browser.version=parseFloat(g)}var D,M,H,C=window.location.search.substring(1).split("&");for(H=0;H<C.length;H++)if((M=(D=C[H]).indexOf("="))>0){var O=D.substring(0,M),A=D.substring(M+1);try{f[O]=decodeURIComponent(A)}catch{l.console.error("Ignoring malformed URL parameter: %s=%s",O,A)}}l.Browser.alpha=!(l.Browser.vendor===l.BROWSERS.CHROME&&l.Browser.version<2),l.Browser.opacity=!0,l.Browser.vendor===l.BROWSERS.IE&&l.console.error("Internet Explorer is not supported by OpenSeadragon")})(),function(g){var _=g.requestAnimationFrame||g.mozRequestAnimationFrame||g.webkitRequestAnimationFrame||g.msRequestAnimationFrame,v=g.cancelAnimationFrame||g.mozCancelAnimationFrame||g.webkitCancelAnimationFrame||g.msCancelAnimationFrame;if(_&&v)l.requestAnimationFrame=function(){return _.apply(g,arguments)},l.cancelAnimationFrame=function(){return v.apply(g,arguments)};else{var M,w=[],C=[],D=0;l.requestAnimationFrame=function(H){return w.push([++D,H]),M||(M=setInterval(function(){if(w.length){var O=l.now(),A=C;for(C=w,w=A;C.length;)C.shift()[1](O)}else clearInterval(M),M=void 0},20)),D},l.cancelAnimationFrame=function(H){var O,A;for(O=0,A=w.length;O<A;O+=1)if(w[O][0]===H)return void w.splice(O,1);for(O=0,A=C.length;O<A;O+=1)if(C[O][0]===H)return void C.splice(O,1)}}}(window)}(U),void 0!==(K="function"==typeof($=function(){return U})?$.apply(ve,[]):$)&&(Ee.exports=K),function(l){class d{constructor(c){c||(c=[0,0,0,0,0,0,0,0,0]),this.values=c}static makeIdentity(){return new d([1,0,0,0,1,0,0,0,1])}static makeTranslation(c,f){return new d([1,0,0,0,1,0,c,f,1])}static makeRotation(c){var f=Math.cos(c),m=Math.sin(c);return new d([f,-m,0,m,f,0,0,0,1])}static makeScaling(c,f){return new d([c,0,0,0,f,0,0,0,1])}multiply(c){let f=this.values,m=c.values;var g=f[0],_=f[1],v=f[2],w=f[3],C=f[4],D=f[5],M=f[6],H=f[7],O=f[8],A=m[0],S=m[1],T=m[2],k=m[3],j=m[4],ne=m[5],V=m[6],ae=m[7],J=m[8];return new d([A*g+S*w+T*M,A*_+S*C+T*H,A*v+S*D+T*O,k*g+j*w+ne*M,k*_+j*C+ne*H,k*v+j*D+ne*O,V*g+ae*w+J*M,V*_+ae*C+J*H,V*v+ae*D+J*O])}}l.Mat3=d}(U),l=U,d={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(d.supportsFullScreen=!0,d.getFullScreenElement=function(){return document.fullscreenElement},d.requestFullScreen=function(h){return h.requestFullscreen().catch(function(c){l.console.error("Fullscreen request failed: ",c)})},d.exitFullScreen=function(){document.exitFullscreen().catch(function(h){l.console.error("Error while exiting fullscreen: ",h)})},d.fullScreenEventName="fullscreenchange",d.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(d.supportsFullScreen=!0,d.getFullScreenElement=function(){return document.msFullscreenElement},d.requestFullScreen=function(h){return h.msRequestFullscreen()},d.exitFullScreen=function(){document.msExitFullscreen()},d.fullScreenEventName="MSFullscreenChange",d.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(d.supportsFullScreen=!0,d.getFullScreenElement=function(){return document.webkitFullscreenElement},d.requestFullScreen=function(h){return h.webkitRequestFullscreen()},d.exitFullScreen=function(){document.webkitExitFullscreen()},d.fullScreenEventName="webkitfullscreenchange",d.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(d.supportsFullScreen=!0,d.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},d.requestFullScreen=function(h){return h.webkitRequestFullScreen()},d.exitFullScreen=function(){document.webkitCancelFullScreen()},d.fullScreenEventName="webkitfullscreenchange",d.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(d.supportsFullScreen=!0,d.getFullScreenElement=function(){return document.mozFullScreenElement},d.requestFullScreen=function(h){return h.mozRequestFullScreen()},d.exitFullScreen=function(){document.mozCancelFullScreen()},d.fullScreenEventName="mozfullscreenchange",d.fullScreenErrorEventName="mozfullscreenerror"),d.isFullScreen=function(){return null!==d.getFullScreenElement()},d.cancelFullScreen=function(){l.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),d.exitFullScreen()},l.extend(l,d),function(l){l.EventSource=function(){this.events={},this._rejectedEventList={}},l.EventSource.prototype={addOnceHandler:function(d,h,c,f,m){var g=this;f=f||1;var _=0,v=function(w){return++_===f&&g.removeHandler(d,v),h(w)};return this.addHandler(d,v,c,m)},addHandler:function(d,h,c,f){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,d))return l.console.error(`Error adding handler for ${d}. ${this._rejectedEventList[d]}`),!1;var m=this.events[d];if(m||(this.events[d]=m=[]),h&&l.isFunction(h)){var g=m.length,_={handler:h,userData:c||null,priority:f||0};for(m[g]=_;g>0&&m[g-1].priority<m[g].priority;)m[g]=m[g-1],m[g-1]=_,g--}return!0},removeHandler:function(d,h){var m,c=this.events[d],f=[];if(c&&l.isArray(c)){for(m=0;m<c.length;m++)c[m].handler!==h&&f.push(c[m]);this.events[d]=f}},numberOfHandlers:function(d){var h=this.events[d];return h?h.length:0},removeAllHandlers:function(d){if(d)this.events[d]=[];else for(var h in this.events)this.events[h]=[]},getHandler:function(d){var h=this.events[d];return h&&h.length?(h=1===h.length?[h[0]]:Array.apply(null,h),function(c,f){var m,g=h.length;for(m=0;m<g;m++)h[m]&&(f.eventSource=c,f.userData=h[m].userData,h[m].handler(f))}):null},raiseEvent:function(d,h){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,d))return l.console.error(`Error adding handler for ${d}. ${this._rejectedEventList[d]}`),!1;var c=this.getHandler(d);return c&&c(this,h||{}),!0},rejectEventHandler(d,h=""){this._rejectedEventList[d]=h},allowEventHandler(d){delete this._rejectedEventList[d]}}}(U),function(l){var d=[],h={};l.MouseTracker=function(L){d.push(this);var N=arguments;l.isPlainObject(L)||(L={element:N[0],clickTimeThreshold:N[1],clickDistThreshold:N[2]}),this.hash=Math.random(),this.element=l.getElement(L.element),this.clickTimeThreshold=L.clickTimeThreshold||l.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=L.clickDistThreshold||l.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=L.dblClickTimeThreshold||l.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=L.dblClickDistThreshold||l.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=L.userData||null,this.stopDelay=L.stopDelay||50,this.preProcessEventHandler=L.preProcessEventHandler||null,this.contextMenuHandler=L.contextMenuHandler||null,this.enterHandler=L.enterHandler||null,this.leaveHandler=L.leaveHandler||null,this.exitHandler=L.exitHandler||null,this.overHandler=L.overHandler||null,this.outHandler=L.outHandler||null,this.pressHandler=L.pressHandler||null,this.nonPrimaryPressHandler=L.nonPrimaryPressHandler||null,this.releaseHandler=L.releaseHandler||null,this.nonPrimaryReleaseHandler=L.nonPrimaryReleaseHandler||null,this.moveHandler=L.moveHandler||null,this.scrollHandler=L.scrollHandler||null,this.clickHandler=L.clickHandler||null,this.dblClickHandler=L.dblClickHandler||null,this.dragHandler=L.dragHandler||null,this.dragEndHandler=L.dragEndHandler||null,this.pinchHandler=L.pinchHandler||null,this.stopHandler=L.stopHandler||null,this.keyDownHandler=L.keyDownHandler||null,this.keyUpHandler=L.keyUpHandler||null,this.keyHandler=L.keyHandler||null,this.focusHandler=L.focusHandler||null,this.blurHandler=L.blurHandler||null;var G=this;h[this.hash]={click:function(Z){!function k(L,N){var G={originalEvent:N,eventType:"click",pointerType:"mouse",isEmulated:!1};Y(L,G),G.preventDefault&&!G.defaultPrevented&&l.cancelEvent(N),G.stopPropagation&&l.stopEvent(N)}(G,Z)},dblclick:function(Z){!function j(L,N){var G={originalEvent:N,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Y(L,G),G.preventDefault&&!G.defaultPrevented&&l.cancelEvent(N),G.stopPropagation&&l.stopEvent(N)}(G,Z)},keydown:function(Z){!function ne(L,N){var G=null,Z={originalEvent:N,eventType:"keydown",pointerType:"",isEmulated:!1};Y(L,Z),L.keyDownHandler&&!Z.preventGesture&&!Z.defaultPrevented&&L.keyDownHandler(G={eventSource:L,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:L.userData}),(G&&G.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&l.cancelEvent(N),Z.stopPropagation&&l.stopEvent(N)}(G,Z)},keyup:function(Z){!function V(L,N){var G=null,Z={originalEvent:N,eventType:"keyup",pointerType:"",isEmulated:!1};Y(L,Z),L.keyUpHandler&&!Z.preventGesture&&!Z.defaultPrevented&&L.keyUpHandler(G={eventSource:L,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:L.userData}),(G&&G.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&l.cancelEvent(N),Z.stopPropagation&&l.stopEvent(N)}(G,Z)},keypress:function(Z){!function ae(L,N){var G=null,Z={originalEvent:N,eventType:"keypress",pointerType:"",isEmulated:!1};Y(L,Z),L.keyHandler&&!Z.preventGesture&&!Z.defaultPrevented&&L.keyHandler(G={eventSource:L,keyCode:N.keyCode?N.keyCode:N.charCode,ctrl:N.ctrlKey,shift:N.shiftKey,alt:N.altKey,meta:N.metaKey,originalEvent:N,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:L.userData}),(G&&G.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&l.cancelEvent(N),Z.stopPropagation&&l.stopEvent(N)}(G,Z)},focus:function(Z){!function J(L,N){var G={originalEvent:N,eventType:"focus",pointerType:"",isEmulated:!1};Y(L,G),L.focusHandler&&!G.preventGesture&&L.focusHandler({eventSource:L,originalEvent:N,userData:L.userData})}(G,Z)},blur:function(Z){!function ce(L,N){var G={originalEvent:N,eventType:"blur",pointerType:"",isEmulated:!1};Y(L,G),L.blurHandler&&!G.preventGesture&&L.blurHandler({eventSource:L,originalEvent:N,userData:L.userData})}(G,Z)},contextmenu:function(Z){!function ge(L,N){var G=null,Z={originalEvent:N,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Y(L,Z),L.contextMenuHandler&&!Z.preventGesture&&!Z.defaultPrevented&&(G={eventSource:L,position:S(O(N),L.element),originalEvent:Z.originalEvent,preventDefault:Z.preventDefault||Z.defaultPrevented,userData:L.userData},L.contextMenuHandler(G)),(G&&G.preventDefault||Z.preventDefault&&!Z.defaultPrevented)&&l.cancelEvent(N),Z.stopPropagation&&l.stopEvent(N)}(G,Z)},wheel:function(Z){!function we(L,N){Qe(L,N,N)}(G,Z)},mousewheel:function(Z){He(G,Z)},DOMMouseScroll:function(Z){He(G,Z)},MozMousePixelScroll:function(Z){He(G,Z)},losecapture:function(Z){!function Fe(L,N){var G={id:l.MouseTracker.mousePointerId,type:"mouse"},Z={originalEvent:N,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Y(L,Z),N.target===L.element&&re(L,G,!1),Z.stopPropagation&&l.stopEvent(N)}(G,Z)},mouseenter:function(Z){Wr(G,Z)},mouseleave:function(Z){X(G,Z)},mouseover:function(Z){z(G,Z)},mouseout:function(Z){ye(G,Z)},mousedown:function(Z){le(G,Z)},mouseup:function(Z){Nt(G,Z)},mousemove:function(Z){fn(G,Z)},touchstart:function(Z){!function Pt(L,N){var G,Z,Re,me=N.changedTouches.length,et=L.getActivePointersListByType("touch");G=l.now(),et.getLength()>N.touches.length-me&&l.console.warn("Tracked touch contact count doesn't match event.touches.length");var Kt={originalEvent:N,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Y(L,Kt),Z=0;Z<me;Z++)de(L,Kt,Re={id:N.changedTouches[Z].identifier,type:"touch",isPrimary:0===et.getLength(),currentPos:O(N.changedTouches[Z]),currentTime:G}),Ke(L,Kt,Re,0),re(L,Re,!0);Kt.preventDefault&&!Kt.defaultPrevented&&l.cancelEvent(N),Kt.stopPropagation&&l.stopEvent(N)}(G,Z)},touchend:function(Z){!function at(L,N){var G,Z,Re,me=N.changedTouches.length;G=l.now();var et={originalEvent:N,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Y(L,et),Z=0;Z<me;Z++)jt(L,et,Re={id:N.changedTouches[Z].identifier,type:"touch",currentPos:O(N.changedTouches[Z]),currentTime:G},0),re(L,Re,!1),ke(L,et,Re);et.preventDefault&&!et.defaultPrevented&&l.cancelEvent(N),et.stopPropagation&&l.stopEvent(N)}(G,Z)},touchmove:function(Z){!function on(L,N){var G,Z,me=N.changedTouches.length;G=l.now();var et={originalEvent:N,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Y(L,et),Z=0;Z<me;Z++)ht(L,et,{id:N.changedTouches[Z].identifier,type:"touch",currentPos:O(N.changedTouches[Z]),currentTime:G});et.preventDefault&&!et.defaultPrevented&&l.cancelEvent(N),et.stopPropagation&&l.stopEvent(N)}(G,Z)},touchcancel:function(Z){!function Dt(L,N){var Z,G=N.changedTouches.length,Re={originalEvent:N,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Y(L,Re),Z=0;Z<G;Z++)en(L,0,{id:N.changedTouches[Z].identifier,type:"touch"});Re.stopPropagation&&l.stopEvent(N)}(G,Z)},gesturestart:function(Z){!function zt(L,N){l.eventIsCanceled(N)||N.preventDefault()}(0,Z)},gesturechange:function(Z){!function Oi(L,N){l.eventIsCanceled(N)||N.preventDefault()}(0,Z)},gotpointercapture:function(Z){!function si(L,N){var G={originalEvent:N,eventType:"gotpointercapture",pointerType:M(N),isEmulated:!1};Y(L,G),N.target===L.element&&re(L,{id:N.pointerId,type:M(N)},!0),G.stopPropagation&&l.stopEvent(N)}(G,Z)},lostpointercapture:function(Z){!function yt(L,N){var G={originalEvent:N,eventType:"lostpointercapture",pointerType:M(N),isEmulated:!1};Y(L,G),N.target===L.element&&re(L,{id:N.pointerId,type:M(N)},!1),G.stopPropagation&&l.stopEvent(N)}(G,Z)},pointerenter:function(Z){Wr(G,Z)},pointerleave:function(Z){X(G,Z)},pointerover:function(Z){z(G,Z)},pointerout:function(Z){ye(G,Z)},pointerdown:function(Z){le(G,Z)},pointerup:function(Z){Nt(G,Z)},pointermove:function(Z){fn(G,Z)},pointercancel:function(Z){!function I(L,N){var G={id:N.pointerId,type:M(N)},Z={originalEvent:N,eventType:"pointercancel",pointerType:G.type,isEmulated:!1};Y(L,Z),en(L,0,G),Z.stopPropagation&&l.stopEvent(N)}(G,Z)},pointerupcaptured:function(Z){!function sn(L,N){L.getActivePointersListByType(M(N)).getById(N.pointerId)&&Bt(L,N),l.stopEvent(N)}(G,Z)},pointermovecaptured:function(Z){!function In(L,N){L.getActivePointersListByType(M(N)).getById(N.pointerId)&&q(L,N),l.stopEvent(N)}(G,Z)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,l.MouseTracker.havePointerEvents&&l.setElementPointerEvents(this.element,"auto"),this.exitHandler&&l.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),L.startDisabled||this.setTracking(!0)},l.MouseTracker.prototype={destroy:function(){var L;for(_(this),this.element=null,L=0;L<d.length;L++)if(d[L]===this){d.splice(L,1);break}h[this.hash]=null,delete h[this.hash]},isTracking:function(){return h[this.hash].tracking},setTracking:function(L){return L?function g(L){var G,Z,N=h[L.hash];if(!N.tracking){for(Z=0;Z<l.MouseTracker.subscribeEvents.length;Z++)l.addEvent(L.element,G=l.MouseTracker.subscribeEvents[Z],N[G],G===l.MouseTracker.wheelEventName&&{passive:!1,capture:!1});m(L),N.tracking=!0}}(this):_(this),this},getActivePointersListByType:function(L){var G,me,N=h[this.hash],Z=N?N.activePointersLists.length:0;for(G=0;G<Z;G++)if(N.activePointersLists[G].type===L)return N.activePointersLists[G];return me=new l.MouseTracker.GesturePointList(L),N&&N.activePointersLists.push(me),me},getActivePointerCount:function(){var N,L=h[this.hash],G=L.activePointersLists.length,Z=0;for(N=0;N<G;N++)Z+=L.activePointersLists[N].getLength();return Z},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var L,c=function(){try{return window.self!==window.top}catch{return!0}}();function f(L){try{return L.addEventListener&&L.removeEventListener}catch{return!1}}function m(L){var G,Z,me,Re,et,N=h[L.hash],Kt=N.activePointersLists.length;for(G=0;G<Kt;G++)if((me=N.activePointersLists[G]).getLength()>0){for(et=[],Re=me.asArray(),Z=0;Z<Re.length;Z++)et.push(Re[Z]);for(Z=0;Z<et.length;Z++)b(L,me,et[Z])}for(G=0;G<Kt;G++)N.activePointersLists.pop();N.sentDragEvent=!1}function _(L){var G,Z,N=h[L.hash];if(N.tracking){for(Z=0;Z<l.MouseTracker.subscribeEvents.length;Z++)l.removeEvent(L.element,G=l.MouseTracker.subscribeEvents[Z],N[G],!1);m(L),N.tracking=!1}}function v(L,N){var G=h[L.hash];if("pointerevent"===N)return{upName:"pointerup",upHandler:G.pointerupcaptured,moveName:"pointermove",moveHandler:G.pointermovecaptured};if("mouse"===N)return{upName:"pointerup",upHandler:G.pointerupcaptured,moveName:"pointermove",moveHandler:G.pointermovecaptured};if("touch"===N)return{upName:"touchend",upHandler:G.touchendcaptured,moveName:"touchmove",moveHandler:G.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function C(L,N){var G,me;if(l.MouseTracker.havePointerCapture)if(l.MouseTracker.havePointerEvents){if(!(me=L.getActivePointersListByType(N.type).getById(N.id))||!me.captured)return;try{L.element.releasePointerCapture(N.id)}catch{}}else L.element.releaseCapture();else G=v(L,l.MouseTracker.havePointerEvents?"pointerevent":N.type),c&&f(window.top)&&l.removeEvent(window.top,G.upName,G.upHandler,!0),l.removeEvent(l.MouseTracker.captureElement,G.moveName,G.moveHandler,!0),l.removeEvent(l.MouseTracker.captureElement,G.upName,G.upHandler,!0);re(L,N,!1)}function D(L){return l.MouseTracker.havePointerEvents?L.pointerId:l.MouseTracker.mousePointerId}function M(L){return l.MouseTracker.havePointerEvents&&L.pointerType?L.pointerType:"mouse"}function H(L){return!l.MouseTracker.havePointerEvents||L.isPrimary}function O(L){return l.getMousePosition(L)}function A(L,N){return S(O(L),N)}function S(L,N){var G=l.getElementOffset(N);return L.minus(G)}function T(L,N){return new l.Point((L.x+N.x)/2,(L.y+N.y)/2)}function He(L,N){var G={target:N.target||N.srcElement,type:"wheel",shiftKey:N.shiftKey||!1,clientX:N.clientX,clientY:N.clientY,pageX:N.pageX?N.pageX:N.clientX,pageY:N.pageY?N.pageY:N.clientY,deltaMode:"MozMousePixelScroll"===N.type?0:1,deltaX:0,deltaZ:0};G.deltaY="mousewheel"===l.MouseTracker.wheelEventName?-N.wheelDelta/l.DEFAULT_SETTINGS.pixelsPerWheelLine:N.detail,Qe(L,G,N)}function Qe(L,N,G){var Z,me,Re=null;Z=N.deltaY?N.deltaY<0?1:-1:0,Y(L,me={originalEvent:N,eventType:"wheel",pointerType:"mouse",isEmulated:N!==G}),L.scrollHandler&&!me.preventGesture&&!me.defaultPrevented&&(Re={eventSource:L,pointerType:"mouse",position:A(N,L.element),scroll:Z,shift:N.shiftKey,isTouchEvent:!1,originalEvent:G,preventDefault:me.preventDefault||me.defaultPrevented,userData:L.userData},L.scrollHandler(Re)),me.stopPropagation&&l.stopEvent(G),(Re&&Re.preventDefault||me.preventDefault&&!me.defaultPrevented)&&l.cancelEvent(G)}function Wr(L,N){var G={id:D(N),type:M(N),isPrimary:H(N),currentPos:O(N),currentTime:l.now()},Z={originalEvent:N,eventType:"pointerenter",pointerType:G.type,isEmulated:!1};Y(L,Z),de(L,Z,G)}function X(L,N){var G={id:D(N),type:M(N),isPrimary:H(N),currentPos:O(N),currentTime:l.now()},Z={originalEvent:N,eventType:"pointerleave",pointerType:G.type,isEmulated:!1};Y(L,Z),ke(L,Z,G)}function z(L,N){var G={id:D(N),type:M(N),isPrimary:H(N),currentPos:O(N),currentTime:l.now()},Z={originalEvent:N,eventType:"pointerover",pointerType:G.type,isEmulated:!1};Y(L,Z),function _e(L,N,G){var Z,me;(me=(Z=L.getActivePointersListByType(G.type)).getById(G.id))?G=me:(G.captured=!1,G.insideElementPressed=!1),L.overHandler&&L.overHandler({eventSource:L,pointerType:G.type,position:S(G.currentPos,L.element),buttons:Z.buttons,pointers:L.getActivePointerCount(),insideElementPressed:G.insideElementPressed,buttonDownAny:0!==Z.buttons,isTouchEvent:"touch"===G.type,originalEvent:N.originalEvent,userData:L.userData})}(L,Z,G),Z.preventDefault&&!Z.defaultPrevented&&l.cancelEvent(N),Z.stopPropagation&&l.stopEvent(N)}function ye(L,N){var G={id:D(N),type:M(N),isPrimary:H(N),currentPos:O(N),currentTime:l.now()},Z={originalEvent:N,eventType:"pointerout",pointerType:G.type,isEmulated:!1};Y(L,Z),function We(L,N,G){var Z,me;(me=(Z=L.getActivePointersListByType(G.type)).getById(G.id))?G=me:(G.captured=!1,G.insideElementPressed=!1),L.outHandler&&L.outHandler({eventSource:L,pointerType:G.type,position:G.currentPos&&S(G.currentPos,L.element),buttons:Z.buttons,pointers:L.getActivePointerCount(),insideElementPressed:G.insideElementPressed,buttonDownAny:0!==Z.buttons,isTouchEvent:"touch"===G.type,originalEvent:N.originalEvent,userData:L.userData})}(L,Z,G),Z.preventDefault&&!Z.defaultPrevented&&l.cancelEvent(N),Z.stopPropagation&&l.stopEvent(N)}function le(L,N){var G={id:D(N),type:M(N),isPrimary:H(N),currentPos:O(N),currentTime:l.now()},Z=l.MouseTracker.havePointerEvents&&"touch"===G.type,me={originalEvent:N,eventType:"pointerdown",pointerType:G.type,isEmulated:!1};Y(L,me),Ke(L,me,G,N.button),me.preventDefault&&!me.defaultPrevented&&l.cancelEvent(N),me.stopPropagation&&l.stopEvent(N),me.shouldCapture&&(Z?re(L,G,!0):function w(L,N){var G;if(l.MouseTracker.havePointerCapture)if(l.MouseTracker.havePointerEvents)try{L.element.setPointerCapture(N.id)}catch{return void l.console.warn("setPointerCapture() called on invalid pointer ID")}else L.element.setCapture(!0);else G=v(L,l.MouseTracker.havePointerEvents?"pointerevent":N.type),c&&f(window.top)&&l.addEvent(window.top,G.upName,G.upHandler,!0),l.addEvent(l.MouseTracker.captureElement,G.upName,G.upHandler,!0),l.addEvent(l.MouseTracker.captureElement,G.moveName,G.moveHandler,!0);re(L,N,!0)}(L,G))}function Nt(L,N){Bt(L,N)}function Bt(L,N){var G,Z={originalEvent:N,eventType:"pointerup",pointerType:(G={id:D(N),type:M(N),isPrimary:H(N),currentPos:O(N),currentTime:l.now()}).type,isEmulated:!1};Y(L,Z),jt(L,Z,G,N.button),Z.preventDefault&&!Z.defaultPrevented&&l.cancelEvent(N),Z.stopPropagation&&l.stopEvent(N),Z.shouldReleaseCapture&&(N.target===L.element?C(L,G):re(L,G,!1))}function fn(L,N){q(L,N)}function q(L,N){var G={id:D(N),type:M(N),isPrimary:H(N),currentPos:O(N),currentTime:l.now()},Z={originalEvent:N,eventType:"pointermove",pointerType:G.type,isEmulated:!1};Y(L,Z),ht(L,Z,G),Z.preventDefault&&!Z.defaultPrevented&&l.cancelEvent(N),Z.stopPropagation&&l.stopEvent(N)}function R(L,N){return N.speed=0,N.direction=0,N.contactPos=N.currentPos,N.contactTime=N.currentTime,N.lastPos=N.currentPos,N.lastTime=N.currentTime,L.add(N)}function b(L,N,G){var Z,me=N.getById(G.id);return me?(me.captured&&(l.console.warn("stopTrackingPointer() called on captured pointer"),C(L,me)),N.removeContact(),Z=N.removeById(G.id)):Z=N.getLength(),Z}function Y(L,N){N.eventSource=L,N.eventPhase=N.originalEvent&&typeof N.originalEvent.eventPhase<"u"?N.originalEvent.eventPhase:0,N.defaultPrevented=l.eventIsCanceled(N.originalEvent),N.shouldCapture=!1,N.shouldReleaseCapture=!1,N.userData=L.userData,function P(L,N){switch(N.eventType){case"pointermove":case"pointerdown":case"pointerup":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!L.hasGestureHandlers,N.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1;break;case"wheel":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!1,N.preventGesture=!L.hasScrollHandler,N.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":N.isStoppable=!0,N.isCancelable=!1,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1;break;case"click":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!!L.clickHandler,N.preventGesture=!1,N.stopPropagation=!1;break;case"dblclick":N.isStoppable=!0,N.isCancelable=!0,N.preventDefault=!!L.dblClickHandler,N.preventGesture=!1,N.stopPropagation=!1;break;default:N.isStoppable=!1,N.isCancelable=!1,N.preventDefault=!1,N.preventGesture=!1,N.stopPropagation=!1}}(L,N),L.preProcessEventHandler&&L.preProcessEventHandler(N)}function re(L,N,G){var Z=L.getActivePointersListByType(N.type),me=Z.getById(N.id);me?G&&!me.captured?(me.captured=!0,Z.captureCount++):!G&&me.captured&&(me.captured=!1,Z.captureCount--,Z.captureCount<0&&(Z.captureCount=0,l.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):l.console.warn("updatePointerCaptured() called on untracked pointer")}function de(L,N,G){var me,Z=L.getActivePointersListByType(G.type);(me=Z.getById(G.id))?(me.insideElement=!0,me.lastPos=me.currentPos,me.lastTime=me.currentTime,me.currentPos=G.currentPos,me.currentTime=G.currentTime,G=me):(G.captured=!1,G.insideElementPressed=!1,G.insideElement=!0,R(Z,G)),L.enterHandler&&L.enterHandler({eventSource:L,pointerType:G.type,position:S(G.currentPos,L.element),buttons:Z.buttons,pointers:L.getActivePointerCount(),insideElementPressed:G.insideElementPressed,buttonDownAny:0!==Z.buttons,isTouchEvent:"touch"===G.type,originalEvent:N.originalEvent,userData:L.userData})}function ke(L,N,G){var me,Re,Z=L.getActivePointersListByType(G.type);(me=Z.getById(G.id))?(me.captured?(me.insideElement=!1,me.lastPos=me.currentPos,me.lastTime=me.currentTime,me.currentPos=G.currentPos,me.currentTime=G.currentTime):b(L,Z,me),G=me):(G.captured=!1,G.insideElementPressed=!1),(L.leaveHandler||L.exitHandler)&&(Re={eventSource:L,pointerType:G.type,position:G.currentPos&&S(G.currentPos,L.element),buttons:Z.buttons,pointers:L.getActivePointerCount(),insideElementPressed:G.insideElementPressed,buttonDownAny:0!==Z.buttons,isTouchEvent:"touch"===G.type,originalEvent:N.originalEvent,userData:L.userData},L.leaveHandler&&L.leaveHandler(Re),L.exitHandler&&L.exitHandler(Re))}function Ke(L,N,G,Z){var et,me=h[L.hash],Re=L.getActivePointersListByType(G.type);if(typeof N.originalEvent.buttons<"u"?Re.buttons=N.originalEvent.buttons:0===Z?Re.buttons|=1:1===Z?Re.buttons|=4:2===Z?Re.buttons|=2:3===Z?Re.buttons|=8:4===Z?Re.buttons|=16:5===Z&&(Re.buttons|=32),0!==Z)return N.shouldCapture=!1,N.shouldReleaseCapture=!1,void(L.nonPrimaryPressHandler&&!N.preventGesture&&!N.defaultPrevented&&(N.preventDefault=!0,L.nonPrimaryPressHandler({eventSource:L,pointerType:G.type,position:S(G.currentPos,L.element),button:Z,buttons:Re.buttons,isTouchEvent:"touch"===G.type,originalEvent:N.originalEvent,userData:L.userData})));(et=Re.getById(G.id))?(et.insideElementPressed=!0,et.insideElement=!0,et.originalTarget=N.originalEvent.target,et.contactPos=G.currentPos,et.contactTime=G.currentTime,et.lastPos=et.currentPos,et.lastTime=et.currentTime,et.currentPos=G.currentPos,et.currentTime=G.currentTime,G=et):(G.captured=!1,G.insideElementPressed=!0,G.insideElement=!0,G.originalTarget=N.originalEvent.target,R(Re,G)),Re.addContact(),N.preventGesture||N.defaultPrevented?(N.shouldCapture=!1,N.shouldReleaseCapture=!1):(N.shouldCapture=!0,N.shouldReleaseCapture=!1,N.preventDefault=!0,(L.dragHandler||L.dragEndHandler||L.pinchHandler)&&l.MouseTracker.gesturePointVelocityTracker.addPoint(L,G),1===Re.contacts?L.pressHandler&&!N.preventGesture&&L.pressHandler({eventSource:L,pointerType:G.type,position:S(G.contactPos,L.element),buttons:Re.buttons,isTouchEvent:"touch"===G.type,originalEvent:N.originalEvent,userData:L.userData}):2===Re.contacts&&L.pinchHandler&&"touch"===G.type&&(me.pinchGPoints=Re.asArray(),me.lastPinchDist=me.currentPinchDist=me.pinchGPoints[0].currentPos.distanceTo(me.pinchGPoints[1].currentPos),me.lastPinchCenter=me.currentPinchCenter=T(me.pinchGPoints[0].currentPos,me.pinchGPoints[1].currentPos)))}function jt(L,N,G,Z){var et,Kt,nt,En,me=h[L.hash],Re=L.getActivePointersListByType(G.type),Pi=!1;if(typeof N.originalEvent.buttons<"u"?Re.buttons=N.originalEvent.buttons:0===Z?Re.buttons^=-2:1===Z?Re.buttons^=-5:2===Z?Re.buttons^=-3:3===Z?Re.buttons^=-9:4===Z?Re.buttons^=-17:5===Z&&(Re.buttons^=-33),N.shouldCapture=!1,0!==Z)return N.shouldReleaseCapture=!1,void(L.nonPrimaryReleaseHandler&&!N.preventGesture&&!N.defaultPrevented&&(N.preventDefault=!0,L.nonPrimaryReleaseHandler({eventSource:L,pointerType:G.type,position:S(G.currentPos,L.element),button:Z,buttons:Re.buttons,isTouchEvent:"touch"===G.type,originalEvent:N.originalEvent,userData:L.userData})));(nt=Re.getById(G.id))?(Re.removeContact(),nt.captured&&(Pi=!0),nt.lastPos=nt.currentPos,nt.lastTime=nt.currentTime,nt.currentPos=G.currentPos,nt.currentTime=G.currentTime,nt.insideElement||b(L,Re,nt),et=nt.currentPos,Kt=nt.currentTime):(G.captured=!1,G.insideElementPressed=!1,G.insideElement=!0,R(Re,G),nt=G),!N.preventGesture&&!N.defaultPrevented&&(Pi?(N.shouldReleaseCapture=!0,N.preventDefault=!0,(L.dragHandler||L.dragEndHandler||L.pinchHandler)&&l.MouseTracker.gesturePointVelocityTracker.removePoint(L,nt),0===Re.contacts?(L.releaseHandler&&et&&L.releaseHandler({eventSource:L,pointerType:nt.type,position:S(et,L.element),buttons:Re.buttons,insideElementPressed:nt.insideElementPressed,insideElementReleased:nt.insideElement,isTouchEvent:"touch"===nt.type,originalEvent:N.originalEvent,userData:L.userData}),L.dragEndHandler&&me.sentDragEvent&&L.dragEndHandler({eventSource:L,pointerType:nt.type,position:S(nt.currentPos,L.element),speed:nt.speed,direction:nt.direction,shift:N.originalEvent.shiftKey,isTouchEvent:"touch"===nt.type,originalEvent:N.originalEvent,userData:L.userData}),me.sentDragEvent=!1,(L.clickHandler||L.dblClickHandler)&&nt.insideElement&&(En=Kt-nt.contactTime<=L.clickTimeThreshold&&nt.contactPos.distanceTo(et)<=L.clickDistThreshold,L.clickHandler&&L.clickHandler({eventSource:L,pointerType:nt.type,position:S(nt.currentPos,L.element),quick:En,shift:N.originalEvent.shiftKey,isTouchEvent:"touch"===nt.type,originalEvent:N.originalEvent,originalTarget:nt.originalTarget,userData:L.userData}),L.dblClickHandler&&En&&(Re.clicks++,1===Re.clicks?(me.lastClickPos=et,me.dblClickTimeOut=setTimeout(function(){Re.clicks=0},L.dblClickTimeThreshold)):2===Re.clicks&&(clearTimeout(me.dblClickTimeOut),Re.clicks=0,me.lastClickPos.distanceTo(et)<=L.dblClickDistThreshold&&L.dblClickHandler({eventSource:L,pointerType:nt.type,position:S(nt.currentPos,L.element),shift:N.originalEvent.shiftKey,isTouchEvent:"touch"===nt.type,originalEvent:N.originalEvent,userData:L.userData}),me.lastClickPos=null)))):2===Re.contacts&&L.pinchHandler&&"touch"===nt.type&&(me.pinchGPoints=Re.asArray(),me.lastPinchDist=me.currentPinchDist=me.pinchGPoints[0].currentPos.distanceTo(me.pinchGPoints[1].currentPos),me.lastPinchCenter=me.currentPinchCenter=T(me.pinchGPoints[0].currentPos,me.pinchGPoints[1].currentPos))):(N.shouldReleaseCapture=!1,L.releaseHandler&&et&&(L.releaseHandler({eventSource:L,pointerType:nt.type,position:S(et,L.element),buttons:Re.buttons,insideElementPressed:nt.insideElementPressed,insideElementReleased:nt.insideElement,isTouchEvent:"touch"===nt.type,originalEvent:N.originalEvent,userData:L.userData}),N.preventDefault=!0)))}function ht(L,N,G){var Re,et,Kt,Z=h[L.hash],me=L.getActivePointersListByType(G.type);typeof N.originalEvent.buttons<"u"&&(me.buttons=N.originalEvent.buttons),(Re=me.getById(G.id))&&(Re.lastPos=Re.currentPos,Re.lastTime=Re.currentTime,Re.currentPos=G.currentPos,Re.currentTime=G.currentTime,N.shouldCapture=!1,N.shouldReleaseCapture=!1,L.stopHandler&&"mouse"===G.type&&(clearTimeout(L.stopTimeOut),L.stopTimeOut=setTimeout(function(){!function Ut(L,N,G){L.stopHandler&&L.stopHandler({eventSource:L,pointerType:G,position:A(N,L.element),buttons:L.getActivePointersListByType(G).buttons,isTouchEvent:"touch"===G,originalEvent:N,userData:L.userData})}(L,N.originalEvent,G.type)},L.stopDelay)),0===me.contacts?L.moveHandler&&L.moveHandler({eventSource:L,pointerType:G.type,position:S(G.currentPos,L.element),buttons:me.buttons,isTouchEvent:"touch"===G.type,originalEvent:N.originalEvent,userData:L.userData}):1===me.contacts?(L.moveHandler&&(Re=me.asArray()[0],L.moveHandler({eventSource:L,pointerType:Re.type,position:S(Re.currentPos,L.element),buttons:me.buttons,isTouchEvent:"touch"===Re.type,originalEvent:N.originalEvent,userData:L.userData})),L.dragHandler&&!N.preventGesture&&!N.defaultPrevented&&(Kt=(Re=me.asArray()[0]).currentPos.minus(Re.lastPos),L.dragHandler({eventSource:L,pointerType:Re.type,position:S(Re.currentPos,L.element),buttons:me.buttons,delta:Kt,speed:Re.speed,direction:Re.direction,shift:N.originalEvent.shiftKey,isTouchEvent:"touch"===Re.type,originalEvent:N.originalEvent,userData:L.userData}),N.preventDefault=!0,Z.sentDragEvent=!0)):2===me.contacts&&(L.moveHandler&&(et=me.asArray(),L.moveHandler({eventSource:L,pointerType:et[0].type,position:S(T(et[0].currentPos,et[1].currentPos),L.element),buttons:me.buttons,isTouchEvent:"touch"===et[0].type,originalEvent:N.originalEvent,userData:L.userData})),L.pinchHandler&&"touch"===G.type&&!N.preventGesture&&!N.defaultPrevented&&(Kt=Z.pinchGPoints[0].currentPos.distanceTo(Z.pinchGPoints[1].currentPos))!==Z.currentPinchDist&&(Z.lastPinchDist=Z.currentPinchDist,Z.currentPinchDist=Kt,Z.lastPinchCenter=Z.currentPinchCenter,Z.currentPinchCenter=T(Z.pinchGPoints[0].currentPos,Z.pinchGPoints[1].currentPos),L.pinchHandler({eventSource:L,pointerType:"touch",gesturePoints:Z.pinchGPoints,lastCenter:S(Z.lastPinchCenter,L.element),center:S(Z.currentPinchCenter,L.element),lastDistance:Z.lastPinchDist,distance:Z.currentPinchDist,shift:N.originalEvent.shiftKey,originalEvent:N.originalEvent,userData:L.userData}),N.preventDefault=!0)))}function en(L,N,G){var me,Z=L.getActivePointersListByType(G.type);(me=Z.getById(G.id))&&b(L,Z,me)}l.MouseTracker.gesturePointVelocityTracker=function(){var L=[],N=0,G=0,Z=function(Kt,nt){return Kt.hash.toString()+nt.type+nt.id.toString()},me=function(){var Kt,Pi,En,ad,xa,nt=L.length,Or=l.now();for(ad=Or-G,G=Or,Kt=0;Kt<nt;Kt++)(En=(Pi=L[Kt]).gPoint).direction=Math.atan2(En.currentPos.y-Pi.lastPos.y,En.currentPos.x-Pi.lastPos.x),xa=Pi.lastPos.distanceTo(En.currentPos),Pi.lastPos=En.currentPos,En.speed=1e3*xa/(ad+1)*.75+.25*En.speed};return{addPoint:function(Kt,nt){var Pi=Z(Kt,nt);L.push({guid:Pi,gPoint:nt,lastPos:nt.currentPos}),1===L.length&&(G=l.now(),N=window.setInterval(me,50))},removePoint:function(Kt,nt){var En,Pi=Z(Kt,nt),Or=L.length;for(En=0;En<Or;En++)if(L[En].guid===Pi){L.splice(En,1),0===--Or&&window.clearInterval(N);break}}}}(),l.MouseTracker.captureElement=document,l.MouseTracker.wheelEventName="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",l.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",l.MouseTracker.wheelEventName],"DOMMouseScroll"===l.MouseTracker.wheelEventName&&l.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(l.MouseTracker.havePointerEvents=!0,l.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),l.MouseTracker.havePointerCapture=(L=document.createElement("div"),l.isFunction(L.setPointerCapture)&&l.isFunction(L.releasePointerCapture)),l.MouseTracker.havePointerCapture&&l.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(l.MouseTracker.havePointerEvents=!1,l.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),l.MouseTracker.mousePointerId="legacy-mouse",l.MouseTracker.havePointerCapture=function(){var L=document.createElement("div");return l.isFunction(L.setCapture)&&l.isFunction(L.releaseCapture)}(),l.MouseTracker.havePointerCapture&&l.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&l.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&l.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),l.MouseTracker.GesturePointList=function(L){this._gPoints=[],this.type=L,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},l.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(L){return this._gPoints.push(L)},removeById:function(L){var N,G=this._gPoints.length;for(N=0;N<G;N++)if(this._gPoints[N].id===L){this._gPoints.splice(N,1);break}return this._gPoints.length},getByIndex:function(L){return L<this._gPoints.length?this._gPoints[L]:null},getById:function(L){var N,G=this._gPoints.length;for(N=0;N<G;N++)if(this._gPoints[N].id===L)return this._gPoints[N];return null},getPrimary:function(L){var N,G=this._gPoints.length;for(N=0;N<G;N++)if(this._gPoints[N].isPrimary)return this._gPoints[N];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(l.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}}}(U),function(l){l.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},l.Control=function(d,h,c){var f=d.parentNode;"number"==typeof h&&(l.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),h={anchor:h}),h.attachToViewer=typeof h.attachToViewer>"u"||h.attachToViewer,this.autoFade=typeof h.autoFade>"u"||h.autoFade,this.element=d,this.anchor=h.anchor,this.container=c,this.anchor===l.ControlAnchor.ABSOLUTE?(this.wrapper=l.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof h.top?h.top+"px":h.top,this.wrapper.style.left="number"==typeof h.left?h.left+"px":h.left,this.wrapper.style.height="number"==typeof h.height?h.height+"px":h.height,this.wrapper.style.width="number"==typeof h.width?h.width+"px":h.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=l.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===l.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),h.attachToViewer?this.anchor===l.ControlAnchor.TOP_RIGHT||this.anchor===l.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):f.appendChild(this.wrapper)},l.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==l.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!==this.wrapper.style.display},setVisible:function(d){this.wrapper.style.display=d?this.anchor===l.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(d){l.setElementOpacity(this.wrapper,d,!0)}}}(U),function(l){function d(h,c){var m,f=h.controls;for(m=f.length-1;m>=0;m--)if(f[m].element===c)return m;return-1}l.ControlDock=function(h){var f,m,c=["topleft","topright","bottomright","bottomleft"];for(l.extend(!0,this,{id:"controldock-"+l.now()+"-"+Math.floor(1e6*Math.random()),container:l.makeNeutralElement("div"),controls:[]},h),this.container.onsubmit=function(){return!1},this.element&&(this.element=l.getElement(this.element),this.element.appendChild(this.container),"static"===l.getElementStyle(this.element).position&&(this.element.style.position="relative"),this.container.style.width="100%",this.container.style.height="100%"),m=0;m<c.length;m++)this.controls[f=c[m]]=l.makeNeutralElement("div"),this.controls[f].style.position="absolute",f.match("left")&&(this.controls[f].style.left="0px"),f.match("right")&&(this.controls[f].style.right="0px"),f.match("top")&&(this.controls[f].style.top="0px"),f.match("bottom")&&(this.controls[f].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},l.ControlDock.prototype={addControl:function(h,c){var f=null;if(!(d(this,h=l.getElement(h))>=0)){switch(c.anchor){case l.ControlAnchor.TOP_RIGHT:f=this.controls.topright,h.style.position="relative",h.style.paddingRight="0px",h.style.paddingTop="0px";break;case l.ControlAnchor.BOTTOM_RIGHT:f=this.controls.bottomright,h.style.position="relative",h.style.paddingRight="0px",h.style.paddingBottom="0px";break;case l.ControlAnchor.BOTTOM_LEFT:f=this.controls.bottomleft,h.style.position="relative",h.style.paddingLeft="0px",h.style.paddingBottom="0px";break;case l.ControlAnchor.TOP_LEFT:f=this.controls.topleft,h.style.position="relative",h.style.paddingLeft="0px",h.style.paddingTop="0px";break;default:f=this.container,h.style.margin="0px",h.style.padding="0px"}this.controls.push(new l.Control(h,c,f)),h.style.display="inline-block"}},removeControl:function(h){var c=d(this,h=l.getElement(h));return c>=0&&(this.controls[c].destroy(),this.controls.splice(c,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var h;for(h=this.controls.length-1;h>=0;h--)if(this.controls[h].isVisible())return!0;return!1},setControlsEnabled:function(h){var c;for(c=this.controls.length-1;c>=0;c--)this.controls[c].setVisible(h);return this}}}(U),function(l){l.Placement=l.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(U),function(l){var d={},h=1;function c(b){return b=l.getElement(b),new l.Point(0===b.clientWidth?1:b.clientWidth,0===b.clientHeight?1:b.clientHeight)}function m(b,P){if(P instanceof l.Overlay)return P;var Y=null;if(P.element)Y=l.getElement(P.element);else{var re=P.id?P.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(Y=l.getElement(P.id))||((Y=document.createElement("a")).href="#/overlay/"+re),Y.id=re,l.addClass(Y,P.className?P.className:"openseadragon-overlay")}var de=P.location,ke=P.width,_e=P.height;if(!de){var We=P.x,Ke=P.y;if(void 0!==P.px){var jt=b.viewport.imageToViewportRectangle(new l.Rect(P.px,P.py,ke||0,_e||0));We=jt.x,Ke=jt.y,ke=void 0!==ke?jt.width:void 0,_e=void 0!==_e?jt.height:void 0}de=new l.Point(We,Ke)}var ht=P.placement;return ht&&"string"===l.type(ht)&&(ht=l.Placement[P.placement.toUpperCase()]),new l.Overlay({element:Y,location:de,placement:ht,onDraw:P.onDraw,checkResize:P.checkResize,width:ke,height:_e,rotationMode:P.rotationMode})}function g(b,P){var Y;for(Y=b.length-1;Y>=0;Y--)if(b[Y].element===P)return Y;return-1}function _(b,P){return l.requestAnimationFrame(function(){P(b)})}function v(b){l.requestAnimationFrame(function(){!function C(b){var re,de;if(b.controlsShouldFade){for(re=1-(l.now()-b.controlsFadeBeginTime)/b.controlsFadeLength,re=Math.min(1,re),re=Math.max(0,re),de=b.controls.length-1;de>=0;de--)b.controls[de].autoFade&&b.controls[de].setOpacity(re);re>0&&v(b)}}(b)})}function w(b){b.autoHideControls&&(b.controlsShouldFade=!0,b.controlsFadeBeginTime=l.now()+b.controlsFadeDelay,window.setTimeout(function(){v(b)},b.controlsFadeDelay))}function D(b){var P;for(b.controlsShouldFade=!1,P=b.controls.length-1;P>=0;P--)b.controls[P].setOpacity(1)}function M(){D(this)}function H(){w(this)}function O(b){var P={tracker:b.eventSource,position:b.position,originalEvent:b.originalEvent,preventDefault:b.preventDefault};this.raiseEvent("canvas-contextmenu",P),b.preventDefault=P.preventDefault}function A(b){var P={originalEvent:b.originalEvent,preventDefaultAction:!1,preventVerticalPan:b.preventVerticalPan||!this.panVertical,preventHorizontalPan:b.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",P),P.preventDefaultAction||b.ctrl||b.alt||b.meta)b.preventDefault=!1;else switch(b.keyCode){case 38:P.preventVerticalPan||(b.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),b.preventDefault=!0;break;case 40:P.preventVerticalPan||(b.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),b.preventDefault=!0;break;case 37:P.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),b.preventDefault=!0;break;case 39:P.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),b.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),b.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),b.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),b.preventDefault=!0;break;case 87:P.preventVerticalPan||(b.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(0,-40))),this.viewport.applyConstraints()),b.preventDefault=!0;break;case 83:P.preventVerticalPan||(b.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(0,40))),this.viewport.applyConstraints()),b.preventDefault=!0;break;case 65:P.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(-40,0))),this.viewport.applyConstraints()),b.preventDefault=!0;break;case 68:P.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(40,0))),this.viewport.applyConstraints()),b.preventDefault=!0;break;case 82:this.viewport.setRotation(b.shift?this.viewport.flipped?this.viewport.getRotation()+this.rotationIncrement:this.viewport.getRotation()-this.rotationIncrement:this.viewport.flipped?this.viewport.getRotation()-this.rotationIncrement:this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),b.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),b.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:b.preventDefault=!1}}function S(b){this.raiseEvent("canvas-key-press",{originalEvent:b.originalEvent})}function T(b){var P;document.activeElement===this.canvas||this.canvas.focus(),this.viewport.flipped&&(b.position.x=this.viewport.getContainerSize().x-b.position.x);var re={tracker:b.eventSource,position:b.position,quick:b.quick,shift:b.shift,originalEvent:b.originalEvent,originalTarget:b.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",re),!re.preventDefaultAction&&this.viewport&&b.quick&&(!0===(P=this.gestureSettingsByDeviceType(b.pointerType)).clickToZoom&&(this.viewport.zoomBy(b.shift?1/this.zoomPerClick:this.zoomPerClick,P.zoomToRefPoint?this.viewport.pointFromPixel(b.position,!0):null),this.viewport.applyConstraints()),P.dblClickDragToZoom&&(!0===d[this.hash].draggingToZoom?(d[this.hash].lastClickTime=null,d[this.hash].draggingToZoom=!1):d[this.hash].lastClickTime=l.now()))}function k(b){var P,Y={tracker:b.eventSource,position:b.position,shift:b.shift,originalEvent:b.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",Y),!Y.preventDefaultAction&&this.viewport&&(P=this.gestureSettingsByDeviceType(b.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(b.shift?1/this.zoomPerClick:this.zoomPerClick,P.zoomToRefPoint?this.viewport.pointFromPixel(b.position,!0):null),this.viewport.applyConstraints())}function j(b){var P,Y={tracker:b.eventSource,pointerType:b.pointerType,position:b.position,delta:b.delta,speed:b.speed,direction:b.direction,shift:b.shift,originalEvent:b.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",Y),P=this.gestureSettingsByDeviceType(b.pointerType),!Y.preventDefaultAction&&this.viewport)if(P.dblClickDragToZoom&&d[this.hash].draggingToZoom){var re=Math.pow(this.zoomPerDblClickDrag,b.delta.y/50);this.viewport.zoomBy(re)}else if(P.dragToPan&&!d[this.hash].draggingToZoom){if(this.panHorizontal||(b.delta.x=0),this.panVertical||(b.delta.y=0),this.viewport.flipped&&(b.delta.x=-b.delta.x),this.constrainDuringPan){var de=this.viewport.deltaPointsFromPixels(b.delta.negate());this.viewport.centerSpringX.target.value+=de.x,this.viewport.centerSpringY.target.value+=de.y;var ke=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=de.x,this.viewport.centerSpringY.target.value-=de.y,ke.xConstrained&&(b.delta.x=0),ke.yConstrained&&(b.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(b.delta.negate()),P.flickEnabled&&!this.constrainDuringPan)}}function ne(b){var P,Y={tracker:b.eventSource,pointerType:b.pointerType,position:b.position,speed:b.speed,direction:b.direction,shift:b.shift,originalEvent:b.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",Y),P=this.gestureSettingsByDeviceType(b.pointerType),!Y.preventDefaultAction&&this.viewport){if(!d[this.hash].draggingToZoom&&P.dragToPan&&P.flickEnabled&&b.speed>=P.flickMinSpeed){var re=0;this.panHorizontal&&(re=P.flickMomentum*b.speed*Math.cos(b.direction));var de=0;this.panVertical&&(de=P.flickMomentum*b.speed*Math.sin(b.direction));var ke=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),_e=this.viewport.pointFromPixel(new l.Point(ke.x-re,ke.y-de));this.viewport.panTo(_e,!1)}this.viewport.applyConstraints()}P.dblClickDragToZoom&&!0===d[this.hash].draggingToZoom&&(d[this.hash].draggingToZoom=!1)}function V(b){this.raiseEvent("canvas-enter",{tracker:b.eventSource,pointerType:b.pointerType,position:b.position,buttons:b.buttons,pointers:b.pointers,insideElementPressed:b.insideElementPressed,buttonDownAny:b.buttonDownAny,originalEvent:b.originalEvent})}function ae(b){this.raiseEvent("canvas-exit",{tracker:b.eventSource,pointerType:b.pointerType,position:b.position,buttons:b.buttons,pointers:b.pointers,insideElementPressed:b.insideElementPressed,buttonDownAny:b.buttonDownAny,originalEvent:b.originalEvent})}function J(b){if(this.raiseEvent("canvas-press",{tracker:b.eventSource,pointerType:b.pointerType,position:b.position,insideElementPressed:b.insideElementPressed,insideElementReleased:b.insideElementReleased,originalEvent:b.originalEvent}),this.gestureSettingsByDeviceType(b.pointerType).dblClickDragToZoom){var Y=d[this.hash].lastClickTime,re=l.now();if(null===Y)return;re-Y<this.dblClickTimeThreshold&&(d[this.hash].draggingToZoom=!0),d[this.hash].lastClickTime=null}}function ce(b){this.raiseEvent("canvas-release",{tracker:b.eventSource,pointerType:b.pointerType,position:b.position,insideElementPressed:b.insideElementPressed,insideElementReleased:b.insideElementReleased,originalEvent:b.originalEvent})}function ge(b){this.raiseEvent("canvas-nonprimary-press",{tracker:b.eventSource,position:b.position,pointerType:b.pointerType,button:b.button,buttons:b.buttons,originalEvent:b.originalEvent})}function we(b){this.raiseEvent("canvas-nonprimary-release",{tracker:b.eventSource,position:b.position,pointerType:b.pointerType,button:b.button,buttons:b.buttons,originalEvent:b.originalEvent})}function He(b){var P,Y,de,ke={tracker:b.eventSource,pointerType:b.pointerType,gesturePoints:b.gesturePoints,lastCenter:b.lastCenter,center:b.center,lastDistance:b.lastDistance,distance:b.distance,shift:b.shift,originalEvent:b.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",ke),this.viewport&&((P=this.gestureSettingsByDeviceType(b.pointerType)).pinchToZoom&&(!ke.preventDefaultPanAction||!ke.preventDefaultZoomAction)&&(Y=this.viewport.pointFromPixel(b.center,!0),P.zoomToRefPoint&&!ke.preventDefaultPanAction&&(de=this.viewport.pointFromPixel(b.lastCenter,!0).minus(Y),this.panHorizontal||(de.x=0),this.panVertical||(de.y=0),this.viewport.panBy(de,!0)),ke.preventDefaultZoomAction||this.viewport.zoomBy(b.distance/b.lastDistance,Y,!0),this.viewport.applyConstraints()),P.pinchRotate&&!ke.preventDefaultRotateAction)){var _e=Math.atan2(b.gesturePoints[0].currentPos.y-b.gesturePoints[1].currentPos.y,b.gesturePoints[0].currentPos.x-b.gesturePoints[1].currentPos.x),We=Math.atan2(b.gesturePoints[0].lastPos.y-b.gesturePoints[1].lastPos.y,b.gesturePoints[0].lastPos.x-b.gesturePoints[1].lastPos.x);Y=this.viewport.pointFromPixel(b.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(_e-We)*(180/Math.PI),Y,!0)}}function Qe(b){this.raiseEvent("canvas-focus",{tracker:b.eventSource,originalEvent:b.originalEvent})}function Fe(b){this.raiseEvent("canvas-blur",{tracker:b.eventSource,originalEvent:b.originalEvent})}function Pt(b){var P,Y,re,de;(de=l.now())-this._lastScrollTime>this.minScrollDeltaTime?(this._lastScrollTime=de,this.raiseEvent("canvas-scroll",P={tracker:b.eventSource,position:b.position,scroll:b.scroll,shift:b.shift,originalEvent:b.originalEvent,preventDefaultAction:!1,preventDefault:!0}),!P.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(b.position.x=this.viewport.getContainerSize().x-b.position.x),(Y=this.gestureSettingsByDeviceType(b.pointerType)).scrollToZoom&&(re=Math.pow(this.zoomPerScroll,b.scroll),this.viewport.zoomBy(re,Y.zoomToRefPoint?this.viewport.pointFromPixel(b.position,!0):null),this.viewport.applyConstraints())),b.preventDefault=P.preventDefault):b.preventDefault=!0}function at(b){d[this.hash].mouseInside=!0,D(this),this.raiseEvent("container-enter",{tracker:b.eventSource,pointerType:b.pointerType,position:b.position,buttons:b.buttons,pointers:b.pointers,insideElementPressed:b.insideElementPressed,buttonDownAny:b.buttonDownAny,originalEvent:b.originalEvent})}function on(b){b.pointers<1&&(d[this.hash].mouseInside=!1,d[this.hash].animating||w(this)),this.raiseEvent("container-exit",{tracker:b.eventSource,pointerType:b.pointerType,position:b.position,buttons:b.buttons,pointers:b.pointers,insideElementPressed:b.insideElementPressed,buttonDownAny:b.buttonDownAny,originalEvent:b.originalEvent})}function Dt(b){(function Oi(b){if(!b._opening&&d[b.hash]){var P;if(b.autoResize||d[b.hash].forceResize)b._autoResizePolling&&((P=c(b.container)).equals(d[b.hash].prevContainerSize)||(d[b.hash].needsResize=!0)),d[b.hash].needsResize&&function zt(b,P){var ke,Y=b.viewport,re=Y.getZoom(),de=Y.getCenter();if(Y.resize(P,b.preserveImageSizeOnResize),Y.panTo(de,!0),b.preserveImageSizeOnResize)ke=d[b.hash].prevContainerSize.x/P.x;else{var _e=new l.Point(0,0),We=new l.Point(d[b.hash].prevContainerSize.x,d[b.hash].prevContainerSize.y).distanceTo(_e);ke=new l.Point(P.x,P.y).distanceTo(_e)/We*d[b.hash].prevContainerSize.x/P.x}Y.zoomTo(re*ke,null,!0),d[b.hash].prevContainerSize=P,d[b.hash].forceRedraw=!0,d[b.hash].needsResize=!1,d[b.hash].forceResize=!1}(b,P||c(b.container));var re=b.viewport.update(),de=b.world.update(re)||re;re&&b.raiseEvent("viewport-change"),b.referenceStrip&&(de=b.referenceStrip.update(b.viewport)||de);var ke=d[b.hash].animating;!ke&&de&&(b.raiseEvent("animation-start"),D(b));var _e=ke&&!de;_e&&(d[b.hash].animating=!1),(de||_e||d[b.hash].forceRedraw||b.world.needsDraw())&&(function si(b){b.imageLoader.clear(),b.world.draw(),b.raiseEvent("update-viewport",{})}(b),b._drawOverlays(),b.navigator&&b.navigator.update(b.viewport),d[b.hash].forceRedraw=!1,de&&b.raiseEvent("animation")),_e&&(b.raiseEvent("animation-finish"),d[b.hash].mouseInside||w(b)),d[b.hash].animating=de}})(b),b._updateRequestId=!!b.isOpen()&&_(b,Dt)}function yt(b,P){return b?b+P:P}function Wr(){d[this.hash].lastZoomTime=l.now(),d[this.hash].zoomFactor=this.zoomPerSecond,d[this.hash].zooming=!0,ye(this)}function X(){d[this.hash].lastZoomTime=l.now(),d[this.hash].zoomFactor=1/this.zoomPerSecond,d[this.hash].zooming=!0,ye(this)}function z(){d[this.hash].zooming=!1}function ye(b){l.requestAnimationFrame(l.delegate(b,le))}function le(){var b,Y;d[this.hash].zooming&&this.viewport&&(b=l.now(),Y=Math.pow(d[this.hash].zoomFactor,(b-d[this.hash].lastZoomTime)/1e3),this.viewport.zoomBy(Y),this.viewport.applyConstraints(),d[this.hash].lastZoomTime=b,ye(this))}function Nt(){this.viewport&&(d[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function sn(){this.viewport&&(d[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Bt(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function fn(){this.viewport&&this.viewport.goHome()}function In(){this.isFullPage()&&!l.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function q(){if(this.viewport){var b=this.viewport.getRotation();this.viewport.flipped?b+=this.rotationIncrement:b-=this.rotationIncrement,this.viewport.setRotation(b)}}function I(){if(this.viewport){var b=this.viewport.getRotation();this.viewport.flipped?b-=this.rotationIncrement:b+=this.rotationIncrement,this.viewport.setRotation(b)}}function R(){this.viewport.toggleFlip()}l.Viewer=function(b){var re,_e,P=arguments,Y=this;if(l.isPlainObject(b)||(b={id:P[0],xmlPath:P.length>1?P[1]:void 0,prefixUrl:P.length>2?P[2]:void 0,controls:P.length>3?P[3]:void 0,overlays:P.length>4?P[4]:void 0}),b.config&&(l.extend(!0,b,b.config),delete b.config),b.drawerOptions=Object.assign({},["useCanvas"].reduce((_e,We)=>(_e[We]=b[We],delete b[We],_e),{}),b.drawerOptions),l.extend(!0,this,{id:b.id,hash:b.hash||h++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},l.DEFAULT_SETTINGS,b),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");typeof d[this.hash]<"u"&&l.console.warn("Hash "+this.hash+" has already been used."),d[this.hash]={fsBoundsDelta:new l.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=l.now(),l.EventSource.call(this),this.addHandler("open-failed",function(_e){var We=l.getString("Errors.OpenFailed",_e.eventSource,_e.message);Y._showMessage(We)}),l.ControlDock.call(this,b),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=l.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(_e=this.canvas.style).width="100%",_e.height="100%",_e.overflow="hidden",_e.position="absolute",_e.top="0px",_e.left="0px",l.setElementTouchActionNone(this.canvas),""!==b.tabIndex&&(this.canvas.tabIndex=void 0===b.tabIndex?0:b.tabIndex),this.container.className="openseadragon-container",function(_e){_e.width="100%",_e.height="100%",_e.position="relative",_e.overflow="hidden",_e.left="0px",_e.top="0px",_e.textAlign="left"}(this.container.style),l.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new l.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:l.delegate(this,O),keyDownHandler:l.delegate(this,A),keyHandler:l.delegate(this,S),clickHandler:l.delegate(this,T),dblClickHandler:l.delegate(this,k),dragHandler:l.delegate(this,j),dragEndHandler:l.delegate(this,ne),enterHandler:l.delegate(this,V),leaveHandler:l.delegate(this,ae),pressHandler:l.delegate(this,J),releaseHandler:l.delegate(this,ce),nonPrimaryPressHandler:l.delegate(this,ge),nonPrimaryReleaseHandler:l.delegate(this,we),scrollHandler:l.delegate(this,Pt),pinchHandler:l.delegate(this,He),focusHandler:l.delegate(this,Qe),blurHandler:l.delegate(this,Fe)}),this.outerTracker=new l.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:l.delegate(this,at),leaveHandler:l.delegate(this,on)}),this.toolbar&&(this.toolbar=new l.ControlDock({element:this.toolbar})),this.bindStandardControls(),d[this.hash].prevContainerSize=c(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){d[Y.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new l.World({viewer:this}),this.world.addHandler("add-item",function(_e){Y.source=Y.world.getItemAt(0).source,d[Y.hash].forceRedraw=!0,Y._updateRequestId||(Y._updateRequestId=_(Y,Dt))}),this.world.addHandler("remove-item",function(_e){Y.source=Y.world.getItemCount()?Y.world.getItemAt(0).source:null,d[Y.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(_e){Y.viewport&&Y.viewport._setContentBounds(Y.world.getHomeBounds(),Y.world.getContentFactor())}),this.world.addHandler("item-index-change",function(_e){Y.source=Y.world.getItemAt(0).source}),this.viewport=new l.Viewport({containerSize:d[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,overlayPreserveContentDirection:this.overlayPreserveContentDirection,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new l.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:b.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new l.TileCache({maxImageCacheCount:this.maxImageCacheCount}),Object.prototype.hasOwnProperty.call(this.drawerOptions,"useCanvas")&&(l.console.error('useCanvas is deprecated, use the "drawer" option to indicate preferred drawer(s)'),this.drawerOptions.useCanvas||(this.drawer=l.HTMLDrawer),delete this.drawerOptions.useCanvas);let ke=Array.isArray(this.drawer)?this.drawer:[this.drawer];0===ke.length&&(ke=[l.DEFAULT_SETTINGS.drawer].flat(),l.console.warn("No valid drawers were selected. Using the default value.")),this.drawer=null;for(const _e of ke)if(this.requestDrawer(_e,{mainDrawer:!0,redrawImmediately:!1}))break;if(!this.drawer)throw l.console.error("No drawer could be created!"),"Error with creating the selected drawer(s)";for(this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),this.overlaysContainer=l.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(re=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(re,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(re=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(re,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new l.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime,drawer:this.drawer.getType(),loadTilesWithAjax:this.loadTilesWithAjax,ajaxHeaders:this.ajaxHeaders,ajaxWithCredentials:this.ajaxWithCredentials})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),re=0;re<this.customControls.length;re++)this.addControl(this.customControls[re].id,{anchor:this.customControls[re].anchor});l.requestAnimationFrame(function(){w(Y)}),l._viewers.set(this.element,this)},l.extend(l.Viewer.prototype,l.EventSource.prototype,l.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(b){return l.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(b)},openTileSource:function(b){return l.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(b)},get buttons(){return l.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(b,P){var Y=this;if(this.close(),!b)return this;if(this.sequenceMode&&l.isArray(b))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof P<"u"&&!isNaN(P)&&(this.initialPage=P),this.tileSources=b,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(l.isArray(b)||(b=[b]),!b.length)return this;this._opening=!0;for(var _e,re=b.length,de=0,ke=0,We=function(){if(de+ke===re)if(de){(Y._firstOpen||!Y.preserveViewport)&&(Y.viewport.goHome(!0),Y.viewport.update()),Y._firstOpen=!1;var ht=b[0];if(ht.tileSource&&(ht=ht.tileSource),Y.overlays&&!Y.preserveOverlays)for(var en=0;en<Y.overlays.length;en++)Y.currentOverlays[en]=m(Y,Y.overlays[en]);Y._drawOverlays(),Y._opening=!1,Y.raiseEvent("open",{source:ht})}else Y._opening=!1,Y.raiseEvent("open-failed",_e)},Ke=function(ht){(!l.isPlainObject(ht)||!ht.tileSource)&&(ht={tileSource:ht}),void 0!==ht.index&&(l.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete ht.index),void 0===ht.collectionImmediately&&(ht.collectionImmediately=!0);var en=ht.success;ht.success=function(L){if(de++,ht.tileSource.overlays)for(var N=0;N<ht.tileSource.overlays.length;N++)Y.addOverlay(ht.tileSource.overlays[N]);en&&en(L),We()};var Ut=ht.error;ht.error=function(L){ke++,_e||(_e=L),Ut&&Ut(L),We()},Y.addTiledImage(ht)},jt=0;jt<b.length;jt++)Ke(b[jt]);return this},close:function(){return d[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),d[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(d[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(l.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),d[this.navigator.hash]=null,delete d[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),d[this.hash]=null,delete d[this.hash],this.canvas=null,this.container=null,l._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},requestDrawer(b,P){const re=(P=l.extend(!0,{mainDrawer:!0,redrawImmediately:!0,drawerOptions:null},P)).mainDrawer,de=P.redrawImmediately,ke=P.drawerOptions,_e=this.drawer;let We=null;if(b&&b.prototype instanceof l.DrawerBase?(We=b,b="custom"):"string"==typeof b&&(We=l.determineDrawer(b)),We||l.console.warn("Unsupported drawer! Drawer must be an existing string type, or a class that extends OpenSeadragon.DrawerBase."),We&&We.isSupported()){_e&&re&&_e.destroy();const Ke=new We({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor,options:ke||this.drawerOptions[b]});return re&&(this.drawer=Ke,de&&this.forceRedraw()),Ke}return!1},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(b){return this.innerTracker.setTracking(b),this.outerTracker.setTracking(b),this.raiseEvent("mouse-enabled",{enabled:b}),this},areControlsEnabled:function(){var P,b=this.controls.length;for(P=0;P<this.controls.length;P++)b=b&&this.controls[P].isVisible();return b},setControlsEnabled:function(b){return b?D(this):w(this),this.raiseEvent("controls-enabled",{enabled:b}),this},setDebugMode:function(b){for(var P=0;P<this.world.getItemCount();P++)this.world.getItemAt(P).debugMode=b;this.debugMode=b,this.forceRedraw()},setAjaxHeaders:function(b,P){if(null===b&&(b={}),l.isPlainObject(b)){if(void 0===P&&(P=!0),this.ajaxHeaders=b,P){for(var Y=0;Y<this.world.getItemCount();Y++)this.world.getItemAt(Y)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var re in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[re].setAjaxHeaders(this.ajaxHeaders,!0)}}else console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},addButton:function(b){this.buttonGroup.addButton(b)},isFullPage:function(){return d[this.hash]&&d[this.hash].fullPage},setFullPage:function(b){var ke,_e,P=document.body,Y=P.style,re=document.documentElement.style,de=this;if(b===this.isFullPage())return this;var We={fullPage:b,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",We),We.preventDefaultAction)return this;if(b&&this.element){for(this.elementSize=l.getElementSize(this.element),this.pageScroll=l.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=Y.margin,this.docMargin=re.margin,Y.margin="0",re.margin="0",this.bodyPadding=Y.padding,this.docPadding=re.padding,Y.padding="0",re.padding="0",this.bodyWidth=Y.width,this.docWidth=re.width,Y.width="100%",re.width="100%",this.bodyHeight=Y.height,this.docHeight=re.height,Y.height="100%",re.height="100%",this.bodyDisplay=Y.display,Y.display="block",this.previousBody=[],d[this.hash].prevElementParent=this.element.parentNode,d[this.hash].prevNextSibling=this.element.nextSibling,d[this.hash].prevElementWidth=this.element.style.width,d[this.hash].prevElementHeight=this.element.style.height,ke=P.childNodes.length,_e=0;_e<ke;_e++)this.previousBody.push(P.childNodes[0]),P.removeChild(P.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,P.appendChild(this.toolbar.element),l.addClass(this.toolbar.element,"fullpage")),l.addClass(this.element,"fullpage"),P.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=l.getElementSize(this.element).y-l.getElementSize(this.toolbar.element).y+"px"),d[this.hash].fullPage=!0,l.delegate(this,at)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,Y.margin=this.bodyMargin,re.margin=this.docMargin,Y.padding=this.bodyPadding,re.padding=this.docPadding,Y.width=this.bodyWidth,re.width=this.docWidth,Y.height=this.bodyHeight,re.height=this.docHeight,Y.display=this.bodyDisplay,P.removeChild(this.element),ke=this.previousBody.length,_e=0;_e<ke;_e++)P.appendChild(this.previousBody.shift());l.removeClass(this.element,"fullpage"),d[this.hash].prevElementParent.insertBefore(this.element,d[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(P.removeChild(this.toolbar.element),l.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=d[this.hash].prevElementWidth,this.element.style.height=d[this.hash].prevElementHeight;var Ke=0,jt=function(){l.setPageScroll(de.pageScroll);var ht=l.getPageScroll();++Ke<10&&(ht.x!==de.pageScroll.x||ht.y!==de.pageScroll.y)&&l.requestAnimationFrame(jt)};l.requestAnimationFrame(jt),d[this.hash].fullPage=!1,l.delegate(this,on)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:b}),this},setFullScreen:function(b){var P=this;if(!l.supportsFullScreen)return this.setFullPage(b);if(l.isFullScreen()===b)return this;var Y={fullScreen:b,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",Y),Y.preventDefaultAction)return this;if(b){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var re=function(){var de=l.isFullScreen();de||(l.removeEvent(document,l.fullScreenEventName,re),l.removeEvent(document,l.fullScreenErrorEventName,re),P.setFullPage(!1),P.isFullPage()&&(P.element.style.width=P.fullPageStyleWidth,P.element.style.height=P.fullPageStyleHeight)),P.navigator&&P.viewport&&setTimeout(function(){P.navigator.update(P.viewport)}),P.raiseEvent("full-screen",{fullScreen:de})};l.addEvent(document,l.fullScreenEventName,re),l.addEvent(document,l.fullScreenErrorEventName,re),l.requestFullScreen(document.body)}else l.exitFullScreen();return this},isVisible:function(){return"hidden"!==this.container.style.visibility},isFullScreen:function(){return l.isFullScreen()&&this.isFullPage()},setVisible:function(b){return this.container.style.visibility=b?"":"hidden",this.raiseEvent("visible",{visible:b}),this},addTiledImage:function(b){l.console.assert(b,"[Viewer.addTiledImage] options is required"),l.console.assert(b.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),l.console.assert(!b.replace||b.index>-1&&b.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var P=this;b.replace&&(b.replaceItem=P.world.getItemAt(b.index)),this._hideMessage(),void 0===b.placeholderFillStyle&&(b.placeholderFillStyle=this.placeholderFillStyle),void 0===b.opacity&&(b.opacity=this.opacity),void 0===b.preload&&(b.preload=this.preload),void 0===b.compositeOperation&&(b.compositeOperation=this.compositeOperation),void 0===b.crossOriginPolicy&&(b.crossOriginPolicy=void 0!==b.tileSource.crossOriginPolicy?b.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===b.ajaxWithCredentials&&(b.ajaxWithCredentials=this.ajaxWithCredentials),void 0===b.loadTilesWithAjax&&(b.loadTilesWithAjax=this.loadTilesWithAjax),l.isPlainObject(b.ajaxHeaders)||(b.ajaxHeaders={});var Y={options:b};function re(_e){for(var We=0;We<P._loadQueue.length;We++)if(P._loadQueue[We]===Y){P._loadQueue.splice(We,1);break}0===P._loadQueue.length&&de(Y),P.raiseEvent("add-item-failed",_e),b.error&&b.error(_e)}function de(_e){P.collectionMode&&(P.world.arrange({immediately:_e.options.collectionImmediately,rows:P.collectionRows,columns:P.collectionColumns,layout:P.collectionLayout,tileSize:P.collectionTileSize,tileMargin:P.collectionTileMargin}),P.world.setAutoRefigureSizes(!0))}function ke(){for(var _e,We,Ke;P._loadQueue.length&&(_e=P._loadQueue[0]).tileSource;){if(P._loadQueue.splice(0,1),_e.options.replace){var jt=P.world.getIndexOfItem(_e.options.replaceItem);-1!==jt&&(_e.options.index=jt),P.world.removeItem(_e.options.replaceItem)}We=new l.TiledImage({viewer:P,source:_e.tileSource,viewport:P.viewport,drawer:P.drawer,tileCache:P.tileCache,imageLoader:P.imageLoader,x:_e.options.x,y:_e.options.y,width:_e.options.width,height:_e.options.height,fitBounds:_e.options.fitBounds,fitBoundsPlacement:_e.options.fitBoundsPlacement,clip:_e.options.clip,placeholderFillStyle:_e.options.placeholderFillStyle,opacity:_e.options.opacity,preload:_e.options.preload,degrees:_e.options.degrees,flipped:_e.options.flipped,compositeOperation:_e.options.compositeOperation,springStiffness:P.springStiffness,animationTime:P.animationTime,minZoomImageRatio:P.minZoomImageRatio,wrapHorizontal:P.wrapHorizontal,wrapVertical:P.wrapVertical,maxTilesPerFrame:P.maxTilesPerFrame,immediateRender:P.immediateRender,blendTime:P.blendTime,alwaysBlend:P.alwaysBlend,minPixelRatio:P.minPixelRatio,smoothTileEdgesMinZoom:P.smoothTileEdgesMinZoom,iOSDevice:P.iOSDevice,crossOriginPolicy:_e.options.crossOriginPolicy,ajaxWithCredentials:_e.options.ajaxWithCredentials,loadTilesWithAjax:_e.options.loadTilesWithAjax,ajaxHeaders:_e.options.ajaxHeaders,debugMode:P.debugMode,subPixelRoundingForTransparency:P.subPixelRoundingForTransparency}),P.collectionMode&&P.world.setAutoRefigureSizes(!1),P.navigator&&(Ke=l.extend({},_e.options,{replace:!1,originalTiledImage:We,tileSource:_e.tileSource}),P.navigator.addTiledImage(Ke)),P.world.addItem(We,{index:_e.options.index}),0===P._loadQueue.length&&de(_e),1===P.world.getItemCount()&&!P.preserveViewport&&P.viewport.goHome(!0),_e.options.success&&_e.options.success({item:We})}}l.isArray(b.tileSource)?setTimeout(function(){re({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:b.tileSource,options:b})}):(this._loadQueue.push(Y),function f(b,P,Y,re,de){var ke=b;if("string"===l.type(P))if(P.match(/^\s*<.*>\s*$/))P=l.parseXml(P);else if(P.match(/^\s*[{[].*[}\]]\s*$/))try{var _e=l.parseJSON(P);P=_e}catch{}function We(Ke,jt){Ke.ready?re(Ke):(Ke.addHandler("ready",function(){re(Ke)}),Ke.addHandler("open-failed",function(ht){de({message:ht.message,source:jt})}))}setTimeout(function(){if("string"===l.type(P))(P=new l.TileSource({url:P,crossOriginPolicy:void 0!==Y.crossOriginPolicy?Y.crossOriginPolicy:b.crossOriginPolicy,ajaxWithCredentials:b.ajaxWithCredentials,ajaxHeaders:Y.ajaxHeaders?Y.ajaxHeaders:b.ajaxHeaders,splitHashDataForPost:b.splitHashDataForPost,success:function(en){re(en.tileSource)}})).addHandler("open-failed",function(en){de(en)});else if(l.isPlainObject(P)||P.nodeType)if(void 0===P.crossOriginPolicy&&(void 0!==Y.crossOriginPolicy||void 0!==b.crossOriginPolicy)&&(P.crossOriginPolicy=void 0!==Y.crossOriginPolicy?Y.crossOriginPolicy:b.crossOriginPolicy),void 0===P.ajaxWithCredentials&&(P.ajaxWithCredentials=b.ajaxWithCredentials),l.isFunction(P.getTileUrl)){var Ke=new l.TileSource(P);Ke.getTileUrl=P.getTileUrl,re(Ke)}else{var jt=l.TileSource.determineType(ke,P);if(!jt)return void de({message:"Unable to load TileSource",source:P});var ht=jt.prototype.configure.apply(ke,[P]);We(new jt(ht),P)}else We(P,P)})}(this,b.tileSource,b,function(_e){Y.tileSource=_e,ke()},function(_e){_e.options=b,re(_e),ke()}))},addSimpleImage:function(b){l.console.assert(b,"[Viewer.addSimpleImage] options is required"),l.console.assert(b.url,"[Viewer.addSimpleImage] options.url is required");var P=l.extend({},b,{tileSource:{type:"image",url:b.url}});delete P.url,this.addTiledImage(P)},addLayer:function(b){var P=this;l.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var Y=l.extend({},b,{success:function(re){P.raiseEvent("add-layer",{options:b,drawer:re.item})},error:function(re){P.raiseEvent("add-layer-failed",re)}});return this.addTiledImage(Y),this},getLayerAtLevel:function(b){return l.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(b)},getLevelOfLayer:function(b){return l.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(b)},getLayersCount:function(){return l.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(b,P){return l.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(b,P)},removeLayer:function(b){return l.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(b)},forceRedraw:function(){return d[this.hash].forceRedraw=!0,this},forceResize:function(){d[this.hash].needsResize=!0,d[this.hash].forceResize=!0},bindSequenceControls:function(){var b=l.delegate(this,M),P=l.delegate(this,H),Y=l.delegate(this,this.goToNextPage),re=l.delegate(this,this.goToPreviousPage),de=this.navImages,ke=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(ke=!1),this.previousButton=new l.Button({element:this.previousButton?l.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.PreviousPage"),srcRest:yt(this.prefixUrl,de.previous.REST),srcGroup:yt(this.prefixUrl,de.previous.GROUP),srcHover:yt(this.prefixUrl,de.previous.HOVER),srcDown:yt(this.prefixUrl,de.previous.DOWN),onRelease:re,onFocus:b,onBlur:P}),this.nextButton=new l.Button({element:this.nextButton?l.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.NextPage"),srcRest:yt(this.prefixUrl,de.next.REST),srcGroup:yt(this.prefixUrl,de.next.GROUP),srcHover:yt(this.prefixUrl,de.next.HOVER),srcDown:yt(this.prefixUrl,de.next.DOWN),onRelease:Y,onFocus:b,onBlur:P}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),ke&&(this.paging=new l.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:l.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||l.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var b=l.delegate(this,Wr),P=l.delegate(this,z),Y=l.delegate(this,Nt),re=l.delegate(this,X),de=l.delegate(this,sn),ke=l.delegate(this,fn),_e=l.delegate(this,In),We=l.delegate(this,q),Ke=l.delegate(this,I),jt=l.delegate(this,R),ht=l.delegate(this,M),en=l.delegate(this,H),Ut=this.navImages,L=[],N=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(N=!1),this.showZoomControl&&(L.push(this.zoomInButton=new l.Button({element:this.zoomInButton?l.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.ZoomIn"),srcRest:yt(this.prefixUrl,Ut.zoomIn.REST),srcGroup:yt(this.prefixUrl,Ut.zoomIn.GROUP),srcHover:yt(this.prefixUrl,Ut.zoomIn.HOVER),srcDown:yt(this.prefixUrl,Ut.zoomIn.DOWN),onPress:b,onRelease:P,onClick:Y,onEnter:b,onExit:P,onFocus:ht,onBlur:en})),L.push(this.zoomOutButton=new l.Button({element:this.zoomOutButton?l.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.ZoomOut"),srcRest:yt(this.prefixUrl,Ut.zoomOut.REST),srcGroup:yt(this.prefixUrl,Ut.zoomOut.GROUP),srcHover:yt(this.prefixUrl,Ut.zoomOut.HOVER),srcDown:yt(this.prefixUrl,Ut.zoomOut.DOWN),onPress:re,onRelease:P,onClick:de,onEnter:re,onExit:P,onFocus:ht,onBlur:en}))),this.showHomeControl&&L.push(this.homeButton=new l.Button({element:this.homeButton?l.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.Home"),srcRest:yt(this.prefixUrl,Ut.home.REST),srcGroup:yt(this.prefixUrl,Ut.home.GROUP),srcHover:yt(this.prefixUrl,Ut.home.HOVER),srcDown:yt(this.prefixUrl,Ut.home.DOWN),onRelease:ke,onFocus:ht,onBlur:en})),this.showFullPageControl&&L.push(this.fullPageButton=new l.Button({element:this.fullPageButton?l.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.FullPage"),srcRest:yt(this.prefixUrl,Ut.fullpage.REST),srcGroup:yt(this.prefixUrl,Ut.fullpage.GROUP),srcHover:yt(this.prefixUrl,Ut.fullpage.HOVER),srcDown:yt(this.prefixUrl,Ut.fullpage.DOWN),onRelease:_e,onFocus:ht,onBlur:en})),this.showRotationControl&&(L.push(this.rotateLeftButton=new l.Button({element:this.rotateLeftButton?l.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.RotateLeft"),srcRest:yt(this.prefixUrl,Ut.rotateleft.REST),srcGroup:yt(this.prefixUrl,Ut.rotateleft.GROUP),srcHover:yt(this.prefixUrl,Ut.rotateleft.HOVER),srcDown:yt(this.prefixUrl,Ut.rotateleft.DOWN),onRelease:We,onFocus:ht,onBlur:en})),L.push(this.rotateRightButton=new l.Button({element:this.rotateRightButton?l.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.RotateRight"),srcRest:yt(this.prefixUrl,Ut.rotateright.REST),srcGroup:yt(this.prefixUrl,Ut.rotateright.GROUP),srcHover:yt(this.prefixUrl,Ut.rotateright.HOVER),srcDown:yt(this.prefixUrl,Ut.rotateright.DOWN),onRelease:Ke,onFocus:ht,onBlur:en}))),this.showFlipControl&&L.push(this.flipButton=new l.Button({element:this.flipButton?l.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.Flip"),srcRest:yt(this.prefixUrl,Ut.flip.REST),srcGroup:yt(this.prefixUrl,Ut.flip.GROUP),srcHover:yt(this.prefixUrl,Ut.flip.HOVER),srcDown:yt(this.prefixUrl,Ut.flip.DOWN),onRelease:jt,onFocus:ht,onBlur:en})),N?(this.buttonGroup=new l.ButtonGroup({buttons:L,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",l.delegate(this,Bt)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||l.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||l.ControlAnchor.TOP_LEFT})):this.customButtons=L),this},currentPage:function(){return this._sequenceIndex},goToPage:function(b){return this.tileSources&&b>=0&&b<this.tileSources.length&&(this._sequenceIndex=b,this._updateSequenceButtons(b),this.open(this.tileSources[b]),this.referenceStrip&&this.referenceStrip.setFocus(b),this.raiseEvent("page",{page:b})),this},addOverlay:function(b,P,Y,re){var de;if(de=l.isPlainObject(b)?b:{element:b,location:P,placement:Y,onDraw:re},b=l.getElement(de.element),g(this.currentOverlays,b)>=0)return this;var ke=m(this,de);return this.currentOverlays.push(ke),ke.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:b,location:de.location,placement:de.placement}),this},updateOverlay:function(b,P,Y){var re;return b=l.getElement(b),(re=g(this.currentOverlays,b))>=0&&(this.currentOverlays[re].update(P,Y),d[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:b,location:P,placement:Y})),this},removeOverlay:function(b){var P;return b=l.getElement(b),(P=g(this.currentOverlays,b))>=0&&(this.currentOverlays[P].destroy(),this.currentOverlays.splice(P,1),d[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:b})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return d[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(b){var P;return b=l.getElement(b),(P=g(this.currentOverlays,b))>=0?this.currentOverlays[P]:null},_updateSequenceButtons:function(b){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==b?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(b>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(b){this._hideMessage();var P=l.makeNeutralElement("div");P.appendChild(document.createTextNode(b)),this.messageDiv=l.makeCenteredNode(P),l.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var b=this.messageDiv;b&&(b.parentNode.removeChild(b),delete this.messageDiv)},gestureSettingsByDeviceType:function(b){switch(b){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var b,P=this.currentOverlays.length;for(b=0;b<P;b++)this.currentOverlays[b].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new l.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else l.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),l.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){l.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var b=l.pixelDensityRatio,P=l.getCurrentPixelDensityRatio();b!==P&&(l.pixelDensityRatio=P,this.forceResize())},goToPreviousPage:function(){var b=this._sequenceIndex-1;this.navPrevNextWrap&&b<0&&(b+=this.tileSources.length),this.goToPage(b)},goToNextPage:function(){var b=this._sequenceIndex+1;this.navPrevNextWrap&&b>=this.tileSources.length&&(b=0),this.goToPage(b)},isAnimating:function(){return d[this.hash].animating}}),l.determineDrawer=function(b){for(let P in U){const Y=U[P],re=Y.prototype;if(re&&re instanceof U.DrawerBase&&l.isFunction(re.getType)&&re.getType.call(Y)===b)return Y}return null}}(U),function(l){function d(_){var v={tracker:_.eventSource,position:_.position,quick:_.quick,shift:_.shift,originalEvent:_.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",v),!v.preventDefaultAction&&_.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(_.position.x=this.viewport.getContainerSize().x-_.position.x);var w=this.viewport.pointFromPixel(_.position);this.panVertical?this.panHorizontal||(w.x=this.viewer.viewport.getCenter(!0).x):w.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(w),this.viewer.viewport.applyConstraints()}}function h(_){var v={tracker:_.eventSource,position:_.position,delta:_.delta,speed:_.speed,direction:_.direction,shift:_.shift,originalEvent:_.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",v),!v.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(_.delta.x=0),this.panVertical||(_.delta.y=0),this.viewer.viewport.flipped&&(_.delta.x=-_.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(_.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function c(_){_.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function f(_){var v={tracker:_.eventSource,position:_.position,scroll:_.scroll,shift:_.shift,originalEvent:_.originalEvent,preventDefault:_.preventDefault};this.viewer.raiseEvent("navigator-scroll",v),_.preventDefault=v.preventDefault}function m(_,v){g(_,"rotate("+v+"deg)")}function g(_,v){_.style.webkitTransform=v,_.style.mozTransform=v,_.style.msTransform=v,_.style.oTransform=v,_.style.transform=v}l.Navigator=function(_){var C,D,O,A,v=_.viewer,w=this;function M(O,A){m(w.displayRegionContainer,O),m(w.displayRegion,-O),w.viewport.setRotation(O,A)}_.element||_.id?(_.element?(_.id&&l.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),_.id=_.element.id?_.element.id:"navigator-"+l.now(),this.element=_.element):this.element=document.getElementById(_.id),_.controlOptions={anchor:l.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(_.id="navigator-"+l.now(),this.element=l.makeNeutralElement("div"),_.controlOptions={anchor:l.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:_.autoFade},_.position&&("BOTTOM_RIGHT"===_.position?_.controlOptions.anchor=l.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"===_.position?_.controlOptions.anchor=l.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"===_.position?_.controlOptions.anchor=l.ControlAnchor.TOP_RIGHT:"TOP_LEFT"===_.position?_.controlOptions.anchor=l.ControlAnchor.TOP_LEFT:"ABSOLUTE"===_.position&&(_.controlOptions.anchor=l.ControlAnchor.ABSOLUTE,_.controlOptions.top=_.top,_.controlOptions.left=_.left,_.controlOptions.height=_.height,_.controlOptions.width=_.width))),this.element.id=_.id,this.element.className+=" navigator",(_=l.extend(!0,{sizeRatio:l.DEFAULT_SETTINGS.navigatorSizeRatio},_,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:_.animationTime,autoResize:!1,minZoomImageRatio:1,background:_.background,opacity:_.opacity,borderColor:_.borderColor,displayRegionColor:_.displayRegionColor})).minPixelRatio=this.minPixelRatio=v.minPixelRatio,l.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new l.Point(1,1),this.totalBorderWidths=new l.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),_.controlOptions.anchor!==l.ControlAnchor.NONE&&(A=this.borderWidth,(O=this.element.style).margin="0px",O.border=A+"px solid "+_.borderColor,O.padding="0px",O.background=_.background,O.opacity=_.opacity,O.overflow="hidden"),this.displayRegion=l.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(O,A){O.position="relative",O.top="0px",O.left="0px",O.fontSize="0px",O.overflow="hidden",O.border=A+"px solid "+_.displayRegionColor,O.margin="0px",O.padding="0px",O.background="transparent",O.float="left",O.cssFloat="left",O.zIndex=999999999,O.cursor="default",O.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),l.setElementPointerEventsNone(this.displayRegion),l.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=l.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",l.setElementPointerEventsNone(this.displayRegionContainer),l.setElementTouchActionNone(this.displayRegionContainer),v.addControl(this.element,_.controlOptions),this._resizeWithViewer=_.controlOptions.anchor!==l.ControlAnchor.ABSOLUTE&&_.controlOptions.anchor!==l.ControlAnchor.NONE,_.width&&_.height?(this.setWidth(_.width),this.setHeight(_.height)):this._resizeWithViewer&&(C=l.getElementSize(v.element),this.element.style.height=Math.round(C.y*_.sizeRatio)+"px",this.element.style.width=Math.round(C.x*_.sizeRatio)+"px",this.oldViewerSize=C,D=l.getElementSize(this.element),this.elementArea=D.x*D.y),this.oldContainerSize=new l.Point(0,0),l.Viewer.apply(this,[_]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),_.navigatorRotate&&(M(_.viewer.viewport?_.viewer.viewport.getRotation():_.viewer.degrees||0,!0),_.viewer.addHandler("rotate",function(O){M(O.degrees,O.immediately)})),this.innerTracker.destroy(),this.innerTracker=new l.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:l.delegate(this,h),clickHandler:l.delegate(this,d),releaseHandler:l.delegate(this,c),scrollHandler:l.delegate(this,f),preProcessEventHandler:function(O){"wheel"===O.eventType&&(O.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",l.setElementPointerEventsNone(this.canvas),l.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){w.viewport&&w.viewport.goHome(!0)}),v.world.addHandler("item-index-change",function(O){window.setTimeout(function(){var A=w.world.getItemAt(O.previousIndex);w.world.setItemIndex(A,O.newIndex)},1)}),v.world.addHandler("remove-item",function(O){var S=w._getMatchingItem(O.item);S&&w.world.removeItem(S)}),this.update(v.viewport)},l.extend(l.Navigator.prototype,l.EventSource.prototype,l.Viewer.prototype,{updateSize:function(){if(this.viewport){var _=new l.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);_.equals(this.oldContainerSize)||(this.viewport.resize(_,!0),this.viewport.goHome(!0),this.oldContainerSize=_,this.world.update(),this.world.draw(),this.update(this.viewer.viewport))}},setWidth:function(_){this.width=_,this.element.style.width="number"==typeof _?_+"px":_,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(_){this.height=_,this.element.style.height="number"==typeof _?_+"px":_,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(_){return this.viewport.setFlip(_),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(_){g(this.canvas,_),g(this.element,_)},update:function(_){var v,w,C,D,M,H;if(_||(_=this.viewer.viewport),v=l.getElementSize(this.viewer.element),this._resizeWithViewer&&v.x&&v.y&&!v.equals(this.oldViewerSize)&&(this.oldViewerSize=v,this.maintainSizeRatio||!this.elementArea?(w=v.x*this.sizeRatio,C=v.y*this.sizeRatio):(w=Math.sqrt(this.elementArea*(v.x/v.y)),C=this.elementArea/w),this.element.style.width=Math.round(w)+"px",this.element.style.height=Math.round(C)+"px",this.elementArea||(this.elementArea=w*C),this.updateSize()),_&&this.viewport){if(D=_.getBoundsNoRotate(!0),M=this.viewport.pixelFromPointNoRotate(D.getTopLeft(),!1),H=this.viewport.pixelFromPointNoRotate(D.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var O=_.getRotation(!0);m(this.displayRegion,-O)}var A=this.displayRegion.style;A.display=this.world.getItemCount()?"block":"none",A.top=M.y.toFixed(2)+"px",A.left=M.x.toFixed(2)+"px";var T=H.y-M.y;A.width=Math.round(Math.max(H.x-M.x,0))+"px",A.height=Math.round(Math.max(T,0))+"px"}},addTiledImage:function(_){var v=this,w=_.originalTiledImage;delete _.original;var C=l.extend({},_,{success:function(D){var M=D.item;function H(){v._matchBounds(M,w)}M._originalForNavigator=w,v._matchBounds(M,w,!0),v._matchOpacity(M,w),v._matchCompositeOperation(M,w),w.addHandler("bounds-change",H),w.addHandler("clip-change",H),w.addHandler("opacity-change",function O(){v._matchOpacity(M,w)}),w.addHandler("composite-operation-change",function A(){v._matchCompositeOperation(M,w)})}});return l.Viewer.prototype.addTiledImage.apply(this,[C])},destroy:function(){return l.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(_){for(var w,v=this.world.getItemCount(),C=0;C<v;C++)if((w=this.world.getItemAt(C))._originalForNavigator===_)return w;return null},_matchBounds:function(_,v,w){var C=v.getBoundsNoRotate();_.setPosition(C.getTopLeft(),w),_.setWidth(C.width,w),_.setRotation(v.getRotation(),w),_.setClip(v.getClip()),_.setFlip(v.getFlip())},_matchOpacity:function(_,v){_.setOpacity(v.opacity)},_matchCompositeOperation:function(_,v){_.setCompositeOperation(v.compositeOperation)}})}(U),function(l){var d={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};l.extend(l,{getString:function(h){var _,c=h.split("."),f=null,m=arguments,g=d;for(_=0;_<c.length-1;_++)g=g[c[_]]||{};return"string"!=typeof(f=g[c[_]])&&(l.console.error("Untranslated source string:",h),f=""),f.replace(/\{\d+\}/g,function(v){var w=parseInt(v.match(/\d+/),10)+1;return w<m.length?m[w]:""})},setString:function(h,c){var g,f=h.split("."),m=d;for(g=0;g<f.length-1;g++)m[f[g]]||(m[f[g]]={}),m=m[f[g]];m[f[g]]=c}})}(U),function(l){l.Point=function(d,h){this.x="number"==typeof d?d:0,this.y="number"==typeof h?h:0},l.Point.prototype={clone:function(){return new l.Point(this.x,this.y)},plus:function(d){return new l.Point(this.x+d.x,this.y+d.y)},minus:function(d){return new l.Point(this.x-d.x,this.y-d.y)},times:function(d){return new l.Point(this.x*d,this.y*d)},divide:function(d){return new l.Point(this.x/d,this.y/d)},negate:function(){return new l.Point(-this.x,-this.y)},distanceTo:function(d){return Math.sqrt(Math.pow(this.x-d.x,2)+Math.pow(this.y-d.y,2))},squaredDistanceTo:function(d){return Math.pow(this.x-d.x,2)+Math.pow(this.y-d.y,2)},apply:function(d){return new l.Point(d(this.x),d(this.y))},equals:function(d){return d instanceof l.Point&&this.x===d.x&&this.y===d.y},rotate:function(d,h){var c,f;if(h=h||new l.Point(0,0),d%90==0)switch(l.positiveModulo(d,360)){case 0:c=1,f=0;break;case 90:c=0,f=1;break;case 180:c=-1,f=0;break;case 270:c=0,f=-1}else{var g=d*Math.PI/180;c=Math.cos(g),f=Math.sin(g)}return new l.Point(c*(this.x-h.x)-f*(this.y-h.y)+h.x,f*(this.x-h.x)+c*(this.y-h.y)+h.y)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(U),function(l){l.TileSource=function(h,c,f,m,g,_){var C,D,v=this,w=arguments;if(C=l.isPlainObject(h)?h:{width:w[0],height:w[1],tileSize:w[2],tileOverlap:w[3],minLevel:w[4],maxLevel:w[5]},l.EventSource.call(this),l.extend(!0,this,C),!this.success)for(D=0;D<arguments.length;D++)if(l.isFunction(arguments[D])){this.success=arguments[D];break}this.success&&this.addHandler("ready",function(M){v.success(M)}),"string"===l.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new l.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=C.width&&C.height?C.width/C.height:1,this.dimensions=new l.Point(C.width,C.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=C.tileOverlap?C.tileOverlap:0,this.minLevel=C.minLevel?C.minLevel:0,this.maxLevel=null!=C.maxLevel?C.maxLevel:C.width&&C.height?Math.ceil(Math.log(Math.max(C.width,C.height))/Math.log(2)):0,this.success&&l.isFunction(this.success)&&this.success(this))},l.TileSource.prototype={getTileSize:function(h){return l.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(h){return this._tileWidth?this._tileWidth:this.getTileSize(h)},getTileHeight:function(h){return this._tileHeight?this._tileHeight:this.getTileSize(h)},setMaxLevel:function(h){this.maxLevel=h,this._memoizeLevelScale()},getLevelScale:function(h){return this._memoizeLevelScale(),this.getLevelScale(h)},_memoizeLevelScale:function(){var c,h={};for(c=0;c<=this.maxLevel;c++)h[c]=1/Math.pow(2,this.maxLevel-c);this.getLevelScale=function(f){return h[f]}},getNumTiles:function(h){var c=this.getLevelScale(h),f=Math.ceil(c*this.dimensions.x/this.getTileWidth(h)),m=Math.ceil(c*this.dimensions.y/this.getTileHeight(h));return new l.Point(f,m)},getPixelRatio:function(h){var c=this.dimensions.times(this.getLevelScale(h));return new l.Point(1/c.x*l.pixelDensityRatio,1/c.y*l.pixelDensityRatio)},getClosestLevel:function(){var h,c;for(h=this.minLevel+1;h<=this.maxLevel&&!((c=this.getNumTiles(h)).x>1||c.y>1);h++);return h-1},getTileAtPoint:function(h,c){l.console.assert(c.x>=0&&c.x<=1&&c.y>=0&&c.y<=1/this.aspectRatio,"[TileSource.getTileAtPoint] must be called with a valid point.");var m=this.dimensions.x*this.getLevelScale(h),_=c.y*m,v=Math.floor(c.x*m/this.getTileWidth(h)),w=Math.floor(_/this.getTileHeight(h));return c.x>=1&&(v=this.getNumTiles(h).x-1),c.y>=1/this.aspectRatio-1e-15&&(w=this.getNumTiles(h).y-1),new l.Point(v,w)},getTileBounds:function(h,c,f,m){var g=this.dimensions.times(this.getLevelScale(h)),_=this.getTileWidth(h),v=this.getTileHeight(h),w=0===c?0:_*c-this.tileOverlap,C=0===f?0:v*f-this.tileOverlap,D=_+(0===c?1:2)*this.tileOverlap,M=v+(0===f?1:2)*this.tileOverlap,H=1/g.x;return D=Math.min(D,g.x-w),M=Math.min(M,g.y-C),m?new l.Rect(0,0,D,M):new l.Rect(w*H,C*H,D*H,M*H)},getImageInfo:function(h){var f,m,g,_,v,w,C,c=this;h&&(C=(w=(v=h.split("/"))[v.length-1]).lastIndexOf("."))>-1&&(v[v.length-1]=w.slice(0,C));var D=null;if(this.splitHashDataForPost){var M=h.indexOf("#");-1!==M&&(D=h.substring(M+1),h=h.substr(0,M))}m=function(H){"string"==typeof H&&(H=l.parseXml(H));var O=l.TileSource.determineType(c,H,h);O?(void 0===(_=O.prototype.configure.apply(c,[H,h,D])).ajaxWithCredentials&&(_.ajaxWithCredentials=c.ajaxWithCredentials),g=new O(_),c.ready=!0,c.raiseEvent("ready",{tileSource:g})):c.raiseEvent("open-failed",{message:"Unable to load TileSource",source:h})},h.match(/\.js$/)?(f=h.split("/").pop().replace(".js",""),l.jsonp({url:h,async:!1,callbackName:f,callback:m})):l.makeAjaxRequest({url:h,postData:D,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(H){var O=function d(h){var g,c=h.responseText,f=h.status;if(!h)throw new Error(l.getString("Errors.Security"));if(200!==h.status&&0!==h.status)throw f=h.status,new Error(l.getString("Errors.Status",f,404===f?"Not Found":h.statusText));if(c.match(/^\s*<.*/))try{g=h.responseXML&&h.responseXML.documentElement?h.responseXML:l.parseXml(c)}catch{g=h.responseText}else if(c.match(/\s*[{[].*/))try{g=l.parseJSON(c)}catch{g=c}else g=c;return g}(H);m(O)},error:function(H,O){var A;try{A="HTTP "+H.status+" attempting to load TileSource: "+h}catch{A=(typeof O>"u"||!O.toString?"Unknown error":O.toString())+" attempting to load TileSource: "+h}l.console.error(A),c.raiseEvent("open-failed",{message:A,source:h,postData:D})}})},supports:function(h,c){return!1},configure:function(h,c,f){throw new Error("Method not implemented.")},getTileUrl:function(h,c,f){throw new Error("Method not implemented.")},getTilePostData:function(h,c,f){return null},getTileAjaxHeaders:function(h,c,f){return{}},getTileHashKey:function(h,c,f,m,g,_){return function v(w){return g?w+"+"+JSON.stringify(g):w}("string"!=typeof m?h+"/"+c+"_"+f:m)},tileExists:function(h,c,f){var m=this.getNumTiles(h);return h>=this.minLevel&&h<=this.maxLevel&&c>=0&&f>=0&&c<m.x&&f<m.y},hasTransparency:function(h,c,f,m){return!!h||c.match(".png")},downloadTileStart:function(h){var c=h.userData,f=new Image;c.image=f,c.request=null;var m=function(g){f?(f.onload=f.onerror=f.onabort=null,h.finish(g?null:f,c.request,g)):h.finish(null,c.request,"Image load failed: undefined Image instance.")};f.onload=function(){m()},f.onabort=f.onerror=function(){m("Image load aborted.")},h.loadWithAjax?c.request=l.makeAjaxRequest({url:h.src,withCredentials:h.ajaxWithCredentials,headers:h.ajaxHeaders,responseType:"arraybuffer",postData:h.postData,success:function(g){var _;try{_=new window.Blob([g.response])}catch(C){var v=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===C.name&&v){var w=new v;w.append(g.response),_=w.getBlob()}}0===_.size?m("Empty image response."):f.src=(window.URL||window.webkitURL).createObjectURL(_)},error:function(g){m("Image load aborted - XHR error")}}):(!1!==h.crossOriginPolicy&&(f.crossOrigin=h.crossOriginPolicy),f.src=h.src)},downloadTileAbort:function(h){h.userData.request&&h.userData.request.abort();var c=h.userData.image;h.userData.image&&(c.onload=c.onerror=c.onabort=null)},createTileCache:function(h,c,f){h._data=c},destroyTileCache:function(h){h._data=null,h._renderedContext=null},getTileCacheData:function(h){return h._data},getTileCacheDataAsImage:function(h){return h._data},getTileCacheDataAsContext2D:function(h){if(!h._renderedContext){var c=document.createElement("canvas");c.width=h._data.width,c.height=h._data.height,h._renderedContext=c.getContext("2d"),h._renderedContext.drawImage(h._data,0,0),h._data=null}return h._renderedContext}},l.extend(!0,l.TileSource.prototype,l.EventSource.prototype),l.TileSource.determineType=function(h,c,f){var m;for(m in U)if(m.match(/.+TileSource$/)&&l.isFunction(U[m])&&l.isFunction(U[m].prototype.supports)&&U[m].prototype.supports.call(h,c,f))return U[m];return l.console.error("No TileSource was able to open %s %s",f,c),null}}(U),function(l){function h(c,f){var A,S,m=f.Image,g=m.Url,_=m.Format,v=m.Size,w=m.DisplayRect||[],C=parseInt(v.Width,10),D=parseInt(v.Height,10),M=parseInt(m.TileSize,10),H=parseInt(m.Overlap,10),O=[];for(S=0;S<w.length;S++)A=w[S].Rect,O.push(new l.DisplayRect(parseInt(A.X,10),parseInt(A.Y,10),parseInt(A.Width,10),parseInt(A.Height,10),parseInt(A.MinLevel,10),parseInt(A.MaxLevel,10)));return l.extend(!0,{width:C,height:D,tileSize:M,tileOverlap:H,minLevel:null,maxLevel:null,tilesUrl:g,fileFormat:_,displayRects:O},f)}l.DziTileSource=function(c,f,m,g,_,v,w,C,D){var M,H,O,A;if(A=l.isPlainObject(c)?c:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=A.tilesUrl,this.fileFormat=A.fileFormat,this.displayRects=A.displayRects,this.displayRects)for(M=this.displayRects.length-1;M>=0;M--)for(O=(H=this.displayRects[M]).minLevel;O<=H.maxLevel;O++)this._levelRects[O]||(this._levelRects[O]=[]),this._levelRects[O].push(H);l.TileSource.apply(this,[A])},l.extend(l.DziTileSource.prototype,l.TileSource.prototype,{supports:function(c,f){var m;return c.Image?m=c.Image.xmlns:c.documentElement&&("Image"===c.documentElement.localName||"Image"===c.documentElement.tagName)&&(m=c.documentElement.namespaceURI),-1!==(m=(m||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==m.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(c,f,m){var g;return g=l.isPlainObject(c)?h(0,c):function d(c,f){if(!f||!f.documentElement)throw new Error(l.getString("Errors.Xml"));var C,D,M,H,O,m=f.documentElement,g=m.localName||m.tagName,_=f.documentElement.namespaceURI,v=null,w=[];if("Image"===g)try{if(void 0===(H=m.getElementsByTagName("Size")[0])&&(H=m.getElementsByTagNameNS(_,"Size")[0]),v={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:m.getAttribute("Url"),Format:m.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(m.getAttribute("Overlap"),10),TileSize:parseInt(m.getAttribute("TileSize"),10),Size:{Height:parseInt(H.getAttribute("Height"),10),Width:parseInt(H.getAttribute("Width"),10)}}},!l.imageFormatSupported(v.Image.Format))throw new Error(l.getString("Errors.ImageFormat",v.Image.Format.toUpperCase()));for(void 0===(C=m.getElementsByTagName("DisplayRect"))&&(C=m.getElementsByTagNameNS(_,"DisplayRect")[0]),O=0;O<C.length;O++)void 0===(M=(D=C[O]).getElementsByTagName("Rect")[0])&&(M=D.getElementsByTagNameNS(_,"Rect")[0]),w.push({Rect:{X:parseInt(M.getAttribute("X"),10),Y:parseInt(M.getAttribute("Y"),10),Width:parseInt(M.getAttribute("Width"),10),Height:parseInt(M.getAttribute("Height"),10),MinLevel:parseInt(D.getAttribute("MinLevel"),10),MaxLevel:parseInt(D.getAttribute("MaxLevel"),10)}});return w.length&&(v.Image.DisplayRect=w),h(0,v)}catch(T){throw T instanceof Error?T:new Error(l.getString("Errors.Dzi"))}else{if("Collection"===g)throw new Error(l.getString("Errors.Dzc"));if("Error"===g){var A=m.getElementsByTagName("Message")[0];throw new Error(A.firstChild.nodeValue)}}throw new Error(l.getString("Errors.Dzi"))}(0,c),f&&!g.tilesUrl&&(g.tilesUrl=f.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),g.queryParams=-1!==f.search(/\.(dzi|xml|js)\?/)?f.match(/\?.*/):""),g},getTileUrl:function(c,f,m){return[this.tilesUrl,c,"/",f,"_",m,".",this.fileFormat,this.queryParams].join("")},tileExists:function(c,f,m){var _,v,w,C,D,M,H,g=this._levelRects[c];if(this.minLevel&&c<this.minLevel||this.maxLevel&&c>this.maxLevel)return!1;if(!g||!g.length)return!0;for(H=g.length-1;H>=0;H--)if(!(c<(_=g[H]).minLevel||c>_.maxLevel)&&(v=this.getLevelScale(c),D=(w=_.x*v)+_.width*v,M=(C=_.y*v)+_.height*v,w=Math.floor(w/this._tileWidth),C=Math.floor(C/this._tileWidth),D=Math.ceil(D/this._tileWidth),M=Math.ceil(M/this._tileWidth),w<=f&&f<D&&C<=m&&m<M))return!0;return!1}})}(U),function(l){function d(m){var _=Array.isArray(m.profile)?m.profile[0]:m.profile,v=-1!==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"].indexOf(_),w=!1;return 2===m.version&&m.profile.length>1&&m.profile[1].supports&&(w=-1!==m.profile[1].supports.indexOf("sizeByW")),3===m.version&&m.extraFeatures&&(w=-1!==m.extraFeatures.indexOf("sizeByWh")),!v||w}function h(m){for(var g=[],_=0;_<m.sizes.length;_++)g.push({url:m._id+"/full/"+m.sizes[_].width+","+(3===m.version?m.sizes[_].height:"")+"/0/default."+m.tileFormat,width:m.sizes[_].width,height:m.sizes[_].height});return g.sort(function(v,w){return v.width-w.width})}function f(m,g,_){var v,w;if(3===m.nodeType&&_)(w=m.nodeValue.trim()).match(/^\d*$/)&&(w=Number(w)),g[_]?(l.isArray(g[_])||(g[_]=[g[_]]),g[_].push(w)):g[_]=w;else if(1===m.nodeType)for(v=0;v<m.childNodes.length;v++)f(m.childNodes[v],g,m.nodeName)}l.IIIFTileSource=function(m){if(l.extend(!0,this,m),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(m.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=m.version,this.tile_width&&this.tile_height)m.tileWidth=this.tile_width,m.tileHeight=this.tile_height;else if(this.tile_width)m.tileSize=this.tile_width;else if(this.tile_height)m.tileSize=this.tile_height;else if(this.tiles)if(1===this.tiles.length)m.tileWidth=this.tiles[0].width,m.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var g=0;g<this.tiles.length;g++)for(var _=0;_<this.tiles[g].scaleFactors.length;_++){var v=this.tiles[g].scaleFactors[_];this.scale_factors.push(v),m.tileSizePerScaleFactor[v]={width:this.tiles[g].width,height:this.tiles[g].height||this.tiles[g].width}}}else if(d(m)){for(var w=Math.min(this.height,this.width),C=[256,512,1024],D=[],M=0;M<C.length;M++)C[M]<=w&&D.push(C[M]);m.tileSize=D.length>0?Math.max.apply(null,D):w}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,m.levels=h(this),l.extend(!0,m,{width:m.levels[m.levels.length-1].width,height:m.levels[m.levels.length-1].height,tileSize:Math.max(m.height,m.width),tileOverlap:0,minLevel:0,maxLevel:m.levels.length-1}),this.levels=m.levels):l.console.error("Nothing in the info.json to construct image pyramids from");if(!m.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var H=Math.max.apply(null,this.scale_factors);m.maxLevel=Math.round(Math.log(H)*Math.LOG2E)}else m.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));if(this.sizes){var O=this.sizes.length;(O===m.maxLevel||O===m.maxLevel+1)&&(this.levelSizes=this.sizes.slice().sort((A,S)=>A.width-S.width),O===m.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}l.TileSource.apply(this,[m])},l.extend(l.IIIFTileSource.prototype,l.TileSource.prototype,{supports:function(m,g){return!!(m.protocol&&"http://iiif.io/api/image"===m.protocol||m["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"===m["@context"]||"http://iiif.io/api/image/1/context.json"===m["@context"])||m.profile&&0===m.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||m.identifier&&m.width&&m.height)||!(!m.documentElement||"info"!==m.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!==m.documentElement.namespaceURI)},configure:function(m,g,_){if(l.isPlainObject(m)){if(m["@context"]){var w=m["@context"];if(Array.isArray(w))for(var C=0;C<w.length;C++)if("string"==typeof w[C]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(w[C])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===w[C])){w=w[C];break}switch(w){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":m.version=1;break;case"http://iiif.io/api/image/2/context.json":m.version=2;break;case"http://iiif.io/api/image/3/context.json":m.version=3;break;default:l.console.error("Data has a @context property which contains no known IIIF context URI.")}}else m["@context"]="http://iiif.io/api/image/1.0/context.json",m["@id"]=g.replace("/info.json",""),m.version=1;if(m.preferredFormats)for(var D=0;D<m.preferredFormats.length;D++)if(U.imageFormatSupported(m.preferredFormats[D])){m.tileFormat=m.preferredFormats[D];break}return m}var v=function c(m){if(!m||!m.documentElement)throw new Error(l.getString("Errors.Xml"));var g=m.documentElement,v=null;if("info"===g.tagName)try{return f(g,v={}),v}catch(w){throw w instanceof Error?w:new Error(l.getString("Errors.IIIF"))}throw new Error(l.getString("Errors.IIIF"))}(m);return v["@context"]="http://iiif.io/api/image/1.0/context.json",v["@id"]=g.replace("/info.xml",""),v.version=1,v},getTileWidth:function(m){if(this.emulateLegacyImagePyramid)return l.TileSource.prototype.getTileWidth.call(this,m);var g=Math.pow(2,this.maxLevel-m);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[g]?this.tileSizePerScaleFactor[g].width:this._tileWidth},getTileHeight:function(m){if(this.emulateLegacyImagePyramid)return l.TileSource.prototype.getTileHeight.call(this,m);var g=Math.pow(2,this.maxLevel-m);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[g]?this.tileSizePerScaleFactor[g].height:this._tileHeight},getLevelScale:function(m){if(this.emulateLegacyImagePyramid){var g=NaN;return this.levels.length>0&&m>=this.minLevel&&m<=this.maxLevel&&(g=this.levels[m].width/this.levels[this.maxLevel].width),g}return l.TileSource.prototype.getLevelScale.call(this,m)},getNumTiles:function(m){if(this.emulateLegacyImagePyramid)return this.getLevelScale(m)?new l.Point(1,1):new l.Point(0,0);if(this.levelSizes){var _=this.levelSizes[m],v=Math.ceil(_.width/this.getTileWidth(m)),w=Math.ceil(_.height/this.getTileHeight(m));return new l.Point(v,w)}return l.TileSource.prototype.getNumTiles.call(this,m)},getTileAtPoint:function(m,g){if(this.emulateLegacyImagePyramid)return new l.Point(0,0);if(this.levelSizes){l.console.assert(g.x>=0&&g.x<=1&&g.y>=0&&g.y<=1/this.aspectRatio,"[TileSource.getTileAtPoint] must be called with a valid point.");var v=this.levelSizes[m].width,C=g.y*v,D=Math.floor(g.x*v/this.getTileWidth(m)),M=Math.floor(C/this.getTileHeight(m));return g.x>=1&&(D=this.getNumTiles(m).x-1),g.y>=1/this.aspectRatio-1e-15&&(M=this.getNumTiles(m).y-1),new l.Point(D,M)}return l.TileSource.prototype.getTileAtPoint.call(this,m,g)},getTileUrl:function(m,g,_){if(this.emulateLegacyImagePyramid){var v=null;return this.levels.length>0&&m>=this.minLevel&&m<=this.maxLevel&&(v=this.levels[m].url),v}var D,M,H,O,A,S,T,k,j,ne,V,ae,J,ce,ge,C=Math.pow(.5,this.maxLevel-m);return this.levelSizes?(D=this.levelSizes[m].width,M=this.levelSizes[m].height):(D=Math.ceil(this.width*C),M=Math.ceil(this.height*C)),H=this.getTileWidth(m),O=this.getTileHeight(m),A=Math.round(H/C),S=Math.round(O/C),ge=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,D<H&&M<O?(ae=2===this.version&&D===this.width?"full":3===this.version&&D===this.width&&M===this.height?"max":3===this.version?D+","+M:D+",",T="full"):(k=g*A,j=_*S,ne=Math.min(A,this.width-k),V=Math.min(S,this.height-j),T=0===g&&0===_&&ne===this.width&&V===this.height?"full":[k,j,ne,V].join(","),J=Math.min(H,D-g*H),ce=Math.min(O,M-_*O),ae=2===this.version&&J===this.width?"full":3===this.version&&J===this.width&&ce===this.height?"max":3===this.version?J+","+ce:J+","),[this._id,T,ae,"0",ge].join("/")},__testonly__:{canBeTiled:d,constructLevels:h}})}(U),function(l){l.OsmTileSource=function(d,h,c,f,m){var g;(!(g=l.isPlainObject(d)?d:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width||!g.height)&&(g.width=65572864,g.height=65572864),g.tileSize||(g.tileSize=256,g.tileOverlap=0),g.tilesUrl||(g.tilesUrl="http://tile.openstreetmap.org/"),g.minLevel=8,l.TileSource.apply(this,[g])},l.extend(l.OsmTileSource.prototype,l.TileSource.prototype,{supports:function(d,h){return d.type&&"openstreetmaps"===d.type},configure:function(d,h,c){return d},getTileUrl:function(d,h,c){return this.tilesUrl+(d-8)+"/"+h+"/"+c+".png"}})}(U),function(l){l.TmsTileSource=function(d,h,c,f,m){var g;g=l.isPlainObject(d)?d:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var _=256*Math.ceil(g.width/256),v=256*Math.ceil(g.height/256);g.maxLevel=Math.ceil(Math.log(_>v?_/256:v/256)/Math.log(2))-1,g.tileSize=256,g.width=_,g.height=v,l.TileSource.apply(this,[g])},l.extend(l.TmsTileSource.prototype,l.TileSource.prototype,{supports:function(d,h){return d.type&&"tiledmapservice"===d.type},configure:function(d,h,c){return d},getTileUrl:function(d,h,c){var f=this.getNumTiles(d).y-1;return this.tilesUrl+d+"/"+h+"/"+(f-c)+".png"}})}(U),function(l){l.ZoomifyTileSource=function(d){typeof d.tileSize>"u"&&(d.tileSize=256),typeof d.fileFormat>"u"&&(d.fileFormat="jpg",this.fileFormat=d.fileFormat);var h={x:d.width,y:d.height};for(d.imageSizes=[{x:d.width,y:d.height}],d.gridSize=[this._getGridSize(d.width,d.height,d.tileSize)];parseInt(h.x,10)>d.tileSize||parseInt(h.y,10)>d.tileSize;)h.x=Math.floor(h.x/2),h.y=Math.floor(h.y/2),d.imageSizes.push({x:h.x,y:h.y}),d.gridSize.push(this._getGridSize(h.x,h.y,d.tileSize));d.imageSizes.reverse(),d.gridSize.reverse(),d.minLevel=0,d.maxLevel=d.gridSize.length-1,U.TileSource.apply(this,[d])},l.extend(l.ZoomifyTileSource.prototype,l.TileSource.prototype,{_getGridSize:function(d,h,c){return{x:Math.ceil(d/c),y:Math.ceil(h/c)}},_calculateAbsoluteTileNumber:function(d,h,c){for(var f=0,m={},g=0;g<d;g++)f+=(m=this.gridSize[g]).x*m.y;return f+((m=this.gridSize[d]).x*c+h)},supports:function(d,h){return d.type&&"zoomifytileservice"===d.type},configure:function(d,h,c){return d},getTileUrl:function(d,h,c){var f,m=this._calculateAbsoluteTileNumber(d,h,c);return f=Math.floor(m/256),this.tilesUrl+"TileGroup"+f+"/"+d+"-"+h+"-"+c+"."+this.fileFormat}})}(U),function(l){function c(f,m){return m.levels}l.LegacyTileSource=function(f){var m,g,_;l.isArray(f)&&(m={type:"legacy-image-pyramid",levels:f}),m.levels=function d(f){var g,_,m=[];for(_=0;_<f.length;_++)(g=f[_]).height&&g.width&&g.url?m.push({url:g.url,width:Number(g.width),height:Number(g.height)}):l.console.error("Unsupported image format: %s",g.url?g.url:"<no URL>");return m.sort(function(v,w){return v.height-w.height})}(m.levels),m.levels.length>0?(g=m.levels[m.levels.length-1].width,_=m.levels[m.levels.length-1].height):(g=0,_=0,l.console.error("No supported image formats found")),l.extend(!0,m,{width:g,height:_,tileSize:Math.max(_,g),tileOverlap:0,minLevel:0,maxLevel:m.levels.length>0?m.levels.length-1:0}),l.TileSource.apply(this,[m]),this.levels=m.levels},l.extend(l.LegacyTileSource.prototype,l.TileSource.prototype,{supports:function(f,m){return f.type&&"legacy-image-pyramid"===f.type||f.documentElement&&"legacy-image-pyramid"===f.documentElement.getAttribute("type")},configure:function(f,m,g){var _;return _=l.isPlainObject(f)?c(0,f):function h(f,m){if(!m||!m.documentElement)throw new Error(l.getString("Errors.Xml"));var C,D,g=m.documentElement,_=g.tagName,v=null,w=[];if("image"===_)try{for(v={type:g.getAttribute("type"),levels:[]},w=g.getElementsByTagName("level"),D=0;D<w.length;D++)v.levels.push({url:(C=w[D]).getAttribute("url"),width:parseInt(C.getAttribute("width"),10),height:parseInt(C.getAttribute("height"),10)});return c(0,v)}catch(M){throw M instanceof Error?M:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"===_)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"===_)throw new Error("Error: "+m)}throw new Error("Unknown element "+_)}(0,f),_},getLevelScale:function(f){var m=NaN;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(m=this.levels[f].width/this.levels[this.maxLevel].width),m},getNumTiles:function(f){return this.getLevelScale(f)?new l.Point(1,1):new l.Point(0,0)},getTileUrl:function(f,m,g){var _=null;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(_=this.levels[f].url),_}})}(U),function(l){l.ImageTileSource=function(d){d=l.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1},d),l.TileSource.apply(this,[d])},l.extend(l.ImageTileSource.prototype,l.TileSource.prototype,{supports:function(d,h){return d.type&&"image"===d.type},configure:function(d,h,c){return d},getImageInfo:function(d){var h=this._image=new Image,c=this;this.crossOriginPolicy&&(h.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(h.useCredentials=this.ajaxWithCredentials),l.addEvent(h,"load",function(){c.width=h.naturalWidth,c.height=h.naturalHeight,c.aspectRatio=c.width/c.height,c.dimensions=new l.Point(c.width,c.height),c._tileWidth=c.width,c._tileHeight=c.height,c.tileOverlap=0,c.minLevel=0,c.levels=c._buildLevels(),c.maxLevel=c.levels.length-1,c.ready=!0,c.raiseEvent("ready",{tileSource:c})}),l.addEvent(h,"error",function(){c.raiseEvent("open-failed",{message:"Error loading image at "+d,source:d})}),h.src=d},getLevelScale:function(d){var h=NaN;return d>=this.minLevel&&d<=this.maxLevel&&(h=this.levels[d].width/this.levels[this.maxLevel].width),h},getNumTiles:function(d){return this.getLevelScale(d)?new l.Point(1,1):new l.Point(0,0)},getTileUrl:function(d,h,c){var f=null;return d>=this.minLevel&&d<=this.maxLevel&&(f=this.levels[d].url),f},getContext2D:function(d,h,c){var f=null;return d>=this.minLevel&&d<=this.maxLevel&&(f=this.levels[d].context2D),f},destroy:function(d){this._freeupCanvasMemory(d)},_buildLevels:function(){var d=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!l.supportsCanvas)return delete this._image,d;var h=this._image.naturalWidth,c=this._image.naturalHeight,f=document.createElement("canvas"),m=f.getContext("2d");if(f.width=h,f.height=c,m.drawImage(this._image,0,0,h,c),d[0].context2D=m,delete this._image,l.isCanvasTainted(f))return d;for(;h>=2&&c>=2;){h=Math.floor(h/2),c=Math.floor(c/2);var g=document.createElement("canvas"),_=g.getContext("2d");g.width=h,g.height=c,_.drawImage(f,0,0,h,c),d.splice(0,0,{context2D:_,width:h,height:c}),f=g,m=_}return d},_freeupCanvasMemory:function(d){for(var h=0;h<this.levels.length;h++)this.levels[h].context2D&&(this.levels[h].context2D.canvas.height=0,this.levels[h].context2D.canvas.width=0,d&&d.raiseEvent("image-unloaded",{context2D:this.levels[h].context2D}))}})}(U),function(l){l.TileSourceCollection=function(d,h,c,f){l.console.error("TileSourceCollection is deprecated; use World instead")}}(U),function(l){function d(_){l.requestAnimationFrame(function(){!function h(_){var C;_.shouldFade&&(C=1-(l.now()-_.fadeBeginTime)/_.fadeLength,C=Math.min(1,C),C=Math.max(0,C),_.imgGroup&&l.setElementOpacity(_.imgGroup,C,!0),C>0&&d(_))}(_)})}function m(_,v){_.element.disabled||(v>=l.ButtonState.GROUP&&_.currentState===l.ButtonState.REST&&(function f(_){_.shouldFade=!1,_.imgGroup&&l.setElementOpacity(_.imgGroup,1,!0)}(_),_.currentState=l.ButtonState.GROUP),v>=l.ButtonState.HOVER&&_.currentState===l.ButtonState.GROUP&&(_.imgHover&&(_.imgHover.style.visibility=""),_.currentState=l.ButtonState.HOVER),v>=l.ButtonState.DOWN&&_.currentState===l.ButtonState.HOVER&&(_.imgDown&&(_.imgDown.style.visibility=""),_.currentState=l.ButtonState.DOWN))}function g(_,v){_.element.disabled||(v<=l.ButtonState.HOVER&&_.currentState===l.ButtonState.DOWN&&(_.imgDown&&(_.imgDown.style.visibility="hidden"),_.currentState=l.ButtonState.HOVER),v<=l.ButtonState.GROUP&&_.currentState===l.ButtonState.HOVER&&(_.imgHover&&(_.imgHover.style.visibility="hidden"),_.currentState=l.ButtonState.GROUP),v<=l.ButtonState.REST&&_.currentState===l.ButtonState.GROUP&&(function c(_){_.shouldFade=!0,_.fadeBeginTime=l.now()+_.fadeDelay,window.setTimeout(function(){d(_)},_.fadeDelay)}(_),_.currentState=l.ButtonState.REST))}l.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},l.Button=function(_){var v=this;l.EventSource.call(this),l.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:l.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:l.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},_),this.element=_.element||l.makeNeutralElement("div"),_.element||(this.imgRest=l.makeTransparentImage(this.srcRest),this.imgGroup=l.makeTransparentImage(this.srcGroup),this.imgHover=l.makeTransparentImage(this.srcHover),this.imgDown=l.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,l.setElementPointerEventsNone(this.imgRest),l.setElementPointerEventsNone(this.imgGroup),l.setElementPointerEventsNone(this.imgHover),l.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",l.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=l.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new l.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(w){w.insideElementPressed?(m(v,l.ButtonState.DOWN),v.raiseEvent("enter",{originalEvent:w.originalEvent})):w.buttonDownAny||m(v,l.ButtonState.HOVER)},focusHandler:function(w){v.tracker.enterHandler(w),v.raiseEvent("focus",{originalEvent:w.originalEvent})},leaveHandler:function(w){g(v,l.ButtonState.GROUP),w.insideElementPressed&&v.raiseEvent("exit",{originalEvent:w.originalEvent})},blurHandler:function(w){v.tracker.leaveHandler(w),v.raiseEvent("blur",{originalEvent:w.originalEvent})},pressHandler:function(w){m(v,l.ButtonState.DOWN),v.raiseEvent("press",{originalEvent:w.originalEvent})},releaseHandler:function(w){w.insideElementPressed&&w.insideElementReleased?(g(v,l.ButtonState.HOVER),v.raiseEvent("release",{originalEvent:w.originalEvent})):w.insideElementPressed?g(v,l.ButtonState.GROUP):m(v,l.ButtonState.HOVER)},clickHandler:function(w){w.quick&&v.raiseEvent("click",{originalEvent:w.originalEvent})},keyHandler:function(w){13===w.keyCode?(v.raiseEvent("click",{originalEvent:w.originalEvent}),v.raiseEvent("release",{originalEvent:w.originalEvent}),w.preventDefault=!0):w.preventDefault=!1}}),g(this,l.ButtonState.REST)},l.extend(l.Button.prototype,l.EventSource.prototype,{notifyGroupEnter:function(){m(this,l.ButtonState.GROUP)},notifyGroupExit:function(){g(this,l.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),l.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),l.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(U),function(l){l.ButtonGroup=function(d){l.extend(!0,this,{buttons:[],clickTimeThreshold:l.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:l.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},d);var f,h=this.buttons.concat([]),c=this;if(this.element=d.element||l.makeNeutralElement("div"),!d.group)for(this.element.style.display="inline-block",f=0;f<h.length;f++)this.element.appendChild(h[f].element);l.setElementTouchActionNone(this.element),this.tracker=new l.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(m){var g;for(g=0;g<c.buttons.length;g++)c.buttons[g].notifyGroupEnter()},leaveHandler:function(m){var g;if(!m.insideElementPressed)for(g=0;g<c.buttons.length;g++)c.buttons[g].notifyGroupExit()}})},l.ButtonGroup.prototype={addButton:function(d){this.buttons.push(d),this.element.appendChild(d.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var d=this.buttons.pop();this.element.removeChild(d.element),d.destroy()}this.tracker.destroy(),this.element=null}}}(U),function(l){l.Rect=function(d,h,c,f,m){var g,_;this.x="number"==typeof d?d:0,this.y="number"==typeof h?h:0,this.width="number"==typeof c?c:0,this.height="number"==typeof f?f:0,this.degrees="number"==typeof m?m:0,this.degrees=l.positiveModulo(this.degrees,360),this.degrees>=270?(g=this.getTopRight(),this.x=g.x,this.y=g.y,_=this.height,this.height=this.width,this.width=_,this.degrees-=270):this.degrees>=180?(g=this.getBottomRight(),this.x=g.x,this.y=g.y,this.degrees-=180):this.degrees>=90&&(g=this.getBottomLeft(),this.x=g.x,this.y=g.y,_=this.height,this.height=this.width,this.width=_,this.degrees-=90)},l.Rect.fromSummits=function(d,h,c){var f=d.distanceTo(h),m=d.distanceTo(c),g=h.minus(d),_=Math.atan(g.y/g.x);return g.x<0?_+=Math.PI:g.y<0&&(_+=2*Math.PI),new l.Rect(d.x,d.y,f,m,_/Math.PI*180)},l.Rect.prototype={clone:function(){return new l.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new l.Point(this.x,this.y)},getBottomRight:function(){return new l.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new l.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new l.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new l.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new l.Point(this.width,this.height)},equals:function(d){return d instanceof l.Rect&&this.x===d.x&&this.y===d.y&&this.width===d.width&&this.height===d.height&&this.degrees===d.degrees},times:function(d){return new l.Rect(this.x*d,this.y*d,this.width*d,this.height*d,this.degrees)},translate:function(d){return new l.Rect(this.x+d.x,this.y+d.y,this.width,this.height,this.degrees)},union:function(d){var h=this.getBoundingBox(),c=d.getBoundingBox(),f=Math.min(h.x,c.x),m=Math.min(h.y,c.y),g=Math.max(h.x+h.width,c.x+c.width),_=Math.max(h.y+h.height,c.y+c.height);return new l.Rect(f,m,g-f,_-m)},intersection:function(d){var h=1e-10,c=[],f=this.getTopLeft();d.containsPoint(f,h)&&c.push(f);var m=this.getTopRight();d.containsPoint(m,h)&&c.push(m);var g=this.getBottomLeft();d.containsPoint(g,h)&&c.push(g);var _=this.getBottomRight();d.containsPoint(_,h)&&c.push(_);var v=d.getTopLeft();this.containsPoint(v,h)&&c.push(v);var w=d.getTopRight();this.containsPoint(w,h)&&c.push(w);var C=d.getBottomLeft();this.containsPoint(C,h)&&c.push(C);var D=d.getBottomRight();this.containsPoint(D,h)&&c.push(D);for(var M=this._getSegments(),H=d._getSegments(),O=0;O<M.length;O++)for(var A=M[O],S=0;S<H.length;S++){var T=H[S],k=j(A[0],A[1],T[0],T[1]);k&&c.push(k)}function j(we,He,Qe,Fe){var Pt=He.minus(we),at=Fe.minus(Qe),on=-at.x*Pt.y+Pt.x*at.y;if(0===on)return null;var Dt=(Pt.x*(we.y-Qe.y)-Pt.y*(we.x-Qe.x))/on,zt=(at.x*(we.y-Qe.y)-at.y*(we.x-Qe.x))/on;return-h<=Dt&&Dt<=1-h&&-h<=zt&&zt<=1-h?new l.Point(we.x+zt*Pt.x,we.y+zt*Pt.y):null}if(0===c.length)return null;for(var ne=c[0].x,V=c[0].x,ae=c[0].y,J=c[0].y,ce=1;ce<c.length;ce++){var ge=c[ce];ge.x<ne&&(ne=ge.x),ge.x>V&&(V=ge.x),ge.y<ae&&(ae=ge.y),ge.y>J&&(J=ge.y)}return new l.Rect(ne,ae,V-ne,J-ae)},_getSegments:function(){var d=this.getTopLeft(),h=this.getTopRight(),c=this.getBottomLeft(),f=this.getBottomRight();return[[d,h],[h,f],[f,c],[c,d]]},rotate:function(d,h){if(0===(d=l.positiveModulo(d,360)))return this.clone();h=h||this.getCenter();var c=this.getTopLeft().rotate(d,h),m=this.getTopRight().rotate(d,h).minus(c);m=m.apply(function(_){return Math.abs(_)<1e-15?0:_});var g=Math.atan(m.y/m.x);return m.x<0?g+=Math.PI:m.y<0&&(g+=2*Math.PI),new l.Rect(c.x,c.y,this.width,this.height,g/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var d=this.getTopLeft(),h=this.getTopRight(),c=this.getBottomLeft(),f=this.getBottomRight(),m=Math.min(d.x,h.x,c.x,f.x),g=Math.max(d.x,h.x,c.x,f.x),_=Math.min(d.y,h.y,c.y,f.y),v=Math.max(d.y,h.y,c.y,f.y);return new l.Rect(m,_,g-m,v-_)},getIntegerBoundingBox:function(){var d=this.getBoundingBox(),h=Math.floor(d.x),c=Math.floor(d.y),f=Math.ceil(d.width+d.x-h),m=Math.ceil(d.height+d.y-c);return new l.Rect(h,c,f,m)},containsPoint:function(d,h){h=h||0;var c=this.getTopLeft(),f=this.getTopRight(),m=this.getBottomLeft(),g=f.minus(c),_=m.minus(c);return(d.x-c.x)*g.x+(d.y-c.y)*g.y>=-h&&(d.x-f.x)*g.x+(d.y-f.y)*g.y<=h&&(d.x-c.x)*_.x+(d.y-c.y)*_.y>=-h&&(d.x-m.x)*_.x+(d.y-m.y)*_.y<=h},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(U),function(l){var d={};function h(C){var D;C.quick&&(D="horizontal"===this.scroll?Math.floor(C.position.x/(this.panelWidth+4)):Math.floor(C.position.y/this.panelHeight),this.viewer.goToPage(D)),this.element.focus()}function c(C){if(this.dragging=!0,this.element){var D=Number(this.element.style.marginLeft.replace("px","")),M=Number(this.element.style.marginTop.replace("px","")),H=Number(this.element.style.width.replace("px","")),O=Number(this.element.style.height.replace("px","")),A=l.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?-C.delta.x>0?D>-(H-A.x)&&(this.element.style.marginLeft=D+2*C.delta.x+"px",m(this,A.x,D+2*C.delta.x)):-C.delta.x<0&&D<0&&(this.element.style.marginLeft=D+2*C.delta.x+"px",m(this,A.x,D+2*C.delta.x)):-C.delta.y>0?M>-(O-A.y)&&(this.element.style.marginTop=M+2*C.delta.y+"px",m(this,A.y,M+2*C.delta.y)):-C.delta.y<0&&M<0&&(this.element.style.marginTop=M+2*C.delta.y+"px",m(this,A.y,M+2*C.delta.y))}}function f(C){if(this.element){var D=Number(this.element.style.marginLeft.replace("px","")),M=Number(this.element.style.marginTop.replace("px","")),H=Number(this.element.style.width.replace("px","")),O=Number(this.element.style.height.replace("px","")),A=l.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?C.scroll>0?D>-(H-A.x)&&(this.element.style.marginLeft=D-60*C.scroll+"px",m(this,A.x,D-60*C.scroll)):C.scroll<0&&D<0&&(this.element.style.marginLeft=D-60*C.scroll+"px",m(this,A.x,D-60*C.scroll)):C.scroll<0?M>A.y-O&&(this.element.style.marginTop=M+60*C.scroll+"px",m(this,A.y,M+60*C.scroll)):C.scroll>0&&M<0&&(this.element.style.marginTop=M+60*C.scroll+"px",m(this,A.y,M+60*C.scroll)),C.preventDefault=!0}}function m(C,D,M){var H,O,A,S,T,k;for(H="horizontal"===C.scroll?C.panelWidth:C.panelHeight,O=Math.ceil(D/H)+5,T=O=(O=(A=Math.ceil((Math.abs(M)+D)/H)+1)-O)<0?0:O;T<A&&T<C.panels.length;T++)if(!(k=C.panels[T]).activePanel){var ne=C.viewer.tileSources[T];S=new l.Viewer({id:k.id,tileSources:[ne.referenceStripThumbnailUrl?{type:"image",url:ne.referenceStripThumbnailUrl}:ne],element:k,navigatorSizeRatio:C.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:C.viewer.loadTilesWithAjax,ajaxHeaders:C.viewer.ajaxHeaders,drawer:"canvas"}),l.setElementPointerEventsNone(S.canvas),l.setElementPointerEventsNone(S.container),S.innerTracker.setTracking(!1),S.outerTracker.setTracking(!1),C.miniViewers[k.id]=S,k.activePanel=!0}}function g(C){var D=C.eventSource.element;"horizontal"===this.scroll?D.style.marginBottom="0px":D.style.marginLeft="0px"}function _(C){var D=C.eventSource.element;"horizontal"===this.scroll?D.style.marginBottom="-"+l.getElementSize(D).y/2+"px":D.style.marginLeft="-"+l.getElementSize(D).x/2+"px"}function v(C){if(C.ctrl||C.alt||C.meta)C.preventDefault=!1;else switch(C.keyCode){case 38:case 39:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 40:case 37:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1}}function w(C){if(C.ctrl||C.alt||C.meta)C.preventDefault=!1;else switch(C.keyCode){case 61:case 48:case 119:case 87:case 100:f.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 45:case 115:case 83:case 97:f.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1}}l.ReferenceStrip=function(C){var O,A,S,M=C.viewer,H=l.getElementSize(M.element);for(C.id||(C.id="referencestrip-"+l.now(),this.element=l.makeNeutralElement("div"),this.element.id=C.id,this.element.className="referencestrip"),C=l.extend(!0,{sizeRatio:l.DEFAULT_SETTINGS.referenceStripSizeRatio,position:l.DEFAULT_SETTINGS.referenceStripPosition,scroll:l.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:l.DEFAULT_SETTINGS.clickTimeThreshold},C,{element:this.element}),l.extend(this,C),d[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,(A=this.element.style).marginTop="0px",A.marginRight="0px",A.marginBottom="0px",A.marginLeft="0px",A.left="0px",A.bottom="0px",A.border="0px",A.background="#000",A.position="relative",l.setElementTouchActionNone(this.element),l.setElementOpacity(this.element,.8),this.viewer=M,this.tracker=new l.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:l.delegate(this,h),dragHandler:l.delegate(this,c),scrollHandler:l.delegate(this,f),enterHandler:l.delegate(this,g),leaveHandler:l.delegate(this,_),keyDownHandler:l.delegate(this,v),keyHandler:l.delegate(this,w),preProcessEventHandler:function(T){"wheel"===T.eventType&&(T.preventDefault=!0)}}),C.width&&C.height?(this.element.style.width=C.width+"px",this.element.style.height=C.height+"px",M.addControl(this.element,{anchor:l.ControlAnchor.BOTTOM_LEFT})):"horizontal"===C.scroll?(this.element.style.width=H.x*C.sizeRatio*M.tileSources.length+12*M.tileSources.length+"px",this.element.style.height=H.y*C.sizeRatio+"px",M.addControl(this.element,{anchor:l.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=H.y*C.sizeRatio*M.tileSources.length+12*M.tileSources.length+"px",this.element.style.width=H.x*C.sizeRatio+"px",M.addControl(this.element,{anchor:l.ControlAnchor.TOP_LEFT})),this.panelWidth=H.x*this.sizeRatio+8,this.panelHeight=H.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},S=0;S<M.tileSources.length;S++)(O=l.makeNeutralElement("div")).id=this.element.id+"-"+S,O.style.width=this.panelWidth+"px",O.style.height=this.panelHeight+"px",O.style.display="inline",O.style.float="left",O.style.cssFloat="left",O.style.padding="2px",l.setElementTouchActionNone(O),l.setElementPointerEventsNone(O),this.element.appendChild(O),O.activePanel=!1,this.panels.push(O);m(this,"vertical"===this.scroll?H.y:H.x,0),this.setFocus(0)},l.ReferenceStrip.prototype={setFocus:function(C){var T,D=this.element.querySelector("#"+this.element.id+"-"+C),M=l.getElementSize(this.viewer.canvas),H=Number(this.element.style.width.replace("px","")),O=Number(this.element.style.height.replace("px","")),A=-Number(this.element.style.marginLeft.replace("px","")),S=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==D&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=D,this.currentSelected.style.background="#999","horizontal"===this.scroll?(T=Number(C)*(this.panelWidth+3))>A+M.x-this.panelWidth?(T=Math.min(T,H-M.x),this.element.style.marginLeft=-T+"px",m(this,M.x,-T)):T<A&&(T=Math.max(0,T-M.x/2),this.element.style.marginLeft=-T+"px",m(this,M.x,-T)):(T=Number(C)*(this.panelHeight+3))>S+M.y-this.panelHeight?(T=Math.min(T,O-M.y),this.element.style.marginTop=-T+"px",m(this,M.y,-T)):T<S&&(T=Math.max(0,T-M.y/2),this.element.style.marginTop=-T+"px",m(this,M.y,-T)),this.currentPage=C,g.call(this,{eventSource:this.tracker}))},update:function(){return!!d[this.id].animating},destroy:function(){if(this.miniViewers)for(var C in this.miniViewers)this.miniViewers[C].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(U),function(l){l.DisplayRect=function(d,h,c,f,m,g){l.Rect.apply(this,[d,h,c,f]),this.minLevel=m,this.maxLevel=g},l.extend(l.DisplayRect.prototype,l.Rect.prototype)}(U),function(l){l.Spring=function(h){var c=arguments;"object"!=typeof h&&(h={initial:c.length&&"number"==typeof c[0]?c[0]:void 0,springStiffness:c.length>1?c[1].springStiffness:5,animationTime:c.length>1?c[1].animationTime:1.5}),l.console.assert("number"==typeof h.springStiffness&&0!==h.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),l.console.assert("number"==typeof h.animationTime&&h.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),h.exponential&&(this._exponential=!0,delete h.exponential),l.extend(!0,this,h),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:l.now()},l.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},l.Spring.prototype={resetTo:function(h){l.console.assert(!this._exponential||0!==h,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=h,this.start.time=this.target.time=this.current.time=l.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(h){l.console.assert(!this._exponential||0!==h,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=h,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(h){this.start.value+=h,this.target.value+=h,this._exponential&&(l.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(h){this._exponential=h,this._exponential&&(l.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){let h,c;if(this.current.time=l.now(),this._exponential?(h=this.start._logValue,c=this.target._logValue):(h=this.start.value,c=this.target.value),this.current.time>=this.target.time)this.current.value=this.target.value;else{let f=h+(c-h)*function d(h,c){return(1-Math.exp(h*-c))/(1-Math.exp(-h))}(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time));this.current.value=this._exponential?Math.exp(f):f}return this.current.value!==this.target.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(U),function(l){l.ImageJob=function(h){l.extend(!0,this,{timeout:l.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},h),this.data=null,this.userData={},this.errorMsg=null},l.ImageJob.prototype={start:function(){this.tries++;var h=this,c=this.abort;this.jobId=window.setTimeout(function(){h.finish(null,null,"Image load exceeded timeout ("+h.timeout+" ms)")},this.timeout),this.abort=function(){h.source.downloadTileAbort(h),"function"==typeof c&&c()},this.source.downloadTileStart(this)},finish:function(h,c,f){this.data=h,this.request=c,this.errorMsg=f,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},l.ImageLoader=function(h){l.extend(!0,this,{jobLimit:l.DEFAULT_SETTINGS.imageLoaderLimit,timeout:l.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},h)},l.ImageLoader.prototype={addJob:function(h){if(!h.source){l.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var c=l.TileSource.prototype;h.source={downloadTileStart:c.downloadTileStart,downloadTileAbort:c.downloadTileAbort}}var f=this,g={src:h.src,tile:h.tile||{},source:h.source,loadWithAjax:h.loadWithAjax,ajaxHeaders:h.loadWithAjax?h.ajaxHeaders:null,crossOriginPolicy:h.crossOriginPolicy,ajaxWithCredentials:h.ajaxWithCredentials,postData:h.postData,callback:function(v){!function d(h,c,f){var m;""!==c.errorMsg&&null==c.data&&c.tries<1+h.tileRetryMax&&h.failedTiles.push(c),h.jobsInProgress--,(!h.jobLimit||h.jobsInProgress<h.jobLimit)&&h.jobQueue.length>0&&((m=h.jobQueue.shift()).start(),h.jobsInProgress++),h.tileRetryMax>0&&0===h.jobQueue.length&&(!h.jobLimit||h.jobsInProgress<h.jobLimit)&&h.failedTiles.length>0&&(m=h.failedTiles.shift(),setTimeout(function(){m.start()},h.tileRetryDelay),h.jobsInProgress++),f(c.data,c.errorMsg,c.request)}(f,v,h.callback)},abort:h.abort,timeout:this.timeout},_=new l.ImageJob(g);!this.jobLimit||this.jobsInProgress<this.jobLimit?(_.start(),this.jobsInProgress++):this.jobQueue.push(_)},clear:function(){for(var h=0;h<this.jobQueue.length;h++){var c=this.jobQueue[h];"function"==typeof c.abort&&c.abort()}this.jobQueue=[]}}}(U),function(l){l.Tile=function(d,h,c,f,m,g,_,v,w,C,D,M){this.level=d,this.x=h,this.y=c,this.bounds=f,this.positionedBounds=new U.Rect(f.x,f.y,f.width,f.height),this.sourceBounds=C,this.exists=m,this._url=g,this.postData=D,this.context2D=_,this.loadWithAjax=v,this.ajaxHeaders=w,void 0===M&&(l.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),M=l.TileSource.prototype.getTileHashKey(d,h,c,g,w,D)),this.cacheKey=M,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},l.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},get image(){return l.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return l.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return"function"==typeof this._url?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord&&this.cacheImageRecord.getRenderedContext()},getScaleForEdgeSmoothing:function(){var d;if(this.cacheImageRecord)d=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return l.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;d=this.context2D}return d.canvas.width/(this.size.x*l.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(d,h,c){var f=Math.max(1,Math.ceil((c.x-h.x)/2)),m=Math.max(1,Math.ceil((c.y-h.y)/2));return new l.Point(f,m).minus(this.position.times(l.pixelDensityRatio).times(d||1).apply(function(g){return g%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(U),function(l){l.OverlayPlacement=l.Placement,l.OverlayRotationMode=l.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),l.Overlay=function(d,h,c){var f;f=l.isPlainObject(d)?d:{element:d,location:h,placement:c},this.elementWrapper=document.createElement("div"),this.element=f.element,this.elementWrapper.appendChild(this.element),this.elementWrapper.id=this.element.id?"overlay-wrapper-"+this.element.id:"overlay-wrapper",this.style=this.elementWrapper.style,this._init(f)},l.Overlay.prototype={_init:function(d){this.location=d.location,this.placement=void 0===d.placement?l.Placement.TOP_LEFT:d.placement,this.onDraw=d.onDraw,this.checkResize=void 0===d.checkResize||d.checkResize,this.width=void 0===d.width?null:d.width,this.height=void 0===d.height?null:d.height,this.rotationMode=d.rotationMode||l.OverlayRotationMode.EXACT,this.location instanceof l.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=l.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new l.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(d,h){var c=l.Placement.properties[this.placement];c&&(c.isHorizontallyCentered?d.x-=h.x/2:c.isRight&&(d.x-=h.x),c.isVerticallyCentered?d.y-=h.y/2:c.isBottom&&(d.y-=h.y))},destroy:function(){var d=this.elementWrapper,h=this.style;d.parentNode&&(d.parentNode.removeChild(d),d.prevElementParent&&(h.display="none",document.body.appendChild(d))),this.onDraw=null,h.top="",h.left="",h.position="",null!==this.width&&(h.width=""),null!==this.height&&(h.height="");var c=l.getCssPropertyWithVendorPrefix("transformOrigin"),f=l.getCssPropertyWithVendorPrefix("transform");c&&f&&(h[c]="",h[f]="")},drawHTML:function(d,h){var c=this.elementWrapper;c.parentNode!==d&&(c.prevElementParent=c.parentNode,c.prevNextSibling=c.nextSibling,d.appendChild(c),this.style.position="absolute",this.size=l.getElementSize(this.elementWrapper));var f=this._getOverlayPositionAndSize(h),m=f.position,g=this.size=f.size,_="";h.overlayPreserveContentDirection&&(_=h.flipped?" scaleX(-1)":" scaleX(1)");var v=h.flipped?-f.rotate:f.rotate,w=h.flipped?" scaleX(-1)":"";if(this.onDraw)this.onDraw(m,g,this.element);else{var C=this.style,D=this.element.style;D.display="block",C.left=m.x+"px",C.top=m.y+"px",null!==this.width&&(D.width=g.x+"px"),null!==this.height&&(D.height=g.y+"px");var M=l.getCssPropertyWithVendorPrefix("transformOrigin"),H=l.getCssPropertyWithVendorPrefix("transform");M&&H&&(v&&!h.flipped?(D[H]="",C[M]=this._getTransformOrigin(),C[H]="rotate("+v+"deg)"):!v&&h.flipped?(D[H]=_,C[M]=this._getTransformOrigin(),C[H]=w):v&&h.flipped?(D[H]=_,C[M]=this._getTransformOrigin(),C[H]="rotate("+v+"deg)"+w):(D[H]="",C[M]="",C[H]="")),C.display="flex"}},_getOverlayPositionAndSize:function(d){var h=d.pixelFromPoint(this.location,!0),c=this._getSizeInPixels(d);this.adjust(h,c);var f=0;if(d.getRotation(!0)&&this.rotationMode!==l.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===l.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var m=new l.Rect(h.x,h.y,c.x,c.y),g=this._getBoundingBox(m,d.getRotation(!0));h=g.getTopLeft(),c=g.getSize()}else f=d.getRotation(!0);return d.flipped&&(h.x=d.getContainerSize().x-h.x),{position:h,size:c,rotate:f}},_getSizeInPixels:function(d){var h=this.size.x,c=this.size.y;if(null!==this.width||null!==this.height){var f=d.deltaPixelsFromPointsNoRotate(new l.Point(this.width||0,this.height||0),!0);null!==this.width&&(h=f.x),null!==this.height&&(c=f.y)}if(this.checkResize&&(null===this.width||null===this.height)){var m=this.size=l.getElementSize(this.elementWrapper);null===this.width&&(h=m.x),null===this.height&&(c=m.y)}return new l.Point(h,c)},_getBoundingBox:function(d,h){var c=this._getPlacementPoint(d);return d.rotate(h,c).getBoundingBox()},_getPlacementPoint:function(d){var h=new l.Point(d.x,d.y),c=l.Placement.properties[this.placement];return c&&(c.isHorizontallyCentered?h.x+=d.width/2:c.isRight&&(h.x+=d.width),c.isVerticallyCentered?h.y+=d.height/2:c.isBottom&&(h.y+=d.height)),h},_getTransformOrigin:function(){var d="",h=l.Placement.properties[this.placement];return h&&(h.isLeft?d="left":h.isRight&&(d="right"),h.isTop?d+=" top":h.isBottom&&(d+=" bottom")),d},update:function(d,h){var c=l.isPlainObject(d)?d:{location:d,placement:h};this._init({location:c.location||this.location,placement:void 0!==c.placement?c.placement:this.placement,onDraw:c.onDraw||this.onDraw,checkResize:c.checkResize||this.checkResize,width:void 0!==c.width?c.width:this.width,height:void 0!==c.height?c.height:this.height,rotationMode:c.rotationMode||this.rotationMode})},getBounds:function(d){l.console.assert(d,"A viewport must now be passed to Overlay.getBounds.");var h=this.width,c=this.height;if(null===h||null===c){var f=d.deltaPointsFromPixelsNoRotate(this.size,!0);null===h&&(h=f.x),null===c&&(c=f.y)}var m=this.location.clone();return this.adjust(m,new l.Point(h,c)),this._adjustBoundsForRotation(d,new l.Rect(m.x,m.y,h,c))},_adjustBoundsForRotation:function(d,h){if(!d||0===d.getRotation(!0)||this.rotationMode===l.OverlayRotationMode.EXACT)return h;if(this.rotationMode===l.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return h;var c=this._getOverlayPositionAndSize(d);return d.viewerElementToViewportRectangle(new l.Rect(c.position.x,c.position.y,c.size.x,c.size.y))}return h.rotate(-d.getRotation(!0),this._getPlacementPoint(h))}}}(U),function(l){const d=l;d.DrawerBase=class{constructor(c){l.console.assert(c.viewer,"[Drawer] options.viewer is required"),l.console.assert(c.viewport,"[Drawer] options.viewport is required"),l.console.assert(c.element,"[Drawer] options.element is required"),this.viewer=c.viewer,this.viewport=c.viewport,this.debugGridColor="string"==typeof c.debugGridColor?[c.debugGridColor]:c.debugGridColor||l.DEFAULT_SETTINGS.debugGridColor,this.options=c.options||{},this.container=l.getElement(c.element),this._renderingTarget=this._createDrawingElement(),this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",this.canvas.style.left="0",l.setElementOpacity(this.canvas,this.viewer.opacity,!0),l.setElementPointerEventsNone(this.canvas),l.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._checkForAPIOverrides()}get canvas(){return this._renderingTarget}get element(){return l.console.error("Drawer.element is deprecated. Use Drawer.container instead."),this.container}getType(){l.console.error("Drawer.getType must be implemented by child class")}static isSupported(){l.console.error("Drawer.isSupported must be implemented by child class")}_createDrawingElement(){return l.console.error("Drawer._createDrawingElement must be implemented by child class"),null}draw(c){l.console.error("Drawer.draw must be implemented by child class")}canRotate(){l.console.error("Drawer.canRotate must be implemented by child class")}destroy(){l.console.error("Drawer.destroy must be implemented by child class")}minimumOverlapRequired(c){return!1}setImageSmoothingEnabled(c){l.console.error("Drawer.setImageSmoothingEnabled must be implemented by child class")}drawDebuggingRect(c){l.console.warn("[drawer].drawDebuggingRect is not implemented by this drawer")}clear(){l.console.warn("[drawer].clear() is deprecated. The drawer is responsible for clearing itself as needed before drawing tiles.")}_checkForAPIOverrides(){if(this._createDrawingElement===l.DrawerBase.prototype._createDrawingElement)throw new Error("[drawer]._createDrawingElement must be implemented by child class");if(this.draw===l.DrawerBase.prototype.draw)throw new Error("[drawer].draw must be implemented by child class");if(this.canRotate===l.DrawerBase.prototype.canRotate)throw new Error("[drawer].canRotate must be implemented by child class");if(this.destroy===l.DrawerBase.prototype.destroy)throw new Error("[drawer].destroy must be implemented by child class");if(this.setImageSmoothingEnabled===l.DrawerBase.prototype.setImageSmoothingEnabled)throw new Error("[drawer].setImageSmoothingEnabled must be implemented by child class")}viewportToDrawerRectangle(c){var f=this.viewport.pixelFromPointNoRotate(c.getTopLeft(),!0),m=this.viewport.deltaPixelsFromPointsNoRotate(c.getSize(),!0);return new l.Rect(f.x*l.pixelDensityRatio,f.y*l.pixelDensityRatio,m.x*l.pixelDensityRatio,m.y*l.pixelDensityRatio)}viewportCoordToDrawerCoord(c){var f=this.viewport.pixelFromPointNoRotate(c,!0);return new l.Point(f.x*l.pixelDensityRatio,f.y*l.pixelDensityRatio)}_calculateCanvasSize(){var c=l.pixelDensityRatio,f=this.viewport.getContainerSize();return new d.Point(Math.round(f.x*c),Math.round(f.y*c))}_raiseTiledImageDrawnEvent(c,f){this.viewer&&this.viewer.raiseEvent("tiled-image-drawn",{tiledImage:c,tiles:f})}_raiseDrawerErrorEvent(c,f){this.viewer&&this.viewer.raiseEvent("drawer-error",{tiledImage:c,drawer:this,error:f})}}}(U),function(l){const d=l;l.HTMLDrawer=class h extends d.DrawerBase{constructor(f){super(f),this.viewer.rejectEventHandler("tile-drawing","The HTMLDrawer does not raise the tile-drawing event"),this.viewer.allowEventHandler("tile-drawn")}static isSupported(){return!0}getType(){return"html"}minimumOverlapRequired(f){return!0}_createDrawingElement(){return l.makeNeutralElement("div")}draw(f){var m=this;this._prepareNewFrame(),f.forEach(function(g){0!==g.opacity&&m._drawTiles(g)})}canRotate(){return!1}destroy(){this.container.removeChild(this.canvas)}setImageSmoothingEnabled(){}_prepareNewFrame(){this.canvas.innerHTML=""}_drawTiles(f){var m=f.getTilesToDraw().map(v=>v.tile);if(0!==f.opacity&&(0!==m.length||f.placeholderFillStyle))for(var g=m.length-1;g>=0;g--){var _=m[g];this._drawTile(_),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:f,tile:_})}}_drawTile(f){l.console.assert(f,"[Drawer._drawTile] tile is required");let m=this.canvas;if(f.cacheImageRecord)if(f.loaded){if(!f.element){var g=f.getImage();if(!g)return;f.element=l.makeNeutralElement("div"),f.imgElement=g.cloneNode(),f.imgElement.style.msInterpolationMode="nearest-neighbor",f.imgElement.style.width="100%",f.imgElement.style.height="100%",f.style=f.element.style,f.style.position="absolute"}f.element.parentNode!==m&&m.appendChild(f.element),f.imgElement.parentNode!==f.element&&f.element.appendChild(f.imgElement),f.style.top=f.position.y+"px",f.style.left=f.position.x+"px",f.style.height=f.size.y+"px",f.style.width=f.size.x+"px",f.flipped&&(f.style.transform="scaleX(-1)"),l.setElementOpacity(f.element,f.opacity)}else l.console.warn("Attempting to draw tile %s when it's not yet loaded.",f.toString());else l.console.warn("[Drawer._drawTileToHTML] attempting to draw tile %s when it's not cached",f.toString())}}}(U),function(l){const d=l;l.CanvasDrawer=class h extends d.DrawerBase{constructor(v){super(v),this.context=this.canvas.getContext("2d"),this.sketchCanvas=null,this.sketchContext=null,this._imageSmoothingEnabled=!0,this.viewer.allowEventHandler("tile-drawn"),this.viewer.allowEventHandler("tile-drawing")}static isSupported(){return l.supportsCanvas}getType(){return"canvas"}_createDrawingElement(){let v=l.makeNeutralElement("canvas"),w=this._calculateCanvasSize();return v.width=w.x,v.height=w.y,v}draw(v){this._prepareNewFrame(),this.viewer.viewport.getFlip()!==this._viewportFlipped&&this._flip();for(const w of v)0!==w.opacity&&this._drawTiles(w)}canRotate(){return!0}destroy(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null,this.container.removeChild(this.canvas)}minimumOverlapRequired(v){return!0}setImageSmoothingEnabled(v){this._imageSmoothingEnabled=!!v,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw()}drawDebuggingRect(v){var w=this.context;w.save(),w.lineWidth=2*l.pixelDensityRatio,w.strokeStyle=this.debugGridColor[0],w.fillStyle=this.debugGridColor[0],w.strokeRect(v.x*l.pixelDensityRatio,v.y*l.pixelDensityRatio,v.width*l.pixelDensityRatio,v.height*l.pixelDensityRatio),w.restore()}get _viewportFlipped(){return this.context.getTransform().a<0}_raiseTileDrawingEvent(v,w,C,D){this.viewer.raiseEvent("tile-drawing",{tiledImage:v,context:w,tile:C,rendered:D})}_prepareNewFrame(){var v=this._calculateCanvasSize();if((this.canvas.width!==v.x||this.canvas.height!==v.y)&&(this.canvas.width=v.x,this.canvas.height=v.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var w=this._calculateSketchCanvasSize();this.sketchCanvas.width=w.x,this.sketchCanvas.height=w.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}_clear(v,w){var C=this._getContext(v);if(w)C.clearRect(w.x,w.y,w.width,w.height);else{var D=C.canvas;C.clearRect(0,0,D.width,D.height)}}_drawTiles(v){var w=v.getTilesToDraw().map(we=>we.tile);if(0!==v.opacity&&(0!==w.length||v.placeholderFillStyle)){var D,C=w[0];C&&(D=v.opacity<1||v.compositeOperation&&"source-over"!==v.compositeOperation||!v._isBottomItem()&&v.source.hasTransparency(C.context2D,C.getUrl(),C.ajaxHeaders,C.postData));var M,H,S,O=this.viewport.getZoom(!0),A=v.viewportToImageZoom(O);w.length>1&&A>v.smoothTileEdgesMinZoom&&!v.iOSDevice&&v.getRotation(!0)%360==0&&(D=!0,M=C.getScaleForEdgeSmoothing(),H=C.getTranslationForEdgeSmoothing(M,this._getCanvasSize(!1),this._getCanvasSize(!0))),D&&(M||(S=(S=this.viewport.viewportToViewerElementRectangle(v.getClippedBounds(!0)).getIntegerBoundingBox()).times(l.pixelDensityRatio)),this._clear(!0,S)),M||this._setRotations(v,D);var T=!1;if(v._clip){this._saveContext(D);var k=v.imageToViewportRectangle(v._clip,!0);k=k.rotate(-v.getRotation(!0),v._getRotationPoint(!0));var j=this.viewportToDrawerRectangle(k);M&&(j=j.times(M)),H&&(j=j.translate(H)),this._setClip(j,D),T=!0}if(v._croppingPolygons){var ne=this;T||this._saveContext(D);try{var V=v._croppingPolygons.map(function(we){return we.map(function(He){var Qe=v.imageToViewportCoordinates(He.x,He.y,!0).rotate(-v.getRotation(!0),v._getRotationPoint(!0)),Fe=ne.viewportCoordToDrawerCoord(Qe);return M&&(Fe=Fe.times(M)),H&&(Fe=Fe.plus(H)),Fe})});this._clipWithPolygons(V,D)}catch(we){l.console.error(we)}T=!0}if(v._hasOpaqueTile=!1,v.placeholderFillStyle&&!1===v._hasOpaqueTile){let we=this.viewportToDrawerRectangle(v.getBoundsNoRotate(!0));M&&(we=we.times(M)),H&&(we=we.translate(H));let He=null;He="function"==typeof v.placeholderFillStyle?v.placeholderFillStyle(v,this.context):v.placeholderFillStyle,this._drawRectangle(we,He,D)}var ae=function g(_){if("number"==typeof _)return m(_);if(!_||!l.Browser)return c;var v=_[l.Browser.vendor];return f(v)&&(v=_["*"]),m(v)}(v.subPixelRoundingForTransparency),J=!1;ae===l.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS?J=!0:ae===l.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&(J=!(this.viewer&&this.viewer.isAnimating()));for(var ge=0;ge<w.length;ge++)this._drawTile(C=w[ge],v,D,M,H,J,v.source),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:v,tile:C});T&&this._restoreContext(D),M||(v.getRotation(!0)%360!=0&&this._restoreRotationChanges(D),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(D)),D&&(M&&this._setRotations(v),this.blendSketch({opacity:v.opacity,scale:M,translate:H,compositeOperation:v.compositeOperation,bounds:S}),M&&(v.getRotation(!0)%360!=0&&this._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(!1))),this._drawDebugInfo(v,w),this._raiseTiledImageDrawnEvent(v,w)}}_drawDebugInfo(v,w){if(v.debugMode)for(var C=w.length-1;C>=0;C--){var D=w[C];try{this._drawDebugInfoOnTile(D,w.length,C,v)}catch(M){l.console.error(M)}}}_clipWithPolygons(v,w){var C=this._getContext(w);C.beginPath();for(const D of v)for(const[M,H]of D.entries())C[0===M?"moveTo":"lineTo"](H.x,H.y);C.clip()}_drawTile(v,w,C,D,M,H,O){l.console.assert(v,"[Drawer._drawTile] tile is required"),l.console.assert(w,"[Drawer._drawTile] drawingHandler is required");var A=this._getContext(C);this._drawTileToCanvas(v,A,w,D=D||1,M,H,O)}_drawTileToCanvas(v,w,C,D,M,H,O){var T,k,j,A=v.position.times(l.pixelDensityRatio),S=v.size.times(l.pixelDensityRatio);v.context2D||v.cacheImageRecord?(T=v.getCanvasContext(),v.loaded&&T?(w.save(),"number"==typeof D&&1!==D&&(A=A.times(D),S=S.times(D)),M instanceof l.Point&&(A=A.plus(M)),1===w.globalAlpha&&v.hasTransparency&&(H&&(A.x=Math.round(A.x),A.y=Math.round(A.y),S.x=Math.round(S.x),S.y=Math.round(S.y)),w.clearRect(A.x,A.y,S.x,S.y)),this._raiseTileDrawingEvent(C,w,v,T),v.sourceBounds?(k=Math.min(v.sourceBounds.width,T.canvas.width),j=Math.min(v.sourceBounds.height,T.canvas.height)):(k=T.canvas.width,j=T.canvas.height),w.translate(A.x+S.x/2,0),v.flipped&&w.scale(-1,1),w.drawImage(T.canvas,0,0,k,j,-S.x/2,A.y,S.x,S.y),w.restore()):l.console.warn("Attempting to draw tile %s when it's not yet loaded.",v.toString())):l.console.warn("[Drawer._drawTileToCanvas] attempting to draw tile %s when it's not cached",v.toString())}_getContext(v){var w=this.context;if(v){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var C=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=C.x,this.sketchCanvas.height=C.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var D=this;this.viewer.addHandler("rotate",function M(){if(0!==D.viewport.getRotation()){D.viewer.removeHandler("rotate",M);var H=D._calculateSketchCanvasSize();D.sketchCanvas.width=H.x,D.sketchCanvas.height=H.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}w=this.sketchContext}return w}_saveContext(v){this._getContext(v).save()}_restoreContext(v){this._getContext(v).restore()}_setClip(v,w){var C=this._getContext(w);C.beginPath(),C.rect(v.x,v.y,v.width,v.height),C.clip()}_drawRectangle(v,w,C){var D=this._getContext(C);D.save(),D.fillStyle=w,D.fillRect(v.x,v.y,v.width,v.height),D.restore()}blendSketch(v,w,C,D){var M=v;l.isPlainObject(M)||(M={opacity:v,scale:w,translate:C,compositeOperation:D}),v=M.opacity,D=M.compositeOperation;var H=M.bounds;if(this.context.save(),this.context.globalAlpha=v,D&&(this.context.globalCompositeOperation=D),H)H.x<0&&(H.width+=H.x,H.x=0),H.x+H.width>this.canvas.width&&(H.width=this.canvas.width-H.x),H.y<0&&(H.height+=H.y,H.y=0),H.y+H.height>this.canvas.height&&(H.height=this.canvas.height-H.y),this.context.drawImage(this.sketchCanvas,H.x,H.y,H.width,H.height,H.x,H.y,H.width,H.height);else{w=M.scale||1;var O=(C=M.translate)instanceof l.Point?C:new l.Point(0,0),A=0,S=0;if(C){var k=this.sketchCanvas.height-this.canvas.height;A=Math.round((this.sketchCanvas.width-this.canvas.width)/2),S=Math.round(k/2)}this.context.drawImage(this.sketchCanvas,O.x-A*w,O.y-S*w,(this.canvas.width+2*A)*w,(this.canvas.height+2*S)*w,-A,-S,this.canvas.width+2*A,this.canvas.height+2*S)}this.context.restore()}_drawDebugInfoOnTile(v,w,C,D){var M=this.viewer.world.getIndexOfItem(D)%this.debugGridColor.length,H=this.context;H.save(),H.lineWidth=2*l.pixelDensityRatio,H.font="small-caps bold "+13*l.pixelDensityRatio+"px arial",H.strokeStyle=this.debugGridColor[M],H.fillStyle=this.debugGridColor[M],this._setRotations(D),this._viewportFlipped&&this._flip({point:v.position.plus(v.size.divide(2))}),H.strokeRect(v.position.x*l.pixelDensityRatio,v.position.y*l.pixelDensityRatio,v.size.x*l.pixelDensityRatio,v.size.y*l.pixelDensityRatio);var O=(v.position.x+v.size.x/2)*l.pixelDensityRatio,A=(v.position.y+v.size.y/2)*l.pixelDensityRatio;H.translate(O,A);const S=this.viewport.getRotation(!0);H.rotate(Math.PI/180*-S),H.translate(-O,-A),0===v.x&&0===v.y&&(H.fillText("Zoom: "+this.viewport.getZoom(),v.position.x*l.pixelDensityRatio,(v.position.y-30)*l.pixelDensityRatio),H.fillText("Pan: "+this.viewport.getBounds().toString(),v.position.x*l.pixelDensityRatio,(v.position.y-20)*l.pixelDensityRatio)),H.fillText("Level: "+v.level,(v.position.x+10)*l.pixelDensityRatio,(v.position.y+20)*l.pixelDensityRatio),H.fillText("Column: "+v.x,(v.position.x+10)*l.pixelDensityRatio,(v.position.y+30)*l.pixelDensityRatio),H.fillText("Row: "+v.y,(v.position.x+10)*l.pixelDensityRatio,(v.position.y+40)*l.pixelDensityRatio),H.fillText("Order: "+C+" of "+w,(v.position.x+10)*l.pixelDensityRatio,(v.position.y+50)*l.pixelDensityRatio),H.fillText("Size: "+v.size.toString(),(v.position.x+10)*l.pixelDensityRatio,(v.position.y+60)*l.pixelDensityRatio),H.fillText("Position: "+v.position.toString(),(v.position.x+10)*l.pixelDensityRatio,(v.position.y+70)*l.pixelDensityRatio),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(),D.getRotation(!0)%360!=0&&this._restoreRotationChanges(),H.restore()}_updateImageSmoothingEnabled(v){v.msImageSmoothingEnabled=this._imageSmoothingEnabled,v.imageSmoothingEnabled=this._imageSmoothingEnabled}_getCanvasSize(v){var w=this._getContext(v).canvas;return new l.Point(w.width,w.height)}_getCanvasCenter(){return new l.Point(this.canvas.width/2,this.canvas.height/2)}_setRotations(v,w=!1){var C=!1;this.viewport.getRotation(!0)%360!=0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:w,saveContext:C}),C=!1),v.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:v.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(v._getRotationPoint(!0),!0),useSketch:w,saveContext:C})}_offsetForRotation(v){var w=v.point?v.point.times(l.pixelDensityRatio):this._getCanvasCenter(),C=this._getContext(v.useSketch);C.save(),C.translate(w.x,w.y),C.rotate(Math.PI/180*v.degrees),C.translate(-w.x,-w.y)}_flip(v){var w=(v=v||{}).point?v.point.times(l.pixelDensityRatio):this._getCanvasCenter(),C=this._getContext(v.useSketch);C.translate(w.x,0),C.scale(-1,1),C.translate(-w.x,0)}_restoreRotationChanges(v){this._getContext(v).restore()}_calculateCanvasSize(){var v=l.pixelDensityRatio,w=this.viewport.getContainerSize();return{x:Math.round(w.x*v),y:Math.round(w.y*v)}}_calculateSketchCanvasSize(){var v=this._calculateCanvasSize();if(0===this.viewport.getRotation())return v;var w=Math.ceil(Math.sqrt(v.x*v.x+v.y*v.y));return{x:w,y:w}}};var c=l.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function f(_){return _!==l.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&_!==l.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&_!==l.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function m(_){return f(_)?c:_}}(U),function(l){const d=l;d.WebGLDrawer=class extends d.DrawerBase{constructor(c){super(c),this._destroyed=!1,this._TextureMap=new Map,this._TileMap=new Map,this._gl=null,this._firstPass=null,this._secondPass=null,this._glFrameBuffer=null,this._renderToTexture=null,this._glFramebufferToCanvasTransform=null,this._outputCanvas=null,this._outputContext=null,this._clippingCanvas=null,this._clippingContext=null,this._renderingCanvas=null,this._backupCanvasDrawer=null,this._imageSmoothingEnabled=!0,this._boundToTileReady=f=>this._tileReadyHandler(f),this._boundToImageUnloaded=f=>this._imageUnloadedHandler(f),this.viewer.addHandler("tile-ready",this._boundToTileReady),this.viewer.addHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.rejectEventHandler("tile-drawn","The WebGLDrawer does not raise the tile-drawn event"),this.viewer.rejectEventHandler("tile-drawing","The WebGLDrawer does not raise the tile-drawing event"),this._setupCanvases(),this._setupRenderer(),this.context=this._outputContext}destroy(){if(this._destroyed)return;let c=this._gl;var f=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS);for(let g=0;g<f;++g)c.activeTexture(c.TEXTURE0+g),c.bindTexture(c.TEXTURE_2D,null),c.bindTexture(c.TEXTURE_CUBE_MAP,null);c.bindBuffer(c.ARRAY_BUFFER,null),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this._unloadTextures(),c.deleteBuffer(this._secondPass.bufferOutputPosition),c.deleteFramebuffer(this._glFrameBuffer),this._renderingCanvas.width=this._renderingCanvas.height=1,this._clippingCanvas.width=this._clippingCanvas.height=1,this._outputCanvas.width=this._outputCanvas.height=1,this._renderingCanvas=null,this._clippingCanvas=this._clippingContext=null,this._outputCanvas=this._outputContext=null;let m=c.getExtension("WEBGL_lose_context");m&&m.loseContext(),this.viewer.removeHandler("tile-ready",this._boundToTileReady),this.viewer.removeHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.removeHandler("resize",this._resizeHandler),this._gl=null,this._backupCanvasDrawer&&(this._backupCanvasDrawer.destroy(),this._backupCanvasDrawer=null),this.container.removeChild(this.canvas),this.viewer.drawer===this&&(this.viewer.drawer=null),this._destroyed=!0}canRotate(){return!0}static isSupported(){let c=document.createElement("canvas"),f=l.isFunction(c.getContext)&&c.getContext("webgl"),m=f&&f.getExtension("WEBGL_lose_context");return m&&m.loseContext(),!!f}getType(){return"webgl"}minimumOverlapRequired(c){return c.isTainted()}_createDrawingElement(){let c=l.makeNeutralElement("canvas"),f=this._calculateCanvasSize();return c.width=f.x,c.height=f.y,c}_getBackupCanvasDrawer(){return this._backupCanvasDrawer||(this._backupCanvasDrawer=this.viewer.requestDrawer("canvas",{mainDrawer:!1}),this._backupCanvasDrawer.canvas.style.setProperty("visibility","hidden")),this._backupCanvasDrawer}draw(c){let f=this._gl;const m=this.viewport.getBoundsNoRotateWithMargins(!0);let g_bounds=m,g_center=new d.Point(m.x+m.width/2,m.y+m.height/2),g_rotation=this.viewport.getRotation(!0)*Math.PI/180,_=this.viewport.flipped?-1:1,v=l.Mat3.makeTranslation(-g_center.x,-g_center.y),w=l.Mat3.makeScaling(2/g_bounds.width*_,-2/g_bounds.height),C=l.Mat3.makeRotation(-g_rotation),D=w.multiply(C).multiply(v);f.bindFramebuffer(f.FRAMEBUFFER,null),f.clear(f.COLOR_BUFFER_BIT),this._outputContext.clearRect(0,0,this._outputCanvas.width,this._outputCanvas.height);let M=!1;c.forEach((H,O)=>{if(H.isTainted()){M&&(this._outputContext.drawImage(this._renderingCanvas,0,0),f.bindFramebuffer(f.FRAMEBUFFER,null),f.clear(f.COLOR_BUFFER_BIT),M=!1);const A=this._getBackupCanvasDrawer();A.draw([H]),this._outputContext.drawImage(A.canvas,0,0)}else{let A=H.getTilesToDraw();if(H.placeholderFillStyle&&!1===H._hasOpaqueTile&&this._drawPlaceholder(H),0===A.length||0===H.getOpacity())return;let T=H.compositeOperation||this.viewer.compositeOperation||H._clip||H._croppingPolygons||H.debugMode,k=T||H.opacity<1||A[0].hasTransparency;T&&(M&&this._outputContext.drawImage(this._renderingCanvas,0,0),f.bindFramebuffer(f.FRAMEBUFFER,null),f.clear(f.COLOR_BUFFER_BIT)),f.useProgram(this._firstPass.shaderProgram),k?(f.bindFramebuffer(f.FRAMEBUFFER,this._glFrameBuffer),f.clear(f.COLOR_BUFFER_BIT)):f.bindFramebuffer(f.FRAMEBUFFER,null);let j=D,ne=H.getRotation(!0);if(ne%360!=0){let we=l.Mat3.makeRotation(-ne*Math.PI/180),He=H.getBoundsNoRotate(!0).getCenter(),Qe=l.Mat3.makeTranslation(He.x,He.y),Fe=l.Mat3.makeTranslation(-He.x,-He.y),Pt=Qe.multiply(we).multiply(Fe);j=D.multiply(Pt)}let V=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS);if(V<=0)throw new Error(`WegGL error: bad value for gl parameter MAX_TEXTURE_IMAGE_UNITS (${V}). This could happen\n                        if too many contexts have been created and not released, or there is another problem with the graphics card.`);let ae=new Float32Array(12*V),J=new Array(V),ce=new Array(V),ge=new Array(V);for(let we=0;we<A.length;we++){let He=A[we].tile,Qe=we%V,Fe=Qe+1,Pt=He.getCanvasContext(),at=Pt?this._TextureMap.get(Pt.canvas):null;if(at||(this._tileReadyHandler({tile:He,tiledImage:H}),at=Pt?this._TextureMap.get(Pt.canvas):null),at&&this._getTileData(He,H,at,j,Qe,ae,J,ce,ge),Fe===V||we===A.length-1){for(let on=0;on<=Fe;on++)f.activeTexture(f.TEXTURE0+on),f.bindTexture(f.TEXTURE_2D,J[on]);f.bindBuffer(f.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),f.bufferData(f.ARRAY_BUFFER,ae,f.DYNAMIC_DRAW),ce.forEach((on,Dt)=>{f.uniformMatrix3fv(this._firstPass.uTransformMatrices[Dt],!1,on)}),f.uniform1fv(this._firstPass.uOpacities,new Float32Array(ge)),f.bindBuffer(f.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),f.vertexAttribPointer(this._firstPass.aOutputPosition,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),f.vertexAttribPointer(this._firstPass.aTexturePosition,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,this._firstPass.bufferIndex),f.vertexAttribPointer(this._firstPass.aIndex,1,f.FLOAT,!1,0,0),f.drawArrays(f.TRIANGLES,0,6*Fe)}}k&&(f.useProgram(this._secondPass.shaderProgram),f.bindFramebuffer(f.FRAMEBUFFER,null),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,this._renderToTexture),this._gl.uniform1f(this._secondPass.uOpacityMultiplier,H.opacity),f.bindBuffer(f.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),f.vertexAttribPointer(this._secondPass.aTexturePosition,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),f.vertexAttribPointer(this._secondPass.aOutputPosition,2,f.FLOAT,!1,0,0),f.drawArrays(f.TRIANGLES,0,6)),M=!0,T&&(this._applyContext2dPipeline(H,A,O),M=!1,f.bindFramebuffer(f.FRAMEBUFFER,null),f.clear(f.COLOR_BUFFER_BIT)),0===O&&this._raiseTiledImageDrawnEvent(H,A.map(we=>we.tile))}}),M&&this._outputContext.drawImage(this._renderingCanvas,0,0)}setImageSmoothingEnabled(c){this._imageSmoothingEnabled!==c&&(this._imageSmoothingEnabled=c,this._unloadTextures(),this.viewer.world.draw())}drawDebuggingRect(c){let f=this._outputContext;f.save(),f.lineWidth=2*l.pixelDensityRatio,f.strokeStyle=this.debugGridColor[0],f.fillStyle=this.debugGridColor[0],f.strokeRect(c.x*l.pixelDensityRatio,c.y*l.pixelDensityRatio,c.width*l.pixelDensityRatio,c.height*l.pixelDensityRatio),f.restore()}_getTextureDataFromTile(c){return c.getCanvasContext().canvas}_applyContext2dPipeline(c,f,m){if(this._outputContext.save(),this._outputContext.globalCompositeOperation=0===m?null:c.compositeOperation||this.viewer.compositeOperation,c._croppingPolygons||c._clip?(this._renderToClippingCanvas(c),this._outputContext.drawImage(this._clippingCanvas,0,0)):this._outputContext.drawImage(this._renderingCanvas,0,0),this._outputContext.restore(),c.debugMode){const g=this.viewer.viewport.getFlip();g&&this._flip(),this._drawDebugInfo(f,c,g),g&&this._flip()}}_getTileData(c,f,m,g,_,v,w,C,D){let M=m.texture;v.set(m.position,12*_);let O=this._calculateOverlapFraction(c,f),A=c.positionedBounds.width*O.x,S=c.positionedBounds.height*O.y,T=c.positionedBounds.x+(0===c.x?0:A),k=c.positionedBounds.y+(0===c.y?0:S),J=new l.Mat3([c.positionedBounds.x+c.positionedBounds.width-(c.isRightMost?0:A)-T,0,0,0,c.positionedBounds.y+c.positionedBounds.height-(c.isBottomMost?0:S)-k,0,T,k,1]);if(c.flipped){let ge=l.Mat3.makeTranslation(.5,0),we=l.Mat3.makeTranslation(-.5,0),He=ge.multiply(l.Mat3.makeScaling(-1,1)).multiply(we);J=J.multiply(He)}let ce=g.multiply(J);D[_]=c.opacity,w[_]=M,C[_]=ce.values}_textureFilter(){return this._imageSmoothingEnabled?this._gl.LINEAR:this._gl.NEAREST}_setupRenderer(){let c=this._gl;c||l.console.error("_setupCanvases must be called before _setupRenderer"),this._unitQuad=this._makeQuadVertexBuffer(0,1,0,1),this._makeFirstPassShaderProgram(),this._makeSecondPassShaderProgram(),this._renderToTexture=c.createTexture(),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,this._renderToTexture),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this._renderingCanvas.width,this._renderingCanvas.height,0,c.RGBA,c.UNSIGNED_BYTE,null),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this._textureFilter()),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),this._glFrameBuffer=c.createFramebuffer(),c.bindFramebuffer(c.FRAMEBUFFER,this._glFrameBuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this._renderToTexture,0),c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA)}_makeFirstPassShaderProgram(){let c=this._glNumTextures=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS);const g=`\n            attribute vec2 a_output_position;\n            attribute vec2 a_texture_position;\n            attribute float a_index;\n\n            ${[...Array(c).keys()].map(M=>`uniform mat3 u_matrix_${M};`).join("\n")} // create a uniform mat3 for each potential tile to draw\n\n            varying vec2 v_texture_position;\n            varying float v_image_index;\n\n            void main() {\n\n                mat3 transform_matrix; // value will be set by the if/elses in makeConditional()\n\n                ${[...Array(c).keys()].map(M=>`${M>0?"else ":""}if(int(a_index) == ${M}) { transform_matrix = u_matrix_${M}; }`).join("\n")}\n\n                gl_Position = vec4(transform_matrix * vec3(a_output_position, 1), 1);\n\n                v_texture_position = a_texture_position;\n                v_image_index = a_index;\n            }\n            `;let v=this._gl,w=this.constructor.initShaderProgram(v,g,`\n            precision mediump float;\n\n            // our textures\n            uniform sampler2D u_images[${c}];\n            // our opacities\n            uniform float u_opacities[${c}];\n\n            // the varyings passed in from the vertex shader.\n            varying vec2 v_texture_position;\n            varying float v_image_index;\n\n            void main() {\n                // can't index directly with a variable, need to use a loop iterator hack\n                for(int i = 0; i < ${c}; ++i){\n                    if(i == int(v_image_index)){\n                        gl_FragColor = texture2D(u_images[i], v_texture_position) * u_opacities[i];\n                    }\n                }\n            }\n            `);v.useProgram(w),this._firstPass={shaderProgram:w,aOutputPosition:v.getAttribLocation(w,"a_output_position"),aTexturePosition:v.getAttribLocation(w,"a_texture_position"),aIndex:v.getAttribLocation(w,"a_index"),uTransformMatrices:[...Array(this._glNumTextures).keys()].map(M=>v.getUniformLocation(w,`u_matrix_${M}`)),uImages:v.getUniformLocation(w,"u_images"),uOpacities:v.getUniformLocation(w,"u_opacities"),bufferOutputPosition:v.createBuffer(),bufferTexturePosition:v.createBuffer(),bufferIndex:v.createBuffer()},v.uniform1iv(this._firstPass.uImages,[...Array(c).keys()]);let C=new Float32Array(12*c);for(let M=0;M<c;++M)C.set(Float32Array.from(this._unitQuad),12*M);v.bindBuffer(v.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),v.bufferData(v.ARRAY_BUFFER,C,v.STATIC_DRAW),v.enableVertexAttribArray(this._firstPass.aOutputPosition),v.bindBuffer(v.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),v.enableVertexAttribArray(this._firstPass.aTexturePosition),v.bindBuffer(v.ARRAY_BUFFER,this._firstPass.bufferIndex);let D=[...Array(this._glNumTextures).keys()].map(M=>Array(6).fill(M)).flat();v.bufferData(v.ARRAY_BUFFER,new Float32Array(D),v.STATIC_DRAW),v.enableVertexAttribArray(this._firstPass.aIndex)}_makeSecondPassShaderProgram(){let m=this._gl,g=this.constructor.initShaderProgram(m,"\n            attribute vec2 a_output_position;\n            attribute vec2 a_texture_position;\n\n            uniform mat3 u_matrix;\n\n            varying vec2 v_texture_position;\n\n            void main() {\n                gl_Position = vec4(u_matrix * vec3(a_output_position, 1), 1);\n\n                v_texture_position = a_texture_position;\n            }\n            ","\n            precision mediump float;\n\n            // our texture\n            uniform sampler2D u_image;\n\n            // the texCoords passed in from the vertex shader.\n            varying vec2 v_texture_position;\n\n            // the opacity multiplier for the image\n            uniform float u_opacity_multiplier;\n\n            void main() {\n                gl_FragColor = texture2D(u_image, v_texture_position);\n                gl_FragColor *= u_opacity_multiplier;\n            }\n            ");m.useProgram(g),this._secondPass={shaderProgram:g,aOutputPosition:m.getAttribLocation(g,"a_output_position"),aTexturePosition:m.getAttribLocation(g,"a_texture_position"),uMatrix:m.getUniformLocation(g,"u_matrix"),uImage:m.getUniformLocation(g,"u_image"),uOpacityMultiplier:m.getUniformLocation(g,"u_opacity_multiplier"),bufferOutputPosition:m.createBuffer(),bufferTexturePosition:m.createBuffer()},m.bindBuffer(m.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),m.bufferData(m.ARRAY_BUFFER,this._unitQuad,m.STATIC_DRAW),m.enableVertexAttribArray(this._secondPass.aOutputPosition),m.bindBuffer(m.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),m.bufferData(m.ARRAY_BUFFER,this._unitQuad,m.DYNAMIC_DRAW),m.enableVertexAttribArray(this._secondPass.aTexturePosition);let _=l.Mat3.makeScaling(2,2).multiply(l.Mat3.makeTranslation(-.5,-.5));m.uniformMatrix3fv(this._secondPass.uMatrix,!1,_.values)}_resizeRenderer(){let c=this._gl,f=this._renderingCanvas.width,m=this._renderingCanvas.height;c.viewport(0,0,f,m),c.deleteTexture(this._renderToTexture),this._renderToTexture=c.createTexture(),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,this._renderToTexture),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,f,m,0,c.RGBA,c.UNSIGNED_BYTE,null),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this._textureFilter()),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.bindFramebuffer(c.FRAMEBUFFER,this._glFrameBuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this._renderToTexture,0)}_setupCanvases(){let c=this;this._outputCanvas=this.canvas,this._outputContext=this._outputCanvas.getContext("2d"),this._renderingCanvas=document.createElement("canvas"),this._clippingCanvas=document.createElement("canvas"),this._clippingContext=this._clippingCanvas.getContext("2d"),this._renderingCanvas.width=this._clippingCanvas.width=this._outputCanvas.width,this._renderingCanvas.height=this._clippingCanvas.height=this._outputCanvas.height,this._gl=this._renderingCanvas.getContext("webgl"),this._resizeHandler=function(){c._outputCanvas!==c.viewer.drawer.canvas&&(c._outputCanvas.style.width=c.viewer.drawer.canvas.clientWidth+"px",c._outputCanvas.style.height=c.viewer.drawer.canvas.clientHeight+"px");let f=c._calculateCanvasSize();(c._outputCanvas.width!==f.x||c._outputCanvas.height!==f.y)&&(c._outputCanvas.width=f.x,c._outputCanvas.height=f.y),c._renderingCanvas.style.width=c._outputCanvas.clientWidth+"px",c._renderingCanvas.style.height=c._outputCanvas.clientHeight+"px",c._renderingCanvas.width=c._clippingCanvas.width=c._outputCanvas.width,c._renderingCanvas.height=c._clippingCanvas.height=c._outputCanvas.height,c._resizeRenderer()},this.viewer.addHandler("resize",this._resizeHandler)}_makeQuadVertexBuffer(c,f,m,g){return new Float32Array([c,g,f,g,c,m,c,m,f,g,f,m])}_tileReadyHandler(c){let f=c.tile,m=c.tiledImage;if(m.isTainted())return;let g=f.getCanvasContext(),_=g&&g.canvas;if(_&&!l.isCanvasTainted(_)){if(!this._TextureMap.get(_)){let D,H,O,w=this._gl,C=w.createTexture(),M=m.source.tileOverlap;if(f.sourceBounds?(H=Math.min(f.sourceBounds.width,_.width)/_.width,O=Math.min(f.sourceBounds.height,_.height)/_.height):(H=1,O=1),M>0){let S=this._calculateOverlapFraction(f,m);D=this._makeQuadVertexBuffer((0===f.x?0:S.x)*H,(f.isRightMost?1:1-S.x)*H,(0===f.y?0:S.y)*O,(f.isBottomMost?1:1-S.y)*O)}else D=1===H&&1===O?this._unitQuad:this._makeQuadVertexBuffer(0,H,0,O);this._TextureMap.set(_,{texture:C,position:D}),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,C),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,this._textureFilter()),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,this._textureFilter()),this._uploadImageData(g)}}else m.isTainted()||(m.setTainted(!0),l.console.warn("WebGL cannot be used to draw this TiledImage because it has tainted data. Does crossOriginPolicy need to be set?"),this._raiseDrawerErrorEvent(m,"Tainted data cannot be used by the WebGLDrawer. Falling back to CanvasDrawer for this TiledImage."))}_calculateOverlapFraction(c,f){let m=f.source.tileOverlap;return{x:m/(c.sourceBounds.width+((0===c.x?0:m)+(c.isRightMost?0:m))),y:m/(c.sourceBounds.height+((0===c.y?0:m)+(c.isBottomMost?0:m)))}}_unloadTextures(){Array.from(this._TextureMap.keys()).forEach(f=>{this._cleanupImageData(f)})}_uploadImageData(c){let f=this._gl,m=c.canvas;try{if(!m)throw c;f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,m)}catch(g){l.console.error("Error uploading image data to WebGL",g)}}_imageUnloadedHandler(c){this._cleanupImageData(c.context2D.canvas)}_cleanupImageData(c){let f=this._TextureMap.get(c);this._TextureMap.delete(c),f&&this._gl.deleteTexture(f.texture)}_setClip(){}_renderToClippingCanvas(c){if(this._clippingContext.clearRect(0,0,this._clippingCanvas.width,this._clippingCanvas.height),this._clippingContext.save(),this.viewer.viewport.getFlip()){const f=new l.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(f.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-f.x,0)}if(c._clip){let m=[{x:c._clip.x,y:c._clip.y},{x:c._clip.x+c._clip.width,y:c._clip.y},{x:c._clip.x+c._clip.width,y:c._clip.y+c._clip.height},{x:c._clip.x,y:c._clip.y+c._clip.height}].map(g=>{let _=c.imageToViewportCoordinates(g.x,g.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(_)});this._clippingContext.beginPath(),m.forEach((g,_)=>{this._clippingContext[0===_?"moveTo":"lineTo"](g.x,g.y)}),this._clippingContext.clip(),this._setClip()}if(c._croppingPolygons){let f=c._croppingPolygons.map(m=>m.map(g=>{let _=c.imageToViewportCoordinates(g.x,g.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(_)}));this._clippingContext.beginPath(),f.forEach(m=>{m.forEach((g,_)=>{this._clippingContext[0===_?"moveTo":"lineTo"](g.x,g.y)})}),this._clippingContext.clip()}if(this.viewer.viewport.getFlip()){const f=new l.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(f.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-f.x,0)}this._clippingContext.drawImage(this._renderingCanvas,0,0),this._clippingContext.restore()}_setRotations(c){var f=!1;this.viewport.getRotation(!0)%360!=0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),saveContext:f}),f=!1),c.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:c.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(c._getRotationPoint(!0),!0),saveContext:f})}_offsetForRotation(c){var f=c.point?c.point.times(l.pixelDensityRatio):this._getCanvasCenter(),m=this._outputContext;m.save(),m.translate(f.x,f.y),m.rotate(Math.PI/180*c.degrees),m.translate(-f.x,-f.y)}_flip(c){var f=(c=c||{}).point?c.point.times(l.pixelDensityRatio):this._getCanvasCenter(),m=this._outputContext;m.translate(f.x,0),m.scale(-1,1),m.translate(-f.x,0)}_drawDebugInfo(c,f,m){for(var g=c.length-1;g>=0;g--){var _=c[g].tile;try{this._drawDebugInfoOnTile(_,c.length,g,f,m)}catch(v){l.console.error(v)}}}_drawDebugInfoOnTile(c,f,m,g,_){var v=this.viewer.world.getIndexOfItem(g)%this.debugGridColor.length,w=this.context;w.save(),w.lineWidth=2*l.pixelDensityRatio,w.font="small-caps bold "+13*l.pixelDensityRatio+"px arial",w.strokeStyle=this.debugGridColor[v],w.fillStyle=this.debugGridColor[v],this._setRotations(g),_&&this._flip({point:c.position.plus(c.size.divide(2))}),w.strokeRect(c.position.x*l.pixelDensityRatio,c.position.y*l.pixelDensityRatio,c.size.x*l.pixelDensityRatio,c.size.y*l.pixelDensityRatio);var C=(c.position.x+c.size.x/2)*l.pixelDensityRatio,D=(c.position.y+c.size.y/2)*l.pixelDensityRatio;w.translate(C,D);const M=this.viewport.getRotation(!0);w.rotate(Math.PI/180*-M),w.translate(-C,-D),0===c.x&&0===c.y&&(w.fillText("Zoom: "+this.viewport.getZoom(),c.position.x*l.pixelDensityRatio,(c.position.y-30)*l.pixelDensityRatio),w.fillText("Pan: "+this.viewport.getBounds().toString(),c.position.x*l.pixelDensityRatio,(c.position.y-20)*l.pixelDensityRatio)),w.fillText("Level: "+c.level,(c.position.x+10)*l.pixelDensityRatio,(c.position.y+20)*l.pixelDensityRatio),w.fillText("Column: "+c.x,(c.position.x+10)*l.pixelDensityRatio,(c.position.y+30)*l.pixelDensityRatio),w.fillText("Row: "+c.y,(c.position.x+10)*l.pixelDensityRatio,(c.position.y+40)*l.pixelDensityRatio),w.fillText("Order: "+m+" of "+f,(c.position.x+10)*l.pixelDensityRatio,(c.position.y+50)*l.pixelDensityRatio),w.fillText("Size: "+c.size.toString(),(c.position.x+10)*l.pixelDensityRatio,(c.position.y+60)*l.pixelDensityRatio),w.fillText("Position: "+c.position.toString(),(c.position.x+10)*l.pixelDensityRatio,(c.position.y+70)*l.pixelDensityRatio),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(),g.getRotation(!0)%360!=0&&this._restoreRotationChanges(),w.restore()}_drawPlaceholder(c){const f=c.getBounds(!0),m=this.viewportToDrawerRectangle(c.getBounds(!0)),g=this._outputContext;let _;_="function"==typeof c.placeholderFillStyle?c.placeholderFillStyle(c,g):c.placeholderFillStyle,this._offsetForRotation({degrees:this.viewer.viewport.getRotation(!0)}),g.fillStyle=_,g.translate(m.x,m.y),g.rotate(Math.PI/180*f.degrees),g.translate(-m.x,-m.y),g.fillRect(m.x,m.y,m.width,m.height),this._restoreRotationChanges()}_getCanvasCenter(){return new l.Point(this.canvas.width/2,this.canvas.height/2)}_restoreRotationChanges(){this._outputContext.restore()}static initShaderProgram(c,f,m){function g(C,D,M){const H=C.createShader(D);return C.shaderSource(H,M),C.compileShader(H),C.getShaderParameter(H,C.COMPILE_STATUS)?H:(l.console.error(`An error occurred compiling the shaders: ${C.getShaderInfoLog(H)}`),C.deleteShader(H),null)}const _=g(c,c.VERTEX_SHADER,f),v=g(c,c.FRAGMENT_SHADER,m),w=c.createProgram();return c.attachShader(w,_),c.attachShader(w,v),c.linkProgram(w),c.getProgramParameter(w,c.LINK_STATUS)?w:(l.console.error(`Unable to initialize the shader program: ${c.getProgramInfoLog(w)}`),null)}}}(U),function(l){l.Viewport=function(d){var h=arguments;h.length&&h[0]instanceof l.Point&&(d={containerSize:h[0],contentSize:h[1],config:h[2]}),d.config&&(l.extend(!0,d,d.config),delete d.config),this._margins=l.extend({left:0,top:0,right:0,bottom:0},d.margins||{}),delete d.margins,d.initialDegrees=d.degrees,delete d.degrees,l.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:l.DEFAULT_SETTINGS.springStiffness,animationTime:l.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:l.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:l.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:l.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:l.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:l.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:l.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:l.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:l.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:l.DEFAULT_SETTINGS.degrees,flipped:l.DEFAULT_SETTINGS.flipped,homeFillsViewer:l.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:l.DEFAULT_SETTINGS.silenceMultiImageWarnings},d),this._updateContainerInnerSize(),this.centerSpringX=new l.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new l.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new l.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new l.Spring({initial:d.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new l.Rect(0,0,1,1),1),this.goHome(!0),this.update()},l.Viewport.prototype={get degrees(){return l.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(d){l.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(d)},resetContentSize:function(d){return l.console.assert(d,"[Viewport.resetContentSize] contentSize is required"),l.console.assert(d instanceof l.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),l.console.assert(d.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),l.console.assert(d.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new l.Rect(0,0,1,d.y/d.x),d.x),this},setHomeBounds:function(d,h){l.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(d,h)},_setContentBounds:function(d,h){l.console.assert(d,"[Viewport._setContentBounds] bounds is required"),l.console.assert(d instanceof l.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),l.console.assert(d.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),l.console.assert(d.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=d.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(h),this._contentBounds=d.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(h),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:h,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var d=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?d>=1?d:1:d>=1?1:d)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var d=this._contentBounds.getCenter(),h=1/this.getHomeZoom(),c=h/this.getAspectRatio();return new l.Rect(d.x-h/2,d.y-c/2,h,c)},goHome:function(d){return this.viewer&&this.viewer.raiseEvent("home",{immediately:d}),this.fitBounds(this.getHomeBounds(),d)},getMinZoom:function(){var d=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*d},getMaxZoom:function(){var d=this.maxZoomLevel;return d||(d=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,d/=this._contentBounds.width),Math.max(d,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new l.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return l.extend({},this._margins)},setMargins:function(d){l.console.assert("object"===l.type(d),"[Viewport.setMargins] margins must be an object"),this._margins=l.extend({left:0,top:0,right:0,bottom:0},d),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(d){return this.getBoundsNoRotate(d).rotate(-this.getRotation(d))},getBoundsNoRotate:function(d){var h=this.getCenter(d),c=1/this.getZoom(d),f=c/this.getAspectRatio();return new l.Rect(h.x-c/2,h.y-f/2,c,f)},getBoundsWithMargins:function(d){return this.getBoundsNoRotateWithMargins(d).rotate(-this.getRotation(d),this.getCenter(d))},getBoundsNoRotateWithMargins:function(d){var h=this.getBoundsNoRotate(d),c=this._containerInnerSize.x*this.getZoom(d);return h.x-=this._margins.left/c,h.y-=this._margins.top/c,h.width+=(this._margins.left+this._margins.right)/c,h.height+=(this._margins.top+this._margins.bottom)/c,h},getCenter:function(d){var f,m,g,_,v,D,h=new l.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),c=new l.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return d?h:this.zoomPoint?(f=this.pixelFromPoint(this.zoomPoint,!0),_=(g=1/(m=this.getZoom()))/this.getAspectRatio(),v=new l.Rect(h.x-g/2,h.y-_/2,g,_),D=this._pixelFromPoint(this.zoomPoint,v).minus(f).rotate(-this.getRotation(!0)).divide(this._containerInnerSize.x*m),c.plus(D)):c},getZoom:function(d){return d?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(d){return Math.max(Math.min(d,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(d){var v,w,C,H,O,A,h=this.viewportToViewerElementRectangle(d).getBoundingBox(),c=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),f=!1,m=!1;this.wrapHorizontal||(w=c.x-(h.x+h.width)+(v=h.width>c.width?this.visibilityRatio*c.width:this.visibilityRatio*h.width),C=c.x+c.width-h.x-v,v>c.width?(h.x+=(w+C)/2,f=!0):C<0?(h.x+=C,f=!0):w>0&&(h.x+=w,f=!0)),this.wrapVertical||(O=c.y-(h.y+h.height)+(H=h.height>c.height?this.visibilityRatio*c.height:this.visibilityRatio*h.height),A=c.y+c.height-h.y-H,H>c.height?(h.y+=(O+A)/2,m=!0):A<0?(h.y+=A,m=!0):O>0&&(h.y+=O,m=!0));var S=f||m,T=S?this.viewerElementToViewportRectangle(h):d.clone();return T.xConstrained=f,T.yConstrained=m,T.constraintApplied=S,T},_raiseConstraintsEvent:function(d){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:d})},applyConstraints:function(d){var h=this.getZoom(),c=this._applyZoomConstraints(h);h!==c&&this.zoomTo(c,this.zoomPoint,d);var f=this.getConstrainedBounds(!1);return f.constraintApplied&&(this.fitBounds(f,d),this._raiseConstraintsEvent(d)),this},ensureVisible:function(d){return this.applyConstraints(d)},_fitBounds:function(d,h){var c=(h=h||{}).immediately||!1,f=h.constraints||!1,m=this.getAspectRatio(),g=d.getCenter(),_=new l.Rect(d.x,d.y,d.width,d.height,d.degrees+this.getRotation()).getBoundingBox();_.getAspectRatio()>=m?_.height=_.width/m:_.width=_.height*m,_.x=g.x-_.width/2,_.y=g.y-_.height/2;var v=1/_.width;if(c)return this.panTo(g,!0),this.zoomTo(v,null,!0),f&&this.applyConstraints(!0),this;var w=this.getCenter(!0),C=this.getZoom(!0);this.panTo(w,!0),this.zoomTo(C,null,!0);var D=this.getBounds(),M=this.getZoom();if(0===M||Math.abs(v/M-1)<1e-8)return this.zoomTo(v,null,!0),this.panTo(g,c),f&&this.applyConstraints(!1),this;if(f){this.panTo(g,!1),v=this._applyZoomConstraints(v),this.zoomTo(v,null,!1);var H=this.getConstrainedBounds();this.panTo(w,!0),this.zoomTo(C,null,!0),this.fitBounds(H)}else{var A=_.rotate(-this.getRotation()).getTopLeft().times(v).minus(D.getTopLeft().times(M)).divide(v-M);this.zoomTo(v,A,c)}return this},fitBounds:function(d,h){return this._fitBounds(d,{immediately:h,constraints:!1})},fitBoundsWithConstraints:function(d,h){return this._fitBounds(d,{immediately:h,constraints:!0})},fitVertically:function(d){var h=new l.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(h,d)},fitHorizontally:function(d){var h=new l.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(h,d)},getConstrainedBounds:function(d){var h;return h=this.getBounds(d),this._applyBoundaryConstraints(h)},panBy:function(d,h){var c=new l.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(c.plus(d),h)},panTo:function(d,h){return h?(this.centerSpringX.resetTo(d.x),this.centerSpringY.resetTo(d.y)):(this.centerSpringX.springTo(d.x),this.centerSpringY.springTo(d.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:d,immediately:h}),this},zoomBy:function(d,h,c){return this.zoomTo(this.zoomSpring.target.value*d,h,c)},zoomTo:function(d,h,c){var f=this;return this.zoomPoint=h instanceof l.Point&&!isNaN(h.x)&&!isNaN(h.y)?h:null,c?this._adjustCenterSpringsForZoomPoint(function(){f.zoomSpring.resetTo(d)}):this.zoomSpring.springTo(d),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:d,refPoint:h,immediately:c}),this},setRotation:function(d,h){return this.rotateTo(d,null,h)},getRotation:function(d){return d?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(d,h,c){return this.rotateTo(d,h,c)},rotateTo:function(d,h,c){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===d&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=h instanceof l.Point&&!isNaN(h.x)&&!isNaN(h.y)?h:null,c)if(this.rotationPivot){if(!(d-this._oldDegrees))return this.rotationPivot=null,this;this._rotateAboutPivot(d)}else this.degreesSpring.resetTo(d);else{var m=l.positiveModulo(this.degreesSpring.current.value,360),g=l.positiveModulo(d,360),_=g-m;_>180?g-=360:_<-180&&(g+=360),this.degreesSpring.resetTo(d+(m-g)),this.degreesSpring.springTo(d)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:d,immediately:!!c,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(d,h,c){return this.rotateTo(this.degreesSpring.target.value+d,h,c)},resize:function(d,h){var c=this.getBoundsNoRotate(),f=c;this.containerSize.x=d.x,this.containerSize.y=d.y,this._updateContainerInnerSize(),h&&(f.width=c.width*(d.x/this.containerSize.x),f.height=f.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:d,maintain:h});var g=this.fitBounds(f,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:d,maintain:h}),g},_updateContainerInnerSize:function(){this._containerInnerSize=new l.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var d=this;this._adjustCenterSpringsForZoomPoint(function(){d.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var h=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,h||!this.zoomSpring.isAtTargetValue()||!this.centerSpringX.isAtTargetValue()||!this.centerSpringY.isAtTargetValue()||!this.degreesSpring.isAtTargetValue()},_rotateAboutPivot:function(d){var h=!0===d,c=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(c.x),this.centerSpringY.shiftBy(c.y),h?this.degreesSpring.update():this.degreesSpring.resetTo(d);var m=c.rotate(-1*(this.degreesSpring.current.value-this._oldDegrees)).times(-1);this.centerSpringX.shiftBy(m.x),this.centerSpringY.shiftBy(m.y)},_adjustCenterSpringsForZoomPoint:function(d){if(this.zoomPoint){var h=this.pixelFromPoint(this.zoomPoint,!0);d();var f=this.pixelFromPoint(this.zoomPoint,!0).minus(h),m=this.deltaPointsFromPixels(f,!0);this.centerSpringX.shiftBy(m.x),this.centerSpringY.shiftBy(m.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else d()},deltaPixelsFromPointsNoRotate:function(d,h){return d.times(this._containerInnerSize.x*this.getZoom(h))},deltaPixelsFromPoints:function(d,h){return this.deltaPixelsFromPointsNoRotate(d.rotate(this.getRotation(h)),h)},deltaPointsFromPixelsNoRotate:function(d,h){return d.divide(this._containerInnerSize.x*this.getZoom(h))},deltaPointsFromPixels:function(d,h){return this.deltaPointsFromPixelsNoRotate(d,h).rotate(-this.getRotation(h))},pixelFromPointNoRotate:function(d,h){return this._pixelFromPointNoRotate(d,this.getBoundsNoRotate(h))},pixelFromPoint:function(d,h){return this._pixelFromPoint(d,this.getBoundsNoRotate(h))},_pixelFromPointNoRotate:function(d,h){return d.minus(h.getTopLeft()).times(this._containerInnerSize.x/h.width).plus(new l.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(d,h){return this._pixelFromPointNoRotate(d.rotate(this.getRotation(!0),this.getCenter(!0)),h)},pointFromPixelNoRotate:function(d,h){var c=this.getBoundsNoRotate(h);return d.minus(new l.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/c.width).plus(c.getTopLeft())},pointFromPixel:function(d,h){return this.pointFromPixelNoRotate(d,h).rotate(-this.getRotation(h),this.getCenter(h))},_viewportToImageDelta:function(d,h){var c=this._contentBoundsNoRotate.width;return new l.Point(d*this._contentSizeNoRotate.x/c,h*this._contentSizeNoRotate.x/c)},viewportToImageCoordinates:function(d,h){if(d instanceof l.Point)return this.viewportToImageCoordinates(d.x,d.y);if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)this.silenceMultiImageWarnings||l.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===c)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(d,h,!0)}return this._viewportToImageDelta(d-this._contentBoundsNoRotate.x,h-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(d,h){var c=this._contentBoundsNoRotate.width;return new l.Point(d/this._contentSizeNoRotate.x*c,h/this._contentSizeNoRotate.x*c)},imageToViewportCoordinates:function(d,h){if(d instanceof l.Point)return this.imageToViewportCoordinates(d.x,d.y);if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)this.silenceMultiImageWarnings||l.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===c)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(d,h,!0)}var m=this._imageToViewportDelta(d,h);return m.x+=this._contentBoundsNoRotate.x,m.y+=this._contentBoundsNoRotate.y,m},imageToViewportRectangle:function(d,h,c,f){var m=d;if(m instanceof l.Rect||(m=new l.Rect(d,h,c,f)),this.viewer){var g=this.viewer.world.getItemCount();if(g>1)this.silenceMultiImageWarnings||l.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===g)return this.viewer.world.getItemAt(0).imageToViewportRectangle(d,h,c,f,!0)}var v=this.imageToViewportCoordinates(m.x,m.y),w=this._imageToViewportDelta(m.width,m.height);return new l.Rect(v.x,v.y,w.x,w.y,m.degrees)},viewportToImageRectangle:function(d,h,c,f){var m=d;if(m instanceof l.Rect||(m=new l.Rect(d,h,c,f)),this.viewer){var g=this.viewer.world.getItemCount();if(g>1)this.silenceMultiImageWarnings||l.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===g)return this.viewer.world.getItemAt(0).viewportToImageRectangle(d,h,c,f,!0)}var v=this.viewportToImageCoordinates(m.x,m.y),w=this._viewportToImageDelta(m.width,m.height);return new l.Rect(v.x,v.y,w.x,w.y,m.degrees)},viewerElementToImageCoordinates:function(d){var h=this.pointFromPixel(d,!0);return this.viewportToImageCoordinates(h)},imageToViewerElementCoordinates:function(d){var h=this.imageToViewportCoordinates(d);return this.pixelFromPoint(h,!0)},windowToImageCoordinates:function(d){l.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var h=d.minus(l.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(h)},imageToWindowCoordinates:function(d){return l.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(d).plus(l.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(d){return this.pointFromPixel(d,!0)},viewportToViewerElementCoordinates:function(d){return this.pixelFromPoint(d,!0)},viewerElementToViewportRectangle:function(d){return l.Rect.fromSummits(this.pointFromPixel(d.getTopLeft(),!0),this.pointFromPixel(d.getTopRight(),!0),this.pointFromPixel(d.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(d){return l.Rect.fromSummits(this.pixelFromPoint(d.getTopLeft(),!0),this.pixelFromPoint(d.getTopRight(),!0),this.pixelFromPoint(d.getBottomLeft(),!0))},windowToViewportCoordinates:function(d){l.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var h=d.minus(l.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(h)},viewportToWindowCoordinates:function(d){return l.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(d).plus(l.getElementPosition(this.viewer.element))},viewportToImageZoom:function(d){if(this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||l.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===h)return this.viewer.world.getItemAt(0).viewportToImageZoom(d)}return d*(this._containerInnerSize.x/this._contentSizeNoRotate.x*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(d){if(this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||l.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image. Instead, use [TiledImage.imageToViewportZoom] for the specific image of interest");else if(1===h)return this.viewer.world.getItemAt(0).imageToViewportZoom(d)}return d*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(d){return this.flipped===d||(this.flipped=d,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:d})),this},getMaxZoomPixelRatio:function(){return this.maxZoomPixelRatio},setMaxZoomPixelRatio:function(d,h=!0,c=!1){l.console.assert(!isNaN(d),"[Viewport.setMaxZoomPixelRatio] ratio must be a number"),!isNaN(d)&&(this.maxZoomPixelRatio=d,h&&this.getZoom()>this.getMaxZoom()&&this.applyConstraints(c))}}}(U),function(l){l.TiledImage=function(d){this._initialized=!1,l.console.assert(d.tileCache,"[TiledImage] options.tileCache is required"),l.console.assert(d.drawer,"[TiledImage] options.drawer is required"),l.console.assert(d.viewer,"[TiledImage] options.viewer is required"),l.console.assert(d.imageLoader,"[TiledImage] options.imageLoader is required"),l.console.assert(d.source,"[TiledImage] options.source is required"),l.console.assert(!d.clip||d.clip instanceof l.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),l.EventSource.call(this),this._tileCache=d.tileCache,delete d.tileCache,this._drawer=d.drawer,delete d.drawer,this._imageLoader=d.imageLoader,delete d.imageLoader,d.clip instanceof l.Rect&&(this._clip=d.clip.clone()),delete d.clip;var h=d.x||0;delete d.x;var c=d.y||0;delete d.y,this.normHeight=d.source.dimensions.y/d.source.dimensions.x,this.contentAspectX=d.source.dimensions.x/d.source.dimensions.y;var f=1;d.width?(f=d.width,delete d.width,d.height&&(l.console.error("specifying both width and height to a tiledImage is not supported"),delete d.height)):d.height&&(f=d.height/this.normHeight,delete d.height);var m=d.fitBounds;delete d.fitBounds;var g=d.fitBoundsPlacement||U.Placement.CENTER;delete d.fitBoundsPlacement;var _=d.degrees||0;delete d.degrees;var v=d.ajaxHeaders;delete d.ajaxHeaders,l.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_needsDraw:!0,_needsUpdate:!0,_hasOpaqueTile:!1,_tilesLoading:0,_tilesToDraw:[],_lastDrawn:[],_isBlending:!1,_wasBlending:!1,_isTainted:!1,springStiffness:l.DEFAULT_SETTINGS.springStiffness,animationTime:l.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:l.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:l.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:l.DEFAULT_SETTINGS.wrapVertical,immediateRender:l.DEFAULT_SETTINGS.immediateRender,blendTime:l.DEFAULT_SETTINGS.blendTime,alwaysBlend:l.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:l.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:l.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:l.DEFAULT_SETTINGS.iOSDevice,debugMode:l.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:l.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:l.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:l.DEFAULT_SETTINGS.placeholderFillStyle,opacity:l.DEFAULT_SETTINGS.opacity,preload:l.DEFAULT_SETTINGS.preload,compositeOperation:l.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:l.DEFAULT_SETTINGS.subPixelRoundingForTransparency,maxTilesPerFrame:l.DEFAULT_SETTINGS.maxTilesPerFrame},d),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new l.Spring({initial:h,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new l.Spring({initial:c,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new l.Spring({initial:f,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new l.Spring({initial:_,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),m&&this.fitBounds(m,g,!0),this._ownAjaxHeaders={},this.setAjaxHeaders(v,!1),this._initialized=!0},l.extend(l.TiledImage.prototype,l.EventSource.prototype,{needsDraw:function(){return this._needsDraw},redraw:function(){this._needsDraw=!0},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(d){d!==this._fullyLoaded&&(this._fullyLoaded=d,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=l.now(),this._needsDraw=!0},update:function(d){let h=this._xSpring.update(),c=this._ySpring.update(),f=this._scaleSpring.update(),m=this._degreesSpring.update(),g=h||c||f||m||this._needsUpdate;if(g||d||!this._fullyLoaded){let _=this._updateLevelsForViewport();this._setFullyLoaded(_)}return this._needsUpdate=!1,!!g&&(this._updateForScale(),this._raiseBoundsChange(),this._needsDraw=!0,!0)},setDrawn:function(){return this._needsDraw=this._isBlending||this._wasBlending,this._needsDraw},setTainted(d){this._isTainted=d},isTainted(){return this._isTainted},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy(this.viewer)},getBounds:function(d){return this.getBoundsNoRotate(d).rotate(this.getRotation(d),this._getRotationPoint(d))},getBoundsNoRotate:function(d){return d?new l.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new l.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return l.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(d){var h=this.getBoundsNoRotate(d);if(this._clip){var m=this._clip.times((d?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x);h=new l.Rect(h.x+m.x,h.y+m.y,m.width,m.height)}return h.rotate(this.getRotation(d),this._getRotationPoint(d))},getTileBounds:function(d,h,c){var f=this.source.getNumTiles(d),m=(f.x+h%f.x)%f.x,g=(f.y+c%f.y)%f.y,_=this.source.getTileBounds(d,m,g);return this.getFlip()&&(_.x=Math.max(0,1-_.x-_.width)),_.x+=(h-m)/f.x,_.y+=this._worldHeightCurrent/this._worldWidthCurrent*((c-g)/f.y),_},getContentSize:function(){return new l.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var d=this.imageToWindowCoordinates(new l.Point(0,0)),h=this.imageToWindowCoordinates(this.getContentSize());return new l.Point(h.x-d.x,h.y-d.y)},_viewportToImageDelta:function(d,h,c){var f=c?this._scaleSpring.current.value:this._scaleSpring.target.value;return new l.Point(d*(this.source.dimensions.x/f),h*(this.source.dimensions.y*this.contentAspectX/f))},viewportToImageCoordinates:function(d,h,c){var f;return d instanceof l.Point?(c=h,f=d):f=new l.Point(d,h),f=f.rotate(-this.getRotation(c),this._getRotationPoint(c)),c?this._viewportToImageDelta(f.x-this._xSpring.current.value,f.y-this._ySpring.current.value):this._viewportToImageDelta(f.x-this._xSpring.target.value,f.y-this._ySpring.target.value)},_imageToViewportDelta:function(d,h,c){var f=c?this._scaleSpring.current.value:this._scaleSpring.target.value;return new l.Point(d/this.source.dimensions.x*f,h/this.source.dimensions.y/this.contentAspectX*f)},imageToViewportCoordinates:function(d,h,c){d instanceof l.Point&&(c=h,h=d.y,d=d.x);var f=this._imageToViewportDelta(d,h,c);return c?(f.x+=this._xSpring.current.value,f.y+=this._ySpring.current.value):(f.x+=this._xSpring.target.value,f.y+=this._ySpring.target.value),f.rotate(this.getRotation(c),this._getRotationPoint(c))},imageToViewportRectangle:function(d,h,c,f,m){var g=d;g instanceof l.Rect?m=h:g=new l.Rect(d,h,c,f);var _=this.imageToViewportCoordinates(g.getTopLeft(),m),v=this._imageToViewportDelta(g.width,g.height,m);return new l.Rect(_.x,_.y,v.x,v.y,g.degrees+this.getRotation(m))},viewportToImageRectangle:function(d,h,c,f,m){var g=d;d instanceof l.Rect?m=h:g=new l.Rect(d,h,c,f);var _=this.viewportToImageCoordinates(g.getTopLeft(),m),v=this._viewportToImageDelta(g.width,g.height,m);return new l.Rect(_.x,_.y,v.x,v.y,g.degrees-this.getRotation(m))},viewerElementToImageCoordinates:function(d){var h=this.viewport.pointFromPixel(d,!0);return this.viewportToImageCoordinates(h)},imageToViewerElementCoordinates:function(d){var h=this.imageToViewportCoordinates(d);return this.viewport.pixelFromPoint(h,!0)},windowToImageCoordinates:function(d){var h=d.minus(U.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(h)},imageToWindowCoordinates:function(d){return this.imageToViewerElementCoordinates(d).plus(U.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(d){var h=this._scaleSpring.current.value;return d=d.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new l.Rect((d.x-this._xSpring.current.value)/h,(d.y-this._ySpring.current.value)/h,d.width/h,d.height/h,d.degrees)},viewportToImageZoom:function(d){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*d},imageToViewportZoom:function(d){return d/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(d,h){var c=this._xSpring.target.value===d.x&&this._ySpring.target.value===d.y;if(h){if(c&&this._xSpring.current.value===d.x&&this._ySpring.current.value===d.y)return;this._xSpring.resetTo(d.x),this._ySpring.resetTo(d.y),this._needsDraw=!0,this._needsUpdate=!0}else{if(c)return;this._xSpring.springTo(d.x),this._ySpring.springTo(d.y),this._needsDraw=!0,this._needsUpdate=!0}c||this._raiseBoundsChange()},setWidth:function(d,h){this._setScale(d,h)},setHeight:function(d,h){this._setScale(d/this.normHeight,h)},setCroppingPolygons:function(d){try{if(!l.isArray(d))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=d.map(function(f){return function(f){return f.map(function(m){try{if(function(f){return f instanceof l.Point||"number"==typeof f.x&&"number"==typeof f.y}(m))return{x:m.x,y:m.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})}(f)}),this._needsDraw=!0}catch(f){l.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),l.console.error(f),this.resetCroppingPolygons()}},resetCroppingPolygons:function(){this._croppingPolygons=null,this._needsDraw=!0},fitBounds:function(d,h,c){var f=l.Placement.properties[h=h||l.Placement.CENTER],m=this.contentAspectX,g=0,_=0,v=1,w=1;if(this._clip&&(m=this._clip.getAspectRatio(),v=this._clip.width/this.source.dimensions.x,w=this._clip.height/this.source.dimensions.y,d.getAspectRatio()>m?(g=this._clip.x/this._clip.height*d.height,_=this._clip.y/this._clip.height*d.height):(g=this._clip.x/this._clip.width*d.width,_=this._clip.y/this._clip.width*d.width)),d.getAspectRatio()>m){var C=d.height/w,D=0;f.isHorizontallyCentered?D=(d.width-d.height*m)/2:f.isRight&&(D=d.width-d.height*m),this.setPosition(new l.Point(d.x-g+D,d.y-_),c),this.setHeight(C,c)}else{var M=d.width/v,H=0;f.isVerticallyCentered?H=(d.height-d.width/m)/2:f.isBottom&&(H=d.height-d.width/m),this.setPosition(new l.Point(d.x-g,d.y-_+H),c),this.setWidth(M,c)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(d){l.console.assert(!d||d instanceof l.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),this._clip=d instanceof l.Rect?d.clone():null,this._needsUpdate=!0,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return this.flipped},setFlip:function(d){this.flipped=d},get flipped(){return this._flipped},set flipped(d){let h=this._flipped!==!!d;this._flipped=!!d,h&&(this.update(!0),this._needsDraw=!0,this._raiseBoundsChange())},get wrapHorizontal(){return this._wrapHorizontal},set wrapHorizontal(d){let h=this._wrapHorizontal!==!!d;this._wrapHorizontal=!!d,this._initialized&&h&&(this.update(!0),this._needsDraw=!0)},get wrapVertical(){return this._wrapVertical},set wrapVertical(d){let h=this._wrapVertical!==!!d;this._wrapVertical=!!d,this._initialized&&h&&(this.update(!0),this._needsDraw=!0)},get debugMode(){return this._debugMode},set debugMode(d){this._debugMode=!!d,this._needsDraw=!0},getOpacity:function(){return this.opacity},setOpacity:function(d){this.opacity=d},get opacity(){return this._opacity},set opacity(d){d!==this.opacity&&(this._opacity=d,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(d){this._preload=!!d,this._needsDraw=!0},getRotation:function(d){return d?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(d,h){this._degreesSpring.target.value===d&&this._degreesSpring.isAtTargetValue()||(h?this._degreesSpring.resetTo(d):this._degreesSpring.springTo(d),this._needsDraw=!0,this._needsUpdate=!0,this._raiseBoundsChange())},getDrawArea:function(){if(0===this._opacity&&!this._preload)return!1;var d=this._viewportToTiledImageRectangle(this.viewport.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var h=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));d=d.intersection(h)}return d},getTilesToDraw:function(){let d=this._tilesToDraw.flat();return this._updateTilesInViewport(d),d=this._tilesToDraw.flat(),d.forEach(h=>{h.tile.beingDrawn=!0}),this._lastDrawn=d,d},_getRotationPoint:function(d){return this.getBoundsNoRotate(d).getCenter()},get compositeOperation(){return this._compositeOperation},set compositeOperation(d){d!==this._compositeOperation&&(this._compositeOperation=d,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this._compositeOperation}))},getCompositeOperation:function(){return this._compositeOperation},setCompositeOperation:function(d){this.compositeOperation=d},setAjaxHeaders:function(d,h){null===d&&(d={}),l.isPlainObject(d)?(this._ownAjaxHeaders=d,this._updateAjaxHeaders(h)):console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},_updateAjaxHeaders:function(d){if(void 0===d&&(d=!0),this.ajaxHeaders=l.isPlainObject(this.viewer.ajaxHeaders)?l.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this._ownAjaxHeaders,d){var h,c,f,m;for(var g in this.tilesMatrix)for(var _ in h=this.source.getNumTiles(g),this.tilesMatrix[g])for(var v in c=(h.x+_%h.x)%h.x,this.tilesMatrix[g][_])if(f=(h.y+v%h.y)%h.y,(m=this.tilesMatrix[g][_][v]).loadWithAjax=this.loadTilesWithAjax,m.loadWithAjax){var w=this.source.getTileAjaxHeaders(g,c,f);m.ajaxHeaders=l.extend({},this.ajaxHeaders,w)}else m.ajaxHeaders=null;for(var C=0;C<this._imageLoader.jobQueue.length;C++){var D=this._imageLoader.jobQueue[C];D.loadWithAjax=D.tile.loadWithAjax,D.ajaxHeaders=D.tile.loadWithAjax?D.tile.ajaxHeaders:null}}},_setScale:function(d,h){var c=this._scaleSpring.target.value===d;if(h){if(c&&this._scaleSpring.current.value===d)return;this._scaleSpring.resetTo(d),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}else{if(c)return;this._scaleSpring.springTo(d),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}c||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var d=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),h=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,c=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(h/this.minPixelRatio)/Math.log(2))));return c=Math.max(c,this.source.minLevel||0),{lowestLevel:d=Math.min(d,c),highestLevel:c}},_updateLevelsForViewport:function(){var d=this._getLevelsInterval(),h=d.lowestLevel,c=d.highestLevel,f=[],m=this.getDrawArea(),g=l.now();if(this._lastDrawn.forEach(j=>{j.tile.beingDrawn=!1}),this._tilesToDraw=[],this._tilesLoading=0,this.loadingCoverage={},!m)return this._needsDraw=!1,this._fullyLoaded;var _=new Array(c-h+1);for(let j=0,ne=c;ne>=h;ne--,j++)_[j]=ne;for(let j=c+1;j<=this.source.maxLevel;j++){var v=this.tilesMatrix[j]&&this.tilesMatrix[j][0]&&this.tilesMatrix[j][0][0];if(v&&v.isBottomMost&&v.isRightMost&&v.loaded){_.push(j);break}}let w=!1;for(let j=0;j<_.length;j++){let ne=_[j];var C=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(ne),!0).x*this._scaleSpring.current.value;if(j===_.length-1||C>=this.minPixelRatio)w=!0;else if(!w)continue;var D=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(ne),!1).x*this._scaleSpring.current.value,M=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,H=this.immediateRender?1:M,O=Math.min(1,(C-.5)/.5),A=H/Math.abs(H-D),S=this._updateLevel(ne,O,A,m,g,f);f=S.bestTiles;var T=S.updatedTiles.filter(V=>V.loaded);if(this._tilesToDraw[ne]=T.map(function(V,ae,J){return function(ce){return{tile:ce,level:V,levelOpacity:ae,currentTime:J}}}(ne,O,g)),this._providesCoverage(this.coverage,ne))break}return f&&f.length>0?(f.forEach(function(j){j&&!j.context2D&&this._loadTile(j,g)},this),this._needsDraw=!0,!1):0===this._tilesLoading},_updateTilesInViewport:function(d){let h=l.now(),c=this;this._tilesLoading=0,this._wasBlending=this._isBlending,this._isBlending=!1,this.loadingCoverage={};let f=d.length?d[0].level:0;if(!this.getDrawArea())return;function g(v){let w=v.tile;if(w&&w.loaded){let C=c._blendTile(w,w.x,w.y,v.level,v.levelOpacity,h,f);c._isBlending=c._isBlending||C,c._needsDraw=c._needsDraw||C||c._wasBlending}}let _=0;for(let v=0;v<d.length;v++){let w=d[v];g(w),this._providesCoverage(this.coverage,w.level)&&(_=Math.max(_,w.level))}if(_>0)for(let v in this._tilesToDraw)v<_&&delete this._tilesToDraw[v]},_blendTile:function(d,h,c,f,m,g,_){let w,C,v=1e3*this.blendTime;return d.blendStart||(d.blendStart=g),w=g-d.blendStart,C=v?Math.min(1,w/v):1,f===_&&(C=1,w=v),this.alwaysBlend&&(C*=m),d.opacity=C,1===C&&(this._setCoverage(this.coverage,f,h,c,!0),this._hasOpaqueTile=!0),w<v},_updateLevel:function(d,h,c,f,m,g){var _=f.getBoundingBox().getTopLeft(),v=f.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:!0,level:d,opacity:h,visibility:c,drawArea:f,topleft:_,bottomright:v,currenttime:m,best:g}),this._resetCoverage(this.coverage,d),this._resetCoverage(this.loadingCoverage,d);var w=this._getCornerTiles(d,_,v),C=w.topLeft,D=w.bottomRight,M=this.source.getNumTiles(d),H=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(D.x+=1,this.wrapHorizontal||(D.x=Math.min(D.x,M.x-1)));for(var O=Math.max(0,(D.x-C.x)*(D.y-C.y)),A=new Array(O),S=0,T=C.x;T<=D.x;T++)for(var k=C.y;k<=D.y;k++){var j;if(this.getFlip()){var ne=(M.x+T%M.x)%M.x;j=T+M.x-ne-ne-1}else j=T;if(null!==f.intersection(this.getTileBounds(d,j,k))){var V=this._updateTile(j,k,d,c,H,M,m,g);g=V.bestTiles,A[S]=V.tile,S+=1}}return{bestTiles:g,updatedTiles:A}},_positionTile:function(d,h,c,f,m){var g=d.bounds.getTopLeft();g.x*=this._scaleSpring.current.value,g.y*=this._scaleSpring.current.value,g.x+=this._xSpring.current.value,g.y+=this._ySpring.current.value;var _=d.bounds.getSize();_.x*=this._scaleSpring.current.value,_.y*=this._scaleSpring.current.value,d.positionedBounds.x=g.x,d.positionedBounds.y=g.y,d.positionedBounds.width=_.x,d.positionedBounds.height=_.y;var v=c.pixelFromPointNoRotate(g,!0),w=c.pixelFromPointNoRotate(g,!1),C=c.deltaPixelsFromPointsNoRotate(_,!0),D=c.deltaPixelsFromPointsNoRotate(_,!1),M=w.plus(D.divide(2)),H=f.squaredDistanceTo(M);this.viewer.drawer.minimumOverlapRequired(this)&&(h||(C=C.plus(new l.Point(1,1))),d.isRightMost&&this.wrapHorizontal&&(C.x+=.75),d.isBottomMost&&this.wrapVertical&&(C.y+=.75)),d.position=v,d.size=C,d.squaredDistance=H,d.visibility=m},_updateTile:function(d,h,c,f,m,g,_,v){var w=this._getTile(d,h,c,_,g);this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:w}),this._setCoverage(this.coverage,c,d,h,!1);var C=w.loaded||w.loading||this._isCovered(this.loadingCoverage,c,d,h);if(this._setCoverage(this.loadingCoverage,c,d,h,C),!w.exists)return{bestTiles:v,tile:w};if(w.loaded&&1===w.opacity&&this._setCoverage(this.coverage,c,d,h,!0),this._positionTile(w,this.source.tileOverlap,this.viewport,m,f),!w.loaded)if(w.context2D)this._setTileLoaded(w);else{var D=this._tileCache.getImageRecord(w.cacheKey);D&&this._setTileLoaded(w,D.getData())}return w.loading?this._tilesLoading++:C||(v=this._compareTiles(v,w,this.maxTilesPerFrame)),{bestTiles:v,tile:w}},_getCornerTiles:function(d,h,c){var f,m;this.wrapHorizontal?(f=l.positiveModulo(h.x,1),m=l.positiveModulo(c.x,1)):(f=Math.max(0,h.x),m=Math.min(1,c.x));var g,_,v=1/this.source.aspectRatio;this.wrapVertical?(g=l.positiveModulo(h.y,v),_=l.positiveModulo(c.y,v)):(g=Math.max(0,h.y),_=Math.min(v,c.y));var w=this.source.getTileAtPoint(d,new l.Point(f,g)),C=this.source.getTileAtPoint(d,new l.Point(m,_)),D=this.source.getNumTiles(d);return this.wrapHorizontal&&(w.x+=D.x*Math.floor(h.x),C.x+=D.x*Math.floor(c.x)),this.wrapVertical&&(w.y+=D.y*Math.floor(h.y/v),C.y+=D.y*Math.floor(c.y/v)),{topLeft:w,bottomRight:C}},_getTile:function(d,h,c,f,m){var g,_,v,w,C,D,M,H,O,A,S=this.tilesMatrix,T=this.source;return S[c]||(S[c]={}),S[c][d]||(S[c][d]={}),(!S[c][d][h]||!S[c][d][h].flipped!=!this.flipped)&&(g=(m.x+d%m.x)%m.x,_=(m.y+h%m.y)%m.y,v=this.getTileBounds(c,d,h),w=T.getTileBounds(c,g,_,!0),C=T.tileExists(c,g,_),D=T.getTileUrl(c,g,_),M=T.getTilePostData(c,g,_),this.loadTilesWithAjax?(H=T.getTileAjaxHeaders(c,g,_),l.isPlainObject(this.ajaxHeaders)&&(H=l.extend({},this.ajaxHeaders,H))):H=null,O=T.getContext2D?T.getContext2D(c,g,_):void 0,A=new l.Tile(c,d,h,v,C,D,O,this.loadTilesWithAjax,H,w,M,T.getTileHashKey(c,g,_,D,H,M)),this.getFlip()?0===g&&(A.isRightMost=!0):g===m.x-1&&(A.isRightMost=!0),_===m.y-1&&(A.isBottomMost=!0),A.flipped=this.flipped,S[c][d][h]=A),(A=S[c][d][h]).lastTouchTime=f,A},_loadTile:function(d,h){var c=this;d.loading=!0,this._imageLoader.addJob({src:d.getUrl(),tile:d,source:this.source,postData:d.postData,loadWithAjax:d.loadWithAjax,ajaxHeaders:d.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(f,m,g){c._onTileLoad(d,h,f,m,g)},abort:function(){d.loading=!1}})},_onTileLoad:function(d,h,c,f,m){if(!c)return l.console.error("Tile %s failed to load: %s - error: %s",d,d.getUrl(),f),this.viewer.raiseEvent("tile-load-failed",{tile:d,tiledImage:this,time:h,message:f,tileRequest:m}),d.loading=!1,void(d.exists=!1);if(d.exists=!0,h<this.lastResetTime)return l.console.warn("Ignoring tile %s loaded before reset: %s",d,d.getUrl()),void(d.loading=!1);var w;w=this.source.getClosestLevel(),this._setTileLoaded(d,c,w,m)},_setTileLoaded:function(d,h,c,f){var m=0,g=!1,_=this;function v(){return g&&l.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),m++,w}function w(){0===--m&&(d.loading=!1,d.loaded=!0,d.hasTransparency=_.source.hasTransparency(d.context2D,d.getUrl(),d.ajaxHeaders,d.postData),d.context2D||_._tileCache.cacheTile({data:h,tile:d,cutoff:c,tiledImage:_}),_.viewer.raiseEvent("tile-ready",{tile:d,tiledImage:_,tileRequest:f}),_._needsDraw=!0)}var C=v();this.viewer.raiseEvent("tile-loaded",{tile:d,tiledImage:this,tileRequest:f,get image(){return l.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),h},data:h,getCompletionCallback:v}),g=!0,C()},_compareTiles:function(d,h,c){return d?(d.push(h),this._sortTiles(d),d.length>c&&d.pop(),d):[h]},_sortTiles:function(d){d.sort(function(h,c){return null===h?1:null===c?-1:h.visibility===c.visibility?h.squaredDistance-c.squaredDistance:c.visibility-h.visibility})},_providesCoverage:function(d,h,c,f){var m,g,_,v;if(!d[h])return!1;if(void 0===c||void 0===f){for(_ in m=d[h])if(Object.prototype.hasOwnProperty.call(m,_))for(v in g=m[_])if(Object.prototype.hasOwnProperty.call(g,v)&&!g[v])return!1;return!0}return void 0===d[h][c]||void 0===d[h][c][f]||!0===d[h][c][f]},_isCovered:function(d,h,c,f){return void 0===c||void 0===f?this._providesCoverage(d,h+1):this._providesCoverage(d,h+1,2*c,2*f)&&this._providesCoverage(d,h+1,2*c,2*f+1)&&this._providesCoverage(d,h+1,2*c+1,2*f)&&this._providesCoverage(d,h+1,2*c+1,2*f+1)},_setCoverage:function(d,h,c,f,m){d[h]?(d[h][c]||(d[h][c]={}),d[h][c][f]=m):l.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",h)},_resetCoverage:function(d,h){d[h]={}}})}(U),function(l){var d=function(c){l.console.assert(c,"[TileCache.cacheTile] options is required"),l.console.assert(c.tile,"[TileCache.cacheTile] options.tile is required"),l.console.assert(c.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=c.tile,this.tiledImage=c.tiledImage},h=function(c){l.console.assert(c,"[ImageRecord] options is required"),l.console.assert(c.data,"[ImageRecord] options.data is required"),this._tiles=[],c.create.apply(null,[this,c.data,c.ownerTile]),this._destroyImplementation=c.destroy.bind(null,this),this.getImage=c.getImage.bind(null,this),this.getData=c.getData.bind(null,this),this.getRenderedContext=c.getRenderedContext.bind(null,this)};h.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(c){l.console.assert(c,"[ImageRecord.addTile] tile is required"),this._tiles.push(c)},removeTile:function(c){for(var f=0;f<this._tiles.length;f++)if(this._tiles[f]===c)return void this._tiles.splice(f,1);l.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",c)},getTileCount:function(){return this._tiles.length}},l.TileCache=function(c){this._maxImageCacheCount=(c=c||{}).maxImageCacheCount||l.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},l.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(c){l.console.assert(c,"[TileCache.cacheTile] options is required"),l.console.assert(c.tile,"[TileCache.cacheTile] options.tile is required"),l.console.assert(c.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),l.console.assert(c.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var f=c.cutoff||0,m=this._tilesLoaded.length,g=this._imagesLoaded[c.tile.cacheKey];if(g||(c.data||(l.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),c.data=c.image),l.console.assert(c.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),g=this._imagesLoaded[c.tile.cacheKey]=new h({data:c.data,ownerTile:c.tile,create:c.tiledImage.source.createTileCache,destroy:c.tiledImage.source.destroyTileCache,getImage:c.tiledImage.source.getTileCacheDataAsImage,getData:c.tiledImage.source.getTileCacheData,getRenderedContext:c.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),g.addTile(c.tile),c.tile.cacheImageRecord=g,this._imagesLoadedCount>this._maxImageCacheCount){for(var C,D,H,A,_=null,v=-1,w=null,S=this._tilesLoaded.length-1;S>=0;S--)if(!((C=(A=this._tilesLoaded[S]).tile).level<=f||C.beingDrawn)){if(!_){_=C,v=S,w=A;continue}((H=C.lastTouchTime)<(D=_.lastTouchTime)||H===D&&C.level>_.level)&&(_=C,v=S,w=A)}_&&v>=0&&(this._unloadTile(w),m=v)}this._tilesLoaded[m]=new d({tile:c.tile,tiledImage:c.tiledImage})},clearTilesFor:function(c){l.console.assert(c,"[TileCache.clearTilesFor] tiledImage is required");for(var f,m=0;m<this._tilesLoaded.length;++m)(f=this._tilesLoaded[m]).tiledImage===c&&(this._unloadTile(f),this._tilesLoaded.splice(m,1),m--)},getImageRecord:function(c){return l.console.assert(c,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[c]},_unloadTile:function(c){l.console.assert(c,"[TileCache._unloadTile] tileRecord is required");var f=c.tile,m=c.tiledImage;let g=f.getCanvasContext&&f.getCanvasContext();f.unload(),f.cacheImageRecord=null;var _=this._imagesLoaded[f.cacheKey];_&&(_.removeTile(f),_.getTileCount()||(_.destroy(),delete this._imagesLoaded[f.cacheKey],this._imagesLoadedCount--,g&&(g.canvas.width=0,g.canvas.height=0,m.viewer.raiseEvent("image-unloaded",{context2D:g,tile:f}))),m.viewer.raiseEvent("tile-unloaded",{tile:f,tiledImage:m}))}}}(U),function(l){l.World=function(d){var h=this;l.console.assert(d.viewer,"[World] options.viewer is required"),l.EventSource.call(this),this.viewer=d.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(c){h._autoRefigureSizes?h._figureSizes():h._needsSizesFigured=!0},this._figureSizes()},l.extend(l.World.prototype,l.EventSource.prototype,{addItem:function(d,h){if(l.console.assert(d,"[World.addItem] item is required"),l.console.assert(d instanceof l.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(h=h||{}).index){var c=Math.max(0,Math.min(this._items.length,h.index));this._items.splice(c,0,d)}else this._items.push(d);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,d.addHandler("bounds-change",this._delegatedFigureSizes),d.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:d})},getItemAt:function(d){return l.console.assert(void 0!==d,"[World.getItemAt] index is required"),this._items[d]},getIndexOfItem:function(d){return l.console.assert(d,"[World.getIndexOfItem] item is required"),l.indexOf(this._items,d)},getItemCount:function(){return this._items.length},setItemIndex:function(d,h){l.console.assert(d,"[World.setItemIndex] item is required"),l.console.assert(void 0!==h,"[World.setItemIndex] index is required");var c=this.getIndexOfItem(d);if(h>=this._items.length)throw new Error("Index bigger than number of layers.");h===c||-1===c||(this._items.splice(c,1),this._items.splice(h,0,d),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:d,previousIndex:c,newIndex:h}))},removeItem:function(d){l.console.assert(d,"[World.removeItem] item is required");var h=l.indexOf(this._items,d);-1!==h&&(d.removeHandler("bounds-change",this._delegatedFigureSizes),d.removeHandler("clip-change",this._delegatedFigureSizes),d.destroy(),this._items.splice(h,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(d))},removeAll:function(){var d,h;for(this.viewer._cancelPendingImages(),h=0;h<this._items.length;h++)(d=this._items[h]).removeHandler("bounds-change",this._delegatedFigureSizes),d.removeHandler("clip-change",this._delegatedFigureSizes),d.destroy();var c=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,h=0;h<c.length;h++)this._raiseRemoveItem(d=c[h])},resetItems:function(){for(var d=0;d<this._items.length;d++)this._items[d].reset()},update:function(d){for(var h=!1,c=0;c<this._items.length;c++)h=this._items[c].update(d)||h;return h},draw:function(){this.viewer.drawer.draw(this._items),this._needsDraw=!1,this._items.forEach(d=>{this._needsDraw=d.setDrawn()||this._needsDraw})},needsDraw:function(){for(var d=0;d<this._items.length;d++)if(this._items[d].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(d){this._autoRefigureSizes=d,d&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(d){var w,h=(d=d||{}).immediately||!1,c=d.layout||l.DEFAULT_SETTINGS.collectionLayout,m=d.columns||l.DEFAULT_SETTINGS.collectionColumns,g=d.tileSize||l.DEFAULT_SETTINGS.collectionTileSize,v=g+(d.tileMargin||l.DEFAULT_SETTINGS.collectionTileMargin);w=!d.rows&&m?m:Math.ceil(this._items.length/(d.rows||l.DEFAULT_SETTINGS.collectionRows));var M,H,O,S,C=0,D=0;this.setAutoRefigureSizes(!1);for(var T=0;T<this._items.length;T++)T&&T%w===0&&("horizontal"===c?(D+=v,C=0):(C+=v,D=0)),H=(M=this._items[T]).getBounds(),S=new l.Point(C+(g-(O=H.width>H.height?g:g*(H.width/H.height)))/2,D+(g-O*(H.height/H.width))/2),M.setPosition(S,h),M.setWidth(O,h),"horizontal"===c?C+=v:D+=v;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var d=this._homeBounds?this._homeBounds.clone():null,h=this._contentSize?this._contentSize.clone():null,c=this._contentFactor||0;if(this._items.length){var f=this._items[0],m=f.getBounds();this._contentFactor=f.getContentSize().x/m.width;for(var g=f.getClippedBounds().getBoundingBox(),_=g.x,v=g.y,w=g.x+g.width,C=g.y+g.height,D=1;D<this._items.length;D++)m=(f=this._items[D]).getBounds(),this._contentFactor=Math.max(this._contentFactor,f.getContentSize().x/m.width),g=f.getClippedBounds().getBoundingBox(),_=Math.min(_,g.x),v=Math.min(v,g.y),w=Math.max(w,g.x+g.width),C=Math.max(C,g.y+g.height);this._homeBounds=new l.Rect(_,v,w-_,C-v),this._contentSize=new l.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new l.Rect(0,0,1,1),this._contentSize=new l.Point(1,1),this._contentFactor=1;(this._contentFactor!==c||!this._homeBounds.equals(d)||!this._contentSize.equals(h))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(d){this.raiseEvent("remove-item",{item:d})}})}(U)},5908:function(Ee,ve){(function(){"use strict";ve.stripBOM=function($){return"\ufeff"===$[0]?$.substring(1):$}}).call(this)},5932:Ee=>{function ve(W){if(W)return function $(W){for(var K in ve.prototype)W[K]=ve.prototype[K];return W}(W)}Ee.exports=ve,ve.prototype.on=ve.prototype.addEventListener=function(W,K){return this._callbacks=this._callbacks||{},(this._callbacks[W]=this._callbacks[W]||[]).push(K),this},ve.prototype.once=function(W,K){var U=this;function l(){U.off(W,l),K.apply(this,arguments)}return this._callbacks=this._callbacks||{},l.fn=K,this.on(W,l),this},ve.prototype.off=ve.prototype.removeListener=ve.prototype.removeAllListeners=ve.prototype.removeEventListener=function(W,K){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var U=this._callbacks[W];if(!U)return this;if(1==arguments.length)return delete this._callbacks[W],this;for(var l,d=0;d<U.length;d++)if((l=U[d])===K||l.fn===K){U.splice(d,1);break}return this},ve.prototype.emit=function(W){this._callbacks=this._callbacks||{};var K=[].slice.call(arguments,1),U=this._callbacks[W];if(U)for(var l=0,d=(U=U.slice(0)).length;l<d;++l)U[l].apply(this,K);return this},ve.prototype.listeners=function(W){return this._callbacks=this._callbacks||{},this._callbacks[W]||[]},ve.prototype.hasListeners=function(W){return!!this.listeners(W).length}},6220:function(Ee,ve,$){(function(){var W,U,l,h={}.hasOwnProperty;l=$(3338).isObject,U=$(3379),W=$(9168),Ee.exports=function(c){function f(m,g,_,v){if(f.__super__.constructor.call(this,m),null==_)throw new Error("Missing DTD entity name. "+this.debugInfo(_));if(null==v)throw new Error("Missing DTD entity value. "+this.debugInfo(_));if(this.pe=!!g,this.name=this.stringify.name(_),this.type=W.EntityDeclaration,l(v)){if(!v.pubID&&!v.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(_));if(v.pubID&&!v.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(_));if(this.internal=!1,null!=v.pubID&&(this.pubID=this.stringify.dtdPubID(v.pubID)),null!=v.sysID&&(this.sysID=this.stringify.dtdSysID(v.sysID)),null!=v.nData&&(this.nData=this.stringify.dtdNData(v.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(_))}else this.value=this.stringify.dtdEntityValue(v),this.internal=!0}return function(c,f){for(var m in f)h.call(f,m)&&(c[m]=f[m]);function g(){this.constructor=c}g.prototype=f.prototype,c.prototype=new g,c.__super__=f.prototype}(f,c),Object.defineProperty(f.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(f.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(f.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(f.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(f.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(f.prototype,"xmlVersion",{get:function(){return null}}),f.prototype.toString=function(m){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(m))},f}(U)}).call(this)},6410:function(Ee,ve,$){(function(){var W,K,d={}.hasOwnProperty;W=$(9168),K=$(4732),Ee.exports=function(h){function c(f,m,g){if(c.__super__.constructor.call(this,f),null==m)throw new Error("Missing instruction target. "+this.debugInfo());this.type=W.ProcessingInstruction,this.target=this.stringify.insTarget(m),this.name=this.target,g&&(this.value=this.stringify.insValue(g))}return function(h,c){for(var f in c)d.call(c,f)&&(h[f]=c[f]);function m(){this.constructor=h}m.prototype=c.prototype,h.prototype=new m,h.__super__=c.prototype}(c,h),c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(f){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(f))},c.prototype.isEqualNode=function(f){return!(!c.__super__.isEqualNode.apply(this,arguments).isEqualNode(f)||f.target!==this.target)},c}(K)}).call(this)},6573:function(Ee){(function(){var $=function(K,U){return function(){return K.apply(U,arguments)}},W={}.hasOwnProperty;Ee.exports=function(){function K(U){var l,d;for(l in this.assertLegalName=$(this.assertLegalName,this),this.assertLegalChar=$(this.assertLegalChar,this),U||(U={}),this.options=U,this.options.version||(this.options.version="1.0"),d=U.stringify||{})W.call(d,l)&&(this[l]=d[l])}return K.prototype.name=function(U){return this.options.noValidation?U:this.assertLegalName(""+U||"")},K.prototype.text=function(U){return this.options.noValidation?U:this.assertLegalChar(this.textEscape(""+U||""))},K.prototype.cdata=function(U){return this.options.noValidation?U:(U=(U=""+U||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(U))},K.prototype.comment=function(U){if(this.options.noValidation)return U;if((U=""+U||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+U);return this.assertLegalChar(U)},K.prototype.raw=function(U){return this.options.noValidation?U:""+U||""},K.prototype.attValue=function(U){return this.options.noValidation?U:this.assertLegalChar(this.attEscape(U=""+U||""))},K.prototype.insTarget=function(U){return this.options.noValidation?U:this.assertLegalChar(""+U||"")},K.prototype.insValue=function(U){if(this.options.noValidation)return U;if((U=""+U||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+U);return this.assertLegalChar(U)},K.prototype.xmlVersion=function(U){if(this.options.noValidation)return U;if(!(U=""+U||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+U);return U},K.prototype.xmlEncoding=function(U){if(this.options.noValidation)return U;if(!(U=""+U||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+U);return this.assertLegalChar(U)},K.prototype.xmlStandalone=function(U){return this.options.noValidation?U:U?"yes":"no"},K.prototype.dtdPubID=function(U){return this.options.noValidation?U:this.assertLegalChar(""+U||"")},K.prototype.dtdSysID=function(U){return this.options.noValidation?U:this.assertLegalChar(""+U||"")},K.prototype.dtdElementValue=function(U){return this.options.noValidation?U:this.assertLegalChar(""+U||"")},K.prototype.dtdAttType=function(U){return this.options.noValidation?U:this.assertLegalChar(""+U||"")},K.prototype.dtdAttDefault=function(U){return this.options.noValidation?U:this.assertLegalChar(""+U||"")},K.prototype.dtdEntityValue=function(U){return this.options.noValidation?U:this.assertLegalChar(""+U||"")},K.prototype.dtdNData=function(U){return this.options.noValidation?U:this.assertLegalChar(""+U||"")},K.prototype.convertAttKey="@",K.prototype.convertPIKey="?",K.prototype.convertTextKey="#text",K.prototype.convertCDataKey="#cdata",K.prototype.convertCommentKey="#comment",K.prototype.convertRawKey="#raw",K.prototype.assertLegalChar=function(U){var d;if(this.options.noValidation)return U;if("1.0"===this.options.version){if(d=U.match(/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+U+" at index "+d.index)}else if("1.1"===this.options.version&&(d=U.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/)))throw new Error("Invalid character in string: "+U+" at index "+d.index);return U},K.prototype.assertLegalName=function(U){if(this.options.noValidation)return U;if(this.assertLegalChar(U),!U.match(/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/))throw new Error("Invalid character in name");return U},K.prototype.textEscape=function(U){return this.options.noValidation?U:U.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},K.prototype.attEscape=function(U){return this.options.noValidation?U:U.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},K}()}).call(this)},6620:(Ee,ve,$)=>{!function(W){W.parser=function(X,z){return new U(X,z)},W.SAXParser=U,W.SAXStream=g,W.createStream=function m(X,z){return new g(X,z)},W.MAX_BUFFER_LENGTH=65536;var c,K=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function U(X,z){if(!(this instanceof U))return new U(X,z);var ye=this;(function d(X){for(var z=0,ye=K.length;z<ye;z++)X[K[z]]=""})(ye),ye.q=ye.c="",ye.bufferCheckPosition=W.MAX_BUFFER_LENGTH,ye.opt=z||{},ye.opt.lowercase=ye.opt.lowercase||ye.opt.lowercasetags,ye.looseCase=ye.opt.lowercase?"toLowerCase":"toUpperCase",ye.tags=[],ye.closed=ye.closedRoot=ye.sawRoot=!1,ye.tag=ye.error=null,ye.strict=!!X,ye.noscript=!(!X&&!ye.opt.noscript),ye.state=V.BEGIN,ye.strictEntities=ye.opt.strictEntities,ye.ENTITIES=Object.create(ye.strictEntities?W.XML_ENTITIES:W.ENTITIES),ye.attribList=[],ye.opt.xmlns&&(ye.ns=Object.create(D)),void 0===ye.opt.unquotedAttributeValues&&(ye.opt.unquotedAttributeValues=!X),ye.trackPosition=!1!==ye.opt.position,ye.trackPosition&&(ye.position=ye.line=ye.column=0),J(ye,"onready")}W.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(X){function z(){}return z.prototype=X,new z}),Object.keys||(Object.keys=function(X){var z=[];for(var ye in X)X.hasOwnProperty(ye)&&z.push(ye);return z}),U.prototype={end:function(){Qe(this)},write:function Wr(X){var z=this;if(this.error)throw this.error;if(z.closed)return He(z,"Cannot write after close. Assign an onready handler.");if(null===X)return Qe(z);"object"==typeof X&&(X=X.toString());for(var ye=0,le="";le=yt(X,ye++),z.c=le,le;)switch(z.trackPosition&&(z.position++,"\n"===le?(z.line++,z.column=0):z.column++),z.state){case V.BEGIN:if(z.state=V.BEGIN_WHITESPACE,"\ufeff"===le)continue;si(z,le);continue;case V.BEGIN_WHITESPACE:si(z,le);continue;case V.TEXT:if(z.sawRoot&&!z.closedRoot){for(var Nt=ye-1;le&&"<"!==le&&"&"!==le;)(le=yt(X,ye++))&&z.trackPosition&&(z.position++,"\n"===le?(z.line++,z.column=0):z.column++);z.textNode+=X.substring(Nt,ye-1)}"<"!==le||z.sawRoot&&z.closedRoot&&!z.strict?(!S(le)&&(!z.sawRoot||z.closedRoot)&&Fe(z,"Text data outside of root node."),"&"===le?z.state=V.TEXT_ENTITY:z.textNode+=le):(z.state=V.OPEN_WAKA,z.startTagPosition=z.position);continue;case V.SCRIPT:"<"===le?z.state=V.SCRIPT_ENDING:z.script+=le;continue;case V.SCRIPT_ENDING:"/"===le?z.state=V.CLOSE_TAG:(z.script+="<"+le,z.state=V.SCRIPT);continue;case V.OPEN_WAKA:"!"===le?(z.state=V.SGML_DECL,z.sgmlDecl=""):S(le)||(j(M,le)?(z.state=V.OPEN_TAG,z.tagName=le):"/"===le?(z.state=V.CLOSE_TAG,z.tagName=""):"?"===le?(z.state=V.PROC_INST,z.procInstName=z.procInstBody=""):(Fe(z,"Unencoded <"),z.startTagPosition+1<z.position&&(le=new Array(z.position-z.startTagPosition).join(" ")+le),z.textNode+="<"+le,z.state=V.TEXT));continue;case V.SGML_DECL:if(z.sgmlDecl+le==="--"){z.state=V.COMMENT,z.comment="",z.sgmlDecl="";continue}z.doctype&&!0!==z.doctype&&z.sgmlDecl?(z.state=V.DOCTYPE_DTD,z.doctype+="<!"+z.sgmlDecl+le,z.sgmlDecl=""):(z.sgmlDecl+le).toUpperCase()===_?(ce(z,"onopencdata"),z.state=V.CDATA,z.sgmlDecl="",z.cdata=""):(z.sgmlDecl+le).toUpperCase()===v?(z.state=V.DOCTYPE,(z.doctype||z.sawRoot)&&Fe(z,"Inappropriately located doctype declaration"),z.doctype="",z.sgmlDecl=""):">"===le?(ce(z,"onsgmldeclaration",z.sgmlDecl),z.sgmlDecl="",z.state=V.TEXT):(T(le)&&(z.state=V.SGML_DECL_QUOTED),z.sgmlDecl+=le);continue;case V.SGML_DECL_QUOTED:le===z.q&&(z.state=V.SGML_DECL,z.q=""),z.sgmlDecl+=le;continue;case V.DOCTYPE:">"===le?(z.state=V.TEXT,ce(z,"ondoctype",z.doctype),z.doctype=!0):(z.doctype+=le,"["===le?z.state=V.DOCTYPE_DTD:T(le)&&(z.state=V.DOCTYPE_QUOTED,z.q=le));continue;case V.DOCTYPE_QUOTED:z.doctype+=le,le===z.q&&(z.q="",z.state=V.DOCTYPE);continue;case V.DOCTYPE_DTD:"]"===le?(z.doctype+=le,z.state=V.DOCTYPE):"<"===le?(z.state=V.OPEN_WAKA,z.startTagPosition=z.position):T(le)?(z.doctype+=le,z.state=V.DOCTYPE_DTD_QUOTED,z.q=le):z.doctype+=le;continue;case V.DOCTYPE_DTD_QUOTED:z.doctype+=le,le===z.q&&(z.state=V.DOCTYPE_DTD,z.q="");continue;case V.COMMENT:"-"===le?z.state=V.COMMENT_ENDING:z.comment+=le;continue;case V.COMMENT_ENDING:"-"===le?(z.state=V.COMMENT_ENDED,z.comment=we(z.opt,z.comment),z.comment&&ce(z,"oncomment",z.comment),z.comment=""):(z.comment+="-"+le,z.state=V.COMMENT);continue;case V.COMMENT_ENDED:">"!==le?(Fe(z,"Malformed comment"),z.comment+="--"+le,z.state=V.COMMENT):z.state=z.doctype&&!0!==z.doctype?V.DOCTYPE_DTD:V.TEXT;continue;case V.CDATA:"]"===le?z.state=V.CDATA_ENDING:z.cdata+=le;continue;case V.CDATA_ENDING:"]"===le?z.state=V.CDATA_ENDING_2:(z.cdata+="]"+le,z.state=V.CDATA);continue;case V.CDATA_ENDING_2:">"===le?(z.cdata&&ce(z,"oncdata",z.cdata),ce(z,"onclosecdata"),z.cdata="",z.state=V.TEXT):"]"===le?z.cdata+="]":(z.cdata+="]]"+le,z.state=V.CDATA);continue;case V.PROC_INST:"?"===le?z.state=V.PROC_INST_ENDING:S(le)?z.state=V.PROC_INST_BODY:z.procInstName+=le;continue;case V.PROC_INST_BODY:if(!z.procInstBody&&S(le))continue;"?"===le?z.state=V.PROC_INST_ENDING:z.procInstBody+=le;continue;case V.PROC_INST_ENDING:">"===le?(ce(z,"onprocessinginstruction",{name:z.procInstName,body:z.procInstBody}),z.procInstName=z.procInstBody="",z.state=V.TEXT):(z.procInstBody+="?"+le,z.state=V.PROC_INST_BODY);continue;case V.OPEN_TAG:j(H,le)?z.tagName+=le:(Pt(z),">"===le?Dt(z):"/"===le?z.state=V.OPEN_TAG_SLASH:(S(le)||Fe(z,"Invalid character in tag name"),z.state=V.ATTRIB));continue;case V.OPEN_TAG_SLASH:">"===le?(Dt(z,!0),zt(z)):(Fe(z,"Forward-slash in opening tag not followed by >"),z.state=V.ATTRIB);continue;case V.ATTRIB:if(S(le))continue;">"===le?Dt(z):"/"===le?z.state=V.OPEN_TAG_SLASH:j(M,le)?(z.attribName=le,z.attribValue="",z.state=V.ATTRIB_NAME):Fe(z,"Invalid attribute name");continue;case V.ATTRIB_NAME:"="===le?z.state=V.ATTRIB_VALUE:">"===le?(Fe(z,"Attribute without value"),z.attribValue=z.attribName,on(z),Dt(z)):S(le)?z.state=V.ATTRIB_NAME_SAW_WHITE:j(H,le)?z.attribName+=le:Fe(z,"Invalid attribute name");continue;case V.ATTRIB_NAME_SAW_WHITE:if("="===le)z.state=V.ATTRIB_VALUE;else{if(S(le))continue;Fe(z,"Attribute without value"),z.tag.attributes[z.attribName]="",z.attribValue="",ce(z,"onattribute",{name:z.attribName,value:""}),z.attribName="",">"===le?Dt(z):j(M,le)?(z.attribName=le,z.state=V.ATTRIB_NAME):(Fe(z,"Invalid attribute name"),z.state=V.ATTRIB)}continue;case V.ATTRIB_VALUE:if(S(le))continue;T(le)?(z.q=le,z.state=V.ATTRIB_VALUE_QUOTED):(z.opt.unquotedAttributeValues||He(z,"Unquoted attribute value"),z.state=V.ATTRIB_VALUE_UNQUOTED,z.attribValue=le);continue;case V.ATTRIB_VALUE_QUOTED:if(le!==z.q){"&"===le?z.state=V.ATTRIB_VALUE_ENTITY_Q:z.attribValue+=le;continue}on(z),z.q="",z.state=V.ATTRIB_VALUE_CLOSED;continue;case V.ATTRIB_VALUE_CLOSED:S(le)?z.state=V.ATTRIB:">"===le?Dt(z):"/"===le?z.state=V.OPEN_TAG_SLASH:j(M,le)?(Fe(z,"No whitespace between attributes"),z.attribName=le,z.attribValue="",z.state=V.ATTRIB_NAME):Fe(z,"Invalid attribute name");continue;case V.ATTRIB_VALUE_UNQUOTED:if(!k(le)){"&"===le?z.state=V.ATTRIB_VALUE_ENTITY_U:z.attribValue+=le;continue}on(z),">"===le?Dt(z):z.state=V.ATTRIB;continue;case V.CLOSE_TAG:if(z.tagName)">"===le?zt(z):j(H,le)?z.tagName+=le:z.script?(z.script+="</"+z.tagName,z.tagName="",z.state=V.SCRIPT):(S(le)||Fe(z,"Invalid tagname in closing tag"),z.state=V.CLOSE_TAG_SAW_WHITE);else{if(S(le))continue;ne(M,le)?z.script?(z.script+="</"+le,z.state=V.SCRIPT):Fe(z,"Invalid tagname in closing tag."):z.tagName=le}continue;case V.CLOSE_TAG_SAW_WHITE:if(S(le))continue;">"===le?zt(z):Fe(z,"Invalid characters in closing tag");continue;case V.TEXT_ENTITY:case V.ATTRIB_VALUE_ENTITY_Q:case V.ATTRIB_VALUE_ENTITY_U:var Bt,fn;switch(z.state){case V.TEXT_ENTITY:Bt=V.TEXT,fn="textNode";break;case V.ATTRIB_VALUE_ENTITY_Q:Bt=V.ATTRIB_VALUE_QUOTED,fn="attribValue";break;case V.ATTRIB_VALUE_ENTITY_U:Bt=V.ATTRIB_VALUE_UNQUOTED,fn="attribValue"}if(";"===le){var In=Oi(z);z.opt.unparsedEntities&&!Object.values(W.XML_ENTITIES).includes(In)?(z.entity="",z.state=Bt,z.write(In)):(z[fn]+=In,z.entity="",z.state=Bt)}else j(z.entity.length?A:O,le)?z.entity+=le:(Fe(z,"Invalid character in entity name"),z[fn]+="&"+z.entity+le,z.entity="",z.state=Bt);continue;default:throw new Error(z,"Unknown state: "+z.state)}return z.position>=z.bufferCheckPosition&&function l(X){for(var z=Math.max(W.MAX_BUFFER_LENGTH,10),ye=0,le=0,Nt=K.length;le<Nt;le++){var sn=X[K[le]].length;if(sn>z)switch(K[le]){case"textNode":ge(X);break;case"cdata":ce(X,"oncdata",X.cdata),X.cdata="";break;case"script":ce(X,"onscript",X.script),X.script="";break;default:He(X,"Max buffer length exceeded: "+K[le])}ye=Math.max(ye,sn)}X.bufferCheckPosition=W.MAX_BUFFER_LENGTH-ye+X.position}(z),z},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function h(X){ge(X),""!==X.cdata&&(ce(X,"oncdata",X.cdata),X.cdata=""),""!==X.script&&(ce(X,"onscript",X.script),X.script="")}(this)}};try{c=$(4792).Stream}catch{c=function(){}}c||(c=function(){});var f=W.EVENTS.filter(function(X){return"error"!==X&&"end"!==X});function g(X,z){if(!(this instanceof g))return new g(X,z);c.apply(this),this._parser=new U(X,z),this.writable=!0,this.readable=!0;var ye=this;this._parser.onend=function(){ye.emit("end")},this._parser.onerror=function(le){ye.emit("error",le),ye._parser.error=null},this._decoder=null,f.forEach(function(le){Object.defineProperty(ye,"on"+le,{get:function(){return ye._parser["on"+le]},set:function(Nt){if(!Nt)return ye.removeAllListeners(le),ye._parser["on"+le]=Nt,Nt;ye.on(le,Nt)},enumerable:!0,configurable:!1})})}(g.prototype=Object.create(c.prototype,{constructor:{value:g}})).write=function(X){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(X)){if(!this._decoder){var z=$(8454).I;this._decoder=new z("utf8")}X=this._decoder.write(X)}return this._parser.write(X.toString()),this.emit("data",X),!0},g.prototype.end=function(X){return X&&X.length&&this.write(X),this._parser.end(),!0},g.prototype.on=function(X,z){var ye=this;return!ye._parser["on"+X]&&-1!==f.indexOf(X)&&(ye._parser["on"+X]=function(){var le=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);le.splice(0,0,X),ye.emit.apply(ye,le)}),c.prototype.on.call(ye,X,z)};var _="[CDATA[",v="DOCTYPE",w="http://www.w3.org/XML/1998/namespace",C="http://www.w3.org/2000/xmlns/",D={xml:w,xmlns:C},M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,O=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function S(X){return" "===X||"\n"===X||"\r"===X||"\t"===X}function T(X){return'"'===X||"'"===X}function k(X){return">"===X||S(X)}function j(X,z){return X.test(z)}function ne(X,z){return!j(X,z)}var X,z,ye,V=0;for(var ae in W.STATE={BEGIN:V++,BEGIN_WHITESPACE:V++,TEXT:V++,TEXT_ENTITY:V++,OPEN_WAKA:V++,SGML_DECL:V++,SGML_DECL_QUOTED:V++,DOCTYPE:V++,DOCTYPE_QUOTED:V++,DOCTYPE_DTD:V++,DOCTYPE_DTD_QUOTED:V++,COMMENT_STARTING:V++,COMMENT:V++,COMMENT_ENDING:V++,COMMENT_ENDED:V++,CDATA:V++,CDATA_ENDING:V++,CDATA_ENDING_2:V++,PROC_INST:V++,PROC_INST_BODY:V++,PROC_INST_ENDING:V++,OPEN_TAG:V++,OPEN_TAG_SLASH:V++,ATTRIB:V++,ATTRIB_NAME:V++,ATTRIB_NAME_SAW_WHITE:V++,ATTRIB_VALUE:V++,ATTRIB_VALUE_QUOTED:V++,ATTRIB_VALUE_CLOSED:V++,ATTRIB_VALUE_UNQUOTED:V++,ATTRIB_VALUE_ENTITY_Q:V++,ATTRIB_VALUE_ENTITY_U:V++,CLOSE_TAG:V++,CLOSE_TAG_SAW_WHITE:V++,SCRIPT:V++,SCRIPT_ENDING:V++},W.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},W.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(W.ENTITIES).forEach(function(X){var z=W.ENTITIES[X],ye="number"==typeof z?String.fromCharCode(z):z;W.ENTITIES[X]=ye}),W.STATE)W.STATE[W.STATE[ae]]=ae;function J(X,z,ye){X[z]&&X[z](ye)}function ce(X,z,ye){X.textNode&&ge(X),J(X,z,ye)}function ge(X){X.textNode=we(X.opt,X.textNode),X.textNode&&J(X,"ontext",X.textNode),X.textNode=""}function we(X,z){return X.trim&&(z=z.trim()),X.normalize&&(z=z.replace(/\s+/g," ")),z}function He(X,z){return ge(X),X.trackPosition&&(z+="\nLine: "+X.line+"\nColumn: "+X.column+"\nChar: "+X.c),z=new Error(z),X.error=z,J(X,"onerror",z),X}function Qe(X){return X.sawRoot&&!X.closedRoot&&Fe(X,"Unclosed root tag"),X.state!==V.BEGIN&&X.state!==V.BEGIN_WHITESPACE&&X.state!==V.TEXT&&He(X,"Unexpected end"),ge(X),X.c="",X.closed=!0,J(X,"onend"),U.call(X,X.strict,X.opt),X}function Fe(X,z){if("object"!=typeof X||!(X instanceof U))throw new Error("bad call to strictFail");X.strict&&He(X,z)}function Pt(X){X.strict||(X.tagName=X.tagName[X.looseCase]());var z=X.tags[X.tags.length-1]||X,ye=X.tag={name:X.tagName,attributes:{}};X.opt.xmlns&&(ye.ns=z.ns),X.attribList.length=0,ce(X,"onopentagstart",ye)}function at(X,z){var le=X.indexOf(":")<0?["",X]:X.split(":"),Nt=le[0],sn=le[1];return z&&"xmlns"===X&&(Nt="xmlns",sn=""),{prefix:Nt,local:sn}}function on(X){if(X.strict||(X.attribName=X.attribName[X.looseCase]()),-1!==X.attribList.indexOf(X.attribName)||X.tag.attributes.hasOwnProperty(X.attribName))X.attribName=X.attribValue="";else{if(X.opt.xmlns){var z=at(X.attribName,!0),le=z.local;if("xmlns"===z.prefix)if("xml"===le&&X.attribValue!==w)Fe(X,"xml: prefix must be bound to "+w+"\nActual: "+X.attribValue);else if("xmlns"===le&&X.attribValue!==C)Fe(X,"xmlns: prefix must be bound to "+C+"\nActual: "+X.attribValue);else{var Nt=X.tag,sn=X.tags[X.tags.length-1]||X;Nt.ns===sn.ns&&(Nt.ns=Object.create(sn.ns)),Nt.ns[le]=X.attribValue}X.attribList.push([X.attribName,X.attribValue])}else X.tag.attributes[X.attribName]=X.attribValue,ce(X,"onattribute",{name:X.attribName,value:X.attribValue});X.attribName=X.attribValue=""}}function Dt(X,z){if(X.opt.xmlns){var ye=X.tag,le=at(X.tagName);ye.prefix=le.prefix,ye.local=le.local,ye.uri=ye.ns[le.prefix]||"",ye.prefix&&!ye.uri&&(Fe(X,"Unbound namespace prefix: "+JSON.stringify(X.tagName)),ye.uri=le.prefix),ye.ns&&(X.tags[X.tags.length-1]||X).ns!==ye.ns&&Object.keys(ye.ns).forEach(function(re){ce(X,"onopennamespace",{prefix:re,uri:ye.ns[re]})});for(var sn=0,Bt=X.attribList.length;sn<Bt;sn++){var fn=X.attribList[sn],In=fn[0],q=fn[1],I=at(In,!0),R=I.prefix,P=""===R?"":ye.ns[R]||"",Y={name:In,value:q,prefix:R,local:I.local,uri:P};R&&"xmlns"!==R&&!P&&(Fe(X,"Unbound namespace prefix: "+JSON.stringify(R)),Y.uri=R),X.tag.attributes[In]=Y,ce(X,"onattribute",Y)}X.attribList.length=0}X.tag.isSelfClosing=!!z,X.sawRoot=!0,X.tags.push(X.tag),ce(X,"onopentag",X.tag),z||(X.state=X.noscript||"script"!==X.tagName.toLowerCase()?V.TEXT:V.SCRIPT,X.tag=null,X.tagName=""),X.attribName=X.attribValue="",X.attribList.length=0}function zt(X){if(!X.tagName)return Fe(X,"Weird empty close tag."),X.textNode+="</>",void(X.state=V.TEXT);if(X.script){if("script"!==X.tagName)return X.script+="</"+X.tagName+">",X.tagName="",void(X.state=V.SCRIPT);ce(X,"onscript",X.script),X.script=""}var z=X.tags.length,ye=X.tagName;X.strict||(ye=ye[X.looseCase]());for(var le=ye;z--&&X.tags[z].name!==le;)Fe(X,"Unexpected close tag");if(z<0)return Fe(X,"Unmatched closing tag: "+X.tagName),X.textNode+="</"+X.tagName+">",void(X.state=V.TEXT);X.tagName=ye;for(var sn=X.tags.length;sn-- >z;){var Bt=X.tag=X.tags.pop();X.tagName=X.tag.name,ce(X,"onclosetag",X.tagName);var fn={};for(var In in Bt.ns)fn[In]=Bt.ns[In];X.opt.xmlns&&Bt.ns!==(X.tags[X.tags.length-1]||X).ns&&Object.keys(Bt.ns).forEach(function(I){ce(X,"onclosenamespace",{prefix:I,uri:Bt.ns[I]})})}0===z&&(X.closedRoot=!0),X.tagName=X.attribValue=X.attribName="",X.attribList.length=0,X.state=V.TEXT}function Oi(X){var le,z=X.entity,ye=z.toLowerCase(),Nt="";return X.ENTITIES[z]?X.ENTITIES[z]:X.ENTITIES[ye]?X.ENTITIES[ye]:("#"===(z=ye).charAt(0)&&("x"===z.charAt(1)?(z=z.slice(2),Nt=(le=parseInt(z,16)).toString(16)):(z=z.slice(1),Nt=(le=parseInt(z,10)).toString(10))),z=z.replace(/^0+/,""),isNaN(le)||Nt.toLowerCase()!==z?(Fe(X,"Invalid character entity"),"&"+X.entity+";"):String.fromCodePoint(le))}function si(X,z){"<"===z?(X.state=V.OPEN_WAKA,X.startTagPosition=X.position):S(z)||(Fe(X,"Non-whitespace before first tag."),X.textNode=z,X.state=V.TEXT)}function yt(X,z){var ye="";return z<X.length&&(ye=X.charAt(z)),ye}V=W.STATE,String.fromCodePoint||(X=String.fromCharCode,z=Math.floor,ye=function(){var Nt=[],fn=-1,In=arguments.length;if(!In)return"";for(var q="";++fn<In;){var I=Number(arguments[fn]);if(!isFinite(I)||I<0||I>1114111||z(I)!==I)throw RangeError("Invalid code point: "+I);I<=65535?Nt.push(I):Nt.push(55296+((I-=65536)>>10),I%1024+56320),(fn+1===In||Nt.length>16384)&&(q+=X.apply(null,Nt),Nt.length=0)}return q},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ye,configurable:!0,writable:!0}):String.fromCodePoint=ye)}(ve)},7020:function(Ee,ve,$){(function(){var W,U,d={}.hasOwnProperty;U=$(3379),W=$(9168),Ee.exports=function(h){function c(f,m,g,_,v,w){if(c.__super__.constructor.call(this,f),null==m)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==g)throw new Error("Missing DTD attribute name. "+this.debugInfo(m));if(!_)throw new Error("Missing DTD attribute type. "+this.debugInfo(m));if(!v)throw new Error("Missing DTD attribute default. "+this.debugInfo(m));if(0!==v.indexOf("#")&&(v="#"+v),!v.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(m));if(w&&!v.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(m));this.elementName=this.stringify.name(m),this.type=W.AttributeDeclaration,this.attributeName=this.stringify.name(g),this.attributeType=this.stringify.dtdAttType(_),w&&(this.defaultValue=this.stringify.dtdAttDefault(w)),this.defaultValueType=v}return function(h,c){for(var f in c)d.call(c,f)&&(h[f]=c[f]);function m(){this.constructor=h}m.prototype=c.prototype,h.prototype=new m,h.__super__=c.prototype}(c,h),c.prototype.toString=function(f){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(f))},c}(U)}).call(this)},7054:(Ee,ve,$)=>{var W=$(3838),K=W.Buffer;function U(d,h){for(var c in d)h[c]=d[c]}function l(d,h,c){return K(d,h,c)}K.from&&K.alloc&&K.allocUnsafe&&K.allocUnsafeSlow?Ee.exports=W:(U(W,ve),ve.Buffer=l),l.prototype=Object.create(K.prototype),U(K,l),l.from=function(d,h,c){if("number"==typeof d)throw new TypeError("Argument must not be a number");return K(d,h,c)},l.alloc=function(d,h,c){if("number"!=typeof d)throw new TypeError("Argument must be a number");var f=K(d);return void 0!==h?"string"==typeof c?f.fill(h,c):f.fill(h):f.fill(0),f},l.allocUnsafe=function(d){if("number"!=typeof d)throw new TypeError("Argument must be a number");return K(d)},l.allocUnsafeSlow=function(d){if("number"!=typeof d)throw new TypeError("Argument must be a number");return W.SlowBuffer(d)}},7210:(Ee,ve)=>{var W={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};for(var K in W)"millisecond"===K?W.ms=W[K]:W[K.charAt(0)]=W[K],W[K+"s"]=W[K];function U(h){this.count=0;var c=function d(h){var c=h.match(l);return c&&W[c[2]]?c.slice(1):null}(h);c&&(this.time=Number(c[0])*W[c[1]],this.type=c[1])}U.prototype.do=function(h){this.time&&(this.interval=setInterval(function f(){c.count++,h.call(c)},this.time));var c=this;return this},U.prototype.stop=function(){return this.interval&&(clearInterval(this.interval),delete this.interval),this};var l=/^\s*(\d+(?:\.\d+)?)\s*([a-z]+)\s*$/},7705:function(Ee){(function(){Ee.exports=function(){function $(){}return $.prototype.hasFeature=function(W,K){return!0},$.prototype.createDocumentType=function(W,K,U){throw new Error("This DOM method is not implemented.")},$.prototype.createDocument=function(W,K,U){throw new Error("This DOM method is not implemented.")},$.prototype.createHTMLDocument=function(W){throw new Error("This DOM method is not implemented.")},$.prototype.getFeature=function(W,K){throw new Error("This DOM method is not implemented.")},$}()}).call(this)},7987:function(Ee,ve,$){(function(){var W,K,U,l,d,h,c,f,m,g,_,v,C,D,M,H,O,A,S,T,k,j,ne,V={}.hasOwnProperty;ne=$(3338),k=ne.isObject,T=ne.isFunction,j=ne.isPlainObject,S=ne.getValue,W=$(9168),v=$(3962),C=$(9335),l=$(2106),d=$(4526),M=$(8881),A=$(5212),D=$(6410),g=$(4835),_=$(9729),h=$(7020),f=$(6220),c=$(899),m=$(793),U=$(1615),O=$(6573),H=$(8737),K=$(9810),Ee.exports=function(){function ae(J,ce,ge){var we;this.name="?xml",this.type=W.Document,J||(J={}),we={},J.writer?j(J.writer)&&(we=J.writer,J.writer=new H):J.writer=new H,this.options=J,this.writer=J.writer,this.writerOptions=this.writer.filterOptions(we),this.stringify=new O(J),this.onDataCallback=ce||function(){},this.onEndCallback=ge||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return ae.prototype.createChildNode=function(J){var ge,we,He,Qe,Fe,Pt,at;switch(J.type){case W.CData:this.cdata(J.value);break;case W.Comment:this.comment(J.value);break;case W.Element:for(ge in we={},Pt=J.attribs)V.call(Pt,ge)&&(we[ge]=Pt[ge].value);this.node(J.name,we);break;case W.Dummy:this.dummy();break;case W.Raw:this.raw(J.value);break;case W.Text:this.text(J.value);break;case W.ProcessingInstruction:this.instruction(J.target,J.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+J.constructor.name)}for(Qe=0,Fe=(at=J.children).length;Qe<Fe;Qe++)this.createChildNode(He=at[Qe]),He.type===W.Element&&this.up();return this},ae.prototype.dummy=function(){return this},ae.prototype.node=function(J,ce,ge){var we;if(null==J)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(J));return this.openCurrent(),J=S(J),null==ce&&(ce={}),ce=S(ce),k(ce)||(ge=(we=[ce,ge])[0],ce=we[1]),this.currentNode=new C(this,J,ce),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=ge&&this.text(ge),this},ae.prototype.element=function(J,ce,ge){var we,He,Qe,Fe,Pt,at;if(this.currentNode&&this.currentNode.type===W.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(J)||k(J)||T(J))for(Fe=this.options.noValidation,this.options.noValidation=!0,(at=new v(this.options).element("TEMP_ROOT")).element(J),this.options.noValidation=Fe,He=0,Qe=(Pt=at.children).length;He<Qe;He++)this.createChildNode(we=Pt[He]),we.type===W.Element&&this.up();else this.node(J,ce,ge);return this},ae.prototype.attribute=function(J,ce){var ge;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(J));if(null!=J&&(J=S(J)),k(J))for(ge in J)V.call(J,ge)&&this.attribute(ge,J[ge]);else T(ce)&&(ce=ce.apply()),this.options.keepNullAttributes&&null==ce?this.currentNode.attribs[J]=new U(this,J,""):null!=ce&&(this.currentNode.attribs[J]=new U(this,J,ce));return this},ae.prototype.text=function(J){var ce;return this.openCurrent(),ce=new A(this,J),this.onData(this.writer.text(ce,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},ae.prototype.cdata=function(J){var ce;return this.openCurrent(),ce=new l(this,J),this.onData(this.writer.cdata(ce,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},ae.prototype.comment=function(J){var ce;return this.openCurrent(),ce=new d(this,J),this.onData(this.writer.comment(ce,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},ae.prototype.raw=function(J){var ce;return this.openCurrent(),ce=new M(this,J),this.onData(this.writer.raw(ce,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},ae.prototype.instruction=function(J,ce){var ge,we,Qe,Fe;if(this.openCurrent(),null!=J&&(J=S(J)),null!=ce&&(ce=S(ce)),Array.isArray(J))for(ge=0,Qe=J.length;ge<Qe;ge++)this.instruction(we=J[ge]);else if(k(J))for(we in J)V.call(J,we)&&this.instruction(we,J[we]);else T(ce)&&(ce=ce.apply()),Fe=new D(this,J,ce),this.onData(this.writer.processingInstruction(Fe,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},ae.prototype.declaration=function(J,ce,ge){var we;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return we=new g(this,J,ce,ge),this.onData(this.writer.declaration(we,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},ae.prototype.doctype=function(J,ce,ge){if(this.openCurrent(),null==J)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new _(this,ce,ge),this.currentNode.rootNodeName=J,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},ae.prototype.dtdElement=function(J,ce){var ge;return this.openCurrent(),ge=new c(this,J,ce),this.onData(this.writer.dtdElement(ge,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},ae.prototype.attList=function(J,ce,ge,we,He){var Qe;return this.openCurrent(),Qe=new h(this,J,ce,ge,we,He),this.onData(this.writer.dtdAttList(Qe,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},ae.prototype.entity=function(J,ce){var ge;return this.openCurrent(),ge=new f(this,!1,J,ce),this.onData(this.writer.dtdEntity(ge,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},ae.prototype.pEntity=function(J,ce){var ge;return this.openCurrent(),ge=new f(this,!0,J,ce),this.onData(this.writer.dtdEntity(ge,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},ae.prototype.notation=function(J,ce){var ge;return this.openCurrent(),ge=new m(this,J,ce),this.onData(this.writer.dtdNotation(ge,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},ae.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},ae.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},ae.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},ae.prototype.openNode=function(J){var ge,we,He;if(!J.isOpen){if(!this.root&&0===this.currentLevel&&J.type===W.Element&&(this.root=J),ge="",J.type===W.Element){for(we in this.writerOptions.state=K.OpenTag,ge=this.writer.indent(J,this.writerOptions,this.currentLevel)+"<"+J.name,He=J.attribs)V.call(He,we)&&(ge+=this.writer.attribute(He[we],this.writerOptions,this.currentLevel));ge+=(J.children?">":"/>")+this.writer.endline(J,this.writerOptions,this.currentLevel),this.writerOptions.state=K.InsideTag}else this.writerOptions.state=K.OpenTag,ge=this.writer.indent(J,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+J.rootNodeName,J.pubID&&J.sysID?ge+=' PUBLIC "'+J.pubID+'" "'+J.sysID+'"':J.sysID&&(ge+=' SYSTEM "'+J.sysID+'"'),J.children?(ge+=" [",this.writerOptions.state=K.InsideTag):(this.writerOptions.state=K.CloseTag,ge+=">"),ge+=this.writer.endline(J,this.writerOptions,this.currentLevel);return this.onData(ge,this.currentLevel),J.isOpen=!0}},ae.prototype.closeNode=function(J){var ce;if(!J.isClosed)return"",this.writerOptions.state=K.CloseTag,ce=J.type===W.Element?this.writer.indent(J,this.writerOptions,this.currentLevel)+"</"+J.name+">"+this.writer.endline(J,this.writerOptions,this.currentLevel):this.writer.indent(J,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(J,this.writerOptions,this.currentLevel),this.writerOptions.state=K.None,this.onData(ce,this.currentLevel),J.isClosed=!0},ae.prototype.onData=function(J,ce){return this.documentStarted=!0,this.onDataCallback(J,ce+1)},ae.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},ae.prototype.debugInfo=function(J){return null==J?"":"node: <"+J+">"},ae.prototype.ele=function(){return this.element.apply(this,arguments)},ae.prototype.nod=function(J,ce,ge){return this.node(J,ce,ge)},ae.prototype.txt=function(J){return this.text(J)},ae.prototype.dat=function(J){return this.cdata(J)},ae.prototype.com=function(J){return this.comment(J)},ae.prototype.ins=function(J,ce){return this.instruction(J,ce)},ae.prototype.dec=function(J,ce,ge){return this.declaration(J,ce,ge)},ae.prototype.dtd=function(J,ce,ge){return this.doctype(J,ce,ge)},ae.prototype.e=function(J,ce,ge){return this.element(J,ce,ge)},ae.prototype.n=function(J,ce,ge){return this.node(J,ce,ge)},ae.prototype.t=function(J){return this.text(J)},ae.prototype.d=function(J){return this.cdata(J)},ae.prototype.c=function(J){return this.comment(J)},ae.prototype.r=function(J){return this.raw(J)},ae.prototype.i=function(J,ce){return this.instruction(J,ce)},ae.prototype.att=function(){return this.currentNode&&this.currentNode.type===W.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},ae.prototype.a=function(){return this.currentNode&&this.currentNode.type===W.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},ae.prototype.ent=function(J,ce){return this.entity(J,ce)},ae.prototype.pent=function(J,ce){return this.pEntity(J,ce)},ae.prototype.not=function(J,ce){return this.notation(J,ce)},ae}()}).call(this)},8454:(Ee,ve,$)=>{"use strict";var W=$(7054).Buffer,K=W.isEncoding||function(O){switch((O=""+O)&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(O){var A;switch(this.encoding=function l(O){var A=function U(O){if(!O)return"utf8";for(var A;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if(A)return;O=(""+O).toLowerCase(),A=!0}}(O);if("string"!=typeof A&&(W.isEncoding===K||!K(O)))throw new Error("Unknown encoding: "+O);return A||O}(O),this.encoding){case"utf16le":this.text=v,this.end=w,A=4;break;case"utf8":this.fillLast=m,A=4;break;case"base64":this.text=C,this.end=D,A=3;break;default:return this.write=M,void(this.end=H)}this.lastNeed=0,this.lastTotal=0,this.lastChar=W.allocUnsafe(A)}function h(O){return O<=127?0:O>>5==6?2:O>>4==14?3:O>>3==30?4:O>>6==2?-1:-2}function m(O){var A=this.lastTotal-this.lastNeed,S=function f(O,A){if(128!=(192&A[0]))return O.lastNeed=0,"\ufffd";if(O.lastNeed>1&&A.length>1){if(128!=(192&A[1]))return O.lastNeed=1,"\ufffd";if(O.lastNeed>2&&A.length>2&&128!=(192&A[2]))return O.lastNeed=2,"\ufffd"}}(this,O);return void 0!==S?S:this.lastNeed<=O.length?(O.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,A,0,O.length),void(this.lastNeed-=O.length))}function v(O,A){if((O.length-A)%2==0){var S=O.toString("utf16le",A);if(S){var T=S.charCodeAt(S.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=O[O.length-1],O.toString("utf16le",A,O.length-1)}function w(O){var A=O&&O.length?this.write(O):"";return this.lastNeed?A+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):A}function C(O,A){var S=(O.length-A)%3;return 0===S?O.toString("base64",A):(this.lastNeed=3-S,this.lastTotal=3,1===S?this.lastChar[0]=O[O.length-1]:(this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1]),O.toString("base64",A,O.length-S))}function D(O){var A=O&&O.length?this.write(O):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function M(O){return O.toString(this.encoding)}function H(O){return O&&O.length?this.write(O):""}ve.I=d,d.prototype.write=function(O){if(0===O.length)return"";var A,S;if(this.lastNeed){if(void 0===(A=this.fillLast(O)))return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<O.length?A?A+this.text(O,S):this.text(O,S):A||""},d.prototype.end=function _(O){var A=O&&O.length?this.write(O):"";return this.lastNeed?A+"\ufffd":A},d.prototype.text=function g(O,A){var S=function c(O,A,S){var T=A.length-1;if(T<S)return 0;var k=h(A[T]);return k>=0?(k>0&&(O.lastNeed=k-1),k):--T<S||-2===k?0:(k=h(A[T]))>=0?(k>0&&(O.lastNeed=k-2),k):--T<S||-2===k?0:(k=h(A[T]))>=0?(k>0&&(2===k?k=0:O.lastNeed=k-3),k):0}(this,O,A);if(!this.lastNeed)return O.toString("utf8",A);this.lastTotal=S;var T=O.length-(S-this.lastNeed);return O.copy(this.lastChar,0,T),O.toString("utf8",A,T)},d.prototype.fillLast=function(O){if(this.lastNeed<=O.length)return O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,O.length),this.lastNeed-=O.length}},8737:function(Ee,ve,$){(function(){var K,l={}.hasOwnProperty;K=$(8829),Ee.exports=function(d){function h(c){h.__super__.constructor.call(this,c)}return function(d,h){for(var c in h)l.call(h,c)&&(d[c]=h[c]);function f(){this.constructor=d}f.prototype=h.prototype,d.prototype=new f,d.__super__=h.prototype}(h,d),h.prototype.document=function(c,f){var g,_,v,w;for(f=this.filterOptions(f),v="",g=0,_=(w=c.children).length;g<_;g++)v+=this.writeChildNode(w[g],f,0);return f.pretty&&v.slice(-f.newline.length)===f.newline&&(v=v.slice(0,-f.newline.length)),v},h}(K)}).call(this)},8829:function(Ee,ve,$){(function(){var W,K,H,O={}.hasOwnProperty;H=$(3338).assign,W=$(9168),$(4835),$(9729),$(2106),$(4526),$(9335),$(8881),$(5212),$(6410),$(4747),$(7020),$(899),$(6220),$(793),K=$(9810),Ee.exports=function(){function A(S){var T,k,j;for(T in S||(S={}),this.options=S,k=S.writer||{})O.call(k,T)&&(j=k[T],this["_"+T]=this[T],this[T]=j)}return A.prototype.filterOptions=function(S){var T,k,j,ne,V,ae,J,ce;return S||(S={}),S=H({},this.options,S),(T={writer:this}).pretty=S.pretty||!1,T.allowEmpty=S.allowEmpty||!1,T.indent=null!=(k=S.indent)?k:"  ",T.newline=null!=(j=S.newline)?j:"\n",T.offset=null!=(ne=S.offset)?ne:0,T.dontPrettyTextNodes=null!=(V=null!=(ae=S.dontPrettyTextNodes)?ae:S.dontprettytextnodes)?V:0,T.spaceBeforeSlash=null!=(J=null!=(ce=S.spaceBeforeSlash)?ce:S.spacebeforeslash)?J:"",!0===T.spaceBeforeSlash&&(T.spaceBeforeSlash=" "),T.suppressPrettyCount=0,T.user={},T.state=K.None,T},A.prototype.indent=function(S,T,k){var j;return!T.pretty||T.suppressPrettyCount?"":T.pretty&&(j=(k||0)+T.offset+1)>0?new Array(j).join(T.indent):""},A.prototype.endline=function(S,T,k){return!T.pretty||T.suppressPrettyCount?"":T.newline},A.prototype.attribute=function(S,T,k){var j;return this.openAttribute(S,T,k),j=" "+S.name+'="'+S.value+'"',this.closeAttribute(S,T,k),j},A.prototype.cdata=function(S,T,k){var j;return this.openNode(S,T,k),T.state=K.OpenTag,j=this.indent(S,T,k)+"<![CDATA[",T.state=K.InsideTag,j+=S.value,T.state=K.CloseTag,j+="]]>"+this.endline(S,T,k),T.state=K.None,this.closeNode(S,T,k),j},A.prototype.comment=function(S,T,k){var j;return this.openNode(S,T,k),T.state=K.OpenTag,j=this.indent(S,T,k)+"\x3c!-- ",T.state=K.InsideTag,j+=S.value,T.state=K.CloseTag,j+=" --\x3e"+this.endline(S,T,k),T.state=K.None,this.closeNode(S,T,k),j},A.prototype.declaration=function(S,T,k){var j;return this.openNode(S,T,k),T.state=K.OpenTag,j=this.indent(S,T,k)+"<?xml",T.state=K.InsideTag,j+=' version="'+S.version+'"',null!=S.encoding&&(j+=' encoding="'+S.encoding+'"'),null!=S.standalone&&(j+=' standalone="'+S.standalone+'"'),T.state=K.CloseTag,j+=T.spaceBeforeSlash+"?>",j+=this.endline(S,T,k),T.state=K.None,this.closeNode(S,T,k),j},A.prototype.docType=function(S,T,k){var ne,V,ae,J;if(k||(k=0),this.openNode(S,T,k),T.state=K.OpenTag,ae=this.indent(S,T,k),ae+="<!DOCTYPE "+S.root().name,S.pubID&&S.sysID?ae+=' PUBLIC "'+S.pubID+'" "'+S.sysID+'"':S.sysID&&(ae+=' SYSTEM "'+S.sysID+'"'),S.children.length>0){for(ae+=" [",ae+=this.endline(S,T,k),T.state=K.InsideTag,ne=0,V=(J=S.children).length;ne<V;ne++)ae+=this.writeChildNode(J[ne],T,k+1);T.state=K.CloseTag,ae+="]"}return T.state=K.CloseTag,ae+=T.spaceBeforeSlash+">",ae+=this.endline(S,T,k),T.state=K.None,this.closeNode(S,T,k),ae},A.prototype.element=function(S,T,k){var ne,V,ae,J,ce,ge,we,He,Qe,Fe,Pt,at,on;for(He in k||(k=0),Qe=!1,Fe="",this.openNode(S,T,k),T.state=K.OpenTag,Fe+=this.indent(S,T,k)+"<"+S.name,Pt=S.attribs)O.call(Pt,He)&&(Fe+=this.attribute(Pt[He],T,k));if(ae=0===(V=S.children.length)?null:S.children[0],0===V||S.children.every(function(Dt){return(Dt.type===W.Text||Dt.type===W.Raw)&&""===Dt.value}))T.allowEmpty?(Fe+=">",T.state=K.CloseTag,Fe+="</"+S.name+">"+this.endline(S,T,k)):(T.state=K.CloseTag,Fe+=T.spaceBeforeSlash+"/>"+this.endline(S,T,k));else if(!T.pretty||1!==V||ae.type!==W.Text&&ae.type!==W.Raw||null==ae.value){if(T.dontPrettyTextNodes)for(J=0,ge=(at=S.children).length;J<ge;J++)if(((ne=at[J]).type===W.Text||ne.type===W.Raw)&&null!=ne.value){T.suppressPrettyCount++,Qe=!0;break}for(Fe+=">"+this.endline(S,T,k),T.state=K.InsideTag,ce=0,we=(on=S.children).length;ce<we;ce++)Fe+=this.writeChildNode(ne=on[ce],T,k+1);T.state=K.CloseTag,Fe+=this.indent(S,T,k)+"</"+S.name+">",Qe&&T.suppressPrettyCount--,Fe+=this.endline(S,T,k),T.state=K.None}else Fe+=">",T.state=K.InsideTag,T.suppressPrettyCount++,Qe=!0,Fe+=this.writeChildNode(ae,T,k+1),T.suppressPrettyCount--,Qe=!1,T.state=K.CloseTag,Fe+="</"+S.name+">"+this.endline(S,T,k);return this.closeNode(S,T,k),Fe},A.prototype.writeChildNode=function(S,T,k){switch(S.type){case W.CData:return this.cdata(S,T,k);case W.Comment:return this.comment(S,T,k);case W.Element:return this.element(S,T,k);case W.Raw:return this.raw(S,T,k);case W.Text:return this.text(S,T,k);case W.ProcessingInstruction:return this.processingInstruction(S,T,k);case W.Dummy:return"";case W.Declaration:return this.declaration(S,T,k);case W.DocType:return this.docType(S,T,k);case W.AttributeDeclaration:return this.dtdAttList(S,T,k);case W.ElementDeclaration:return this.dtdElement(S,T,k);case W.EntityDeclaration:return this.dtdEntity(S,T,k);case W.NotationDeclaration:return this.dtdNotation(S,T,k);default:throw new Error("Unknown XML node type: "+S.constructor.name)}},A.prototype.processingInstruction=function(S,T,k){var j;return this.openNode(S,T,k),T.state=K.OpenTag,j=this.indent(S,T,k)+"<?",T.state=K.InsideTag,j+=S.target,S.value&&(j+=" "+S.value),T.state=K.CloseTag,j+=T.spaceBeforeSlash+"?>",j+=this.endline(S,T,k),T.state=K.None,this.closeNode(S,T,k),j},A.prototype.raw=function(S,T,k){var j;return this.openNode(S,T,k),T.state=K.OpenTag,j=this.indent(S,T,k),T.state=K.InsideTag,j+=S.value,T.state=K.CloseTag,j+=this.endline(S,T,k),T.state=K.None,this.closeNode(S,T,k),j},A.prototype.text=function(S,T,k){var j;return this.openNode(S,T,k),T.state=K.OpenTag,j=this.indent(S,T,k),T.state=K.InsideTag,j+=S.value,T.state=K.CloseTag,j+=this.endline(S,T,k),T.state=K.None,this.closeNode(S,T,k),j},A.prototype.dtdAttList=function(S,T,k){var j;return this.openNode(S,T,k),T.state=K.OpenTag,j=this.indent(S,T,k)+"<!ATTLIST",T.state=K.InsideTag,j+=" "+S.elementName+" "+S.attributeName+" "+S.attributeType,"#DEFAULT"!==S.defaultValueType&&(j+=" "+S.defaultValueType),S.defaultValue&&(j+=' "'+S.defaultValue+'"'),T.state=K.CloseTag,j+=T.spaceBeforeSlash+">"+this.endline(S,T,k),T.state=K.None,this.closeNode(S,T,k),j},A.prototype.dtdElement=function(S,T,k){var j;return this.openNode(S,T,k),T.state=K.OpenTag,j=this.indent(S,T,k)+"<!ELEMENT",T.state=K.InsideTag,j+=" "+S.name+" "+S.value,T.state=K.CloseTag,j+=T.spaceBeforeSlash+">"+this.endline(S,T,k),T.state=K.None,this.closeNode(S,T,k),j},A.prototype.dtdEntity=function(S,T,k){var j;return this.openNode(S,T,k),T.state=K.OpenTag,j=this.indent(S,T,k)+"<!ENTITY",T.state=K.InsideTag,S.pe&&(j+=" %"),j+=" "+S.name,S.value?j+=' "'+S.value+'"':(S.pubID&&S.sysID?j+=' PUBLIC "'+S.pubID+'" "'+S.sysID+'"':S.sysID&&(j+=' SYSTEM "'+S.sysID+'"'),S.nData&&(j+=" NDATA "+S.nData)),T.state=K.CloseTag,j+=T.spaceBeforeSlash+">"+this.endline(S,T,k),T.state=K.None,this.closeNode(S,T,k),j},A.prototype.dtdNotation=function(S,T,k){var j;return this.openNode(S,T,k),T.state=K.OpenTag,j=this.indent(S,T,k)+"<!NOTATION",T.state=K.InsideTag,j+=" "+S.name,S.pubID&&S.sysID?j+=' PUBLIC "'+S.pubID+'" "'+S.sysID+'"':S.pubID?j+=' PUBLIC "'+S.pubID+'"':S.sysID&&(j+=' SYSTEM "'+S.sysID+'"'),T.state=K.CloseTag,j+=T.spaceBeforeSlash+">"+this.endline(S,T,k),T.state=K.None,this.closeNode(S,T,k),j},A.prototype.openNode=function(S,T,k){},A.prototype.closeNode=function(S,T,k){},A.prototype.openAttribute=function(S,T,k){},A.prototype.closeAttribute=function(S,T,k){},A}()}).call(this)},8881:function(Ee,ve,$){(function(){var W,K,d={}.hasOwnProperty;W=$(9168),K=$(3379),Ee.exports=function(h){function c(f,m){if(c.__super__.constructor.call(this,f),null==m)throw new Error("Missing raw text. "+this.debugInfo());this.type=W.Raw,this.value=this.stringify.raw(m)}return function(h,c){for(var f in c)d.call(c,f)&&(h[f]=c[f]);function m(){this.constructor=h}m.prototype=c.prototype,h.prototype=new m,h.__super__=c.prototype}(c,h),c.prototype.clone=function(){return Object.create(this)},c.prototype.toString=function(f){return this.options.writer.raw(this,this.options.writer.filterOptions(f))},c}(K)}).call(this)},9168:function(Ee){(function(){Ee.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},9335:function(Ee,ve,$){(function(){var W,K,l,d,h,c,f,m,_={}.hasOwnProperty;m=$(3338),f=m.isObject,c=m.isFunction,h=m.getValue,d=$(3379),W=$(9168),K=$(1615),l=$(9770),Ee.exports=function(v){function w(C,D,M){var H,O,A,S;if(w.__super__.constructor.call(this,C),null==D)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(D),this.type=W.Element,this.attribs={},this.schemaTypeInfo=null,null!=M&&this.attribute(M),C.type===W.Document&&(this.isRoot=!0,this.documentObject=C,C.rootObject=this,C.children))for(O=0,A=(S=C.children).length;O<A;O++)if((H=S[O]).type===W.DocType){H.name=this.name;break}}return function(v,w){for(var C in w)_.call(w,C)&&(v[C]=w[C]);function D(){this.constructor=v}D.prototype=w.prototype,v.prototype=new D,v.__super__=w.prototype}(w,v),Object.defineProperty(w.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(w.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(w.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(w.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(w.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(w.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(w.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(w.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new l(this.attribs)),this.attributeMap}}),w.prototype.clone=function(){var D,M,H;for(D in(M=Object.create(this)).isRoot&&(M.documentObject=null),M.attribs={},H=this.attribs)_.call(H,D)&&(M.attribs[D]=H[D].clone());return M.children=[],this.children.forEach(function(O){var A;return(A=O.clone()).parent=M,M.children.push(A)}),M},w.prototype.attribute=function(C,D){var M;if(null!=C&&(C=h(C)),f(C))for(M in C)_.call(C,M)&&this.attribute(M,C[M]);else c(D)&&(D=D.apply()),this.options.keepNullAttributes&&null==D?this.attribs[C]=new K(this,C,""):null!=D&&(this.attribs[C]=new K(this,C,D));return this},w.prototype.removeAttribute=function(C){var M,H;if(null==C)throw new Error("Missing attribute name. "+this.debugInfo());if(C=h(C),Array.isArray(C))for(M=0,H=C.length;M<H;M++)delete this.attribs[C[M]];else delete this.attribs[C];return this},w.prototype.toString=function(C){return this.options.writer.element(this,this.options.writer.filterOptions(C))},w.prototype.att=function(C,D){return this.attribute(C,D)},w.prototype.a=function(C,D){return this.attribute(C,D)},w.prototype.getAttribute=function(C){return this.attribs.hasOwnProperty(C)?this.attribs[C].value:null},w.prototype.setAttribute=function(C,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.getAttributeNode=function(C){return this.attribs.hasOwnProperty(C)?this.attribs[C]:null},w.prototype.setAttributeNode=function(C){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.removeAttributeNode=function(C){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.getElementsByTagName=function(C){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.getAttributeNS=function(C,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.setAttributeNS=function(C,D,M){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.removeAttributeNS=function(C,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.getAttributeNodeNS=function(C,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.setAttributeNodeNS=function(C){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.getElementsByTagNameNS=function(C,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.hasAttribute=function(C){return this.attribs.hasOwnProperty(C)},w.prototype.hasAttributeNS=function(C,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.setIdAttribute=function(C,D){return this.attribs.hasOwnProperty(C)?this.attribs[C].isId:D},w.prototype.setIdAttributeNS=function(C,D,M){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.setIdAttributeNode=function(C,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.getElementsByTagName=function(C){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.getElementsByTagNameNS=function(C,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.getElementsByClassName=function(C){throw new Error("This DOM method is not implemented."+this.debugInfo())},w.prototype.isEqualNode=function(C){var D,M,H;if(!w.__super__.isEqualNode.apply(this,arguments).isEqualNode(C)||C.namespaceURI!==this.namespaceURI||C.prefix!==this.prefix||C.localName!==this.localName||C.attribs.length!==this.attribs.length)return!1;for(D=M=0,H=this.attribs.length-1;0<=H?M<=H:M>=H;D=0<=H?++M:--M)if(!this.attribs[D].isEqualNode(C.attribs[D]))return!1;return!0},w}(d)}).call(this)},9723:function(Ee){(function(){Ee.exports=function(){function $(W){this.nodes=W}return Object.defineProperty($.prototype,"length",{get:function(){return this.nodes.length||0}}),$.prototype.clone=function(){return this.nodes=null},$.prototype.item=function(W){return this.nodes[W]||null},$}()}).call(this)},9729:function(Ee,ve,$){(function(){var W,K,U,l,d,c,f,m,_={}.hasOwnProperty;m=$(3338).isObject,f=$(3379),W=$(9168),K=$(7020),l=$(6220),U=$(899),d=$(793),c=$(9770),Ee.exports=function(v){function w(C,D,M){var H,O,A,S,T,k;if(w.__super__.constructor.call(this,C),this.type=W.DocType,C.children)for(O=0,A=(S=C.children).length;O<A;O++)if((H=S[O]).type===W.Element){this.name=H.name;break}this.documentObject=C,m(D)&&(D=(T=D).pubID,M=T.sysID),null==M&&(M=(k=[D,M])[0],D=k[1]),null!=D&&(this.pubID=this.stringify.dtdPubID(D)),null!=M&&(this.sysID=this.stringify.dtdSysID(M))}return function(v,w){for(var C in w)_.call(w,C)&&(v[C]=w[C]);function D(){this.constructor=v}D.prototype=w.prototype,v.prototype=new D,v.__super__=w.prototype}(w,v),Object.defineProperty(w.prototype,"entities",{get:function(){var C,D,M,H,O;for(H={},D=0,M=(O=this.children).length;D<M;D++)(C=O[D]).type===W.EntityDeclaration&&!C.pe&&(H[C.name]=C);return new c(H)}}),Object.defineProperty(w.prototype,"notations",{get:function(){var C,D,M,H,O;for(H={},D=0,M=(O=this.children).length;D<M;D++)(C=O[D]).type===W.NotationDeclaration&&(H[C.name]=C);return new c(H)}}),Object.defineProperty(w.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(w.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(w.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),w.prototype.element=function(C,D){var M;return M=new U(this,C,D),this.children.push(M),this},w.prototype.attList=function(C,D,M,H,O){var A;return A=new K(this,C,D,M,H,O),this.children.push(A),this},w.prototype.entity=function(C,D){var M;return M=new l(this,!1,C,D),this.children.push(M),this},w.prototype.pEntity=function(C,D){var M;return M=new l(this,!0,C,D),this.children.push(M),this},w.prototype.notation=function(C,D){var M;return M=new d(this,C,D),this.children.push(M),this},w.prototype.toString=function(C){return this.options.writer.docType(this,this.options.writer.filterOptions(C))},w.prototype.ele=function(C,D){return this.element(C,D)},w.prototype.att=function(C,D,M,H,O){return this.attList(C,D,M,H,O)},w.prototype.ent=function(C,D){return this.entity(C,D)},w.prototype.pent=function(C,D){return this.pEntity(C,D)},w.prototype.not=function(C,D){return this.notation(C,D)},w.prototype.up=function(){return this.root()||this.documentObject},w.prototype.isEqualNode=function(C){return!(!w.__super__.isEqualNode.apply(this,arguments).isEqualNode(C)||C.name!==this.name||C.publicId!==this.publicId||C.systemId!==this.systemId)},w}(f)}).call(this)},9770:function(Ee){(function(){Ee.exports=function(){function $(W){this.nodes=W}return Object.defineProperty($.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),$.prototype.clone=function(){return this.nodes=null},$.prototype.getNamedItem=function(W){return this.nodes[W]},$.prototype.setNamedItem=function(W){var K;return K=this.nodes[W.nodeName],this.nodes[W.nodeName]=W,K||null},$.prototype.removeNamedItem=function(W){var K;return K=this.nodes[W],delete this.nodes[W],K||null},$.prototype.item=function(W){return this.nodes[Object.keys(this.nodes)[W]]||null},$.prototype.getNamedItemNS=function(W,K){throw new Error("This DOM method is not implemented.")},$.prototype.setNamedItemNS=function(W){throw new Error("This DOM method is not implemented.")},$.prototype.removeNamedItemNS=function(W,K){throw new Error("This DOM method is not implemented.")},$}()}).call(this)},9810:function(Ee){(function(){Ee.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)}},xw={};function lm(Ee){var ve=xw[Ee];if(void 0!==ve)return ve.exports;var $=xw[Ee]={exports:{}};return NP[Ee].call($.exports,$,$.exports,lm),$.exports}(()=>{"use strict";function Ee(e,n,t,i,r,o,s){try{var a=e[o](s),u=a.value}catch(p){return void t(p)}a.done?n(u):Promise.resolve(u).then(i,r)}function ve(e){return function(){var n=this,t=arguments;return new Promise(function(i,r){var o=e.apply(n,t);function s(u){Ee(o,i,r,s,a,"next",u)}function a(u){Ee(o,i,r,s,a,"throw",u)}s(void 0)})}}let $;function W(){return $}function K(e){const n=$;return $=e,n}const l=Symbol("NotFound");function h(e){return e===l||"\u0275NotFound"===e?.name}Error;let c=null,f=!1,m=1;const _=Symbol("SIGNAL");function v(e){const n=c;return c=e,n}const M={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function H(e){if(f)throw new Error("");if(null===c)return;c.consumerOnSignalRead(e);const n=c.producersTail;if(void 0!==n&&n.producer===e)return;let t;const i=c.recomputing;if(i&&(t=void 0!==n?n.nextProducer:c.producers,void 0!==t&&t.producer===e))return c.producersTail=t,void(t.lastReadVersion=e.version);const r=e.consumersTail;if(void 0!==r&&r.consumer===c&&(!i||function at(e,n){const t=n.producersTail;if(void 0!==t){let i=n.producers;do{if(i===e)return!0;if(i===t)break;i=i.nextProducer}while(void 0!==i)}return!1}(r,c)))return;const o=Qe(c),s={producer:e,consumer:c,nextProducer:t,prevConsumer:r,lastReadVersion:e.version,nextConsumer:void 0};c.producersTail=s,void 0!==n?n.nextProducer=s:c.producers=s,o&&we(e,s)}function A(e){if((!Qe(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==m)){if(!e.producerMustRecompute(e)&&!ce(e))return void j(e);e.producerRecomputeValue(e),j(e)}}function S(e){if(void 0===e.consumers)return;const n=f;f=!0;try{for(let t=e.consumers;void 0!==t;t=t.nextConsumer){const i=t.consumer;i.dirty||k(i)}}finally{f=n}}function T(){return!1!==c?.consumerAllowSignalWrites}function k(e){e.dirty=!0,S(e),e.consumerMarkedDirty?.(e)}function j(e){e.dirty=!1,e.lastCleanEpoch=m}function ne(e){return e&&function V(e){e.producersTail=void 0,e.recomputing=!0}(e),v(e)}function ae(e,n){v(n),e&&function J(e){e.recomputing=!1;const n=e.producersTail;let t=void 0!==n?n.nextProducer:e.producers;if(void 0!==t){if(Qe(e))do{t=He(t)}while(void 0!==t);void 0!==n?n.nextProducer=void 0:e.producers=void 0}}(e)}function ce(e){for(let n=e.producers;void 0!==n;n=n.nextProducer){const t=n.producer,i=n.lastReadVersion;if(i!==t.version||(A(t),i!==t.version))return!0}return!1}function ge(e){if(Qe(e)){let n=e.producers;for(;void 0!==n;)n=He(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function we(e,n){const t=e.consumersTail,i=Qe(e);if(void 0!==t?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!i)for(let r=e.producers;void 0!==r;r=r.nextProducer)we(r.producer,r)}function He(e){const n=e.producer,t=e.nextProducer,i=e.nextConsumer,r=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,void 0!==i?i.prevConsumer=r:n.consumersTail=r,void 0!==r)r.nextConsumer=i;else if(n.consumers=i,!Qe(n)){let o=n.producers;for(;void 0!==o;)o=He(o)}return t}function Qe(e){return e.consumerIsAlwaysLive||void 0!==e.consumers}function on(e,n){return Object.is(e,n)}function Dt(e,n){const t=Object.create(yt);t.computation=e,void 0!==n&&(t.equal=n);const i=()=>{if(A(t),H(t),t.value===si)throw t.error;return t.value};return i[_]=t,i}const zt=Symbol("UNSET"),Oi=Symbol("COMPUTING"),si=Symbol("ERRORED"),yt={...M,value:zt,dirty:!0,error:null,equal:on,kind:"computed",producerMustRecompute:e=>e.value===zt||e.value===Oi,producerRecomputeValue(e){if(e.value===Oi)throw new Error("");const n=e.value;e.value=Oi;const t=ne(e);let i,r=!1;try{i=e.computation(),v(null),r=n!==zt&&n!==si&&i!==si&&e.equal(n,i)}catch(o){i=si,e.error=o}finally{ae(e,t)}r?e.value=n:(e.value=i,e.version++)}};let X=function Wr(){throw new Error};function z(e){X(e)}function Nt(e,n){const t=Object.create(I);t.value=e,void 0!==n&&(t.equal=n);const i=()=>function Bt(e){return H(e),e.value}(t);return i[_]=t,[i,s=>fn(t,s),s=>function In(e,n){T()||z(e),fn(e,n(e.value))}(t,s)]}function fn(e,n){T()||z(e),e.equal(e.value,n)||(e.value=n,function R(e){e.version++,function O(){m++}(),S(e)}(e))}const I={...M,equal:on,value:void 0,kind:"signal"};function b(e){return"function"==typeof e}function P(e){const t=e(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Y=P(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function re(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class de{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(b(i))try{i()}catch(o){n=o instanceof Y?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{We(o)}catch(s){n=n??[],s instanceof Y?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Y(n)}}add(n){var t;if(n&&n!==this)if(this.closed)We(n);else{if(n instanceof de){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&re(t,n)}remove(n){const{_finalizers:t}=this;t&&re(t,n),n instanceof de&&n._removeParent(this)}}de.EMPTY=(()=>{const e=new de;return e.closed=!0,e})();const ke=de.EMPTY;function _e(e){return e instanceof de||e&&"closed"in e&&b(e.remove)&&b(e.add)&&b(e.unsubscribe)}function We(e){b(e)?e():e.unsubscribe()}const Ke={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},jt={setTimeout(e,n,...t){const{delegate:i}=jt;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=jt;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ht(e){jt.setTimeout(()=>{const{onUnhandledError:n}=Ke;if(!n)throw e;n(e)})}function en(){}const Ut=G("C",void 0,void 0);function G(e,n,t){return{kind:e,value:n,error:t}}let Z=null;function me(e){if(Ke.useDeprecatedSynchronousErrorHandling){const n=!Z;if(n&&(Z={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:i}=Z;if(Z=null,t)throw i}}else e()}class et extends de{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,_e(n)&&n.add(this)):this.destination=ld}static create(n,t,i){return new En(n,t,i)}next(n){this.isStopped?xa(function N(e){return G("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?xa(function L(e){return G("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?xa(Ut,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Kt=Function.prototype.bind;function nt(e,n){return Kt.call(e,n)}class Pi{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){Or(i)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){Or(i)}else Or(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Or(t)}}}class En extends et{constructor(n,t,i){let r;if(super(),b(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Ke.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&nt(n.next,o),error:n.error&&nt(n.error,o),complete:n.complete&&nt(n.complete,o)}):r=n}this.destination=new Pi(r)}}function Or(e){Ke.useDeprecatedSynchronousErrorHandling?function Re(e){Ke.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=e)}(e):ht(e)}function xa(e,n){const{onStoppedNotification:t}=Ke;t&&jt.setTimeout(()=>t(e,n))}const ld={closed:!0,next:en,error:function ad(e){throw e},complete:en},cm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ta(e){return e}let tn=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function LP(e){return e&&e instanceof et||function FP(e){return e&&b(e.next)&&b(e.error)&&b(e.complete)}(e)&&_e(e)}(t)?t:new En(t,i,r);return me(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Ew(i))((r,o)=>{const s=new En({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[cm](){return this}pipe(...t){return function Tw(e){return 0===e.length?Ta:1===e.length?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=Ew(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function Ew(e){var n;return null!==(n=e??Ke.Promise)&&void 0!==n?n:Promise}const BP=P(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let je=(()=>{class e extends tn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Dw(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new BP}next(t){me(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){me(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){me(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?ke:(this.currentObservers=null,o.push(t),new de(()=>{this.currentObservers=null,re(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new tn;return t.source=this,t}}return e.create=(n,t)=>new Dw(n,t),e})();class Dw extends je{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,n)}error(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==i?i:ke}}class ai extends je{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const Iw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Ce extends Error{code;constructor(n,t){super(function br(e,n){return`${function HP(e){return`NG0${Math.abs(e)}`}(e)}${n?": "+n:""}`}(n,t)),this.code=n}}const Rn=globalThis;function Qt(e){for(let n in e)if(e[n]===Qt)return n;throw Error("")}function VP(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Zi(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Zi).join(", ")}]`;if(null==e)return""+e;const n=e.overriddenName||e.name;if(n)return`${n}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return i>=0?t.slice(0,i):t}function um(e,n){return e?n?`${e} ${n}`:e:n||""}const zP=Qt({__forward_ref__:Qt});function an(e){return e.__forward_ref__=an,e.toString=function(){return Zi(this())},e}function St(e){return cd(e)?e():e}function cd(e){return"function"==typeof e&&e.hasOwnProperty(zP)&&e.__forward_ref__===an}function Te(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pr(e){return{providers:e.providers||[],imports:e.imports||[]}}function ud(e){return function qP(e,n){return e.hasOwnProperty(n)&&e[n]||null}(e,hd)}function dd(e){return e&&e.hasOwnProperty(dm)?e[dm]:null}const hd=Qt({\u0275prov:Qt}),dm=Qt({\u0275inj:Qt});class fe{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Te({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fm(e){return e&&!!e.\u0275providers}const pm=Qt({\u0275cmp:Qt}),$P=Qt({\u0275dir:Qt}),eN=Qt({\u0275pipe:Qt}),vs=Qt({\u0275fac:Qt}),Yl=Qt({__NG_ELEMENT_ID__:Qt}),Rw=Qt({__NG_ENV_ID__:Qt});function Tt(e){return"string"==typeof e?e:null==e?"":String(e)}const mm=Qt({ngErrorCode:Qt}),Aw=Qt({ngErrorMessage:Qt}),Kl=Qt({ngTokenPath:Qt});function gm(e,n){return kw("",-200,n)}function _m(e,n){throw new Ce(-201,!1)}function kw(e,n,t){const i=new Ce(n,e);return i[mm]=n,i[Aw]=e,t&&(i[Kl]=t),i}let vm;function Ow(){return vm}function Yi(e){const n=vm;return vm=e,n}function Pw(e,n,t){const i=ud(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:8&t?null:void 0!==n?n:void _m()}const bs={};class sN{injector;constructor(n){this.injector=n}retrieve(n,t){const i=Ql(t)||0;try{return this.injector.get(n,8&i?null:bs,i)}catch(r){if(h(r))return r;throw r}}}function aN(e,n=0){const t=W();if(void 0===t)throw new Ce(-203,!1);if(null===t)return Pw(e,void 0,n);{const i=function lN(e){return{optional:!!(8&e),host:!!(1&e),self:!!(2&e),skipSelf:!!(4&e)}}(n),r=t.retrieve(e,i);if(h(r)){if(i.optional)return null;throw r}return r}}function ft(e,n=0){return(Ow()||aN)(St(e),n)}function E(e,n){return ft(e,Ql(n))}function Ql(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ym(e){const n=[];for(let t=0;t<e.length;t++){const i=St(e[t]);if(Array.isArray(i)){if(0===i.length)throw new Ce(900,!1);let r,o=0;for(let s=0;s<i.length;s++){const a=i[s],u=cN(a);"number"==typeof u?-1===u?r=a.token:o|=u:r=a}n.push(ft(r,o))}else n.push(ft(i))}return n}function cN(e){return e.__NG_DI_FLAG__}function ys(e,n){return e.hasOwnProperty(vs)?e[vs]:null}function Ea(e,n){e.forEach(t=>Array.isArray(t)?Ea(t,n):n(t))}function Fw(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function pd(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function gd(e,n,t){let i=$l(e,n);return i>=0?e[1|i]=t:(i=~i,function Bw(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(1===r)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;)e[r]=e[r-2],r--;e[n]=t,e[n+1]=i}}(e,i,n,t)),i}function wm(e,n){const t=$l(e,n);if(t>=0)return e[1|t]}function $l(e,n){return function dN(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}(e,n,1)}const Xr={},pn=[],ws=new fe(""),Hw=new fe("",-1),Cm=new fe("");class _d{get(n,t=bs){if(t===bs){const r=kw("",-201);throw r.name="\u0275NotFound",r}return t}}function Jt(e){return e[pm]||null}function Ni(e){return e[$P]||null}function Nr(e){return e[eN]||null}function fN(...e){return{\u0275providers:Em(0,e),\u0275fromNgModule:!0}}function Em(e,...n){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Ea(n,s=>{const a=s;vd(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&Vw(r,o),t}function Vw(e,n){for(let t=0;t<e.length;t++){const{ngModule:i,providers:r}=e[t];Dm(r,o=>{n(o,i)})}}function vd(e,n,t,i){if(!(e=St(e)))return!1;let r=null,o=dd(e);const s=!o&&Jt(e);if(o||s){if(s&&!s.standalone)return!1;r=e}else{const u=e.ngModule;if(o=dd(u),!o)return!1;r=u}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const p of u)vd(p,n,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let p;i.add(r);try{Ea(o.imports,y=>{vd(y,n,t,i)&&(p||=[],p.push(y))})}finally{}void 0!==p&&Vw(p,n)}if(!a){const p=ys(r)||(()=>new r);n({provide:r,useFactory:p,deps:pn},r),n({provide:Cm,useValue:r,multi:!0},r),n({provide:ws,useValue:()=>ft(r),multi:!0},r)}const u=o.providers;if(null!=u&&!a){const p=e;Dm(u,y=>{n(y,p)})}}}return r!==e&&void 0!==e.providers}function Dm(e,n){for(let t of e)fm(t)&&(t=t.\u0275providers),Array.isArray(t)?Dm(t,n):n(t)}const pN=Qt({provide:String,useValue:Qt});function Sm(e){return null!==e&&"object"==typeof e&&pN in e}function lo(e){return"function"==typeof e}const Im=new fe(""),bd={},Gw={};let Mm;function yd(){return void 0===Mm&&(Mm=new _d),Mm}class Ti{}class Cs extends Ti{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Am(n,s=>this.processProvider(s)),this.records.set(Hw,Da(void 0,this)),r.has("environment")&&this.records.set(Ti,Da(void 0,this));const o=this.records.get(Im);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cm,pn,{self:!0}))}retrieve(n,t){const i=Ql(t)||0;try{return this.get(n,bs,i)}catch(r){if(h(r))return r;throw r}}destroy(){tc(this),this._destroyed=!0;const n=v(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),v(n)}}onDestroy(n){return tc(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){tc(this);const t=K(this),i=Yi(void 0);try{return n()}finally{K(t),Yi(i)}}get(n,t=bs,i){if(tc(this),n.hasOwnProperty(Rw))return n[Rw](this);const r=Ql(i),s=K(this),a=Yi(void 0);try{if(!(4&r)){let p=this.records.get(n);if(void 0===p){const y=function bN(e){return"function"==typeof e||"object"==typeof e&&"InjectionToken"===e.ngMetadataName}(n)&&ud(n);p=y&&this.injectableDefInScope(y)?Da(Rm(n),bd):null,this.records.set(n,p)}if(null!=p)return this.hydrate(n,p,r)}return(2&r?yd():this.parent).get(n,t=8&r&&t===bs?null:t)}catch(u){const p=function rN(e){return e[mm]}(u);throw-200===p||-201===p?new Ce(p,null):u}finally{Yi(a),K(s)}}resolveInjectorInitializers(){const n=v(null),t=K(this),i=Yi(void 0);try{const o=this.get(ws,pn,{self:!0});for(const s of o)s()}finally{K(t),Yi(i),v(n)}}toString(){const n=[],t=this.records;for(const i of t.keys())n.push(Zi(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){let t=lo(n=St(n))?n:St(n&&n.provide);const i=function gN(e){return Sm(e)?Da(void 0,e.useValue):Da(Ww(e),bd)}(n);if(!lo(n)&&!0===n.multi){let r=this.records.get(t);r||(r=Da(void 0,bd,!0),r.factory=()=>ym(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t,i){const r=v(null);try{if(t.value===Gw)throw gm(Zi(n));return t.value===bd&&(t.value=Gw,t.value=t.factory(void 0,i)),"object"==typeof t.value&&t.value&&function vN(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{v(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;const t=St(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Rm(e){const n=ud(e),t=null!==n?n.factory:ys(e);if(null!==t)return t;if(e instanceof fe)throw new Ce(204,!1);if(e instanceof Function)return function mN(e){if(e.length>0)throw new Ce(204,!1);const t=function ZP(e){return(e?.[hd]??null)||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new Ce(204,!1)}function Ww(e,n,t){let i;if(lo(e)){const r=St(e);return ys(r)||Rm(r)}if(Sm(e))i=()=>St(e.useValue);else if(function jw(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...ym(e.deps||[]));else if(function zw(e){return!(!e||!e.useExisting)}(e))i=(r,o)=>ft(St(e.useExisting),void 0!==o&&8&o?8:void 0);else{const r=St(e&&(e.useClass||e.provide));if(!function _N(e){return!!e.deps}(e))return ys(r)||Rm(r);i=()=>new r(...ym(e.deps))}return i}function tc(e){if(e.destroyed)throw new Ce(205,!1)}function Da(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Am(e,n){for(const t of e)Array.isArray(t)?Am(t,n):t&&fm(t)?Am(t.\u0275providers,n):n(t)}function km(e,n){let t;e instanceof Cs?(tc(e),t=e):t=new sN(e);const r=K(t),o=Yi(void 0);try{return n()}finally{K(r),Yi(o)}}function Mn(e){return Array.isArray(e)&&"object"==typeof e[1]}function Fi(e){return Array.isArray(e)&&!0===e[1]}function qw(e){return!!(4&e.flags)}function fo(e){return e.componentOffset>-1}function Aa(e){return!(1&~e.flags)}function ur(e){return!!e.template}function Xo(e){return!!(512&e[2])}function po(e){return!(256&~e[2])}function ci(e){for(;Array.isArray(e);)e=e[0];return e}function ka(e,n){return ci(n[e])}function Gn(e,n){return ci(n[e.index])}function Oa(e,n){return e.data[n]}function Li(e,n){const t=n[e];return Mn(t)?t:t[0]}function Lm(e){return!(128&~e[2])}function Di(e,n){return null==n?null:e[n]}function $w(e){e[17]=0}function Bm(e){1024&e[2]||(e[2]|=1024,Lm(e)&&Pa(e))}function rc(e){return!!(9216&e[2]||e[24]?.dirty)}function Hm(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),rc(e)&&Pa(e)}function Pa(e){e[10].changeDetectionScheduler?.notify(0);let n=mo(e);for(;null!==n&&!(8192&n[2])&&(n[2]|=8192,Lm(n));)n=mo(n)}function Td(e,n){if(po(e))throw new Ce(911,!1);null===e[21]&&(e[21]=[]),e[21].push(n)}function mo(e){const n=e[3];return Fi(n)?n[3]:n}function tC(e){return e[7]??=[]}function nC(e){return e.cleanup??=[]}const vt={lFrame:_C(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let jm=!1;function iC(){vt.lFrame.elementDepthCount--}function Um(){return vt.bindingsEnabled}function rC(){return null!==vt.skipHydrationRootTNode}function oC(e){return vt.skipHydrationRootTNode===e}function sC(){vt.skipHydrationRootTNode=null}function be(){return vt.lFrame.lView}function It(){return vt.lFrame.tView}function Je(e){return vt.lFrame.contextLView=e,e[8]}function $e(e){return vt.lFrame.contextLView=null,e}function wt(){let e=aC();for(;null!==e&&64===e.type;)e=e.parent;return e}function aC(){return vt.lFrame.currentTNode}function go(e,n){const t=vt.lFrame;t.currentTNode=e,t.isParent=n}function lC(){return vt.lFrame.isParent}function cC(){vt.lFrame.isParent=!1}function hC(){return jm}function Ed(e){const n=jm;return jm=e,n}function Bi(){const e=vt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Ki(){return vt.lFrame.bindingIndex++}function vo(e){const n=vt.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function kN(e,n){const t=vt.lFrame;t.bindingIndex=t.bindingRootIndex=e,Gm(n)}function Gm(e){vt.lFrame.currentDirectiveIndex=e}function Xm(){return vt.lFrame.currentQueryIndex}function Dd(e){vt.lFrame.currentQueryIndex=e}function PN(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[5]:null}function mC(e,n,t){if(4&t){let r=n,o=e;for(;!(r=r.parent,null!==r||1&t||(r=PN(o),null===r||(o=o[14],10&r.type))););if(null===r)return!1;n=r,e=o}const i=vt.lFrame=gC();return i.currentTNode=n,i.lView=e,!0}function qm(e){const n=gC(),t=e[1];vt.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function gC(){const e=vt.lFrame,n=null===e?null:e.child;return null===n?_C(e):n}function _C(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function vC(){const e=vt.lFrame;return vt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const bC=vC;function Zm(){const e=vC();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function mi(){return vt.lFrame.selectedIndex}function Ss(e){vt.lFrame.selectedIndex=e}function Zr(){const e=vt.lFrame;return Oa(e.tView,e.selectedIndex)}function sc(){vt.lFrame.currentNamespace="svg"}let wC=!0;function Sd(){return wC}function ac(e){wC=e}function CC(e,n=null,t=null,i){const r=function xC(e,n=null,t=null,i,r=new Set){const o=[t||pn,fN(e)];return i=i||("object"==typeof e?void 0:Zi(e)),new Cs(o,n||yd(),i||null,r)}(e,n,t,i);return r.resolveInjectorInitializers(),r}class Ft{static THROW_IF_NOT_FOUND=bs;static NULL=new _d;static create(n,t){if(Array.isArray(n))return CC({name:""},t,n,"");{const i=n.name??"";return CC({name:i},n.parent,n.providers,i)}}static \u0275prov=Te({token:Ft,providedIn:"any",factory:()=>ft(Hw)});static __NG_ELEMENT_ID__=-1}const Vt=new fe("");let Yr=(()=>class e{static __NG_ELEMENT_ID__=HN;static __NG_ENV_ID__=t=>t})();class TC extends Yr{_lView;constructor(n){super(),this._lView=n}get destroyed(){return po(this._lView)}onDestroy(n){const t=this._lView;return Td(t,n),()=>function Vm(e,n){if(null===e[21])return;const t=e[21].indexOf(n);-1!==t&&e[21].splice(t,1)}(t,n)}}function HN(){return new TC(be())}class bo{_console=console;handleError(n){this._console.error("ERROR",n)}}const yo=new fe("",{providedIn:"root",factory:()=>{const e=E(Ti);let n;return t=>{e.destroyed&&!n?setTimeout(()=>{throw t}):(n??=e.get(bo),n.handleError(t))}}}),EC={provide:ws,useValue:()=>{E(bo)},multi:!0};function lc(e){return"function"==typeof e&&void 0!==e[_]}function gi(e,n){const[t,i,r]=Nt(e,n?.equal),o=t;return o.set=i,o.update=r,o.asReadonly=Ym.bind(o),o}function Ym(){const e=this[_];if(void 0===e.readonlyFn){const n=()=>this();n[_]=e,e.readonlyFn=n}return e.readonlyFn}function DC(e){return lc(e)&&"function"==typeof e.set}class wo{}const SC=new fe("",{providedIn:"root",factory:()=>!1}),IC=new fe(""),MC=new fe("");let Id=(()=>class e{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=zN})();function zN(){return new Id(be(),wt())}let Is=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ai(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new tn(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Te({token:e,providedIn:"root",factory:()=>new e})}return e})(),Km=(()=>{class e{internalPendingTasks=E(Is);scheduler=E(wo);errorHandler=E(yo);add(){const t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){const i=this.add();t().catch(this.errorHandler).finally(i)}static \u0275prov=Te({token:e,providedIn:"root",factory:()=>new e})}return e})();function cc(...e){}let RC=(()=>{class e{static \u0275prov=Te({token:e,providedIn:"root",factory:()=>new jN})}return e})();class jN{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){const i=this.queues.get(n.zone);i.has(n)&&(i.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){const t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);const i=this.queues.get(t);i.has(n)||i.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(const[t,i]of this.queues)n||=null===t?this.flushQueue(i):t.run(()=>this.flushQueue(i));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(const i of n)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}}function Qn(e){return n=>{if(function UN(e){return b(e?.lift)}(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function kn(e,n,t,i,r){return new GN(e,n,t,i,r)}class GN extends et{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){n.error(u)}}:super._next,this._error=r?function(a){try{r(a)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function On(e,n){return Qn((t,i)=>{let r=0;t.subscribe(kn(i,o=>{i.next(e.call(n,o,r++))}))})}function Co(e){return{toString:e}.toString()}class tF{previousValue;currentValue;firstChange;constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function PC(e,n,t,i){null!==n?n.applyValueToInputSignal(n,i):e[t]=i}const dr=(()=>{const e=()=>NC;return e.ngInherit=!0,e})();function NC(e){return e.type.prototype.ngOnChanges&&(e.setInput=iF),nF}function nF(){const e=LC(this),n=e?.current;if(n){const t=e.previous;if(t===Xr)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function iF(e,n,t,i,r){const o=this.declaredInputs[i],s=LC(e)||function rF(e,n){return e[FC]=n}(e,{previous:Xr,current:null}),a=s.current||(s.current={}),u=s.previous,p=u[o];a[o]=new tF(p&&p.currentValue,t,u===Xr),PC(e,n,r,t)}const FC="__ngSimpleChanges__";function LC(e){return e[FC]||null}const Ms=[],nn=function(e,n=null,t){for(let i=0;i<Ms.length;i++)(0,Ms[i])(e,n,t)};function BC(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:p,ngOnDestroy:y}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),u&&(e.viewHooks??=[]).push(-t,u),p&&((e.viewHooks??=[]).push(t,p),(e.viewCheckHooks??=[]).push(t,p)),null!=y&&(e.destroyHooks??=[]).push(t,y)}}function Ad(e,n,t){HC(e,n,3,t)}function kd(e,n,t,i){(3&e[2])===t&&HC(e,n,t,i)}function $m(e,n){let t=e[2];(3&t)===n&&(t&=16383,t+=1,e[2]=t)}function HC(e,n,t,i){const o=i??-1,s=n.length-1;let a=0;for(let u=void 0!==i?65535&e[17]:0;u<s;u++)if("number"==typeof n[u+1]){if(a=n[u],null!=i&&a>=i)break}else n[u]<0&&(e[17]+=65536),(a<o||-1==o)&&(cF(e,t,n,u),e[17]=(4294901760&e[17])+u+2),u++}function VC(e,n){nn(4,e,n);const t=v(null);try{n.call(e)}finally{v(t),nn(5,e,n)}}function cF(e,n,t,i){const r=t[i]<0,o=t[i+1],a=e[r?-t[i]:t[i]];r?e[2]>>14<e[17]>>16&&(3&e[2])===n&&(e[2]+=16384,VC(a,o)):VC(a,o)}class dc{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,i,r){this.factory=n,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}}function jC(e){return 3===e||4===e||6===e}function UC(e){return 64===e.charCodeAt(0)}function za(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?t=r:0===t||GC(e,t,r,0,-1===t||2===t?n[++i]:null)}}return e}function GC(e,n,t,i,r){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t)return void(null!==r&&(e[o+1]=r));o++,null!==r&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r)}function tg(e){return-1!==e}function hc(e){return 32767&e}function fc(e,n){let t=function fF(e){return e>>16}(e),i=n;for(;t>0;)i=i[14],t--;return i}let ng=!0;function Od(e){const n=ng;return ng=e,n}let pF=0;const Kr={};function Pd(e,n){const t=qC(e,n);if(-1!==t)return t;const i=n[1];i.firstCreatePass&&(e.injectorIndex=n.length,ig(i.data,e),ig(n,null),ig(i.blueprint,null));const r=Nd(e,n),o=e.injectorIndex;if(tg(r)){const s=hc(r),a=fc(r,n),u=a[1].data;for(let p=0;p<8;p++)n[o+p]=a[s+p]|u[s+p]}return n[o+8]=r,o}function ig(e,n){e.push(0,0,0,0,0,0,0,0,n)}function qC(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Nd(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;null!==r;){if(i=e0(r),null===i)return-1;if(t++,r=r[14],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function rg(e,n,t){!function mF(e,n,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Yl)&&(i=t[Yl]),null==i&&(i=t[Yl]=pF++);const r=255&i;n.data[e+(r>>5)]|=1<<r}(e,n,t)}function ZC(e,n,t){if(8&t||void 0!==e)return e;_m()}function YC(e,n,t,i){if(8&t&&void 0===i&&(i=null),!(3&t)){const r=e[9],o=Yi(void 0);try{return r?r.get(n,i,8&t):Pw(n,i,8&t)}finally{Yi(o)}}return ZC(i,0,t)}function KC(e,n,t,i=0,r){if(null!==e){if(2048&n[2]&&!(2&i)){const s=function yF(e,n,t,i,r){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[2]&&!Xo(s);){const a=QC(o,s,t,2|i,Kr);if(a!==Kr)return a;let u=o.parent;if(!u){const p=s[20];if(p){const y=p.get(t,Kr,i);if(y!==Kr)return y}u=e0(s),s=s[14]}o=u}return r}(e,n,t,i,Kr);if(s!==Kr)return s}const o=QC(e,n,t,i,Kr);if(o!==Kr)return o}return YC(n,t,i,r)}function QC(e,n,t,i,r){const o=function vF(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Yl)?e[Yl]:void 0;return"number"==typeof n?n>=0?255&n:bF:n}(t);if("function"==typeof o){if(!mC(n,e,i))return 1&i?ZC(r,0,i):YC(n,t,i,r);try{let s;if(s=o(i),null!=s||8&i)return s;_m()}finally{bC()}}else if("number"==typeof o){let s=null,a=qC(e,n),u=-1,p=1&i?n[15][5]:null;for((-1===a||4&i)&&(u=-1===a?Nd(e,n):n[a+8],-1!==u&&$C(i,!1)?(s=n[1],a=hc(u),n=fc(u,n)):a=-1);-1!==a;){const y=n[1];if(JC(o,a,y.data)){const x=_F(a,n,t,s,i,p);if(x!==Kr)return x}u=n[a+8],-1!==u&&$C(i,n[1].data[a+8]===p)&&JC(o,a,n)?(s=y,a=hc(u),n=fc(u,n)):a=-1}}return r}function _F(e,n,t,i,r,o){const s=n[1],a=s.data[e+8],y=Fd(a,s,t,null==i?fo(a)&&ng:i!=s&&!!(3&a.type),1&r&&o===a);return null!==y?pc(n,s,y,a,r):Kr}function Fd(e,n,t,i,r){const o=e.providerIndexes,s=n.data,a=1048575&o,u=e.directiveStart,y=o>>20,F=r?a+y:e.directiveEnd;for(let B=i?a:a+y;B<F;B++){const Q=s[B];if(B<u&&t===Q||B>=u&&Q.type===t)return B}if(r){const B=s[u];if(B&&ur(B)&&B.type===t)return u}return null}function pc(e,n,t,i,r){let o=e[t];const s=n.data;if(o instanceof dc){const a=o;if(a.resolving)throw function Gt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Tt(e)}(s[t]),gm();const u=Od(a.canSeeViewProviders);a.resolving=!0;const x=a.injectImpl?Yi(a.injectImpl):null;mC(e,i,0);try{o=e[t]=a.factory(void 0,r,s,e,i),n.firstCreatePass&&t>=i.directiveStart&&function lF(e,n,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=NC(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,s[t],n)}finally{null!==x&&Yi(x),Od(u),a.resolving=!1,bC()}}return o}function JC(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function $C(e,n){return!(2&e||1&e&&n)}class Pn{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return KC(this._tNode,this._lView,n,Ql(i),t)}}function bF(){return new Pn(wt(),be())}function Dn(e){return Co(()=>{const n=e.prototype.constructor,t=n[vs]||og(n),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[vs]||og(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function og(e){return cd(e)?()=>{const n=og(St(e));return n&&n()}:ys(e)}function e0(e){const n=e[1],t=n.type;return 2===t?n.declTNode:1===t?e[5]:null}function IF(){return ja(wt(),be())}function ja(e,n){return new ut(Gn(e,n))}let ut=(()=>class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=IF})();function s0(e){return e instanceof ut?e.nativeElement:e}function MF(){return this._results[Symbol.iterator]()}class Ua{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new je}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;const i=function yr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function uN(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=MF}function mc(e){return!(128&~e.flags)}var Hd=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Hd||{});const Vd=new Map;let kF=0;function lg(e){Vd.delete(e[19])}const ug="__ngContext__";function Ji(e,n){Mn(n)?(e[ug]=n[19],function PF(e){Vd.set(e[19],e)}(n)):e[ug]=n}function _0(e){return b0(e[12])}function v0(e){return b0(e[4])}function b0(e){for(;null!==e&&!Fi(e);)e=e[4];return e}let dg;function Zo(){if(void 0!==dg)return dg;if(typeof document<"u")return document;throw new Ce(210,!1)}const As=new fe("",{providedIn:"root",factory:()=>nL}),nL="ng",D0=new fe(""),jd=new fe("",{providedIn:"platform",factory:()=>"unknown"}),S0=new fe(""),hg=new fe("",{providedIn:"root",factory:()=>Zo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),uL=new fe("",{providedIn:"root",factory:()=>!1});function Xd(e){return!(32&~e.flags)}function J0(e,n){const t=e.contentQueries;if(null!==t){const i=v(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=e.data[s];Dd(t[r]),a.contentQueries(2,n[s],s)}}}finally{v(i)}}}function Rg(e,n,t){Dd(0);const i=v(null);try{n(e,t)}finally{v(i)}}function Ag(e,n,t){if(qw(n)){const i=v(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{v(i)}}}var xo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(xo||{});let Qd,Jd;function Za(e){return function $0(){if(void 0===Qd&&(Qd=null,Rn.trustedTypes))try{Qd=Rn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Qd}()?.createHTML(e)||e}function ex(e){return function kg(){if(void 0===Jd&&(Jd=null,Rn.trustedTypes))try{Jd=Rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Jd}()?.createHTML(e)||e}class ks{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Iw})`}}class HL extends ks{getTypeName(){return"HTML"}}class VL extends ks{getTypeName(){return"Style"}}class zL extends ks{getTypeName(){return"Script"}}class jL extends ks{getTypeName(){return"URL"}}class UL extends ks{getTypeName(){return"ResourceURL"}}function hr(e){return e instanceof ks?e.changingThisBreaksApplicationSecurity:e}function Qr(e,n){const t=function GL(e){return e instanceof ks&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Iw})`)}return t===n}class KL{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(Za(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}}class QL{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const t=this.inertDocument.createElement("template");return t.innerHTML=Za(n),t}}const $L=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $d(e){return(e=String(e)).match($L)?e:"unsafe:"+e}function To(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function bc(...e){const n={};for(const t of e)for(const i in t)t.hasOwnProperty(i)&&(n[i]=!0);return n}const rx=To("area,br,col,hr,img,wbr"),ox=To("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sx=To("rp,rt"),Og=bc(rx,bc(ox,To("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bc(sx,To("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bc(sx,ox)),Pg=To("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ax=bc(Pg,To("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),To("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),eB=To("script,style,template");class tB{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,i=!0,r=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)r.push(t),t=rB(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=iB(t);if(o){t=o;break}t=r.pop()}return this.buf.join("")}startElement(n){const t=lx(n).toLowerCase();if(!Og.hasOwnProperty(t))return this.sanitizedSomething=!0,!eB.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=n.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!ax.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;Pg[a]&&(u=$d(u)),this.buf.push(" ",s,'="',ux(u),'"')}return this.buf.push(">"),!0}endElement(n){const t=lx(n).toLowerCase();Og.hasOwnProperty(t)&&!rx.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(ux(n))}}function iB(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw cx(n);return n}function rB(e){const n=e.firstChild;if(n&&function nB(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw cx(n);return n}function lx(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function cx(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const oB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sB=/([^\#-~ |!])/g;function ux(e){return e.replace(/&/g,"&amp;").replace(oB,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(sB,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let eh;function dx(e,n){let t=null;try{eh=eh||function ix(e){const n=new QL(e);return function JL(){try{return!!(new window.DOMParser).parseFromString(Za(""),"text/html")}catch{return!1}}()?new KL(n):n}(e);let i=n?String(n):"";t=eh.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=eh.getInertBodyElement(i)}while(i!==o);return Za((new tB).sanitizeChildren(Ng(t)||t))}finally{if(t){const i=Ng(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function Ng(e){return"content"in e&&function aB(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var _i=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(_i||{});function Vn(e){const n=yc();return n?ex(n.sanitize(_i.HTML,e)||""):Qr(e,"HTML")?ex(hr(e)):dx(Zo(),Tt(e))}function th(e){const n=yc();return n?n.sanitize(_i.URL,e)||"":Qr(e,"URL")?hr(e):$d(Tt(e))}function yc(){const e=be();return e&&e[10].sanitizer}const pB=/^>|^->|<!--|-->|--!>|<!-$/g,mB=/(<|>)/g;function _x(e){return e.ownerDocument.defaultView}function SB(e,n,t){let i=e.length;for(;;){const r=e.indexOf(n,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}const Cx="ng-template";function IB(e,n,t,i){let r=0;if(i){for(;r<n.length&&"string"==typeof n[r];r+=2)if("class"===n[r]&&-1!==SB(n[r+1].toLowerCase(),t,0))return!0}else if(Bg(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&"string"==typeof(o=n[r]);)if(o.toLowerCase()===t)return!0}return!1}function Bg(e){return 4===e.type&&e.value!==Cx}function MB(e,n,t){return n===(4!==e.type||t?e.value:Cx)}function RB(e,n,t){let i=4;const r=e.attrs,o=null!==r?function OB(e){for(let n=0;n<e.length;n++)if(jC(e[n]))return n;return e.length}(r):0;let s=!1;for(let a=0;a<n.length;a++){const u=n[a];if("number"!=typeof u){if(!s)if(4&i){if(i=2|1&i,""!==u&&!MB(e,u,t)||""===u&&1===n.length){if(Fr(i))return!1;s=!0}}else if(8&i){if(null===r||!IB(e,r,u,t)){if(Fr(i))return!1;s=!0}}else{const p=n[++a],y=AB(u,r,Bg(e),t);if(-1===y){if(Fr(i))return!1;s=!0;continue}if(""!==p){let x;if(x=y>o?"":r[y+1].toLowerCase(),2&i&&p!==x){if(Fr(i))return!1;s=!0}}}}else{if(!s&&!Fr(i)&&!Fr(u))return!1;if(s&&Fr(u))continue;s=!1,i=u|1&i}}return Fr(i)||s}function Fr(e){return!(1&e)}function AB(e,n,t,i){if(null===n)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){const s=n[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function PB(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const i=e[t];if("number"==typeof i)return-1;if(i===n)return t;t++}return-1}(n,e)}function xx(e,n,t=!1){for(let i=0;i<n.length;i++)if(RB(e,n[i],t))return!0;return!1}function NB(e,n){e:for(let t=0;t<n.length;t++){const i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Tx(e,n){return e?":not("+n.trim()+")":n}function FB(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&i){const a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Fr(s)&&(n+=Tx(o,r),r=""),i=s,o=o||!Fr(i);t++}return""!==r&&(n+=Tx(o,r)),n}const ln={};function Vg(e,n){return e.createComment(function fx(e){return e.replace(pB,n=>n.replace(mB,"\u200b$1\u200b"))}(n))}function rh(e,n,t){return e.createElement(n,t)}function Os(e,n,t,i,r){e.insertBefore(n,t,i,r)}function Dx(e,n,t){e.appendChild(n,t)}function Sx(e,n,t,i,r){null!==i?Os(e,n,t,i,r):Dx(e,n,t)}function wc(e,n,t,i){e.removeChild(null,n,t,i)}function Mx(e,n,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&function hF(e,n,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{const o=r,s=t[++i];UC(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}}(e,n,i),null!==r&&function VB(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}(e,n,r),null!==o&&function HB(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}function zg(e,n,t,i,r,o,s,a,u,p,y){const x=27+i,F=x+r,B=function zB(e,n){const t=[];for(let i=0;i<n;i++)t.push(i<e?null:ln);return t}(x,F),Q="function"==typeof p?p():p;return B[1]={type:e,blueprint:B,template:t,queries:null,viewQuery:a,declTNode:n,data:B.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:Q,incompleteFirstPass:!1,ssrId:y}}function oh(e,n,t,i,r,o,s,a,u,p,y){const x=n.blueprint.slice();return x[0]=r,x[2]=1228|i,(null!==p||e&&2048&e[2])&&(x[2]|=2048),$w(x),x[3]=x[14]=e,x[8]=t,x[10]=s||e&&e[10],x[11]=a||e&&e[11],x[9]=u||e&&e[9]||null,x[5]=o,x[19]=function OF(){return kF++}(),x[6]=y,x[20]=p,x[15]=2==n.type?e[15]:x,x}function jg(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Cc(e,n,t,i){if(0===t)return-1;const r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function Ug(e,n){return e[12]?e[13][4]=n:e[12]=n,e[13]=n,n}function se(e=1){Ax(It(),be(),mi()+e,!1)}function Ax(e,n,t,i){if(!i)if(3&~n[2]){const o=e.preOrderHooks;null!==o&&kd(n,o,0,t)}else{const o=e.preOrderCheckHooks;null!==o&&Ad(n,o,t)}Ss(t)}var sh=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(sh||{});function xc(e,n,t,i){const r=v(null);try{const[o,s,a]=e.inputs[t];let u=null;0!==(s&sh.SignalBased)&&(u=n[o][_]),null!==u&&void 0!==u.transformFn?i=u.transformFn(i):null!==a&&(i=a.call(n,i)),null!==e.setInput?e.setInput(n,u,i,t,o):PC(n,u,o,i)}finally{v(r)}}var Ko=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ko||{});function Wg(e,n){return undefined(e,n)}const Qa=new Set,Tc=new fe("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1})});function Nx(e,n,t,i){const r=e?.[26]?.enter;if(null!==n&&r&&r.has(t.index)){const o=i.get(Tc);for(const s of r.get(t.index).animateFns)o.queue.add(s)}}function Ja(e,n,t,i,r,o,s,a){if(null!=r){let u,p=!1;Fi(r)?u=r:Mn(r)&&(p=!0,r=r[0]);const y=ci(r);0===e&&null!==i?(Nx(a,i,o,t),null==s?Dx(n,i,y):Os(n,i,y,s||null,!0)):1===e&&null!==i?(Nx(a,i,o,t),Os(n,i,y,s||null,!0)):2===e?Bx(a,o,t,x=>{wc(n,y,p,x)}):3===e&&Bx(a,o,t,()=>{n.destroyNode(y)}),null!=u&&function r2(e,n,t,i,r,o,s){const a=i[7];a!==ci(i)&&Ja(n,e,t,o,a,r,s);for(let p=10;p<i.length;p++){const y=i[p];ch(y[1],y,e,n,o,a)}}(n,e,t,u,o,i,s)}}function Lx(e,n){n[10].changeDetectionScheduler?.notify(9),ch(e,n,n[11],2,null,null)}function Xg(e,n){const t=e[9],i=t.indexOf(n);t.splice(i,1)}function Ec(e,n){if(po(n))return;const t=n[11];t.destroyNode&&ch(e,n,t,3,null,null),function $B(e){let n=e[12];if(!n)return qg(e[1],e);for(;n;){let t=null;if(Mn(n))t=n[12];else{const i=n[10];i&&(t=i)}if(!t){for(;n&&!n[4]&&n!==e;)Mn(n)&&qg(n[1],n),n=n[3];null===n&&(n=e),Mn(n)&&qg(n[1],n),t=n&&n[4]}n=t}}(n)}function qg(e,n){if(po(n))return;const t=v(null);try{n[2]&=-129,n[2]|=256,n[24]&&ge(n[24]),function n2(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let i=0;i<t.length;i+=2){const r=n[t[i]];if(!(r instanceof dc)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],u=o[s+1];nn(4,a,u);try{u.call(a)}finally{nn(5,a,u)}}else{nn(4,r,o);try{o.call(r)}finally{nn(5,r,o)}}}}}(e,n),function t2(e,n){const t=e.cleanup,i=n[7];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(n[7]=null);const r=n[21];if(null!==r){n[21]=null;for(let s=0;s<r.length;s++)(0,r[s])()}const o=n[23];if(null!==o){n[23]=null;for(const s of o)s.destroy()}}(e,n),1===n[1].type&&n[11].destroy();const i=n[16];if(null!==i&&Fi(n[3])){i!==n[3]&&Xg(i,n);const r=n[18];null!==r&&r.detachView(e)}lg(n)}finally{v(t)}}function Bx(e,n,t,i){const r=e?.[26];return null!=r&&null!=r.leave&&r.leave.has(n.index)?r.skipLeaveAnimations?(r.skipLeaveAnimations=!1,i(!1)):(e&&Qa.add(e),void function QB(e,n){const t=e.get(Tc);if(Array.isArray(n))for(const i of n)t.queue.add(i);else t.queue.add(n)}(t,()=>{if(r.leave&&r.leave.has(n.index)){const s=r.leave.get(n.index),a=[];if(s)for(let u=0;u<s.animateFns.length;u++){const p=s.animateFns[u],{promise:y}=p();a.push(y)}r.running=Promise.allSettled(a),function e2(e,n){const t=e[26]?.running;t?t.then(()=>{e[26].running=void 0,Qa.delete(e),n(!0)}):n(!1)}(e,i)}else e&&Qa.delete(e),i(!1)})):i(!1)}function Zg(e,n,t){return function Hx(e,n,t){let i=n;for(;null!==i&&168&i.type;)i=(n=i).parent;if(null===i)return t[0];if(fo(i)){const{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===xo.None||r===xo.Emulated)return null}return Gn(i,t)}(e,n.parent,t)}function Vx(e,n,t){return jx(e,n,t)}let jx=function zx(e,n,t){return 40&e.type?Gn(e,t):null};function Kg(e,n,t,i){const r=Zg(e,i,n),o=n[11],a=Vx(i.parent||n[5],i,n);if(null!=r)if(Array.isArray(t))for(let u=0;u<t.length;u++)Sx(o,r,t[u],a,!1);else Sx(o,r,t,a,!1)}function Ps(e,n){if(null!==n){const t=n.type;if(3&t)return Gn(n,e);if(4&t)return lh(-1,e[n.index]);if(8&t){const i=n.child;if(null!==i)return Ps(e,i);{const r=e[n.index];return Fi(r)?lh(-1,r):ci(r)}}if(128&t)return Ps(e,n.next);if(32&t)return Wg(n,e)()||ci(e[n.index]);{const i=Gx(e,n);return null!==i?Array.isArray(i)?i[0]:Ps(mo(e[15]),i):Ps(e,n.next)}}return null}function Gx(e,n){return null!==n?e[15][5].projection[n.projection]:null}function lh(e,n){const t=10+e+1;if(t<n.length){const i=n[t],r=i[1].firstChild;if(null!==r)return Ps(i,r)}return n[7]}function Qg(e,n,t,i,r,o,s){for(;null!=t;){const a=i[9];if(128===t.type){t=t.next;continue}const u=i[t.index],p=t.type;if(s&&0===n&&(u&&Ji(ci(u),i),t.flags|=2),!Xd(t))if(8&p)Qg(e,n,t.child,i,r,o,!1),Ja(n,e,a,r,u,t,o,i);else if(32&p){const y=Wg(t,i);let x;for(;x=y();)Ja(n,e,a,r,x,t,o,i);Ja(n,e,a,r,u,t,o,i)}else 16&p?Wx(e,n,i,t,r,o):Ja(n,e,a,r,u,t,o,i);t=s?t.projectionNext:t.next}}function ch(e,n,t,i,r,o){Qg(t,i,e.firstChild,n,r,o,!1)}function Wx(e,n,t,i,r,o){const s=t[15],u=s[5].projection[i.projection];if(Array.isArray(u))for(let p=0;p<u.length;p++)Ja(n,e,t[9],r,u[p],i,o,t);else{let p=u;const y=s[3];mc(i)&&(p.flags|=128),Qg(e,n,p,y,r,o,!0)}}function Xx(e,n,t,i,r){const o=mi(),s=2&i;try{Ss(-1),s&&n.length>27&&Ax(e,n,27,!1),nn(s?2:0,r,t),t(i,r)}finally{Ss(o),nn(s?3:1,r,t)}}function uh(e,n,t){(function u2(e,n,t){const i=t.directiveStart,r=t.directiveEnd;fo(t)&&function jB(e,n,t){const i=Gn(n,e),r=function Rx(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=zg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}(t),o=e[10].rendererFactory,s=Ug(e,oh(e,r,null,jg(t),i,n,null,o.createRenderer(i,t),null,null,null));e[n.index]=s}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Pd(t,n);const o=t.initialInputs;for(let s=i;s<r;s++){const a=e.data[s],u=pc(n,e,s,t);Ji(u,n),null!==o&&p2(0,s-i,u,a,0,o),ur(a)&&(Li(t.index,n)[8]=pc(n,e,s,t))}})(e,n,t),!(64&~t.flags)&&function d2(e,n,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function ON(){return vt.lFrame.currentDirectiveIndex}();try{Ss(o);for(let a=i;a<r;a++){const u=e.data[a],p=n[a];Gm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&h2(u,p)}}finally{Ss(-1),Gm(s)}}(e,n,t)}function $a(e,n,t=Gn){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(n,e):e[s];e[r++]=a}}}let qx=()=>null;function Jg(e,n,t,i,r,o){ph(e,n[1],n,t,i)?fo(e)&&Zx(n,e.index):(3&e.type&&(t=function c2(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(t)),$g(e,n,t,i,r,o))}function $g(e,n,t,i,r,o){if(3&e.type){const s=Gn(e,n);i=null!=o?o(i,e.value||"",t):i,r.setProperty(s,t,i)}}function Zx(e,n){const t=Li(n,e);16&t[2]||(t[2]|=64)}function h2(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function e_(e,n){const t=e.directiveRegistry;let i=null;if(t)for(let r=0;r<t.length;r++){const o=t[r];xx(n,o.selectors,!1)&&(i??=[],ur(o)?i.unshift(o):i.push(o))}return i}function dh(e,n,t,i,r,o,s){if(null==o)e.removeAttribute(n,r,t);else{const a=null==s?Tt(o):s(o,i||"",r);e.setAttribute(n,r,a,t)}}function p2(e,n,t,i,r,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;a+=2)xc(i,t,s[a],s[a+1])}function hh(e,n,t,i,r){const o=27+t,s=n[1],a=r(s,n,e,i,t);n[o]=a,go(e,!0);const u=2===e.type;return u?(Mx(n[11],a,e),(0===function SN(){return vt.lFrame.elementDepthCount}()||Aa(e))&&Ji(a,n),function IN(){vt.lFrame.elementDepthCount++}()):Ji(a,n),Sd()&&(!u||!Xd(e))&&Kg(s,n,a,e),e}function fh(e){let n=e;return lC()?cC():(n=n.parent,go(n,!1)),n}function ph(e,n,t,i,r){const o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i];let a=!1;if(s)for(let u=0;u<s.length;u+=2){const p=s[u];xc(n.data[p],t[p],s[u+1],r),a=!0}if(o)for(const u of o)xc(n.data[u],t[u],i,r),a=!0;return a}function g2(e,n){const t=Li(n,e),i=t[1];!function _2(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(i,t);const r=t[0];null!==r&&null===t[6]&&(t[6]=null),nn(18),mh(i,t,t[8]),nn(19,t[8])}function mh(e,n,t){qm(n);try{const i=e.viewQuery;null!==i&&Rg(1,i,t);const r=e.template;null!==r&&Xx(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[18]?.finishViewCreation(e),e.staticContentQueries&&J0(e,n),e.staticViewQueries&&Rg(2,e.viewQuery,t);const o=e.components;null!==o&&function v2(e,n){for(let t=0;t<n.length;t++)g2(e,n[t])}(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[2]&=-5,Zm()}}function el(e,n,t,i){const r=v(null);try{const o=n.tView,u=oh(e,o,t,4096&e[2]?4096:16,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);u[16]=e[n.index];const y=e[18];return null!==y&&(u[18]=y.createEmbeddedView(o)),mh(o,u,t),u}finally{v(r)}}function Ns(e,n){return!n||null===n.firstChild||mc(e)}function Dc(e,n,t,i,r=!1){for(;null!==t;){if(128===t.type){t=r?t.projectionNext:t.next;continue}const o=n[t.index];null!==o&&i.push(ci(o)),Fi(o)&&b2(o,i);const s=t.type;if(8&s)Dc(e,n,t.child,i);else if(32&s){const a=Wg(t,n);let u;for(;u=a();)i.push(u)}else if(16&s){const a=Gx(n,t);if(Array.isArray(a))i.push(...a);else{const u=mo(n[15]);Dc(u[1],u,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function b2(e,n){for(let t=10;t<e.length;t++){const i=e[t],r=i[1].firstChild;null!==r&&Dc(i[1],i,r,n)}e[7]!==e[0]&&n.push(e[7])}function Qx(e){if(null!==e[25]){for(const n of e[25])n.impl.addSequence(n);e[25].length=0}}let Jx=[];const x2={...M,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Pa(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},E2={...M,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=mo(e.lView);for(;n&&!$x(n[1]);)n=mo(n);n&&Bm(n)},consumerOnSignalRead(){this.lView[24]=this}};function $x(e){return 2!==e.type}function eT(e){if(null===e[23])return;let n=!0;for(;n;){let t=!1;for(const i of e[23])i.dirty&&(t=!0,null===i.zone||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=t&&!!(8192&e[2])}}function gh(e,n=0){const i=e[10].rendererFactory;i.begin?.();try{!function S2(e,n){const t=hC();try{Ed(!0),n_(e,n);let i=0;for(;rc(e);){if(100===i)throw new Ce(103,!1);i++,n_(e,1)}}finally{Ed(t)}}(e,n)}finally{i.end?.()}}function tT(e,n,t,i){if(po(n))return;const r=n[2];qm(n);let a=!0,u=null,p=null;$x(e)?(p=function y2(e){return e[24]??function w2(e){const n=Jx.pop()??Object.create(x2);return n.lView=e,n}(e)}(n),u=ne(p)):null===function w(){return c}()?(a=!1,p=function T2(e){const n=e[24]??Object.create(E2);return n.lView=e,n}(n),u=ne(p)):n[24]&&(ge(n[24]),n[24]=null);try{$w(n),function fC(e){return vt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Xx(e,n,t,2,i);const y=!(3&~r);if(y){const B=e.preOrderCheckHooks;null!==B&&Ad(n,B,null)}else{const B=e.preOrderHooks;null!==B&&kd(n,B,0,null),$m(n,0)}if(function I2(e){for(let n=_0(e);null!==n;n=v0(n)){if(!(2&n[2]))continue;const t=n[9];for(let i=0;i<t.length;i++)Bm(t[i])}}(n),eT(n),nT(n,0),null!==e.contentQueries&&J0(e,n),y){const B=e.contentCheckHooks;null!==B&&Ad(n,B)}else{const B=e.contentHooks;null!==B&&kd(n,B,1),$m(n,1)}!function R2(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Ss(~r);else{const o=r,s=t[++i],a=t[++i];kN(s,o);const u=n[o];nn(24,u),a(2,u),nn(25,u)}}}finally{Ss(-1)}}(e,n);const x=e.components;null!==x&&rT(n,x,0);const F=e.viewQuery;if(null!==F&&Rg(2,F,i),y){const B=e.viewCheckHooks;null!==B&&Ad(n,B)}else{const B=e.viewHooks;null!==B&&kd(n,B,2),$m(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[22]){for(const B of n[22])B();n[22]=null}Qx(n),n[2]&=-73}catch(y){throw Pa(n),y}finally{null!==p&&(ae(p,u),a&&function C2(e){e.lView[24]!==e&&(e.lView=null,Jx.push(e))}(p)),Zm()}}function nT(e,n){for(let t=_0(e);null!==t;t=v0(t))for(let i=10;i<t.length;i++)iT(t[i],n)}function M2(e,n,t){nn(18);const i=Li(n,e);iT(i,t),nn(19,i[8])}function iT(e,n){Lm(e)&&n_(e,n)}function n_(e,n){const i=e[1],r=e[2],o=e[24];let s=!!(0===n&&16&r);if(s||=!!(64&r&&0===n),s||=!!(1024&r),s||=!(!o?.dirty||!ce(o)),s||=!1,o&&(o.dirty=!1),e[2]&=-9217,s)tT(i,e,i.template,e[8]);else if(8192&r){const a=v(null);try{eT(e),nT(e,1);const u=i.components;null!==u&&rT(e,u,1),Qx(e)}finally{v(a)}}}function rT(e,n,t){for(let i=0;i<n.length;i++)M2(e,n[i],t)}function tl(e,n){const t=hC()?64:1088;for(e[10].changeDetectionScheduler?.notify(n);e;){e[2]|=t;const i=mo(e);if(Xo(e)&&!i)return e;e=i}return null}function oT(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function sT(e,n){const t=10+n;if(t<e.length)return e[t]}function nl(e,n,t,i=!0){const r=n[1];if(function A2(e,n,t,i){const r=10+i,o=t.length;i>0&&(t[r-1][4]=n),i<o-10?(n[4]=t[r],Fw(t,10+i,n)):(t.push(n),n[4]=null),n[3]=t;const s=n[16];null!==s&&t!==s&&aT(s,n);const a=n[18];null!==a&&a.insertView(e),Hm(n),n[2]|=128}(r,n,e,t),i){const s=lh(t,e),a=n[11],u=a.parentNode(e[7]);null!==u&&function JB(e,n,t,i,r,o){i[0]=r,i[5]=n,ch(e,i,t,1,r,o)}(r,e[5],a,n,u,s)}const o=n[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function i_(e,n){const t=Sc(e,n);return void 0!==t&&Ec(t[1],t),t}function Sc(e,n){if(e.length<=10)return;const t=10+n,i=e[t];if(i){const r=i[16];null!==r&&r!==e&&Xg(r,i),n>0&&(e[t-1][4]=i[4]);const o=pd(e,10+n);!function Fx(e,n){Lx(e,n),n[0]=null,n[5]=null}(i[1],i);const s=o[18];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function aT(e,n){const t=e[9],i=n[3];(Mn(i)||n[15]!==i[3][15])&&(e[2]|=2),null===t?e[9]=[n]:t.push(n)}class Ic{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const n=this._lView,t=n[1];return Dc(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return po(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Fi(n)){const t=n[8],i=t?t.indexOf(this):-1;i>-1&&(Sc(n,i),pd(t,i))}this._attachedToViewContainer=!1}Ec(this._lView[1],this._lView)}onDestroy(n){Td(this._lView,n)}markForCheck(){tl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){Hm(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,gh(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Xo(this._lView),t=this._lView[16];null!==t&&!n&&Xg(t,this._lView),Lx(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=n;const t=Xo(this._lView),i=this._lView[16];null!==i&&!t&&aT(i,this._lView),Hm(this._lView)}}let Hi=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=P2;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){const o=el(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new Ic(o)}})();function P2(){return _h(wt(),be())}function _h(e,n){return 4&e.type?new Hi(n,e,ja(e,n)):null}function Fs(e,n,t,i,r){let o=e.data[n];if(null===o)o=function a_(e,n,t,i,r){const o=aC(),s=lC(),u=e.data[n]=function U2(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return rC()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,i,r);return function j2(e,n,t,i){null===e.firstChild&&(e.firstChild=n),null!==t&&(i?null==t.child&&null!==n.parent&&(t.child=n):null===t.next&&(t.next=n,n.prev=t))}(e,u,o,s),u}(e,n,t,i,r),function AN(){return vt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function oc(){const e=vt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return go(o,!0),o}function DT(e,n){let t=0,i=e.firstChild;if(i){const r=e.data.r;for(;t<r;){const o=i.nextSibling;wc(n,i,!1),i=o,t++}}}let EH=class{},kT=class{};class DH{resolveComponentFactory(n){throw new Ce(917,!1)}}let rl=class{static NULL=new DH};class xr{}let Wn=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function SH(){const e=be(),t=Li(wt().index,e);return(Mn(t)?t:e)[11]}()})(),IH=(()=>{class e{static \u0275prov=Te({token:e,providedIn:"root",factory:()=>null})}return e})();const m_={};class sl{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){const r=this.injector.get(n,m_,i);return r!==m_||t===m_?r:this.parentInjector.get(n,t,i)}}function Dh(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?r=um(r,a):2==o&&(i=um(i,a+": "+n[++s]+";"))}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function Pe(e,n=0){const t=be();return null===t?ft(e,n):KC(wt(),t,St(e),n)}function PT(e,n,t,i,r){const o=null===i?null:{"":-1},s=r(e,t);if(null!==s){let a=s,u=null,p=null;for(const y of s)if(null!==y.resolveHostDirectives){[a,u,p]=y.resolveHostDirectives(s);break}!function NH(e,n,t,i,r,o,s){const a=i.length;let u=!1;for(let F=0;F<a;F++){const B=i[F];!u&&ur(B)&&(u=!0,PH(e,t,F)),rg(Pd(t,n),e,B.type)}!function zH(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,a);for(let F=0;F<a;F++){const B=i[F];B.providersResolver&&B.providersResolver(B)}let p=!1,y=!1,x=Cc(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let F=0;F<a;F++){const B=i[F];if(t.mergedAttrs=za(t.mergedAttrs,B.hostAttrs),LH(e,t,n,x,B),VH(x,B,r),null!==s&&s.has(B)){const[ie,ee]=s.get(B);t.directiveToIndex.set(B.type,[x,ie+t.directiveStart,ee+t.directiveStart])}else(null===o||!o.has(B))&&t.directiveToIndex.set(B.type,x);null!==B.contentQueries&&(t.flags|=4),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(t.flags|=64);const Q=B.type.prototype;!p&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),p=!0),!y&&(Q.ngOnChanges||Q.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),y=!0),x++}!function FH(e,n,t){for(let i=n.directiveStart;i<n.directiveEnd;i++){const r=e.data[i];if(null!==t&&t.has(r)){const o=t.get(r);FT(0,n,o,i),FT(1,n,o,i),BT(n,i,!0)}else NT(0,n,r,i),NT(1,n,r,i),BT(n,i,!1)}}(e,t,o)}(e,n,t,a,o,u,p)}null!==o&&null!==i&&function OH(e,n,t){const i=e.localNames=[];for(let r=0;r<n.length;r+=2){const o=t[n[r+1]];if(null==o)throw new Ce(-301,!1);i.push(n[r],o)}}(t,i,o)}function PH(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function NT(e,n,t,i){const r=0===e?t.inputs:t.outputs;for(const o in r)if(r.hasOwnProperty(o)){let s;s=0===e?n.inputs??={}:n.outputs??={},s[o]??=[],s[o].push(i),LT(n,o)}}function FT(e,n,t,i){const r=0===e?t.inputs:t.outputs;for(const o in r)if(r.hasOwnProperty(o)){const s=r[o];let a;a=0===e?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),LT(n,s)}}function LT(e,n){"class"===n?e.flags|=8:"style"===n&&(e.flags|=16)}function BT(e,n,t){const{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(null===i||!t&&null===r||t&&null===o||Bg(e))return e.initialInputs??=[],void e.initialInputs.push(null);let s=null,a=0;for(;a<i.length;){const u=i[a];if(0!==u)if(5!==u){if("number"==typeof u)break;if(!t&&r.hasOwnProperty(u)){const p=r[u];for(const y of p)if(y===n){s??=[],s.push(u,i[a+1]);break}}else if(t&&o.hasOwnProperty(u)){const p=o[u];for(let y=0;y<p.length;y+=2)if(p[y]===n){s??=[],s.push(p[y+1],i[a+1]);break}}a+=2}else a+=2;else a+=4}e.initialInputs??=[],e.initialInputs.push(s)}function LH(e,n,t,i,r){e.data[i]=r;const o=r.factory||(r.factory=ys(r.type)),s=new dc(o,ur(r),Pe,null);e.blueprint[i]=s,t[i]=s,function BH(e,n,t,i,r){const o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function HH(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(e,n,i,Cc(e,t,r.hostVars,ln),r)}function VH(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;ur(n)&&(t[""]=e)}}function g_(e,n,t,i,r,o,s,a){const u=n[1],p=u.consts,x=Fs(u,e,t,i,Di(p,s));return o&&PT(u,n,x,Di(p,a),r),x.mergedAttrs=za(x.mergedAttrs,x.attrs),null!==x.attrs&&Dh(x,x.attrs,!1),null!==x.mergedAttrs&&Dh(x,x.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,x),x}function __(e,n){BC(e,n),qw(n)&&e.queries.elementEnd(n)}function v_(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function $r(e,n,t){return e[n]=t}function wn(e,n,t){return t!==ln&&(!Object.is(e[n],t)&&(e[n]=t,!0))}function Ih(e,n,t,i,r){const o=function Bs(e,n,t,i){const r=wn(e,n,t);return wn(e,n+1,i)||r}(e,n,t,i);return wn(e,n+2,r)||o}function Hc(e,n,t){return function i(r){tl(fo(e)?Li(e.index,n):n,5);const s=n[8];let a=VT(n,s,t,r),u=i.__ngNextListenerFn__;for(;u;)a=VT(n,s,u,r)&&a,u=u.__ngNextListenerFn__;return a}}function VT(e,n,t,i){const r=v(null);try{return nn(6,n,t),!1!==t(i)}catch(o){return function t_(e,n){const t=e[9];if(!t)return;let i;try{i=t.get(yo,null)}catch{i=null}i?.(n)}(e,o),!1}finally{nn(7,n,t),v(r)}}function zT(e,n,t,i,r,o,s,a){const u=Aa(e);let p=!1,y=null;if(!i&&u&&(y=function XH(e,n,t,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=n[7],u=r[o+2];return a&&a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,t,o,e.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,p=!0;else{const x=Gn(e,t),F=i?i(x):x,B=r.listen(F,o,a);(function WH(e){return e.startsWith("animation")||e.startsWith("transition")})(o)||jT(i?ie=>i(ci(ie[e.index])):e.index,n,t,o,a,B,!1)}return p}function jT(e,n,t,i,r,o,s){const a=n.firstCreatePass?nC(n):null,u=tC(t),p=u.length;u.push(r,o),a&&a.push(i,e,p,(p+1)*(s?-1:1))}function Mh(e,n,t,i,r,o){const a=n[1],x=n[t][a.data[t].outputs[i]].subscribe(o);jT(e.index,a,n,r,o,x,!0)}const Jo=Symbol("BINDING");class UT extends rl{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Jt(n);return new Rh(t,this.ngModule)}}class Rh extends kT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function eV(e){return Object.keys(e).map(n=>{const[t,i,r]=e[n],o={propName:t,templateName:n,isSignal:0!==(i&sh.SignalBased)};return r&&(o.transform=r),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function tV(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function LB(e){return e.map(FB).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,i,r,o,s){nn(22);const a=v(null);try{const u=this.componentDef,p=function sV(e,n,t,i){const r=e?["ng-version","20.3.5"]:function BB(e){const n=[],t=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&n.push(o,e[++i]):8===r&&t.push(o);else{if(!Fr(r))break;r=o}i++}return t.length&&n.push(1,...t),n}(n.selectors[0]);let o=null,s=null,a=0;if(t)for(const y of t)a+=y[Jo].requiredVars,y.create&&(y.targetIdx=0,(o??=[]).push(y)),y.update&&(y.targetIdx=0,(s??=[]).push(y));if(i)for(let y=0;y<i.length;y++){const x=i[y];if("function"!=typeof x)for(const F of x.bindings){a+=F[Jo].requiredVars;const B=y+1;F.create&&(F.targetIdx=B,(o??=[]).push(F)),F.update&&(F.targetIdx=B,(s??=[]).push(F))}}const u=[n];if(i)for(const y of i){const F=Ni("function"==typeof y?y:y.type);u.push(F)}return zg(0,null,function aV(e,n){return e||n?t=>{if(1&t&&e)for(const i of e)i.create();if(2&t&&n)for(const i of n)i.update()}:null}(o,s),1,a,u,null,null,null,[r],null)}(i,u,s,o),y=function nV(e,n,t){let i=n instanceof Ti?n:n?.injector;return i&&null!==e.getStandaloneInjector&&(i=e.getStandaloneInjector(i)||i),i?new sl(t,i):t}(u,r||this.ngModule,n),x=function iV(e){const n=e.get(xr,null);if(null===n)throw new Ce(407,!1);return{rendererFactory:n,sanitizer:e.get(IH,null),changeDetectionScheduler:e.get(wo,null),ngReflect:!1}}(y),F=x.rendererFactory.createRenderer(null,u),B=i?function s2(e,n,t,i){const o=i.get(uL,!1)||t===xo.ShadowDom,s=e.selectRootElement(n,o);return function a2(e){qx(e)}(s),s}(F,i,u.encapsulation,y):function rV(e,n){const t=function oV(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return rh(n,t,"svg"===t?"svg":"math"===t?"math":null)}(u,F),Q=s?.some(GT)||o?.some(te=>"function"!=typeof te&&te.bindings.some(GT)),ie=oh(null,p,null,512|jg(u),null,null,x,F,y,null,null);ie[27]=B,qm(ie);let ee=null;try{const te=g_(27,ie,2,"#host",()=>p.directiveRegistry,!0,0);Mx(F,B,te),Ji(B,ie),uh(p,ie,te),Ag(p,te,ie),__(p,te),void 0!==t&&function cV(e,n,t){const i=e.projection=[];for(let r=0;r<n.length;r++){const o=t[r];i.push(null!=o&&o.length?Array.from(o):null)}}(te,this.ngContentSelectors,t),ee=Li(te.index,ie),ie[8]=ee[8],mh(p,ie,null)}catch(te){throw null!==ee&&lg(ee),lg(ie),te}finally{nn(23),Zm()}return new lV(this.componentType,ie,!!Q)}finally{v(a)}}}function GT(e){const n=e[Jo].kind;return"input"===n||"twoWay"===n}class lV extends EH{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=Oa(t[1],27),this.location=ja(this._tNode,t),this.instance=Li(this._tNode.index,t)[8],this.hostView=this.changeDetectorRef=new Ic(t,void 0),this.componentType=n}setInput(n,t){const i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const r=this._rootLView;ph(i,r[1],r,n,t),this.previousInputValues.set(n,t),tl(Li(i.index,r),1)}get injector(){return new Pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let Jn=(()=>class e{static __NG_ELEMENT_ID__=uV})();function uV(){return qT(wt(),be())}const dV=Jn,WT=class extends dV{_lContainer;_hostTNode;_hostLView;constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return ja(this._hostTNode,this._hostLView)}get injector(){return new Pn(this._hostTNode,this._hostLView)}get parentInjector(){const n=Nd(this._hostTNode,this._hostLView);if(tg(n)){const t=fc(n,this._hostLView),i=hc(n);return new Pn(t[1].data[i+8],t)}return new Pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=XT(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,Ns(this._hostTNode,null)),a}createComponent(n,t,i,r,o,s,a){const u=n&&!function uc(e){return"function"==typeof e}(n);let p;if(u)p=t;else{const ee=t||{};p=ee.index,i=ee.injector,r=ee.projectableNodes,o=ee.environmentInjector||ee.ngModuleRef,s=ee.directives,a=ee.bindings}const y=u?n:new Rh(Jt(n)),x=i||this.parentInjector;if(!o&&null==y.ngModule){const te=(u?x:this.parentInjector).get(Ti,null);te&&(o=te)}Jt(y.componentType??{});const ie=y.create(x,r,null,o,s,a);return this.insertImpl(ie.hostView,p,Ns(this._hostTNode,null)),ie}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){const r=n._lView;if(function EN(e){return Fi(e[3])}(r)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const u=r[3],p=new WT(u,u[5],u[3]);p.detach(p.indexOf(n))}}const o=this._adjustIndex(t),s=this._lContainer;return nl(s,r,o,i),n.attachToViewContainerRef(),Fw(b_(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=XT(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),i=Sc(this._lContainer,t);i&&(pd(b_(this._lContainer),t),Ec(i[1],i))}detach(n){const t=this._adjustIndex(n,-1),i=Sc(this._lContainer,t);return i&&null!=pd(b_(this._lContainer),t)?new Ic(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function XT(e){return e[8]}function b_(e){return e[8]||(e[8]=[])}function qT(e,n){let t;const i=n[e.index];return Fi(i)?t=i:(t=oT(i,n,null,e),n[e.index]=t,Ug(n,t)),ZT(t,n,e,i),new WT(t,e,n)}let ZT=function KT(e,n,t,i){if(e[7])return;let r;r=8&t.type?ci(i):function hV(e,n){const t=e[11],i=t.createComment(""),r=Gn(n,e),o=t.parentNode(r);return Os(t,o,i,t.nextSibling(r),!1),i}(n,t),e[7]=r};class w_{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new w_(this.queryList)}setDirty(){this.queryList.setDirty()}}class C_{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const i=null!==n.contentQueries?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new C_(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==S_(n,t).matches&&this.queries[t].setDirty()}}class QT{flags;read;predicate;constructor(n,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof n?function bV(e){return e.split(",").map(n=>n.trim())}(n):n}}class x_{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new x_(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class T_{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new T_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,t,mV(t,o)),this.matchTNodeWithReadOption(n,t,Fd(t,n,o,!1,!1))}else i===Hi?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Fd(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ut||r===Jn||r===Hi&&4&t.type)this.addMatch(t.index,-2);else{const o=Fd(t,n,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function mV(e,n){const t=e.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1];return null}function _V(e,n,t,i){return-1===t?function gV(e,n){return 11&e.type?ja(e,n):4&e.type?_h(e,n):null}(n,e):-2===t?function vV(e,n,t){return t===ut?ja(n,e):t===Hi?_h(n,e):t===Jn?qT(n,e):void 0}(e,n,i):pc(e,e[1],t,n)}function JT(e,n,t,i){const r=n[18].queries[i];if(null===r.matches){const o=e.data,s=t.matches,a=[];for(let u=0;null!==s&&u<s.length;u+=2){const p=s[u];a.push(p<0?null:_V(n,o[p],s[u+1],t.metadata.read))}r.matches=a}return r.matches}function E_(e,n,t,i){const r=e.queries.getByIndex(t),o=r.matches;if(null!==o){const s=JT(e,n,r,t);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)i.push(s[a/2]);else{const p=o[a+1],y=n[-u];for(let x=10;x<y.length;x++){const F=y[x];F[16]===F[3]&&E_(F[1],F,p,i)}if(null!==y[9]){const x=y[9];for(let F=0;F<x.length;F++){const B=x[F];E_(B[1],B,p,i)}}}}}return i}function D_(e,n){return e[18].queries[n].queryList}function $T(e,n,t){const i=new Ua(!(4&~t));return function DN(e,n,t,i){const r=tC(n);r.push(t),e.firstCreatePass&&nC(e).push(i,r.length-1)}(e,n,i,i.destroy),(n[18]??=new C_).queries.push(new w_(i))-1}function eE(e,n,t){const i=It();return i.firstCreatePass&&(nE(i,new QT(e,n,t),-1),!(2&~n)&&(i.staticViewQueries=!0)),$T(i,be(),n)}function tE(e,n,t,i){const r=It();if(r.firstCreatePass){const o=wt();nE(r,new QT(n,t,i),o.index),function yV(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(r,e),!(2&~t)&&(r.staticContentQueries=!0)}return $T(r,be(),t)}function nE(e,n,t){null===e.queries&&(e.queries=new x_),e.queries.track(new T_(n,t))}function S_(e,n){return e.queries.getByIndex(n)}function iE(e,n){const t=e[1],i=S_(t,n);return i.crossesNgTemplate?E_(t,e,n,[]):JT(t,e,i,n)}function I_(e,n,t){let i;const r=Dt(()=>{i._dirtyCounter();const o=function CV(e,n){const t=e._lView,i=e._queryIndex;if(void 0===t||void 0===i||4&t[2])return n?void 0:pn;const r=D_(t,i),o=iE(t,i);return r.reset(o,s0),n?r.first:r._changesDetected||void 0===e._flatValue?e._flatValue=r.toArray():e._flatValue}(i,e);if(n&&void 0===o)throw new Ce(-951,!1);return o});return i=r[_],i._dirtyCounter=gi(0),i._flatValue=void 0,r}function rE(e){return I_(!0,!1)}function oE(e){return I_(!0,!0)}function sE(e,n){const t=e[_];t._lView=be(),t._queryIndex=n,t._queryList=D_(t._lView,n),t._queryList.onDirty(()=>t._dirtyCounter.update(i=>i+1))}const uE=new Set;function Si(e){uE.has(e)||(uE.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let Eo=class{};class hE extends Eo{injector;componentFactoryResolver=new UT(this);instance=null;constructor(n){super();const t=new Cs([...n.providers,{provide:Eo,useValue:this},{provide:rl,useValue:this.componentFactoryResolver}],n.parent||yd(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}let PV=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=Em(0,t.type),r=i.length>0?function fE(e,n,t=null){return new hE({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Te({token:e,providedIn:"environment",factory:()=>new e(ft(Ti))})}return e})();function it(e){return Co(()=>{const n=mE(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Hd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?r=>r.get(PV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||xo.Emulated,styles:e.styles||pn,_:null,schemas:e.schemas||null,tView:null,id:""};n.standalone&&Si("NgStandalone"),gE(t);const i=e.dependencies;return t.directiveDefs=Ah(i,pE),t.pipeDefs=Ah(i,Nr),t.id=function BV(e){let n=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const o of i.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)|0;return n+=2147483648,"c"+n}(t),t})}function pE(e){return Jt(e)||Ni(e)}function eo(e){return Co(()=>({type:e.type,bootstrap:e.bootstrap||pn,declarations:e.declarations||pn,imports:e.imports||pn,exports:e.exports||pn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function NV(e,n){if(null==e)return Xr;const t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];let o,s,a,u;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,u=r[3]||null):(o=r,s=r,a=sh.None,u=null),t[o]=[i,a,u],n[o]=s}return t}function FV(e){if(null==e)return Xr;const n={};for(const t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Ae(e){return Co(()=>{const n=mE(e);return gE(n),n})}function mE(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Xr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||pn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:NV(e.inputs,n),outputs:FV(e.outputs),debugInfo:null}}function gE(e){e.features?.forEach(n=>n(e))}function Ah(e,n){return e?()=>{const t="function"==typeof e?e():e,i=[];for(const r of t){const o=n(r);null!==o&&i.push(o)}return i}:null}function Ct(e){let n=function _E(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const i=[e];for(;n;){let r;if(ur(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ce(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);const s=e;s.inputs=A_(e.inputs),s.declaredInputs=A_(e.declaredInputs),s.outputs=A_(e.outputs);const a=r.hostBindings;a&&UV(e,a);const u=r.viewQuery,p=r.contentQueries;if(u&&zV(e,u),p&&jV(e,p),HV(e,r),VP(e.outputs,r.outputs),ur(r)&&r.data.animation){const y=e.data;y.animation=(y.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Ct&&(t=!1)}}n=Object.getPrototypeOf(n)}!function VV(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=za(r.hostAttrs,t=za(t,r.hostAttrs))}}(i)}function HV(e,n){for(const t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const i=n.inputs[t];void 0!==i&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t])}}function A_(e){return e===Xr?{}:e===pn?[]:e}function zV(e,n){const t=e.viewQuery;e.viewQuery=t?(i,r)=>{n(i,r),t(i,r)}:n}function jV(e,n){const t=e.contentQueries;e.contentQueries=t?(i,r,o)=>{n(i,r,o),t(i,r,o)}:n}function UV(e,n){const t=e.hostBindings;e.hostBindings=t?(i,r)=>{n(i,r),t(i,r)}:n}function vE(e){const n=t=>{const i=Array.isArray(e);null===t.hostDirectives?(t.resolveHostDirectives=qV,t.hostDirectives=i?e.map(k_):[e]):i?t.hostDirectives.unshift(...e.map(k_)):t.hostDirectives.unshift(e)};return n.ngInherit=!0,n}function qV(e){const n=[];let t=!1,i=null,r=null;for(let o=0;o<e.length;o++){const s=e[o];if(null!==s.hostDirectives){const a=n.length;i??=new Map,r??=new Map,bE(s,n,i),r.set(s,[a,n.length-1])}0===o&&ur(s)&&(t=!0,n.push(s))}for(let o=t?1:0;o<e.length;o++)n.push(e[o]);return[n,i,r]}function bE(e,n,t){if(null!==e.hostDirectives)for(const i of e.hostDirectives)if("function"==typeof i){const r=i();for(const o of r)yE(k_(o),n,t)}else yE(i,n,t)}function yE(e,n,t){const i=Ni(e.directive);(function ZV(e,n){for(const t in n)n.hasOwnProperty(t)&&(e[n[t]]=e[t])})(i.declaredInputs,e.inputs),bE(i,n,t),t.set(i,e),n.push(i)}function k_(e){return"function"==typeof e?{directive:St(e),inputs:Xr,outputs:Xr}:{directive:St(e.directive),inputs:wE(e.inputs),outputs:wE(e.outputs)}}function wE(e){if(void 0===e||0===e.length)return Xr;const n={};for(let t=0;t<e.length;t+=2)n[e[t]]=e[t+1];return n}function xE(e,n,t,i,r,o,s,a){if(t.firstCreatePass){e.mergedAttrs=za(e.mergedAttrs,e.attrs);const y=e.tView=zg(2,e,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);null!==t.queries&&(t.queries.template(t,e),y.queries=t.queries.embeddedTView(e))}a&&(e.flags|=a),go(e,!1);const u=TE(t,n,e,i);Sd()&&Kg(t,n,u,e),Ji(u,n);const p=oT(u,n,u,e);n[i+27]=p,Ug(n,p)}function Hs(e,n,t,i,r,o,s,a,u,p,y){const x=t+27;let F;if(n.firstCreatePass){if(F=Fs(n,x,4,s||null,a||null),null!=p){const B=Di(n.consts,p);F.localNames=[];for(let Q=0;Q<B.length;Q+=2)F.localNames.push(B[Q],-1)}}else F=n.data[x];return xE(F,e,n,t,i,r,o,u),null!=p&&$a(e,F,y),F}function Vi(e,n,t,i,r,o,s,a){const u=be(),p=It();return function YV(e,n,t,i,r,o,s,a,u,p,y){const x=t+27;let F;n.firstCreatePass?(F=Fs(n,x,4,s||null,a||null),Um()&&PT(n,e,F,Di(n.consts,p),e_),BC(n,F)):F=n.data[x],xE(F,e,n,t,i,r,o,u),Aa(F)&&uh(n,e,F),null!=p&&$a(e,F,y)}(u,p,e,n,t,i,r,Di(p.consts,o),void 0,s,a),Vi}function O_(e,n,t,i,r,o,s,a){const u=be(),p=It();return Hs(u,p,e,n,t,i,r,Di(p.consts,o),void 0,s,a),O_}let TE=function EE(e,n,t,i){return ac(!0),n[11].createComment("")};var P_=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(P_||{});const dl=new fe(""),RE=!1,_t=class tz extends je{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,function Om(){return void 0!==Ow()||null!=W()}()&&(this.destroyRef=E(Yr,{optional:!0})??void 0,this.pendingTasks=E(Is,{optional:!0})??void 0)}emit(n){const t=v(null);try{super.next(n)}finally{v(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&"object"==typeof n){const u=n;r=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:r,error:o,complete:s});return n instanceof de&&n.add(a),a}wrapInTimeout(n){return t=>{const i=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{void 0!==i&&this.pendingTasks?.remove(i)}})}}};function AE(e){let n,t;function i(){e=cc;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),i()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{e(),i()})),()=>i()}function kE(e){return queueMicrotask(()=>e()),()=>{e=cc}}const N_="isAngularZone",Nh=N_+"_ID";let nz=0;class Be{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _t(!1);onMicrotaskEmpty=new _t(!1);onStable=new _t(!1);onError=new _t(!1);constructor(n){const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=RE}=n;if(typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,function oz(e){const n=()=>{!function rz(e){function n(){AE(()=>{e.callbackScheduled=!1,L_(e),e.isCheckStableRunning=!0,F_(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),L_(e))}(e)},t=nz++;e._inner=e._inner.fork({name:"angular",properties:{[N_]:!0,[Nh]:t,[Nh+t]:!0},onInvokeTask:(i,r,o,s,a,u)=>{if(function sz(e){return NE(e,"__ignore_ng_zone__")}(u))return i.invokeTask(o,s,a,u);try{return OE(e),i.invokeTask(o,s,a,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),PE(e)}},onInvoke:(i,r,o,s,a,u,p)=>{try{return OE(e),i.invoke(o,s,a,u,p)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function az(e){return NE(e,"__scheduler_tick__")}(u)&&n(),PE(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,L_(e),F_(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(N_)}static assertInAngularZone(){if(!Be.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new Ce(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,iz,cc,cc);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}}const iz={};function F_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function L_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function OE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function PE(e){e._nesting--,F_(e)}class B_{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _t;onMicrotaskEmpty=new _t;onStable=new _t;onError=new _t;run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}}function NE(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}let H_=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Te({token:e,providedIn:"root",factory:()=>new e})}return e})();const FE=[0,1,2,3];let LE=(()=>{class e{ngZone=E(Be);scheduler=E(wo);errorHandler=E(bo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){E(dl,{optional:!0})}execute(){const t=this.sequences.size>0;t&&nn(16),this.executing=!0;for(const i of FE)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[i])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,r.hooks[i])(r.pipelinedValue),r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(const i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&nn(17)}register(t){const{view:i}=t;void 0!==i?((i[25]??=[]).push(t),Pa(i),i[2]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(P_.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Te({token:e,providedIn:"root",factory:()=>new e})}return e})();class BE{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,i,r,o,s=null){this.impl=n,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const n=this.view?.[25];n&&(this.view[25]=n.filter(t=>t!==this))}}function zi(e,n){const t=n?.injector??E(Ft);return Si("NgAfterNextRender"),function VE(e,n,t,i){const r=n.get(H_);r.impl??=n.get(LE);const o=n.get(dl,null,{optional:!0}),s=!0!==t?.manualCleanup?n.get(Yr):null,a=n.get(Id,null,{optional:!0}),u=new BE(r.impl,function cz(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),a?.view,i,s,o?.snapshot(null));return r.impl.register(u),u}(e,t,n,!0)}const cD=new fe("");function zh(e){return!!e&&"function"==typeof e.then}function uD(e){return!!e&&"function"==typeof e.subscribe}const dD=new fe("");let hD=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=E(dD,{optional:!0})??[];injector=E(Ft);constructor(){}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=km(this.injector,r);if(zh(o))t.push(o);else if(uD(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pj=new fe("");let Lr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(yo);afterRenderManager=E(H_);zonelessEnabled=E(SC);rootEffectScheduler=E(RC);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new je;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=E(Is);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(On(t=>!t))}constructor(){E(dl,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=E(Ti);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=Ft.NULL){return this._injector.get(Be).run(()=>{nn(10);const s=t instanceof kT;if(!this._injector.get(hD).done)throw new Ce(405,"");let u;u=s?t:this._injector.get(rl).resolveComponentFactory(t),this.componentTypes.push(u.componentType);const p=function gj(e){return e.isBoundToModule}(u)?void 0:this._injector.get(Eo),x=u.create(r,[],i||u.selector,p),F=x.location.nativeElement,B=x.injector.get(cD,null);return B?.registerApplication(F),x.onDestroy(()=>{this.detachView(x.hostView),jh(this.components,x),B?.unregisterApplication(F)}),this._loadComponent(x),nn(11,x),x})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){nn(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(P_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Ce(101,!1);const t=v(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,v(t),this.afterTick.next(),nn(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(xr,null,{optional:!0}));let t=0;for(;0!==this.dirtyFlags&&t++<10;)nn(14),this.synchronizeOnce(),nn(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews)(i||rc(r))&&(gh(r,i&&!this.zonelessEnabled?0:1),t=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:t})=>rc(t))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;jh(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(pj,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>jh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ce(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jh(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function bi(e,n){const t=be();if(wn(t,Ki(),n)){const r=It(),o=Zr();if(ph(o,r,t,e,n))fo(o)&&Zx(t,o.index);else{const a=Gn(o,t);dh(t[11],a,null,o.value,e,n,null)}}return bi}function Ue(e,n,t,i){const r=be();return wn(r,Ki(),n)&&(It(),function f2(e,n,t,i,r,o){const s=Gn(e,n);dh(n[11],s,o,e.value,t,i,r)}(Zr(),r,e,n,t,i)),Ue}typeof document<"u"&&document;class dU{destroy(n){}updateValue(n,t){}swap(n,t){const i=Math.min(n,t),r=Math.max(n,t),o=this.detach(r);if(r-i>1){const s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(n,t){this.attach(t,this.detach(n,!0))}}function sv(e,n,t,i,r){return e===t&&Object.is(n,i)?1:Object.is(r(e,n),r(t,i))?-1:0}function av(e,n,t,i){return!(void 0===n||!n.has(i)||(e.attach(t,n.get(i)),n.delete(i),0))}function ID(e,n,t,i,r){if(av(e,n,i,t(i,r)))e.updateValue(i,r);else{const o=e.create(i,r);e.attach(i,o)}}function MD(e,n,t,i){const r=new Set;for(let o=n;o<=t;o++)r.add(i(o,e.at(o)));return r}class RD{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const t=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let i=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,i]of this.kvMap)if(n(i,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,t)}}}function Xe(e,n,t,i,r,o,s,a){Si("NgControlFlow");const u=be(),p=It();return Hs(u,p,e,n,t,i,r,Di(p.consts,o),256,s,a),lv}function lv(e,n,t,i,r,o,s,a){Si("NgControlFlow");const u=be(),p=It();return Hs(u,p,e,n,t,i,r,Di(p.consts,o),512,s,a),lv}function qe(e,n){Si("NgControlFlow");const t=be(),i=Ki(),r=t[i]!==ln?t[i]:-1,o=-1!==r?Yh(t,27+r):void 0;if(wn(t,i,e)){const a=v(null);try{if(void 0!==o&&i_(o,0),-1!==e){const u=27+e,p=Yh(t,u),y=uv(t[1],u),x=null;nl(p,el(t,y,n,{dehydratedView:x}),0,Ns(y,x))}}finally{v(a)}}else if(void 0!==o){const a=sT(o,0);void 0!==a&&(a[8]=n)}}class fU{lContainer;$implicit;$index;constructor(n,t,i){this.lContainer=n,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-10}}function AD(e){return e}function cv(e,n){return n}class pU{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,i){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=i}}function qs(e,n,t,i,r,o,s,a,u,p,y,x,F){Si("NgControlFlow");const B=be(),Q=It(),ie=void 0!==u,ee=be(),te=a?s.bind(ee[15][8]):s,oe=new pU(ie,te);ee[27+e]=oe,Hs(B,Q,e+1,n,t,i,r,Di(Q.consts,o),256),ie&&Hs(B,Q,e+2,u,p,y,x,Di(Q.consts,F),512)}class mU extends dU{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,i){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-10}at(n){return this.getLView(n)[8].$implicit}attach(n,t){const i=t[6];this.needsIndexUpdate||=n!==this.length,nl(this.lContainer,t,n,Ns(this.templateTNode,i))}detach(n,t){return this.needsIndexUpdate||=n!==this.length-1,t&&function gU(e,n){if(e.length<=10)return;const i=e[10+n];i&&i[26]&&(i[26].skipLeaveAnimations=!0)}(this.lContainer,n),function _U(e,n){return Sc(e,n)}(this.lContainer,n)}create(n,t){const r=el(this.hostLView,this.templateTNode,new fU(this.lContainer,t,n),{dehydratedView:null});return this.operationsCounter?.recordCreate(),r}destroy(n){Ec(n[1],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[8].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[8].$index=n}getLView(n){return function vU(e,n){return sT(e,n)}(this.lContainer,n)}}function Zs(e){const n=v(null),t=mi();try{const i=be(),r=i[1],o=i[t],s=t+1,a=Yh(i,s);if(void 0===o.liveCollection){const p=uv(r,s);o.liveCollection=new mU(a,i,p)}else o.liveCollection.reset();const u=o.liveCollection;if(function hU(e,n,t){let i,r,o=0,s=e.length-1;if(Array.isArray(n)){let u=n.length-1;for(;o<=s&&o<=u;){const p=e.at(o),y=n[o],x=sv(o,p,o,y,t);if(0!==x){x<0&&e.updateValue(o,y),o++;continue}const F=e.at(s),B=n[u],Q=sv(s,F,u,B,t);if(0!==Q){Q<0&&e.updateValue(s,B),s--,u--;continue}const ie=t(o,p),ee=t(s,F),te=t(o,y);if(Object.is(te,ee)){const oe=t(u,B);Object.is(oe,ie)?(e.swap(o,s),e.updateValue(s,B),u--,s--):e.move(s,o),e.updateValue(o,y),o++;continue}if(i??=new RD,r??=MD(e,o,s,t),av(e,i,o,te))e.updateValue(o,y),o++,s++;else if(r.has(te))i.set(ie,e.detach(o)),s--;else{const oe=e.create(o,n[o]);e.attach(o,oe),o++,s++}}for(;o<=u;)ID(e,i,t,o,n[o]),o++}else if(null!=n){const u=n[Symbol.iterator]();let p=u.next();for(;!p.done&&o<=s;){const y=e.at(o),x=p.value,F=sv(o,y,o,x,t);if(0!==F)F<0&&e.updateValue(o,x),o++,p=u.next();else{i??=new RD,r??=MD(e,o,s,t);const B=t(o,x);if(av(e,i,o,B))e.updateValue(o,x),o++,s++,p=u.next();else if(r.has(B)){const Q=t(o,y);i.set(Q,e.detach(o)),s--}else e.attach(o,e.create(o,x)),o++,s++,p=u.next()}}for(;!p.done;)ID(e,i,t,e.length,p.value),p=u.next()}for(;o<=s;)e.destroy(e.detach(s--));i?.forEach(u=>{e.destroy(u)})}(u,e,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){const p=Ki(),y=0===u.length;if(wn(i,p,y)){const x=t+2,F=Yh(i,x);if(y){const B=uv(r,x),Q=null;nl(F,el(i,B,void 0,{dehydratedView:Q}),0,Ns(B,Q))}else r.firstUpdatePass&&function Ch(e){const n=e[6]??[],i=e[3][11],r=[];for(const o of n)void 0!==o.data.di?r.push(o):DT(o,i);e[6]=r}(F),i_(F,0)}}}finally{v(n)}}function Yh(e,n){return e[n]}function uv(e,n){return Oa(e,n)}function Me(e,n,t){const i=be();return wn(i,Ki(),n)&&(It(),Jg(Zr(),i,e,n,i[11],t)),Me}function dv(e,n,t,i,r){ph(n,e,t,r?"class":"style",i)}function ue(e,n,t,i){const r=be(),o=r[1],s=e+27,a=o.firstCreatePass?g_(s,r,2,n,e_,Um(),t,i):o.data[s];if(hh(a,r,e,n,hv),Aa(a)){const u=r[1];uh(u,r,a),Ag(u,a,r)}return null!=i&&$a(r,a),ue}function pe(){const e=It(),t=fh(wt());return e.firstCreatePass&&__(e,t),oC(t)&&sC(),iC(),null!=t.classesWithoutHost&&function uF(e){return!!(8&e.flags)}(t)&&dv(e,t,be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function dF(e){return!!(16&e.flags)}(t)&&dv(e,t,be(),t.stylesWithoutHost,!1),pe}function Mt(e,n,t,i){return ue(e,n,t,i),pe(),Mt}function $t(e,n,t,i){const r=be(),o=r[1],s=e+27,a=o.firstCreatePass?function HT(e,n,t,i,r,o){const s=n.consts,u=Fs(n,e,t,i,Di(s,r));if(u.mergedAttrs=za(u.mergedAttrs,u.attrs),null!=o){const p=Di(s,o);u.localNames=[];for(let y=0;y<p.length;y+=2)u.localNames.push(p[y],-1)}return null!==u.attrs&&Dh(u,u.attrs,!1),null!==u.mergedAttrs&&Dh(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(s,o,2,n,t,i):o.data[s];return hh(a,r,e,n,hv),null!=i&&$a(r,a),$t}function Zt(){return oC(fh(wt()))&&sC(),iC(),Zt}function mn(e,n,t,i){return $t(e,n,t,i),Zt(),mn}let hv=(e,n,t,i,r)=>(ac(!0),rh(n[11],i,function BN(){return vt.lFrame.currentNamespace}()));function fv(e,n,t){const i=be(),r=i[1],o=e+27,s=r.firstCreatePass?g_(o,i,8,"ng-container",e_,Um(),n,t):r.data[o];if(hh(s,i,e,"ng-container",mv),Aa(s)){const a=i[1];uh(a,i,s),Ag(a,s,i)}return null!=t&&$a(i,s),fv}function Kh(){const e=It(),t=fh(wt());return e.firstCreatePass&&__(e,t),Kh}function Xc(e,n,t){return fv(e,n,t),Kh(),Xc}let mv=(e,n,t,i,r)=>(ac(!0),Vg(n[11],""));function Yt(){return be()}function fr(e,n,t){const i=be();return wn(i,Ki(),n)&&(It(),$g(Zr(),i,e,n,i[11],t)),fr}const Jh="en-US";let LD=Jh;function ze(e,n,t){const i=be(),r=It(),o=wt();return bv(r,i,i[11],o,e,n,t),ze}function vv(e,n,t){const i=be(),r=It(),o=wt();return(3&o.type||t)&&zT(o,r,i,t,i[11],e,n,Hc(o,i,n)),vv}function bv(e,n,t,i,r,o,s){let a=!0,u=null;if((3&i.type||s)&&(u??=Hc(i,n,o),zT(i,e,n,s,t,r,o,u)&&(a=!1)),a){const p=i.outputs?.[r],y=i.hostDirectiveOutputs?.[r];if(y&&y.length)for(let x=0;x<y.length;x+=2){const F=y[x],B=y[x+1];u??=Hc(i,n,o),Mh(i,n,F,B,r,u)}if(p&&p.length)for(const x of p)u??=Hc(i,n,o),Mh(i,n,x,r,r,u)}}function Ie(e=1){return function NN(e){return(vt.lFrame.contextLView=function eC(e,n){for(;e>0;)n=n[14],e--;return n}(e,vt.lFrame.contextLView))[8]}(e)}function uG(e,n){let t=null;const i=function kB(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?xx(e,o,!0):NB(i,o))return r}else t=r}return t}function Xn(e){const n=be()[15][5];if(!n.projection){const i=n.projection=function md(e,n){const t=[];for(let i=0;i<e;i++)t.push(n);return t}(e?e.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){if(128!==o.type){const s=e?uG(o,e):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function At(e,n=0,t,i,r,o){const s=be(),a=It(),u=i?e+1:null;null!==u&&Hs(s,a,u,i,r,o,null,t);const p=Fs(a,27+e,16,null,t||null);null===p.projection&&(p.projection=n),cC();const x=!s[6]||rC();null===s[15][5].projection[p.projection]&&null!==u?function dG(e,n,t){const i=27+t,r=n.data[i],o=e[i];nl(o,el(e,r,void 0,{dehydratedView:null}),0,Ns(r,null))}(s,a,u):x&&!Xd(p)&&function i2(e,n,t){Wx(n[11],0,n,t,Zg(e,t,n),Vx(t.parent||n[5],t,n))}(a,s,p)}function Ii(e,n,t,i){tE(e,n,t,i)}function bt(e,n,t){eE(e,n,t)}function Ze(e){const n=be(),t=It(),i=Xm();Dd(i+1);const r=S_(t,i);if(e.dirty&&function TN(e){return!(4&~e[2])}(n)===!(2&~r.metadata.flags)){if(null===r.matches)e.reset([]);else{const o=iE(n,i);e.reset(o,s0),e.notifyOnChanges()}return!0}return!1}function Ye(){return D_(be(),Xm())}function Jc(e,n,t,i){sE(e,eE(n,t,i))}function yv(e=1){Dd(Xm()+e)}function Ys(e){return function Ds(e,n){return e[n]}(function uC(){return vt.lFrame.contextLView}(),27+e)}function nf(e,n){return e<<17|n<<2}function Ks(e){return e>>17&32767}function wv(e){return 2|e}function vl(e){return(131068&e)>>2}function Cv(e,n){return-131069&e|n<<2}function xv(e){return 1|e}function iS(e,n,t,i){const r=e[t+1],o=null===n;let s=i?Ks(r):vl(r),a=!1;for(;0!==s&&(!1===a||o);){const p=e[s+1];_G(e[s],n)&&(a=!0,e[s+1]=i?xv(p):wv(p)),s=i?Ks(p):vl(p)}a&&(e[t+1]=i?wv(r):xv(r))}function _G(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&$l(e,n)>=0}const $n={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rS(e){return e.substring($n.key,$n.keyEnd)}function oS(e,n){const t=$n.textEnd;return t===n?-1:(n=$n.keyEnd=function wG(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,$n.key=n,t),bl(e,n,t))}function bl(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function ei(e,n,t){return uS(e,n,t,!1),ei}function ot(e,n){return uS(e,n,null,!0),ot}function Br(e){!function dS(e,n,t,i){const r=It(),o=vo(2);r.firstUpdatePass&&fS(r,null,o,i);const s=be();if(t!==ln&&wn(s,o,t)){const a=r.data[mi()];if(_S(a,i)&&!hS(r,o)){let u=i?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=um(u,t||"")),dv(r,a,s,t,i)}else!function OG(e,n,t,i,r,o,s,a){r===ln&&(r=pn);let u=0,p=0,y=0<r.length?r[0]:null,x=0<o.length?o[0]:null;for(;null!==y||null!==x;){const F=u<r.length?r[u+1]:void 0,B=p<o.length?o[p+1]:void 0;let ie,Q=null;y===x?(u+=2,p+=2,F!==B&&(Q=x,ie=B)):null===x||null!==y&&y<x?(u+=2,Q=y):(p+=2,Q=x,ie=B),null!==Q&&mS(e,n,t,i,Q,ie,s,a),y=u<r.length?r[u]:null,x=p<o.length?o[p]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function AG(e,n,t){if(null==t||""===t)return pn;const i=[],r=hr(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(e,n,t),i,o)}}(kG,DG,e,!0)}function DG(e,n){for(let t=function bG(e){return function aS(e){$n.key=0,$n.keyEnd=0,$n.value=0,$n.valueEnd=0,$n.textEnd=e.length}(e),oS(e,bl(e,0,$n.textEnd))}(n);t>=0;t=oS(n,t))gd(e,rS(n),!0)}function uS(e,n,t,i){const r=be(),o=It(),s=vo(2);o.firstUpdatePass&&fS(o,e,s,i),n!==ln&&wn(r,s,n)&&mS(o,o.data[mi()],r,r[11],e,r[s+1]=function PG(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Zi(hr(e)))),e}(n,t),i,s)}function hS(e,n){return n>=e.expandoStartIndex}function fS(e,n,t,i){const r=e.data;if(null===r[t+1]){const o=r[mi()],s=hS(e,t);_S(o,i)&&null===n&&!s&&(n=!1),n=function SG(e,n,t,i){const r=function Wm(e){const n=vt.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(t=$c(t=Tv(null,e,n,t,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==r)if(t=Tv(r,e,n,t,i),null===o){let u=function IG(e,n,t){const i=t?n.classBindings:n.styleBindings;if(0!==vl(i))return e[Ks(i)]}(e,n,i);void 0!==u&&Array.isArray(u)&&(u=Tv(null,e,n,u[1],i),u=$c(u,n.attrs,i),function MG(e,n,t,i){e[Ks(t?n.classBindings:n.styleBindings)]=i}(e,n,i,u))}else o=function RG(e,n,t){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=$c(i,e[o].hostAttrs,t);return $c(i,n.attrs,t)}(e,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),t}(r,o,n,i),function mG(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=Ks(s),u=vl(s);e[i]=t;let y,p=!1;if(Array.isArray(t)?(y=t[1],(null===y||$l(t,y)>0)&&(p=!0)):y=t,r)if(0!==u){const F=Ks(e[a+1]);e[i+1]=nf(F,a),0!==F&&(e[F+1]=Cv(e[F+1],i)),e[a+1]=function fG(e,n){return 131071&e|n<<17}(e[a+1],i)}else e[i+1]=nf(a,0),0!==a&&(e[a+1]=Cv(e[a+1],i)),a=i;else e[i+1]=nf(u,0),0===a?a=i:e[u+1]=Cv(e[u+1],i),u=i;p&&(e[i+1]=wv(e[i+1])),iS(e,y,i,!0),iS(e,y,i,!1),function gG(e,n,t,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&$l(o,n)>=0&&(t[i+1]=xv(t[i+1]))}(n,y,e,i,o),s=nf(a,u),o?n.classBindings=s:n.styleBindings=s}(r,o,n,t,s,i)}}function Tv(e,n,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],i=$c(i,o.hostAttrs,r),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),i}function $c(e,n,t){const i=t?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),gd(e,s,!!t||n[++o]))}return void 0===e?null:e}function kG(e,n,t){const i=String(n);""!==i&&!i.includes(" ")&&gd(e,i,t)}function mS(e,n,t,i,r,o,s,a){if(!(3&n.type))return;const u=e.data,p=u[a+1],y=function pG(e){return!(1&~e)}(p)?gS(u,n,t,r,vl(p),s):void 0;rf(y)||(rf(o)||function hG(e){return!(2&~e)}(p)&&(o=gS(u,null,t,r,a,s)),function o2(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Ko.DashCase;null==r?e.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ko.Important),e.setStyle(t,i,r,o))}}(i,s,ka(mi(),t),r,o))}function gS(e,n,t,i,r,o){const s=null===n;let a;for(;r>0;){const u=e[r],p=Array.isArray(u),y=p?u[1]:u,x=null===y;let F=t[r+1];F===ln&&(F=x?pn:void 0);let B=x?wm(F,i):y===i?F:void 0;if(p&&!rf(B)&&(B=wm(u,i)),rf(B)&&(a=B,s))return a;const Q=e[r+1];r=s?Ks(Q):vl(Q)}if(null!==n){let u=o?n.residualClasses:n.residualStyles;null!=u&&(a=wm(u,i))}return a}function rf(e){return void 0!==e}function _S(e,n){return!!(e.flags&(n?8:16))}function Ne(e,n=""){const t=be(),i=It(),r=e+27,o=i.firstCreatePass?Fs(i,r,1,n,null):i.data[r],s=vS(i,t,o,n,e);t[r]=s,Sd()&&Kg(i,t,s,o),go(o,!1)}let vS=(e,n,t,i,r)=>(ac(!0),function Hg(e,n){return e.createText(n)}(n[11],i));function Lt(e){return ts("",e),Lt}function ts(e,n,t){const i=be(),r=function yS(e,n,t,i=""){return wn(e,Ki(),t)?n+Tt(t)+i:ln}(i,e,n,t);return r!==ln&&function Do(e,n,t){const i=ka(n,e);!function Ex(e,n,t){e.setValue(n,t)}(e[11],i,t)}(i,mi(),r),ts}function eu(e,n,t){DC(n)&&(n=n());const i=be();return wn(i,Ki(),n)&&(It(),Jg(Zr(),i,e,n,i[11],t)),eu}function sf(e,n){const t=DC(e);return t&&e.set(n),t}function tu(e,n){const t=be(),i=It(),r=wt();return bv(i,t,t[11],r,e,n),tu}function Ev(e,n,t,i,r){if(e=St(e),Array.isArray(e))for(let o=0;o<e.length;o++)Ev(e[o],n,t,i,r);else{const o=It(),s=be(),a=wt();let u=lo(e)?e:St(e.provide);const p=Ww(e),y=1048575&a.providerIndexes,x=a.directiveStart,F=a.providerIndexes>>20;if(lo(e)||!e.multi){const B=new dc(p,r,Pe,null),Q=Sv(u,n,r?y:y+F,x);-1===Q?(rg(Pd(a,s),o,u),Dv(o,e,n.length),n.push(u),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(B),s.push(B)):(t[Q]=B,s[Q]=B)}else{const B=Sv(u,n,y+F,x),Q=Sv(u,n,y,y+F),ee=Q>=0&&t[Q];if(r&&!ee||!r&&!(B>=0&&t[B])){rg(Pd(a,s),o,u);const te=function JG(e,n,t,i,r){const s=new dc(e,t,Pe,null);return s.multi=[],s.index=n,s.componentProviders=0,BS(s,r,i&&!t),s}(r?QG:KG,t.length,r,i,p);!r&&ee&&(t[Q].providerFactory=te),Dv(o,e,n.length,0),n.push(u),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(te),s.push(te)}else Dv(o,e,B>-1?B:Q,BS(t[r?Q:B],p,!r&&i));!r&&i&&ee&&t[Q].componentProviders++}}}function Dv(e,n,t,i){const r=lo(n),o=function Uw(e){return!!e.useClass}(n);if(r||o){const u=(o?St(n.useClass):n).prototype.ngOnDestroy;if(u){const p=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){const y=p.indexOf(t);-1===y?p.push(t,[i,u]):p[y+1].push(i,u)}else p.push(t,u)}}}function BS(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Sv(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function KG(e,n,t,i,r){return Iv(this.multi,[])}function QG(e,n,t,i,r){const o=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,u=pc(i,i[1],this.providerFactory.index,r);s=u.slice(0,a),Iv(o,s);for(let p=a;p<u.length;p++)s.push(u[p])}else s=[],Iv(o,s);return s}function Iv(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Rt(e,n=[]){return t=>{t.providersResolver=(i,r)=>function YG(e,n,t){const i=It();if(i.firstCreatePass){const r=ur(e);Ev(t,i.data,i.blueprint,r,!0),Ev(n,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,n)}}function Mv(e,n,t,i){return function zS(e,n,t,i,r,o){const s=n+t;return wn(e,s,r)?$r(e,s+1,o?i.call(o,r):i(r)):nu(e,s+1)}(be(),Bi(),e,n,t,i)}function VS(e,n,t,i,r,o){return function US(e,n,t,i,r,o,s,a){const u=n+t;return Ih(e,u,r,o,s)?$r(e,u+3,a?i.call(a,r,o,s):i(r,o,s)):nu(e,u+3)}(be(),Bi(),e,n,t,i,r,o)}function nu(e,n){const t=e[n];return t===ln?void 0:t}function Qs(e,n){return _h(e,n)}let X3=(()=>{class e{zone=E(Be);changeDetectionScheduler=E(wo);applicationRef=E(Lr);applicationErrorHandler=E(yo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Pv({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Be({...Nv(),scheduleInRootZone:t}),[{provide:Be,useFactory:e},{provide:ws,multi:!0,useFactory:()=>{const i=E(X3,{optional:!0});return()=>i.initialize()}},{provide:ws,multi:!0,useFactory:()=>{const i=E(Z3);return()=>{i.initialize()}}},!0===n?{provide:IC,useValue:!0}:[],{provide:MC,useValue:t??RE},{provide:yo,useFactory:()=>{const i=E(Be),r=E(Ti);let o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(bo),o.handleError(s))})}}}]}function Nv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let Z3=(()=>{class e{subscription=new de;initialized=!1;zone=E(Be);pendingTasks=E(Is);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lv=(()=>{class e{applicationErrorHandler=E(yo);appRef=E(Lr);taskService=E(Is);ngZone=E(Be);zonelessEnabled=E(SC);tracing=E(dl,{optional:!0});disableScheduling=E(IC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new de;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(MC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof B_||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;let i=!1;switch(t){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,i=!0;break;case 12:this.appRef.dirtyFlags|=16,i=!0;break;case 11:i=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;const r=this.useMicrotaskScheduler?kE:AE;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const is=new fe("",{providedIn:"root",factory:()=>E(is,{optional:!0,skipSelf:!0})||function Y3(){return typeof $localize<"u"&&$localize.locale||Jh}()});let pI=null;function rs(){return pI}class n8{}let mI=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:()=>E(i8),providedIn:"platform"})}return e})(),i8=(()=>{class e extends mI{_location;_history;_doc=E(Vt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rs().getBaseHref(this._doc)}onPopState(t){const i=rs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=rs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function gI(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function _I(e){const n=e.search(/#|\?|$/);return"/"===e[n-1]?e.slice(0,n-1)+e.slice(n):e}function $s(e){return e&&"?"!==e[0]?`?${e}`:e}let zv=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:()=>E(o8),providedIn:"root"})}return e})();const r8=new fe("");let o8=(()=>{class e extends zv{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(Vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+$s(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+$s(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+$s(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||e)(ft(mI),ft(r8,8))};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vI=(()=>{class e{_subject=new je;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function l8(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(_I(bI(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+$s(i))}normalize(t){return e.stripTrailingSlash(function a8(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,bI(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$s(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$s(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=$s;static joinWithSlash=gI;static stripTrailingSlash=_I;static \u0275fac=function(i){return new(i||e)(ft(zv))};static \u0275prov=Te({token:e,factory:()=>function s8(){return new vI(ft(zv))}(),providedIn:"root"})}return e})();function bI(e){return e.replace(/\/index.html$/,"")}const yI="browser";let Wv;try{Wv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Wv=!1}let Xv,cn=(()=>{class e{_platformId=E(jd);isBrowser=this._platformId?function u8(e){return e===yI}(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!Wv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qv(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function So(e){return e.composedPath?e.composedPath()[0]:e.target}function AI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class PI{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>function Ld(e){return function gF(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(jC(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===n)return t[r+1];r+=2}}}return null}(wt(),e)}(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}function NI(e,n){return rE()}new fe("").__NG_ELEMENT_ID__=e=>{const n=wt();if(null===n)throw new Ce(204,!1);if(2&n.type)return n.value;if(8&e)return null;throw new Ce(204,!1)};const gf=(NI.required=function G8(e,n){return oE()},NI);function FI(e,n){return rE()}const X8=(FI.required=function W8(e,n){return oE()},FI),_f=new fe(""),Q8=new fe("");function lu(e){return!e.moduleRef}let jI,Cl=null;let Wt=(()=>class e{static __NG_ELEMENT_ID__=i4})();function i4(e){return function r4(e,n,t){if(fo(e)&&!t){const i=Li(e.index,n);return new Ic(i,i)}return 175&e.type?new Ic(n[15],n):null}(wt(),be(),!(16&~e))}class QI{constructor(){}supports(n){return n instanceof Map||v_(n)}create(){return new c4}}class c4{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||v_(n)))throw new Ce(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const i=n._prev;return t._next=n,t._prev=i,n._prev=t,i&&(i._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new u4(n);return this._records.set(n,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(i=>t(n[i],i))}}class u4{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}}function $I(){return new bf([new QI])}let bf=(()=>{class e{static \u0275prov=Te({token:e,providedIn:"root",factory:$I});factories;constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:()=>{const i=E(e,{optional:!0,skipSelf:!0});return e.create(t,i||$I())}}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Ce(901,!1)}}return e})();function f4(e){const{rootComponent:n,appProviders:t,platformProviders:i,platformRef:r}=e;nn(8);try{const o=r?.injector??function n4(e=[]){if(Cl)return Cl;const n=function WI(e=[],n){return Ft.create({name:n,providers:[{provide:Im,useValue:"platform"},{provide:_f,useValue:new Set([()=>Cl=null])},...e]})}(e);return Cl=n,function mj(){!function ye(e){X=e}(()=>{throw new Ce(600,"")})}(),function XI(e){const n=e.get(D0,null);km(e,()=>{n?.forEach(t=>t())})}(n),n}(i),s=[Pv({}),{provide:wo,useExisting:Lv},EC,...t||[]];return function zI(e){const n=lu(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Be);return t.run(()=>{lu(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const i=n.get(yo);let r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),lu(e)){const o=()=>n.destroy(),s=e.platformInjector.get(_f);s.add(o),n.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{const o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(_f);s.add(o),e.moduleRef.onDestroy(()=>{jh(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return function $8(e,n,t){try{const i=t();return zh(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e(i)),i}}(i,t,()=>{const o=n.get(Is),s=o.add(),a=n.get(hD);return a.runInitializers(),a.donePromise.then(()=>{if(function SU(e){"string"==typeof e&&(LD=e.toLowerCase().replace(/_/g,"-"))}(n.get(is,Jh)||Jh),!n.get(Q8,!0))return lu(e)?n.get(Lr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(lu(e)){const y=n.get(Lr);return void 0!==e.rootComponent&&y.bootstrap(e.rootComponent),y}return jI?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{o.remove(s)})})})}({r3Injector:new hE({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{nn(9)}}function Ht(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function yi(e,n=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?n:Number(e)}const Kv=Symbol("NOT_SET"),fM=new Set,L4={...I,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:Kv,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(null===this.sequence.lastPhase||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(e){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==Kv&&!ce(this))return this.signal;try{for(const r of this.cleanup??fM)r()}finally{this.cleanup?.clear()}const n=[];void 0!==e&&n.push(e),n.push(this.registerCleanupFn);const t=ne(this);let i;try{i=this.userFn.apply(null,n)}finally{ae(this,t)}return(this.value===Kv||!this.equal(this.value,i))&&(this.value=i,this.version++),this.signal}};class B4 extends BE{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(n,t,i,r,o,s=null){super(n,[void 0,void 0,void 0,void 0],i,!1,o.get(Yr),s),this.scheduler=r;for(const a of FE){const u=t[a];if(void 0===u)continue;const p=Object.create(L4);p.sequence=this,p.phase=a,p.userFn=u,p.dirty=!0,p.signal=()=>(H(p),p.value),p.signal[_]=p,p.registerCleanupFn=y=>(p.cleanup??=new Set).add(y),this.nodes[a]=p,this.hooks[a]=y=>p.phaseFn(y)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(const n of this.nodes)if(n)try{for(const t of n.cleanup??fM)t()}finally{ge(n)}}}function pM(e,n){const t=Jt(e),i=n.elementInjector||yd();return new Rh(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector,n.directives,n.bindings)}const Tf=new WeakMap;let to=(()=>{class e{_appRef;_injector=E(Ft);_environmentInjector=E(Ti);load(t){const i=this._appRef=this._appRef||this._injector.get(Lr);let r=Tf.get(i);r||(r={loaders:new Set,refs:[]},Tf.set(i,r),i.onDestroy(()=>{Tf.get(i)?.refs.forEach(o=>o.destroy()),Tf.delete(i)})),r.loaders.has(t)||(r.loaders.add(t),r.refs.push(pM(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qn(e){return null==e?"":"string"==typeof e?e:`${e}px`}function Ef(e){return Array.isArray(e)?e:[e]}function mM(e){return e&&b(e.schedule)}function Qv(e){return e[e.length-1]}function gM(e){return b(Qv(e))?e.pop():void 0}function uu(e){return mM(Qv(e))?e.pop():void 0}function os(e){return this instanceof os?(this.v=e,this):new os(e)}function yM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function tb(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(s){return new Promise(function(a,u){!function r(o,s,a,u){Promise.resolve(u).then(function(p){o({value:p,done:a})},s)}(a,u,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ib=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function wM(e){return b(e?.then)}function CM(e){return b(e[cm])}function xM(e){return Symbol.asyncIterator&&b(e?.[Symbol.asyncIterator])}function TM(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const EM=function p5(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function DM(e){return b(e?.[EM])}function SM(e){return function bM(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(e,n||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(B){return function(Q){return Promise.resolve(Q).then(B,x)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(B,Q){i[B]&&(r[B]=function(ie){return new Promise(function(ee,te){o.push([B,ie,ee,te])>1||u(B,ie)})},Q&&(r[B]=Q(r[B])))}function u(B,Q){try{!function p(B){B.value instanceof os?Promise.resolve(B.value.v).then(y,x):F(o[0][2],B)}(i[B](Q))}catch(ie){F(o[0][3],ie)}}function y(B){u("next",B)}function x(B){u("throw",B)}function F(B,Q){B(Q),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:i,done:r}=yield os(t.read());if(r)return yield os(void 0);yield yield os(i)}}finally{t.releaseLock()}})}function IM(e){return b(e?.getReader)}function wi(e){if(e instanceof tn)return e;if(null!=e){if(CM(e))return function m5(e){return new tn(n=>{const t=e[cm]();if(b(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ib(e))return function g5(e){return new tn(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(wM(e))return function _5(e){return new tn(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ht)})}(e);if(xM(e))return MM(e);if(DM(e))return function v5(e){return new tn(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(IM(e))return function b5(e){return MM(SM(e))}(e)}throw TM(e)}function MM(e){return new tn(n=>{(function y5(e,n){var t,i,r,o;return function _M(e,n,t,i){return new(t||(t=Promise))(function(o,s){function a(y){try{p(i.next(y))}catch(x){s(x)}}function u(y){try{p(i.throw(y))}catch(x){s(x)}}function p(y){y.done?o(y.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(y.value).then(a,u)}p((i=i.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=yM(e);!(i=yield t.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Io(e,n,t,i=0,r=!1){const o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function RM(e,n=0){return Qn((t,i)=>{t.subscribe(kn(i,r=>Io(i,e,()=>i.next(r),n),()=>Io(i,e,()=>i.complete(),n),r=>Io(i,e,()=>i.error(r),n)))})}function AM(e,n=0){return Qn((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function kM(e,n){if(!e)throw new Error("Iterable cannot be null");return new tn(t=>{Io(t,n,()=>{const i=e[Symbol.asyncIterator]();Io(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function xl(e,n){return n?function D5(e,n){if(null!=e){if(CM(e))return function w5(e,n){return wi(e).pipe(AM(n),RM(n))}(e,n);if(ib(e))return function x5(e,n){return new tn(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}(e,n);if(wM(e))return function C5(e,n){return wi(e).pipe(AM(n),RM(n))}(e,n);if(xM(e))return kM(e,n);if(DM(e))return function T5(e,n){return new tn(t=>{let i;return Io(t,n,()=>{i=e[EM](),Io(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>b(i?.return)&&i.return()})}(e,n);if(IM(e))return function E5(e,n){return kM(SM(e),n)}(e,n)}throw TM(e)}(e,n):wi(e)}function Ui(...e){return xl(e,uu(e))}class S5 extends de{constructor(n,t){super()}schedule(n,t=0){return this}}const Df={setInterval(e,n,...t){const{delegate:i}=Df;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=Df;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};class rb extends S5{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return Df.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Df.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,re(i,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}const du={schedule(e){let n=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=du;i&&(n=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=n(o=>{t=void 0,e(o)});return new de(()=>t?.(r))},requestAnimationFrame(...e){const{delegate:n}=du;return(n?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:n}=du;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},ob={now:()=>(ob.delegate||Date).now(),delegate:void 0};class hu{constructor(n,t=hu.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}}hu.now=ob.now;class sb extends hu{constructor(n,t=hu.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}}new class M5 extends sb{flush(n){let t;this._active=!0,n?t=n.id:(t=this._scheduled,this._scheduled=void 0);const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===t&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===t&&i.shift();)n.unsubscribe();throw r}}}(class I5 extends rb{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,i=0){return null!==i&&i>0?super.requestAsyncId(n,t,i):(n.actions.push(this),n._scheduled||(n._scheduled=du.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,t,i);const{actions:o}=n;null!=t&&t===n._scheduled&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(du.cancelAnimationFrame(t),n._scheduled=void 0)}});let ab,A5=1;const Sf={};function OM(e){return e in Sf&&(delete Sf[e],!0)}const k5={setImmediate(e){const n=A5++;return Sf[n]=!0,ab||(ab=Promise.resolve()),ab.then(()=>OM(n)&&e()),n},clearImmediate(e){OM(e)}},{setImmediate:O5,clearImmediate:P5}=k5,If={setImmediate(...e){const{delegate:n}=If;return(n?.setImmediate||O5)(...e)},clearImmediate(e){const{delegate:n}=If;return(n?.clearImmediate||P5)(e)},delegate:void 0},Mf=(new class F5 extends sb{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===t&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===t&&i.shift();)n.unsubscribe();throw r}}}(class N5 extends rb{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,i=0){return null!==i&&i>0?super.requestAsyncId(n,t,i):(n.actions.push(this),n._scheduled||(n._scheduled=If.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,t,i);const{actions:o}=n;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(If.clearImmediate(t),n._scheduled===t&&(n._scheduled=void 0))}}),new sb(rb)),B5=Mf;function lb(e=0,n,t=B5){let i=-1;return null!=n&&(mM(n)?t=n:i=n),new tn(r=>{let o=function V5(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function PM(e,n=Mf){return function H5(e){return Qn((n,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const p=r;r=null,t.next(p)}s&&t.complete()},u=()=>{o=null,s&&t.complete()};n.subscribe(kn(t,p=>{i=!0,r=p,o||wi(e(p)).subscribe(o=kn(t,a,u))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>lb(e,n))}function ui(e,n){return Qn((t,i)=>{let r=0;t.subscribe(kn(i,o=>e.call(n,o,r++)&&i.next(o)))})}function fu(e,n=0){return function z5(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):2===arguments.length?n:0}function Mo(e){return e instanceof ut?e.nativeElement:e}const j5=new fe("cdk-dir-doc",{providedIn:"root",factory:function U5(){return E(Vt)}}),G5=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function NM(e){const n=e?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?G5.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}let Er=(()=>{class e{get value(){return this.valueSignal()}valueSignal=gi("ltr");change=new _t;constructor(){const t=E(j5,{optional:!0});t&&this.valueSignal.set(NM((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var no=function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e}(no||{});let Rf,ea;function FM(){if(null==ea){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ea=!1,ea;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)ea=!0;else{const e=Element.prototype.scrollTo;ea=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return ea}function pu(){if("object"!=typeof document||!document)return no.NORMAL;if(null==Rf){const e=document.createElement("div"),n=e.style;e.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",e.appendChild(t),document.body.appendChild(e),Rf=no.NORMAL,0===e.scrollLeft&&(e.scrollLeft=1,Rf=0===e.scrollLeft?no.NEGATED:no.INVERTED),e.remove()}return Rf}let Af=(()=>{class e{_ngZone=E(Be);_platform=E(cn);_renderer=E(xr).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new je;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new tn(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const r=t>0?this._scrolled.pipe(PM(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Ui()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ui(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_scrollableContainsElement(t,i){let r=Mo(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mu=(()=>{class e{elementRef=E(ut);scrollDispatcher=E(Af);ngZone=E(Be);dir=E(Er,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new je;_renderer=E(Wn);_cleanupScroll;_elementScrolled=new je;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&pu()!=no.NORMAL?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),pu()==no.INVERTED?t.left=t.right:pu()==no.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;FM()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?r:i:"end"==t&&(t=s?i:r),s&&pu()==no.INVERTED?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&pu()==no.NEGATED?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return e})(),gu=(()=>{class e{_platform=E(cn);_listeners;_viewportSize;_change=new je;_document=E(Vt);constructor(){const t=E(Be),i=E(xr).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){const r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(PM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),LM=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=eo({type:e});static \u0275inj=Pr({})}return e})();class cb{_attachedHost;attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class Tl extends cb{component;viewContainerRef;injector;projectableNodes;constructor(n,t,i,r){super(),this.component=n,this.viewContainerRef=t,this.injector=i,this.projectableNodes=r}}class _u extends cb{templateRef;viewContainerRef;context;injector;constructor(n,t,i,r){super(),this.templateRef=n,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class q5 extends cb{element;constructor(n){super(),this.element=n instanceof ut?n.nativeElement:n}}class kf{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof Tl?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof _u?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof q5?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Z5 extends kf{outletElement;_appRef;_defaultInjector;constructor(n,t,i){super(),this.outletElement=n,this._appRef=t,this._defaultInjector=i}attachComponentPortal(n){let t;if(n.viewContainerRef){const i=n.injector||n.viewContainerRef.injector,r=i.get(Eo,null,{optional:!0})||void 0;t=n.viewContainerRef.createComponent(n.component,{index:n.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:n.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{const i=this._appRef,r=n.injector||this._defaultInjector||Ft.NULL,o=r.get(Ti,i.injector);t=pM(n.component,{elementInjector:r,environmentInjector:o,projectableNodes:n.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=n,t}attachTemplatePortal(n){let t=n.viewContainerRef,i=t.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=n,i}attachDomPortal=n=>{const t=n.element,i=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=n,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let Y5=(()=>{class e extends _u{constructor(){super(E(Hi),E(Jn))}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Ct]})}return e})(),ta=(()=>{class e extends kf{_moduleRef=E(Eo,{optional:!0});_document=E(Vt);_viewContainerRef=E(Jn);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new _t;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,r=i.createComponent(t.component,{index:i.length,injector:t.injector||i.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=t=>{const i=t.element,r=this._document.createComment("dom-portal");t.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=t,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ct]})}return e})();const ub={};let Dr=(()=>{class e{_appId=E(As);getId(t){return"ng"!==this._appId&&(t+=this._appId),ub.hasOwnProperty(t)||(ub[t]=0),`${t}${ub[t]++}`}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const BM=FM();function HM(e){return new K5(e.get(gu),e.get(Vt))}class K5{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(n,t){this._viewportRuler=n,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=qn(-this._previousScrollPosition.left),n.style.top=qn(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,i=n.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),BM&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),BM&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.documentElement,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class VM{enable(){}disable(){}attach(){}}function db(e,n){return n.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function zM(e,n){return n.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class J5{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(n,t,i,r){this._scrollDispatcher=n,this._viewportRuler=t,this._ngZone=i,this._config=r}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();db(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class hb{positionStrategy;scrollStrategy=new VM;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(n){if(n){const t=Object.keys(n);for(const i of t)void 0!==n[i]&&(this[i]=n[i])}}}class $5{connectionPair;scrollableViewProperties;constructor(n,t){this.connectionPair=n,this.scrollableViewProperties=t}}let jM=(()=>{class e{_attachedOverlays=[];_document=E(Vt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),eW=(()=>{class e extends jM{_ngZone=E(Be);_renderer=E(xr).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{const i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tW=(()=>{class e extends jM{_platform=E(cn);_ngZone=E(Be);_renderer=E(xr).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){const i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=So(t)};_clickListener=t=>{const i=So(t),r="click"===t.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;const o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){const a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(UM(a.overlayElement,i)||UM(a.overlayElement,r))break;const u=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(t)):u.next(t)}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function UM(e,n){const t=typeof ShadowRoot<"u"&&ShadowRoot;let i=n;for(;i;){if(i===e)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}let GM=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}\n"],encapsulation:2,changeDetection:0})}return e})(),vu=(()=>{class e{_platform=E(cn);_containerElement;_document=E(Vt);_styleLoader=E(to);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||AI()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),AI()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(GM)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class nW{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(n,t,i,r){this._renderer=t,this._ngZone=i,this.element=n.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{const n=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(n,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),n.style.pointerEvents="none",n.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}}class WM{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new je;_attachments=new je;_detachments=new je;_positionStrategy;_scrollStrategy;_locationChanges=de.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new je;_outsidePointerEvents=new je;_afterNextRenderRef;constructor(n,t,i,r,o,s,a,u,p,y=!1,x,F){this._portalOutlet=n,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=u,this._outsideClickDispatcher=p,this._animationsDisabled=y,this._injector=x,this._renderer=F,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=zi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,n&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=qn(this._config.width),n.height=qn(this._config.height),n.minWidth=qn(this._config.minWidth),n.minHeight=qn(this._config.minHeight),n.maxWidth=qn(this._config.maxWidth),n.maxHeight=qn(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new nW(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(n))}):this._backdropRef.element.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(n,t,i){const r=Ef(t||[]).filter(o=>!!o);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenEmpty(){let n=!1;try{this._detachContentAfterRenderRef=zi(()=>{n=!0,this._detachContent()},{injector:this._injector})}catch(t){if(n)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){const n=this._scrollStrategy;n?.disable(),n?.detach?.()}}const XM="cdk-overlay-connected-position-bounding-box",iW=/([A-Za-z%]+)$/;class oW{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new je;_resizeSubscription=de.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(n,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(XM),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let u=this._getOriginPoint(n,r,a),p=this._getOverlayPoint(u,t,a),y=this._getOverlayFit(p,t,i,a);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,u);this._canFitWithFlexibleDimensions(y,p,i)?o.push({position:a,origin:u,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(u,a)}):(!s||s.overlayFit.visibleArea<y.visibleArea)&&(s={overlayFit:y,overlayPoint:p,originPoint:u,position:a,overlayRect:t})}if(o.length){let a=null,u=-1;for(const p of o){const y=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);y>u&&(u=y,a=p)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&na(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(XM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,t)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,t,i){let r,o;if("center"==i.originX)r=n.left+n.width/2;else{const s=this._isRtl()?n.right:n.left,a=this._isRtl()?n.left:n.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(n,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:n.x+r,y:n.y+o}}_getOverlayFit(n,t,i,r){const o=ZM(t);let{x:s,y:a}=n,u=this._getOffset(r,"x"),p=this._getOffset(r,"y");u&&(s+=u),p&&(a+=p);let F=0-a,B=a+o.height-i.height,Q=this._subtractOverflows(o.width,0-s,s+o.width-i.width),ie=this._subtractOverflows(o.height,F,B),ee=Q*ie;return{visibleArea:ee,isCompletelyWithinViewport:o.width*o.height===ee,fitsInViewportVertically:ie===o.height,fitsInViewportHorizontally:Q==o.width}}_canFitWithFlexibleDimensions(n,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=qM(this._overlayRef.getConfig().minHeight),a=qM(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=s&&s<=r)&&(n.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(n,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const r=ZM(t),o=this._viewportRect,s=Math.max(n.x+r.width-o.width,0),a=Math.max(n.y+r.height-o.height,0),u=Math.max(o.top-i.top-n.y,0),p=Math.max(o.left-i.left-n.x,0);let y=0,x=0;return y=r.width<=o.width?p||-s:n.x<this._viewportMargin?o.left-i.left-n.x:0,x=r.height<=o.height?u||-a:n.y<this._viewportMargin?o.top-i.top-n.y:0,this._previousPushAmount={x:y,y:x},{x:n.x+y,y:n.y+x}}_applyPosition(n,t){if(this._setTransformOrigin(n),this._setOverlayElementStyles(t,n),this._setBoundingBoxStyles(t,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!function sW(e,n){return e===n||e.isOriginClipped===n.isOriginClipped&&e.isOriginOutsideView===n.isOriginOutsideView&&e.isOverlayClipped===n.isOverlayClipped&&e.isOverlayOutsideView===n.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new $5(n,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=n.overlayY;i="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,y,x,F;if("top"===t.overlayY)s=n.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-n.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const B=Math.min(i.bottom-n.y+i.top,n.y),Q=this._lastBoundingBoxSize.height;o=2*B,s=n.y-B,o>Q&&!this._isInitialRender&&!this._growAfterOpen&&(s=n.y-Q/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)F=i.width-n.x+2*this._viewportMargin,y=n.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)x=n.x,y=i.right-n.x;else{const B=Math.min(i.right-n.x+i.left,n.x),Q=this._lastBoundingBoxSize.width;y=2*B,x=n.x-B,y>Q&&!this._isInitialRender&&!this._growAfterOpen&&(x=n.x-Q/2)}return{top:s,left:x,bottom:a,right:F,width:y,height:o}}_setBoundingBoxStyles(n,t){const i=this._calculateBoundingBoxRect(n,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=qn(i.height),r.top=qn(i.top),r.bottom=qn(i.bottom),r.width=qn(i.width),r.left=qn(i.left),r.right=qn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=qn(o)),s&&(r.maxWidth=qn(s))}this._lastBoundingBoxSize=i,na(this._boundingBox.style,r)}_resetBoundingBoxStyles(){na(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){na(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const y=this._viewportRuler.getViewportScrollPosition();na(i,this._getExactOverlayY(t,n,y)),na(i,this._getExactOverlayX(t,n,y))}else i.position="static";let a="",u=this._getOffset(t,"x"),p=this._getOffset(t,"y");u&&(a+=`translateX(${u}px) `),p&&(a+=`translateY(${p}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=qn(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=qn(s.maxWidth):o&&(i.maxWidth="")),na(this._pane.style,i)}_getExactOverlayY(n,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===n.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=qn(o.y),r}_getExactOverlayX(n,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=qn(o.x),r}_getScrollVisibility(){const n=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zM(n,i),isOriginOutsideView:db(n,i),isOverlayClipped:zM(t,i),isOverlayOutsideView:db(t,i)}}_subtractOverflows(n,...t){return t.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:n-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,t){return"x"===t?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Ef(n).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof ut)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const t=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+t,height:i,width:t}}}function na(e,n){for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function qM(e){if("number"!=typeof e&&null!=e){const[n,t]=e.split(iW);return t&&"px"!==t?null:parseFloat(n)}return e||null}function ZM(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const YM="cdk-global-overlay-wrapper";function fb(e){return new aW}class aW{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(n){const t=n.getConfig();this._overlayRef=n,this._width&&!t.width&&n.updateSize({width:this._width}),this._height&&!t.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(YM),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,u=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),p=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),y=this._xPosition,x=this._xOffset,F="rtl"===this._overlayRef.getConfig().direction;let B="",Q="",ie="";u?ie="flex-start":"center"===y?(ie="center",F?Q=x:B=x):F?"left"===y||"end"===y?(ie="flex-end",B=x):("right"===y||"start"===y)&&(ie="flex-start",Q=x):"left"===y||"start"===y?(ie="flex-start",B=x):("right"===y||"end"===y)&&(ie="flex-end",Q=x),n.position=this._cssPosition,n.marginLeft=u?"0":B,n.marginTop=p?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=u?"0":Q,t.justifyContent=ie,t.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(YM),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}function pb(e,n){e.get(to).load(GM);const t=e.get(vu),i=e.get(Vt),r=e.get(Dr),o=e.get(Lr),s=e.get(Er),a=i.createElement("div"),u=i.createElement("div");u.id=r.getId("cdk-overlay-"),u.classList.add("cdk-overlay-pane"),a.appendChild(u),t.getContainerElement().appendChild(a);const p=new Z5(u,o,e),y=new hb(n),x=e.get(Wn,null,{optional:!0})||e.get(xr).createRenderer(null,null);return y.direction=y.direction||s.value,new WM(p,a,u,y,e.get(Be),e.get(eW),i,e.get(vI),e.get(tW),n?.disableAnimations??"NoopAnimations"===e.get(S0,null,{optional:!0}),e.get(Ti),x)}let uW=(()=>{class e extends vu{_renderer=E(xr).createRenderer(null,null);_fullScreenEventName;_cleanupFullScreenListener;constructor(){super()}ngOnDestroy(){super.ngOnDestroy(),this._cleanupFullScreenListener?.()}_createContainer(){const t=this._getEventName();super._createContainer(),this._adjustParentForFullscreenChange(),t&&(this._cleanupFullScreenListener?.(),this._cleanupFullScreenListener=this._renderer.listen("document",t,()=>{this._adjustParentForFullscreenChange()}))}_adjustParentForFullscreenChange(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_getEventName(){if(!this._fullScreenEventName){const t=this._document;t.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":t.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":t.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":t.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const t=this._document;return t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||null}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bu(e,n,t=1/0){return b(n)?bu((i,r)=>On((o,s)=>n(i,o,r,s))(wi(e(i,r))),t):("number"==typeof n&&(t=n),Qn((i,r)=>function dW(e,n,t,i,r,o,s,a){const u=[];let p=0,y=0,x=!1;const F=()=>{x&&!u.length&&!p&&n.complete()},B=ie=>p<i?Q(ie):u.push(ie),Q=ie=>{o&&n.next(ie),p++;let ee=!1;wi(t(ie,y++)).subscribe(kn(n,te=>{r?.(te),o?B(te):n.next(te)},()=>{ee=!0},void 0,()=>{if(ee)try{for(p--;u.length&&p<i;){const te=u.shift();s?Io(n,s,()=>Q(te)):Q(te)}F()}catch(te){n.error(te)}}))};return e.subscribe(kn(n,B,()=>{x=!0,F()})),()=>{a?.()}}(i,r,e,t)))}function yu(e){return Qn((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Pf(e,n){return Qn((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(kn(i,u=>{r?.unsubscribe();let p=0;const y=o++;wi(e(u,y)).subscribe(r=kn(i,x=>i.next(n?n(u,x,y,p++):x),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function KM(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}class QM{}class Nf{}class Ff{}class Sr{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Sr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Sr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Sr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,t);const r=("a"===n.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=n.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}addHeaderEntry(n,t){const i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(n,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class fW{encodeKey(n){return JM(n)}encodeValue(n){return JM(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const mW=/%(\d[a-f0-9])/gi,gW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function JM(e){return encodeURIComponent(e).replace(mW,(n,t)=>gW[t]??n)}function Lf(e){return`${e}`}class ss{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new fW,n.fromString){if(n.fromObject)throw new Ce(2805,!1);this.map=function pW(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const i=n.fromObject[t],r=Array.isArray(i)?i.map(Lf):[Lf(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new ss({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Lf(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(Lf(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class _W{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function $M(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function eR(e){return typeof Blob<"u"&&e instanceof Blob}function tR(e){return typeof FormData<"u"&&e instanceof FormData}const wu="Content-Type",mb="X-Request-URL",nR="text/plain",iR="application/json",rR=`${iR}, ${nR}, */*`;class Cu{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,i,r){let o;if(this.url=t,this.method=n.toUpperCase(),function vW(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),"number"==typeof o.timeout){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Ce(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Sr,this.context??=new _W,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new ss,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||$M(this.body)||eR(this.body)||tR(this.body)||function bW(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ss?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tR(this.body)?null:eR(this.body)?this.body.type||null:$M(this.body)?null:"string"==typeof this.body?nR:this.body instanceof ss?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?iR:null}clone(n={}){const t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,u=n.mode||this.mode,p=n.redirect||this.redirect,y=n.credentials||this.credentials,x=n.referrer||this.referrer,F=n.integrity||this.integrity,B=n.transferCache??this.transferCache,Q=n.timeout??this.timeout,ie=void 0!==n.body?n.body:this.body,ee=n.withCredentials??this.withCredentials,te=n.reportProgress??this.reportProgress;let oe=n.headers||this.headers,xe=n.params||this.params;const Oe=n.context??this.context;return void 0!==n.setHeaders&&(oe=Object.keys(n.setHeaders).reduce((Le,pt)=>Le.set(pt,n.setHeaders[pt]),oe)),n.setParams&&(xe=Object.keys(n.setParams).reduce((Le,pt)=>Le.set(pt,n.setParams[pt]),xe)),new Cu(t,i,ie,{params:xe,headers:oe,context:Oe,reportProgress:te,responseType:r,withCredentials:ee,transferCache:B,keepalive:o,cache:a,priority:s,timeout:Q,mode:u,redirect:p,credentials:y,referrer:x,integrity:F})}}var as=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(as||{});class gb{headers;status;statusText;url;ok;type;redirected;constructor(n,t=200,i="OK"){this.headers=n.headers||new Sr,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.redirected=n.redirected,this.ok=this.status>=200&&this.status<300}}class Hf extends gb{constructor(n={}){super(n)}type=as.ResponseHeader;clone(n={}){return new Hf({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class xu extends gb{body;constructor(n={}){super(n),this.body=void 0!==n.body?n.body:null}type=as.Response;clone(n={}){return new xu({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected})}}class ia extends gb{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function _b(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}let El=(()=>{class e{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Cu)o=t;else{let u,p;u=r.headers instanceof Sr?r.headers:new Sr(r.headers),r.params&&(p=r.params instanceof ss?r.params:new ss({fromObject:r.params})),o=new Cu(t,i,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}const s=Ui(o).pipe(function hW(e,n){return b(n)?bu(e,n,1):bu(e,1)}(u=>this.handler.handle(u)));if(t instanceof Cu||"events"===r.observe)return s;const a=s.pipe(ui(u=>u instanceof xu));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(On(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Ce(2806,!1);return u.body}));case"blob":return a.pipe(On(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Ce(2807,!1);return u.body}));case"text":return a.pipe(On(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Ce(2808,!1);return u.body}));default:return a.pipe(On(u=>u.body))}case"response":return a;default:throw new Ce(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ss).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,_b(r,i))}post(t,i,r={}){return this.request("POST",t,_b(r,i))}put(t,i,r={}){return this.request("PUT",t,_b(r,i))}static \u0275fac=function(i){return new(i||e)(ft(Nf))};static \u0275prov=Te({token:e,factory:e.\u0275fac})}return e})();const aR=new fe("");function lR(e,n){return n(e)}const Tu=new fe(""),IW=new fe(""),cR=new fe("",{providedIn:"root",factory:()=>!0});let uR=(()=>{class e extends Nf{backend;injector;chain=null;pendingTasks=E(Km);contributeToStability=E(cR);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Tu),...this.injector.get(IW,[])]));this.chain=i.reduceRight((r,o)=>function DW(e,n,t){return(i,r)=>km(t,()=>n(i,o=>e(o,r)))}(r,o,this.injector),lR)}if(this.contributeToStability){const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(yu(i))}return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||e)(ft(Ff),ft(Ti))};static \u0275prov=Te({token:e,factory:e.\u0275fac})}return e})();const OW=/^\)\]\}',?\n/,PW=RegExp(`^${mb}:`,"m");let hR=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Ce(-2800,!1);const i=this.xhrFactory;return Ui(null).pipe(Pf(()=>new tn(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((ee,te)=>s.setRequestHeader(ee,te.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept",rR),!t.headers.has(wu)){const ee=t.detectContentTypeHeader();null!==ee&&s.setRequestHeader(wu,ee)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){const ee=t.responseType.toLowerCase();s.responseType="json"!==ee?ee:"text"}const a=t.serializeBody();let u=null;const p=()=>{if(null!==u)return u;const ee=s.statusText||"OK",te=new Sr(s.getAllResponseHeaders()),oe=function NW(e){return"responseURL"in e&&e.responseURL?e.responseURL:PW.test(e.getAllResponseHeaders())?e.getResponseHeader(mb):null}(s)||t.url;return u=new Hf({headers:te,status:s.status,statusText:ee,url:oe}),u},y=()=>{let{headers:ee,status:te,statusText:oe,url:xe}=p(),Oe=null;204!==te&&(Oe=typeof s.response>"u"?s.responseText:s.response),0===te&&(te=Oe?200:0);let Le=te>=200&&te<300;if("json"===t.responseType&&"string"==typeof Oe){const pt=Oe;Oe=Oe.replace(OW,"");try{Oe=""!==Oe?JSON.parse(Oe):null}catch(un){Oe=pt,Le&&(Le=!1,Oe={error:un,text:Oe})}}Le?(o.next(new xu({body:Oe,headers:ee,status:te,statusText:oe,url:xe||void 0})),o.complete()):o.error(new ia({error:Oe,headers:ee,status:te,statusText:oe,url:xe||void 0}))},x=ee=>{const{url:te}=p(),oe=new ia({error:ee,status:s.status||0,statusText:s.statusText||"Unknown Error",url:te||void 0});o.error(oe)};let F=x;t.timeout&&(F=ee=>{const{url:te}=p(),oe=new ia({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:te||void 0});o.error(oe)});let B=!1;const Q=ee=>{B||(o.next(p()),B=!0);let te={type:as.DownloadProgress,loaded:ee.loaded};ee.lengthComputable&&(te.total=ee.total),"text"===t.responseType&&s.responseText&&(te.partialText=s.responseText),o.next(te)},ie=ee=>{let te={type:as.UploadProgress,loaded:ee.loaded};ee.lengthComputable&&(te.total=ee.total),o.next(te)};return s.addEventListener("load",y),s.addEventListener("error",x),s.addEventListener("timeout",F),s.addEventListener("abort",x),t.reportProgress&&(s.addEventListener("progress",Q),null!==a&&s.upload&&s.upload.addEventListener("progress",ie)),s.send(a),o.next({type:as.Sent}),()=>{s.removeEventListener("error",x),s.removeEventListener("abort",x),s.removeEventListener("load",y),s.removeEventListener("timeout",F),t.reportProgress&&(s.removeEventListener("progress",Q),null!==a&&s.upload&&s.upload.removeEventListener("progress",ie)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||e)(ft(QM))};static \u0275prov=Te({token:e,factory:e.\u0275fac})}return e})();const yb=new fe(""),fR=new fe("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),pR=new fe("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mR{}let BW=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i){this.doc=t,this.cookieName=i}getToken(){const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=KM(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||e)(ft(Vt),ft(fR))};static \u0275prov=Te({token:e,factory:e.\u0275fac})}return e})();function HW(e,n){const t=e.url.toLowerCase();if(!E(yb)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const i=E(mR).getToken(),r=E(pR);return null!=i&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}function VW(...e){const n=[El,hR,uR,{provide:Nf,useExisting:uR},{provide:Ff,useFactory:()=>E(aR,{optional:!0})??E(hR)},{provide:Tu,useValue:HW,multi:!0},{provide:yb,useValue:!0},{provide:mR,useClass:BW}];for(const t of e)n.push(...t.\u0275providers);return function Tm(e){return{\u0275providers:e}}(n)}class Dl extends je{constructor(n=1/0,t=1/0,i=ob){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(n),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!n.closed;s+=i?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let u=1;u<i.length&&i[u]<=s;u+=2)a=u;a&&i.splice(0,a+1)}}}function _R(e=1/0){return bu(Ta,e)}const Eu=new tn(e=>e.complete());function oa(...e){const n=uu(e),t=function z4(e,n){return"number"==typeof Qv(e)?e.pop():n}(e,1/0),i=e;return i.length?1===i.length?wi(i[0]):_R(t)(xl(i,n)):Eu}const jW={schedule(e,n){const t=setTimeout(e,n);return()=>clearTimeout(t)}};let wb;function YW(e,n,t){let i=t;return function GW(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&n.some((r,o)=>!("*"===r||!function WW(e,n){if(!wb){const t=Element.prototype;wb=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&wb.call(e,n)}(e,r)||(i=o,0))),i}class QW{componentFactory;inputMap=new Map;constructor(n,t){this.componentFactory=t.get(rl).resolveComponentFactory(n);for(const i of this.componentFactory.inputs)this.inputMap.set(i.propName,i.templateName)}create(n){return new JW(this.componentFactory,n,this.inputMap)}}class JW{componentFactory;injector;inputMap;eventEmitters=new Dl(1);events=this.eventEmitters.pipe(Pf(n=>oa(...n)));componentRef=null;scheduledDestroyFn=null;initialInputValues=new Map;ngZone;elementZone;appRef;cdScheduler;constructor(n,t,i){this.componentFactory=n,this.injector=t,this.inputMap=i,this.ngZone=this.injector.get(Be),this.appRef=this.injector.get(Lr),this.cdScheduler=t.get(wo),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(n){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(n)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=jW.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null)},10))})}getInputValue(n){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(n):this.componentRef.instance[n])}setInputValue(n,t){null!==this.componentRef?this.runInZone(()=>{this.componentRef.setInput(this.inputMap.get(n)??n,t),function k2(e){return rc(e._lView)||!!(64&e._lView[2])}(this.componentRef.hostView)&&(function O2(e){Bm(e._lView)}(this.componentRef.changeDetectorRef),this.cdScheduler.notify(6))}):this.initialInputValues.set(n,t)}initializeComponent(n){const t=Ft.create({providers:[],parent:this.injector}),i=function ZW(e,n){const t=e.childNodes,i=n.map(()=>[]);let r=-1;n.some((o,s)=>"*"===o&&(r=s,!0));for(let o=0,s=t.length;o<s;++o){const a=t[o],u=YW(a,n,r);-1!==u&&i[u].push(a)}return i}(n,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,n),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.appRef.attachView(this.componentRef.hostView),this.componentRef.hostView.detectChanges()}initializeInputs(){for(const[n,t]of this.initialInputValues)this.setInputValue(n,t);this.initialInputValues.clear()}initializeOutputs(n){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>{const o=n.instance[i];return new tn(s=>{const a=o.subscribe(u=>s.next({name:r,value:u}));return()=>a.unsubscribe()})});this.eventEmitters.next(t)}runInZone(n){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(n):n()}}class $W extends HTMLElement{ngElementEventsSubscription=null}const Cb=new fe("");let vR=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new Ce(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||e)(ft(Cb),ft(Be))};static \u0275prov=Te({token:e,factory:e.\u0275fac})}return e})();class bR{_doc;constructor(n){this._doc=n}manager}const xb="ng-app-id";function yR(e){for(const n of e)n.remove()}function wR(e,n){const t=n.createElement("style");return t.textContent=e,t}function Tb(e,n){const t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}let CR=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,function t6(e,n,t,i){const r=e.head?.querySelectorAll(`style[${xb}="${n}"],link[${xb}="${n}"]`);if(r)for(const o of r)o.removeAttribute(xb),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(const r of t)this.addUsage(r,this.inline,wR);i?.forEach(r=>this.addUsage(r,this.external,Tb))}removeStyles(t,i){for(const r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){const o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){const r=i.get(t);r&&(r.usage--,r.usage<=0&&(yR(r.elements),i.delete(t)))}ngOnDestroy(){for(const[,{elements:t}]of[...this.inline,...this.external])yR(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(const[i,{elements:r}]of this.inline)r.push(this.addElement(t,wR(i,this.doc)));for(const[i,{elements:r}]of this.external)r.push(this.addElement(t,Tb(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||e)(ft(Vt),ft(As),ft(hg,8),ft(jd))};static \u0275prov=Te({token:e,factory:e.\u0275fac})}return e})();const Eb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Db=/%COMP%/g,a6=new fe("",{providedIn:"root",factory:()=>!0});function TR(e,n){return n.map(t=>t.replace(Db,e))}let ER=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,u,p=null,y=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=p,this.tracingService=y,this.platformIsServer=!1,this.defaultRenderer=new Sb(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof SR?r.applyToHost(t):r instanceof Ib&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,p=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,x=this.platformIsServer,F=this.tracingService;switch(i.encapsulation){case xo.Emulated:o=new SR(u,p,i,this.appId,y,s,a,x,F);break;case xo.ShadowDom:return new d6(u,p,t,i,s,a,this.nonce,x,F);default:o=new Ib(u,p,i,y,s,a,x,F)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||e)(ft(vR),ft(CR),ft(As),ft(a6),ft(Vt),ft(jd),ft(Be),ft(hg),ft(dl,8))};static \u0275prov=Te({token:e,factory:e.\u0275fac})}return e})();class Sb{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,i,r,o){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Eb[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(DR(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(DR(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){t.remove()}selectRootElement(n,t){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new Ce(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;const o=Eb[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const r=Eb[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(Ko.DashCase|Ko.Important)?n.style.setProperty(t,i,r&Ko.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&Ko.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){null!=n&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i,r){if("string"==typeof n&&!(n=rs().getGlobalEventTarget(this.doc,n)))throw new Ce(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,r)}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&t.preventDefault()}}}function DR(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class d6 extends Sb{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,i,r,o,s,a,u,p){super(n,o,s,u,p),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let y=r.styles;y=TR(r.id,y);for(const F of y){const B=document.createElement("style");a&&B.setAttribute("nonce",a),B.textContent=F,this.shadowRoot.appendChild(B)}const x=r.getExternalStyles?.();if(x)for(const F of x){const B=Tb(F,o);a&&B.setAttribute("nonce",a),this.shadowRoot.appendChild(B)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ib extends Sb{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,i,r,o,s,a,u,p){super(n,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let y=i.styles;this.styles=p?TR(p,y):y,this.styleUrls=i.getExternalStyles?.(p)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===Qa.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class SR extends Ib{contentAttr;hostAttr;constructor(n,t,i,r,o,s,a,u,p){const y=r+"-"+i.id;super(n,t,i,o,s,a,u,p,y),this.contentAttr=function l6(e){return"_ngcontent-%COMP%".replace(Db,e)}(y),this.hostAttr=function c6(e){return"_nghost-%COMP%".replace(Db,e)}(y)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}class Mb extends n8{supportsDOMEvents=!0;static makeCurrent(){!function t8(e){pI??=e}(new Mb)}onAndCancel(n,t,i,r){return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function h6(){return Du=Du||document.head.querySelector("base"),Du?Du.getAttribute("href"):null}();return null==t?null:function f6(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){Du=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return KM(document.cookie,n)}}let Du=null,m6=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac})}return e})();const IR=["alt","control","meta","shift"],_6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v6={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};const T6=[{provide:jd,useValue:yI},{provide:D0,useValue:function w6(){Mb.makeCurrent()},multi:!0},{provide:Vt,useFactory:function x6(){return function tL(e){dg=e}(document),document}}],D6=[{provide:Im,useValue:"root"},{provide:bo,useFactory:function C6(){return new bo}},{provide:Cb,useClass:(()=>{class e extends bR{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(ft(Vt))};static \u0275prov=Te({token:e,factory:e.\u0275fac})}return e})(),multi:!0,deps:[Vt]},{provide:Cb,useClass:(()=>{class e extends bR{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,r,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rs().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),IR.forEach(p=>{const y=i.indexOf(p);y>-1&&(i.splice(y,1),s+=p+".")}),s+=o,0!=i.length||0===o.length)return null;const u={};return u.domEventName=r,u.fullKey=s,u}static matchEventFullKeyCode(t,i){let r=_6[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),IR.forEach(s=>{s!==r&&(0,v6[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static \u0275fac=function(i){return new(i||e)(ft(Vt))};static \u0275prov=Te({token:e,factory:e.\u0275fac})}return e})(),multi:!0,deps:[Vt]},ER,CR,vR,{provide:xr,useExisting:ER},{provide:QM,useClass:m6},[]],{isArray:S6}=Array,{getPrototypeOf:I6,prototype:M6,keys:R6}=Object;function RR(e){if(1===e.length){const n=e[0];if(S6(n))return{args:n,keys:null};if(function A6(e){return e&&"object"==typeof e&&I6(e)===M6}(n)){const t=R6(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}const{isArray:k6}=Array;function Rb(e){return On(n=>function O6(e,n){return k6(n)?e(...n):e(n)}(e,n))}function AR(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Ab(...e){const n=gM(e),{args:t,keys:i}=RR(e),r=new tn(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,p=s;for(let y=0;y<s;y++){let x=!1;wi(t[y]).subscribe(kn(o,F=>{x||(x=!0,p--),a[y]=F},()=>u--,void 0,()=>{(!u||!x)&&(p||o.next(i?AR(i,a):a),o.complete())}))}});return n?r.pipe(Rb(n)):r}function kR(e,n){const t=b(e)?e:()=>e,i=r=>r.error(t());return new tn(n?r=>n.schedule(i,0,r):i)}function Vf(e=0,n=Mf){return e<0&&(e=0),lb(e,e,n)}function sa(e,n=Mf){return Qn((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const p=o;o=null,i.next(p)}};function u(){const p=s+e,y=n.now();if(y<p)return r=this.schedule(void 0,p-y),void i.add(r);a()}t.subscribe(kn(i,p=>{o=p,s=n.now(),r||(r=n.schedule(u,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}const B6={...M,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function Zn(e){return function L6(e){const n=v(null);try{return e()}finally{v(n)}}(e)}function ir(e,n){return Dt(e,n?.equal)}class V6{[_];constructor(n){this[_]=n}destroy(){this[_].destroy()}}function zf(e,n){const t=n?.injector??E(Ft);let r,i=!0!==n?.manualCleanup?t.get(Yr):null;const o=t.get(Id,null,{optional:!0}),s=t.get(wo);return null!==o?(r=function U6(e,n,t){const i=Object.create(j6);return i.view=e,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=n,i.fn=NR(i,t),e[23]??=new Set,e[23].add(i),i.consumerMarkedDirty(i),i}(o.view,s,e),i instanceof TC&&i._lView===o.view&&(i=null)):r=function G6(e,n,t){const i=Object.create(z6);return i.fn=NR(i,e),i.scheduler=n,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}(e,t.get(RC),s),r.injector=t,null!==i&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new V6(r)}const PR={...B6,cleanupFns:void 0,zone:null,onDestroyFn:cc,run(){const e=Ed(!1);try{!function H6(e){if(e.dirty=!1,e.version>0&&!ce(e))return;e.version++;const n=ne(e);try{e.cleanup(),e.fn()}finally{ae(e,n)}}(this)}finally{Ed(e)}},cleanup(){if(!this.cleanupFns?.length)return;const e=v(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],v(e)}}},z6={...PR,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ge(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}},j6={...PR,consumerMarkedDirty(){this.view[2]|=8192,Pa(this.view),this.notifier.notify(13)},destroy(){ge(this),this.onDestroyFn(),this.cleanup(),this.view[23]?.delete(this)}};function NR(e,n){return()=>{n(t=>(e.cleanupFns??=[]).push(t))}}Error,Error;const jb=/\s+/,YR=[];let Iu=(()=>{class e{_ngEl;_renderer;initialClasses=YR;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=null!=t?t.trim().split(jb):YR}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(jb):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(jb).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||e)(Pe(ut),Pe(Wn))};static \u0275dir=Ae({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})(),Mu=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),s=-1===r.indexOf("-")?void 0:Ko.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||e)(Pe(ut),Pe(bf),Pe(Wn))};static \u0275dir=Ae({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})(),Wb=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||e)(Pe(Jn))};static \u0275dir=Ae({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[dr]})}return e})(),tA=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}\n"],encapsulation:2,changeDetection:0})}return e})();function nA(e,n,t){e?Io(t,e,n):n()}function Zb(...e){return function p7(){return _R(1)}()(xl(e,uu(e)))}function di(e){return e<=0?()=>Eu:Qn((n,t)=>{let i=0;n.subscribe(kn(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function Yb(e){return ui((n,t)=>e<=t)}function Ao(...e){const n=uu(e);return Qn((t,i)=>{(n?Zb(e,t,n):Zb(e,t)).subscribe(i)})}function vn(e){return Qn((n,t)=>{wi(e).subscribe(kn(t,()=>t.complete(),en)),!t.closed&&n.subscribe(t)})}const iA=new Set;let aa,rA=(()=>{class e{_platform=E(cn);_nonce=E(hg,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):g7}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function m7(e,n){if(!iA.has(e))try{aa||(aa=document.createElement("style"),n&&aa.setAttribute("nonce",n),aa.setAttribute("type","text/css"),document.head.appendChild(aa)),aa.sheet&&(aa.sheet.insertRule(`@media ${e} {body{ }}`,0),iA.add(e))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function g7(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let mr=(()=>{class e{_mediaMatcher=E(rA);_zone=E(Be);_queries=new Map;_destroySubject=new je;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return oA(Ef(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=function h7(...e){const n=uu(e),t=gM(e),{args:i,keys:r}=RR(e);if(0===i.length)return xl([],n);const o=new tn(function f7(e,n,t=Ta){return i=>{nA(n,()=>{const{length:r}=e,o=new Array(r);let s=r,a=r;for(let u=0;u<r;u++)nA(n,()=>{const p=xl(e[u],n);let y=!1;p.subscribe(kn(i,x=>{o[u]=x,y||(y=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,n,r?s=>AR(r,s):Ta));return t?o.pipe(Rb(t)):o}(oA(Ef(t)).map(s=>this._registerQuery(s).observable));return o=Zb(o.pipe(di(1)),o.pipe(Yb(1),sa(0))),o.pipe(On(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:p})=>{a.matches=a.matches||u,a.breakpoints[p]=u}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new tn(s=>{const a=u=>this._zone.run(()=>s.next(u));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Ao(i),On(({matches:s})=>({query:t,matches:s})),vn(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oA(e){return e.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}let Kb=(()=>{class e{_platform=E(cn);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function v7(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function _7(e){try{return e.frameElement}catch{return null}}(function D7(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(t));if(i&&(-1===aA(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=aA(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function T7(e){let n=e.nodeName.toLowerCase(),t="input"===n&&e.type;return"text"===t||"password"===t||"select"===n||"textarea"===n}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function E7(e){return!function y7(e){return function C7(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function b7(e){let n=e.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(e)||function w7(e){return function x7(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||sA(e))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sA(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let n=e.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function aA(e){if(!sA(e))return null;const n=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class lA{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_enabled=!0;constructor(n,t,i,r,o=!1,s){this._element=n,this._checker=t,this._ngZone=i,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){const n=this._startAnchor,t=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const t=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(n),!!i}return t.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const t=this._getRegionBoundary("start");return t&&t.focus(n),!!t}focusLastTabbableElement(n){const t=this._getRegionBoundary("end");return t&&t.focus(n),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const t=n.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const t=n.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,t){n?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._injector?zi(n,{injector:this._injector}):setTimeout(n)}}let cA=(()=>{class e{_checker=E(Kb);_ngZone=E(Be);_document=E(Vt);_injector=E(Ft);constructor(){E(to).load(tA)}create(t,i=!1){return new lA(t,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const S7=new fe("liveAnnouncerElement",{providedIn:"root",factory:function I7(){return null}}),M7=new fe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let R7=0,A7=(()=>{class e{_ngZone=E(Be);_defaultOptions=E(M7,{optional:!0});_liveElement;_document=E(Vt);_previousTimeout;_currentPromise;_currentResolve;constructor(){const t=E(S7,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+R7++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var la=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(la||{});const uA="cdk-high-contrast-black-on-white",dA="cdk-high-contrast-white-on-black",Qb="cdk-high-contrast-active";let Ru,k7=(()=>{class e{_platform=E(cn);_hasCheckedHighContrastMode;_document=E(Vt);_breakpointSubscription;constructor(){this._breakpointSubscription=E(mr).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return la.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return la.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return la.BLACK_ON_WHITE}return la.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Qb,uA,dA),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===la.BLACK_ON_WHITE?t.add(Qb,uA):i===la.WHITE_ON_BLACK&&t.add(Qb,dA)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Rr(e,n=Ta){return e=e??O7,Qn((t,i)=>{let r,o=!0;t.subscribe(kn(i,s=>{const a=n(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function O7(e,n){return e===n}function hA(e){return 0===e.buttons||0===e.detail}function fA(e){const n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}function ep(e){return function Z7(){if(null==Ru&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ru=!0}))}finally{Ru=Ru||!1}return Ru}()?e:!!e.capture}const Y7=new fe("cdk-input-modality-detector-options"),K7={ignoreKeys:[18,17,224,91,16]},Jb={passive:!0,capture:!0};let Q7=(()=>{class e{_platform=E(cn);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new ai(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(i=>i===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=So(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(hA(t)?"keyboard":"mouse"),this._mostRecentTarget=So(t))};_onTouchstart=t=>{fA(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=So(t))};constructor(){const t=E(Be),i=E(Vt),r=E(Y7,{optional:!0});if(this._options={...K7,...r},this.modalityDetected=this._modality.pipe(Yb(1)),this.modalityChanged=this.modalityDetected.pipe(Rr()),this._platform.isBrowser){const o=E(xr).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,Jb),o.listen(i,"mousedown",this._onMousedown,Jb),o.listen(i,"touchstart",this._onTouchstart,Jb)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tp=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(tp||{});const J7=new fe("cdk-focus-monitor-default-options"),np=ep({passive:!0,capture:!0});let Il=(()=>{class e{_ngZone=E(Be);_platform=E(cn);_inputModalityDetector=E(Q7);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=E(Vt);_stopInputModalityDetector=new je;constructor(){const t=E(J7,{optional:!0});this._detectionMode=t?.detectionMode||tp.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{for(let r=So(t);r;r=r.parentElement)"focus"===t.type?this._onFocus(t,r):this._onBlur(t,r)};monitor(t,i=!1){const r=Mo(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ui();const o=function V8(e){if(function H8(){if(null==Xv){const e=typeof document<"u"?document.head:null;Xv=!(!e||!e.createShadowRoot&&!e.attachShadow)}return Xv}()){const n=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(r)||this._document,s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new je,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Mo(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Mo(t);o===this._document.activeElement?this._getClosestElementsInfo(o).forEach(([a,u])=>this._originChanged(a,i,u)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===tp.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===tp.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=So(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,np),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,np)}),this._rootNodeFocusListenerCount.set(i,r+1),1===++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(vn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,np),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,np),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$7=(()=>{class e{_elementRef=E(ut);_focusMonitor=E(Il);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new _t;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return e})();function gr(e){return null!=e&&"false"!=`${e}`}function ca(e,...n){return n.length?n.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}const eX=["addListener","removeListener"],tX=["addEventListener","removeEventListener"],nX=["on","off"];function $b(e,n,t,i){if(b(t)&&(i=t,t=void 0),i)return $b(e,n,t).pipe(Rb(i));const[r,o]=function oX(e){return b(e.addEventListener)&&b(e.removeEventListener)}(e)?tX.map(s=>a=>e[s](n,a,t)):function iX(e){return b(e.addListener)&&b(e.removeListener)}(e)?eX.map(wA(e,n)):function rX(e){return b(e.on)&&b(e.off)}(e)?nX.map(wA(e,n)):[];if(!r&&ib(e))return bu(s=>$b(s,n,t))(wi(e));if(!r)throw new TypeError("Invalid event target");return new tn(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return r(a),()=>o(a)})}function wA(e,n){return t=>i=>e[t](n,i)}function CA(e){return On(()=>e)}const sX=new fe("MATERIAL_ANIMATIONS");let xA=null;function ey(){return E(sX,{optional:!0})?.animationsDisabled||"NoopAnimations"===E(S0,{optional:!0})?"di-disabled":(xA??=E(rA).matchMedia("(prefers-reduced-motion)").matches,xA?"reduced-motion":"enabled")}function Ci(){return"enabled"!==ey()}let aX=(()=>{class e{_isInitialized=!1;_rawDir;change=new _t;get dir(){return this.valueSignal()}set dir(t){const i=this.valueSignal();this.valueSignal.set(NM(t)),this._rawDir=t,i!==this.valueSignal()&&this._isInitialized&&this.change.emit(this.valueSignal())}get value(){return this.dir}valueSignal=gi("ltr");ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","dir",""]],hostVars:1,hostBindings:function(i,r){2&i&&Ue("dir",r._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[Rt([{provide:Er,useExisting:e}])]})}return e})(),TA=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=eo({type:e});static \u0275inj=Pr({})}return e})(),EA=(()=>{class e{constructor(){E(k7)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||e)};static \u0275mod=eo({type:e});static \u0275inj=Pr({imports:[TA,TA]})}return e})();const DA=["*"],lX=["content"],cX=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],uX=["mat-drawer","mat-drawer-content","*"];function dX(e,n){if(1&e){const t=Yt();ue(0,"div",1),ze("click",function(){return Je(t),$e(Ie()._onBackdropClicked())}),pe()}2&e&&ot("mat-drawer-shown",Ie()._isShowingBackdrop())}function hX(e,n){1&e&&(ue(0,"mat-drawer-content"),At(1,2),pe())}const fX=new fe("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function pX(){return!1}}),SA=new fe("MAT_DRAWER_CONTAINER");let ip=(()=>{class e extends mu{_platform=E(cn);_changeDetectorRef=E(Wt);_container=E(MA);constructor(){super(E(ut),E(Af),E(Be))}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;const{start:t,end:i}=this._container;return null!=t&&"over"!==t.mode&&t.opened||null!=i&&"over"!==i.mode&&i.opened}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(i,r){2&i&&(ei("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px"),ot("mat-drawer-content-hidden",r._shouldBeHidden()))},features:[Rt([{provide:mu,useExisting:e}]),Ct],ngContentSelectors:DA,decls:1,vars:0,template:function(i,r){1&i&&(Xn(),At(0))},encapsulation:2,changeDetection:0})}return e})(),IA=(()=>{class e{_elementRef=E(ut);_focusTrapFactory=E(cA);_focusMonitor=E(Il);_platform=E(cn);_ngZone=E(Be);_renderer=E(Wn);_interactivityChecker=E(Kb);_doc=E(Vt);_container=E(SA,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=gr(t)}_disableClose=!1;get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=gr(t)),this._autoFocus=t}_autoFocus;get opened(){return this._opened()}set opened(t){this.toggle(gr(t))}_opened=gi(!1);_openedVia;_animationStarted=new je;_animationEnd=new je;openedChange=new _t(!0);_openedStream=this.openedChange.pipe(ui(t=>t),On(()=>{}));openedStart=this._animationStarted.pipe(ui(()=>this.opened),CA(void 0));_closedStream=this.openedChange.pipe(ui(t=>!t),On(()=>{}));closedStart=this._animationStarted.pipe(ui(()=>!this.opened),CA(void 0));_destroyed=new je;onPositionChanged=new _t;_content;_modeChanged=new je;_injector=E(Ft);_changeDetectorRef=E(Wt);constructor(){this.openedChange.pipe(vn(this._destroyed)).subscribe(t=>{t?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{const t=this._elementRef.nativeElement;$b(t,"keydown").pipe(ui(i=>27===i.keyCode&&!this.disableClose&&!ca(i)),vn(this._destroyed)).subscribe(i=>this._ngZone.run(()=>{this.close(),i.stopPropagation(),i.preventDefault()})),this._eventCleanups=[this._renderer.listen(t,"transitionrun",this._handleTransitionEvent),this._renderer.listen(t,"transitionend",this._handleTransitionEvent),this._renderer.listen(t,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{o(),s(),t.removeAttribute("tabindex")},o=this._renderer.listen(t,"blur",r),s=this._renderer.listen(t,"mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":zi(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof t.focus&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(t=>t()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return t===this.opened?Promise.resolve(t?"open":"close"):(this._opened.set(t),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",t),!t&&i&&this._restoreFocus(r),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(di(1)).subscribe(s=>o(s?"open":"close"))}))}_setIsAnimating(t){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",t)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}_handleTransitionEvent=t=>{t.target===this._elementRef.nativeElement&&this._ngZone.run(()=>{"transitionrun"===t.type?this._animationStarted.next(t):("transitionend"===t.type&&this._setIsAnimating(!1),this._animationEnd.next(t))})};static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&bt(lX,5),2&i){let o;Ze(o=Ye())&&(r._content=o.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){2&i&&(Ue("align",null)("tabIndex","side"!==r.mode?"-1":null),ei("visibility",r._container||r.opened?null:"hidden"),ot("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:DA,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){1&i&&(Xn(),ue(0,"div",1,0),At(2),pe())},dependencies:[mu],encapsulation:2,changeDetection:0})}return e})(),MA=(()=>{class e{_dir=E(Er,{optional:!0});_element=E(ut);_ngZone=E(Be);_changeDetectorRef=E(Wt);_animationDisabled=Ci();_transitionsEnabled=!1;_allDrawers;_drawers=new Ua;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=gr(t)}_autosize=E(fX);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:gr(t)}_backdropOverride;backdropClick=new _t;_start;_end;_left;_right;_destroyed=new je;_doCheckSubject=new je;_contentMargins={left:null,right:null};_contentMarginChanges=new je;get scrollable(){return this._userContent||this._content}_injector=E(Ft);constructor(){const t=E(cn),i=E(gu);this._dir?.change.pipe(vn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(vn(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&t.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Ao(this._allDrawers),vn(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ao(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(sa(10),vn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(vn(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(vn(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t.onPositionChanged.pipe(vn(this._drawers.changes)).subscribe(()=>{zi({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(t){t._modeChanged.pipe(vn(oa(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(Ii(o,ip,5),Ii(o,IA,5)),2&i){let s;Ze(s=Ye())&&(r._content=s.first),Ze(s=Ye())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&bt(ip,5),2&i){let o;Ze(o=Ye())&&(r._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&ot("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Rt([{provide:SA,useExisting:e}])],ngContentSelectors:uX,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(Xn(cX),Xe(0,dX,1,2,"div",0),At(1),At(2,1),Xe(3,hX,2,0,"mat-drawer-content")),2&i&&(qe(r.hasBackdrop?0:-1),se(3),qe(r._content?-1:3))},dependencies:[ip],styles:[".mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0})}return e})(),mX=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=eo({type:e});static \u0275inj=Pr({imports:[EA,LM,LM,EA]})}return e})();var rr=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(rr||{});class gX{_renderer;element;config;_animationForciblyDisabledThroughCss;state=rr.HIDDEN;constructor(n,t,i,r=!1){this._renderer=n,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}}const RA=ep({passive:!0,capture:!0});class _X{_events=new Map;addHandler(n,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,RA)})}removeHandler(n,t,i){const r=this._events.get(n);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,RA)))}_delegateEventHandler=n=>{const t=So(n);t&&this._events.get(n.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(n))})}}const rp={enterDuration:225,exitDuration:150},AA=ep({passive:!0,capture:!0}),kA=["mousedown","touchstart"],OA=["mouseup","mouseleave","touchend","touchcancel"];let bX=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}\n"],encapsulation:2,changeDetection:0})}return e})();class Au{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new _X;constructor(n,t,i,r,o){this._target=n,this._ngZone=t,this._platform=r,r.isBrowser&&(this._containerElement=Mo(i)),o&&o.get(to).load(bX)}fadeInRipple(n,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...rp,...i.animation};i.centered&&(n=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function yX(e,n,t){const i=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),r=Math.max(Math.abs(n-t.top),Math.abs(n-t.bottom));return Math.sqrt(i*i+r*r)}(n,t,r),a=n-r.left,u=t-r.top,p=o.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=a-s+"px",y.style.top=u-s+"px",y.style.height=2*s+"px",y.style.width=2*s+"px",null!=i.color&&(y.style.backgroundColor=i.color),y.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(y);const x=window.getComputedStyle(y),B=x.transitionDuration,Q="none"===x.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,ie=new gX(this,y,i,Q);y.style.transform="scale3d(1, 1, 1)",ie.state=rr.FADING_IN,i.persistent||(this._mostRecentTransientRipple=ie);let ee=null;return!Q&&(p||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const te=()=>{ee&&(ee.fallbackTimer=null),clearTimeout(xe),this._finishRippleTransition(ie)},oe=()=>this._destroyRipple(ie),xe=setTimeout(oe,p+100);y.addEventListener("transitionend",te),y.addEventListener("transitioncancel",oe),ee={onTransitionEnd:te,onTransitionCancel:oe,fallbackTimer:xe}}),this._activeRipples.set(ie,ee),(Q||!p)&&this._finishRippleTransition(ie),ie}fadeOutRipple(n){if(n.state===rr.FADING_OUT||n.state===rr.HIDDEN)return;const t=n.element,i={...rp,...n.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",n.state=rr.FADING_OUT,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const t=Mo(n);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,kA.forEach(i=>{Au._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{OA.forEach(t=>{this._triggerElement.addEventListener(t,this,AA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===rr.FADING_IN?this._startFadeOutTransition(n):n.state===rr.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){const t=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=rr.VISIBLE,!i&&(!t||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const t=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=rr.HIDDEN,null!==t&&(n.element.removeEventListener("transitionend",t.onTransitionEnd),n.element.removeEventListener("transitioncancel",t.onTransitionCancel),null!==t.fallbackTimer&&clearTimeout(t.fallbackTimer)),n.element.remove()}_onMousedown(n){const t=hA(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!fA(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=n.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(n.state===rr.VISIBLE||n.config.terminateOnPointerUp&&n.state===rr.FADING_IN)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(kA.forEach(t=>Au._eventManager.removeHandler(t,n,this)),this._pointerUpEventsRegistered&&(OA.forEach(t=>n.removeEventListener(t,this,AA)),this._pointerUpEventsRegistered=!1))}}const ty=new fe("mat-ripple-global-options");let ku=(()=>{class e{_elementRef=E(ut);_animationsDisabled=Ci();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){const t=E(Be),i=E(cn),r=E(ty,{optional:!0}),o=E(Ft);this._globalOptions=r||{},this._rippleRenderer=new Au(this,t,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,...this._animationsDisabled?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&ot("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})();const wX={capture:!0},CX=["focus","mousedown","mouseenter","touchstart"],ny="mat-ripple-loader-uninitialized",iy="mat-ripple-loader-class-name",PA="mat-ripple-loader-centered",op="mat-ripple-loader-disabled";let xX=(()=>{class e{_document=E(Vt);_animationsDisabled=Ci();_globalRippleOptions=E(ty,{optional:!0});_platform=E(cn);_ngZone=E(Be);_injector=E(Ft);_eventCleanups;_hosts=new Map;constructor(){const t=E(xr).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>CX.map(i=>t.listen(this._document,i,this._onInteraction,wX)))}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(t,i){t.setAttribute(ny,this._globalRippleOptions?.namespace??""),(i.className||!t.hasAttribute(iy))&&t.setAttribute(iy,i.className||""),i.centered&&t.setAttribute(PA,""),i.disabled&&t.setAttribute(op,"")}setDisabled(t,i){const r=this._hosts.get(t);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(t))):i?t.setAttribute(op,""):t.removeAttribute(op)}_onInteraction=t=>{const i=So(t);if(i instanceof HTMLElement){const r=i.closest(`[${ny}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(iy)),t.append(i);const r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??rp.enterDuration,s=this._animationsDisabled?0:r?.animation?.exitDuration??rp.exitDuration,a={rippleDisabled:this._animationsDisabled||r?.disabled||t.hasAttribute(op),rippleConfig:{centered:t.hasAttribute(PA),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},u=new Au(a,this._ngZone,i,this._platform,this._injector),p=!a.rippleDisabled;p&&u.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:u,hasSetUpEvents:p}),t.removeAttribute(ny)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sp=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}\n'],encapsulation:2,changeDetection:0})}return e})();const TX=["mat-icon-button",""],EX=["*"],DX=new fe("MAT_BUTTON_CONFIG");function NA(e){return null==e?void 0:yi(e)}let ap=(()=>{class e{_elementRef=E(ut);_ngZone=E(Be);_animationsDisabled=Ci();_config=E(DX,{optional:!0});_focusMonitor=E(Il);_cleanupClick;_renderer=E(Wn);_rippleLoader=E(xX);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){E(to).load(sp);const t=this._elementRef.nativeElement;this._isAnchor="A"===t.tagName,this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:this._isAnchor?this.disabled||null:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor&&this.disabled&&!this.disabledInteractive?-1:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,r){2&i&&(Ue("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),Br(r.color?"mat-"+r.color:""),ot("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Ht],disabled:[2,"disabled","disabled",Ht],ariaDisabled:[2,"aria-disabled","ariaDisabled",Ht],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ht],tabIndex:[2,"tabIndex","tabIndex",NA],_tabindex:[2,"tabindex","_tabindex",NA]}})}return e})(),cs=(()=>{class e extends ap{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[Ct],attrs:TX,ngContentSelectors:EX,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Xn(),mn(0,"span",0),At(1),mn(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}\n',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}\n"],encapsulation:2,changeDetection:0})}return e})();const SX=["matButton",""],ry=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],oy=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],IX=["mat-fab",""],MX=["mat-mini-fab",""],FA=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]);let sy=(()=>{class e extends ap{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();const t=function AX(e){return e.hasAttribute("mat-raised-button")?"elevated":e.hasAttribute("mat-stroked-button")?"outlined":e.hasAttribute("mat-flat-button")?"filled":e.hasAttribute("mat-button")?"text":null}(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;const i=this._elementRef.nativeElement.classList,r=this._appearance?FA.get(this._appearance):null,o=FA.get(t);r&&i.remove(...r),i.add(...o),this._appearance=t}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Ct],attrs:SX,ngContentSelectors:oy,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Xn(ry),mn(0,"span",0),At(1),$t(2,"span",1),At(3,1),Zt(),At(4,2),mn(5,"span",2)(6,"span",3)),2&i&&ot("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}\n',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}\n"],encapsulation:2,changeDetection:0})}return e})();const LA=new fe("mat-mdc-fab-default-options",{providedIn:"root",factory:BA});function BA(){return{color:"accent"}}const lp=BA();let kX=(()=>{class e extends ap{_options=E(LA,{optional:!0});_isFab=!0;extended;constructor(){super(),this._options=this._options||lp,this.color=this._options.color||lp.color}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["button","mat-fab",""],["a","mat-fab",""],["button","matFab",""],["a","matFab",""]],hostAttrs:[1,"mdc-fab","mat-mdc-fab-base","mat-mdc-fab"],hostVars:4,hostBindings:function(i,r){2&i&&ot("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended)},inputs:{extended:[2,"extended","extended",Ht]},exportAs:["matButton","matAnchor"],features:[Ct],attrs:IX,ngContentSelectors:oy,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Xn(ry),mn(0,"span",0),At(1),$t(2,"span",1),At(3,1),Zt(),At(4,2),mn(5,"span",2)(6,"span",3)),2&i&&ot("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mat-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:hover{box-shadow:var(--mat-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-fab:focus{box-shadow:var(--mat-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mat-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-touch-target-size, 48px);display:var(--mat-fab-touch-target-display, block);left:50%;width:var(--mat-fab-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mat-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-small-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:hover{box-shadow:var(--mat-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mat-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mat-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-small-touch-target-size, 48px);display:var(--mat-fab-small-touch-target-display);left:50%;width:var(--mat-fab-small-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mat-fab-extended-container-elevation-shadow, var(--mat-sys-level3));height:var(--mat-fab-extended-container-height, 56px);border-radius:var(--mat-fab-extended-container-shape, var(--mat-sys-corner-large));font-family:var(--mat-fab-extended-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-fab-extended-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-fab-extended-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-fab-extended-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-extended-fab:hover{box-shadow:var(--mat-fab-extended-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mat-fab-extended-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mat-fab-extended-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}\n'],encapsulation:2,changeDetection:0})}return e})(),OX=(()=>{class e extends ap{_options=E(LA,{optional:!0});_isFab=!0;constructor(){super(),this._options=this._options||lp,this.color=this._options.color||lp.color}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["button","mat-mini-fab",""],["a","mat-mini-fab",""],["button","matMiniFab",""],["a","matMiniFab",""]],hostAttrs:[1,"mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"],exportAs:["matButton","matAnchor"],features:[Ct],attrs:MX,ngContentSelectors:oy,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Xn(ry),mn(0,"span",0),At(1),$t(2,"span",1),At(3,1),Zt(),At(4,2),mn(5,"span",2)(6,"span",3)),2&i&&ot("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mat-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:hover{box-shadow:var(--mat-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-fab:focus{box-shadow:var(--mat-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mat-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-touch-target-size, 48px);display:var(--mat-fab-touch-target-display, block);left:50%;width:var(--mat-fab-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mat-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-small-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:hover{box-shadow:var(--mat-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mat-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mat-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-small-touch-target-size, 48px);display:var(--mat-fab-small-touch-target-display);left:50%;width:var(--mat-fab-small-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mat-fab-extended-container-elevation-shadow, var(--mat-sys-level3));height:var(--mat-fab-extended-container-height, 56px);border-radius:var(--mat-fab-extended-container-shape, var(--mat-sys-corner-large));font-family:var(--mat-fab-extended-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-fab-extended-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-fab-extended-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-fab-extended-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-extended-fab:hover{box-shadow:var(--mat-fab-extended-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mat-fab-extended-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mat-fab-extended-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}\n'],encapsulation:2,changeDetection:0})}return e})();const Fn_Handset="(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Fn_TabletPortrait="(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)";function PX(e,n){if(1&e){const t=Yt();ue(0,"div",1)(1,"button",2),ze("click",function(){return Je(t),$e(Ie().action())}),Ne(2),pe()()}if(2&e){const t=Ie();se(2),ts(" ",t.data.action," ")}}const NX=["label"];function FX(e,n){}const LX=Math.pow(2,31)-1;class ay{_overlayRef;instance;containerInstance;_afterDismissed=new je;_afterOpened=new je;_onAction=new je;_durationTimeoutId;_dismissedByAction=!1;constructor(n,t){this._overlayRef=t,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,LX))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const HA=new fe("MatSnackBarData");class cp{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"}let VA=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return e})(),zA=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return e})(),jA=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return e})(),BX=(()=>{class e{snackBarRef=E(ay);data=E(HA);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(ue(0,"div",0),Ne(1),pe(),Xe(2,PX,3,1,"div",1)),2&i&&(se(),ts(" ",r.data.message,"\n"),se(),qe(r.hasAction?2:-1))},dependencies:[sy,VA,zA,jA],styles:[".mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}\n"],encapsulation:2,changeDetection:0})}return e})();const ly="_mat-snack-bar-enter",cy="_mat-snack-bar-exit";let UA=(()=>{class e extends kf{_ngZone=E(Be);_elementRef=E(ut);_changeDetectorRef=E(Wt);_platform=E(cn);_animationsDisabled=Ci();snackBarConfig=E(cp);_document=E(Vt);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=E(Ft);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new je;_onExit=new je;_onEnter=new je;_animationState="void";_live;_label;_role;_liveElementId=E(Dr).getId("mat-snack-bar-container-live-");constructor(){super();const t=this.snackBarConfig;this._live="assertive"!==t.politeness||t.announcementMessage?"off"===t.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}attachDomPortal=t=>{this._assertNotAttached();const i=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),i};onAnimationEnd(t){t===cy?this._completeExit():t===ly&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?zi(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(ly)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(ly)},200)))}exit(){return this._destroyed?Ui(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?zi(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(cy)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(cy),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>t.classList.add(s)):t.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;const t=this._elementRef.nativeElement,i=t.querySelector("[aria-hidden]"),r=t.querySelector("[aria-live]");if(i&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&(bt(ta,7),bt(NX,7)),2&i){let o;Ze(o=Ye())&&(r._portalOutlet=o.first),Ze(o=Ye())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){1&i&&ze("animationend",function(s){return r.onAnimationEnd(s.animationName)})("animationcancel",function(s){return r.onAnimationEnd(s.animationName)}),2&i&&ot("mat-snack-bar-container-enter","visible"===r._animationState)("mat-snack-bar-container-exit","hidden"===r._animationState)("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[Ct],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(ue(0,"div",1)(1,"div",2,0)(3,"div",3),Vi(4,FX,0,0,"ng-template",4),pe(),Mt(5,"div"),pe()()),2&i&&(se(5),Ue("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[ta],styles:["@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}\n"],encapsulation:2})}return e})();const VX=new fe("mat-snack-bar-default-options",{providedIn:"root",factory:function HX(){return new cp}});let GA=(()=>{class e{_live=E(A7);_injector=E(Ft);_breakpointObserver=E(mr);_parentSnackBar=E(e,{optional:!0,skipSelf:!0});_defaultConfig=E(VX);_animationsDisabled=Ci();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=BX;snackBarContainerComponent=UA;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const o={...this._defaultConfig,...r};return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const o=Ft.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:cp,useValue:i}]}),s=new Tl(this.snackBarContainerComponent,i.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r={...new cp,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new ay(s,o);if(t instanceof Hi){const u=new _u(t,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(u)}else{const u=this._createInjector(r,a),p=new Tl(t,void 0,u),y=s.attachComponentPortal(p);a.instance=y.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(vn(o.detachments())).subscribe(u=>{o.overlayElement.classList.toggle(this.handsetCssClass,u.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){const i=new hb;i.direction=t.direction;const r=fb(),o="rtl"===t.direction,s="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,a=!s&&"center"!==t.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,i.disableAnimations=this._animationsDisabled,pb(this._injector,i)}_createInjector(t,i){return Ft.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:ay,useValue:i},{provide:HA,useValue:t.data}]})}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uy(e){return Qn((n,t)=>{let o,i=null,r=!1;i=n.subscribe(kn(t,void 0,void 0,s=>{o=wi(e(s,uy(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Ou(e,n,t){const i=b(e)||n||t?{next:e,error:n,complete:t}:e;return i?Qn((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(kn(o,u=>{var p;null===(p=i.next)||void 0===p||p.call(i,u),o.next(u)},()=>{var u;a=!1,null===(u=i.complete)||void 0===u||u.call(i),o.complete()},u=>{var p;a=!1,null===(p=i.error)||void 0===p||p.call(i,u),o.error(u)},()=>{var u,p;a&&(null===(u=i.unsubscribe)||void 0===u||u.call(i)),null===(p=i.finalize)||void 0===p||p.call(i)}))}):Ta}function WA(e){return new tn(n=>{wi(e()).subscribe(n)})}function UX(e,n){}class Pu{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext}let XA=(()=>{class e extends kf{_elementRef=E(ut);_focusTrapFactory=E(cA);_config;_interactivityChecker=E(Kb);_ngZone=E(Be);_focusMonitor=E(Il);_renderer=E(Wn);_changeDetectorRef=E(Wt);_injector=E(Ft);_platform=E(cn);_document=E(Vt);_portalOutlet;_focusTrapped=new je;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=E(Pu,{optional:!0})||new Pu,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}attachDomPortal=t=>{this._portalOutlet.hasAttached();const i=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{o(),s(),t.removeAttribute("tabindex")},o=this._renderer.listen(t,"blur",r),s=this._renderer.listen(t,"mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(t){this._isDestroyed||zi(()=>{const i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(t);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(t)||this._focusDialogContainer(t);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',t);break;default:this._focusByCssSelector(this._config.autoFocus,t)}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=qv(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(t){this._elementRef.nativeElement.focus?.(t)}_containsFocus(){const t=this._elementRef.nativeElement,i=qv();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=qv()))}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&bt(ta,7),2&i){let o;Ze(o=Ye())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Ue("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ct],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Vi(0,UX,0,0,"ng-template",0)},dependencies:[ta],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}\n"],encapsulation:2})}return e})();class dy{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new je;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(n,t){this.overlayRef=n,this.config=t,this.disableClose=t.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ca(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=n.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(n,t){if(this._canClose(n)){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(n),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",t=""){return this.overlayRef.updateSize({width:n,height:t}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}_canClose(n){const t=this.config;return!!this.containerInstance&&(!t.closePredicate||t.closePredicate(n,t,this.componentInstance))}}const GX=new fe("DialogScrollStrategy",{providedIn:"root",factory:()=>{const e=E(Ft);return()=>HM(e)}}),WX=new fe("DialogData"),XX=new fe("DefaultDialogConfig");function qX(e){const n=gi(e),t=new _t;return{valueSignal:n,get value(){return n()},change:t,ngOnDestroy(){t.complete()}}}let ZX=(()=>{class e{_injector=E(Ft);_defaultOptions=E(XX,{optional:!0});_parentDialog=E(e,{optional:!0,skipSelf:!0});_overlayContainer=E(vu);_idGenerator=E(Dr);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new je;_afterOpenedAtThisLevel=new je;_ariaHiddenElements=new Map;_scrollStrategy=E(GX);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=WA(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ao(void 0)));constructor(){}open(t,i){(i={...this._defaultOptions||new Pu,...i}).id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=pb(this._injector,o),a=new dy(s,i),u=this._attachContainer(s,a,i);if(a.containerInstance=u,!this.openDialogs.length){const p=this._overlayContainer.getContainerElement();u._focusTrapped?u._focusTrapped.pipe(di(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(p)}):this._hideNonDialogContentFromAssistiveTechnology(p)}return this._attachDialogContent(t,a,u,i),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){hy(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){hy(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),hy(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new hb({positionStrategy:t.positionStrategy||fb().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation,disableAnimations:t.disableAnimations});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:Pu,useValue:r},{provide:dy,useValue:i},{provide:WM,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=XA;const u=new Tl(a,r.viewContainerRef,Ft.create({parent:o||this._injector,providers:s}));return t.attach(u).instance}_attachDialogContent(t,i,r,o){if(t instanceof Hi){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new _u(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Tl(t,o.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:WX,useValue:t.data},{provide:dy,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(Er,null,{optional:!0}))&&a.push({provide:Er,useValue:qX(t.direction)}),Ft.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(t){if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hy(e,n){let t=e.length;for(;t--;)n(e[t])}function YX(e,n){}class qA{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration}const fy="mdc-dialog--open",ZA="mdc-dialog--opening",YA="mdc-dialog--closing";let KA=(()=>{class e extends XA{_animationStateChanged=new _t;_animationsEnabled=!Ci();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?JA(this._config.enterAnimationDuration)??150:0;_exitAnimationDuration=this._animationsEnabled?JA(this._config.exitAnimationDuration)??75:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(QA,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ZA,fy)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(fy),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(fy),this._animationsEnabled?(this._hostElement.style.setProperty(QA,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(YA)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(ZA,YA)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static \u0275cmp=it({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(fr("id",r._config.id),Ue("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),ot("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[Ct],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(ue(0,"div",0)(1,"div",1),Vi(2,YX,0,0,"ng-template",2),pe()())},dependencies:[ta],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}\n'],encapsulation:2})}return e})();const QA="--mat-dialog-transition-duration";function JA(e){return null==e?null:"number"==typeof e?e:e.endsWith("ms")?fu(e.substring(0,e.length-2)):e.endsWith("s")?1e3*fu(e.substring(0,e.length-1)):"0"===e?0:null}var io=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(io||{});class Ml{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new je;_beforeClosed=new je;_result;_closeFallbackTimeout;_state=io.OPEN;_closeInteractionType;constructor(n,t,i){this._ref=n,this._config=t,this._containerInstance=i,this.disableClose=t.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(ui(r=>"opened"===r.state),di(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ui(r=>"closed"===r.state),di(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),oa(this.backdropClick(),this.keydownEvents().pipe(ui(r=>27===r.keyCode&&!this.disableClose&&!ca(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),$A(this,"keydown"===r.type?"keyboard":"mouse"))})}close(n){const t=this._config.closePredicate;t&&!t(n,this._config,this.componentInstance)||(this._result=n,this._containerInstance._animationStateChanged.pipe(ui(i=>"closing"===i.state),di(1)).subscribe(i=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=io.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let t=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?t.left(n.left):t.right(n.right):t.centerHorizontally(),n&&(n.top||n.bottom)?n.top?t.top(n.top):t.bottom(n.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",t=""){return this._ref.updateSize(n,t),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=io.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function $A(e,n,t){return e._closeInteractionType=n,e.close(t)}const JX=new fe("MatMdcDialogData"),$X=new fe("mat-mdc-dialog-default-options"),eq=new fe("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const e=E(Ft);return()=>HM(e)}});let us=(()=>{class e{_defaultOptions=E($X,{optional:!0});_scrollStrategy=E(eq);_parentDialog=E(e,{optional:!0,skipSelf:!0});_idGenerator=E(Dr);_injector=E(Ft);_dialog=E(ZX);_animationsDisabled=Ci();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new je;_afterOpenedAtThisLevel=new je;dialogConfigClass=qA;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=WA(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ao(void 0)));constructor(){this._dialogRefConstructor=Ml,this._dialogContainerType=KA,this._dialogDataToken=JX}open(t,i){let r;(i={...this._defaultOptions||new qA,...i}).id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:fb().centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||"0"===i.enterAnimationDuration?.toLocaleString()||"0"===i.exitAnimationDuration?.toString(),container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Pu,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,u)=>(r=new this._dialogRefConstructor(s,i,u),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ua=(()=>{class e{dialogRef=E(Ml,{optional:!0});_elementRef=E(ut);_dialog=E(us);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=nk(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){$A(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&ze("click",function(s){return r._onButtonClick(s)}),2&i&&Ue("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[dr]})}return e})(),ek=(()=>{class e{_dialogRef=E(Ml,{optional:!0});_elementRef=E(ut);_dialog=E(us);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=nk(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e})}return e})(),da=(()=>{class e extends ek{id=E(Dr).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static \u0275dir=Ae({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&fr("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[Ct]})}return e})(),ha=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[vE([mu])]})}return e})(),tk=(()=>{class e extends ek{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static \u0275dir=Ae({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){2&i&&ot("mat-mdc-dialog-actions-align-start","start"===r.align)("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"},features:[Ct]})}return e})();function nk(e,n){let t=e.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?n.find(i=>i.id===t.id):null}function tq(){}function py(e){return null==e?tq:function(){return this.querySelector(e)}}function rq(){return[]}function ik(e){return null==e?rq:function(){return this.querySelectorAll(e)}}function rk(e){return function(){return this.matches(e)}}function ok(e){return function(n){return n.matches(e)}}var aq=Array.prototype.find;function cq(){return this.firstElementChild}var dq=Array.prototype.filter;function hq(){return Array.from(this.children)}function sk(e){return new Array(e.length)}function up(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}function vq(e,n,t,i,r,o){for(var a,s=0,u=n.length,p=o.length;s<p;++s)(a=n[s])?(a.__data__=o[s],i[s]=a):t[s]=new up(e,o[s]);for(;s<u;++s)(a=n[s])&&(r[s]=a)}function bq(e,n,t,i,r,o,s){var a,u,B,p=new Map,y=n.length,x=o.length,F=new Array(y);for(a=0;a<y;++a)(u=n[a])&&(F[a]=B=s.call(u,u.__data__,a,n)+"",p.has(B)?r[a]=u:p.set(B,u));for(a=0;a<x;++a)B=s.call(e,o[a],a,o)+"",(u=p.get(B))?(i[a]=u,u.__data__=o[a],p.delete(B)):t[a]=new up(e,o[a]);for(a=0;a<y;++a)(u=n[a])&&p.get(F[a])===u&&(r[a]=u)}function yq(e){return e.__data__}function Cq(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Iq(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}up.prototype={constructor:up,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var my="http://www.w3.org/1999/xhtml";const ak={svg:"http://www.w3.org/2000/svg",xhtml:my,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dp(e){var n=e+="",t=n.indexOf(":");return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),ak.hasOwnProperty(n)?{space:ak[n],local:e}:e}function Nq(e){return function(){this.removeAttribute(e)}}function Fq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Lq(e,n){return function(){this.setAttribute(e,n)}}function Bq(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function Hq(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function Vq(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function lk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function jq(e){return function(){this.style.removeProperty(e)}}function Uq(e,n,t){return function(){this.style.setProperty(e,n,t)}}function Gq(e,n,t){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}function Rl(e,n){return e.style.getPropertyValue(n)||lk(e).getComputedStyle(e,null).getPropertyValue(n)}function Xq(e){return function(){delete this[e]}}function qq(e,n){return function(){this[e]=n}}function Zq(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function ck(e){return e.trim().split(/^|\s+/)}function gy(e){return e.classList||new uk(e)}function uk(e){this._node=e,this._names=ck(e.getAttribute("class")||"")}function dk(e,n){for(var t=gy(e),i=-1,r=n.length;++i<r;)t.add(n[i])}function hk(e,n){for(var t=gy(e),i=-1,r=n.length;++i<r;)t.remove(n[i])}function Kq(e){return function(){dk(this,e)}}function Qq(e){return function(){hk(this,e)}}function Jq(e,n){return function(){(n.apply(this,arguments)?dk:hk)(this,e)}}function eZ(){this.textContent=""}function tZ(e){return function(){this.textContent=e}}function nZ(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function rZ(){this.innerHTML=""}function oZ(e){return function(){this.innerHTML=e}}function sZ(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function lZ(){this.nextSibling&&this.parentNode.appendChild(this)}function uZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hZ(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===my&&n.documentElement.namespaceURI===my?n.createElement(e):n.createElementNS(t,e)}}function fZ(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fk(e){var n=dp(e);return(n.local?fZ:hZ)(n)}function mZ(){return null}function _Z(){var e=this.parentNode;e&&e.removeChild(this)}function bZ(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function yZ(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function EZ(e){return function(){var n=this.__on;if(n){for(var o,t=0,i=-1,r=n.length;t<r;++t)o=n[t],e.type&&o.type!==e.type||o.name!==e.name?n[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?n.length=i:delete this.__on}}}function DZ(e,n,t){return function(){var r,i=this.__on,o=function xZ(e){return function(n){e.call(this,n,this.__data__)}}(n);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=t),void(r.value=n);this.addEventListener(e.type,o,t),r={type:e.type,name:e.name,value:n,listener:o,options:t},i?i.push(r):this.__on=[r]}}function pk(e,n,t){var i=lk(e),r=i.CustomEvent;"function"==typeof r?r=new r(n,t):(r=i.document.createEvent("Event"),t?(r.initEvent(n,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}function IZ(e,n){return function(){return pk(this,e,n)}}function MZ(e,n){return function(){return pk(this,e,n.apply(this,arguments))}}uk.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var mk=[null];function _r(e,n){this._groups=e,this._parents=n}function gk(){return new _r([[document.documentElement]],mk)}_r.prototype=gk.prototype={constructor:_r,select:function nq(e){"function"!=typeof e&&(e=py(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var u,p,o=n[r],s=o.length,a=i[r]=new Array(s),y=0;y<s;++y)(u=o[y])&&(p=e.call(u,u.__data__,y,o))&&("__data__"in u&&(p.__data__=u.__data__),a[y]=p);return new _r(i,this._parents)},selectAll:function sq(e){e="function"==typeof e?function oq(e){return function(){return function iq(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):ik(e);for(var n=this._groups,t=n.length,i=[],r=[],o=0;o<t;++o)for(var u,s=n[o],a=s.length,p=0;p<a;++p)(u=s[p])&&(i.push(e.call(u,u.__data__,p,s)),r.push(u));return new _r(i,r)},selectChild:function uq(e){return this.select(null==e?cq:function lq(e){return function(){return aq.call(this.children,e)}}("function"==typeof e?e:ok(e)))},selectChildren:function pq(e){return this.selectAll(null==e?hq:function fq(e){return function(){return dq.call(this.children,e)}}("function"==typeof e?e:ok(e)))},filter:function mq(e){"function"!=typeof e&&(e=rk(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var u,o=n[r],s=o.length,a=i[r]=[],p=0;p<s;++p)(u=o[p])&&e.call(u,u.__data__,p,o)&&a.push(u);return new _r(i,this._parents)},data:function wq(e,n){if(!arguments.length)return Array.from(this,yq);var t=n?bq:vq,i=this._parents,r=this._groups;"function"!=typeof e&&(e=function _q(e){return function(){return e}}(e));for(var o=r.length,s=new Array(o),a=new Array(o),u=new Array(o),p=0;p<o;++p){var y=i[p],x=r[p],F=x.length,B=Cq(e.call(y,y&&y.__data__,p,i)),Q=B.length,ie=a[p]=new Array(Q),ee=s[p]=new Array(Q);t(y,x,ie,ee,u[p]=new Array(F),B,n);for(var Oe,Le,oe=0,xe=0;oe<Q;++oe)if(Oe=ie[oe]){for(oe>=xe&&(xe=oe+1);!(Le=ee[xe])&&++xe<Q;);Oe._next=Le||null}}return(s=new _r(s,i))._enter=a,s._exit=u,s},enter:function gq(){return new _r(this._enter||this._groups.map(sk),this._parents)},exit:function xq(){return new _r(this._exit||this._groups.map(sk),this._parents)},join:function Tq(e,n,t){var i=this.enter(),r=this,o=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=n&&(r=n(r))&&(r=r.selection()),null==t?o.remove():t(o),i&&r?i.merge(r).order():r},merge:function Eq(e){for(var n=e.selection?e.selection():e,t=this._groups,i=n._groups,r=t.length,s=Math.min(r,i.length),a=new Array(r),u=0;u<s;++u)for(var B,p=t[u],y=i[u],x=p.length,F=a[u]=new Array(x),Q=0;Q<x;++Q)(B=p[Q]||y[Q])&&(F[Q]=B);for(;u<r;++u)a[u]=t[u];return new _r(a,this._parents)},selection:function kZ(){return this},order:function Dq(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var s,i=e[n],r=i.length-1,o=i[r];--r>=0;)(s=i[r])&&(o&&4^s.compareDocumentPosition(o)&&o.parentNode.insertBefore(s,o),o=s);return this},sort:function Sq(e){function n(x,F){return x&&F?e(x.__data__,F.__data__):!x-!F}e||(e=Iq);for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o){for(var p,s=t[o],a=s.length,u=r[o]=new Array(a),y=0;y<a;++y)(p=s[y])&&(u[y]=p);u.sort(n)}return new _r(r,this._parents).order()},call:function Mq(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function Rq(){return Array.from(this)},node:function Aq(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function kq(){let e=0;for(const n of this)++e;return e},empty:function Oq(){return!this.node()},each:function Pq(e){for(var n=this._groups,t=0,i=n.length;t<i;++t)for(var a,r=n[t],o=0,s=r.length;o<s;++o)(a=r[o])&&e.call(a,a.__data__,o,r);return this},attr:function zq(e,n){var t=dp(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==n?t.local?Fq:Nq:"function"==typeof n?t.local?Vq:Hq:t.local?Bq:Lq)(t,n))},style:function Wq(e,n,t){return arguments.length>1?this.each((null==n?jq:"function"==typeof n?Gq:Uq)(e,n,t??"")):Rl(this.node(),e)},property:function Yq(e,n){return arguments.length>1?this.each((null==n?Xq:"function"==typeof n?Zq:qq)(e,n)):this.node()[e]},classed:function $q(e,n){var t=ck(e+"");if(arguments.length<2){for(var i=gy(this.node()),r=-1,o=t.length;++r<o;)if(!i.contains(t[r]))return!1;return!0}return this.each(("function"==typeof n?Jq:n?Kq:Qq)(t,n))},text:function iZ(e){return arguments.length?this.each(null==e?eZ:("function"==typeof e?nZ:tZ)(e)):this.node().textContent},html:function aZ(e){return arguments.length?this.each(null==e?rZ:("function"==typeof e?sZ:oZ)(e)):this.node().innerHTML},raise:function cZ(){return this.each(lZ)},lower:function dZ(){return this.each(uZ)},append:function pZ(e){var n="function"==typeof e?e:fk(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function gZ(e,n){var t="function"==typeof e?e:fk(e),i=null==n?mZ:"function"==typeof n?n:py(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function vZ(){return this.each(_Z)},clone:function wZ(e){return this.select(e?yZ:bZ)},datum:function CZ(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function SZ(e,n,t){var r,s,i=function TZ(e){return e.trim().split(/^|\s+/).map(function(n){var t="",i=n.indexOf(".");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{type:n,name:t}})}(e+""),o=i.length;if(!(arguments.length<2)){for(a=n?DZ:EZ,r=0;r<o;++r)this.each(a(i[r],n,t));return this}var a=this.node().__on;if(a)for(var y,u=0,p=a.length;u<p;++u)for(r=0,y=a[u];r<o;++r)if((s=i[r]).type===y.type&&s.name===y.name)return y.value},dispatch:function RZ(e,n){return this.each(("function"==typeof n?MZ:IZ)(e,n))},[Symbol.iterator]:function*AZ(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var s,i=e[n],r=0,o=i.length;r<o;++r)(s=i[r])&&(yield s)}};const Nu=gk;var OZ={value:()=>{}};function _k(){for(var i,e=0,n=arguments.length,t={};e<n;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new hp(t)}function hp(e){this._=e}function NZ(e,n){for(var r,t=0,i=e.length;t<i;++t)if((r=e[t]).name===n)return r.value}function vk(e,n,t){for(var i=0,r=e.length;i<r;++i)if(e[i].name===n){e[i]=OZ,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=t&&e.push({name:n,value:t}),e}hp.prototype=_k.prototype={constructor:hp,on:function(e,n){var r,t=this._,i=function PZ(e,n){return e.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}(e+"",t),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<s;)if(r=(e=i[o]).type)t[r]=vk(t[r],e.name,n);else if(null==n)for(r in t)t[r]=vk(t[r],e.name,null);return this}for(;++o<s;)if((r=(e=i[o]).type)&&(r=NZ(t[r],e.name)))return r},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new hp(e)},call:function(e,n){if((r=arguments.length-2)>0)for(var r,o,t=new Array(r),i=0;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,r=(o=this._[e]).length;i<r;++i)o[i].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(n,t)}};const FZ=_k;var fp,Bu,Al=0,Fu=0,Lu=0,pp=0,fa=0,mp=0,Hu="object"==typeof performance&&performance.now?performance:Date,yk="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _y(){return fa||(yk(LZ),fa=Hu.now()+mp)}function LZ(){fa=0}function gp(){this._call=this._time=this._next=null}function wk(e,n,t){var i=new gp;return i.restart(e,n,t),i}function Ck(){fa=(pp=Hu.now())+mp,Al=Fu=0;try{!function BZ(){_y(),++Al;for(var n,e=fp;e;)(n=fa-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Al}()}finally{Al=0,function VZ(){for(var e,t,n=fp,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:fp=t);Bu=e,vy(i)}(),fa=0}}function HZ(){var e=Hu.now(),n=e-pp;n>1e3&&(mp-=n,pp=e)}function vy(e){Al||(Fu&&(Fu=clearTimeout(Fu)),e-fa>24?(e<1/0&&(Fu=setTimeout(Ck,e-Hu.now()-mp)),Lu&&(Lu=clearInterval(Lu))):(Lu||(pp=Hu.now(),Lu=setInterval(HZ,1e3)),Al=1,yk(Ck)))}function xk(e,n,t){var i=new gp;return i.restart(r=>{i.stop(),e(r+n)},n=null==n?0:+n,t),i}gp.prototype=wk.prototype={constructor:gp,restart:function(e,n,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?_y():+t)+(null==n?0:+n),!this._next&&Bu!==this&&(Bu?Bu._next=this:fp=this,Bu=this),this._call=e,this._time=t,vy()},stop:function(){this._call&&(this._call=null,this._time=1/0,vy())}};var zZ=FZ("start","end","cancel","interrupt"),jZ=[];function bp(e,n,t,i,r,o){var s=e.__transition;if(s){if(t in s)return}else e.__transition={};!function UZ(e,n,t){var r,i=e.__transition;function s(p){var y,x,F,B;if(1!==t.state)return u();for(y in i)if((B=i[y]).name===t.name){if(3===B.state)return xk(s);4===B.state?(B.state=6,B.timer.stop(),B.on.call("interrupt",e,e.__data__,B.index,B.group),delete i[y]):+y<n&&(B.state=6,B.timer.stop(),B.on.call("cancel",e,e.__data__,B.index,B.group),delete i[y])}if(xk(function(){3===t.state&&(t.state=4,t.timer.restart(a,t.delay,t.time),a(p))}),t.state=2,t.on.call("start",e,e.__data__,t.index,t.group),2===t.state){for(t.state=3,r=new Array(F=t.tween.length),y=0,x=-1;y<F;++y)(B=t.tween[y].value.call(e,e.__data__,t.index,t.group))&&(r[++x]=B);r.length=x+1}}function a(p){for(var y=p<t.duration?t.ease.call(null,p/t.duration):(t.timer.restart(u),t.state=5,1),x=-1,F=r.length;++x<F;)r[x].call(e,y);5===t.state&&(t.on.call("end",e,e.__data__,t.index,t.group),u())}function u(){for(var p in t.state=6,t.timer.stop(),delete i[n],i)return;delete e.__transition}i[n]=t,t.timer=wk(function o(p){t.state=1,t.timer.restart(s,t.delay,t.time),t.delay<=p&&s(p-t.delay)},0,t.time)}(e,t,{name:n,index:i,group:r,on:zZ,tween:jZ,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function wy(e,n){var t=zr(e,n);if(t.state>0)throw new Error("too late; already scheduled");return t}function ro(e,n){var t=zr(e,n);if(t.state>3)throw new Error("too late; already running");return t}function zr(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function ds(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var yp,Sk=180/Math.PI,Cy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ik(e,n,t,i,r,o){var s,a,u;return(s=Math.sqrt(e*e+n*n))&&(e/=s,n/=s),(u=e*t+n*i)&&(t-=e*u,i-=n*u),(a=Math.sqrt(t*t+i*i))&&(t/=a,i/=a,u/=a),e*i<n*t&&(e=-e,n=-n,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(n,e)*Sk,skewX:Math.atan(u)*Sk,scaleX:s,scaleY:a}}function Mk(e,n,t,i){function r(p){return p.length?p.pop()+" ":""}return function(p,y){var x=[],F=[];return p=e(p),y=e(y),function o(p,y,x,F,B,Q){if(p!==x||y!==F){var ie=B.push("translate(",null,n,null,t);Q.push({i:ie-4,x:ds(p,x)},{i:ie-2,x:ds(y,F)})}else(x||F)&&B.push("translate("+x+n+F+t)}(p.translateX,p.translateY,y.translateX,y.translateY,x,F),function s(p,y,x,F){p!==y?(p-y>180?y+=360:y-p>180&&(p+=360),F.push({i:x.push(r(x)+"rotate(",null,i)-2,x:ds(p,y)})):y&&x.push(r(x)+"rotate("+y+i)}(p.rotate,y.rotate,x,F),function a(p,y,x,F){p!==y?F.push({i:x.push(r(x)+"skewX(",null,i)-2,x:ds(p,y)}):y&&x.push(r(x)+"skewX("+y+i)}(p.skewX,y.skewX,x,F),function u(p,y,x,F,B,Q){if(p!==x||y!==F){var ie=B.push(r(B)+"scale(",null,",",null,")");Q.push({i:ie-4,x:ds(p,x)},{i:ie-2,x:ds(y,F)})}else(1!==x||1!==F)&&B.push(r(B)+"scale("+x+","+F+")")}(p.scaleX,p.scaleY,y.scaleX,y.scaleY,x,F),p=y=null,function(B){for(var ee,Q=-1,ie=F.length;++Q<ie;)x[(ee=F[Q]).i]=ee.x(B);return x.join("")}}}var ZZ=Mk(function XZ(e){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Cy:Ik(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),YZ=Mk(function qZ(e){return null!=e&&(yp||(yp=document.createElementNS("http://www.w3.org/2000/svg","g")),yp.setAttribute("transform",e),e=yp.transform.baseVal.consolidate())?Ik((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Cy},", ",")",")");function KZ(e,n){var t,i;return function(){var r=ro(this,e),o=r.tween;if(o!==t)for(var s=0,a=(i=t=o).length;s<a;++s)if(i[s].name===n){(i=i.slice()).splice(s,1);break}r.tween=i}}function QZ(e,n,t){var i,r;if("function"!=typeof t)throw new Error;return function(){var o=ro(this,e),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:n,value:t},u=0,p=r.length;u<p;++u)if(r[u].name===n){r[u]=a;break}u===p&&r.push(a)}o.tween=r}}function xy(e,n,t){var i=e._id;return e.each(function(){var r=ro(this,i);(r.value||(r.value={}))[n]=t.apply(this,arguments)}),function(r){return zr(r,i).value[n]}}function Ty(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function Rk(e,n){var t=Object.create(e.prototype);for(var i in n)t[i]=n[i];return t}function Vu(){}var wp=1/.7,kl="\\s*([+-]?\\d+)\\s*",ju="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$Z=/^#([0-9a-f]{3,8})$/,eY=new RegExp(`^rgb\\(${kl},${kl},${kl}\\)$`),tY=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),nY=new RegExp(`^rgba\\(${kl},${kl},${kl},${ju}\\)$`),iY=new RegExp(`^rgba\\(${oo},${oo},${oo},${ju}\\)$`),rY=new RegExp(`^hsl\\(${ju},${oo},${oo}\\)$`),oY=new RegExp(`^hsla\\(${ju},${oo},${oo},${ju}\\)$`),Ak={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function kk(){return this.rgb().formatHex()}function Ok(){return this.rgb().formatRgb()}function Uu(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=$Z.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?Pk(n):3===t?new or(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?Cp(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?Cp(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=eY.exec(e))?new or(n[1],n[2],n[3],1):(n=tY.exec(e))?new or(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=nY.exec(e))?Cp(n[1],n[2],n[3],n[4]):(n=iY.exec(e))?Cp(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=rY.exec(e))?Lk(n[1],n[2]/100,n[3]/100,1):(n=oY.exec(e))?Lk(n[1],n[2]/100,n[3]/100,n[4]):Ak.hasOwnProperty(e)?Pk(Ak[e]):"transparent"===e?new or(NaN,NaN,NaN,0):null}function Pk(e){return new or(e>>16&255,e>>8&255,255&e,1)}function Cp(e,n,t,i){return i<=0&&(e=n=t=NaN),new or(e,n,t,i)}function xp(e,n,t,i){return 1===arguments.length?function lY(e){return e instanceof Vu||(e=Uu(e)),e?new or((e=e.rgb()).r,e.g,e.b,e.opacity):new or}(e):new or(e,n,t,i??1)}function or(e,n,t,i){this.r=+e,this.g=+n,this.b=+t,this.opacity=+i}function Nk(){return`#${ma(this.r)}${ma(this.g)}${ma(this.b)}`}function Fk(){const e=Tp(this.opacity);return`${1===e?"rgb(":"rgba("}${pa(this.r)}, ${pa(this.g)}, ${pa(this.b)}${1===e?")":`, ${e})`}`}function Tp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ma(e){return((e=pa(e))<16?"0":"")+e.toString(16)}function Lk(e,n,t,i){return i<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new jr(e,n,t,i)}function Bk(e){if(e instanceof jr)return new jr(e.h,e.s,e.l,e.opacity);if(e instanceof Vu||(e=Uu(e)),!e)return new jr;if(e instanceof jr)return e;var n=(e=e.rgb()).r/255,t=e.g/255,i=e.b/255,r=Math.min(n,t,i),o=Math.max(n,t,i),s=NaN,a=o-r,u=(o+r)/2;return a?(s=n===o?(t-i)/a+6*(t<i):t===o?(i-n)/a+2:(n-t)/a+4,a/=u<.5?o+r:2-o-r,s*=60):a=u>0&&u<1?0:s,new jr(s,a,u,e.opacity)}function jr(e,n,t,i){this.h=+e,this.s=+n,this.l=+t,this.opacity=+i}function Hk(e){return(e=(e||0)%360)<0?e+360:e}function Ep(e){return Math.max(0,Math.min(1,e||0))}function Ey(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}function Vk(e,n,t,i,r){var o=e*e,s=o*e;return((1-3*e+3*o-s)*n+(4-6*o+3*s)*t+(1+3*e+3*o-3*s)*i+s*r)/6}Ty(Vu,Uu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kk,formatHex:kk,formatHex8:function sY(){return this.rgb().formatHex8()},formatHsl:function aY(){return Bk(this).formatHsl()},formatRgb:Ok,toString:Ok}),Ty(or,xp,Rk(Vu,{brighter(e){return e=null==e?wp:Math.pow(wp,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new or(pa(this.r),pa(this.g),pa(this.b),Tp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nk,formatHex:Nk,formatHex8:function cY(){return`#${ma(this.r)}${ma(this.g)}${ma(this.b)}${ma(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Fk,toString:Fk})),Ty(jr,function uY(e,n,t,i){return 1===arguments.length?Bk(e):new jr(e,n,t,i??1)},Rk(Vu,{brighter(e){return e=null==e?wp:Math.pow(wp,e),new jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*n,r=2*t-i;return new or(Ey(e>=240?e-240:e+120,r,i),Ey(e,r,i),Ey(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new jr(Hk(this.h),Ep(this.s),Ep(this.l),Tp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tp(this.opacity);return`${1===e?"hsl(":"hsla("}${Hk(this.h)}, ${100*Ep(this.s)}%, ${100*Ep(this.l)}%${1===e?")":`, ${e})`}`}}));const zk=e=>()=>e;function Uk(e,n){var t=n-e;return t?function jk(e,n){return function(t){return e+t*n}}(e,t):zk(isNaN(e)?n:e)}const Gk=function e(n){var t=function pY(e){return 1==(e=+e)?Uk:function(n,t){return t-n?function fY(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(i){return Math.pow(e+i*n,t)}}(n,t,e):zk(isNaN(n)?t:n)}}(n);function i(r,o){var s=t((r=xp(r)).r,(o=xp(o)).r),a=t(r.g,o.g),u=t(r.b,o.b),p=Uk(r.opacity,o.opacity);return function(y){return r.r=s(y),r.g=a(y),r.b=u(y),r.opacity=p(y),r+""}}return i.gamma=e,i}(1);function Wk(e){return function(n){var s,a,t=n.length,i=new Array(t),r=new Array(t),o=new Array(t);for(s=0;s<t;++s)a=xp(n[s]),i[s]=a.r||0,r[s]=a.g||0,o[s]=a.b||0;return i=e(i),r=e(r),o=e(o),a.opacity=1,function(u){return a.r=i(u),a.g=r(u),a.b=o(u),a+""}}}Wk(function dY(e){var n=e.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),r=e[i],o=e[i+1];return Vk((t-i/n)*n,i>0?e[i-1]:2*r-o,r,o,i<n-1?e[i+2]:2*o-r)}}),Wk(function hY(e){var n=e.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n);return Vk((t-i/n)*n,e[(i+n-1)%n],e[i%n],e[(i+1)%n],e[(i+2)%n])}});var Dy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sy=new RegExp(Dy.source,"g");function _Y(e,n){var i,r,o,t=Dy.lastIndex=Sy.lastIndex=0,s=-1,a=[],u=[];for(e+="",n+="";(i=Dy.exec(e))&&(r=Sy.exec(n));)(o=r.index)>t&&(o=n.slice(t,o),a[s]?a[s]+=o:a[++s]=o),(i=i[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,u.push({i:s,x:ds(i,r)})),t=Sy.lastIndex;return t<n.length&&(o=n.slice(t),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?function gY(e){return function(n){return e(n)+""}}(u[0].x):function mY(e){return function(){return e}}(n):(n=u.length,function(p){for(var x,y=0;y<n;++y)a[(x=u[y]).i]=x.x(p);return a.join("")})}function Xk(e,n){var t;return("number"==typeof n?ds:n instanceof Uu?Gk:(t=Uu(n))?(n=t,Gk):_Y)(e,n)}function vY(e){return function(){this.removeAttribute(e)}}function bY(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yY(e,n,t){var i,o,r=t+"";return function(){var s=this.getAttribute(e);return s===r?null:s===i?o:o=n(i=s,t)}}function wY(e,n,t){var i,o,r=t+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===i?o:o=n(i=s,t)}}function CY(e,n,t){var i,r,o;return function(){var s,u,a=t(this);return null==a?void this.removeAttribute(e):(s=this.getAttribute(e))===(u=a+"")?null:s===i&&u===r?o:(r=u,o=n(i=s,a))}}function xY(e,n,t){var i,r,o;return function(){var s,u,a=t(this);return null==a?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local))===(u=a+"")?null:s===i&&u===r?o:(r=u,o=n(i=s,a))}}function SY(e,n){var t,i;function r(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&function DY(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}(e,o)),t}return r._value=n,r}function IY(e,n){var t,i;function r(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&function EY(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}(e,o)),t}return r._value=n,r}function RY(e,n){return function(){wy(this,e).delay=+n.apply(this,arguments)}}function AY(e,n){return n=+n,function(){wy(this,e).delay=n}}function OY(e,n){return function(){ro(this,e).duration=+n.apply(this,arguments)}}function PY(e,n){return n=+n,function(){ro(this,e).duration=n}}var YY=Nu.prototype.constructor;function qk(e){return function(){this.style.removeProperty(e)}}var fK=0;function ko(e,n,t,i){this._groups=e,this._parents=n,this._name=t,this._id=i}function Zk(){return++fK}var Oo=Nu.prototype;ko.prototype=function pK(e){return Nu().transition(e)}.prototype={constructor:ko,select:function qY(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=py(e));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var y,x,a=i[s],u=a.length,p=o[s]=new Array(u),F=0;F<u;++F)(y=a[F])&&(x=e.call(y,y.__data__,F,a))&&("__data__"in y&&(x.__data__=y.__data__),p[F]=x,bp(p[F],n,t,F,p,zr(y,t)));return new ko(o,this._parents,n,t)},selectAll:function ZY(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=ik(e));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var y,u=i[a],p=u.length,x=0;x<p;++x)if(y=u[x]){for(var B,F=e.call(y,y.__data__,x,u),Q=zr(y,t),ie=0,ee=F.length;ie<ee;++ie)(B=F[ie])&&bp(B,n,t,ie,F,Q);o.push(F),s.push(y)}return new ko(o,s,n,t)},selectChild:Oo.selectChild,selectChildren:Oo.selectChildren,filter:function VY(e){"function"!=typeof e&&(e=rk(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var u,o=n[r],s=o.length,a=i[r]=[],p=0;p<s;++p)(u=o[p])&&e.call(u,u.__data__,p,o)&&a.push(u);return new ko(i,this._parents,this._name,this._id)},merge:function zY(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,i=n.length,o=Math.min(i,t.length),s=new Array(i),a=0;a<o;++a)for(var F,u=n[a],p=t[a],y=u.length,x=s[a]=new Array(y),B=0;B<y;++B)(F=u[B]||p[B])&&(x[B]=F);for(;a<i;++a)s[a]=n[a];return new ko(s,this._parents,this._name,this._id)},selection:function KY(){return new YY(this._groups,this._parents)},transition:function dK(){for(var e=this._name,n=this._id,t=Zk(),i=this._groups,r=i.length,o=0;o<r;++o)for(var u,s=i[o],a=s.length,p=0;p<a;++p)if(u=s[p]){var y=zr(u,n);bp(u,e,t,p,s,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new ko(i,this._parents,e,t)},call:Oo.call,nodes:Oo.nodes,node:Oo.node,size:Oo.size,empty:Oo.empty,each:Oo.each,on:function GY(e,n){var t=this._id;return arguments.length<2?zr(this.node(),t).on.on(e):this.each(function UY(e,n,t){var i,r,o=function jY(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||"start"===n})}(n)?wy:ro;return function(){var s=o(this,e),a=s.on;a!==i&&(r=(i=a).copy()).on(n,t),s.on=r}}(t,e,n))},attr:function TY(e,n){var t=dp(e),i="transform"===t?YZ:Xk;return this.attrTween(e,"function"==typeof n?(t.local?xY:CY)(t,i,xy(this,"attr."+e,n)):null==n?(t.local?bY:vY)(t):(t.local?wY:yY)(t,i,n))},attrTween:function MY(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;var i=dp(e);return this.tween(t,(i.local?SY:IY)(i,n))},style:function tK(e,n,t){var i="transform"==(e+="")?ZZ:Xk;return null==n?this.styleTween(e,function QY(e,n){var t,i,r;return function(){var o=Rl(this,e),s=(this.style.removeProperty(e),Rl(this,e));return o===s?null:o===t&&s===i?r:r=n(t=o,i=s)}}(e,i)).on("end.style."+e,qk(e)):"function"==typeof n?this.styleTween(e,function $Y(e,n,t){var i,r,o;return function(){var s=Rl(this,e),a=t(this),u=a+"";return null==a&&(this.style.removeProperty(e),u=a=Rl(this,e)),s===u?null:s===i&&u===r?o:(r=u,o=n(i=s,a))}}(e,i,xy(this,"style."+e,n))).each(function eK(e,n){var t,i,r,a,o="style."+n,s="end."+o;return function(){var u=ro(this,e),p=u.on,y=null==u.value[o]?a||(a=qk(n)):void 0;(p!==t||r!==y)&&(i=(t=p).copy()).on(s,r=y),u.on=i}}(this._id,e)):this.styleTween(e,function JY(e,n,t){var i,o,r=t+"";return function(){var s=Rl(this,e);return s===r?null:s===i?o:o=n(i=s,t)}}(e,i,n),t).on("end.style."+e,null)},styleTween:function rK(e,n,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function iK(e,n,t){var i,r;function o(){var s=n.apply(this,arguments);return s!==r&&(i=(r=s)&&function nK(e,n,t){return function(i){this.style.setProperty(e,n.call(this,i),t)}}(e,s,t)),i}return o._value=n,o}(e,n,t??""))},text:function aK(e){return this.tween("text","function"==typeof e?function sK(e){return function(){var n=e(this);this.textContent=n??""}}(xy(this,"text",e)):function oK(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function uK(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,function cK(e){var n,t;function i(){var r=e.apply(this,arguments);return r!==t&&(n=(t=r)&&function lK(e){return function(n){this.textContent=e.call(this,n)}}(r)),n}return i._value=e,i}(e))},remove:function XY(){return this.on("end.remove",function WY(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}(this._id))},tween:function JZ(e,n){var t=this._id;if(e+="",arguments.length<2){for(var s,i=zr(this.node(),t).tween,r=0,o=i.length;r<o;++r)if((s=i[r]).name===e)return s.value;return null}return this.each((null==n?KZ:QZ)(t,e,n))},delay:function kY(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?RY:AY)(n,e)):zr(this.node(),n).delay},duration:function NY(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?OY:PY)(n,e)):zr(this.node(),n).duration},ease:function LY(e){var n=this._id;return arguments.length?this.each(function FY(e,n){if("function"!=typeof n)throw new Error;return function(){ro(this,e).ease=n}}(n,e)):zr(this.node(),n).ease},easeVarying:function HY(e){if("function"!=typeof e)throw new Error;return this.each(function BY(e,n){return function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;ro(this,e).ease=t}}(this._id,e))},end:function hK(){var e,n,t=this,i=t._id,r=t.size();return new Promise(function(o,s){var a={value:s},u={value:function(){0===--r&&o()}};t.each(function(){var p=ro(this,i),y=p.on;y!==e&&((n=(e=y).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(u)),p.on=n}),0===r&&o()})},[Symbol.iterator]:Oo[Symbol.iterator]};var gK={time:null,delay:0,duration:250,ease:function mK(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function _K(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}Nu.prototype.interrupt=function WZ(e){return this.each(function(){!function GZ(e,n){var i,r,s,t=e.__transition,o=!0;if(t){for(s in n=null==n?null:n+"",t)(i=t[s]).name===n?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[s]):o=!1;o&&delete e.__transition}}(this,e)})},Nu.prototype.transition=function vK(e){var n,t;e instanceof ko?(n=e._id,e=e._name):(n=Zk(),(t=gK).time=_y(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var u,s=i[o],a=s.length,p=0;p<a;++p)(u=s[p])&&bp(u,e,n,p,s,t||_K(u,n));return new ko(i,this._parents,e,n)};Math;function Gu(e){return{type:e}}function Wu(e){return"string"==typeof e?new _r([[document.querySelector(e)]],[document.documentElement]):new _r([[e]],mk)}function Nl(e,n,t){this.k=e,this.x=n,this.y=t}["w","e"].map(Gu),["n","s"].map(Gu),["n","w","e","s","nw","ne","sw","se"].map(Gu),Nl.prototype={constructor:Nl,scale:function(e){return 1===e?this:new Nl(this.k*e,this.x,this.y)},translate:function(e,n){return 0===e&0===n?this:new Nl(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Nl(1,0,0);let Ip=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:function(i){let r=null;return r=i?new(i||e):ft(FK),r},providedIn:"root"})}return e})(),FK=(()=>{class e extends Ip{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case _i.NONE:return i;case _i.HTML:return Qr(i,"HTML")?hr(i):dx(this._doc,String(i)).toString();case _i.STYLE:return Qr(i,"Style")?hr(i):i;case _i.SCRIPT:if(Qr(i,"Script"))return hr(i);throw new Ce(5200,!1);case _i.URL:return Qr(i,"URL")?hr(i):$d(String(i));case _i.RESOURCE_URL:if(Qr(i,"ResourceURL"))return hr(i);throw new Ce(5201,!1);default:throw new Ce(5202,!1)}}bypassSecurityTrustHtml(t){return function WL(e){return new HL(e)}(t)}bypassSecurityTrustStyle(t){return function XL(e){return new VL(e)}(t)}bypassSecurityTrustScript(t){return function qL(e){return new zL(e)}(t)}bypassSecurityTrustUrl(t){return function ZL(e){return new jL(e)}(t)}bypassSecurityTrustResourceUrl(t){return function YL(e){return new UL(e)}(t)}static \u0275fac=function(i){return new(i||e)(ft(Vt))};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var LK=lm(1762),fs=lm(5836);function i1(e={}){const{connector:n=()=>new je,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,u,p=0,y=!1,x=!1;const F=()=>{a?.unsubscribe(),a=void 0},B=()=>{F(),s=u=void 0,y=x=!1},Q=()=>{const ie=s;B(),ie?.unsubscribe()};return Qn((ie,ee)=>{p++,!x&&!y&&F();const te=u=u??n();ee.add(()=>{p--,0===p&&!x&&!y&&(a=ky(Q,r))}),te.subscribe(ee),!s&&p>0&&(s=new En({next:oe=>te.next(oe),error:oe=>{x=!0,F(),a=ky(B,t,oe),te.error(oe)},complete:()=>{y=!0,F(),a=ky(B,i),te.complete()}}),wi(ie).subscribe(s))})(o)}}function ky(e,n,...t){if(!0===n)return void e();if(!1===n)return;const i=new En({next:()=>{i.unsubscribe(),e()}});return wi(n(...t)).subscribe(i)}let Mp;function qu(e){return function BK(){if(void 0===Mp&&(Mp=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(Mp=e.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Mp}()?.createHTML(e)||e}function r1(e){return Error(`Unable to find icon with the name "${e}"`)}function o1(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function s1(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class ga{url;svgText;options;svgElement;constructor(n,t,i){this.url=n,this.svgText=t,this.options=i}}let Rp=(()=>{class e{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new ga(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(_i.HTML,r);if(!s)throw s1(r);const a=qu(s);return this._addSvgIconConfig(t,i,new ga("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new ga(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(_i.HTML,i);if(!o)throw s1(i);const s=qu(o);return this._addSvgIconSetConfig(t,new ga("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(_i.RESOURCE_URL,t);if(!i)throw o1(t);const r=this._cachedIconsByUrl.get(i);return r?Ui(Ap(r)):this._loadSvgIconFromConfig(new ga(t,null)).pipe(Ou(o=>this._cachedIconsByUrl.set(i,o)),On(o=>Ap(o)))}getNamedSvgIcon(t,i=""){const r=a1(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):kR(r1(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ui(Ap(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(On(i=>Ap(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Ui(r):Ab(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(uy(a=>{const p=`Loading icon set URL: ${this._sanitizer.sanitize(_i.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(p)),Ui(null)})))).pipe(On(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw r1(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ou(i=>t.svgText=i),On(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ui(null):this._fetchIcon(t).pipe(Ou(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(qu("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(qu("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function HK(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(_i.RESOURCE_URL,i);if(!s)throw o1(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const u=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(On(p=>qu(p)),yu(()=>this._inProgressUrlFetches.delete(s)),i1());return this._inProgressUrlFetches.set(s,u),u}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(a1(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return zK(o)?new ga(o.url,null,o.options):new ga(o,null)}}static \u0275fac=function(i){return new(i||e)(ft(El,8),ft(Ip),ft(Vt,8),ft(bo))};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ap(e){return e.cloneNode(!0)}function a1(e,n){return e+":"+n}function zK(e){return!(!e.url||!e.options)}const jK=["*"],UK=new fe("MAT_ICON_DEFAULT_OPTIONS"),GK=new fe("mat-icon-location",{providedIn:"root",factory:function WK(){const e=E(Vt),n=e?e.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),l1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],XK=l1.map(e=>`[${e}]`).join(", "),qK=/^url\(['"]?#(.*?)['"]?\)$/;let No=(()=>{class e{_elementRef=E(ut);_iconRegistry=E(Rp);_location=E(GK);_errorHandler=E(bo);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=de.EMPTY;constructor(){const t=E(new PI("aria-hidden"),{optional:!0}),i=E(UK,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(XK),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)l1.forEach(s=>{const a=i[o],u=a.getAttribute(s),p=u?u.match(qK):null;if(p){let y=r.get(a);y||(y=[],r.set(a,y)),y.push({name:s,value:p[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(di(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(Ue("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Br(r.color?"mat-"+r.color:""),ot("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[2,"inline","inline",Ht],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:jK,decls:1,vars:0,template:function(i,r){1&i&&(Xn(),At(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0})}return e})();class u1{_letterKeyStream=new je;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new je;selectedItem=this._selectedItem;constructor(n,t){const i="number"==typeof t?.debounceInterval?t.debounceInterval:200;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(n),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(n){this._selectedItemIndex=n}setItems(n){this._items=n}handleKey(n){const t=n.keyCode;n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(n){this._letterKeyStream.pipe(Ou(t=>this._pressedLetters.push(t)),sa(n),ui(()=>this._pressedLetters.length>0),On(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let i=1;i<this._items.length+1;i++){const o=this._items[(this._selectedItemIndex+i)%this._items.length];if(!this._skipPredicateFn?.(o)&&0===o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)){this._selectedItem.next(o);break}}this._pressedLetters=[]})}}function kp(e,n){return e.getAttribute(n)?.match(/\S+/g)??[]}const m1="cdk-describedby-message",Op="cdk-describedby-host";let Oy=0,JK=(()=>{class e{_platform=E(cn);_document=E(Vt);_messageRegistry=new Map;_messagesContainer=null;_id=""+Oy++;constructor(){E(to).load(tA),this._id=E(As)+"-"+Oy++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=Py(i,r);"string"!=typeof i?(g1(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=Py(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${Op}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(Op);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");g1(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Py(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=kp(t,"aria-describedby").filter(r=>0!=r.indexOf(m1));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function KK(e,n,t){const i=kp(e,n);t=t.trim(),!i.some(r=>r.trim()===t)&&(i.push(t),e.setAttribute(n,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(Op,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function QK(e,n,t){const i=kp(e,n);t=t.trim();const r=i.filter(o=>o!==t);r.length?e.setAttribute(n,r.join(" ")):e.removeAttribute(n)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(Op)}_isElementDescribedByMessage(t,i){const r=kp(t,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Py(e,n){return"string"==typeof e?`${n||""}/${e}`:e}function g1(e,n){e.id||(e.id=`${m1}-${n}-${Oy++}`)}const tQ=["tooltip"],v1=new fe("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const e=E(Ft);return()=>function Of(e,n){return new J5(e.get(Af),e.get(gu),e.get(Be),n)}(e,{scrollThrottle:20})}}),rQ=new fe("mat-tooltip-default-options",{providedIn:"root",factory:function iQ(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),b1="tooltip-panel",y1=ep({passive:!0});let Fo=(()=>{class e{_elementRef=E(ut);_ngZone=E(Be);_platform=E(cn);_ariaDescriber=E(JK);_focusMonitor=E(Il);_dir=E(Er);_injector=E(Ft);_viewContainerRef=E(Jn);_animationsDisabled=Ci();_defaultOptions=E(rQ,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=cQ;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=gr(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){const i=gr(t);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=fu(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=fu(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){const i=this._message;this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new je;_isDestroyed=!1;constructor(){const t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(vn(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,y1)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Tl(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(vn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof ut)return this._overlayRef;this._detach()}const i=this._injector.get(Af).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${b1}`,o=function rW(e,n){return new oW(n,e.get(gu),e.get(Vt),e.get(cn),e.get(vu))}(this._injector,this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(vn(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=pb(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(v1)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(vn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(vn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(vn(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!ca(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(vn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),zi(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const u=`${this._cssClassPrefix}-${b1}-`;a.removePanelClass(u+this._currentPosition),a.addPanelClass(u+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,y1)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._injector.get(Vt).elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||zi({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&ot("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return e})(),cQ=(()=>{class e{_changeDetectorRef=E(Wt);_elementRef=E(ut);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Ci();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new je;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&bt(tQ,7),2&i){let o;Ze(o=Ye())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){1&i&&ze("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(1&i){const o=Yt();ue(0,"div",1,0),ze("animationend",function(a){return Je(o),$e(r._handleAnimationEnd(a))}),ue(2,"div",2),Ne(3),pe()()}2&i&&(ot("mdc-tooltip--multiline",r._isMultiline),Me("ngClass",r.tooltipClass),se(3),Lt(r.message))},dependencies:[Iu],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}\n'],encapsulation:2,changeDetection:0})}return e})(),w1=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||e)(Pe(Wn),Pe(ut))};static \u0275dir=Ae({type:e})}return e})(),_a=(()=>{class e extends w1{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static \u0275dir=Ae({type:e,features:[Ct]})}return e})();const vr=new fe(""),dQ={provide:vr,useExisting:an(()=>Fl),multi:!0},fQ=new fe("");let Fl=(()=>{class e extends w1{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,null==this._compositionMode&&(this._compositionMode=!function hQ(){const e=rs()?rs().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||e)(Pe(Wn),Pe(ut),Pe(fQ,8))};static \u0275dir=Ae({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ze("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Rt([dQ]),Ct]})}return e})();function Ny(e){return null==e||0===Fy(e)}function Fy(e){return null==e?null:Array.isArray(e)||"string"==typeof e?e.length:e instanceof Set?e.size:null}const Ai=new fe(""),ps=new fe(""),pQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pp{static min(n){return x1(n)}static max(n){return function T1(e){return n=>{if(null==n.value||null==e)return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return function E1(e){return Ny(e.value)?{required:!0}:null}(n)}static requiredTrue(n){return function D1(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function S1(e){return Ny(e.value)||pQ.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function I1(e){return n=>{const t=n.value?.length??Fy(n.value);return null===t||0===t?null:t<e?{minlength:{requiredLength:e,actualLength:t}}:null}}(n)}static maxLength(n){return function M1(e){return n=>{const t=n.value?.length??Fy(n.value);return null!==t&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}(n)}static pattern(n){return function R1(e){if(!e)return Np;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),i=>{if(Ny(i.value))return null;const r=i.value;return n.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(n)}static nullValidator(n){return null}static compose(n){return F1(n)}static composeAsync(n){return L1(n)}}function x1(e){return n=>{if(null==n.value||null==e)return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function Np(e){return null}function A1(e){return null!=e}function k1(e){return zh(e)?xl(e):e}function O1(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function P1(e,n){return n.map(t=>t(e))}function N1(e){return e.map(n=>function mQ(e){return!e.validate}(n)?n:t=>n.validate(t))}function F1(e){if(!e)return null;const n=e.filter(A1);return 0==n.length?null:function(t){return O1(P1(t,n))}}function Ly(e){return null!=e?F1(N1(e)):null}function L1(e){if(!e)return null;const n=e.filter(A1);return 0==n.length?null:function(t){return Ab(P1(t,n).map(k1)).pipe(On(O1))}}function By(e){return null!=e?L1(N1(e)):null}function B1(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function H1(e){return e._rawValidators}function V1(e){return e._rawAsyncValidators}function Hy(e){return e?Array.isArray(e)?e:[e]:[]}function Fp(e,n){return Array.isArray(e)?e.includes(n):e===n}function z1(e,n){const t=Hy(n);return Hy(e).forEach(r=>{Fp(t,r)||t.push(r)}),t}function j1(e,n){return Hy(n).filter(t=>!Fp(e,t))}class U1{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Ly(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=By(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Wi extends U1{name;get formDirective(){return null}get path(){return null}}class Lo extends U1{_parent=null;name=null;valueAccessor=null}class G1{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Lp=(()=>{class e extends G1{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(Pe(Lo,2))};static \u0275dir=Ae({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&ot("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ct]})}return e})(),Vy=(()=>{class e extends G1{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(Pe(Wi,10))};static \u0275dir=Ae({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&ot("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Ct]})}return e})();const Zu="VALID",Hp="INVALID",Ll="PENDING",Yu="DISABLED";class Bl{}class X1 extends Bl{value;source;constructor(n,t){super(),this.value=n,this.source=t}}class Uy extends Bl{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}}class Gy extends Bl{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}}class Vp extends Bl{status;source;constructor(n,t){super(),this.status=n,this.source=t}}class q1 extends Bl{source;constructor(n){super(),this.source=n}}class Wy extends Bl{source;constructor(n){super(),this.source=n}}function Xy(e){return(zp(e)?e.validators:e)||null}function qy(e,n){return(zp(n)?n.asyncValidators:e)||null}function zp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function Z1(e,n,t){const i=e.controls;if(!(n?Object.keys(i):i).length)throw new Ce(1e3,"");if(!i[t])throw new Ce(1001,"")}function Y1(e,n,t){e._forEachChild((i,r)=>{if(void 0===t[r])throw new Ce(1002,"")})}class jp{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Zn(this.statusReactive)}set status(n){Zn(()=>this.statusReactive.set(n))}_status=ir(()=>this.statusReactive());statusReactive=gi(void 0);get valid(){return this.status===Zu}get invalid(){return this.status===Hp}get pending(){return this.status==Ll}get disabled(){return this.status===Yu}get enabled(){return this.status!==Yu}errors;get pristine(){return Zn(this.pristineReactive)}set pristine(n){Zn(()=>this.pristineReactive.set(n))}_pristine=ir(()=>this.pristineReactive());pristineReactive=gi(!0);get dirty(){return!this.pristine}get touched(){return Zn(this.touchedReactive)}set touched(n){Zn(()=>this.touchedReactive.set(n))}_touched=ir(()=>this.touchedReactive());touchedReactive=gi(!1);get untouched(){return!this.touched}_events=new je;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(z1(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(z1(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(j1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(j1(n,this._rawAsyncValidators))}hasValidator(n){return Fp(this._rawValidators,n)}hasAsyncValidator(n){return Fp(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const t=!1===this.touched;this.touched=!0;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:i}),t&&!1!==n.emitEvent&&this._events.next(new Gy(!0,i))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&!1!==n.emitEvent&&this._events.next(new Gy(!1,i))}markAsDirty(n={}){const t=!0===this.pristine;this.pristine=!1;const i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:i}),t&&!1!==n.emitEvent&&this._events.next(new Uy(!1,i))}markAsPristine(n={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&!1!==n.emitEvent&&this._events.next(new Uy(!0,i))}markAsPending(n={}){this.status=Ll;const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new Vp(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:t})}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Yu,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue();const i=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new X1(this.value,i)),this._events.next(new Vp(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Zu,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zu||this.status===Ll)&&this._runAsyncValidator(i,n.emitEvent)}const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new X1(this.value,t)),this._events.next(new Vp(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:t})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yu:Zu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Ll,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t,shouldHaveEmitted:!1!==n};const i=k1(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Vp(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new _t,this.statusChanges=new _t}_calculateStatus(){return this._allControlsDisabled()?Yu:this.errors?Hp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ll)?Ll:this._anyControlsHaveStatus(Hp)?Hp:Zu}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){const i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),r&&this._events.next(new Uy(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Gy(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){zp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function CQ(e){return Array.isArray(e)?Ly(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function xQ(e){return Array.isArray(e)?By(e):e||null}(this._rawAsyncValidators)}}class Ku extends jp{constructor(n,t,i){super(Xy(t),qy(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){Y1(this,0,n),Object.keys(n).forEach(i=>{Z1(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),!1!==t?.emitEvent&&this._events.next(new Wy(this))}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class K1 extends Ku{}const va=new fe("",{providedIn:"root",factory:()=>Qu}),Qu="always";function Up(e,n){return[...n.path,e]}function Ju(e,n,t=Qu){Zy(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function EQ(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Q1(e,n)})}(e,n),function SQ(e,n){const t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function DQ(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Q1(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function TQ(e,n){if(n.valueAccessor.setDisabledState){const t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Gp(e,n,t=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Xp(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Wp(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Zy(e,n){const t=H1(e);null!==n.validator?e.setValidators(B1(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const i=V1(e);null!==n.asyncValidator?e.setAsyncValidators(B1(i,n.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();Wp(n._rawValidators,r),Wp(n._rawAsyncValidators,r)}function Xp(e,n){let t=!1;if(null!==e){if(null!==n.validator){const r=H1(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.validator);o.length!==r.length&&(t=!0,e.setValidators(o))}}if(null!==n.asyncValidator){const r=V1(e);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(t=!0,e.setAsyncValidators(o))}}}const i=()=>{};return Wp(n._rawValidators,i),Wp(n._rawAsyncValidators,i),t}function Q1(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function J1(e,n){Zy(e,n)}function Ky(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}function $1(e,n){e._syncPendingControls(),n.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Qy(e,n){if(!n)return null;let t,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===Fl?t=o:function RQ(e){return Object.getPrototypeOf(e.constructor)===_a}(o)?i=o:r=o}),r||i||t||null}const kQ={provide:Wi,useExisting:an(()=>Hl)},$u=Promise.resolve();let Hl=(()=>{class e extends Wi{callSetDisabledState;get submitted(){return Zn(this.submittedReactive)}_submitted=ir(()=>this.submittedReactive());submittedReactive=gi(!1);_directives=new Set;form;ngSubmit=new _t;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new Ku({},Ly(t),By(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$u.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Ju(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$u.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){$u.then(()=>{const i=this._findContainer(t.path),r=new Ku({});J1(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$u.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){$u.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),$1(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new q1(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||e)(Pe(Ai,10),Pe(ps,10),Pe(va,8))};static \u0275dir=Ae({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&ze("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Rt([kQ]),Ct]})}return e})();function eO(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function tO(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Vl=class extends jp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,i){super(Xy(t),qy(i,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=tO(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,!1!==t?.emitEvent&&this._events.next(new Wy(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){eO(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){eO(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){tO(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},LQ={provide:Lo,useExisting:an(()=>Yp)},nO=Promise.resolve();let Yp=(()=>{class e extends Lo{_changeDetectorRef;callSetDisabledState;control=new Vl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _t;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Qy(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ky(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ju(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){nO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Ht(i);nO.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Up(t,this._parent):[t]}static \u0275fac=function(i){return new(i||e)(Pe(Wi,9),Pe(Ai,10),Pe(ps,10),Pe(vr,10),Pe(Wt,8),Pe(va,8))};static \u0275dir=Ae({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Rt([LQ]),Ct,dr]})}return e})(),Jy=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();const BQ={provide:vr,useExisting:an(()=>$y),multi:!0};let $y=(()=>{class e extends _a{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static \u0275dir=Ae({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&ze("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Rt([BQ]),Ct]})}return e})();const ew=new fe(""),UQ={provide:Wi,useExisting:an(()=>zl)};let zl=(()=>{class e extends Wi{callSetDisabledState;get submitted(){return Zn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=ir(()=>this._submittedReactive());_submittedReactive=gi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new _t;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Ju(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Gp(t.control||null,t,!1),function AQ(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),$1(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new q1(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0,i={}){this.form.reset(t,i),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Gp(i||null,t),(e=>e instanceof Vl)(r)&&(Ju(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);J1(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function IQ(e,n){return Xp(e,n)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zy(this.form,this),this._oldForm&&Xp(this._oldForm,this)}static \u0275fac=function(i){return new(i||e)(Pe(Ai,10),Pe(ps,10),Pe(va,8))};static \u0275dir=Ae({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&ze("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Rt([UQ]),Ct,dr]})}return e})();const XQ={provide:Lo,useExisting:an(()=>tw)};let tw=(()=>{class e extends Lo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new _t;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Qy(0,o)}ngOnChanges(t){this._added||this._setUpControl(),Ky(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Up(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||e)(Pe(Wi,13),Pe(Ai,10),Pe(ps,10),Pe(vr,10),Pe(ew,8))};static \u0275dir=Ae({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Rt([XQ]),Ct,dr]})}return e})();let ba=(()=>{class e{_validator=Np;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Np,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,features:[dr]})}return e})();const eJ={provide:Ai,useExisting:an(()=>rw),multi:!0};let rw=(()=>{class e extends ba{min;inputName="min";normalizeInput=t=>function uO(e){return"number"==typeof e?e:parseFloat(e)}(t);createValidator=t=>x1(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static \u0275dir=Ae({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Ue("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Rt([eJ]),Ct]})}return e})(),_O=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=eo({type:e});static \u0275inj=Pr({})}return e})();class vO extends jp{constructor(n,t,i){super(Xy(t),qy(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){Array.isArray(n)?n.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,i={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,t={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){Y1(this,0,n),n.forEach((i,r)=>{Z1(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),!1!==t?.emitEvent&&this._events.next(new Wy(this))}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,i)=>{n(t,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function bO(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let aJ=(()=>{class e{useNonNullable=!1;get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let o={};return bO(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ku(r,o)}record(t,i=null){const r=this._reduceControls(t);return new K1(r,i)}control(t,i,r){let o={};return this.useNonNullable?(bO(i)?o=i:(o.validators=i,o.asyncValidators=r),new Vl(t,{...o,nonNullable:!0})):new Vl(t,i,r)}array(t,i,r){const o=t.map(s=>this._createControl(s));return new vO(o,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Vl||t instanceof jp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sw=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:va,useValue:t.callSetDisabledState??Qu}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=eo({type:e});static \u0275inj=Pr({imports:[_O]})}return e})(),lJ=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ew,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:va,useValue:t.callSetDisabledState??Qu}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=eo({type:e});static \u0275inj=Pr({imports:[_O]})}return e})();const cJ=["*"],pJ=new fe("MAT_CARD_CONFIG");let yO=(()=>{class e{appearance;constructor(){const t=E(pJ,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(i,r){2&i&&ot("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)("mat-mdc-card-filled","filled"===r.appearance)("mdc-card--filled","filled"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:cJ,decls:1,vars:0,template:function(i,r){1&i&&(Xn(),At(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}\n'],encapsulation:2,changeDetection:0})}return e})(),wO=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return e})();class bJ{_box;_destroyed=new je;_resizeSubject=new je;_resizeObserver;_elementObservables=new Map;constructor(n){this._box=n,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new tn(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),i.unsubscribe(),this._elementObservables.delete(n)}}).pipe(ui(t=>t.some(i=>i.target===n)),function vJ(e,n,t){let i,r=!1;return e&&"object"==typeof e?({bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:t}=e):i=e??1/0,i1({connector:()=>new Dl(i,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),vn(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let CO=(()=>{class e{_cleanupErrorListener;_observers=new Map;_ngZone=E(Be);constructor(){}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new bJ(r)),this._observers.get(r).observe(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const yJ=["notch"],wJ=["matFormFieldNotchedOutline",""],CJ=["*"],xO=["iconPrefixContainer"],TO=["textPrefixContainer"],EO=["iconSuffixContainer"],DO=["textSuffixContainer"],xJ=["textField"],TJ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],EJ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function DJ(e,n){1&e&&Mt(0,"span",21)}function SJ(e,n){if(1&e&&(ue(0,"label",20),At(1,1),Xe(2,DJ,1,0,"span",21),pe()),2&e){const t=Ie(2);Me("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Ue("for",t._control.disableAutomaticLabeling?null:t._control.id),se(2),qe(!t.hideRequiredMarker&&t._control.required?2:-1)}}function IJ(e,n){1&e&&Xe(0,SJ,3,5,"label",20),2&e&&qe(Ie()._hasFloatingLabel()?0:-1)}function MJ(e,n){1&e&&Mt(0,"div",7)}function RJ(e,n){}function AJ(e,n){1&e&&Vi(0,RJ,0,0,"ng-template",13),2&e&&(Ie(2),Me("ngTemplateOutlet",Ys(1)))}function kJ(e,n){if(1&e&&(ue(0,"div",9),Xe(1,AJ,1,1,null,13),pe()),2&e){const t=Ie();Me("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),se(),qe(t._forceDisplayInfixLabel()?-1:1)}}function OJ(e,n){1&e&&(ue(0,"div",10,2),At(2,2),pe())}function PJ(e,n){1&e&&(ue(0,"div",11,3),At(2,3),pe())}function NJ(e,n){}function FJ(e,n){1&e&&Vi(0,NJ,0,0,"ng-template",13),2&e&&(Ie(),Me("ngTemplateOutlet",Ys(1)))}function LJ(e,n){1&e&&(ue(0,"div",14,4),At(2,4),pe())}function BJ(e,n){1&e&&(ue(0,"div",15,5),At(2,5),pe())}function HJ(e,n){1&e&&Mt(0,"div",16)}function VJ(e,n){1&e&&(ue(0,"div",18),At(1,6),pe())}function zJ(e,n){if(1&e&&(ue(0,"mat-hint",22),Ne(1),pe()),2&e){const t=Ie(2);Me("id",t._hintLabelId),se(),Lt(t.hintLabel)}}function jJ(e,n){if(1&e&&(ue(0,"div",19),Xe(1,zJ,2,2,"mat-hint",22),At(2,7),Mt(3,"div",23),At(4,8),pe()),2&e){const t=Ie();se(),qe(t.hintLabel?1:-1)}}let aw=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["mat-label"]]})}return e})();const SO=new fe("MatError");let UJ=(()=>{class e{id=E(Dr).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&fr("id",r.id)},inputs:{id:"id"},features:[Rt([{provide:SO,useExisting:e}])]})}return e})(),IO=(()=>{class e{align="start";id=E(Dr).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(fr("id",r.id),Ue("align",null),ot("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return e})();const MO=new fe("MatPrefix");let GJ=(()=>{class e{set _isTextSelector(t){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},features:[Rt([{provide:MO,useExisting:e}])]})}return e})();const RO=new fe("MatSuffix");let WJ=(()=>{class e{set _isTextSelector(t){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[Rt([{provide:RO,useExisting:e}])]})}return e})();const AO=new fe("FloatingLabelParent");let kO=(()=>{class e{_elementRef=E(ut);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=E(CO);_ngZone=E(Be);_parent=E(AO);_resizeSubscription=new de;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function XJ(e){if(null!==e.offsetParent)return e.scrollWidth;const t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&ot("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return e})();const OO="mdc-line-ripple--active",Qp="mdc-line-ripple--deactivating";let PO=(()=>{class e{_elementRef=E(ut);_cleanupTransitionEnd;constructor(){const t=E(Be),i=E(Wn);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(Qp),t.add(OO)}deactivate(){this._elementRef.nativeElement.classList.add(Qp)}_handleTransitionEnd=t=>{const i=this._elementRef.nativeElement.classList,r=i.contains(Qp);"opacity"===t.propertyName&&r&&i.remove(OO,Qp)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return e})(),NO=(()=>{class e{_elementRef=E(ut);_ngZone=E(Be);open=!1;_notch;ngAfterViewInit(){const t=this._elementRef.nativeElement,i=t.querySelector(".mdc-floating-label");i?(t.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):t.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&bt(yJ,5),2&i){let o;Ze(o=Ye())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&ot("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:wJ,ngContentSelectors:CJ,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(Xn(),mn(0,"div",1),$t(1,"div",2,0),At(3),Zt(),mn(4,"div",3))},encapsulation:2,changeDetection:0})}return e})(),FO=(()=>{class e{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e})}return e})();const LO=new fe("MatFormField"),qJ=new fe("MAT_FORM_FIELD_DEFAULT_OPTIONS");let jl,VO=(()=>{class e{_elementRef=E(ut);_changeDetectorRef=E(Wt);_platform=E(cn);_idGenerator=E(Dr);_ngZone=E(Be);_defaults=E(qJ,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=gf("iconPrefixContainer");_textPrefixContainerSignal=gf("textPrefixContainer");_iconSuffixContainerSignal=gf("iconSuffixContainer");_textSuffixContainerSignal=gf("textSuffixContainer");_prefixSuffixContainers=ir(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>void 0!==t));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=X8(aw);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=gr(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(t){this._appearanceSignal.set(t||this._defaults?.appearance||"fill")}_appearanceSignal=gi("fill");get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new je;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=Ci();constructor(){const t=this._defaults,i=E(Er);t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),zf(()=>this._currentDirection=i.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=ir(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){const i=this._control,r="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(r+t.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Ao([void 0,void 0]),On(()=>[i.errorState,i.userAriaDescribedBy]),function _J(){return Qn((e,n)=>{let t,i=!1;e.subscribe(kn(n,r=>{const o=t;t=r,i&&n.next([o,r]),i=!0}))})}(),ui(([[o,s],[a,u]])=>o!==a||s!==u)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(vn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),oa(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){const t=this._control.focused;t&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!t&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",t),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",t)}_syncOutlineLabelOffset(){!function H4(e,n){const t=n?.injector??E(Ft),i=t.get(wo),r=t.get(H_),o=t.get(dl,null,{optional:!0});r.impl??=t.get(LE);let s=e;"function"==typeof s&&(s={mixedReadWrite:e});const a=t.get(Id,null,{optional:!0}),u=new B4(r.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,i,t,o?.snapshot(null));r.impl.register(u)}({earlyRead:()=>{if("outline"!==this._appearanceSignal())return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(const t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:t=>this._writeOutlinedLabelStyles(t())})}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=ir(()=>!!this._labelChild());_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getSubscriptMessageType()){const o=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,s=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));const i=this._control.describedByIds;let r;if(i){const o=this._describedByIds||t;r=t.concat(i.filter(s=>s&&!o.includes(s)))}else r=t;this._control.setDescribedByIds(r),this._describedByIds=t}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;const t=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=t?.getBoundingClientRect().width??0,a=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0,p=o?.getBoundingClientRect().width??0;return[`var(--mat-mdc-form-field-label-transform, translateY(-50%) translateX(calc(${"rtl"===this._currentDirection?"-1":"1"} * (${s+a}px + var(--mat-mdc-form-field-label-offset-x, 0px)))))`,s+a+u+p]}_writeOutlinedLabelStyles(t){if(null!==t){const[i,r]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=i),null!==r&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(function nS(e,n,t,i,r){sE(n,tE(e,t,i,r))}(o,r._labelChild,aw,5),Ii(o,FO,5),Ii(o,MO,5),Ii(o,RO,5),Ii(o,SO,5),Ii(o,IO,5)),2&i){let s;yv(),Ze(s=Ye())&&(r._formFieldControl=s.first),Ze(s=Ye())&&(r._prefixChildren=s),Ze(s=Ye())&&(r._suffixChildren=s),Ze(s=Ye())&&(r._errorChildren=s),Ze(s=Ye())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(Jc(r._iconPrefixContainerSignal,xO,5),Jc(r._textPrefixContainerSignal,TO,5),Jc(r._iconSuffixContainerSignal,EO,5),Jc(r._textSuffixContainerSignal,DO,5),bt(xJ,5),bt(xO,5),bt(TO,5),bt(EO,5),bt(DO,5),bt(kO,5),bt(NO,5),bt(PO,5)),2&i){let o;yv(4),Ze(o=Ye())&&(r._textField=o.first),Ze(o=Ye())&&(r._iconPrefixContainer=o.first),Ze(o=Ye())&&(r._textPrefixContainer=o.first),Ze(o=Ye())&&(r._iconSuffixContainer=o.first),Ze(o=Ye())&&(r._textSuffixContainer=o.first),Ze(o=Ye())&&(r._floatingLabel=o.first),Ze(o=Ye())&&(r._notchedOutline=o.first),Ze(o=Ye())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(i,r){2&i&&ot("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Rt([{provide:LO,useExisting:e},{provide:AO,useExisting:e}])],ngContentSelectors:EJ,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const o=Yt();Xn(TJ),Vi(0,IJ,1,1,"ng-template",null,0,Qs),ue(2,"div",6,1),ze("click",function(a){return Je(o),$e(r._control.onContainerClick(a))}),Xe(4,MJ,1,0,"div",7),ue(5,"div",8),Xe(6,kJ,2,2,"div",9),Xe(7,OJ,3,0,"div",10),Xe(8,PJ,3,0,"div",11),ue(9,"div",12),Xe(10,FJ,1,1,null,13),At(11),pe(),Xe(12,LJ,3,0,"div",14),Xe(13,BJ,3,0,"div",15),pe(),Xe(14,HJ,1,0,"div",16),pe(),ue(15,"div",17),Xe(16,VJ,2,0,"div",18)(17,jJ,5,1,"div",19),pe()}if(2&i){let o;se(2),ot("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),se(2),qe(r._hasOutline()||r._control.disabled?-1:4),se(2),qe(r._hasOutline()?6:-1),se(),qe(r._hasIconPrefix?7:-1),se(),qe(r._hasTextPrefix?8:-1),se(2),qe(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),se(2),qe(r._hasTextSuffix?12:-1),se(),qe(r._hasIconSuffix?13:-1),se(),qe(r._hasOutline()?-1:14),se(),ot("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing);const s=r._getSubscriptMessageType();se(),qe("error"===(o=s)?16:"hint"===o?17:-1)}},dependencies:[kO,NO,Wb,PO,IO],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}\n'],encapsulation:2,changeDetection:0})}return e})();const zO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function jO(){if(jl)return jl;if("object"!=typeof document||!document)return jl=new Set(zO),jl;let e=document.createElement("input");return jl=new Set(zO.filter(n=>(e.setAttribute("type",n),e.type===n))),jl}let KJ=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}\n"],encapsulation:2,changeDetection:0})}return e})();const QJ={passive:!0};let JJ=(()=>{class e{_platform=E(cn);_ngZone=E(Be);_renderer=E(xr).createRenderer(null,null);_styleLoader=E(to);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return Eu;this._styleLoader.load(KJ);const i=Mo(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new je,s="cdk-text-field-autofilled",a=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!0})))},u=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(i,"animationstart",a,QJ)));return this._monitoredElements.set(i,{subject:o,unlisten:u}),o}stopMonitoring(t){const i=Mo(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $J=new fe("MAT_INPUT_VALUE_ACCESSOR");let e$=(()=>{class e{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class t${_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(n,t,i,r,o){this._defaultMatcher=n,this.ngControl=t,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){const n=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,t)??!1;o!==n&&(this.errorState=o,this._stateChanges.next())}}const n$=["button","checkbox","file","hidden","image","radio","range","reset","submit"],i$=new fe("MAT_INPUT_CONFIG");let UO=(()=>{class e{_elementRef=E(ut);_platform=E(cn);ngControl=E(Lo,{optional:!0,self:!0});_autofillMonitor=E(JJ);_ngZone=E(Be);_formField=E(LO,{optional:!0});_renderer=E(Wn);_uid=E(Dr).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=E(i$,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new je;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=gr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Pp.required)??!1}set required(t){this._required=gr(t)}_required;get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&jO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=gr(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>jO().has(t));constructor(){const t=E(Hl,{optional:!0}),i=E(zl,{optional:!0}),r=E(e$),o=E($J,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?lc(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new t$(r,this.ngControl,i,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===a,this._isTextarea="textarea"===a,this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&zf(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){const i=this._elementRef.nativeElement;"number"===i.type?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){n$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(t){const i=this._elementRef.nativeElement;t.length?i.setAttribute("aria-describedby",t.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{const i=t.target;!i.value&&0===i.selectionStart&&0===i.selectionEnd&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){1&i&&ze("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(fr("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Ue("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),ot("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ht]},exportAs:["matInput"],features:[Rt([{provide:FO,useExisting:e}]),dr]})}return e})();function r$(e,n){1&e&&mn(0,"div",2)}const o$=new fe("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let a$=(()=>{class e{_elementRef=E(ut);_ngZone=E(Be);_changeDetectorRef=E(Wt);_renderer=E(Wn);_cleanupTransitionEnd;constructor(){const t=ey(),i=E(o$,{optional:!0});this._isNoopAnimation="di-disabled"===t,"reduced-motion"===t&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),i&&(i.color&&(this.color=this._defaultColor=i.color),this.mode=i.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";get value(){return this._value}set value(t){this._value=GO(t||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=GO(t||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new _t;get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}_transitionendHandler=t=>{0===this.animationEnd.observers.length||!t.target||!t.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,r){2&i&&(Ue("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),Br("mat-"+r.color),ot("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",yi],bufferValue:[2,"bufferValue","bufferValue",yi],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){1&i&&($t(0,"div",0),mn(1,"div",1),Xe(2,r$,1,0,"div",2),Zt(),$t(3,"div",3),mn(4,"span",4),Zt(),$t(5,"div",5),mn(6,"span",4),Zt()),2&i&&(se(),ei("flex-basis",r._getBufferBarFlexBasis()),se(),qe("buffer"===r.mode?2:-1),se(),ei("transform",r._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{background-image:radial-gradient(circle, var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant)) calc(var(--mat-progress-bar-track-height, 4px) / 2), transparent 0);background-repeat:repeat-x;background-size:calc(calc(var(--mat-progress-bar-track-height, 4px) / 2)*5);background-position:left;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}\n"],encapsulation:2,changeDetection:0})}return e})();function GO(e,n=0,t=100){return Math.max(n,Math.min(t,e))}const l$=["*",[["mat-toolbar-row"]]],c$=["*","mat-toolbar-row"];let u$=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return e})(),ms=(()=>{class e{_elementRef=E(ut);_platform=E(cn);_document=E(Vt);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&Ii(o,u$,5),2&i){let s;Ze(s=Ye())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(Br(r.color?"mat-"+r.color:""),ot("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:c$,decls:2,vars:0,template:function(i,r){1&i&&(Xn(l$),At(0),At(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}\n"],encapsulation:2,changeDetection:0})}return e})();class d${_items;_activeItemIndex=gi(-1);_activeItem=gi(null);_wrap=!1;_typeaheadSubscription=de.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=n=>n.disabled;constructor(n,t){this._items=n,n instanceof Ua?this._itemChangesSubscription=n.changes.subscribe(i=>this._itemsChanged(i.toArray())):lc(n)&&(this._effectRef=zf(()=>this._itemsChanged(n()),{injector:t}))}tabOut=new je;change=new je;skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){this._typeaheadSubscription.unsubscribe();const t=this._getItemsArray();return this._typeahead=new u1(t,{debounceInterval:"number"==typeof n?n:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,t=10){return this._pageUpAndDown={enabled:n,delta:t},this}setActiveItem(n){const t=this._activeItem();this.updateActiveItem(n),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(n){const t=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!n[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||ca(n,"shiftKey"))&&this._typeahead?.handleKey(n))}this._typeahead?.reset(),n.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const t=this._getItemsArray(),i="number"==typeof n?n:t.indexOf(n);this._activeItem.set(t[i]??null),this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex()+n*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex()+n,n)}_setActiveItemByIndex(n,t){const i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(!i[n+=t])return;this.setActiveItem(n)}}_getItemsArray(){return lc(this._items)?this._items():this._items instanceof Ua?this._items.toArray():this._items}_itemsChanged(n){this._typeahead?.setItems(n);const t=this._activeItem();if(t){const i=n.indexOf(t);i>-1&&i!==this._activeItemIndex()&&(this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i))}}}class h$ extends d${_origin="program";setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}let p$=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),m$=(()=>{class e{_mutationObserverFactory=E(p$);_observedElements=new Map;_ngZone=E(Be);constructor(){}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Mo(t);return new tn(r=>{const s=this._observeElement(i).pipe(On(a=>a.filter(u=>!function f$(e){if("characterData"===e.type&&e.target instanceof Comment)return!0;if("childList"===e.type){for(let n=0;n<e.addedNodes.length;n++)if(!(e.addedNodes[n]instanceof Comment))return!1;for(let n=0;n<e.removedNodes.length;n++)if(!(e.removedNodes[n]instanceof Comment))return!1;return!0}return!1}(u))),ui(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{r.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new je,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream})}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),g$=(()=>{class e{_contentObserver=E(m$);_elementRef=E(ut);event=new _t;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(t){this._debounce=fu(t),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?t.pipe(sa(this.debounce)):t).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Ht],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return e})();const lw=["*"];function _$(e,n){1&e&&At(0)}const v$=["tabListContainer"],b$=["tabList"],y$=["tabListInner"],w$=["nextPaginator"],C$=["previousPaginator"],x$=["content"];function T$(e,n){}const E$=["tabBodyWrapper"],D$=["tabHeader"];function S$(e,n){}function I$(e,n){1&e&&Vi(0,S$,0,0,"ng-template",12),2&e&&Me("cdkPortalOutlet",Ie().$implicit.templateLabel)}function M$(e,n){1&e&&Ne(0),2&e&&Lt(Ie().$implicit.textLabel)}function R$(e,n){if(1&e){const t=Yt();ue(0,"div",7,2),ze("click",function(){const r=Je(t),o=r.$implicit,s=r.$index,a=Ie(),u=Ys(1);return $e(a._handleClick(o,u,s))})("cdkFocusChange",function(r){const o=Je(t).$index;return $e(Ie()._tabFocusChanged(r,o))}),Mt(2,"span",8)(3,"div",9),ue(4,"span",10)(5,"span",11),Xe(6,I$,1,1,null,12)(7,M$,1,1),pe()()()}if(2&e){const t=n.$implicit,i=n.$index,r=Ys(1),o=Ie();Br(t.labelClass),ot("mdc-tab--active",o.selectedIndex===i),Me("id",o._getTabLabelId(t,i))("disabled",t.disabled)("fitInkBarToContent",o.fitInkBarToContent),Ue("tabIndex",o._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),se(3),Me("matRippleTrigger",r)("matRippleDisabled",t.disabled||o.disableRipple),se(3),qe(t.templateLabel?6:7)}}function A$(e,n){1&e&&At(0)}function k$(e,n){if(1&e){const t=Yt();ue(0,"mat-tab-body",13),ze("_onCentered",function(){return Je(t),$e(Ie()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return Je(t),$e(Ie()._setTabBodyWrapperHeight(r))})("_beforeCentering",function(r){return Je(t),$e(Ie()._bodyCentered(r))}),pe()}if(2&e){const t=n.$implicit,i=n.$index,r=Ie();Br(t.bodyClass),Me("id",r._getTabContentId(i))("content",t.content)("position",t.position)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Ue("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(t,i))("aria-hidden",r.selectedIndex!==i)}}const O$=new fe("MatTabContent");let P$=(()=>{class e{template=E(Hi);constructor(){}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","matTabContent",""]],features:[Rt([{provide:O$,useExisting:e}])]})}return e})();const N$=new fe("MatTabLabel"),WO=new fe("MAT_TAB");let F$=(()=>{class e extends Y5{_closestTab=E(WO,{optional:!0});static \u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static \u0275dir=Ae({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Rt([{provide:N$,useExisting:e}]),Ct]})}return e})();const XO=new fe("MAT_TAB_GROUP");let qO=(()=>{class e{_viewContainerRef=E(Jn);_closestTabGroup=E(XO,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new je;position=null;origin=null;isActive=!1;constructor(){E(to).load(sp)}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new _u(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-tab"]],contentQueries:function(i,r,o){if(1&i&&(Ii(o,F$,5),Ii(o,P$,7,Hi)),2&i){let s;Ze(s=Ye())&&(r.templateLabel=s.first),Ze(s=Ye())&&(r._explicitContent=s.first)}},viewQuery:function(i,r){if(1&i&&bt(Hi,7),2&i){let o;Ze(o=Ye())&&(r._implicitContent=o.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(i,r){2&i&&Ue("id",null)},inputs:{disabled:[2,"disabled","disabled",Ht],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[Rt([{provide:WO,useExisting:e}]),dr],ngContentSelectors:lw,decls:1,vars:0,template:function(i,r){1&i&&(Xn(),O_(0,_$,1,0,"ng-template"))},encapsulation:2})}return e})();const cw="mdc-tab-indicator--active",ZO="mdc-tab-indicator--no-transition";class L${_items;_currentItem;constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar()),this._currentItem=void 0}alignToElement(n){const t=this._items.find(r=>r.elementRef.nativeElement===n),i=this._currentItem;if(t!==i&&(i?.deactivateInkBar(),t)){const r=i?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(r),this._currentItem=t}}}let B$=(()=>{class e{_elementRef=E(ut);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){const i=this._elementRef.nativeElement;if(!t||!i.getBoundingClientRect||!this._inkBarContentElement)return void i.classList.add(cw);const r=i.getBoundingClientRect(),o=t.width/r.width,s=t.left-r.left;i.classList.add(ZO),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),i.getBoundingClientRect(),i.classList.remove(ZO),i.classList.add(cw),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(cw)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const t=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=t.createElement("span"),r=this._inkBarContentElement=t.createElement("span");i.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Ht]}})}return e})(),YO=(()=>{class e extends B${elementRef=E(ut);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static \u0275dir=Ae({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){2&i&&(Ue("aria-disabled",!!r.disabled),ot("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",Ht]},features:[Ct]})}return e})();const KO={passive:!0};let j$=(()=>{class e{_elementRef=E(ut);_changeDetectorRef=E(Wt);_viewportRuler=E(gu);_dir=E(Er,{optional:!0});_ngZone=E(Be);_platform=E(cn);_sharedResizeObserver=E(CO);_injector=E(Ft);_renderer=E(Wn);_animationsDisabled=Ci();_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new je;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new je;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const i=isNaN(t)?0:t;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}_selectedIndex=0;selectFocusedIndex=new _t;indexFocused=new _t;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(this._renderer.listen(this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),KO),this._renderer.listen(this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),KO))}ngAfterContentInit(){const t=this._dir?this._dir.change:Ui("ltr"),i=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(sa(32),vn(this._destroyed)),r=this._viewportRuler.change(150).pipe(vn(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new h$(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),zi(o,{injector:this._injector}),oa(t,r,i,this._items.changes,this._itemsResized()).pipe(vn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?Eu:this._items.changes.pipe(Ao(this._items),Pf(t=>new tn(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(o=>i.next(o));return t.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),Yb(1),ui(t=>t.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(t=>t()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!ca(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager?.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=i.elementRef.nativeElement;let a,u;"ltr"==this._getLayoutDirection()?(a=o,u=a+s):(u=this._tabListInner.nativeElement.offsetWidth-o,a=u-s);const p=this.scrollDistance,y=this.scrollDistance+r;a<p?this.scrollDistance-=p-a:u>y&&(this.scrollDistance+=Math.min(u-y,a-p))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const r=this._tabListInner.nativeElement.scrollWidth-this._elementRef.nativeElement.offsetWidth>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),lb(650,100).pipe(vn(oa(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(t);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,inputs:{disablePagination:[2,"disablePagination","disablePagination",Ht],selectedIndex:[2,"selectedIndex","selectedIndex",yi]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return e})(),U$=(()=>{class e extends j${_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new L$(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static \u0275cmp=it({type:e,selectors:[["mat-tab-header"]],contentQueries:function(i,r,o){if(1&i&&Ii(o,YO,4),2&i){let s;Ze(s=Ye())&&(r._items=s)}},viewQuery:function(i,r){if(1&i&&(bt(v$,7),bt(b$,7),bt(y$,7),bt(w$,5),bt(C$,5)),2&i){let o;Ze(o=Ye())&&(r._tabListContainer=o.first),Ze(o=Ye())&&(r._tabList=o.first),Ze(o=Ye())&&(r._tabListInner=o.first),Ze(o=Ye())&&(r._nextPaginator=o.first),Ze(o=Ye())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){2&i&&ot("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",Ht]},features:[Ct],ngContentSelectors:lw,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(i,r){if(1&i){const o=Yt();Xn(),ue(0,"div",5,0),ze("click",function(){return Je(o),$e(r._handlePaginatorClick("before"))})("mousedown",function(a){return Je(o),$e(r._handlePaginatorPress("before",a))})("touchend",function(){return Je(o),$e(r._stopInterval())}),Mt(2,"div",6),pe(),ue(3,"div",7,1),ze("keydown",function(a){return Je(o),$e(r._handleKeydown(a))}),ue(5,"div",8,2),ze("cdkObserveContent",function(){return Je(o),$e(r._onContentChanges())}),ue(7,"div",9,3),At(9),pe()()(),ue(10,"div",10,4),ze("mousedown",function(a){return Je(o),$e(r._handlePaginatorPress("after",a))})("click",function(){return Je(o),$e(r._handlePaginatorClick("after"))})("touchend",function(){return Je(o),$e(r._stopInterval())}),Mt(12,"div",6),pe()}2&i&&(ot("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),Me("matRippleDisabled",r._disableScrollBefore||r.disableRipple),se(3),ot("_mat-animation-noopable",r._animationsDisabled),se(2),Ue("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),se(5),ot("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),Me("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[ku,g$],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-divider-height, 1px);border-bottom-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-divider-height, 1px);border-top-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mat-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}\n"],encapsulation:2})}return e})();const G$=new fe("MAT_TABS_CONFIG");let QO=(()=>{class e extends ta{_host=E(uw);_ngZone=E(Be);_centeringSub=de.EMPTY;_leavingSub=de.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ao(this._host._isCenterPosition())).subscribe(t=>{this._host._content&&t&&!this.hasAttached()&&this._ngZone.run(()=>{Promise.resolve().then(),this.attach(this._host._content)})}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this._ngZone.run(()=>this.detach())})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["","matTabBodyHost",""]],features:[Ct]})}return e})(),uw=(()=>{class e{_elementRef=E(ut);_dir=E(Er,{optional:!0});_ngZone=E(Be);_injector=E(Ft);_renderer=E(Wn);_diAnimationsDisabled=Ci();_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=de.EMPTY;_position;_previousPosition;_onCentering=new _t;_beforeCentering=new _t;_afterLeavingCenter=new _t;_onCentered=new _t(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(){if(this._dir){const t=E(Wt);this._dirChangeSubscription=this._dir.change.subscribe(i=>{this._computePositionAnimationState(i),t.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),"center"===this._position&&(this._setActiveClass(!0),zi(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(t=>t()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{const t=this._elementRef.nativeElement,i=r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),"transitionend"===r.type&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(t,"transitionstart",r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(t,"transitionend",i),this._renderer.listen(t,"transitioncancel",i)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);const t="center"===this._position;this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){"center"===this._position?this._onCentered.emit():"center"===this._previousPosition&&this._afterLeavingCenter.emit()}_setActiveClass(t){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",t)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(){return 0===this._positionIndex}_computePositionAnimationState(t=this._getLayoutDirection()){this._previousPosition=this._position,this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&("center"===this._position||"center"===this._previousPosition)&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),zi(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._diAnimationsDisabled||"0ms"===this.animationDuration||"0s"===this.animationDuration}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(1&i&&(bt(QO,5),bt(x$,5)),2&i){let o;Ze(o=Ye())&&(r._portalHost=o.first),Ze(o=Ye())&&(r._contentElement=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(i,r){2&i&&Ue("inert","center"===r._position?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,r){1&i&&(ue(0,"div",1,0),Vi(2,T$,0,0,"ng-template",2),pe()),2&i&&ot("mat-tab-body-content-left","left"===r._position)("mat-tab-body-content-right","right"===r._position)("mat-tab-body-content-can-animate","center"===r._position||"center"===r._previousPosition)},dependencies:[QO,mu],styles:[".mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-tab-body-animating>.mat-mdc-tab-body-content{min-height:1px}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}\n"],encapsulation:2})}return e})(),W$=(()=>{class e{_elementRef=E(ut);_changeDetectorRef=E(Wt);_ngZone=E(Be);_tabsSubscription=de.EMPTY;_tabLabelSubscription=de.EMPTY;_tabBodySubscription=de.EMPTY;_diAnimationsDisabled=Ci();_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new Ua;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(t){const i=t+"";this._animationDuration=/^\d+$/.test(i)?t+"ms":i}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&i.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new _t;focusChange=new _t;animationDone=new _t;selectedTabChange=new _t(!0);_groupId;_isServer=!E(cn).isBrowser;constructor(){const t=E(G$,{optional:!0});this._groupId=E(Dr).getId("mat-tab-group-"),this.animationDuration=t&&t.animationDuration?t.animationDuration:"500ms",this.disablePagination=!(!t||null==t.disablePagination)&&t.disablePagination,this.dynamicHeight=!(!t||null==t.dynamicHeight)&&t.dynamicHeight,null!=t?.contentTabIndex&&(this.contentTabIndex=t.contentTabIndex),this.preserveContent=!!t?.preserveContent,this.fitInkBarToContent=!(!t||null==t.fitInkBarToContent)&&t.fitInkBarToContent,this.stretchTabs=!t||null==t.stretchTabs||t.stretchTabs,this.alignTabs=t&&null!=t.alignTabs?t.alignTabs:null}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-t,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ao(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const i=new X$;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=oa(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t,i){return t.id||`${this._groupId}-label-${i}`}_getTabContentId(t){return`${this._groupId}-content-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return void(this._tabBodyWrapperHeight=t);const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(t,i,r){i.focusIndex=r,t.disabled||(this.selectedIndex=r)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,i){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=i)}_bodyCentered(t){t&&this._tabBodies?.forEach((i,r)=>i._setActiveClass(r===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||"0"===this.animationDuration||"0ms"===this.animationDuration}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-tab-group"]],contentQueries:function(i,r,o){if(1&i&&Ii(o,qO,5),2&i){let s;Ze(s=Ye())&&(r._allTabs=s)}},viewQuery:function(i,r){if(1&i&&(bt(E$,5),bt(D$,5),bt(uw,5)),2&i){let o;Ze(o=Ye())&&(r._tabBodyWrapper=o.first),Ze(o=Ye())&&(r._tabHeader=o.first),Ze(o=Ye())&&(r._tabBodies=o)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(i,r){2&i&&(Ue("mat-align-tabs",r.alignTabs),Br("mat-"+(r.color||"primary")),ei("--mat-tab-animation-duration",r.animationDuration),ot("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Ht],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",Ht],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",Ht],selectedIndex:[2,"selectedIndex","selectedIndex",yi],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",yi],disablePagination:[2,"disablePagination","disablePagination",Ht],disableRipple:[2,"disableRipple","disableRipple",Ht],preserveContent:[2,"preserveContent","preserveContent",Ht],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[Rt([{provide:XO,useExisting:e}])],ngContentSelectors:lw,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(i,r){if(1&i){const o=Yt();Xn(),ue(0,"mat-tab-header",3,0),ze("indexFocused",function(a){return Je(o),$e(r._focusChanged(a))})("selectFocusedIndex",function(a){return Je(o),$e(r.selectedIndex=a)}),qs(2,R$,8,17,"div",4,cv),pe(),Xe(4,A$,1,0),ue(5,"div",5,1),qs(7,k$,1,10,"mat-tab-body",6,cv),pe()}2&i&&(Me("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),bi("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),se(2),Zs(r._tabs),se(2),qe(r._isServer?4:-1),se(),ot("_mat-animation-noopable",r._animationsDisabled()),se(2),Zs(r._tabs))},dependencies:[U$,YO,$7,ku,ta,uw],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1;touch-action:manipulation}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mat-tab-container-height, 48px);font-family:var(--mat-tab-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-tab-active-indicator-height, 2px);border-radius:var(--mat-tab-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-disabled-ripple-color, var(--mat-sys-on-surface-variant))}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}\n'],encapsulation:2})}return e})();class X${index;tab}let Z$=(()=>{class e{_animationsDisabled=Ci();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&ot("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable",r._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}\n'],encapsulation:2,changeDetection:0})}return e})();const Y$=["button"],K$=["*"];function Q$(e,n){if(1&e&&(ue(0,"div",2),Mt(1,"mat-pseudo-checkbox",6),pe()),2&e){const t=Ie();se(),Me("disabled",t.disabled)}}const JO=new fe("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function J$(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}}),$O=new fe("MatButtonToggleGroup");class eP{source;value;constructor(n,t){this.source=n,this.value=t}}let tP=(()=>{class e{_changeDetectorRef=E(Wt);_elementRef=E(ut);_focusMonitor=E(Il);_idGenerator=E(Dr);_animationDisabled=Ci();_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex()}set tabIndex(t){this._tabIndex.set(t)}_tabIndex;disableRipple;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||null!==this.buttonToggleGroup&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}_disabledInteractive;change=new _t;constructor(){E(to).load(sp);const t=E($O,{optional:!0}),i=E(new PI("tabindex"),{optional:!0})||"",r=E(JO,{optional:!0});this._tabIndex=gi(parseInt(i)||0),this.buttonToggleGroup=t,this.appearance=r&&r.appearance?r.appearance:"standard",this.disabledInteractive=r?.disabledInteractive??!1}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationDisabled||this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){if(this.disabled)return;const t=!!this.isSingleSelector()||!this._checked;if(t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const i=this.buttonToggleGroup._buttonToggles.find(r=>0===r.tabIndex);i&&(i.tabIndex=-1),this.tabIndex=0}this.change.emit(new eP(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-button-toggle"]],viewQuery:function(i,r){if(1&i&&bt(Y$,5),2&i){let o;Ze(o=Ye())&&(r._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(i,r){1&i&&ze("focus",function(){return r.focus()}),2&i&&(Ue("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),ot("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-disabled-interactive",r.disabledInteractive)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",Ht],appearance:"appearance",checked:[2,"checked","checked",Ht],disabled:[2,"disabled","disabled",Ht],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ht]},outputs:{change:"change"},exportAs:["matButtonToggle"],ngContentSelectors:K$,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(i,r){if(1&i){const o=Yt();Xn(),ue(0,"button",1,0),ze("click",function(){return Je(o),$e(r._onButtonClick())}),Xe(2,Q$,2,1,"div",2),ue(3,"span",3),At(4),pe()(),Mt(5,"span",4)(6,"span",5)}if(2&i){const o=Ys(1);Me("id",r.buttonId)("disabled",r.disabled&&!r.disabledInteractive||null),Ue("role",r.isSingleSelector()?"radio":"button")("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-pressed",r.isSingleSelector()?null:r.checked)("aria-checked",r.isSingleSelector()?r.checked:null)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),se(2),qe(r.buttonToggleGroup&&(!r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideSingleSelectionIndicator||r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),se(4),Me("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[ku,Z$],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mat-button-toggle-legacy-shape);transform:translateZ(0)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-button-toggle-legacy-text-color);font-family:var(--mat-button-toggle-legacy-label-text-font);font-size:var(--mat-button-toggle-legacy-label-text-size);line-height:var(--mat-button-toggle-legacy-label-text-line-height);font-weight:var(--mat-button-toggle-legacy-label-text-weight);letter-spacing:var(--mat-button-toggle-legacy-label-text-tracking);--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-button-toggle-legacy-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-legacy-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-button-toggle-legacy-selected-state-text-color);background-color:var(--mat-button-toggle-legacy-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-button-toggle-legacy-disabled-state-text-color);background-color:var(--mat-button-toggle-legacy-disabled-state-background-color);--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color: var(--mat-button-toggle-legacy-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-button-toggle-legacy-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-button-toggle-background-color, transparent);font-family:var(--mat-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color: var(--mat-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-button-toggle-legacy-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-button-toggle-legacy-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius: var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-bottom-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-top-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}\n"],encapsulation:2,changeDetection:0})}return e})(),nP=(()=>{class e{get vertical(){return this._vertical}set vertical(t){this._vertical=gr(t)}_vertical=!1;get inset(){return this._inset}set inset(t){this._inset=gr(t)}_inset=!1;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(Ue("aria-orientation",r.vertical?"vertical":"horizontal"),ot("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0})}return e})();const tee=["knob"],nee=["valueIndicatorContainer"];function iee(e,n){if(1&e&&(ue(0,"div",2,1)(2,"div",5)(3,"span",6),Ne(4),pe()()()),2&e){const t=Ie();se(4),Lt(t.valueIndicatorText)}}const ree=["trackActive"],oee=["*"];function see(e,n){if(1&e&&Mt(0,"div"),2&e){const t=n.$implicit,i=n.$index,r=Ie(3);Br(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),ei("transform",r._calcTickMarkTransform(i))}}function aee(e,n){1&e&&qs(0,see,1,4,"div",8,AD),2&e&&Zs(Ie(2)._tickMarks)}function lee(e,n){if(1&e&&(ue(0,"div",6,1),Xe(2,aee,2,0),pe()),2&e){const t=Ie();se(2),qe(t._cachedWidth?2:-1)}}function cee(e,n){if(1&e&&Mt(0,"mat-slider-visual-thumb",7),2&e){const t=Ie();Me("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}var mt=function(e){return e[e.START=1]="START",e[e.END=2]="END",e}(mt||{}),Ul=function(e){return e[e.ACTIVE=0]="ACTIVE",e[e.INACTIVE=1]="INACTIVE",e}(Ul||{});const dw=new fe("_MatSlider"),iP=new fe("_MatSliderThumb"),rP=new fe("_MatSliderRangeThumb"),oP=new fe("_MatSliderVisualThumb");let uee=(()=>{class e{_cdr=E(Wt);_ngZone=E(Be);_slider=E(dw);_renderer=E(Wn);_listenerCleanups;discrete;thumbPosition;valueIndicatorText;_ripple;_knob;_valueIndicatorContainer;_sliderInput;_sliderInputEl;_hoverRippleRef;_focusRippleRef;_activeRippleRef;_isHovered=!1;_isActive=!1;_isValueIndicatorVisible=!1;_hostElement=E(ut).nativeElement;_platform=E(cn);constructor(){}ngAfterViewInit(){const t=this._slider._getInput(this.thumbPosition);t&&(this._ripple.radius=24,this._sliderInput=t,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{const i=this._sliderInputEl,r=this._renderer;this._listenerCleanups=[r.listen(i,"pointermove",this._onPointerMove),r.listen(i,"pointerdown",this._onDragStart),r.listen(i,"pointerup",this._onDragEnd),r.listen(i,"pointerleave",this._onMouseLeave),r.listen(i,"focus",this._onFocus),r.listen(i,"blur",this._onBlur)]}))}ngOnDestroy(){this._listenerCleanups?.forEach(t=>t())}_onPointerMove=t=>{if(this._sliderInput._isFocused)return;const i=this._hostElement.getBoundingClientRect(),r=this._slider._isCursorOnSliderThumb(t,i);this._isHovered=r,r?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)};_onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)};_onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")};_onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")};_onDragStart=t=>{0===t.button&&(this._isActive=!0,this._showActiveRipple())};_onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()};_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return t?.state===rr.FADING_IN||t?.state===rr.VISIBLE}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===mt.START?mt.END:mt.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===mt.START?mt.END:mt.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,r){if(1&i&&(bt(ku,5),bt(tee,5),bt(nee,5)),2&i){let o;Ze(o=Ye())&&(r._ripple=o.first),Ze(o=Ye())&&(r._knob=o.first),Ze(o=Ye())&&(r._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Rt([{provide:oP,useExisting:e}])],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,r){1&i&&(Xe(0,iee,5,1,"div",2),Mt(1,"div",3,0)(3,"div",4)),2&i&&(qe(r.discrete?0:-1),se(3),Me("matRippleDisabled",!0))},dependencies:[ku],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}\n"],encapsulation:2,changeDetection:0})}return e})(),dee=(()=>{class e{_ngZone=E(Be);_cdr=E(Wt);_elementRef=E(ut);_dir=E(Er,{optional:!0});_globalRippleOptions=E(ty,{optional:!0});_trackActive;_thumbs;_input;_inputs;get disabled(){return this._disabled}set disabled(t){this._disabled=t;const i=this._getInput(mt.END),r=this._getInput(mt.START);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}_disabled=!1;get discrete(){return this._discrete}set discrete(t){this._discrete=t,this._updateValueIndicatorUIs()}_discrete=!1;get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=t,this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI())}_showTickMarks=!1;get min(){return this._min}set min(t){const i=null==t||isNaN(t)?this._min:t;this._min!==i&&this._updateMin(i)}_min=0;color;disableRipple=!1;_updateMin(t){const i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const i=this._getInput(mt.END),r=this._getInput(mt.START),o=i.value,s=r.value;r.min=t.new,i.min=Math.max(t.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMinNonRange(t){const i=this._getInput(mt.END);if(i){const r=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){const i=null==t||isNaN(t)?this._max:t;this._max!==i&&this._updateMax(i)}_max=100;_updateMax(t){const i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const i=this._getInput(mt.END),r=this._getInput(mt.START),o=i.value,s=r.value;i.max=t.new,r.max=Math.min(t.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMaxNonRange(t){const i=this._getInput(mt.END);if(i){const r=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){const i=isNaN(t)?this._step:t;this._step!==i&&this._updateStep(i)}_step=1;_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(mt.END),i=this._getInput(mt.START),r=t.value,o=i.value,s=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<s?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),r!==t.value&&this._onValueChange(t),o!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const t=this._getInput(mt.END);if(t){const i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}displayWith=t=>`${t}`;_tickMarks;_noopAnimations=Ci();_dirChangeSubscription;_resizeObserver;_cachedWidth;_cachedLeft;_rippleRadius=24;startValueIndicatorText="";endValueIndicatorText="";_endThumbTransform;_startThumbTransform;_isRange=!1;_isRtl=!1;_hasViewInitialized=!1;_tickMarkTrackWidth=0;_hasAnimation=!1;_resizeTimer=null;_platform=E(cn);constructor(){E(to).load(sp),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value)}_knobRadius=8;_inputPadding;ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(mt.END),i=this._getInput(mt.START);this._isRange=!!t&&!!i,this._cdr.detectChanges();const r=this._getThumb(mt.END);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir?.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(mt.END),i=this._getInput(mt.START);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(mt.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(mt.START)._isActive||this._getThumb(mt.END)._isActive}_getValue(t=mt.END){const i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(mt.START)?._skipUIUpdate&&!this._getInput(mt.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const i=this._trackActive.nativeElement.style;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,i.transform=t.transform}_calcTickMarkTransform(t){const i=t*(this._tickMarkTrackWidth/(this._tickMarks.length-1));return`translateX(${this._isRtl?this._cachedWidth-6-i:i}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(mt.END),i=this._getInput(mt.START);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{const t=this._getInput(mt.END);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_thumbsOverlap=!1;_areThumbsOverlapping(){const t=this._getInput(mt.START),i=this._getInput(mt.END);return!(!t||!i)&&i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const i=t.getSibling(),r=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(t.thumbPosition===mt.END?mt.END:mt.START)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext.set(i):t._hostElement.setAttribute("aria-valuetext",i),this.discrete){t.thumbPosition===mt.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(t.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(mt.END),i=this._getInput(mt.START);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=(this._cachedWidth-6)*r}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const i=t.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t)}_updateTickMarkUINonRange(t){const i=this._getValue();let r=Math.max(Math.round((i-this.min)/t),0)+1,o=Math.max(Math.round((this.max-i)/t),0)-1;this._isRtl?r++:o++,this._tickMarks=Array(r).fill(Ul.ACTIVE).concat(Array(o).fill(Ul.INACTIVE))}_updateTickMarkUIRange(t){const i=this._getValue(),r=this._getValue(mt.START),o=Math.max(Math.round((r-this.min)/t),0),s=Math.max(Math.round((i-r)/t)+1,0),a=Math.max(Math.round((this.max-i)/t),0);this._tickMarks=Array(o).fill(Ul.INACTIVE).concat(Array(s).fill(Ul.ACTIVE),Array(a).fill(Ul.INACTIVE))}_getInput(t){return t===mt.END&&this._input?this._input:this._inputs?.length?t===mt.START?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return t===mt.END?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,i){const r=i.width/2,u=t.clientY-(i.y+r);return Math.pow(t.clientX-(i.x+r),2)+Math.pow(u,2)<Math.pow(r,2)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-slider"]],contentQueries:function(i,r,o){if(1&i&&(Ii(o,iP,5),Ii(o,rP,4)),2&i){let s;Ze(s=Ye())&&(r._input=s.first),Ze(s=Ye())&&(r._inputs=s)}},viewQuery:function(i,r){if(1&i&&(bt(ree,5),bt(oP,5)),2&i){let o;Ze(o=Ye())&&(r._trackActive=o.first),Ze(o=Ye())&&(r._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,r){2&i&&(Br("mat-"+(r.color||"primary")),ot("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",Ht],discrete:[2,"discrete","discrete",Ht],showTickMarks:[2,"showTickMarks","showTickMarks",Ht],min:[2,"min","min",yi],color:"color",disableRipple:[2,"disableRipple","disableRipple",Ht],max:[2,"max","max",yi],step:[2,"step","step",yi],displayWith:"displayWith"},exportAs:["matSlider"],features:[Rt([{provide:dw,useExisting:e}])],ngContentSelectors:oee,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(i,r){1&i&&(Xn(),At(0),ue(1,"div",2),Mt(2,"div",3),ue(3,"div",4),Mt(4,"div",5,0),pe(),Xe(6,lee,3,1,"div",6),pe(),Xe(7,cee,1,3,"mat-slider-visual-thumb",7),Mt(8,"mat-slider-visual-thumb",7)),2&i&&(se(6),qe(r.showTickMarks?6:-1),se(),qe(r._isRange?7:-1),se(),Me("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[uee],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mat-slider-inactive-track-height, 4px)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mat-slider-active-track-shape, var(--mat-sys-corner-full));height:var(--mat-slider-active-track-height, 4px);top:calc((var(--mat-slider-inactive-track-height, 4px) - var(--mat-slider-active-track-height, 4px))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mat-slider-active-track-color, var(--mat-sys-primary));border-top-width:var(--mat-slider-active-track-height, 4px)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mat-slider-disabled-active-track-color, var(--mat-sys-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mat-slider-inactive-track-color, var(--mat-sys-surface-variant));height:var(--mat-slider-inactive-track-height, 4px);border-radius:var(--mat-slider-inactive-track-shape, var(--mat-sys-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mat-slider-disabled-inactive-track-color, var(--mat-sys-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:var(--mat-slider-value-indicator-container-transform, translateX(-50%) rotate(-45deg))}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;transform:scale(0);transform-origin:var(--mat-slider-value-indicator-transform-origin, 0 28px);transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mat-slider-label-container-color, var(--mat-sys-primary));color:var(--mat-slider-label-label-text-color, var(--mat-sys-on-primary));width:var(--mat-slider-value-indicator-width, 28px);height:var(--mat-slider-value-indicator-height, 28px);padding:var(--mat-slider-value-indicator-padding, 0);opacity:var(--mat-slider-value-indicator-opacity, 1);border-radius:var(--mat-slider-value-indicator-border-radius, 50% 50% 50% 0)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display, none);border-top-color:var(--mat-slider-label-container-color, var(--mat-sys-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width, 28px);transform:var(--mat-slider-value-indicator-text-transform, rotate(45deg));font-family:var(--mat-slider-label-label-text-font, var(--mat-sys-label-medium-font));font-size:var(--mat-slider-label-label-text-size, var(--mat-sys-label-medium-size));font-weight:var(--mat-slider-label-label-text-weight, var(--mat-sys-label-medium-weight));line-height:var(--mat-slider-label-label-text-line-height, var(--mat-sys-label-medium-line-height));letter-spacing:var(--mat-slider-label-label-text-tracking, var(--mat-sys-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mat-slider-handle-width, 20px);height:var(--mat-slider-handle-height, 20px);border-width:calc(var(--mat-slider-handle-height, 20px)/2) calc(var(--mat-slider-handle-width, 20px)/2);box-shadow:var(--mat-slider-handle-elevation, var(--mat-sys-level1));background-color:var(--mat-slider-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-handle-color, var(--mat-sys-primary));border-radius:var(--mat-slider-handle-shape, var(--mat-sys-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mat-slider-hover-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-hover-handle-color, var(--mat-sys-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mat-slider-focus-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-focus-handle-color, var(--mat-sys-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mat-slider-disabled-handle-color, var(--mat-sys-on-surface));border-color:var(--mat-slider-disabled-handle-color, var(--mat-sys-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mat-slider-with-overlap-handle-outline-color, var(--mat-sys-on-primary));border-width:var(--mat-slider-with-overlap-handle-outline-width, 1px)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mat-slider-with-tick-marks-container-size, 2px);height:var(--mat-slider-with-tick-marks-container-size, 2px);border-radius:var(--mat-slider-with-tick-marks-container-shape, var(--mat-sys-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mat-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-inactive-container-color, var(--mat-sys-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mat-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-disabled-container-color, var(--mat-sys-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mat-slider-with-tick-marks-active-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-active-container-color, var(--mat-sys-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__input{cursor:auto}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-sys-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 5%, transparent))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 20%, transparent))}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-focus-indicator::before{content:""}\n'],encapsulation:2,changeDetection:0})}return e})();const fee={provide:vr,useExisting:an(()=>hw),multi:!0};let hw=(()=>{class e{_ngZone=E(Be);_elementRef=E(ut);_cdr=E(Wt);_slider=E(dw);_platform=E(cn);_listenerCleanups;get value(){return yi(this._hostElement.value,0)}set value(t){null===t&&(t=this._getDefaultValue());const i=(t=isNaN(t)?0:t)+"";this._hasSetInitialValue?this._isActive||this._setValue(i):this._initialValue=i}_setValue(t){this._hostElement.value=t,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}valueChange=new _t;dragStart=new _t;dragEnd=new _t;get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}_translateX;thumbPosition=mt.END;get min(){return yi(this._hostElement.min,0)}set min(t){this._hostElement.min=t+"",this._cdr.detectChanges()}get max(){return yi(this._hostElement.max,0)}set max(t){this._hostElement.max=t+"",this._cdr.detectChanges()}get step(){return yi(this._hostElement.step,0)}set step(t){this._hostElement.step=t+"",this._cdr.detectChanges()}get disabled(){return Ht(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=t,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_hostElement=this._elementRef.nativeElement;_valuetext=gi("");_knobRadius=8;_tickMarkOffset=3;_isActive=!1;_isFocused=!1;_setIsFocused(t){this._isFocused=t}_hasSetInitialValue=!1;_initialValue;_formControl;_destroyed=new je;_skipUIUpdate=!1;_onChangeFn;_onTouchedFn=()=>{};_isControlInitialized=!1;constructor(){const t=E(Wn);this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[t.listen(this._hostElement,"pointerdown",this._onPointerDown.bind(this)),t.listen(this._hostElement,"pointermove",this._onPointerMove.bind(this)),t.listen(this._hostElement,"pointerup",this._onPointerUp.bind(this))]})}ngOnDestroy(){this._listenerCleanups.forEach(t=>t()),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const i=t.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/o),p=Math.round((this._slider._isRtl?1-i/r:i/r)*s)/s*(this._slider.max-this._slider.min)+this._slider.min,y=Math.round(p/o)*o;if(y===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=y,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(t){const i=this._tickMarkOffset;return Math.max(Math.min(t,this._slider._cachedWidth-this._tickMarkOffset),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){(this._isControlInitialized||null!==t)&&(this.value=t)}registerOnChange(t){this._onChangeFn=t,this._isControlInitialized=!0}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ae({type:e,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,r){1&i&&ze("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&i&&Ue("aria-valuetext",r._valuetext())},inputs:{value:[2,"value","value",yi]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Rt([fee,{provide:iP,useExisting:e}])]})}return e})();const gee=["determinateSpinner"];function _ee(e,n){if(1&e&&(sc(),ue(0,"svg",11),Mt(1,"circle",12),pe()),2&e){const t=Ie();Ue("viewBox",t._viewBox()),se(),ei("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Ue("r",t._circleRadius())}}const vee=new fe("mat-progress-spinner-default-options",{providedIn:"root",factory:function bee(){return{diameter:sP}}}),sP=100;let wee=(()=>{class e{_elementRef=E(ut);_noopAnimations;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";_determinateCircle;constructor(){const t=E(vee),i=ey(),r=this._elementRef.nativeElement;this._noopAnimations="di-disabled"===i&&!!t&&!t._forceAnimations,this.mode="mat-spinner"===r.nodeName.toLowerCase()?"indeterminate":"determinate",!this._noopAnimations&&"reduced-motion"===i&&r.classList.add("mat-progress-spinner-reduced-motion"),t&&(t.color&&(this.color=this._defaultColor=t.color),t.diameter&&(this.diameter=t.diameter),t.strokeWidth&&(this.strokeWidth=t.strokeWidth))}mode;get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}_value=0;get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}_diameter=sP;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_strokeWidth;_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=it({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(1&i&&bt(gee,5),2&i){let o;Ze(o=Ye())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,r){2&i&&(Ue("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Br("mat-"+r.color),ei("width",r.diameter,"px")("height",r.diameter,"px")("--mat-progress-spinner-size",r.diameter+"px")("--mat-progress-spinner-active-indicator-width",r.diameter+"px"),ot("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",yi],diameter:[2,"diameter","diameter",yi],strokeWidth:[2,"strokeWidth","strokeWidth",yi]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(1&i&&(Vi(0,_ee,2,8,"ng-template",null,0,Qs),ue(2,"div",2,1),sc(),ue(4,"svg",3),Mt(5,"circle",4),pe()(),function yC(){!function LN(){vt.lFrame.currentNamespace=null}()}(),ue(6,"div",5)(7,"div",6)(8,"div",7),Xc(9,8),pe(),ue(10,"div",9),Xc(11,8),pe(),ue(12,"div",10),Xc(13,8),pe()()()),2&i){const o=Ys(1);se(4),Ue("viewBox",r._viewBox()),se(),ei("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Ue("r",r._circleRadius()),se(4),Me("ngTemplateOutlet",o),se(2),Me("ngTemplateOutlet",o),se(2),Me("ngTemplateOutlet",o)}},dependencies:[Wb],styles:[".mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}\n"],encapsulation:2,changeDetection:0})}return e})();const Cee=["contentSearchResult"],xee=["query"],Tee=["hitButton"],aP=(e,n)=>n.id;function Eee(e,n){if(1&e&&(ue(0,"mat-toolbar",4)(1,"button",16)(2,"mat-icon"),Ne(3,"close"),pe()(),ue(4,"h1",17),Ne(5),pe()()),2&e){const t=Ie();se(),bi("aria-label",t.intl.closeLabel),Me("matTooltip",t.intl.closeLabel)("matDialogClose",!0),se(4),Lt(t.intl.searchLabel)}}function Dee(e,n){if(1&e&&(ue(0,"mat-toolbar",5)(1,"h1",18),Ne(2),pe(),ue(3,"button",16)(4,"mat-icon"),Ne(5,"close"),pe()()()),2&e){const t=Ie();se(2),Lt(t.intl.searchLabel),se(),bi("aria-label",t.intl.closeLabel),Me("matTooltip",t.intl.closeLabel)("matDialogClose",!0)}}function See(e,n){if(1&e){const t=Yt();ue(0,"button",19),ze("click",function(){return Je(t),$e(Ie().clear())}),ue(1,"mat-icon",10),Ne(2,"clear"),pe()()}if(2&e){const t=Ie();Me("matTooltip",t.intl.clearSearchLabel)("disabled",t.isSearching),Ue("aria-label",t.intl.clearSearchLabel)}}function Iee(e,n){if(1&e&&Mt(0,"div",23),2&e){const t=Ie(3);Me("innerHTML",t.intl.resultsFoundLabel(t.numberOfHits,t.currentSearch),Vn)}}function Mee(e,n){if(1&e&&Mt(0,"div",24),2&e){const t=Ie(3);Me("innerHTML",t.intl.noResultsFoundLabel(t.currentSearch),Vn)}}function Ree(e,n){1&e&&Xe(0,Iee,1,1,"div",23)(1,Mee,1,1,"div",24),2&e&&qe(Ie(2).numberOfHits>0?0:1)}function Aee(e,n){if(1&e){const t=Yt();ue(0,"a",25),ze("click",function(){const r=Je(t).$implicit;return $e(Ie(2).goToHit(r))})("keydown.enter",function(){const r=Je(t).$implicit;return $e(Ie(2).goToHit(r))}),ue(1,"mat-card",26)(2,"mat-card-content")(3,"div",27)(4,"div",28),Ne(5),ue(6,"em"),Ne(7),pe(),Ne(8),pe(),ue(9,"div",29),Ne(10),pe()()()()()}if(2&e){const t=n.$implicit,i=Ie(2);se(),ot("selected",i.currentHit&&t.id===i.currentHit.id),se(4),ts("",t.before," "),se(2),Lt(t.match),se(),ts(" ",t.after),se(2),Lt(t.index+1)}}function kee(e,n){if(1&e&&(Mt(0,"input",20),Xe(1,Ree,2,1),ue(2,"div",21),qs(3,Aee,11,6,"a",22,aP),pe()),2&e){const t=Ie();Me("value",t.numberOfHits),se(),qe(t.currentSearch&&t.currentSearch.length>0?1:-1),se(2),Zs(t.hits)}}function Oee(e,n){1&e&&Mt(0,"mat-progress-bar",15)}const Pee=(e,n)=>n.label;function Nee(e,n){if(1&e&&($t(0,"div",1)(1,"div",3),Ne(2),Zt(),mn(3,"span",4),Zt()),2&e){const t=n.$implicit;se(2),Lt(t.label),se(),fr("innerHTML",t.value,Vn)}}function Fee(e,n){if(1&e&&($t(0,"div",3),Ne(1),Zt(),mn(2,"span",5)),2&e){const t=Ie(2);se(),Lt(t.intl.attributionLabel),se(),fr("innerHTML",t.manifest.attribution,Vn)}}function Lee(e,n){if(1&e&&($t(0,"div",3),Ne(1),Zt(),$t(2,"span",6)(3,"a",7),Ne(4),Zt()()),2&e){const t=Ie(2);se(),Lt(t.intl.licenseLabel),se(2),fr("href",t.manifest.license,th),se(),Lt(t.manifest.license)}}function Bee(e,n){1&e&&mn(0,"img",2),2&e&&fr("src",Ie(2).manifest.logo,th)}function Hee(e,n){if(1&e&&($t(0,"div",0),qs(1,Nee,4,2,"div",1,Pee),Xe(3,Fee,3,2),Xe(4,Lee,5,3),Xe(5,Bee,1,1,"img",2),Zt()),2&e){const t=Ie();se(),Zs(t.manifest.metadata),se(2),qe(t.manifest.attribution?3:-1),se(),qe(t.manifest.license?4:-1),se(),qe(t.manifest.logo?5:-1)}}function Vee(e,n){if(1&e){const t=Yt();$t(0,"a",2),vv("click",function(r){const o=Je(t).$implicit;return $e(Ie().goToCanvas(r,o.canvasIndex))}),$t(1,"span",3),Ne(2),Zt(),$t(3,"span",4),Ne(4),Zt()()}if(2&e){const t=n.$implicit;ot("currentCanvasGroup",Ie().currentCanvasGroupIndex===t.canvasIndex),se(2),Lt(t.label),se(2),Lt(t.canvasIndex+1)}}function zee(e,n){if(1&e&&(ue(0,"mat-toolbar",1)(1,"button",7)(2,"mat-icon"),Ne(3,"close"),pe()(),ue(4,"h1",8),Ne(5),pe()()),2&e){const t=Ie();se(),bi("aria-label",t.intl.closeLabel),Me("matTooltip",t.intl.closeLabel)("matDialogClose",!0),se(4),Lt(t.intl.informationLabel)}}function jee(e,n){if(1&e&&(ue(0,"mat-toolbar",2)(1,"h1",8),Ne(2),pe(),ue(3,"button",7)(4,"mat-icon"),Ne(5,"close"),pe()()()),2&e){const t=Ie();se(2),Lt(t.intl.informationLabel),se(),bi("aria-label",t.intl.closeLabel),Me("matTooltip",t.intl.closeLabel)("matDialogClose",!0)}}function Uee(e,n){if(1&e){const t=Yt();ue(0,"mat-tab",5)(1,"div",6)(2,"mime-toc",9),ze("canvasChanged",function(){return Je(t),$e(Ie().onCanvasChanged())}),pe()()()}if(2&e){const t=Ie();Me("label",t.intl.tocLabel),se(),Me("ngStyle",t.tabHeight)}}function Gee(e,n){1&e&&($t(0,"div",1),sc(),$t(1,"svg",2)(2,"style",3),Ne(3," .st0 { clip-path: url(#SVGID_2_); } "),Zt(),$t(4,"g")(5,"defs"),mn(6,"rect",4),Zt(),$t(7,"clipPath"),mn(8,"use",5),Zt(),mn(9,"path",6),Zt()()())}function Wee(e,n){1&e&&(sc(),$t(0,"svg",2)(1,"style",3),Ne(2," .st0 { clip-path: url(#SVGID_2_); } "),Zt(),$t(3,"g")(4,"defs"),mn(5,"rect",4),Zt(),$t(6,"clipPath"),mn(7,"use",7),Zt(),mn(8,"path",8)(9,"path",9),Zt()())}function Xee(e,n){if(1&e&&(ue(0,"mat-toolbar",0)(1,"button",4)(2,"mat-icon"),Ne(3,"close"),pe()(),ue(4,"h1",5),Ne(5),pe()()),2&e){const t=Ie();se(),bi("aria-label",t.intl.closeLabel),Me("matTooltip",t.intl.closeLabel)("matDialogClose",!0),se(4),Lt(t.intl.layoutMenuLabel)}}function qee(e,n){if(1&e&&(ue(0,"mat-toolbar",1)(1,"h1",6),Ne(2),pe(),ue(3,"button",4)(4,"mat-icon"),Ne(5,"close"),pe()()()),2&e){const t=Ie();se(2),Lt(t.intl.layoutMenuLabel),se(),bi("aria-label",t.intl.closeLabel),Me("matTooltip",t.intl.closeLabel)("matDialogClose",!0)}}function Zee(e,n){if(1&e){const t=Yt();ue(0,"section",3)(1,"h2"),Ne(2),pe(),ue(3,"div",7)(4,"div",8)(5,"mat-button-toggle",9),ze("click",function(){return Je(t),$e(Ie().setLayoutOnePage())}),Mt(6,"mime-icon",10),pe(),ue(7,"div",11),Ne(8),pe()(),ue(9,"div",8)(10,"mat-button-toggle",12),ze("click",function(){return Je(t),$e(Ie().setLayoutTwoPage())}),Mt(11,"mime-icon",10),pe(),ue(12,"div",11),Ne(13),pe()()()()}if(2&e){const t=Ie();se(2),Lt(t.intl.pageLayoutLabel),se(),Ue("aria-label",t.intl.pageLayoutLabel),se(2),bi("aria-label",t.intl.singlePageViewLabel),Me("value",t.ViewerLayout.ONE_PAGE)("checked",t.viewerLayout===t.ViewerLayout.ONE_PAGE),se(),Me("iconName","single_page_display"),se(2),Lt(t.intl.singlePageViewLabel),se(2),bi("aria-label",t.intl.twoPageViewLabel),Me("value",t.ViewerLayout.TWO_PAGE)("checked",t.viewerLayout===t.ViewerLayout.TWO_PAGE),se(),Me("iconName","two_page_display"),se(2),Lt(t.intl.twoPageViewLabel)}}function Yee(e,n){if(1&e){const t=Yt();Mt(0,"mat-divider"),ue(1,"section",13)(2,"h2"),Ne(3),pe(),ue(4,"div",7)(5,"div",8)(6,"mat-button-toggle",14),ze("click",function(){return Je(t),$e(Ie().closeRecognizedTextContent())}),ue(7,"mat-icon"),Ne(8,"hide_source"),pe()(),ue(9,"div",11),Ne(10),pe()(),ue(11,"div",8)(12,"mat-button-toggle",15),ze("click",function(){return Je(t),$e(Ie().showRecognizedTextContentInSplitView())}),ue(13,"mat-icon"),Ne(14,"view_sidebar"),pe()(),ue(15,"div",11),Ne(16),pe()(),ue(17,"div",8)(18,"mat-button-toggle",16),ze("click",function(){return Je(t),$e(Ie().showRecognizedTextContentOnly())}),ue(19,"mat-icon"),Ne(20,"article"),pe()(),ue(21,"div",11),Ne(22),pe()()()()}if(2&e){const t=Ie();se(3),Lt(t.intl.digitalTextLabel),se(),Ue("aria-label",t.intl.digitalTextLabel),se(2),bi("aria-label",t.intl.recognizedTextContentCloseLabel),Me("value",t.RecognizedTextMode.NONE)("checked",t.recognizedTextMode===t.RecognizedTextMode.NONE),se(4),Lt(t.intl.recognizedTextContentCloseLabel),se(2),bi("aria-label",t.intl.recognizedTextContentInSplitViewLabel),Me("value",t.RecognizedTextMode.SPLIT)("checked",t.recognizedTextMode===t.RecognizedTextMode.SPLIT),se(4),Lt(t.intl.recognizedTextContentInSplitViewLabel),se(2),bi("aria-label",t.intl.showRecognizedTextContentLabel),Me("value",t.RecognizedTextMode.ONLY)("checked",t.recognizedTextMode===t.RecognizedTextMode.ONLY),se(4),Lt(t.intl.showRecognizedTextContentLabel)}}const lP=["container"];function Kee(e,n){if(1&e&&(ue(0,"mat-error"),Ne(1),pe()),2&e){const t=Ie();se(),Lt(t.intl.pageDoesNotExists)}}function Qee(e,n){if(1&e&&(ue(0,"mat-toolbar",1)(1,"button",5)(2,"mat-icon"),Ne(3,"close"),pe()(),ue(4,"h1",6),Ne(5),pe()()),2&e){const t=Ie();se(),bi("aria-label",t.intl.helpCloseAriaLabel),Me("matTooltip",t.intl.closeLabel)("matDialogClose",!0),se(4),Lt(t.intl.help.helpLabel)}}function Jee(e,n){if(1&e&&(ue(0,"mat-toolbar",2)(1,"h1",7),Ne(2),pe(),ue(3,"button",5)(4,"mat-icon"),Ne(5,"close"),pe()()()),2&e){const t=Ie();se(2),Lt(t.intl.help.helpLabel),se(),bi("aria-label",t.intl.helpCloseAriaLabel),Me("matTooltip",t.intl.closeLabel)("matDialogClose",!0)}}function $ee(e,n){if(1&e){const t=Yt();ue(0,"button",12),ze("click",function(){return Je(t),$e(Ie(2).goToPreviousCanvasGroup())}),ue(1,"mat-icon"),Ne(2,"navigate_before"),pe()()}if(2&e){const t=Ie(2);ei("--delayEnter",0)("--delayLeave",5*t.baseAnimationDelay),Me("matTooltip",t.intl.previousPageLabel)("disabled",t.isFirstCanvasGroup),Ue("aria-label",t.intl.previousPageLabel)}}function ete(e,n){if(1&e){const t=Yt();ue(0,"button",13),ze("click",function(){return Je(t),$e(Ie(2).goToNextCanvasGroup())}),ue(1,"mat-icon"),Ne(2,"navigate_before"),pe()()}if(2&e){const t=Ie(2);ei("--delayEnter",0)("--delayLeave",5*t.baseAnimationDelay),Me("matTooltip",t.intl.nextPageLabel)("disabled",t.isLastCanvasGroup),Ue("aria-label",t.intl.nextPageLabel)}}function tte(e,n){if(1&e){const t=Yt();ue(0,"button",13),ze("click",function(){return Je(t),$e(Ie(2).goToNextCanvasGroup())}),ue(1,"mat-icon"),Ne(2,"navigate_next"),pe()()}if(2&e){const t=Ie(2);ei("--delayEnter",t.baseAnimationDelay)("--delayLeave",4*t.baseAnimationDelay),Me("matTooltip",t.intl.nextPageLabel)("disabled",t.isLastCanvasGroup),Ue("aria-label",t.intl.nextPageLabel)}}function nte(e,n){if(1&e){const t=Yt();ue(0,"button",12),ze("click",function(){return Je(t),$e(Ie(2).goToPreviousCanvasGroup())}),ue(1,"mat-icon"),Ne(2,"navigate_next"),pe()()}if(2&e){const t=Ie(2);ei("--delayEnter",t.baseAnimationDelay)("--delayLeave",4*t.baseAnimationDelay),Me("matTooltip",t.intl.previousPageLabel)("disabled",t.isFirstCanvasGroup),Ue("aria-label",t.intl.previousPageLabel)}}function ite(e,n){if(1&e){const t=Yt();ue(0,"div",2)(1,"div",3)(2,"button",4),ze("click",function(){return Je(t),$e(Ie().toggleFab())}),ue(3,"mat-icon"),Ne(4),pe()()(),ue(5,"div",5),Xe(6,$ee,3,7,"button",6)(7,ete,3,7,"button",7),Xe(8,tte,3,7,"button",7)(9,nte,3,7,"button",6),ue(10,"button",8),ze("click",function(){return Je(t),$e(Ie().zoomIn())}),ue(11,"mat-icon"),Ne(12,"zoom_in"),pe()(),ue(13,"button",9),ze("click",function(){return Je(t),$e(Ie().home())}),ue(14,"mat-icon"),Ne(15,"home"),pe()(),ue(16,"button",10),ze("click",function(){return Je(t),$e(Ie().zoomOut())}),ue(17,"mat-icon"),Ne(18,"zoom_out"),pe()(),ue(19,"button",11),ze("click",function(){return Je(t),$e(Ie().rotate())}),ue(20,"mat-icon"),Ne(21,"rotate_right"),pe()()()()}if(2&e){const t=Ie();se(2),Me("matTooltip","open"===t.fabState?t.intl.closeOsdControlPanelLabel:t.intl.openOsdControlPanelLabel),Ue("aria-expanded","open"===t.fabState)("aria-label","open"===t.fabState?t.intl.closeOsdControlPanelLabel:t.intl.openOsdControlPanelLabel),se(2),Lt(t.fabIcon),se(2),qe(t.invert?6:7),se(2),qe(t.invert?8:9),se(2),ei("--delayEnter",2*t.baseAnimationDelay)("--delayLeave",3*t.baseAnimationDelay),Me("matTooltip",t.intl.zoomInLabel),Ue("aria-label",t.intl.zoomInLabel),se(3),ei("--delayEnter",3*t.baseAnimationDelay)("--delayLeave",2*t.baseAnimationDelay),Me("disabled",!t.isZoomed)("matTooltip",t.intl.resetZoomLabel),Ue("aria-label",t.intl.resetZoomLabel),se(3),ei("--delayEnter",4*t.baseAnimationDelay)("--delayLeave",t.baseAnimationDelay),Me("matTooltip",t.intl.zoomOutLabel),Ue("aria-label",t.intl.zoomOutLabel),se(3),ei("--delayEnter",5*t.baseAnimationDelay)("--delayLeave",0),Me("matTooltip",t.intl.rotateCwLabel),Ue("aria-label",t.intl.rotateCwLabel)}}const rte=["recognizedTextContentContainer"];function ote(e,n){if(1&e&&($t(0,"div",2),Ne(1),Zt()),2&e){const t=Ie();se(),Lt(t.error)}}function ste(e,n){1&e&&mn(0,"div",3),2&e&&fr("innerHTML",Ie(2).firstCanvasRecognizedTextContent,Vn)}function ate(e,n){1&e&&mn(0,"div",4),2&e&&fr("innerHTML",Ie(2).secondCanvasRecognizedTextContent,Vn)}function lte(e,n){if(1&e&&(Xe(0,ste,1,1,"div",3),Xe(1,ate,1,1,"div",4)),2&e){const t=Ie();qe(t.firstCanvasRecognizedTextContent?0:-1),se(),qe(t.secondCanvasRecognizedTextContent?1:-1)}}function cte(e,n){if(1&e){const t=Yt();ue(0,"button",7),ze("click",function(){return Je(t),$e(Ie().goToPreviousCanvasGroup())}),ue(1,"mat-icon"),Ne(2,"navigate_before"),pe()(),ue(3,"button",8),ze("click",function(){return Je(t),$e(Ie().goToNextCanvasGroup())}),ue(4,"mat-icon"),Ne(5,"navigate_next"),pe()()}if(2&e){const t=Ie();Me("matTooltip",t.intl.previousPageLabel)("disabled",t.isFirstCanvasGroup),Ue("aria-label",t.intl.previousPageLabel),se(3),Me("matTooltip",t.intl.nextPageLabel)("disabled",t.isLastCanvasGroup),Ue("aria-label",t.intl.nextPageLabel)}}function ute(e,n){if(1&e){const t=Yt();ue(0,"button",8),ze("click",function(){return Je(t),$e(Ie().goToNextCanvasGroup())}),ue(1,"mat-icon"),Ne(2,"navigate_before"),pe()(),ue(3,"button",7),ze("click",function(){return Je(t),$e(Ie().goToPreviousCanvasGroup())}),ue(4,"mat-icon"),Ne(5,"navigate_next"),pe()()}if(2&e){const t=Ie();Me("matTooltip",t.intl.nextPageLabel)("disabled",t.isLastCanvasGroup),Ue("aria-label",t.intl.nextPageLabel),se(3),Me("matTooltip",t.intl.previousPageLabel)("disabled",t.isFirstCanvasGroup),Ue("aria-label",t.intl.previousPageLabel)}}const dte=e=>({"not-on-page":e});function hte(e,n){if(1&e){const t=Yt();ue(0,"button",4),ze("click",function(){return Je(t),$e(Ie(2).goToNextHit())}),ue(1,"mat-icon"),Ne(2,"navigate_before"),pe()(),ue(3,"button",5),ze("click",function(){return Je(t),$e(Ie(2).goToPreviousHit())}),ue(4,"mat-icon"),Ne(5,"navigate_next"),pe()()}if(2&e){const t=Ie(2);Me("matTooltip",t.intl.nextHitLabel)("disabled",t.isLastHit),Ue("aria-label",t.intl.nextHitLabel),se(3),Me("matTooltip",t.intl.previousHitLabel)("disabled",t.isFirstHit),Ue("aria-label",t.intl.previousHitLabel)}}function fte(e,n){if(1&e){const t=Yt();ue(0,"button",5),ze("click",function(){return Je(t),$e(Ie(2).goToPreviousHit())}),ue(1,"mat-icon"),Ne(2,"navigate_before"),pe()(),ue(3,"button",4),ze("click",function(){return Je(t),$e(Ie(2).goToNextHit())}),ue(4,"mat-icon"),Ne(5,"navigate_next"),pe()()}if(2&e){const t=Ie(2);Me("matTooltip",t.intl.previousHitLabel)("disabled",t.isFirstHit),Ue("aria-label",t.intl.previousHitLabel),se(3),Me("matTooltip",t.intl.nextHitLabel)("disabled",t.isLastHit),Ue("aria-label",t.intl.nextHitLabel)}}function pte(e,n){if(1&e){const t=Yt();ue(0,"mat-toolbar",0)(1,"button",1),ze("click",function(){return Je(t),$e(Ie().clear())}),ue(2,"mat-icon"),Ne(3,"close"),pe()(),Mt(4,"div",2),ue(5,"div",3),Xe(6,hte,6,6)(7,fte,6,6),pe()()}if(2&e){const t=Ie();se(),Me("matTooltip",t.intl.closeLabel),Ue("aria-label",t.intl.closeLabel),se(3),Me("ngClass",Mv(5,dte,!t.isHitOnActiveCanvasGroup))("innerHTML",t.intl.currentHitLabel(t.currentHit+1,t.searchResult.size()),Vn),se(2),qe(t.invert?6:7)}}const mte=["mimeFooterBefore"],gte=["mimeFooterAfter"],_te=e=>({"w-full":e});function vte(e,n){}function bte(e,n){if(1&e&&Mt(0,"mime-content-search-navigator",4)(1,"mat-divider",5),2&e){const t=Ie();Me("ngClass",Mv(2,_te,!t.showPageNavigator))("searchResult",t.searchResult)}}function yte(e,n){}const wte=["mimeHeaderBefore"],Cte=["mimeHeaderAfter"],xte=["viewMenu"];function Tte(e,n){}function Ete(e,n){if(1&e&&(ue(0,"div",4),Ne(1),pe()),2&e){const t=Ie();Me("matTooltip",t.manifest.label),se(),Lt(t.manifest.label)}}function Dte(e,n){if(1&e){const t=Yt();ue(0,"button",11,2),ze("click",function(){return Je(t),$e(Ie().toggleView())}),ue(2,"mat-icon",7),Ne(3,"view_module"),pe()()}if(2&e){const t=Ie();Me("matTooltip",t.intl.layoutMenuLabel),Ue("aria-label",t.intl.layoutMenuLabel)}}function Ste(e,n){if(1&e){const t=Yt();ue(0,"button",12),ze("click",function(){return Je(t),$e(Ie().toggleSearch())}),ue(1,"mat-icon",7),Ne(2,"search"),pe()()}if(2&e){const t=Ie();Me("matTooltip",t.intl.searchLabel),Ue("aria-label",t.intl.searchLabel)}}function Ite(e,n){1&e&&(ue(0,"mat-icon",7),Ne(1,"fullscreen_exit"),pe())}function Mte(e,n){1&e&&(ue(0,"mat-icon",7),Ne(1,"fullscreen"),pe())}function Rte(e,n){if(1&e){const t=Yt();ue(0,"button",13),ze("click",function(){return Je(t),$e(Ie().toggleFullscreen())}),Xe(1,Ite,2,0,"mat-icon",7)(2,Mte,2,0,"mat-icon",7),pe()}if(2&e){const t=Ie();Me("matTooltip",t.fullscreenLabel),Ue("aria-label",t.fullscreenLabel),se(),qe(t.isInFullscreen?1:2)}}function Ate(e,n){}const kte=["mimeHeader"],Ote=["mimeFooter"],Pte=(e,n,t)=>({only:e,split:n,open:t});function Nte(e,n){1&e&&Mt(0,"mime-osd-toolbar"),2&e&&ot("show",Ie().osdToolbarState)}function Fte(e,n){1&e&&Mt(0,"mime-recognized-text-content")}function Lte(e,n){if(1&e&&(ue(0,"div",9),Ne(1),pe()),2&e){const t=Ie();se(),ts(" ",t.intl.somethingHasGoneWrongLabel," ")}}class fw{constructor(){this.helpLabel="Help",this.line1="<strong>ARROW LEFT</strong> or <strong>PAGE UP</strong>: Previous page",this.line2="<strong>ARROW RIGHT</strong> or <strong>PAGE DOWN</strong>: Next page",this.line3="<strong>HOME</strong>: Go to first page",this.line4="<strong>END</strong>: Go to last page",this.line5="<strong>C</strong>: Show more information about the object. (Close with <strong>ESC</strong>.)",this.line6="<strong>S</strong>: Search inside the object. (Close with <strong>ESC</strong>.)",this.line7="<strong>N</strong>: Next result",this.line8="<strong>P</strong>: Previous result",this.line9="<strong>F</strong>: Fullscreen on/off (Close with <strong>F</strong> or <strong>ESC</strong>.)",this.line10="<strong>R</strong>: Rotate 90\xb0",this.line11="<strong>T</strong>:  Show/hide optically recognized text (for content that can be displayed).",this.line12="<strong>Shift-S</strong>: Clear text search"}}let Ln=(()=>{var e;class n{constructor(){this.changes=new je,this.help=new fw,this.closeLabel="Close",this.attributionLabel="Attribution",this.attributonCloseAriaLabel="Close attribution dialog",this.helpCloseAriaLabel="Close help dialog",this.informationLabel="Information",this.layoutMenuLabel="View",this.pageLayoutLabel="Page layout",this.singlePageViewLabel="Single pages",this.twoPageViewLabel="Two pages",this.digitalTextLabel="Digital text",this.recognizedTextContentCloseLabel="None",this.recognizedTextContentInSplitViewLabel="Split",this.showRecognizedTextContentLabel="Digital text only",this.metadataLabel="Metadata",this.licenseLabel="License",this.tocLabel="Table of Contents",this.fullScreenLabel="Full screen",this.exitFullScreenLabel="Exit full screen",this.openOsdControlPanelLabel="Open control panel",this.closeOsdControlPanelLabel="Close control panel",this.zoomInLabel="Zoom in",this.zoomOutLabel="Zoom out",this.resetZoomLabel="Reset zoom",this.previousPageLabel="Previous Page",this.nextPageLabel="Next Page",this.rotateCwLabel="Rotate 90\xb0",this.searchLabel="Search",this.clearSearchLabel="Clear",this.previousHitLabel="Previous Hit",this.nextHitLabel="Next Hit",this.goToPageLabel="Go to page",this.currentPageLabel="Current page",this.enterPageNumber="Enter page number",this.dropDisabled="Sorry, but drag and drop is disabled",this.loading="Loading ...",this.rotationIsNotSupported="Rotation is not supported by your device",this.somethingHasGoneWrongLabel="Oh dear, something has gone terribly wrong...",this.manifestUriMissingLabel="ManifestUri is missing",this.manifestNotValidLabel="Manifest is not valid",this.pageDoesNotExists="Sorry, that page does not exist",this.textContentErrorLabel="Oh dear, i can't find the text for you",this.noResultsFoundLabel=i=>`No results found for <em class="current-search">${i}</em>`,this.resultsFoundLabel=(i,r)=>`${i} results found for <em class="current-search">${r}</em>`,this.currentHitLabel=(i,r)=>`${i} of ${r} hits`}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();class cP{constructor(n){n&&(this.currentValue=n.currentValue||this.currentValue,this.previousValue=n.previousValue||this.previousValue)}}var ti=function(e){return e.NONE="NONE",e.ONLY="ONLY",e.SPLIT="SPLIT",e}(ti||{}),dt=function(e){return e[e.DASHBOARD=0]="DASHBOARD",e[e.PAGE=1]="PAGE",e[e.PAGE_ZOOMED=2]="PAGE_ZOOMED",e[e.NAVIGATOR=3]="NAVIGATOR",e}(dt||{}),hi=function(e){return e[e.ONE_PAGE=0]="ONE_PAGE",e[e.TWO_PAGE=1]="TWO_PAGE",e}(hi||{});class $p{constructor(n){this.attributionDialogEnabled=!0,this.attributionDialogHideTimeout=-1,this.navigationControlEnabled=!0,this.initViewerMode=dt.PAGE,this.initViewerLayout=hi.TWO_PAGE,this.withCredentials=!1,this.loadTilesWithAjax=!1,this.crossOriginPolicy=!1,this.ajaxHeaders=null,this.preserveZoomOnCanvasGroupChange=!1,this.startOnTopOnCanvasGroupChange=!1,this.isDropEnabled=!1,this.initRecognizedTextContentMode=ti.NONE,this.ignorePhysicalScale=!1,n&&(this.attributionDialogEnabled=void 0!==n.attributionDialogEnabled?n.attributionDialogEnabled:this.attributionDialogEnabled,this.attributionDialogHideTimeout=n.attributionDialogHideTimeout||this.attributionDialogHideTimeout,this.navigationControlEnabled=void 0!==n.navigationControlEnabled?n.navigationControlEnabled:this.navigationControlEnabled,this.initViewerMode=void 0!==n.initViewerMode?n.initViewerMode:this.initViewerMode,this.initViewerLayout=void 0!==n.initViewerLayout?n.initViewerLayout:this.initViewerLayout,this.withCredentials=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,this.loadTilesWithAjax=void 0!==n.loadTilesWithAjax?n.loadTilesWithAjax:this.loadTilesWithAjax,this.crossOriginPolicy=void 0!==n.crossOriginPolicy?n.crossOriginPolicy:this.crossOriginPolicy,this.ajaxHeaders=void 0!==n.ajaxHeaders?n.ajaxHeaders:this.ajaxHeaders,this.preserveZoomOnCanvasGroupChange=void 0!==n.preserveZoomOnCanvasGroupChange?n.preserveZoomOnCanvasGroupChange:this.preserveZoomOnCanvasGroupChange,this.startOnTopOnCanvasGroupChange=void 0!==n.startOnTopOnCanvasGroupChange?n.startOnTopOnCanvasGroupChange:this.startOnTopOnCanvasGroupChange,this.isDropEnabled=void 0!==n.isDropEnabled?n.isDropEnabled:this.isDropEnabled,this.initRecognizedTextContentMode=void 0!==n.initRecognizedTextContentMode?n.initRecognizedTextContentMode:this.initRecognizedTextContentMode,this.ignorePhysicalScale=void 0!==n.ignorePhysicalScale?n.ignorePhysicalScale:this.ignorePhysicalScale)}}var Sn=function(e){return e.LTR="ltr",e.RTL="rtl",e}(Sn||{});class uP{constructor(n){this.viewingDirection=Sn.LTR,this.label="",this.structures=[],n&&(this.context=n.context||this.context,this.type=n.type||this.type,this.id=n.id||this.id,this.viewingDirection=n.viewingDirection||this.viewingDirection,this.label=n.label||this.label,this.metadata=n.metadata||this.metadata,this.license=n.license||this.license,this.logo=n.logo||this.logo,this.attribution=n.attribution||this.attribution,this.service=n.service||this.service,this.sequences=n.sequences||this.sequences,this.structures=n.structures||this.structures,this.tileSource=n.tileSource||this.tileSource,this.viewingHint=n.viewingHint||this.viewingHint)}}class dP{constructor(n,t){this.label=n,this.value=t}}class hP{constructor(n){n&&(this.id=n.id||this.id,this.type=n.type||this.type,this.label=n.label||this.label,this.viewingHint=n.viewingHint||this.viewingHint,this.canvases=n.canvases||this.canvases)}}class fP{constructor(n){n&&(this.id=n.id||this.id,this.type=n.type||this.type,this.label=n.label||this.label,this.thumbnail=n.thumbnail||this.thumbnail,this.height=n.height||this.height,this.width=n.width||this.width,this.images=n.images||this.images,this.altoUrl=n.altoUrl||this.altoUrl)}}class pP{constructor(n){n&&(this.id=n.id||this.id,this.type=n.type||this.type,this.motivation=n.motivation||this.motivation,this.resource=n.resource||this.resource,this.on=n.on||this.on)}}class mP{constructor(n){this.height=0,this.width=0,this.tileOverlap=0,n&&(this.id=n.id,this.type=n.type||this.type,this.format=n.format||this.format,this.service=n.service||this.service,this.height=n.height||this.height,this.width=n.width||this.width,this.tileOverlap=n.tileOverlap||this.tileOverlap)}}class gP{constructor(n){this.width=0,this.height=0,n&&(this.context=n.context||this.context,this.id=n.id||this.id,this.protocol=n.protocol||this.protocol,this.width=n.width||this.width,this.height=n.height||this.height,this.sizes=n.sizes||this.sizes,this.tiles=n.tiles||this.tiles,this.profile=n.profile||this.profile,this.physicalScale=n.physicalScale||this.physicalScale,this.physicalUnits=n.physicalUnits||this.physicalUnits,this.service=n.service||this.service)}}class _P{constructor(n,t){this.width=n,this.height=t}}class vP{constructor(n){n&&(this.width=n.width||this.width,this.scaleFactors=n.scaleFactors||this.scaleFactors)}}class bP{constructor(n){this.type="",this.canvases=[],this.canvasIndex=0,n&&(this.id=n.id||this.id,this.type=n.type||this.type,this.label=n.label||this.label,this.canvases=n.canvases||this.canvases,this.canvasIndex=n.canvasIndex)}}let pw=(()=>{var e;class n{constructor(){this.changeSubject=new Dl,this.onchange()}get onChange(){return this.changeSubject.asObservable()}isEnabled(){const i=document;return i.fullscreenEnabled||i.webkitFullscreenEnabled||i.mozFullScreenEnabled||i.msFullscreenEnabled}isFullscreen(){const i=document;return i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement}toggle(i){this.isFullscreen()?this.closeFullscreen(i):this.openFullscreen(i)}onchange(){const i=document,r=()=>{this.changeSubject.next(!0)};i.fullscreenEnabled?document.addEventListener("fullscreenchange",r):i.webkitFullscreenEnabled?document.addEventListener("webkitfullscreenchange",r):i.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",r):i.msFullscreenEnabled&&document.addEventListener("msfullscreenchange",r)}openFullscreen(i){i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen()}closeFullscreen(i){const r=document;r.exitFullscreen?r.exitFullscreen():r.mozCancelFullScreen?r.mozCancelFullScreen():r.webkitExitFullscreen?r.webkitExitFullscreen():r.msExitFullscreen&&r.msExitFullscreen()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();class so{constructor(n){this.bottom=0,this.height=0,this.left=0,this.right=0,this.top=0,this.width=0,n&&(this.bottom=n.bottom||this.bottom,this.height=n.height||this.height,this.left=n.left||this.left,this.right=n.right||this.right,this.top=n.top||this.top,this.width=n.width||this.width)}}class zte{withStringXml(n){return this.stringXml=n,this}build(){return this.stringXml?this.stringXml.filter(n=>!n.$.SUBS_CONTENT||"HypPart1"===n.$.SUBS_TYPE).map(n=>({content:n.$.SUBS_CONTENT||n.$.CONTENT})):[]}}class jte{constructor(){this.stringBuilder=new zte}withTextLinesXml(n){return this.textLinesXml=n,this}build(){return this.textLinesXml?this.textLinesXml.map(n=>({strings:this.stringBuilder.withStringXml(n.String).build()})):[]}}class Ute{constructor(){this.textLinesBuilder=new jte}withTextBlocksXml(n){return this.textBlocksXml=n,this}withTextStyles(n){return this.textStyles=n,this}build(){return this.textBlocksXml?this.textBlocksXml.map(n=>{const t=n.$.STYLEREFS?.split(" ");let i;return t&&this.textStyles&&(i=this.textStyles.get(t[0])),{textLines:this.textLinesBuilder.withTextLinesXml(n.TextLine).build(),textStyle:{fontStyle:i?.fontStyle}}}):[]}}class Gte{withPrintSpaceXml(n){return this.printSpaceXml=n,this}withTextStyles(n){return this.textStyles=n,this}build(){let n=[];return this.printSpaceXml?.$$&&(n=this.extractTextBlocks(this.printSpaceXml.$$)),{textBlocks:(new Ute).withTextBlocksXml(n).withTextStyles(this.textStyles).build()}}extractTextBlocks(n){let t=[];return n.forEach(i=>{this.isTextBlock(i)?t=[...t,i]:this.isComposedBlock(i)&&i.$$&&(t=[...t,...this.extractTextBlocks(i.$$)])}),t}isTextBlock(n){return n["#name"]&&"TextBlock"===n["#name"]}isComposedBlock(n){return n["#name"]&&"ComposedBlock"===n["#name"]}}class Wte{constructor(){this.printSpaceBuilder=new Gte}withPageXml(n){return this.pageXml=n,this}withTextStyles(n){return this.printSpaceBuilder.withTextStyles(n),this}build(){const n=this.getFirstPrintSpace(this.pageXml.TopMargin),t=this.getFirstPrintSpace(this.pageXml.LeftMargin),i=this.getFirstPrintSpace(this.pageXml.RightMargin),r=this.getFirstPrintSpace(this.pageXml.BottomMargin),o=this.getFirstPrintSpace(this.pageXml.PrintSpace);return{topMargin:this.printSpaceBuilder.withPrintSpaceXml(n).build(),leftMargin:this.printSpaceBuilder.withPrintSpaceXml(t).build(),rightMargin:this.printSpaceBuilder.withPrintSpaceXml(i).build(),bottomMargin:this.printSpaceBuilder.withPrintSpaceXml(r).build(),printSpace:this.printSpaceBuilder.withPrintSpaceXml(o).build()}}getFirstPrintSpace(n){return n?n[0]:void 0}}class Xte{constructor(){this.pageBuilder=new Wte}withLayoutXml(n){return this.pageBuilder.withPageXml(n.Page[0]),this}withTextStyles(n){return this.pageBuilder.withTextStyles(n),this}build(){return{page:this.pageBuilder.build()}}}class qte{constructor(n){this.stylesXml=n}build(){const n=new Map;return this.stylesXml.TextStyle&&this.stylesXml.TextStyle.forEach(t=>{n.set(t.$.ID,{fontStyle:t.$.FONTSTYLE})}),n}}class Zte{constructor(){this.layoutBuilder=new Xte}withAltoXml(n){return this.altoXml=n,this}build(){return this.altoXml.Styles&&this.layoutBuilder.withTextStyles(new qte(this.altoXml.Styles[0]).build()),this.layoutBuilder.withLayoutXml(this.altoXml.Layout[0]),{layout:this.layoutBuilder.build()}}}let td=(()=>{var e;class n{constructor(){this.breakpointObserver=E(mr),this.config=new $p,this.subject=new ai(this.config.initViewerLayout)}get onChange(){return this.subject.asObservable().pipe(Rr())}get layout(){return this._layout}init(i){this.config.initViewerLayout===hi.TWO_PAGE&&i&&!this.isHandsetOrTabletInPortrait()?(this._layout=hi.TWO_PAGE,this.change()):(this._layout=hi.ONE_PAGE,this.change())}setConfig(i){this.config=i}setLayout(i){this._layout=i,this.change()}toggle(){this._layout===hi.TWO_PAGE?this.setLayout(hi.ONE_PAGE):this._layout===hi.ONE_PAGE&&this.setLayout(hi.TWO_PAGE)}change(){this.subject.next(this._layout)}isHandsetOrTabletInPortrait(){return this.breakpointObserver.isMatched([Fn_Handset,Fn_TabletPortrait])}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();class Yte{getTileSource(n){let t;return n?.service?.service?t=n.service:(t=n.service["@id"],t||(t=n["@id"]),t=t&&t.startsWith("//")?`${location.protocol}${t}`:t,t=t&&!t.endsWith("/info.json")?`${t}/info.json`:t),t}}class Kte{getTileSource(n){return n.service.id}}class Qte{getTileSource(n){return{type:"image",url:n["@id"]||n.id}}}class Jte{static create(n){return n.service?"Image"===n.type?new Kte:new Yte:new Qte}}class em{constructor(){this.canvasGroups=[],this.tileSourceAndRects=[],this.canvasesPerCanvasGroup=[]}add(n){this.canvasGroups.push(n),n.tileSourceAndRects&&n.tileSourceAndRects.forEach((t,i)=>{this.tileSourceAndRects.push(t)})}addRange(n){this.canvasGroups=[...n]}get(n){return{...this.canvasGroups[n]}}findClosestIndex(n){let i,t=0;return null===n?-1:(this.canvasGroups.some(function(r,o){const s=Math.abs(n.x-r.rect.centerX);return s>=i||(t=o,i=s,!1)}),t)}length(){return this.canvasGroups.length}}const jn_zoom_zoomFactor=1.15,jn_zoom_dblClickZoomFactor=2.7,jn_zoom_pinchZoomThreshold=3,jn_pan_swipeDirectionThreshold=70,jn_transitions_OSDAnimationTime=600,jn_overlays_canvasGroupMarginInDashboardView=300,jn_overlays_canvasGroupMarginInPageView=20,jn_padding_header=80,jn_padding_footer=80;class Ur{constructor(n){this.x=0,this.y=0,this.width=0,this.height=0,this.centerX=0,this.centerY=0,n&&(this.x=n.x||this.x,this.y=n.y||this.y,this.width=n.width||this.width,this.height=n.height||this.height,this.centerX=this.x+this.width/2,this.centerY=this.y+this.height/2)}}class ya{static numbersAreClose(n,t,i){return Math.abs(n-t)<=i}static shortenDecimals(n,t){const i=Number(n).toPrecision(t);return Number(i)}static getScaleFactor(n,t=!1){return t?1:400*(n||1)}}const yP=(e,n,t,i)=>{let r={};const o=ya.getScaleFactor(n.canvasSource.service?.service?.physicalScale,i);return r=90===e||270===e?{height:Math.trunc(n.canvasSource.width*o),width:Math.trunc(n.canvasSource.height*o),x:t,y:-1*Math.trunc(n.canvasSource.width*o/2)}:{height:Math.trunc(n.canvasSource.height*o),width:Math.trunc(n.canvasSource.width*o),x:t,y:-1*Math.trunc(n.canvasSource.height*o/2)},new Ur(r)};class $te{constructor(n){this.config=n}calculateCanvasGroupPosition(n,t=0){let i;return i=n.canvasGroupIndex?n.viewingDirection===Sn.LTR?this.calculateLtrX(n):this.calculateRtlX(n):90===t||270===t?n.canvasSource.height/2*-1:n.canvasSource.width/2*-1,yP(t,n,i,this.config.ignorePhysicalScale)}calculateLtrX(n){return n.previousCanvasGroupPosition.x+n.previousCanvasGroupPosition.width+jn_overlays_canvasGroupMarginInDashboardView}calculateRtlX(n){return n.previousCanvasGroupPosition.x-n.previousCanvasGroupPosition.width-jn_overlays_canvasGroupMarginInDashboardView}}class ene{constructor(n,t,i){this.config=n,this.viewingDirection=t,this.rotation=i,this.positionStrategy=new $te(this.config)}addAll(n){const t=new em;return n.forEach((i,r)=>{const o=this.getPreviousCanvasGroup(t,r),s=this.calculatePosition(i,r,o),a=this.createCanvasGroup(i,s);t.add(a),t.canvasesPerCanvasGroup.push([r])}),t}getPreviousCanvasGroup(n,t){return 0===t?void 0:n.canvasGroups[n.canvasGroups.length-1]}calculatePosition(n,t,i){return this.positionStrategy.calculateCanvasGroupPosition({canvasGroupIndex:t,canvasSource:n,previousCanvasGroupPosition:i?i.rect:new Ur,viewingDirection:this.viewingDirection},this.rotation)}createCanvasGroup(n,t){return{tileSourceAndRects:[{tileSource:n,rect:t}],rect:t}}}class tne{constructor(n){this.config=n}calculateCanvasGroupPosition(n,t=0){let i;return i=n.canvasGroupIndex?n.canvasGroupIndex%2?n.viewingDirection===Sn.LTR?this.calculateEvenLtrX(n):this.calculateEvenRtlX(n):n.viewingDirection===Sn.LTR?this.calculateOddLtrX(n):this.calculateOddRtlX(n):0,yP(t,n,i,this.config.ignorePhysicalScale)}calculateEvenLtrX(n){return n.previousCanvasGroupPosition.x+n.previousCanvasGroupPosition.width+jn_overlays_canvasGroupMarginInDashboardView}calculateOddLtrX(n){return n.previousCanvasGroupPosition.x+n.previousCanvasGroupPosition.width}calculateEvenRtlX(n){return n.previousCanvasGroupPosition.x-n.canvasSource.width-jn_overlays_canvasGroupMarginInDashboardView}calculateOddRtlX(n){return n.previousCanvasGroupPosition.x-n.canvasSource.width}}class nne{constructor(n,t,i){this.config=n,this.viewingDirection=t,this.rotation=i,this.positionStrategy=new tne(this.config)}addAll(n){const t=new em;this.addSinglePage(t,n[0],0,new Ur);for(let i=1;i<n.length;i+=2)this.hasNextPage(n,i)?this.addPairedPages(t,n,i):this.addSinglePage(t,n[i],i,this.getLastRect(t));return t}addSinglePage(n,t,i,r){const o=this.calculatePosition(t,i,r);n.add({tileSourceAndRects:[{tileSource:t,rect:o}],rect:o}),n.canvasesPerCanvasGroup.push([i])}addPairedPages(n,t,i){const r=this.getLastCanvasGroup(n),o=this.createTileSourceAndRect(t[i],i,r.rect),s=this.createTileSourceAndRect(t[i+1],i+1,o.rect),a={tileSourceAndRects:[o,s],rect:this.combineRects(o.rect,s.rect)};n.add(a),n.canvasesPerCanvasGroup.push([i,i+1])}hasNextPage(n,t){return t+1<n.length}createTileSourceAndRect(n,t,i){return{tileSource:n,rect:this.calculatePosition(n,t,i)}}calculatePosition(n,t,i){return this.positionStrategy.calculateCanvasGroupPosition({canvasGroupIndex:t,canvasSource:n,previousCanvasGroupPosition:i,viewingDirection:this.viewingDirection},this.rotation)}getLastCanvasGroup(n){return n.canvasGroups[n.canvasGroups.length-1]}getLastRect(n){return this.getLastCanvasGroup(n).rect}combineRects(n,t){return new Ur({x:Math.min(n.x,t.x),y:Math.min(n.y,t.y),height:Math.max(n.height,t.height),width:n.width+t.width})}}class ine{static create(n,t,i,r){return n===hi.ONE_PAGE?new ene(t,i,r):new nne(t,i,r)}}let Ar=(()=>{var e;class n{constructor(){this._currentNumberOfCanvasGroups=new ai(0),this._currentCanvasGroupIndex=new ai(0),this.canvasGroups=new em,this._numberOfCanvases=0,this.viewerLayoutService=E(td),this.config=new $p,this.tileSources=[],this.viewer=void 0,this.rotation=0,this.viewingDirection=Sn.LTR,this._overlays=[]}get overlays(){return this._overlays}get onCanvasGroupIndexChange(){return this._currentCanvasGroupIndex.asObservable().pipe(Rr())}get onNumberOfCanvasGroupsChange(){return this._currentNumberOfCanvasGroups.asObservable().pipe(Rr())}get numberOfCanvasGroups(){return this.canvasGroups.length()}get currentCanvasIndex(){const i=this.canvasGroups.canvasesPerCanvasGroup[this.currentCanvasGroupIndex];return i&&i.length>=1?i[0]:0}get currentCanvasGroupIndex(){return this._currentCanvasGroupIndex.value}set currentCanvasGroupIndex(i){this.isWithinBounds(i)&&this._currentCanvasGroupIndex.next(i)}get numberOfCanvases(){return this._numberOfCanvases}set numberOfCanvases(i){this._numberOfCanvases=i}setViewer(i){this.viewer=i}setConfig(i){this.config=i}setSvgNode(i){this.svgNode=i}setRotation(i){this.rotation=i}setViewingDirection(i){this.viewingDirection=i}addTileSources(i){this.tileSources=i}updateViewer(){this.createCanvasGroups(),this.createAndAppendCanvasGroups()}isWithinBounds(i){return i>-1&&i<=this.numberOfCanvasGroups-1}isCurrentCanvasGroupValid(){return this.isWithinBounds(this.currentCanvasGroupIndex)}getNextCanvasGroupIndex(){return this.isWithinBounds(this.currentCanvasGroupIndex+1)?(this.currentCanvasGroupIndex++,this.currentCanvasGroupIndex):-1}getPrevCanvasGroupIndex(){return this.isWithinBounds(this.currentCanvasGroupIndex-1)?(this.currentCanvasGroupIndex--,this.currentCanvasGroupIndex):-1}constrainToRange(i){return i<0?0:i>=this.numberOfCanvasGroups-1?this.numberOfCanvasGroups-1:i}findClosestCanvasGroupIndex(i){return this.canvasGroups.findClosestIndex(i)}findCanvasGroupByCanvasIndex(i){return this.canvasGroups.canvasesPerCanvasGroup.findIndex(function(r){return r.indexOf(i)>=0})}findCanvasByCanvasIndex(i){return 0===this.canvasGroups.canvasesPerCanvasGroup.length?-1:this.canvasGroups.canvasesPerCanvasGroup[i][0]}getCanvasGroupLabel(i){if(!this.canvasGroups.canvasGroups||0===this.canvasGroups.canvasesPerCanvasGroup.length)return"1";const r=this.canvasGroups.canvasesPerCanvasGroup[i];let o=""+(r[0]+1);return r.length>1&&(o=o+"-"+(r[r.length-1]+1)),o}getCanvasesPerCanvasGroup(i){return this.canvasGroups.canvasGroups?this.canvasGroups.canvasesPerCanvasGroup[i]:[0]}getCanvasRect(i){return this.canvasGroups.tileSourceAndRects[i].rect}getCurrentCanvasGroupRect(){return this.getCanvasGroupRect(this.currentCanvasGroupIndex)}getCanvasGroupRect(i){return this.canvasGroups.get(i).rect}reset(){this.viewer=void 0,this._overlays=[],this.numberOfCanvases=0,this._currentCanvasGroupIndex.next(0),this.canvasGroups=new em}createTile(i){const r=i.rect;let s;s=90===this.rotation||270===this.rotation?new fs.Rect(r.x+(r.width-r.height)/2,r.y-(r.width-r.height)/2,r.height,r.width):new fs.Rect(r.x,r.y,r.width,r.height);const u=Jte.create(i.tileSource).getTileSource(i.tileSource);this.viewer?.addTiledImage({tileSource:u,fitBounds:s,degrees:this.rotation})}createAndAppendCanvasGroups(){let i=0;this.canvasGroups.canvasGroups.forEach(r=>{const o=this.appendPageGroup();r.tileSourceAndRects.forEach(s=>{this.createTile(s),this.createOverlay(o,s,i),i++})})}appendPageGroup(){return this.svgNode.append("g").attr("class","page-group")}createOverlay(i,r,o){const s=r.rect,a=this.createRectangle(i,s);this.viewerLayoutService.layout===hi.TWO_PAGE&&this.applyCustomBorders(o,s,a);const u=a.node();this._overlays[o]=u}createCanvasGroups(){this.numberOfCanvases=this.tileSources.length;const i=ine.create(this.viewerLayoutService.layout,this.config,this.viewingDirection,this.rotation);this.canvasGroups=i.addAll(this.tileSources),this._currentNumberOfCanvasGroups.next(this.canvasGroups.length())}applyCustomBorders(i,r,o){if(i%2==0&&0!==i){const s=Number(2*r.width+r.height)+", "+2*r.width;o.style("stroke-dasharray",s)}else if(i%2!=0&&0!==i){const s=r.width+", "+r.height+", "+Number(2*r.width+r.height);o.style("stroke-dasharray",s)}}createRectangle(i,r){return i.append("rect").attr("x",r.x).attr("y",r.y).attr("width",r.width).attr("height",r.height).attr("class","tile")}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),mw=(()=>{var e;class n{highlightSelectedHit(i){document.querySelector(".selectedHit")?.removeAttribute("class"),document.querySelector(`mark[data-id='${i}']`)?.setAttribute("class","selectedHit")}highlight(i,r,o){if(o&&o.length>0)for(const s of o)s.index===r&&(i=this.markHtml(i,s.match,s.id));return i}markHtml(i,r,o){return i?.replace(new RegExp("\\b"+this.escapeSpecialCharacters(r)+"(?!<)"),`<mark data-id="${o}">$&</mark>`)}escapeSpecialCharacters(i){const o=/[-[\]{}()*"+?.,\\^$|#\s]/g;return'"'===i.charAt(0)?i.substring(1).replace(o,"\\$&"):i.replace(o,"\\$&")}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),fi=class{static extractId(n){return n["@id"]}static extracType(n){return n["@type"]}static extractContext(n){return n["@context"]}static extractViewingDirection(n){return"right-to-left"===n.viewingDirection?Sn.RTL:Sn.LTR}static findCanvasIndex(n,t){let i=-1;return t[0]&&t[0].canvases&&n[0]&&(i=t[0].canvases.findIndex(r=>r.id===n[0])),i}},rne=class{constructor(n){this.metadatas=n}build(){const n=[];if(this.metadatas)for(let t=0;t<this.metadatas.length;t++){const i=this.metadatas[t];n.push(new dP(i.label,i.value))}return n}},one=class{constructor(n){this.sizes=n}build(){const n=[];if(this.sizes)for(let t=0;t<this.sizes.length;t++){const i=this.sizes[t];n.push(new _P(i.width,i.height))}return n}},sne=class{constructor(n){this.tiles=n}build(){const n=[];if(this.tiles)for(let t=0;t<this.tiles.length;t++){const i=this.tiles[t];n.push(new vP({width:i.width,scaleFactors:i.scaleFactors}))}return n}},wP=class PP{constructor(n){this.service=n}build(){if(this.service)return new gP({id:fi.extractId(this.service),context:fi.extractContext(this.service),protocol:this.service.protocol,width:this.service.width,height:this.service.height,sizes:new one(this.service.sizes).build(),tiles:new sne(this.service.tiles).build(),profile:this.service.profile,physicalScale:this.service.physicalScale,physicalUnits:this.service.physicalUnits,service:new PP(this.service.service).build()})}},ane=class{constructor(n){this.resource=n}build(){if(!this.resource)throw new Error("No resource");return new mP({id:fi.extractId(this.resource),type:fi.extracType(this.resource),format:this.resource.format,service:new wP(this.resource.service).build(),height:this.resource.height,width:this.resource.width})}},lne=class{constructor(n){this.images=n}build(){const n=[];if(this.images)for(let t=0;t<this.images.length;t++){const i=this.images[t];n.push(new pP({id:fi.extractId(i),type:fi.extracType(i),motivation:i.motivation,resource:new ane(i.resource).build(),on:i.on}))}return n}},cne=class{constructor(n){this.canvases=n}build(){const n=[];if(this.canvases)for(let t=0;t<this.canvases.length;t++){const i=this.canvases[t],r=i.seeAlso?i.seeAlso:[];i["@seeAlso"]&&r.push(i["@seeAlso"]),n.push(new fP({id:fi.extractId(i),type:fi.extracType(i),label:i.label,thumbnail:i.thumbnail,height:i.height,width:i.width,images:new lne(i.images).build(),altoUrl:this.extractAltoUrl(r)}))}return n}extractAltoUrl(n){if(!n)return;const t=n.find(i=>"application/alto+xml"===i.format);return t?fi.extractId(t):void 0}},une=class{constructor(n){this.sequences=n}build(){const n=[];if(this.sequences)for(let t=0;t<this.sequences.length;t++){const i=this.sequences[t];n.push(new hP({id:fi.extractId(i),type:fi.extracType(i),label:i.label,viewingHint:i.viewingHint,canvases:new cne(i.canvases).build()}))}return n}},dne=class{constructor(n,t){this.structures=n,this.sequences=t}build(){const n=[];if(this.structures)for(let t=0;t<this.structures.length;t++){const i=this.structures[t];n.push(new bP({id:fi.extractId(i),type:fi.extracType(i),label:i.label,canvases:i.canvases,canvasIndex:fi.findCanvasIndex(i.canvases,this.sequences)}))}return n}},hne=class{constructor(n){this.sequences=n}build(){const n=[];if(this.sequences&&this.sequences.length>0){const t=this.sequences[0].canvases;for(let i=0;t&&i<t.length;i++){const r=t[i];if(r&&r.images&&r.images.length>=0){const o=r.images[0].resource;o&&n.push(o)}}}return n}},fne=class{constructor(n){this.data=n}build(){const n=new une(this.data.sequences).build();return new uP({context:fi.extractContext(this.data),type:fi.extracType(this.data),id:fi.extractId(this.data),viewingDirection:fi.extractViewingDirection(this.data),label:this.data.label,metadata:new rne(this.data.metadata).build(),license:this.data.license,logo:this.data.logo,attribution:this.data.attribution,service:new wP(this.data.service).build(),sequences:n,structures:new dne(this.data.structures,n).build(),tileSource:new hne(this.data.sequences).build(),viewingHint:this.data.viewingHint})}};class xn{static extractId(n){return n.id}static extracType(n){return n.type}static extractContext(n){return n["@context"]}static extractViewingDirection(n){return"right-to-left"===n.viewingDirection?Sn.RTL:Sn.LTR}static extractViewingHint(n){if(Array.isArray(n))return n[0]}static findCanvasIndex(n,t){let i=-1;return n[0]&&(i=t[0].canvases.findIndex(r=>r.id===n[0].id)),i}static extractLogo(n){let t;return Array.isArray(n)&&(t=this.extractId(n[0].logo[0])),t}static extractLanguageValue(n,t){return n?n[t&&n[t]?t:this.extractDefaultLanguage(n)][0]:""}static extractDefaultLanguage(n){return Object.keys(n)[0]}}class pne{constructor(n){this.metadatas=n}build(){const n=[];if(this.metadatas)for(let t=0;t<this.metadatas.length;t++){const i=this.metadatas[t];n.push(new dP(xn.extractLanguageValue(i.label),xn.extractLanguageValue(i.value)))}return n}}class mne{constructor(n){this.sizes=n}build(){const n=[];if(this.sizes)for(let t=0;t<this.sizes.length;t++){const i=this.sizes[t];n.push(new _P(i.width,i.height))}return n}}class gne{constructor(n){this.tiles=n}build(){const n=[];if(this.tiles)for(let t=0;t<this.tiles.length;t++){const i=this.tiles[t];n.push(new vP({width:i.width,scaleFactors:i.scaleFactors}))}return n}}class tm{constructor(n){this.service=n}build(){if(Array.isArray(this.service)&&!(this.service.length<1)){const n=this.service[0];return new gP({id:xn.extractId(n),context:xn.extractContext(n),protocol:n.protocol,width:n.width,height:n.height,sizes:new mne(n.sizes).build(),tiles:new gne(n.tiles).build(),profile:n.profile,physicalScale:n.physicalScale,physicalUnits:n.physicalUnits,service:new tm(n.service).build()})}}}class _ne{constructor(n){this.resource=n}build(){if(!this.resource)throw new Error("No resource");return new mP({id:xn.extractId(this.resource),type:xn.extracType(this.resource),format:this.resource.format,service:new tm(this.resource.service).build(),height:this.resource.height,width:this.resource.width})}}class vne{constructor(n){this.images=n}build(){const n=[];return this.images&&this.images.forEach(t=>{t.items&&t.items.forEach(i=>{n.push(new pP({id:xn.extractId(i),type:xn.extracType(i),resource:new _ne(i.body).build(),motivation:i.motivation,on:i.target}))})}),n}}class bne{constructor(n){this.canvases=n}build(){const n=[];if(this.canvases)for(let t=0;t<this.canvases.length;t++){const i=this.canvases[t];let r=[];i.seeAlso&&(r=r.concat(i.seeAlso)),n.push(new fP({id:xn.extractId(i),type:xn.extracType(i),label:i.label,height:i.height,width:i.width,images:new vne(i.items).build(),altoUrl:this.extractAltoUrl(r)}))}return n}extractAltoUrl(n){if(!n)return;const t=n.find(i=>"application/alto+xml"===i?.format);return t?xn.extractId(t):void 0}}class yne{constructor(n){this.data=n}build(){const n=[];return this.data&&n.push(new hP({id:xn.extractId(this.data),type:"Sequence",label:"Current Page Order",viewingHint:xn.extractViewingHint(this.data.behavior),canvases:new bne(this.data.items).build()})),n}}class wne{constructor(n,t){this.structures=n,this.sequences=t}build(){const n=[];if(this.structures)for(let t=0;t<this.structures.length;t++){const i=this.structures[t];n.push(new bP({id:xn.extractId(i),type:xn.extracType(i),label:xn.extractLanguageValue(i.label),canvases:i.items,canvasIndex:xn.findCanvasIndex(i.items,this.sequences)}))}return n}}class Cne{constructor(n){this.items=n}build(){const n=[];return this.items&&this.items.length>0&&this.items.forEach(t=>{"Canvas"===t.type&&t.items.forEach(i=>{"AnnotationPage"===i.type&&i.items.forEach(r=>{if("Annotation"===r.type){let o=r.body;o&&(o.service=this.flattenService(o.service),n.push(o))}})})}),n}flattenService(n){return Array.isArray(n)&&1===n.length?{...n[0],service:this.flattenService(n[0].service)}:n}}class xne{constructor(n){this.data=n}build(){const n=new yne(this.data).build();return new uP({context:xn.extractContext(this.data),type:xn.extracType(this.data),id:xn.extractId(this.data),viewingDirection:xn.extractViewingDirection(this.data),label:xn.extractLanguageValue(this.data.label),metadata:new pne(this.data.metadata).build(),license:this.data.rights,logo:xn.extractLogo(this.data.provider),attribution:xn.extractLanguageValue(this.data.requiredStatement?.value),service:new tm(this.data.service).build(),sequences:n,structures:new wne(this.data.structures,n).build(),tileSource:new Cne(this.data.items).build(),viewingHint:xn.extractViewingHint(this.data.behavior)})}}let gw=(()=>{var e;class n{constructor(){this.spinnerSubject=new je}get spinnerState(){return this.spinnerSubject.asObservable()}show(){this.spinnerSubject.next({show:!0})}hide(){this.spinnerSubject.next({show:!1})}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),Xi=(()=>{var e;class n{constructor(){this.intl=E(Ln),this._currentManifest=new ai(null),this._errorMessage=new ai(null),this.http=E(El),this.spinnerService=E(gw)}get currentManifest(){return this._currentManifest.asObservable().pipe(Rr())}get errorMessage(){return this._errorMessage.asObservable()}load(i){return new tn(r=>{i&&0!==i.length?(this.spinnerService.show(),this.http.get(i).pipe(yu(()=>this.spinnerService.hide()),di(1)).subscribe(o=>{const s=this.extractData(o);this.isManifestValid(s)?(this._currentManifest.next(s),r.next(!0)):(this._errorMessage.next(this.intl.manifestNotValidLabel),r.next(!1))},o=>{this._errorMessage.next(this.handleError(o)),r.next(!1)})):(this._errorMessage.next(this.intl.manifestUriMissingLabel),r.next(!1))})}destroy(){this.resetCurrentManifest(),this.resetErrorMessage()}resetCurrentManifest(){this._currentManifest.next(null)}resetErrorMessage(){this._errorMessage.next(null)}extractData(i){return"Manifest"===i.type?new xne(i).build():new fne(i).build()}isManifestValid(i){return i&&void 0!==i.tileSource&&i.tileSource.length>0}handleError(i){let r;return r=i.error instanceof Object?i.message:i.error,r}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();class Tne{altoToHtml(n){const t=n.layout.page;let i="",r=[];return t.topMargin.textBlocks&&(r=[...r,...t.topMargin.textBlocks]),t.leftMargin.textBlocks&&(r=[...r,...t.leftMargin.textBlocks]),t.printSpace.textBlocks&&(r=[...r,...t.printSpace.textBlocks]),t.bottomMargin.textBlocks&&(r=[...r,...t.bottomMargin.textBlocks]),r.forEach(o=>{let s=[];o.textLines.forEach(u=>{u.strings.forEach(p=>{s.push(p.content)})});const a=[];"bold"===o?.textStyle?.fontStyle&&a.push("font-weight: bold"),i+="<p",a&&a.length>0&&(i+=` style="${a.join(";")}"`),i+=`>${s.join(" ")}<p/>`}),i}}let Gl=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.http=E(El),this.iiifManifestService=E(Xi),this.highlightService=E(mw),this.canvasService=E(Ar),this.sanitizer=E(Ip),this.altos=[],this.isLoading=new ai(!1),this.textContentReady=new je,this.textError=new je,this.manifest=null,this.subscriptions=new de,this.altoBuilder=new Zte,this._recognizedTextContentModeChanges=new ai({previousValue:ti.NONE,currentValue:ti.NONE}),this.previousRecognizedTextMode=ti.NONE}get onRecognizedTextContentModeChange$(){return this._recognizedTextContentModeChanges.asObservable()}get onTextContentReady$(){return this.textContentReady.asObservable()}get isLoading$(){return this.isLoading.asObservable()}get hasErrors$(){return this.textError.asObservable()}get recognizedTextContentMode(){return this._recognizedTextContentModeChanges.value.currentValue}set recognizedTextContentMode(i){this._recognizedTextContentModeChanges.next({currentValue:i,previousValue:this.previousRecognizedTextMode}),this.previousRecognizedTextMode=i}initialize(i){this.hits=i,this.htmlFormatter=new Tne,this.subscriptions=new de,this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(r=>{this.manifest=r,this.clearCache()})),this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.pipe(sa(200)).subscribe(r=>{this.textError.next(void 0);const o=[],s=this.canvasService.getCanvasesPerCanvasGroup(r);!s||0===s.length||(this.addAltoSource(s[0],o),2===s.length&&this.addAltoSource(s[1],o),this.isLoading.next(!0),Ab(o).pipe(di(1),yu(()=>this.isLoading.next(!1))).subscribe())}))}destroy(){this.recognizedTextContentMode=this.config?.initRecognizedTextContentMode?this.config?.initRecognizedTextContentMode:ti.NONE,this.subscriptions.unsubscribe(),this.clearCache()}setConfig(i){this.config=i}showRecognizedTextContentOnly(){this.recognizedTextContentMode=ti.ONLY}showRecognizedTextContentInSplitView(){this.recognizedTextContentMode=ti.SPLIT}closeRecognizedTextContent(){this.recognizedTextContentMode=ti.NONE}getHtml(i){return this.altos&&this.altos.length>=i+1?this.sanitizer.bypassSecurityTrustHtml(this.highlightService.highlight(this.altos[i],i,this.hits)):void 0}clearCache(){this.altos=[]}addAltoSource(i,r){if(this.manifest&&this.manifest.sequences){const o=this.manifest.sequences[0];if(o.canvases){const s=o.canvases[i];s&&s.altoUrl&&r.push(this.add(i,s.altoUrl))}}}add(i,r){return new tn(o=>{this.isInCache(i)?this.done(o):this.load(o,i,r)})}isInCache(i){return this.altos[i]}load(i,r,o){this.http.get(o,{headers:(new Sr).set("Content-Type","text/xml"),responseType:"text"}).pipe(di(1),uy(s=>Ui({isError:!0,error:s}))).subscribe(s=>{try{if(s.isError)throw s.err;(0,LK.parseString)(s,{explicitChildren:!0,preserveChildrenOrder:!0},(a,u)=>{const p=this.altoBuilder.withAltoXml(u.alto).build();this.addToCache(r,p),this.done(i)})}catch{this.error(i)}})}addToCache(i,r){this.altos[i]=this.htmlFormatter.altoToHtml(r)}done(i){this.textContentReady.next(),this.complete(i)}error(i){this.textError.next(this.intl.textContentErrorLabel),this.complete(i)}complete(i){i.next(),i.complete()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),CP=(()=>{var e;class n{constructor(){this.singleClickHandlers=[],this.doubleClickHandlers=[],this.clickCount=0,this.click=i=>{i.preventDefaultAction=!0,i.quick&&(this.clickCount++,1===this.clickCount?this.dblClickTimeOut=setTimeout(()=>{this.clickCount=0,this.triggerSingleClick(i)},i.tracker.dblClickTimeThreshold):2===this.clickCount&&(clearTimeout(this.dblClickTimeOut),this.clickCount=0,this.triggerDoubleClick(i)))}}reset(){this.singleClickHandlers=[],this.doubleClickHandlers=[]}addSingleClickHandler(i){this.singleClickHandlers.push(i)}addDoubleClickHandler(i){this.doubleClickHandlers.push(i)}triggerSingleClick(i){this.singleClickHandlers.forEach(r=>{r(i)})}triggerDoubleClick(i){this.doubleClickHandlers.forEach(r=>{r(i)})}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();class Dne extends Ur{constructor(n){super(),this.canvasIndex=0,n&&(this.x=n.x||this.x,this.y=n.y||this.y,this.width=n.width||this.width,this.height=n.height||this.height,this.centerX=this.x+this.width/2,this.centerY=this.y+this.height/2,this.canvasIndex=n.canvasIndex||this.canvasIndex)}}class xP{constructor(n){this.id=0,this.index=0,this.label="",this.match="",this.before="",this.after="",this.highlightRects=[],n&&(this.id=n.id||this.id,this.index=n.index||this.index,this.label=n.label||this.label,this.match=n.match||this.match,this.before=n.before||this.before,this.after=n.after||this.after,this.highlightRects=n.highlightRects||this.highlightRects)}}class nd{constructor(n){this.q="",this.hits=[],n&&(this.q=n.q||this.q,this.hits=n.hits||this.hits)}add(n){this.hits.push(n)}get(n){return new xP({...this.hits[n]})}size(){return this.hits.length}last(){return this.get(this.size()-1)}}class Sne{constructor(n,t,i,r){this.q=n,this.manifest=t,this.iiifSearchResult=i,this.config=r}build(){const n=new nd;return n.q=this.q,this.iiifSearchResult&&this.iiifSearchResult.hits&&this.iiifSearchResult.hits.forEach((t,i)=>{const r=i;let s,o=-1;const a=[];this.manifest.sequences&&this.manifest.sequences[0].canvases&&this.findResources(t).forEach((p,y)=>{0===y&&(o=this.findSequenceIndex(p),s=this.findLabel(o));const x=this.findSequenceIndex(p),F=p.on;if(F){const B=this.getScale(x),Q=F.substring(F.indexOf("=")+1).split(","),ie=new Dne({x:this.scaleValue(Q[0],B),y:this.scaleValue(Q[1],B),width:this.scaleValue(Q[2],B),height:this.scaleValue(Q[3],B),canvasIndex:x});a.push(ie)}}),n.add(new xP({id:r,index:o,label:s,match:t.match,before:t.before,after:t.after,highlightRects:a}))}),n}findResources(n){const t=[];if(n.annotations)for(const i of n.annotations)if(this.iiifSearchResult.resources){const r=this.iiifSearchResult.resources.find(o=>o["@id"]===i);r&&t.push(r)}return t}findSequenceIndex(n){if(!this.manifest.sequences)throw new Error("No sequences found!");const t=this.getFirstSequence(),i=n.on;if(i&&t&&t.canvases){const r=i.substring(0,i.indexOf("#"));return t.canvases.findIndex(o=>o.id===r)}return-1}findLabel(n){if(-1!==n){const t=this.getFirstSequenceCanvas(n);return t?t.label:void 0}}getFirstSequence(){const n=this.manifest.sequences;return n?n[0]:void 0}getFirstSequenceCanvas(n){const t=this.getFirstSequence();return t&&void 0!==t.canvases?t.canvases[n]:void 0}getScale(n){const t=this.getPhysicalScale(n);return ya.getScaleFactor(t,this.config?.ignorePhysicalScale)}getPhysicalScale(n){return this.getFirstSequenceCanvas(n)?.images?.[0].resource?.service?.service?.physicalScale}scaleValue(n,t){return Math.trunc(parseInt(n,10)*t)}}let Bo=(()=>{var e;class n{constructor(){this._currentSearchResult=new ai(new nd({})),this._searching=new ai(!1),this._currentQ=new ai(""),this._selected=new ai(null),this.http=E(El)}get onQChange(){return this._currentQ.asObservable().pipe(Rr())}get onChange(){return this._currentSearchResult.asObservable()}get isSearching(){return this._searching.asObservable()}get onSelected(){return this._selected.asObservable()}destroy(){this._currentSearchResult.next(new nd({})),this._searching.next(!1),this._currentQ.next(""),this._selected.next(null)}search(i,r){this._currentQ.next(r),this._selected.next(null),0!==r.length?!i.service||null===i.service||(this._searching.next(!0),this.http.get(`${i.service.id}?q=${r}`).pipe(yu(()=>this._searching.next(!1)),di(1),Pf(o=>Ui(this.extractData(r,i,o)))).subscribe(o=>this._currentSearchResult.next(o),o=>this.handleError)):this._currentSearchResult.next(new nd)}selected(i){this._selected.next(i)}setConfig(i){this.config=i}extractData(i,r,o){return new Sne(i,r,o,this.config).build()}handleError(i){let r;return r=i.error instanceof Error?i.error.message:i.error,kR(r)}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();class Ho{static isManifestPaged(n){return Ho.isManifestViewingHintPaged(n)||Ho.isSequenceViewingHintPaged(n)}static isManifestViewingHintPaged(n){return n&&"paged"===n.viewingHint}static isSequenceViewingHintPaged(n){let t=null;return n&&n.sequences&&n.sequences.length>0&&(t=n.sequences[0]),!!t&&"paged"===t.viewingHint}static hasRecognizedTextContent(n){if(n.sequences&&n.sequences.length>0){const t=n.sequences[0];if(t.canvases&&t.canvases.length>0)return void 0!==t.canvases.find(i=>i.altoUrl)}return!1}}let id=(()=>{var e;class n{constructor(){this.modeChanges=new cP,this.toggleModeSubject=new ai(new cP)}get onChange(){return this.toggleModeSubject.asObservable().pipe(Rr())}get mode(){return this._mode}set mode(i){this._mode=i,this.change()}initialize(){this.mode=this.config?.initViewerMode}destroy(){this.mode=this.config?.initViewerMode}setConfig(i){this.config=i}toggleMode(){this.mode===dt.DASHBOARD?this.mode=dt.PAGE:(this.mode===dt.PAGE||this.mode===dt.PAGE_ZOOMED)&&(this.mode=dt.DASHBOARD)}isPageZoomed(){return this.mode===dt.PAGE_ZOOMED}change(){this.modeChanges.previousValue=this.modeChanges.currentValue,this.modeChanges.currentValue=this._mode,this.toggleModeSubject.next({...this.modeChanges})}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();class Ine{constructor(){this.active=!1,this.previousGestureId=0,this.shouldStop=!1}}var wa=function(e){return e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.TOP=2]="TOP",e[e.BOTTOM=3]="BOTTOM",e}(wa||{});let nm=(()=>{var e;class n{constructor(){this.zone=E(Be),this.colorSubject=new Dl}get onChange(){return this.colorSubject.asObservable().pipe(ui(i=>null!==i),Rr())}initialize(){this.subscriptions=new de,this.zone.runOutsideAngular(()=>{this.subscriptions.add(Vf(1e3).pipe(Ou(()=>{const i=this.currentRgbColor,r=this.getComputedBackgroundColor(1);i!==r&&(this.currentRgbColor=r,this.colorSubject.next(r))})).subscribe())})}destroy(){this.subscriptions.unsubscribe()}convertToRgba(i,r){return i.replace(/rgb/i,"rgba").replace(/\)/i,`,${r})`)}getComputedBackgroundColor(i){const r=document.getElementsByClassName("mat-app-background"),o=document.getElementsByTagName("mat-sidenav-container");return r.length>0?this.getComputedStyle(r[0],"background-color"):o.length>0?this.getComputedStyle(o[0],"background-color"):void 0}getComputedStyle(i,r){return window.getComputedStyle(i,null).getPropertyValue(r)}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();var kr=function(e){return e[e.UNDEFINED=0]="UNDEFINED",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.UP=3]="UP",e[e.DOWN=4]="DOWN",e[e.NEXT=5]="NEXT",e[e.PREVIOUS=6]="PREVIOUS",e}(kr||{});class Mne{calculateNextCanvasGroup(n){let r=1;return r=n.direction===kr.NEXT?r:-1*r,r=n.currentCanvasGroupIndex+r,r}}class Rne{calculateNextCanvasGroup(n){const i=n.direction,r=n.currentCanvasGroupIndex,o=n.currentCanvasGroupCenter;let s,a=this.calculateNumberOfCanvasGroupsToGo(n.speed);return 0===a?s=o:(a=i===kr.LEFT?a:-1*a,s=n.viewingDirection===Sn.LTR?r+a:r-a),s}calculateNumberOfCanvasGroupsToGo(n){let t=10;return void 0!==n&&(n<500?t=0:n>=500&&n<1500?t=1:n>=1500&&n<2500?t=3:n>=2500&&n<3500&&(t=5)),t}}class Ane{calculateNextCanvasGroup(n){const i=n.speed;let o=n.currentCanvasGroupIndex;if(i&&i>=200){const s=n.direction===kr.LEFT?1:-1;o=n.viewingDirection===Sn.LTR?n.currentCanvasGroupIndex+s:n.currentCanvasGroupIndex-s}else n.currentCanvasGroupIndex!==n.currentCanvasGroupCenter&&(o=n.currentCanvasGroupCenter);return o}}class kne{calculateNextCanvasGroup(n){const i=n.currentCanvasGroupIndex;let o=n.canvasGroupEndHitCountReached?1:0;return o=n.direction===kr.LEFT?o:-1*o,o=n.viewingDirection===Sn.LTR?i+o:i-o,o}}class _w{static create(n){return n===dt.DASHBOARD?new Rne:n===dt.PAGE?new Ane:n===dt.PAGE_ZOOMED?new kne:new Mne}}class One{constructor(n,t){this.styleService=t,this.canvasGroupRect=new Ur,this.disableResize=!1,this.animationHandler=()=>{this.resize()},this.resizeHandler=()=>{this.setCenter(),this.resize()},this.canvasGroupPinchHandler=()=>{this.disableResize=!1},this.canvasGroupDragHandler=i=>{(i.delta.x||i.delta.y)&&i.speed>0&&0!==i.direction&&(this.disableResize=!0)},this.canvasGroupDragEndHandler=()=>{this.disableResize=!1,this.resize()},this.viewer=n}initialize(n,t){this.unsubscribe(),this.subscriptions=new de,this.subscriptions.add(this.styleService.onChange.subscribe(i=>{i&&(this.backgroundColor=i,this.leftMask&&this.leftMask.style("fill",this.backgroundColor),this.rightMask&&this.rightMask.style("fill",this.backgroundColor))})),this.canvasGroupRect=n,this.addCanvasGroupMask(),this.setCenter(),this.resize(),t?this.show():this.hide()}destroy(){this.unsubscribe()}changeCanvasGroup(n){this.canvasGroupRect=n,this.resize()}show(){this.addHandlers(),this.leftMask&&this.rightMask&&(this.setCenter(),this.resize(),this.leftMask.attr("height","100%"),this.rightMask.attr("height","100%"))}hide(){this.removeHandlers(),this.leftMask&&this.rightMask&&(this.leftMask.attr("height","0"),this.rightMask.attr("height","0"))}addHandlers(){this.viewer.addHandler("animation",this.animationHandler),this.viewer.addHandler("resize",this.resizeHandler),this.viewer.addHandler("canvas-pinch",this.canvasGroupPinchHandler),this.viewer.addHandler("canvas-drag",this.canvasGroupDragHandler),this.viewer.addHandler("canvas-drag-end",this.canvasGroupDragEndHandler)}removeHandlers(){this.viewer.removeHandler("animation",this.animationHandler),this.viewer.removeHandler("resize",this.resizeHandler),this.viewer.removeHandler("canvas-pinch",this.canvasGroupPinchHandler),this.viewer.removeHandler("canvas-drag",this.canvasGroupDragHandler),this.viewer.removeHandler("canvas-drag-end",this.canvasGroupDragEndHandler)}addCanvasGroupMask(){const t=Wu(this.viewer.svgOverlay().node().parentNode).append("g").attr("data-testid","page-mask");this.leftMask=t.append("rect").attr("data-testid","mime-left-page-mask").attr("height","100%").attr("y",0).style("fill",this.backgroundColor),this.rightMask=t.append("rect").attr("data-testid","mime-right-page-mask").attr("height","100%").attr("y",0).style("fill",this.backgroundColor)}setCenter(){this.center=new fs.Point(this.viewer.viewport._containerInnerSize.x/2,this.viewer.viewport._containerInnerSize.y/2)}resize(){if(this.disableResize||!this.leftMask||!this.rightMask)return;const n=this.getLeftMaskRect(),t=this.getRightMaskRect();this.leftMask.attr("width",n.width).attr("x",n.x),this.rightMask.attr("width",t.width).attr("x",Math.round(t.x))}getLeftMaskRect(){const n=new fs.Rect(this.canvasGroupRect.x,this.canvasGroupRect.y,this.canvasGroupRect.width,this.canvasGroupRect.height);let i=this.viewer.viewport.viewportToViewerElementCoordinates(n.getTopLeft()).x-jn_overlays_canvasGroupMarginInPageView;return i<0&&(i=0),new Ur({x:0,width:i})}getRightMaskRect(){const n=new fs.Rect(this.canvasGroupRect.x,this.canvasGroupRect.y,this.canvasGroupRect.width,this.canvasGroupRect.height),t=this.viewer.viewport.viewportToViewerElementCoordinates(n.getTopRight());let i=this.viewer.viewport._containerInnerSize.x-t.x;const r=this.viewer.viewport._containerInnerSize.x-i+jn_overlays_canvasGroupMarginInPageView;return i<0&&(i=0),new Ur({x:r,width:i})}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}}class Pne{constructor(n,t,i,r,o,s){this.viewer=n,this.zoomStrategy=t,this.canvasService=i,this.modeService=r,this.config=o,this.viewingDirection=s}goToCanvasGroup(n){const t=this.canvasService.currentCanvasGroupIndex;this.canvasService.currentCanvasGroupIndex=this.canvasService.constrainToRange(n.canvasGroupIndex);const i=this.canvasService.getCanvasGroupRect(this.canvasService.currentCanvasGroupIndex);if(this.modeService.isPageZoomed()&&this.config.preserveZoomOnCanvasGroupChange){let r;if(t>n.canvasGroupIndex)if(this.config.startOnTopOnCanvasGroupChange){const s=this.canvasService.getCanvasesPerCanvasGroup(n.canvasGroupIndex),u=this.canvasService.getCanvasRect(s[s.length-1]);r=this.viewingDirection===Sn.LTR?this.leftX(u):this.rightX(i)}else r=this.viewingDirection===Sn.LTR?this.rightX(i):this.leftX(i);else r=this.viewingDirection===Sn.LTR?this.leftX(i):this.rightX(i);const o=this.config.startOnTopOnCanvasGroupChange&&t!==n.canvasGroupIndex?i.y+this.getViewportBounds().height/2-this.viewer.collectionTileMargin:this.getViewportCenter().y;this.panTo(r,o,n.immediately)}else if(this.modeService.isPageZoomed()){const r=this.canvasService.getCanvasGroupRect(t);this.panToCenter(r,n.immediately),this.zoomStrategy.goToHomeZoom(),setTimeout(()=>{this.panToCenter(i,n.immediately),this.modeService.mode=dt.PAGE},jn_transitions_OSDAnimationTime)}else this.panToCenter(i,n.immediately)}goToPreviousCanvasGroup(n){if(this.canvasService.currentCanvasGroupIndex>0){const t=this.getViewportCenter(),i=this.canvasService.findClosestCanvasGroupIndex(t),o=_w.create(dt.NAVIGATOR).calculateNextCanvasGroup({direction:kr.PREVIOUS,currentCanvasGroupIndex:i,currentCanvasGroupCenter:n,viewingDirection:this.viewingDirection});this.goToCanvasGroup({canvasGroupIndex:o,immediately:!1})}}goToNextCanvasGroup(n){if(this.canvasService.currentCanvasGroupIndex<this.canvasService.numberOfCanvasGroups){const t=this.getViewportCenter(),i=this.canvasService.findClosestCanvasGroupIndex(t),o=_w.create(dt.NAVIGATOR).calculateNextCanvasGroup({direction:kr.NEXT,currentCanvasGroupIndex:i,currentCanvasGroupCenter:n,viewingDirection:this.viewingDirection});this.goToCanvasGroup({canvasGroupIndex:o,immediately:!1})}}centerCurrentCanvas(){const t=this.canvasService.getCanvasGroupRect(this.canvasService.currentCanvasGroupIndex);this.panToCenter(t,!1)}leftX(n){return n.x+this.getViewportBounds().width/2}rightX(n){return n.x+n.width-this.getViewportBounds().width/2}panToCenter(n,t=!1){this.panTo(n.centerX,n.centerY,t)}panTo(n,t,i=!1){this.viewer.viewport.panTo({x:n,y:t},i)}getViewportCenter(){return this.viewer.viewport.getCenter(!0)}getViewportBounds(){return this.viewer.viewport.getBounds(!0)}}var im=function(e){return e.HTML="html",e.CANVAS="canvas",e.WEBGL="webgl",e}(im||{});function Nne(){const e=navigator.userAgent??"",n=navigator.userAgentData?.platform??navigator.platform??"",t=function Fne(){return"ontouchstart"in window||navigator.maxTouchPoints>1}();return function Lne(e,n,t){return/iPhone|iPad|iPod/.test(e)||n.includes("iOS")||"MacIntel"===n&&t}(e,n,t)?im.HTML:(function Bne(e){e.includes("macOS")}(n,t),im.CANVAS)}class Hne{static create(n,t){let i=fs.DEFAULT_SETTINGS;return{...i,id:n,panVertical:!0,drawer:Nne(),minZoomImageRatio:1,maxZoomPixelRatio:5,smoothTileEdgesMinZoom:1,preserveImageSizeOnResize:!0,visibilityRatio:0,showNavigationControl:!1,animationTime:jn_transitions_OSDAnimationTime/1e3,ajaxWithCredentials:t.withCredentials,loadTilesWithAjax:t.loadTilesWithAjax,crossOriginPolicy:t.crossOriginPolicy,ajaxHeaders:t.ajaxHeaders,gestureSettingsMouse:{...i.gestureSettingsMouse,scrollToZoom:!1,clickToZoom:!1},gestureSettingsTouch:{...i.gestureSettingsTouch,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1},gestureSettingsPen:{...i.gestureSettingsPen,clickToZoom:!1},gestureSettingsUnknown:{...i.gestureSettingsUnknown,scrollToZoom:!1,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1}}}}class Vne{constructor(){this.leftCount=0,this.rightCount=0,this.reset()}reset(){this.leftCount=0,this.rightCount=0}addHit(n,t){null!==n&&this.incrementSide(n),null!==t&&this.clearOppositeSideOfDragDirection(t)}hitCountReached(){return this.leftCount>=2||this.rightCount>=2}incrementSide(n){n===wa.LEFT?(this.leftCount++,this.rightCount=0):n===wa.RIGHT&&(this.rightCount++,this.leftCount=0)}clearOppositeSideOfDragDirection(n){n===kr.LEFT?this.leftCount=0:n===kr.RIGHT&&(this.rightCount=0)}}class rd{static getSwipeDirection(n,t,i){let r=Math.abs(n.x-t.x);const o=Math.abs(n.y-t.y);return r=i?r-jn_pan_swipeDirectionThreshold:r,n.x>t.x&&r>=o?kr.LEFT:n.x<t.x&&r>=o?kr.RIGHT:kr.UNDEFINED}static getSideIfPanningPastEndOfCanvasGroup(n,t){return this.isPanningOutsideLeft(n,t)?wa.LEFT:this.isPanningOutsideRight(n,t)?wa.RIGHT:null}static isPanningOutsideCanvasGroup(n,t){return this.isPanningOutsideLeft(n,t)||this.isPanningOutsideRight(n,t)}static isPanningOutsideLeft(n,t){return t.x<n.x}static isPanningOutsideRight(n,t){return t.x+t.width>n.x+n.width}static isDirectionInRightSemicircle(n){return n>-Math.PI/2&&n<Math.PI/2}static isDirectionInLeftSemicircle(n){return!this.isDirectionInRightSemicircle(n)||0===n}}class vw{static constrainPositionToCanvasGroup(n,t){return n.x<t.x?n.x=t.x:n.x>t.x+t.width&&(n.x=t.x+t.width),n}static constraintZoomFactor(n,t,i){const r=t*n;return r>i?i/r*n:n}}class zne{constructor(n,t,i,r){this.viewer=n,this.canvasService=t,this.modeService=i,this.viewerLayoutService=r}setMinZoom(n){this.viewer.viewport.minZoomLevel=this.getHomeZoomLevel(n)}getMinZoom(){return ya.shortenDecimals(this.viewer.viewport.getMinZoom(),5)}getMaxZoom(){return ya.shortenDecimals(this.viewer.viewport.getMaxZoom(),5)}getZoom(){return ya.shortenDecimals(this.viewer.viewport.getZoom(!0),5)}goToHomeZoom(){this.zoomTo(this.getHomeZoomLevel(this.modeService.mode)),this.modeService.isPageZoomed()&&(this.modeService.mode=dt.PAGE)}zoomTo(n,t){0!==n&&this.viewer.viewport.zoomTo(n,t)}zoomIn(n,t){n||(n=jn_zoom_zoomFactor),t&&(t=this.viewer.viewport.pointFromPixel(t))&&(t=vw.constrainPositionToCanvasGroup(t,this.canvasService.getCurrentCanvasGroupRect())),this.modeService.mode!==dt.PAGE_ZOOMED&&(this.modeService.mode=dt.PAGE_ZOOMED),this.zoomBy(n,t)}zoomOut(n,t){n||(n=Math.pow(jn_zoom_zoomFactor,-1)),t&&(t=this.viewer.viewport.pointFromPixel(t))&&(t=vw.constrainPositionToCanvasGroup(t,this.canvasService.getCurrentCanvasGroupRect())),this.isViewportLargerThanCanvasGroup()?this.modeService.mode=dt.PAGE:this.zoomBy(n,t)}getHomeZoomLevel(n){if(!this.viewer||!this.canvasService||!this.viewer.container)return 1;let t,i,r;const o=this.canvasService.getCurrentCanvasGroupRect();return t=o.height,i=o.width,r=n===dt.DASHBOARD?this.getDashboardViewportBounds():this.viewer.viewport.getBounds(),this.getFittedZoomLevel(r,t,i)}getDashboardViewportBounds(){const n=this.getHomeZoomFactor(),t=new so(Wu(this.viewer.container.parentNode.parentNode).node().getBoundingClientRect()),o=this.viewer.viewport.deltaPointsFromPixels(new fs.Point(t.width*n,t.height-jn_padding_header-jn_padding_footer));return new fs.Rect(0,0,o.x,o.y)}getFittedZoomLevel(n,t,i){const r=this.viewer.viewport.getZoom(),o=n.height/t;return ya.shortenDecimals(o*i<=n.width?o*r:n.width/i*r,5)}zoomBy(n,t){const i=this.viewer.viewport.getZoom(!1);n=vw.constraintZoomFactor(n,i,this.getMaxZoom()),this.viewer.viewport.zoomBy(n,t)}isViewportLargerThanCanvasGroup(){const n=this.canvasService.getCurrentCanvasGroupRect(),t=this.viewer.viewport.getBounds(),i=Math.round(n.width),r=Math.round(n.height),o=Math.round(t.width);return Math.round(t.height)>=r||o>=i}getHomeZoomFactor(){return this.modeService.mode===dt.DASHBOARD?this.getDashboardZoomHomeFactor():1}getDashboardZoomHomeFactor(){return this.viewerLayoutService.layout===hi.ONE_PAGE?.85:.66}}class jne extends zne{constructor(n,t,i,r){super(n,t,i,r)}}let Vo=(()=>{var e;class n{constructor(){this.isCanvasPressed=new ai(!1),this.currentSearch=null,this.id="ngx-mime-mimeViewer",this.openseadragonId="openseadragon",this.zone=E(Be),this.clickService=E(CP),this.canvasService=E(Ar),this.modeService=E(id),this.viewerLayoutService=E(td),this.iiifContentSearchService=E(Bo),this.styleService=E(nm),this.altoService=E(Gl),this.snackBar=E(GA),this.intl=E(Ln),this.tileSources=[],this.currentCenter=new je,this.currentCanvasIndex=new ai(0),this.currentHit=null,this.osdIsReady=new ai(!1),this.swipeDragEndCounter=new Vne,this.pinchStatus=new Ine,this.isManifestPaged=!1,this.rotation=new ai(0),this.dragStatus=!1,this.scrollHandler=i=>{const r=Math.pow(jn_zoom_zoomFactor,i.scroll);i.scroll>0?this.zoomInGesture(i.position,r):i.scroll<0&&this.zoomOutGesture(i.position,r)},this.pinchHandler=i=>{this.pinchStatus.active=!0;const r=i.distance/i.lastDistance;i.distance>i.lastDistance+jn_zoom_pinchZoomThreshold?this.zoomInPinchGesture(i,r):i.distance+jn_zoom_pinchZoomThreshold<i.lastDistance&&this.zoomOutPinchGesture(i,r)},this.singleClickHandler=i=>{const r=this.getOverlayIndexFromClickEvent(i),o=this.canvasService.findCanvasGroupByCanvasIndex(r);-1!==o?this.canvasService.currentCanvasGroupIndex=o:this.calculateCurrentCanvasGroup(this.viewer?.viewport.getCenter(!0)),this.modeService.toggleMode()},this.dblClickHandler=i=>{if(this.modeService.mode===dt.PAGE)this.modeService.mode=dt.PAGE_ZOOMED,this.zoomStrategy.zoomIn(jn_zoom_dblClickZoomFactor,i.position);else{this.modeService.mode=dt.PAGE;const r=this.getOverlayIndexFromClickEvent(i),o=this.canvasService.findCanvasGroupByCanvasIndex(r);o>=0?this.canvasService.currentCanvasGroupIndex=o:this.calculateCurrentCanvasGroup(this.viewer?.viewport.getCenter(!0))}},this.dragHandler=i=>{if(this.viewer.panHorizontal=!0,this.modeService.isPageZoomed()){const r=this.canvasService.getCurrentCanvasGroupRect(),o=this.getViewportBounds(),s=rd.getSideIfPanningPastEndOfCanvasGroup(r,o),a=i.direction;(s===wa.LEFT&&rd.isDirectionInRightSemicircle(a)||s===wa.RIGHT&&rd.isDirectionInLeftSemicircle(a))&&(this.viewer.panHorizontal=!1)}},this.id=this.generateRandomId("ngx-mime-mimeViewer"),this.openseadragonId=this.generateRandomId("openseadragon")}get onRotationChange(){return this.rotation.asObservable().pipe(Rr())}get onCenterChange(){return this.currentCenter.asObservable()}get onCanvasGroupIndexChange(){return this.currentCanvasIndex.asObservable().pipe(Rr())}get onOsdReadyChange(){return this.osdIsReady.asObservable().pipe(Rr())}initialize(){this.unsubscribe(),this.subscriptions=new de}setConfig(i){this.config=i}getViewer(){return this.viewer}getTilesources(){return this.tileSources}getOverlays(){return this.canvasService.overlays}getZoom(){return this.zoomStrategy.getZoom()}getMinZoom(){return this.zoomStrategy.getMinZoom()}getMaxZoom(){return this.zoomStrategy.getMaxZoom()}home(){this.osdIsReady.getValue()&&(this.zoomStrategy.setMinZoom(this.modeService.mode),this.goToCanvasGroupStrategy.centerCurrentCanvas(),this.zoomStrategy.goToHomeZoom())}goToPreviousCanvasGroup(){this.goToCanvasGroupStrategy.goToPreviousCanvasGroup(this.currentCanvasIndex.getValue())}goToNextCanvasGroup(){this.goToCanvasGroupStrategy.goToNextCanvasGroup(this.currentCanvasIndex.getValue())}goToCanvasGroup(i,r){this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:i,immediately:r})}goToCanvas(i,r){const o=this.canvasService.findCanvasGroupByCanvasIndex(i);this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:o,immediately:r})}highlight(i){if(this.clearHightlight(),this.viewer){i.q&&(this.currentSearch=i);const r=this.rotation.getValue();for(const o of i.hits)for(const s of o.highlightRects){const a=this.canvasService.getCanvasRect(s.canvasIndex);if(a){let p=s.width+8,y=s.height+8,x=a.x-4,F=a.y-4;switch(r){case 0:x+=s.x,F+=s.y;break;case 90:x+=a.width-s.y-s.height,F+=s.x,p=s.height+8,y=s.width+8;break;case 180:x+=a.width-(s.x+s.width),F+=a.height-(s.y+s.height);break;case 270:x+=s.y,F+=a.height-s.x-s.width,p=s.height+8,y=s.width+8}this.svgNode.append("rect").attr("mimeHitIndex",o.id).attr("x",x).attr("y",F).attr("width",p).attr("height",y).attr("class","hit")}}}}clearHightlight(){this.svgNode&&(this.svgNode.selectAll(".hit").remove(),this.currentSearch=null)}setUpViewer(i,r){this.config=r,this.canvasService.setConfig(r),i&&i.tileSource&&(this.tileSources=i.tileSource,this.canvasService.addTileSources(this.tileSources),this.zone.runOutsideAngular(()=>{this.manifest=i,this.isManifestPaged=Ho.isManifestPaged(this.manifest),this.viewer=new OpenSeadragon.Viewer(Hne.create(this.openseadragonId,this.config)),function Ene(){if(!OpenSeadragon)return void console.error("[openseadragon-svg-overlay] requires OpenSeadragon");const e="http://www.w3.org/2000/svg";class n{constructor(i){const r=this;this._viewer=i,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(e,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(e,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){r.resize()}),this._viewer.addHandler("open",function(){r.resize()}),this._viewer.addHandler("rotate",function(o){r.resize()}),this._viewer.addHandler("resize",function(){r.resize()}),this.resize()}node(){return this._node}resize(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));const i=this._viewer.viewport.pixelFromPoint(new OpenSeadragon.Point(0,0),!0),r=this._viewer.viewport.getZoom(!0),o=this._viewer.viewport.getRotation();this._node.setAttribute("transform","translate("+i.x+","+i.y+") scale("+this._viewer.viewport._containerInnerSize.x*r+") rotate("+o+")")}onClick(i,r){new OpenSeadragon.MouseTracker({element:i,clickHandler:r}).setTracking(!0)}}OpenSeadragon.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new n(this)),this._svgOverlayInfo}}(),this.zoomStrategy=new jne(this.viewer,this.canvasService,this.modeService,this.viewerLayoutService),this.goToCanvasGroupStrategy=new Pne(this.viewer,this.zoomStrategy,this.canvasService,this.modeService,this.config,this.manifest.viewingDirection),this.defaultKeyDownHandler=this.viewer.innerTracker.keyDownHandler,this.disableKeyDownHandler(),this.viewer.innerTracker.keyHandler=null,this.canvasService.reset(),this.canvasGroupMask=new One(this.viewer,this.styleService)}),this.addToWindow(),this.setupOverlays(),this.createOverlays(),this.addEvents(),this.addSubscriptions())}addSubscriptions(){this.initialize(),this.subscriptions.add(this.modeService.onChange.subscribe(i=>{this.modeChanged(i)})),this.zone.runOutsideAngular(()=>{this.subscriptions.add(this.onCenterChange.pipe(function zX(e){return Qn((n,t)=>{let i=!1,r=null;n.subscribe(kn(t,o=>{i=!0,r=o})),wi(e).subscribe(kn(t,()=>{if(i){i=!1;const o=r;r=null,t.next(o)}},en))})}(Vf(500))).subscribe(i=>{this.calculateCurrentCanvasGroup(i),i&&null!==i&&this.osdIsReady.next(!0)}))}),this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe(i=>{this.swipeDragEndCounter.reset(),-1!==i&&(this.canvasGroupMask.changeCanvasGroup(this.canvasService.getCanvasGroupRect(i)),(this.modeService.mode===dt.PAGE||this.modeService.mode===dt.DASHBOARD)&&this.home())})),this.subscriptions.add(this.onOsdReadyChange.subscribe(i=>{i&&(this.initialCanvasGroupLoaded(),this.currentCenter.next(this.viewer?.viewport.getCenter(!0)))})),this.subscriptions.add(this.viewerLayoutService.onChange.subscribe(i=>{this.layoutPages()})),this.subscriptions.add(this.iiifContentSearchService.onSelected.subscribe(i=>{i&&(this.currentHit=i,this.highlightCurrentHit(),this.goToCanvas(i.index,!1))})),this.subscriptions.add(this.onRotationChange.subscribe(i=>{this.layoutPages()})),this.subscriptions.add(this.altoService.onRecognizedTextContentModeChange$.subscribe(i=>{i.currentValue===ti.ONLY&&this.hidePages(),i.previousValue===ti.ONLY&&this.showPages(),i.previousValue===ti.ONLY&&i.currentValue===ti.SPLIT&&setTimeout(()=>{this.home()},jn_transitions_OSDAnimationTime)}))}hidePages(){this.setOpacityOnPages(0)}showPages(){this.setOpacityOnPages(1)}layoutPages(){if(this.osdIsReady.getValue()){const i=this.canvasService.currentCanvasIndex;this.destroy(!0),this.setUpViewer(this.manifest,this.config),this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:this.canvasService.findCanvasGroupByCanvasIndex(i),immediately:!1}),this.currentSearch&&this.highlight(this.currentSearch)}}addToWindow(){window.openSeadragonViewer=this.viewer}setupOverlays(){this.svgOverlay=this.viewer.svgOverlay(),this.svgNode=Wu(this.svgOverlay.node())}disableKeyDownHandler(){this.viewer.innerTracker.keyDownHandler=null}resetKeyDownHandler(){this.viewer.innerTracker.keyDownHandler=this.defaultKeyDownHandler}destroy(i){this.osdIsReady.next(!1),this.currentCenter.next({x:0,y:0}),null!=this.viewer&&this.viewer.isOpen()&&(null!=this.viewer.container&&Wu(this.viewer.container.parentNode).style("opacity","0"),this.viewer.destroy(),this.viewer=null),this.canvasService.reset(),this.canvasGroupMask&&this.canvasGroupMask.destroy(),i||(this.altoService.destroy(),this.currentSearch=null,this.iiifContentSearchService.destroy(),this.rotation.next(0),this.modeService.destroy(),this.unsubscribe())}addEvents(){this.clickService.reset(),this.clickService.addSingleClickHandler(this.singleClickHandler),this.clickService.addDoubleClickHandler(this.dblClickHandler),this.viewer.addHandler("animation-finish",()=>{this.currentCenter.next(this.viewer?.viewport.getCenter(!0))}),this.viewer.addHandler("canvas-click",this.clickService.click),this.viewer.addHandler("canvas-double-click",i=>i.preventDefaultAction=!0),this.viewer.addHandler("canvas-press",i=>{this.pinchStatus.active=!1,this.dragStartPosition=i.position,this.isCanvasPressed.next(!0)}),this.viewer.addHandler("canvas-release",()=>this.isCanvasPressed.next(!1)),this.viewer.addHandler("canvas-scroll",this.scrollHandler),this.viewer.addHandler("canvas-pinch",this.pinchHandler),this.viewer.addHandler("canvas-drag",i=>{this.dragStatus=!0,this.dragHandler(i)}),this.viewer.addHandler("canvas-drag-end",i=>{this.dragStatus&&(this.constraintCanvas(),this.swipeToCanvasGroup(i)),this.dragStatus=!1}),this.viewer.addHandler("animation",i=>{this.currentCenter.next(this.viewer?.viewport.getCenter(!0))})}zoomIn(i,r){this.zoomStrategy.zoomIn(i,r)}zoomOut(i,r){this.zoomStrategy.zoomOut(i,r)}rotate(){this.osdIsReady.getValue()&&(this.viewer.drawer.canRotate()?(this.rotateToRight(),this.highlightCurrentHit()):this.showRotationIsNotSupportetMessage())}modeChanged(i){this.viewer&&(i.currentValue===dt.DASHBOARD?(this.viewer.panVertical=!1,this.toggleToDashboard(),this.disableKeyDownHandler()):i.currentValue===dt.PAGE?(this.viewer.panVertical=!1,this.toggleToPage(),this.disableKeyDownHandler()):i.currentValue===dt.PAGE_ZOOMED&&(this.viewer.panVertical=!0,this.resetKeyDownHandler()))}isCanvasGroupHit(i){return i instanceof SVGRectElement}getOverlayIndexFromClickEvent(i){const r=this.getOriginalTarget(i);if(this.isCanvasGroupHit(r)){const o=this.canvasService.overlays.indexOf(r);if(o>=0)return o}return-1}highlightCurrentHit(){this.currentHit&&(this.svgNode.selectAll("g > rect.selected").attr("class","hit"),this.svgNode.selectAll(`g > rect[mimeHitIndex='${this.currentHit.id}']`).attr("class","hit selected"))}generateRandomId(i){return`${i}-${Math.random().toString(16).slice(2)}`}toggleToDashboard(){this.canvasService.isCurrentCanvasGroupValid()&&(this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:this.canvasService.currentCanvasGroupIndex,immediately:!1}),this.canvasGroupMask.hide(),this.home())}toggleToPage(){this.canvasService.isCurrentCanvasGroupValid()&&(this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:this.canvasService.currentCanvasGroupIndex,immediately:!1}),this.canvasGroupMask.show(),this.home())}zoomInGesture(i,r){this.modeService.mode===dt.DASHBOARD?this.modeService.mode=dt.PAGE:i?this.zoomStrategy.zoomIn(r,i):this.zoomStrategy.zoomIn()}zoomOutGesture(i,r){this.modeService.isPageZoomed()?this.zoomStrategy.zoomOut(r,i):this.modeService.mode===dt.PAGE&&(this.modeService.mode=dt.DASHBOARD)}zoomInPinchGesture(i,r){this.modeService.mode===dt.DASHBOARD?this.modeService.mode=dt.PAGE:this.zoomIn(r,this.dragStartPosition||i.center)}zoomOutPinchGesture(i,r){const o=i.gesturePoints[0].id;this.modeService.isPageZoomed()?(this.pinchStatus.shouldStop=!0,this.zoomStrategy.zoomOut(r,i.center)):this.modeService.mode===dt.PAGE&&((!this.pinchStatus.shouldStop||o===this.pinchStatus.previousGestureId+2)&&(this.pinchStatus.shouldStop=!1,this.modeService.toggleMode()),this.pinchStatus.previousGestureId=o)}createOverlays(){this.canvasService.setViewer(this.viewer),this.canvasService.setSvgNode(this.svgNode),this.canvasService.setViewingDirection(this.manifest.viewingDirection),this.canvasService.setRotation(this.rotation.getValue()),this.canvasService.updateViewer()}initialCanvasGroupLoaded(){this.home(),this.canvasGroupMask.initialize(this.canvasService.getCurrentCanvasGroupRect(),this.modeService.mode!==dt.DASHBOARD),this.viewer&&Wu(this.viewer.container.parentNode).transition().duration(jn_transitions_OSDAnimationTime).style("opacity","1")}calculateCurrentCanvasGroup(i){if(i){const r=this.canvasService.findClosestCanvasGroupIndex(i);this.currentCanvasIndex.next(r)}}constraintCanvas(){if(this.modeService.isPageZoomed()){const i=this.getViewportBounds(),r=this.getCurrentCanvasBounds();this.isCanvasOutsideViewport(i,r)?this.constraintCanvasOutsideViewport(i,r):this.constraintCanvasInsideViewport(i)}}getCurrentCanvasBounds(){return this.viewer.world.getItemAt(this.canvasService.currentCanvasGroupIndex).getBounds()}isCanvasOutsideViewport(i,r){return i.height<r.height}constraintCanvasOutsideViewport(i,r){let o;this.isCanvasBelowViewportTop(i,r)?o=new Ur({x:i.x+i.width/2,y:r.y+i.height/2}):this.isCanvasAboveViewportBottom(i,r)&&(o=new Ur({x:i.x+i.width/2,y:r.y+r.height-i.height/2})),this.panTo(o,!0)}constraintCanvasInsideViewport(i){const r=this.canvasService.getCanvasGroupRect(this.canvasService.currentCanvasGroupIndex),o=new Ur({x:i.x+i.width/2,y:r.centerY});this.panTo(o,!0)}isCanvasBelowViewportTop(i,r){return i.y<r.y}isCanvasAboveViewportBottom(i,r){return r.y+r.height<i.y+i.height}swipeToCanvasGroup(i){if(this.pinchStatus.active)return;const r=i.speed,o=i.position,s=this.canvasService.getCurrentCanvasGroupRect(),a=this.getViewportBounds(),u=rd.getSwipeDirection(this.dragStartPosition,o,this.modeService.isPageZoomed()),p=this.canvasService.currentCanvasGroupIndex,y=_w.create(this.modeService.mode);let x,F=!1;this.modeService.isPageZoomed()&&(x=rd.getSideIfPanningPastEndOfCanvasGroup(s,a),this.swipeDragEndCounter.addHit(x,u),F=this.swipeDragEndCounter.hitCountReached());const B=this.canvasService.constrainToRange(y.calculateNextCanvasGroup({currentCanvasGroupCenter:this.currentCanvasIndex.getValue(),speed:r,direction:u,currentCanvasGroupIndex:p,canvasGroupEndHitCountReached:F,viewingDirection:this.manifest.viewingDirection}));(this.modeService.mode===dt.DASHBOARD||this.modeService.mode===dt.PAGE||F&&u)&&this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:B,immediately:!1,direction:u})}getViewportBounds(){return this.viewer?.viewport.getBounds()}getOriginalTarget(i){return i.originalTarget?i.originalTarget:i.originalEvent.target}panTo(i,r=!1){i&&this.viewer.viewport.panTo({x:i.x,y:i.y},r)}rotateToRight(){this.rotation.next((this.rotation.getValue()+90)%360)}showRotationIsNotSupportetMessage(){this.snackBar.open(this.intl.rotationIsNotSupported,void 0,{duration:3e3})}setOpacityOnPages(i){if(this.viewer){const r=this.viewer.world.getItemCount();for(let o=0;o<r;o++)this.viewer.world.getItemAt(o).setOpacity(i)}}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),zo=(()=>{var e;class n{constructor(){this.fullscreen=E(pw),this.viewerService=E(Vo)}getBoundingClientRect(i){try{return this.isDocumentInFullScreenMode()&&"MIME-VIEWER"===i.nativeElement.nodeName?this.createFullscreenDimensions(i):this.createDimensions(i)}catch{return new so}}isDocumentInFullScreenMode(){return this.fullscreen.isFullscreen()}toggleFullscreen(){const i=this.getViewerElement();i&&this.fullscreen.isEnabled()&&this.fullscreen.toggle(i)}setFocusOnViewer(){const i=this.getViewerElement();i&&i.focus()}getViewerElement(){return document.querySelector(`#${this.viewerService.id}`)}createFullscreenDimensions(i){const r=i.nativeElement.getBoundingClientRect(),o=this.getFullscreenWidth(),s=this.getFullscreenHeight();return new so({...r,top:0,bottom:s,width:o,height:s,left:0,right:o})}createDimensions(i){const r=i.nativeElement.getBoundingClientRect();return new so({top:r.top,bottom:r.bottom,width:r.width,height:r.height,left:r.left,right:r.right})}getFullscreenWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}getFullscreenHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),Gr=(()=>{var e;class n{constructor(){this.viewerService=E(Vo),this.resizeSubject=new Dl}get onResize(){return this.resizeSubject.pipe(sa(200),On(i=>({bottom:i.bottom,height:i.height,left:i.left,right:i.right,top:i.top,width:i.width})))}get el(){return this._el}set el(i){this._el=i}initialize(){this.isResizeObserverSupported()&&this.initializeResizeObserver()}destroy(){this.observer?.disconnect()}isResizeObserverSupported(){return"ResizeObserver"in window}initializeResizeObserver(){this.observer=new ResizeObserver(r=>{for(const o of r)this.handleResizeEntry(o)});const i=this.el.nativeElement.querySelector(`#${this.viewerService.id}`);i&&this.observer?.observe(i)}handleResizeEntry(i){this.resizeSubject.next(i.contentRect)}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),bw=(()=>{var e;class n{constructor(){this.mimeDomHelper=E(zo),this._el=null,this.resizeSubject=new Dl,this.dimensions=new so}get onResize(){return this.resizeSubject.asObservable()}get el(){return this._el}set el(i){this._el=i}markForCheck(){if(this.el){const i=this.mimeDomHelper.getBoundingClientRect(this.el);(this.dimensions.bottom!==i.bottom||this.dimensions.height!==i.height||this.dimensions.left!==i.left||this.dimensions.right!==i.right||this.dimensions.top!==i.top||this.dimensions.width!==i.width)&&(this.dimensions=i,this.resizeSubject.next({...this.dimensions}))}}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();class Une{getConfig(n,t){return{hasBackdrop:!1,autoFocus:!1,width:"100%",height:"100%",maxWidth:"100% !important",panelClass:["mime-mobile-dialog","mime-dialog","content-search-panel"],viewContainerRef:t}}}let Gne=(()=>{var e;class n{constructor(i){this.mimeDomHelper=i}getConfig(i,r){const o=this.getPosition(i);return{hasBackdrop:!1,autoFocus:!1,width:`${n.dialogWidth}px`,position:{top:o.top+"px",left:o.left+"px"},maxWidth:"100% !important",panelClass:["mime-dialog","content-search-panel"],viewContainerRef:r}}getPosition(i){const r=this.mimeDomHelper.getBoundingClientRect(i);return new so({top:r.top+80,left:r.right-n.dialogWidth-n.paddingRight})}static#e=e=()=>(this.dialogWidth=350,this.paddingRight=16)}return e(),n})(),TP=(()=>{var e;class n{constructor(){this.breakpointObserver=E(mr),this.mimeDomHelper=E(zo)}create(){return this.breakpointObserver.isMatched([Fn_Handset,Fn_TabletPortrait])?new Une:new Gne(this.mimeDomHelper)}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),rm=(()=>{var e;class n{constructor(){this.canvasService=E(Ar),this.iiifContentSearchService=E(Bo),this.currentIndex=0,this.lastHitIndex=0,this.isHitOnActiveCanvasGroup=!1,this.currentHit=null,this.canvasesPerCanvasGroup=[-1],this.searchResult=null,this._currentHitCounter$=new je,this.initialize()}get currentHitCounter(){return this._currentHitCounter$.pipe(Rr())}initialize(){this.subscriptions=new de,this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(i=>{this.searchResult=i,this.currentHit=null,this.update(this.canvasService.currentCanvasGroupIndex)}))}destroy(){this.subscriptions.unsubscribe()}update(i){this.canvasesPerCanvasGroup=this.canvasService.getCanvasesPerCanvasGroup(i),this.currentIndex=this.findCurrentHitIndex(this.canvasesPerCanvasGroup),this.lastHitIndex=this.findLastHitIndex(this.canvasesPerCanvasGroup),this.isHitOnActiveCanvasGroup=this.findHitOnActiveCanvasGroup(),this._currentHitCounter$.next(this.updateCurrentHitCounter())}getHitOnActiveCanvasGroup(){return this.isHitOnActiveCanvasGroup}goToNextHit(){this.isCurrentHitOnCurrentCanvasGroup()?this.goToNextCurrentCanvasHit():this.goToNextCanvasHit()}goToPreviousHit(){this.isCurrentHitOnCurrentCanvasGroup()?this.goToPreviousCurrentCanvasHit():this.goToPreviousCanvasHit()}selected(i){this.currentHit=i,this._currentHitCounter$.next(this.currentHit.id),this.currentIndex=this.currentHit.index,this.iiifContentSearchService.selected(i)}updateCurrentHitCounter(){return this.isCurrentHitOnCurrentCanvasGroup()&&this.currentHit?this.currentHit.id:this.isHitOnActiveCanvasGroup?this.currentIndex:this.lastHitIndex}goToNextCurrentCanvasHit(){if(this.searchResult&&this.currentHit){const i=this.currentHit.id;i<this.searchResult.hits.length-1&&this.selected(this.searchResult.hits[i+1])}}goToPreviousCurrentCanvasHit(){this.searchResult&&this.currentHit&&this.currentHit.id>0&&this.selected(this.searchResult.hits[this.currentHit.id-1])}goToNextCanvasHit(){if(this.searchResult){let i;if(-1===this.currentIndex)i=this.searchResult.get(0);else if(this.isHitOnActiveCanvasGroup)i=this.searchResult.hits.find(r=>r.id===this.currentIndex);else{const r=this.searchResult.get(this.currentIndex),o=this.canvasService.findCanvasGroupByCanvasIndex(r.index),s=this.canvasService.getCanvasesPerCanvasGroup(o),a=this.getLastCanvasGroupIndex(s);i=this.searchResult.hits.find(u=>u.index>a)}i&&this.selected(i)}}goToPreviousCanvasHit(){this.searchResult&&this.selected(this.isHitOnActiveCanvasGroup?this.searchResult.hits[this.currentIndex]:this.searchResult.hits[this.lastHitIndex])}findHitOnActiveCanvasGroup(){return!(!this.searchResult||-1===this.currentIndex)&&this.canvasesPerCanvasGroup?.indexOf(this.searchResult.get(this.currentIndex).index)>=0}findCurrentHitIndex(i){if(!this.searchResult)return-1;if(i)for(let r=0;r<this.searchResult.size();r++){const o=this.searchResult.get(r);if(i.indexOf(o.index)>=0)return r;if(o.index>=i[i.length-1]){if(0===r)return-1;{const s=this.searchResult.get(r-1);return this.searchResult.hits.findIndex(a=>a.index===s.index)}}}return this.searchResult.size()-1}findLastHitIndex(i){if(!this.searchResult||!i)return-1;const r=this.searchResult.hits.filter(o=>o.index<i[0]);return r.length>0?r[r.length-1].id:-1}getLastCanvasGroupIndex(i){return 1===i.length?i[0]:i[1]}isCurrentHitOnCurrentCanvasGroup(){if(this.currentHit){const i=this.canvasService.findCanvasGroupByCanvasIndex(this.canvasService.currentCanvasIndex);return-1!==this.canvasService.getCanvasesPerCanvasGroup(i).indexOf(this.currentHit.index)}return!1}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),Wne=(()=>{var e;class n{constructor(){this.dialogRef=E(Ml),this.intl=E(Ln),this.q="",this.hits=[],this.currentHit=null,this.currentSearch=null,this.numberOfHits=0,this.isSearching=!1,this.tabHeight={maxHeight:"100px"},this.isHandsetOrTabletInPortrait=!1,this.breakpointObserver=E(mr),this.cdr=E(Wt),this.mimeResizeService=E(Gr),this.iiifManifestService=E(Xi),this.iiifContentSearchService=E(Bo),this.contentSearchNavigationService=E(rm),this.manifest=null,this.mimeHeight=0,this.subscriptions=new de}ngOnInit(){this.subscriptions.add(this.breakpointObserver.observe([Fn_Handset,Fn_TabletPortrait]).subscribe(i=>this.isHandsetOrTabletInPortrait=i.matches)),this.subscriptions.add(this.mimeResizeService.onResize.subscribe(i=>{this.mimeHeight=i.height,this.resizeTabHeight()})),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{this.manifest=i})),this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(i=>{this.hits=i.hits,this.currentSearch=i.q?i.q:"",this.q=i.q,this.numberOfHits=i.size(),null!==this.resultContainer&&this.numberOfHits>0?this.resultContainer.nativeElement.focus():(0===this.q.length||0===this.numberOfHits)&&this.qEl.nativeElement.focus()})),this.subscriptions.add(this.iiifContentSearchService.isSearching.subscribe(i=>{this.isSearching=i})),this.subscriptions.add(this.iiifContentSearchService.onSelected.subscribe(i=>{null===i?this.currentHit=i:(!this.currentHit||this.currentHit.id!==i.id)&&(this.currentHit=i,this.scrollCurrentHitIntoView())})),this.resizeTabHeight()}ngAfterViewInit(){this.scrollCurrentHitIntoView()}ngOnDestroy(){this.subscriptions.unsubscribe()}onSubmit(i){i.preventDefault(),this.search()}clear(){this.q="",this.search()}goToHit(i){this.currentHit=i,this.contentSearchNavigationService.selected(i),this.isHandsetOrTabletInPortrait&&this.dialogRef.close()}search(){this.currentSearch=this.q,this.manifest&&this.iiifContentSearchService.search(this.manifest,this.q)}resizeTabHeight(){let i=this.mimeHeight;this.isHandsetOrTabletInPortrait?this.tabHeight={maxHeight:window.innerHeight-128+"px"}:(i-=320,this.tabHeight={maxHeight:i+"px"}),this.cdr.detectChanges()}scrollCurrentHitIntoView(){this.iiifContentSearchService.onSelected.pipe(di(1)).subscribe(i=>{if(null!==i){const r=this.findSelected(i);r&&r.nativeElement.focus()}})}findSelected(i){if(this.hitList){const r=this.hitList.filter((o,s)=>s===i.id);return r.length>0?r[0]:null}return null}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-search"]],viewQuery:function(r,o){if(1&r&&(bt(Cee,7),bt(xee,7),bt(Tee,5,ut)),2&r){let s;Ze(s=Ye())&&(o.resultContainer=s.first),Ze(s=Ye())&&(o.qEl=s.first),Ze(s=Ye())&&(o.hitList=s)}},decls:18,vars:9,consts:[["searchForm","ngForm"],["query",""],["contentSearchResult",""],[1,"content-search-container"],[1,"secondary-toolbar"],[1,"secondary-toolbar","justify-between"],[1,"content-search-form"],[3,"ngSubmit"],[1,"content-search-box"],["type","submit","matPrefix","","mat-icon-button","",3,"matTooltip"],[1,"icon"],["cdkFocusInitial","","matInput","","name","q","autocomplete","off",1,"content-search-input",3,"ngModelChange","ngModel"],["type","button","matSuffix","","mat-icon-button","",1,"clearSearchButton",3,"matTooltip","disabled"],[1,"content-search-result-container",3,"ngStyle"],[1,"content-search-result","grid","grid-cols-1","gap-y-2"],["mode","indeterminate"],["mat-icon-button","",1,"close-content-search-dialog-button",3,"aria-label","matTooltip","matDialogClose"],["mat-dialog-title","",1,"heading"],["mat-dialog-title","",1,"heading","heading-desktop"],["type","button","matSuffix","","mat-icon-button","",1,"clearSearchButton",3,"click","matTooltip","disabled"],["type","hidden",1,"numberOfHits",3,"value"],[1,"grid","grid-cols-1","gap-y-2"],["href","javascript: void(0);","data-testid","hit"],["data-testid","resultsFoundLabel",3,"innerHTML"],["data-testid","noResultsFoundLabel",3,"innerHTML"],["href","javascript: void(0);","data-testid","hit",3,"click","keydown.enter"],["appearance","outlined"],[1,"flex","items-start","justify-between"],[1,"summary"],[1,"canvasGroup","ml-2"]],template:function(r,o){if(1&r){const s=Yt();ue(0,"div",3),Xe(1,Eee,6,4,"mat-toolbar",4)(2,Dee,6,4,"mat-toolbar",5),ue(3,"mat-dialog-content",6)(4,"form",7,0),ze("ngSubmit",function(u){return Je(s),$e(o.onSubmit(u))}),ue(6,"mat-form-field",8)(7,"button",9)(8,"mat-icon",10),Ne(9,"search"),pe()(),ue(10,"input",11,1),tu("ngModelChange",function(u){return Je(s),sf(o.q,u)||(o.q=u),$e(u)}),pe(),Xe(12,See,3,3,"button",12),pe()(),ue(13,"div",13,2)(15,"div",14),Xe(16,kee,5,2),Xe(17,Oee,1,0,"mat-progress-bar",15),pe()()()()}2&r&&(se(),qe(o.isHandsetOrTabletInPortrait?1:2),se(6),Me("matTooltip",o.intl.searchLabel),Ue("aria-label",o.intl.searchLabel),se(3),eu("ngModel",o.q),Ue("aria-label",o.intl.searchLabel),se(2),qe(o.q?12:-1),se(),Me("ngStyle",o.tabHeight),se(3),qe(o.isSearching?-1:16),se(),qe(o.isSearching?17:-1))},dependencies:[ms,cs,Fo,ua,No,da,ha,sw,Jy,Fl,Lp,Vy,Yp,Hl,VO,GJ,UO,WJ,Mu,yO,wO,a$],styles:[".content-search-container[_ngcontent-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%]{color:inherit;padding:0 2px 16px}.content-search-container[_ngcontent-%COMP%]     mat-form-field .mdc-text-field{background:transparent!important}.content-search-container[_ngcontent-%COMP%]   .content-search-box[_ngcontent-%COMP%]{width:100%}.content-search-container[_ngcontent-%COMP%]   .content-search-input[_ngcontent-%COMP%]{font-size:20px}.content-search-container[_ngcontent-%COMP%]   .content-search-result-container[_ngcontent-%COMP%]{overflow:auto;margin-bottom:8px}.content-search-container[_ngcontent-%COMP%]   .content-search-result[_ngcontent-%COMP%]{padding:0 8px}.content-search-container[_ngcontent-%COMP%]   .content-search-result[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]{line-height:initial;height:auto;white-space:initial;word-wrap:initial;max-width:none;padding:8px 0;text-align:left;font-size:14px}.content-search-container[_ngcontent-%COMP%]     .current-content-search{font-weight:700}.content-search-container[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-weight:700}.content-search-container[_ngcontent-%COMP%]   .canvasGroupLabel[_ngcontent-%COMP%]{text-align:right;opacity:.54}.content-search-container[_ngcontent-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]{max-height:none;padding:8px;margin:0}.content-search-container[_ngcontent-%COMP%]     .mat-mdc-dialog-container{padding:0!important;overflow:initial}.content-search-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:22px!important}"]}))}return e(),n})(),om=(()=>{var e;class n{constructor(){this.dialog=E(us),this.contentSearchDialogConfigStrategyFactory=E(TP),this.mimeResizeService=E(Gr)}set viewContainerRef(i){this._viewContainerRef=i}set el(i){this._el=i}initialize(){this.subscriptions=new de,this.subscriptions.add(this.mimeResizeService.onResize.subscribe(i=>{if(this.isOpen()){const r=this.getDialogConfig();this.dialogRef?.updatePosition(r.position),this.dialogRef?.updateSize(r.width,r.height)}}))}destroy(){this.close(),this.unsubscribe()}open(){if(!this.isOpen()){const i=this.getDialogConfig();this.dialogRef=this.dialog.open(Wne,i)}}close(){this.isOpen()&&this.dialogRef?.close()}toggle(){this.isOpen()?this.close():this.open()}isOpen(){return this.dialogRef?.getState()===io.OPEN}getDialogConfig(){if(!this._el||!this._viewContainerRef)throw new Error("No element or viewContainerRef");return this.contentSearchDialogConfigStrategyFactory.create().getConfig(this._el,this._viewContainerRef)}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();class Xne{getConfig(n,t){return{hasBackdrop:!1,width:"100%",height:"100%",maxWidth:"100% !important",panelClass:["mime-mobile-dialog","mime-dialog","information-panel"],viewContainerRef:t}}}let qne=(()=>{var e;class n{constructor(i){this.mimeDomHelper=i}getConfig(i,r){const o=this.getPosition(i);return{hasBackdrop:!1,width:`${n.dialogWidth}px`,position:{top:o.top+"px",left:o.left+"px"},maxWidth:"100% !important",panelClass:["mime-dialog","information-panel"],viewContainerRef:r}}getPosition(i){const r=this.mimeDomHelper.getBoundingClientRect(i);return new so({top:r.top+80,left:r.right-n.dialogWidth-n.paddingRight})}static#e=e=()=>(this.dialogWidth=350,this.paddingRight=16)}return e(),n})(),EP=(()=>{var e;class n{constructor(){this.breakpointObserver=E(mr),this.mimeDomHelper=E(zo)}create(){return this.breakpointObserver.isMatched([Fn_Handset,Fn_TabletPortrait])?new Xne:new qne(this.mimeDomHelper)}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),Zne=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.manifest=null,this.changeDetectorRef=E(Wt),this.iiifManifestService=E(Xi),this.subscriptions=new de}ngOnInit(){this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{this.manifest=i,this.changeDetectorRef.markForCheck()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-metadata"]],decls:1,vars:1,consts:[[1,"ngx-mime-metadata-container"],[1,"metadata"],["aria-hidden","true",1,"content","logo",3,"src"],[1,"title"],[1,"content",3,"innerHTML"],[1,"content","attribution",3,"innerHTML"],[1,"content","license"],["target","_blank",3,"href"]],template:function(r,o){1&r&&Xe(0,Hee,6,3,"div",0),2&r&&qe(o.manifest?0:-1)},styles:[".title[_ngcontent-%COMP%]{font-size:14px!important;margin-bottom:4px}.content[_ngcontent-%COMP%]{display:block;font-size:12px;word-break:break-all;margin-bottom:8px}.logo[_ngcontent-%COMP%]{max-width:300px;max-height:64px}"],changeDetection:0}))}return e(),n})(),Yne=(()=>{var e;class n{constructor(){this.canvasChanged=new _t,this.intl=E(Ln),this.manifest=null,this.currentCanvasGroupIndex=0,this.changeDetectorRef=E(Wt),this.iiifManifestService=E(Xi),this.viewerService=E(Vo),this.canvasService=E(Ar),this.subscriptions=new de}ngOnInit(){this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{this.manifest=i,this.currentCanvasGroupIndex=this.canvasService.currentCanvasGroupIndex,this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.viewerService.onCanvasGroupIndexChange.subscribe(i=>{this.currentCanvasGroupIndex=i,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}goToCanvas(i,r){void 0!==r&&(i.preventDefault(),this.viewerService.goToCanvas(r,!1),this.canvasChanged.emit(r))}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-toc"]],outputs:{canvasChanged:"canvasChanged"},decls:3,vars:0,consts:[[1,"ngx-mime-toc-container"],["href","",1,"toc-link","flex","justify-between",3,"currentCanvasGroup"],["href","",1,"toc-link","flex","justify-between",3,"click"],[1,"label"],[1,"canvasGroupIndex"]],template:function(r,o){1&r&&($t(0,"div",0),qs(1,Vee,5,4,"a",1,aP),Zt()),2&r&&(se(),Zs(null==o.manifest?null:o.manifest.structures))},styles:[".currentCanvasGroup[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0}))}return e(),n})(),Kne=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.manifest=null,this.tabHeight={},this.showToc=!1,this.selectedIndex=0,this.isHandsetOrTabletInPortrait=!1,this.breakpointObserver=E(mr),this.dialogRef=E(Ml),this.changeDetectorRef=E(Wt),this.iiifManifestService=E(Xi),this.mimeResizeService=E(Gr),this.mimeHeight=0,this.subscriptions=new de}ngOnInit(){this.subscriptions.add(this.breakpointObserver.observe([Fn_Handset,Fn_TabletPortrait]).subscribe(i=>this.isHandsetOrTabletInPortrait=i.matches)),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{this.manifest=i,this.showToc=null!==this.manifest&&void 0!==this.manifest.structures&&this.manifest.structures.length>0})),this.subscriptions.add(this.mimeResizeService.onResize.subscribe(i=>{this.mimeHeight=i.height,this.resizeTabHeight()})),this.resizeTabHeight()}ngOnDestroy(){this.subscriptions.unsubscribe()}onCanvasChanged(){this.isHandsetOrTabletInPortrait&&this.dialogRef.close()}resizeTabHeight(){let i=this.mimeHeight;this.isHandsetOrTabletInPortrait?this.tabHeight={maxHeight:window.innerHeight-128+"px"}:(i-=288,this.tabHeight={maxHeight:i+"px"}),this.changeDetectorRef.detectChanges()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-information"]],decls:9,vars:5,consts:[[1,"information-container"],["data-testid","mobile-toolbar",1,"secondary-toolbar"],["data-testid","desktop-toolbar",1,"secondary-toolbar","justify-between"],["mat-dialog-content",""],[3,"selectedIndexChange","selectedIndex"],[3,"label"],[1,"tab-container",3,"ngStyle"],["mat-icon-button","",3,"aria-label","matTooltip","matDialogClose"],["mat-dialog-title",""],[3,"canvasChanged"]],template:function(r,o){1&r&&(ue(0,"div",0),Xe(1,zee,6,4,"mat-toolbar",1)(2,jee,6,4,"mat-toolbar",2),ue(3,"div",3)(4,"mat-tab-group",4),tu("selectedIndexChange",function(a){return sf(o.selectedIndex,a)||(o.selectedIndex=a),a}),ue(5,"mat-tab",5)(6,"div",6),Mt(7,"mime-metadata"),pe()(),Xe(8,Uee,3,2,"mat-tab",5),pe()()()),2&r&&(se(),qe(o.isHandsetOrTabletInPortrait?1:2),se(3),eu("selectedIndex",o.selectedIndex),se(),Me("label",o.intl.metadataLabel),se(),Me("ngStyle",o.tabHeight),se(2),qe(o.showToc?8:-1))},dependencies:[ms,cs,Fo,ua,No,da,ha,W$,qO,Mu,Zne,Yne],styles:[".mat-mdc-dialog-title[_ngcontent-%COMP%]{color:inherit;padding:0 2px 16px}  .information-panel>.mat-mdc-dialog-container{padding:0!important;overflow:initial}  .information-container>div>div>.mat-toolbar{padding:0!important}.tab-container[_ngcontent-%COMP%]{overflow:auto;padding:8px 16px}.mat-mdc-dialog-content[_ngcontent-%COMP%]{max-height:none;padding:0}"],changeDetection:0}))}return e(),n})(),sm=(()=>{var e;class n{constructor(){this.dialog=E(us),this.informationDialogConfigStrategyFactory=E(EP),this.mimeResizeService=E(Gr)}set el(i){this._el=i}set viewContainerRef(i){this._viewContainerRef=i}initialize(){this.subscriptions=new de,this.subscriptions.add(this.mimeResizeService.onResize.subscribe(i=>{if(this.isOpen()){const r=this.getDialogConfig();this.dialogRef?.updatePosition(r.position),this.dialogRef?.updateSize(r.width,r.height)}}))}destroy(){this.close(),this.unsubscribe()}open(i){if(!this.isOpen()){const r=this.getDialogConfig();this.dialogRef=this.dialog.open(Kne,r),i&&(this.dialogRef.componentInstance.selectedIndex=i)}}close(){this.isOpen()&&this.dialogRef?.close()}toggle(){this.isOpen()?this.close():this.open()}isOpen(){return this.dialogRef?.getState()===io.OPEN}getSelectedIndex(){return this.dialogRef?.componentInstance?.selectedIndex??0}getDialogConfig(){if(!this._el||!this._viewContainerRef)throw new Error("No element or viewContainerRef");return this.informationDialogConfigStrategyFactory.create().getConfig(this._el,this._viewContainerRef)}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();class Qne{getConfig(n,t){return{hasBackdrop:!1,autoFocus:!1,width:"100%",height:"100%",maxWidth:"100% !important",panelClass:["mime-mobile-dialog","mime-dialog","view-panel"],viewContainerRef:t}}}let Jne=(()=>{var e;class n{constructor(i){this.mimeDomHelper=i}getConfig(i,r){const o=this.getPosition(i);return{hasBackdrop:!1,autoFocus:!0,width:`${n.dialogWidth}px`,position:{top:o.top+"px",left:o.left+"px"},panelClass:["mime-dialog","view-panel"],maxWidth:"100% !important",viewContainerRef:r}}getPosition(i){const r=this.mimeDomHelper.getBoundingClientRect(i);return new so({top:r.top+80,left:r.right-n.dialogWidth-n.paddingRight})}static#e=e=()=>(this.dialogWidth=350,this.paddingRight=16)}return e(),n})(),DP=(()=>{var e;class n{constructor(){this.breakpointObserver=E(mr),this.mimeDomHelper=E(zo)}create(){return this.breakpointObserver.isMatched([Fn_Handset,Fn_TabletPortrait])?new Qne:new Jne(this.mimeDomHelper)}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),$ne=(()=>{var e;class n{constructor(){this.iconName=""}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-icon"]],inputs:{iconName:"iconName"},decls:3,vars:1,consts:[[1,"mat-icon"],[1,"single-page-display"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 100 100","preserveAspectRatio","xMidYMin slice"],["type","text/css"],["width","100%","height","100%"],[0,"xlink","href","#SVGID_1_",2,"overflow","visible"],["d","M21.7,25.2H8.3v2.7h13.4V25.2z M21.7,18.1H8.3v2.7h13.4V18.1z M26.1,31.8H4V4.1h13.6v8.4h8.5V31.8z M30,31.6\n          V11.4L18.7,0H4.3C4.3,0,0,0,0,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C25.8,35.9,30,35.9,30,31.6",1,"st0"],[0,"xlink","href","#SVGID_3_",2,"overflow","visible"],["d","M52.5,25.2H39.1v2.7h13.4V25.2z M52.5,18.1H39.1v2.7h13.4V18.1z M56.8,31.8H34.7V4.1h13.6v8.4h8.5V31.8z\n        M60.8,31.6V11.4L49.4,0H35c0,0-4.3,0-4.3,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C56.6,35.9,60.8,35.9,60.8,31.6",1,"st0"],["d","M21.7,25.2H8.3v2.7h13.4V25.2z M21.7,18.1H8.3v2.7h13.4V18.1z M21.7,11.1H8.3v2.7h13.4V11.1z M26.1,31.8H4V4.1\n       h22.1V31.8z M30,31.6V4.3c0,0,0-4.3-4.3-4.3H4.3C4.3,0,0,0,0,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C25.8,35.9,30,35.9,30,31.6",1,"st0"]],template:function(r,o){1&r&&($t(0,"div",0),Xe(1,Gee,10,0,"div",1)(2,Wee,10,0,":svg:svg",2),Zt()),2&r&&(se(),qe("single_page_display"===o.iconName?1:"two_page_display"===o.iconName?2:-1))},styles:[".mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.single-page-display[_ngcontent-%COMP%]{margin-left:5px}svg[_ngcontent-%COMP%]{height:40px;width:40px}"],changeDetection:0}))}return e(),n})(),eie=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.tabHeight={},this.isHandsetOrTabletInPortrait=!1,this.viewerLayout=hi.ONE_PAGE,this.ViewerLayout=hi,this.isPagedManifest=!1,this.hasRecognizedTextContent=!1,this.recognizedTextMode=ti.NONE,this.RecognizedTextMode=ti,this.breakpointObserver=E(mr),this.cdr=E(Wt),this.viewerLayoutService=E(td),this.iiifManifestService=E(Xi),this.altoService=E(Gl),this.mimeResizeService=E(Gr),this.mimeHeight=0,this.subscriptions=new de}ngOnInit(){this.subscriptions.add(this.breakpointObserver.observe([Fn_Handset,Fn_TabletPortrait]).subscribe(i=>this.isHandsetOrTabletInPortrait=i.matches)),this.subscriptions.add(this.viewerLayoutService.onChange.subscribe(i=>{this.viewerLayout=i})),this.subscriptions.add(this.altoService.onRecognizedTextContentModeChange$.subscribe(i=>{this.recognizedTextMode=i.currentValue})),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{this.isPagedManifest=!!i&&Ho.isManifestPaged(i),this.hasRecognizedTextContent=!!i&&Ho.hasRecognizedTextContent(i)})),this.subscriptions.add(this.mimeResizeService.onResize.subscribe(i=>{this.mimeHeight=i.height,this.resizeTabHeight()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}setLayoutOnePage(){this.viewerLayoutService.setLayout(hi.ONE_PAGE)}setLayoutTwoPage(){this.viewerLayoutService.setLayout(hi.TWO_PAGE)}closeRecognizedTextContent(){this.altoService.closeRecognizedTextContent()}showRecognizedTextContentInSplitView(){this.altoService.showRecognizedTextContentInSplitView()}showRecognizedTextContentOnly(){this.altoService.showRecognizedTextContentOnly()}resizeTabHeight(){let i=this.mimeHeight;this.isHandsetOrTabletInPortrait?this.tabHeight={maxHeight:window.innerHeight-128+"px"}:(i-=220,this.tabHeight={maxHeight:i+"px"}),this.cdr.detectChanges()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-view-dialog"]],decls:5,vars:4,consts:[["data-testid","mobile-toolbar",1,"secondary-toolbar"],["data-testid","desktop-toolbar",1,"secondary-toolbar","justify-between"],[3,"ngStyle"],["data-testid","page-layout"],["data-testid","ngx-mime-view-dialog-close-button","mat-icon-button","",3,"aria-label","matTooltip","matDialogClose"],["mat-dialog-title",""],["mat-dialog-title","","data-testid","ngx-mime-heading-desktop"],["role","group",1,"flex","flex-col","gap-y-2"],[1,"flex","items-center"],["data-testid","ngx-mime-single-page-view-button",3,"click","aria-label","value","checked"],[3,"iconName"],[1,"label"],["data-testid","ngx-mime-two-page-view-button",3,"click","aria-label","value","checked"],["data-testid","recognized-text-content"],["data-testid","ngx-mime-recognized-text-content-close-button",3,"click","aria-label","value","checked"],["data-testid","ngx-mime-recognized-text-content-split-view-button",3,"click","aria-label","value","checked"],["data-testid","ngx-mime-recognized-text-content-only-button",3,"click","aria-label","value","checked"]],template:function(r,o){1&r&&(Xe(0,Xee,6,4,"mat-toolbar",0)(1,qee,6,4,"mat-toolbar",1),ue(2,"mat-dialog-content",2),Xe(3,Zee,14,12,"section",3),Xe(4,Yee,23,14),pe()),2&r&&(qe(o.isHandsetOrTabletInPortrait?0:1),se(2),Me("ngStyle",o.tabHeight),se(),qe(o.isPagedManifest?3:-1),se(),qe(o.hasRecognizedTextContent?4:-1))},dependencies:[ms,cs,Fo,ua,No,da,ha,Mu,tP,$ne,nP],styles:[".mat-mdc-dialog-title[_ngcontent-%COMP%]{color:inherit;padding:0 2px 16px}  .view-panel>.mat-mdc-dialog-container{padding:0!important;overflow:initial}section[_ngcontent-%COMP%]{padding:16px 0}.label[_ngcontent-%COMP%]{margin-left:16px}.mat-mdc-dialog-content[_ngcontent-%COMP%]{margin:0;padding:0 16px}"]}))}return e(),n})(),am=(()=>{var e;class n{constructor(){this.dialog=E(us),this.viewDialogConfigStrategyFactory=E(DP),this.mimeResizeService=E(Gr)}set el(i){this._el=i}set viewContainerRef(i){this._viewContainerRef=i}initialize(){this.subscriptions=new de,this.subscriptions.add(this.mimeResizeService.onResize.subscribe(i=>{if(this.isOpen()){const r=this.getDialogConfig();this.dialogRef?.updatePosition(r.position),this.dialogRef?.updateSize(r.width,r.height)}}))}destroy(){this.close(),this.unsubscribe()}open(){if(!this.isOpen()){const i=this.getDialogConfig();this.dialogRef=this.dialog.open(eie,i)}}close(){this.isOpen()&&this.dialogRef?.close()}toggle(){this.isOpen()?this.close():this.open()}isOpen(){return this.dialogRef?.getState()===io.OPEN}getDialogConfig(){if(!this._el||!this._viewContainerRef)throw new Error("No element or viewContainerRef");return this.viewDialogConfigStrategyFactory.create().getConfig(this._el,this._viewContainerRef)}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),ni=(()=>{var e;class n{constructor(i){this.altKey=!1,this.shiftKey=!1,this.ctrlkey=!1,this.metaKey=!1,this.event=i,this.keyCode=i.keyCode,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.ctrlkey=i.ctrlKey,this.metaKey=i.metaKey}isArrowRightKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.ARROWRIGHT)}isArrowLeftKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.ARROWLEFT)}isPageUpKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.PAGEUP)}isPageDownKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.PAGEDOWN)}isFirstCanvasGroupKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.firstCanvasGroupCodes)}isLastCanvasGroupKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.lastCanvasGroupCodes)}isSliderKeys(){return this.isArrowLeftKeys()||this.isArrowRightKeys()||this.isPageDownKeys()||this.isPageUpKeys()||this.isFirstCanvasGroupKeys()||this.isLastCanvasGroupKeys()}isZoomInKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.zoomInCodes)}isZoomOutKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.zoomOutCodes)}isZoomHomeKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.zoomHomeCodes)}isNextHitKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.nextHit)}isPreviousHitKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.previousHit)}isSearchDialogKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.toggleSearchDialogCodes)}isInformationDialogKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.toggleInformationDialogCodes)}isFullscreenKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.toggleFullscreenCodes)}isResetSearchKeys(){return!this.isMetaPressed()&&this.isShiftPressed()&&this.arrayContainsKeys(n.resetSearch)}isRotateKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.rotateCwCodes)}isRecognizedTextContentKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.recognizedTextContentCodes)}execute(i){this.event.preventDefault(),i()}isMultiKeys(){return this.altKey||this.shiftKey||this.ctrlkey}arrayContainsKeys(i){return i.indexOf(this.keyCode)>-1}isShiftPressed(){return this.shiftKey}isMetaPressed(){return this.metaKey}static#e=e=()=>(this.PAGEDOWN=[34],this.PAGEUP=[33],this.ARROWRIGHT=[39],this.ARROWLEFT=[37],this.firstCanvasGroupCodes=[36],this.lastCanvasGroupCodes=[35],this.zoomInCodes=[107,187,171],this.zoomOutCodes=[109,189,173],this.zoomHomeCodes=[96,48],this.nextHit=[78],this.previousHit=[80],this.toggleSearchDialogCodes=[83],this.toggleInformationDialogCodes=[67],this.toggleFullscreenCodes=[70],this.resetSearch=[83],this.rotateCwCodes=[82],this.recognizedTextContentCodes=[84])}return e(),n})(),yw=(()=>{var e;class n{constructor(){this.viewerService=E(Vo),this.canvasService=E(Ar),this.modeService=E(id),this.iiifManifestService=E(Xi),this.iiifContentSearchService=E(Bo),this.contentSearchDialogService=E(om),this.informationDialogService=E(sm),this.viewDialogService=E(am),this.mimeDomHelper=E(zo),this.contentSearchNavigationService=E(rm),this.altoService=E(Gl),this.isSearchable=!1,this.hasHits=!1,this.disabledKeys=[],this.subscriptions=new de,this.invert=!1}initialize(){this.subscriptions=new de,this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{i&&(this.isSearchable=this.isManifestSearchable(i),this.invert=i.viewingDirection===Sn.RTL)})),this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(i=>{this.hasHits=i.hits.length>0}))}destroy(){this.unsubscribe()}handleKeyEvents(i){const r=new ni(i);this.isKeyDisabled(i.keyCode)||(r.isArrowLeftKeys()?this.isZoomedIn()||r.execute(this.invert?()=>this.goToNextCanvasGroup():()=>this.goToPreviousCanvasGroup()):r.isArrowRightKeys()?this.isZoomedIn()||r.execute(this.invert?()=>this.goToPreviousCanvasGroup():()=>this.goToNextCanvasGroup()):r.isFirstCanvasGroupKeys()?r.execute(()=>this.goToFirstCanvasGroup()):r.isLastCanvasGroupKeys()?r.execute(()=>this.goToLastCanvasGroup()):r.isNextHitKeys()&&this.hasHits?r.execute(()=>this.goToNextHit()):r.isPreviousHitKeys()&&this.hasHits?r.execute(()=>this.goToPreviousHit()):r.isFullscreenKeys()?r.execute(()=>this.toggleFullscreen()):r.isSearchDialogKeys()&&this.isSearchable?r.execute(()=>{this.toggleSearchDialog()}):r.isInformationDialogKeys()?r.execute(()=>this.toggleInformationDialog()):r.isResetSearchKeys()?r.execute(()=>this.resetSearch()):r.isPageDownKeys()?r.execute(()=>this.goToNextCanvasGroup()):r.isPageUpKeys()?r.execute(()=>this.goToPreviousCanvasGroup()):r.isZoomInKeys()?r.execute(()=>this.zoomIn()):r.isZoomOutKeys()?r.execute(()=>this.zoomOut()):r.isZoomHomeKeys()?r.execute(()=>this.zoomHome()):r.isRotateKeys()?r.execute(()=>this.rotateClockWise()):r.isRecognizedTextContentKeys()&&r.execute(()=>this.toggleRecognizedTextContentInSplitView()))}goToNextCanvasGroup(){this.viewerService.goToNextCanvasGroup()}goToPreviousCanvasGroup(){this.viewerService.goToPreviousCanvasGroup()}goToFirstCanvasGroup(){this.viewerService.goToCanvasGroup(0,!1)}goToLastCanvasGroup(){this.viewerService.goToCanvasGroup(this.canvasService.numberOfCanvasGroups-1,!1)}rotateClockWise(){this.viewerService.rotate(),this.mimeDomHelper.setFocusOnViewer()}toggleRecognizedTextContentInSplitView(){this.altoService.recognizedTextContentMode!==ti.SPLIT?this.altoService.showRecognizedTextContentInSplitView():this.altoService.closeRecognizedTextContent()}goToNextHit(){this.contentSearchNavigationService.goToNextHit()}goToPreviousHit(){this.contentSearchNavigationService.goToPreviousHit()}zoomIn(){this.modeService.mode===dt.DASHBOARD?this.modeService.toggleMode():this.viewerService.zoomIn()}zoomOut(){this.modeService.mode===dt.PAGE?this.modeService.toggleMode():this.modeService.isPageZoomed()&&this.viewerService.zoomOut()}zoomHome(){this.modeService.isPageZoomed()&&this.viewerService.home()}toggleSearchDialog(){this.modeService.mode===dt.PAGE||this.modeService.isPageZoomed()?(this.modeService.mode=dt.DASHBOARD,this.contentSearchDialogService.open()):this.contentSearchDialogService.isOpen()?this.contentSearchDialogService.close():this.contentSearchDialogService.open(),this.informationDialogService.close(),this.viewDialogService.close()}toggleInformationDialog(){this.modeService.mode===dt.PAGE||this.modeService.isPageZoomed()?(this.modeService.mode=dt.DASHBOARD,this.informationDialogService.open()):this.informationDialogService.isOpen()?this.informationDialogService.close():this.informationDialogService.open(),this.contentSearchDialogService.close(),this.viewDialogService.close()}toggleFullscreen(){this.mimeDomHelper.toggleFullscreen(),this.mimeDomHelper.setFocusOnViewer()}resetSearch(){this.iiifContentSearchService.destroy()}isManifestSearchable(i){return!!i.service}isZoomedIn(){return this.modeService.isPageZoomed()}updateDisabledKeys(){this.resetDisabledKeys(),this.informationDialogService.isOpen()?this.disableKeysForContentDialog():this.contentSearchDialogService.isOpen()&&this.diableKeysForContentSearchDialog(),this.isRecognizedTextContentModeOnly()&&this.disableKeysForRecognizedTextContentOnly()}disableKeysForContentDialog(){this.disabledKeys=this.disabledKeys.concat(ni.ARROWLEFT).concat(ni.ARROWRIGHT)}diableKeysForContentSearchDialog(){this.disabledKeys=this.disabledKeys.concat(ni.ARROWLEFT).concat(ni.ARROWRIGHT).concat(ni.firstCanvasGroupCodes).concat(ni.lastCanvasGroupCodes).concat(ni.zoomInCodes).concat(ni.zoomOutCodes).concat(ni.zoomHomeCodes).concat(ni.nextHit).concat(ni.previousHit).concat(ni.toggleSearchDialogCodes).concat(ni.toggleInformationDialogCodes).concat(ni.toggleFullscreenCodes)}isRecognizedTextContentModeOnly(){return this.altoService.recognizedTextContentMode===ti.ONLY}disableKeysForRecognizedTextContentOnly(){this.disabledKeys=this.disabledKeys.concat(ni.zoomInCodes).concat(ni.zoomOutCodes).concat(ni.zoomHomeCodes)}resetDisabledKeys(){this.disabledKeys=[]}isKeyDisabled(i){return this.updateDisabledKeys(),this.disabledKeys.indexOf(i)>-1}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),tie=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.manifest=null,this.renderer=E(Wn),this.iiifManifestService=E(Xi),this.attributionDialogResizeService=E(bw),this.styleService=E(nm),this.accessKeysHandlerService=E(yw),this.subscriptions=new de}handleKeys(i){this.accessKeysHandlerService.handleKeyEvents(i)}onResize(i){this.attributionDialogResizeService.markForCheck()}ngOnInit(){this.attributionDialogResizeService.el=this.container,this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{this.manifest=i}))}ngAfterViewInit(){this.subscriptions.add(this.styleService.onChange.subscribe(i=>{if(i){const r=this.styleService.convertToRgba(i,.3);this.renderer.setStyle(this.container?.nativeElement,"background-color",r)}}))}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewChecked(){this.attributionDialogResizeService.markForCheck()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["ng-component"]],viewQuery:function(r,o){if(1&r&&bt(lP,7),2&r){let s;Ze(s=Ye())&&(o.container=s.first)}},hostBindings:function(r,o){1&r&&ze("keydown",function(a){return o.handleKeys(a)})("resize",function(a){return o.onResize(a)},_x)},decls:9,vars:5,consts:[["container",""],[1,"attribution-container"],[1,"attribution-toolbar","mr-4","flex","items-center","justify-between"],["mat-dialog-title",""],["mat-icon-button","",3,"aria-label","matTooltip","matDialogClose"],["mat-dialog-content","",3,"innerHTML"]],template:function(r,o){1&r&&(ue(0,"div",1,0)(2,"div",2)(3,"h1",3),Ne(4),pe(),ue(5,"button",4)(6,"mat-icon"),Ne(7,"close"),pe()()(),Mt(8,"p",5),pe()),2&r&&(se(4),Lt(o.intl.attributionLabel),se(),bi("aria-label",o.intl.attributonCloseAriaLabel),Me("matTooltip",o.intl.closeLabel)("matDialogClose",!0),se(3),Me("innerHTML",null==o.manifest?null:o.manifest.attribution,Vn))},dependencies:[da,cs,Fo,ua,No,ha],styles:[".attribution-toolbar[_ngcontent-%COMP%]{background:transparent}  .attribution-panel .mdc-dialog__surface{background:transparent!important}  .attribution-container>.mat-mdc-dialog-content{font-size:11px}  .attribution-toolbar>.mat-toolbar-layout>.mat-toolbar-row{height:20px}"]}))}return e(),n})(),SP=(()=>{var e;class n{constructor(){this.dialog=E(us),this.mimeResizeService=E(Gr),this.attributionDialogResizeService=E(bw),this.mimeDomHelper=E(zo),this._el=null,this.attributionDialogHeight=0}set el(i){this._el=i}set viewContainerRef(i){this._viewContainerRef=i}initialize(){this.subscriptions=new de,this.subscriptions.add(this.mimeResizeService.onResize.subscribe(()=>{if(this.isOpen()){const i=this.getDialogConfig();this.dialogRef?.updatePosition(i.position)}})),this.subscriptions.add(this.attributionDialogResizeService.onResize.subscribe(i=>{if(this.isOpen()){this.attributionDialogHeight=i.height;const r=this.getDialogConfig();this.dialogRef?.updatePosition(r.position)}}))}destroy(){this.close(),this.unsubscribe()}open(i){if(!this.isOpen()){const r=this.getDialogConfig();this.dialogRef=this.dialog.open(tie,r),this.dialogRef.afterClosed().pipe(di(1)).subscribe(()=>{this.mimeDomHelper.setFocusOnViewer()}),this.closeDialogAfter(i)}}close(){this.isOpen()&&this.dialogRef?.close()}toggle(){this.isOpen()?this.close():this.open()}isOpen(){return this.dialogRef?.getState()===io.OPEN}closeDialogAfter(i){i&&i>0&&Vf(1e3*i).pipe(di(1)).subscribe(()=>{this.close()})}getDialogConfig(){if(!this._viewContainerRef)throw new Error("No viewContainerRef");const i=this.getPosition();return{hasBackdrop:!1,width:"180px",panelClass:["mime-dialog","attribution-panel"],position:{top:i.top+"px",left:i.left+"px"},autoFocus:!0,restoreFocus:!1,viewContainerRef:this._viewContainerRef}}getPosition(){if(!this._el)throw new Error("Could not find position because element is missing");const r=this.mimeDomHelper.getBoundingClientRect(this._el);return new so({top:r.top+r.height-this.attributionDialogHeight-80,left:r.left+20})}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),nie=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.dialogRef=E(Ml),this.fb=E(aJ),this.viewerService=E(Vo),this.canvasService=E(Ar),this.changeDetectorRef=E(Wt),this.subscriptions=new de,this.numberOfCanvases=this.canvasService.numberOfCanvases,this.canvasGroupForm=this.fb.group({canvasGroupControl:new Vl(null,[Pp.required,Pp.min(1),Pp.max(this.numberOfCanvases)])})}get canvasGroupControl(){return this.canvasGroupForm.get("canvasGroupControl")}ngOnInit(){this.subscriptions.add(this.intl.changes.subscribe(()=>this.changeDetectorRef.markForCheck()))}ngOnDestroy(){this.subscriptions.unsubscribe()}onSubmit(){if(this.canvasGroupForm.valid){const i=this.canvasGroupControl?.value;null!=i&&this.viewerService.goToCanvasGroup(this.canvasService.findCanvasGroupByCanvasIndex(i-1),!1),this.dialogRef.close()}}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["ng-component"]],decls:14,vars:7,consts:[["mat-dialog-title","",1,"canvas-group-dialog-title"],["novalidate","","autocomplete","off",3,"ngSubmit","formGroup"],["mat-dialog-content",""],[3,"floatLabel"],["type","number","matInput","","min","1","formControlName","canvasGroupControl",1,"go-to-canvas-group-input"],["mat-dialog-actions","",3,"align"],["type","button","mat-button","","matDialogClose",""],["type","submit","mat-button","",3,"disabled"]],template:function(r,o){1&r&&(ue(0,"h1",0),Ne(1),pe(),ue(2,"form",1),ze("ngSubmit",function(){return o.onSubmit()}),ue(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),Ne(6),pe(),Mt(7,"input",4),Xe(8,Kee,2,1,"mat-error"),pe()(),ue(9,"div",5)(10,"button",6),Ne(11,"CANCEL"),pe(),ue(12,"button",7),Ne(13,"OK"),pe()()()),2&r&&(se(),Lt(o.intl.goToPageLabel),se(),Me("formGroup",o.canvasGroupForm),se(2),Me("floatLabel","always"),se(2),Lt(o.intl.enterPageNumber),se(2),qe(null!=o.canvasGroupControl&&null!=o.canvasGroupControl.errors&&o.canvasGroupControl.errors.max?8:-1),se(),Me("align","end"),se(3),Me("disabled",o.canvasGroupForm.pristine||o.canvasGroupForm.invalid))},dependencies:[da,sw,Jy,Fl,$y,Lp,Vy,rw,lJ,zl,tw,ha,VO,aw,UO,UJ,tk,sy,ua],styles:[".canvas-group-dialog-title[_ngcontent-%COMP%]{margin:0 0 20px;display:block}"],changeDetection:0}))}return e(),n})(),ww=(()=>{var e;class n{constructor(){this.dialog=E(us)}set viewContainerRef(i){this._viewContainerRef=i}initialize(){}destroy(){this.close()}open(){if(!this.isOpen()){const i=this.getDialogConfig();this.dialogRef=this.dialog.open(nie,i)}}close(){this.isOpen()&&this.dialogRef?.close()}toggle(){this.isOpen()?this.close():this.open()}isOpen(){return this.dialogRef?.getState()===io.OPEN}getDialogConfig(){return{panelClass:["mime-dialog","canvas-group-panel"],viewContainerRef:this._viewContainerRef}}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})();class iie{constructor(n){this.isOpen=!1,this.selectedIndex=0,n&&(this.isOpen=void 0!==n.isOpen?n.isOpen:this.isOpen,this.selectedIndex=void 0!==n.selectedIndex?n.selectedIndex:this.selectedIndex)}}class rie{constructor(n){this.isOpen=!1,n&&(this.isOpen=void 0!==n.isOpen?n.isOpen:this.isOpen)}}class oie{constructor(n){this.isOpen=!1,n&&(this.isOpen=void 0!==n.isOpen?n.isOpen:this.isOpen)}}class sie{constructor(n){this.isOpen=!1,n&&(this.isOpen=void 0!==n.isOpen?n.isOpen:this.isOpen)}}class IP{constructor(n){this.viewDialogState=new sie,this.contentDialogState=new iie,this.contentsSearchDialogState=new rie,this.helpDialogState=new oie,n&&(this.viewDialogState=n.viewDialogState?n.viewDialogState:this.viewDialogState,this.contentDialogState=n.contentDialogState?n.contentDialogState:this.contentDialogState,this.contentsSearchDialogState=n.contentsSearchDialogState?n.contentsSearchDialogState:this.contentsSearchDialogState,this.helpDialogState=n.helpDialogState?n.helpDialogState:this.helpDialogState)}}class aie{getConfig(n,t){return{hasBackdrop:!1,width:"100%",height:"100%",maxWidth:"100% !important",panelClass:["mime-mobile-dialog","mime-dialog","help-panel"],viewContainerRef:t}}}let lie=(()=>{var e;class n{constructor(i){this.mimeDomHelper=i}getConfig(i,r){const o=this.getPosition(i);return{hasBackdrop:!1,width:`${n.dialogWidth}px`,position:{top:o.top+"px",left:o.left+"px"},panelClass:["mime-dialog","help-panel"],maxWidth:"100% !important",viewContainerRef:r}}getPosition(i){const r=this.mimeDomHelper.getBoundingClientRect(i);return new so({top:r.top+80,left:r.right-n.dialogWidth-n.paddingRight})}static#e=e=()=>(this.dialogWidth=350,this.paddingRight=16)}return e(),n})(),MP=(()=>{var e;class n{constructor(){this.breakpointObserver=E(mr),this.mimeDomHelper=E(zo)}create(){return this.breakpointObserver.isMatched([Fn_Handset,Fn_TabletPortrait])?new aie:new lie(this.mimeDomHelper)}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),cie=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.tabHeight={},this.isHandsetOrTabletInPortrait=!1,this.cdr=E(Wt),this.mimeResizeService=E(Gr),this.breakpointObserver=E(mr),this.mimeHeight=0,this.subscriptions=new de}ngOnInit(){this.subscriptions.add(this.breakpointObserver.observe([Fn_Handset,Fn_TabletPortrait]).subscribe(i=>this.isHandsetOrTabletInPortrait=i.matches)),this.subscriptions.add(this.mimeResizeService.onResize.subscribe(i=>{this.mimeHeight=i.height,this.resizeTabHeight()})),this.resizeTabHeight()}ngOnDestroy(){this.subscriptions.unsubscribe()}resizeTabHeight(){let i=this.mimeHeight;this.isHandsetOrTabletInPortrait?this.tabHeight={maxHeight:window.innerHeight-128+"px"}:(i-=220,this.tabHeight={maxHeight:i+"px"}),this.cdr.detectChanges()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-help"]],decls:16,vars:14,consts:[[1,"help-container"],[1,"secondary-toolbar"],[1,"secondary-toolbar","justify-between"],["tabindex","0",1,"help-content",3,"ngStyle"],[3,"innerHTML"],["mat-icon-button","",3,"aria-label","matTooltip","matDialogClose"],["mat-dialog-title",""],["mat-dialog-title","",1,"heading-desktop"]],template:function(r,o){1&r&&(ue(0,"div",0),Xe(1,Qee,6,4,"mat-toolbar",1)(2,Jee,6,4,"mat-toolbar",2),ue(3,"mat-dialog-content",3),Mt(4,"p",4)(5,"p",4)(6,"p",4)(7,"p",4)(8,"p",4)(9,"p",4)(10,"p",4)(11,"p",4)(12,"p",4)(13,"p",4)(14,"p",4)(15,"p",4),pe()()),2&r&&(se(),qe(o.isHandsetOrTabletInPortrait?1:2),se(2),Me("ngStyle",o.tabHeight),se(),Me("innerHTML",o.intl.help.line1,Vn),se(),Me("innerHTML",o.intl.help.line2,Vn),se(),Me("innerHTML",o.intl.help.line3,Vn),se(),Me("innerHTML",o.intl.help.line4,Vn),se(),Me("innerHTML",o.intl.help.line5,Vn),se(),Me("innerHTML",o.intl.help.line6,Vn),se(),Me("innerHTML",o.intl.help.line12,Vn),se(),Me("innerHTML",o.intl.help.line7,Vn),se(),Me("innerHTML",o.intl.help.line8,Vn),se(),Me("innerHTML",o.intl.help.line9,Vn),se(),Me("innerHTML",o.intl.help.line10,Vn),se(),Me("innerHTML",o.intl.help.line11,Vn))},dependencies:[ms,cs,Fo,ua,No,da,ha,Mu],styles:[".mat-mdc-dialog-title[_ngcontent-%COMP%]{color:inherit;padding:0 2px 16px}.help-container[_ngcontent-%COMP%]{font-size:14px}.help-content[_ngcontent-%COMP%]{padding:16px;overflow:auto}  .help-panel>.mat-mdc-dialog-container{padding:0!important;overflow:initial}"]}))}return e(),n})(),Cw=(()=>{var e;class n{constructor(){this.dialog=E(us),this.helpDialogConfigStrategyFactory=E(MP),this.mimeResizeService=E(Gr)}set el(i){this._el=i}set viewContainerRef(i){this._viewContainerRef=i}initialize(){this.subscriptions=new de,this.subscriptions.add(this.mimeResizeService.onResize.subscribe(()=>{if(this.isOpen()){const i=this.getDialogConfig();this.dialogRef?.updatePosition(i.position),this.dialogRef?.updateSize(i.width,i.height)}}))}destroy(){this.close(),this.unsubscribe()}open(){if(!this.isOpen()){const i=this.getDialogConfig();this.dialogRef=this.dialog.open(cie,i)}}close(){this.isOpen()&&this.dialogRef?.close()}toggle(){this.isOpen()?this.close():this.open()}isOpen(){return this.dialogRef?.getState()===io.OPEN}getDialogConfig(){if(!this._el||!this._viewContainerRef)throw new Error("No element or viewContainerRef");return this._el?this.helpDialogConfigStrategyFactory.create().getConfig(this._el,this._viewContainerRef):{}}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275prov=Te({token:n,factory:n.\u0275fac}))}return e(),n})(),uie=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.numberOfCanvasGroups=0,this.isFirstCanvasGroup=!1,this.isLastCanvasGroup=!1,this.invert=!1,this.isWeb=!1,this.fabState="closed",this.fabIcon="menu",this.baseAnimationDelay=20,this.isZoomed=!0,this.breakpointObserver=E(mr),this.changeDetectorRef=E(Wt),this.viewerService=E(Vo),this.canvasService=E(Ar),this.iiifManifestService=E(Xi),this.modeService=E(id),this.subscriptions=new de}ngOnInit(){this.subscriptions.add(this.modeService.onChange.subscribe(()=>{this.isZoomed=this.modeService.isPageZoomed(),this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.breakpointObserver.observe(["(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)"]).subscribe(i=>{this.isWeb=i.matches,this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{i&&(this.invert=i.viewingDirection===Sn.LTR,this.changeDetectorRef.detectChanges())})),this.subscriptions.add(this.viewerService.onCanvasGroupIndexChange.subscribe(i=>{this.numberOfCanvasGroups=this.canvasService.numberOfCanvasGroups,this.isFirstCanvasGroup=this.isOnFirstCanvasGroup(i),this.isLastCanvasGroup=this.isOnLastCanvasGroup(i),this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.intl.changes.subscribe(()=>this.changeDetectorRef.markForCheck()))}toggleFab(){this.fabState="closed"===this.fabState?"open":"closed",this.fabIcon="closed"===this.fabState?"menu":"clear"}zoomIn(){this.viewerService.zoomIn()}zoomOut(){this.viewerService.zoomOut()}home(){this.viewerService.home()}rotate(){this.viewerService.rotate()}ngOnDestroy(){this.subscriptions.unsubscribe()}goToPreviousCanvasGroup(){this.viewerService.goToPreviousCanvasGroup()}goToNextCanvasGroup(){this.viewerService.goToNextCanvasGroup()}isOnFirstCanvasGroup(i){return 0===i}isOnLastCanvasGroup(i){return i===this.numberOfCanvasGroups-1}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-osd-toolbar"]],viewQuery:function(r,o){if(1&r&&bt(lP,7),2&r){let s;Ze(s=Ye())&&(o.container=s.first)}},decls:3,vars:3,consts:[["container",""],[1,"osd-toolbar"],[1,"flex","gap-2"],[1,"flex","flex-col","gap-2"],["mat-fab","","aria-controls","osdControls","data-testid","fabButton",3,"click","matTooltip"],["id","osdControls",1,"flex","items-center","gap-2"],["data-testid","navigateBeforeButton","mat-mini-fab","",3,"--delayEnter","--delayLeave","matTooltip","disabled"],["data-testid","navigateNextButton","mat-mini-fab","",3,"--delayEnter","--delayLeave","matTooltip","disabled"],["data-testid","zoomInButton","mat-mini-fab","",3,"click","matTooltip"],["data-testid","homeButton","mat-mini-fab","",3,"click","disabled","matTooltip"],["data-testid","zoomOutButton","mat-mini-fab","",3,"click","matTooltip"],["data-testid","rotateButton","mat-mini-fab","",3,"click","matTooltip"],["data-testid","navigateBeforeButton","mat-mini-fab","",3,"click","matTooltip","disabled"],["data-testid","navigateNextButton","mat-mini-fab","",3,"click","matTooltip","disabled"]],template:function(r,o){1&r&&(ue(0,"div",1,0),Xe(2,ite,22,31,"div",2),pe()),2&r&&(ot("open","open"===o.fabState),se(2),qe(o.isWeb?2:-1))},dependencies:[kX,Fo,No,OX],styles:["[_nghost-%COMP%]{z-index:2}.osd-toolbar[_ngcontent-%COMP%]{position:absolute;background:transparent;width:auto;border-radius:8px;margin:8px 0 0 8px}.osd-toolbar[_ngcontent-%COMP%]   [mat-fab][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transition:transform .1s}.osd-toolbar[_ngcontent-%COMP%]   [mat-mini-fab][_ngcontent-%COMP%]{--delay: calc(var(--delayLeave, 0ms) * 1ms);opacity:0;scale:0;transition:opacity 1ms var(--delay, 0ms) ease-in,scale 1ms var(--delay, 0ms) ease-in}.osd-toolbar.open[_ngcontent-%COMP%]   [mat-fab][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.osd-toolbar.open[_ngcontent-%COMP%]   [mat-mini-fab][_ngcontent-%COMP%]{--delay: calc(var(--delayEnter, 0ms) * 1ms);opacity:1;scale:1;transition:opacity 1ms var(--delay, 0ms) ease-out,scale 1ms var(--delay, 0ms) ease-out}"],changeDetection:0}))}return e(),n})(),die=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.isLoading=!1,this.error=void 0,this.cdr=E(Wt),this.canvasService=E(Ar),this.altoService=E(Gl),this.iiifManifestService=E(Xi),this.iiifContentSearchService=E(Bo),this.highlightService=E(mw),this.subscriptions=new de}ngOnInit(){var i=this;this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(r=>{this.altoService.initialize(r.hits)})),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(()=>{this.clearRecognizedText(),this.cdr.detectChanges()})),this.subscriptions.add(this.iiifContentSearchService.onSelected.subscribe(r=>{r&&(this.selectedHit=r.id,this.highlightService.highlightSelectedHit(this.selectedHit))})),this.subscriptions.add(this.altoService.onTextContentReady$.subscribe(ve(function*(){i.clearRecognizedText(),i.scrollToTop(),yield i.updateRecognizedText(),i.cdr.detectChanges()}))),this.subscriptions.add(this.altoService.isLoading$.subscribe(r=>{this.isLoading=r,this.cdr.detectChanges()})),this.subscriptions.add(this.altoService.hasErrors$.subscribe(r=>{this.error=r,this.cdr.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.altoService.destroy()}clearRecognizedText(){this.firstCanvasRecognizedTextContent="",this.secondCanvasRecognizedTextContent=""}scrollToTop(){this.recognizedTextContentContainer.nativeElement.scrollTop=0}updateRecognizedText(){var i=this;return ve(function*(){const r=i.canvasService.getCanvasesPerCanvasGroup(i.canvasService.currentCanvasGroupIndex);yield i.updateCanvases(r),void 0!==i.selectedHit&&i.highlightService.highlightSelectedHit(i.selectedHit)})()}updateCanvases(i){var r=this;return ve(function*(){r.firstCanvasRecognizedTextContent=r.altoService.getHtml(i[0]),2===i.length&&(r.secondCanvasRecognizedTextContent=r.altoService.getHtml(i[1]))})()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-recognized-text-content"]],viewQuery:function(r,o){if(1&r&&bt(rte,5,ut),2&r){let s;Ze(s=Ye())&&(o.recognizedTextContentContainer=s.first)}},decls:4,vars:2,consts:[["recognizedTextContentContainer",""],["aria-live","polite",1,"recognized-text-content-container","flex","flex-col","items-center"],["data-testid","error"],["data-testid","firstCanvasRecognizedTextContent",1,"content",3,"innerHTML"],["data-testid","secondCanvasRecognizedTextContent",1,"content",3,"innerHTML"]],template:function(r,o){1&r&&($t(0,"div",1,0),Xe(2,ote,2,1,"div",2),Xe(3,lte,2,2),Zt()),2&r&&(se(2),qe(o.error?2:-1),se(),qe(o.isLoading?-1:3))},styles:[".recognized-text-content-container[_ngcontent-%COMP%]{height:100%;overflow:auto}.recognized-text-content-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1em}  .selectedHit{background:#ff89009c;outline:2px solid rgb(97,52,0)}  mark{background:#ffff009c}"],changeDetection:0}))}return e(),n})(),hie=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.numberOfCanvases=0,this.canvasGroupLabel="",this.numberOfCanvasGroups=0,this.currentCanvasGroupIndex=-1,this.isFirstCanvasGroup=!1,this.isLastCanvasGroup=!1,this.ViewingDirection=Sn,this.currentViewingDirection=Sn.LTR,this.changeDetectorRef=E(Wt),this.viewerService=E(Vo),this.canvasService=E(Ar),this.canvasGroupDialogService=E(ww),this.iiifManifestService=E(Xi),this.currentSliderCanvasGroupIndex=-1,this.subscriptions=new de}ngOnInit(){this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{i&&(this.currentViewingDirection=i.viewingDirection===Sn.LTR?Sn.LTR:Sn.RTL,this.changeDetectorRef.detectChanges())})),this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe(i=>{-1!==this.currentSliderCanvasGroupIndex&&this.currentSliderCanvasGroupIndex===i?this.currentSliderCanvasGroupIndex=-1:-1===this.currentSliderCanvasGroupIndex&&(this.currentCanvasGroupIndex=i,this.canvasGroupLabel=this.canvasService.getCanvasGroupLabel(this.currentCanvasGroupIndex)),this.isFirstCanvasGroup=this.isOnFirstCanvasGroup(i),this.isLastCanvasGroup=this.isOnLastCanvasGroup(i),this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.canvasService.onNumberOfCanvasGroupsChange.subscribe(i=>{this.numberOfCanvasGroups=i,this.numberOfCanvases=this.canvasService.numberOfCanvases,null!==this.currentCanvasGroupIndex&&(this.isFirstCanvasGroup=this.isOnFirstCanvasGroup(this.currentCanvasGroupIndex),this.isLastCanvasGroup=this.isOnLastCanvasGroup(this.currentCanvasGroupIndex)),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}goToPreviousCanvasGroup(){this.viewerService.goToPreviousCanvasGroup()}goToNextCanvasGroup(){this.viewerService.goToNextCanvasGroup()}onSliderChange(i){const r=parseInt(i.target.value);this.currentSliderCanvasGroupIndex=r,this.currentCanvasGroupIndex=r,null!==this.currentCanvasGroupIndex&&(this.canvasGroupLabel=this.canvasService.getCanvasGroupLabel(this.currentCanvasGroupIndex),this.viewerService.goToCanvasGroup(this.currentCanvasGroupIndex,!1)),this.changeDetectorRef.detectChanges()}onSliderHotKey(i){new ni(i).isSliderKeys()&&i.stopPropagation()}openCanvasGroupDialog(){this.canvasGroupDialogService.toggle()}isOnFirstCanvasGroup(i){return 0===i}isOnLastCanvasGroup(i){return i===this.numberOfCanvasGroups-1}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-page-navigator"]],inputs:{searchResult:"searchResult"},decls:14,vars:7,consts:[["data-testid","navigation-slider-container",1,"w-full",3,"dir"],[1,"navigation-slider",3,"keydown","max"],["matSliderThumb","",3,"ngModelChange","input","ngModel"],["mat-button","","data-testid","canvasGroupDialogButton",1,"canvasGroups",3,"click"],["data-testid","currentCanvasGroupLabel"],["data-testid","numOfCanvasGroups"],[1,"navigation-buttons"],["data-testid","footerNavigateBeforeButton","mat-icon-button","","matTooltipPosition","above",3,"click","matTooltip","disabled"],["data-testid","footerNavigateNextButton","mat-icon-button","","matTooltipPosition","above",3,"click","matTooltip","disabled"]],template:function(r,o){1&r&&(ue(0,"mat-toolbar")(1,"div",0)(2,"mat-slider",1),ze("keydown",function(a){return o.onSliderHotKey(a)}),ue(3,"input",2),tu("ngModelChange",function(a){return sf(o.currentCanvasGroupIndex,a)||(o.currentCanvasGroupIndex=a),a}),ze("input",function(a){return o.onSliderChange(a)}),pe()()(),ue(4,"button",3),ze("click",function(){return o.openCanvasGroupDialog()}),ue(5,"span",4),Ne(6),pe(),ue(7,"span"),Ne(8,"/"),pe(),ue(9,"span",5),Ne(10),pe()(),ue(11,"div",6),Xe(12,cte,6,6)(13,ute,6,6),pe()()),2&r&&(se(),Me("dir",o.currentViewingDirection),se(),Me("max",o.numberOfCanvasGroups-1),se(),eu("ngModel",o.currentCanvasGroupIndex),Ue("aria-label",o.intl.currentPageLabel),se(3),Lt(o.canvasGroupLabel),se(4),Lt(o.numberOfCanvases),se(2),qe(o.currentViewingDirection===o.ViewingDirection.LTR?12:13))},dependencies:[ms,aX,dee,hw,sw,Fl,Lp,Yp,sy,cs,Fo,No],styles:[".canvasGroups[_ngcontent-%COMP%]{font-size:13px;text-align:center;cursor:pointer}.navigation-slider[_ngcontent-%COMP%]{width:100%;width:-moz-available;width:-webkit-fill-available}"]}))}return e(),n})(),fie=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.isHitOnActiveCanvasGroup=!1,this.isFirstHit=!1,this.isLastHit=!1,this.currentHit=0,this.invert=!1,this.changeDetectorRef=E(Wt),this.canvasService=E(Ar),this.iiifContentSearchService=E(Bo),this.contentSearchNavigationService=E(rm),this.iiifManifestService=E(Xi),this.subscriptions=new de}ngOnInit(){this.contentSearchNavigationService.initialize(),this.subscriptions.add(this.contentSearchNavigationService.currentHitCounter.subscribe(i=>{this.currentHit=i,this.updateHitStatus(),this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{i&&(this.invert=i.viewingDirection!==Sn.LTR,this.changeDetectorRef.detectChanges())})),this.subscriptions.add(this.intl.changes.subscribe(()=>this.changeDetectorRef.markForCheck())),this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe(i=>{this.contentSearchNavigationService.update(i),this.isHitOnActiveCanvasGroup=this.contentSearchNavigationService.getHitOnActiveCanvasGroup(),this.changeDetectorRef.detectChanges()}))}ngOnChanges(i){this.updateHitStatus()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.contentSearchNavigationService.destroy()}clear(){this.iiifContentSearchService.destroy()}goToNextHit(){this.contentSearchNavigationService.goToNextHit()}goToPreviousHit(){this.contentSearchNavigationService.goToPreviousHit()}updateHitStatus(){this.isFirstHit=this.currentHit<=0,this.isLastHit=this.currentHit===this.searchResult.size()-1}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-content-search-navigator"]],inputs:{searchResult:"searchResult"},features:[dr],decls:1,vars:1,consts:[[1,"content-search-navigator-toolbar","min-w-[275px]"],["data-testid","footerNavigateCloseHitsButton","mat-icon-button","","matTooltipPosition","above",3,"click","matTooltip"],[1,"current-hit-label","grow",3,"ngClass","innerHTML"],[1,"navigation-buttons"],["data-testid","footerNavigateNextHitButton","mat-icon-button","","matTooltipPosition","above",3,"click","matTooltip","disabled"],["data-testid","footerNavigatePreviousHitButton","mat-icon-button","","matTooltipPosition","above",3,"click","matTooltip","disabled"]],template:function(r,o){1&r&&Xe(0,pte,8,7,"mat-toolbar",0),2&r&&qe(o.searchResult?0:-1)},dependencies:[ms,cs,Fo,No,Iu],styles:[".current-hit-label[_ngcontent-%COMP%]{font-size:13px;text-align:center}.not-on-page[_ngcontent-%COMP%]{opacity:.7}"],changeDetection:0}))}return e(),n})(),pie=(()=>{var e;class n{constructor(){this.searchResult=new nd,this.showPageNavigator=!0,this.showContentSearchNavigator=!1,this.breakpointObserver=E(mr),this.changeDetectorRef=E(Wt),this.iiifContentSearchService=E(Bo),this.subscriptions=new de}ngOnInit(){this.setupContentSearchObserver(),this.setupBreakpointObserver()}ngOnDestroy(){this.subscriptions.unsubscribe()}setupContentSearchObserver(){this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(i=>{this.searchResult=i,this.showContentSearchNavigator=this.searchResult.size()>0,this.updateShowPageNavigator(),this.changeDetectorRef.detectChanges()}))}setupBreakpointObserver(){this.subscriptions.add(this.breakpointObserver.observe(["(max-width: 599.98px)"]).subscribe(i=>{this.showPageNavigator=!i.matches||0===this.searchResult.size(),this.changeDetectorRef.detectChanges()}))}updateShowPageNavigator(){this.showPageNavigator=0===this.searchResult.size()||!this.isHandsetPortrait()}isHandsetPortrait(){return this.breakpointObserver.isMatched("(max-width: 599.98px) and (orientation: portrait)")}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-viewer-footer"]],viewQuery:function(r,o){if(1&r&&(bt(mte,7,Jn),bt(gte,7,Jn)),2&r){let s;Ze(s=Ye())&&(o.mimeFooterBefore=s.first),Ze(s=Ye())&&(o.mimeFooterAfter=s.first)}},decls:8,vars:3,consts:[["mimeFooterBefore",""],["mimeFooterAfter",""],[1,"footer-toolbar"],[1,"w-full",3,"hidden","searchResult"],[3,"ngClass","searchResult"],["vertical","",1,"h-full"]],template:function(r,o){1&r&&(Mt(0,"mat-divider"),ue(1,"mat-toolbar",2),Vi(2,vte,0,0,"ng-template",null,0,Qs),Xe(4,bte,2,4),Mt(5,"mime-page-navigator",3),Vi(6,yte,0,0,"ng-template",null,1,Qs),pe()),2&r&&(se(4),qe(o.showContentSearchNavigator?4:-1),se(),Me("hidden",!o.showPageNavigator)("searchResult",o.searchResult))},dependencies:[nP,ms,fie,Iu,hie],styles:["[_nghost-%COMP%]{display:block;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.footer-toolbar[_ngcontent-%COMP%]{padding:0}[hidden][_ngcontent-%COMP%]{display:none}"]}))}return e(),n})(),mie=(()=>{var e;class n{constructor(){this.intl=E(Ln),this.manifest=null,this.isContentSearchEnabled=!1,this.isFullscreenEnabled=!1,this.isInFullscreen=!1,this.fullscreenLabel="",this.isPagedManifest=!1,this.hasRecognizedTextContent=!1,this.changeDetectorRef=E(Wt),this.informationDialogService=E(sm),this.contentSearchDialogService=E(om),this.viewDialogService=E(am),this.helpDialogService=E(Cw),this.iiifManifestService=E(Xi),this.fullscreenService=E(pw),this.mimeDomHelper=E(zo),this.subscriptions=new de}ngOnInit(){this.isFullscreenEnabled=this.fullscreenService.isEnabled(),this.subscriptions.add(this.intl.changes.subscribe(()=>this.changeDetectorRef.markForCheck())),this.subscriptions.add(this.fullscreenService.onChange.subscribe(()=>this.onFullscreenChange())),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{this.manifest=i,this.isContentSearchEnabled=!(!i||!i.service),this.isPagedManifest=!!i&&Ho.isManifestPaged(i),this.hasRecognizedTextContent=!!i&&Ho.hasRecognizedTextContent(i),this.changeDetectorRef.detectChanges()})),this.onFullscreenChange()}ngOnDestroy(){this.subscriptions.unsubscribe()}toggleView(){this.informationDialogService.close(),this.contentSearchDialogService.close(),this.helpDialogService.close(),this.viewDialogService.toggle()}toggleInformationDialog(){this.viewDialogService.close(),this.contentSearchDialogService.close(),this.helpDialogService.close(),this.informationDialogService.toggle()}toggleSearch(){this.viewDialogService.close(),this.informationDialogService.close(),this.helpDialogService.close(),this.contentSearchDialogService.toggle()}toggleHelp(){this.viewDialogService.close(),this.informationDialogService.close(),this.contentSearchDialogService.close(),this.helpDialogService.toggle()}toggleFullscreen(){return this.mimeDomHelper.toggleFullscreen()}onFullscreenChange(){this.isInFullscreen=this.fullscreenService.isFullscreen(),this.fullscreenLabel=this.isInFullscreen?this.intl.exitFullScreenLabel:this.intl.fullScreenLabel,this.changeDetectorRef.detectChanges()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-viewer-header"]],viewQuery:function(r,o){if(1&r&&(bt(wte,7,Jn),bt(Cte,7,Jn),bt(xte,7,ut)),2&r){let s;Ze(s=Ye())&&(o.mimeHeaderBefore=s.first),Ze(s=Ye())&&(o.mimeHeaderAfter=s.first),Ze(s=Ye())&&(o.viewMenu=s.first)}},decls:15,vars:8,consts:[["mimeHeaderBefore",""],["mimeHeaderAfter",""],["viewMenu",""],[1,"secondary-toolbar"],["data-testid","ngx-mime-manifest-label",1,"label","w-full",3,"matTooltip"],["data-testid","ngx-mime-view-menu-button","mat-icon-button","",3,"matTooltip"],["data-testid","ngx-mimeInformationDialogButton","mat-icon-button","",3,"click","matTooltip"],["aria-hidden","true"],["data-testid","ngx-mimeContentSearchDialogButton","mat-icon-button","",3,"matTooltip"],["data-testid","ngx-mimeHelpDialogButton","mat-icon-button","",3,"click","matTooltip"],["data-testid","ngx-mimeFullscreenButton","mat-icon-button","",3,"matTooltip"],["data-testid","ngx-mime-view-menu-button","mat-icon-button","",3,"click","matTooltip"],["data-testid","ngx-mimeContentSearchDialogButton","mat-icon-button","",3,"click","matTooltip"],["data-testid","ngx-mimeFullscreenButton","mat-icon-button","",3,"click","matTooltip"]],template:function(r,o){if(1&r){const s=Yt();ue(0,"mat-toolbar",3),Vi(1,Tte,0,0,"ng-template",null,0,Qs),Xe(3,Ete,2,2,"div",4),Xe(4,Dte,4,2,"button",5),ue(5,"button",6),ze("click",function(){return Je(s),$e(o.toggleInformationDialog())}),ue(6,"mat-icon",7),Ne(7,"list"),pe()(),Xe(8,Ste,3,2,"button",8),ue(9,"button",9),ze("click",function(){return Je(s),$e(o.toggleHelp())}),ue(10,"mat-icon",7),Ne(11,"help"),pe()(),Xe(12,Rte,3,3,"button",10),Vi(13,Ate,0,0,"ng-template",null,1,Qs),pe()}2&r&&(se(3),qe(o.manifest?3:-1),se(),qe(o.isPagedManifest||o.hasRecognizedTextContent?4:-1),se(),Me("matTooltip",o.intl.informationLabel),Ue("aria-label",o.intl.informationLabel),se(3),qe(o.isContentSearchEnabled?8:-1),se(),Me("matTooltip",o.intl.help.helpLabel),Ue("aria-label",o.intl.help.helpLabel),se(3),qe(o.isFullscreenEnabled?12:-1))},dependencies:[ms,Fo,cs,No],styles:["[_nghost-%COMP%]{max-height:64px}.label[_ngcontent-%COMP%]{font-size:17px;overflow:hidden;text-overflow:ellipsis}"]}))}return e(),n})(),gie=(()=>{var e;class n{constructor(){this.visible=!1,this.spinnerService=E(gw),this.changeDetectorRef=E(Wt),this.subscriptions=new de}ngOnInit(){this.subscriptions.add(this.spinnerService.spinnerState.subscribe(i=>{this.visible=i.show,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-spinner"]],decls:2,vars:2,consts:[[1,"mime-spinner"]],template:function(r,o){1&r&&(ue(0,"div",0),Mt(1,"mat-spinner"),pe()),2&r&&ot("mime-spinner--active",o.visible)},dependencies:[wee],styles:[".mime-spinner[_ngcontent-%COMP%]{display:none;position:absolute;left:50%;top:45%;transform:translate(-50%);z-index:9999}.mime-spinner--active[_ngcontent-%COMP%]{display:block}"]}))}return e(),n})();const _ie=[yw,Gl,bw,SP,ww,Ar,CP,TP,om,rm,pw,MP,Cw,mw,Bo,Xi,EP,sm,zo,Gr,id,gw,nm,DP,am,td,Vo];let RP=(()=>{var e;class n{constructor(){this.manifestUri=null,this.canvasIndex=0,this.config=new $p,this.tabIndex=0,this.viewerModeChanged=new _t,this.canvasChanged=new _t,this.qChanged=new _t,this.manifestChanged=new _t,this.recognizedTextContentModeChanged=new _t,this.snackBar=E(GA),this.intl=E(Ln),this.recognizedTextMode=ti,this.id="ngx-mime-mimeViewer",this.openseadragonId="openseadragon",this.recognizedTextContentMode=ti.NONE,this.showHeaderAndFooterState=!1,this.osdToolbarState=!1,this.errorMessage=null,this.iiifManifestService=E(Xi),this.viewDialogService=E(am),this.informationDialogService=E(sm),this.attributionDialogService=E(SP),this.contentSearchDialogService=E(om),this.helpDialogService=E(Cw),this.viewerService=E(Vo),this.resizeService=E(Gr),this.changeDetectorRef=E(Wt),this.modeService=E(id),this.iiifContentSearchService=E(Bo),this.accessKeysHandlerService=E(yw),this.canvasService=E(Ar),this.viewerLayoutService=E(td),this.styleService=E(nm),this.altoService=E(Gl),this.canvasGroupDialogService=E(ww),this.el=E(ut),this.viewContainerRef=E(Jn),this.zone=E(Be),this.platform=E(cn),this.subscriptions=new de,this.isCanvasPressed=!1,this.viewerLayout=null,this.viewerState=new IP,this.id=this.viewerService.id,this.openseadragonId=this.viewerService.openseadragonId,this.informationDialogService.el=this.el,this.informationDialogService.viewContainerRef=this.viewContainerRef,this.attributionDialogService.el=this.el,this.attributionDialogService.viewContainerRef=this.viewContainerRef,this.viewDialogService.el=this.el,this.viewDialogService.viewContainerRef=this.viewContainerRef,this.contentSearchDialogService.el=this.el,this.contentSearchDialogService.viewContainerRef=this.viewContainerRef,this.helpDialogService.el=this.el,this.helpDialogService.viewContainerRef=this.viewContainerRef,this.canvasGroupDialogService.viewContainerRef=this.viewContainerRef,this.resizeService.el=this.el}get mimeHeaderBeforeRef(){return this.header.mimeHeaderBefore}get mimeHeaderAfterRef(){return this.header.mimeHeaderAfter}get mimeFooterBeforeRef(){return this.footer.mimeFooterBefore}get mimeFooterAfterRef(){return this.footer.mimeFooterAfter}handleKeys(i){this.accessKeysHandlerService.handleKeyEvents(i)}onDrop(i){if(i.preventDefault(),i.stopPropagation(),this.config.isDropEnabled){const r=i.dataTransfer.getData("URL"),o=new URL(r).searchParams,s=o.get("manifest"),a=o.get("canvas");s&&(this.manifestUri=s.startsWith("//")?`${location.protocol}${s}`:s,this.cleanup(),this.loadManifest(),a&&this.manifestChanged.pipe(di(1)).subscribe(u=>{const p=u.sequences?u.sequences[0]?.canvases?.findIndex(y=>y.id===a):-1;p&&-1!==p&&setTimeout(()=>{this.viewerService.goToCanvas(p,!0)},0)}))}else this.snackBar.open(this.intl.dropDisabled,void 0,{duration:3e3})}onDragOver(i){i.preventDefault(),i.stopPropagation()}onDragLeave(i){i.preventDefault(),i.stopPropagation()}ngOnInit(){this.styleService.initialize(),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{i&&(this.initialize(),this.currentManifest=i,this.manifestChanged.next(i),this.viewerLayoutService.init(Ho.isManifestPaged(i)),this.recognizedTextContentMode=this.altoService.recognizedTextContentMode,this.changeDetectorRef.detectChanges(),this.viewerService.setUpViewer(i,this.config),this.config.attributionDialogEnabled&&i.attribution&&this.attributionDialogService.open(this.config.attributionDialogHideTimeout),this.q&&this.iiifContentSearchService.search(i,this.q))})),this.subscriptions.add(this.viewerService.onOsdReadyChange.subscribe(i=>{i&&this.canvasIndex&&!this.canvasService.currentCanvasGroupIndex&&this.viewerService.goToCanvas(this.canvasIndex,!1)})),this.subscriptions.add(this.iiifManifestService.errorMessage.subscribe(i=>{this.resetCurrentManifest(),this.errorMessage=i,this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.iiifContentSearchService.onQChange.subscribe(i=>{this.qChanged.emit(i)})),this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(i=>{this.viewerService.highlight(i)})),this.subscriptions.add(this.viewerService.isCanvasPressed.subscribe(i=>{this.isCanvasPressed=i,this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.modeService.onChange.subscribe(i=>{void 0!==i.currentValue&&this.toggleToolbarsState(i.currentValue),i.previousValue===dt.DASHBOARD&&i.currentValue===dt.PAGE&&(this.viewerState.viewDialogState.isOpen=this.viewDialogService.isOpen(),this.viewerState.contentDialogState.isOpen=this.informationDialogService.isOpen(),this.viewerState.contentDialogState.selectedIndex=this.informationDialogService.getSelectedIndex(),this.viewerState.contentsSearchDialogState.isOpen=this.contentSearchDialogService.isOpen(),this.viewerState.helpDialogState.isOpen=this.helpDialogService.isOpen(),this.zone.run(()=>{this.viewDialogService.close(),this.informationDialogService.close(),this.contentSearchDialogService.close(),this.helpDialogService.close()})),i.currentValue===dt.DASHBOARD&&this.zone.run(()=>{this.viewerState.viewDialogState.isOpen&&this.viewDialogService.open(),this.viewerState.contentDialogState.isOpen&&this.informationDialogService.open(this.viewerState.contentDialogState.selectedIndex),this.viewerState.contentsSearchDialogState.isOpen&&this.contentSearchDialogService.open(),this.viewerState.helpDialogState.isOpen&&this.helpDialogService.open()}),this.zone.run(()=>{this.viewerModeChanged.emit(i.currentValue)})})),this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe(i=>{const r=this.canvasService.findCanvasByCanvasIndex(i);-1!==r&&this.canvasChanged.emit(r)})),this.subscriptions.add(this.resizeService.onResize.pipe(function jX(e,n){return Qn((t,i)=>{const{leading:r=!0,trailing:o=!1}=n??{};let s=!1,a=null,u=null,p=!1;const y=()=>{u?.unsubscribe(),u=null,o&&(B(),p&&i.complete())},x=()=>{u=null,p&&i.complete()},F=Q=>u=wi(e(Q)).subscribe(kn(i,y,x)),B=()=>{if(s){s=!1;const Q=a;a=null,i.next(Q),!p&&F(Q)}};t.subscribe(kn(i,Q=>{s=!0,a=Q,(!u||u.closed)&&(r?B():F(Q))},()=>{p=!0,(!(o&&s&&u)||u.closed)&&i.complete()}))})}(i=>Vf(jn_transitions_OSDAnimationTime))).subscribe(()=>{setTimeout(()=>{this.viewerService.home(),this.changeDetectorRef.markForCheck()},jn_transitions_OSDAnimationTime)})),this.subscriptions.add(this.viewerLayoutService.onChange.subscribe(i=>{this.viewerLayout=i})),this.subscriptions.add(this.altoService.onRecognizedTextContentModeChange$.subscribe(i=>{this.recognizedTextContentMode=i.currentValue,this.recognizedTextContentModeChanged.emit(this.recognizedTextContentMode),this.changeDetectorRef.markForCheck()}))}ngOnChanges(i){i.config&&(this.viewerService.setConfig(this.config),this.viewerLayoutService.setConfig(this.config),this.iiifContentSearchService.setConfig(this.config),this.altoService.setConfig(this.config),this.modeService.setConfig(this.config),this.modeService.initialize()),i.manifestUri&&(this.cleanup(),this.modeService.mode=this.config.initViewerMode,this.manifestUri=i.manifestUri.currentValue,this.loadManifest()),i.q&&(this.q=i.q.currentValue,this.currentManifest&&this.iiifContentSearchService.search(this.currentManifest,this.q)),i.canvasIndex&&(this.canvasIndex=i.canvasIndex.currentValue,this.currentManifest&&this.viewerService.goToCanvas(this.canvasIndex,!0))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup(),this.iiifManifestService.destroy(),this.iiifContentSearchService.destroy(),this.styleService.destroy()}toggleToolbarsState(i){if(this.header&&this.footer){switch(i){case dt.DASHBOARD:this.showHeaderAndFooterState=!0,this.config.navigationControlEnabled&&(this.osdToolbarState=!1);break;case dt.PAGE:this.showHeaderAndFooterState=!1,this.config.navigationControlEnabled&&(this.osdToolbarState=!0)}this.changeDetectorRef.detectChanges()}}goToHomeZoom(){this.recognizedTextContentMode!==this.recognizedTextMode.ONLY&&this.viewerService.home()}setClasses(){return{"mode-page":this.modeService.mode===dt.PAGE,"mode-page-zoomed":this.modeService.isPageZoomed(),"mode-dashboard":this.modeService.mode===dt.DASHBOARD,"layout-one-page":this.viewerLayout===hi.ONE_PAGE,"layout-two-page":this.viewerLayout===hi.TWO_PAGE,"canvas-pressed":this.isCanvasPressed,"broken-mix-blend-mode":!this.hasMixBlendModeSupport()}}loadManifest(){this.iiifManifestService.load(this.manifestUri).pipe(di(1)).subscribe()}initialize(){this.accessKeysHandlerService.initialize(),this.attributionDialogService.initialize(),this.viewDialogService.initialize(),this.informationDialogService.initialize(),this.contentSearchDialogService.initialize(),this.helpDialogService.initialize(),this.viewerService.initialize(),this.resizeService.initialize()}cleanup(){this.viewerState=new IP,this.accessKeysHandlerService.destroy(),this.attributionDialogService.destroy(),this.viewDialogService.destroy(),this.informationDialogService.destroy(),this.contentSearchDialogService.destroy(),this.helpDialogService.destroy(),this.viewerService.destroy(),this.resizeService.destroy(),this.resetErrorMessage()}resetCurrentManifest(){this.currentManifest=null}resetErrorMessage(){this.errorMessage=null}hasMixBlendModeSupport(){return!(this.platform.FIREFOX||this.platform.SAFARI)}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["mime-viewer"]],viewQuery:function(r,o){if(1&r&&(bt(kte,7),bt(Ote,7)),2&r){let s;Ze(s=Ye())&&(o.header=s.first),Ze(s=Ye())&&(o.footer=s.first)}},hostBindings:function(r,o){1&r&&ze("keydown",function(a){return o.handleKeys(a)})("drop",function(a){return o.onDrop(a)})("dragover",function(a){return o.onDragOver(a)})("dragleave",function(a){return o.onDragLeave(a)})},inputs:{manifestUri:"manifestUri",q:"q",canvasIndex:"canvasIndex",config:"config",tabIndex:"tabIndex"},outputs:{viewerModeChanged:"viewerModeChanged",canvasChanged:"canvasChanged",qChanged:"qChanged",manifestChanged:"manifestChanged",recognizedTextContentModeChanged:"recognizedTextContentModeChanged"},features:[Rt(_ie),dr],decls:13,vars:18,consts:[["mimeHeader",""],["mimeFooter",""],[1,"viewer-container",3,"id","ngClass","hidden","tabIndex"],[1,"navbar","navbar-header"],[3,"show"],["autosize","",1,"viewer-drawer-container"],["data-testid","ngx-mime-recognized-text-content-container","mode","side","position","end",3,"openedChange","opened","ngClass"],[1,"openseadragon",3,"id"],[1,"navbar","navbar-footer"],[1,"error-container","flex","items-center","justify-center"]],template:function(r,o){if(1&r){const s=Yt();ue(0,"div",2),Mt(1,"mime-spinner")(2,"mime-viewer-header",3,0),Xe(4,Nte,1,2,"mime-osd-toolbar",4),ue(5,"mat-drawer-container",5)(6,"mat-drawer",6),ze("openedChange",function(){return Je(s),$e(o.goToHomeZoom())}),Xe(7,Fte,1,0,"mime-recognized-text-content"),pe(),ue(8,"mat-drawer-content"),Mt(9,"div",7),pe()(),Mt(10,"mime-viewer-footer",8,1),pe(),Xe(12,Lte,2,1,"div",9)}2&r&&(Me("id",o.id)("ngClass",o.setClasses())("hidden",null!==o.errorMessage)("tabIndex",o.tabIndex),se(2),ot("show",o.showHeaderAndFooterState),se(2),qe(o.config.navigationControlEnabled?4:-1),se(2),Me("opened",o.recognizedTextContentMode!==o.recognizedTextMode.NONE)("ngClass",VS(14,Pte,o.recognizedTextContentMode===o.recognizedTextMode.ONLY,o.recognizedTextContentMode===o.recognizedTextMode.SPLIT,o.showHeaderAndFooterState)),se(),qe(o.recognizedTextContentMode!==o.recognizedTextMode.NONE?7:-1),se(2),Me("id",o.openseadragonId),se(),ot("show",o.showHeaderAndFooterState),se(2),qe(o.errorMessage?12:-1))},dependencies:[Iu,mX,IA,MA,ip,gie,mie,uie,die,pie],styles:[".viewer-container[_ngcontent-%COMP%]{overflow:hidden;box-sizing:border-box;position:relative;width:100%;height:100%;display:flex;flex-direction:column}.viewer-container[_ngcontent-%COMP%]   mime-viewer-header[_ngcontent-%COMP%]{transform:translateY(-100%);transition:transform .5s ease-out}.viewer-container[_ngcontent-%COMP%]   mime-viewer-header.show[_ngcontent-%COMP%]{transform:translate(0);transition:transform .4s ease-in}.viewer-container[_ngcontent-%COMP%]   mime-osd-toolbar[_ngcontent-%COMP%]{transform:translate(-100%);transition:transform .5s ease-in}.viewer-container[_ngcontent-%COMP%]   mime-osd-toolbar.show[_ngcontent-%COMP%]{transform:translate(0);transition:transform .4s ease-out}.viewer-container[_ngcontent-%COMP%]   mime-viewer-footer[_ngcontent-%COMP%]{transform:translateY(100%);transition:transform .5s ease-out}.viewer-container[_ngcontent-%COMP%]   mime-viewer-footer.show[_ngcontent-%COMP%]{transform:translate(0);transition:transform .4s ease-in}.viewer-container[_ngcontent-%COMP%]   .openseadragon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.viewer-container.mode-page-zoomed[_ngcontent-%COMP%]  .tile:hover{cursor:-webkit-grab}.viewer-container.canvas-pressed[_ngcontent-%COMP%], .viewer-container.canvas-pressed[_ngcontent-%COMP%]  .tile:hover{cursor:grabbing;cursor:-webkit-grabbing}.viewer-container.mode-dashboard.layout-one-page[_ngcontent-%COMP%]  .tile, .viewer-container.mode-dashboard.layout-two-page[_ngcontent-%COMP%]  .page-group .tile{stroke:#00000026;stroke-width:8;transition:.25s ease stroke}.viewer-container.mode-dashboard.layout-one-page[_ngcontent-%COMP%]  .tile:hover, .viewer-container.mode-dashboard.layout-two-page[_ngcontent-%COMP%]  .page-group:hover .tile{stroke:#00000073}.viewer-container.broken-mix-blend-mode[_ngcontent-%COMP%]     .hit{mix-blend-mode:unset!important;fill:#ff09}.viewer-container.broken-mix-blend-mode[_ngcontent-%COMP%]     .selected{fill:#ff890099}.viewer-container[_ngcontent-%COMP%]     .openseadragon-container{flex-grow:1}.viewer-container[_ngcontent-%COMP%]     .openseadragon-canvas:focus{outline:none}.viewer-container[_ngcontent-%COMP%]     .tile{cursor:pointer;fill-opacity:0}.viewer-container[_ngcontent-%COMP%]     .hit{mix-blend-mode:multiply;fill:#ff0}.viewer-container[_ngcontent-%COMP%]     .selected{fill:#ff8900;stroke:#613400;stroke-width:4px}.viewer-container[_ngcontent-%COMP%]   .viewer-drawer-container[_ngcontent-%COMP%]{width:100%;height:100%}.openseadragon[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-direction:column;opacity:0;width:100%;height:100%}.navbar[_ngcontent-%COMP%]{position:absolute;width:100%;overflow:hidden;z-index:2}.navbar-header[_ngcontent-%COMP%]{top:0}.navbar-footer[_ngcontent-%COMP%]{bottom:0}.error-container[_ngcontent-%COMP%]{width:100%;height:100%}[hidden][_ngcontent-%COMP%]{display:none}mat-drawer.split[_ngcontent-%COMP%]{width:25%}@media only screen and (max-width:599px){mat-drawer.split[_ngcontent-%COMP%]{width:33%}}mat-drawer.only[_ngcontent-%COMP%]{width:100%}mat-drawer.only[_ngcontent-%COMP%]     mime-recognized-text-content .content{max-width:980px}.open[_ngcontent-%COMP%]{height:calc(100% - 128px)!important;top:64px}@media only screen and (max-width:599px){.open[_ngcontent-%COMP%]{height:calc(100% - 112px)!important;top:56px}}"],changeDetection:0}))}return e(),n})(),vie=(()=>{var e;class n{static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275mod=eo({type:n}),this.\u0275inj=Pr({providers:[Ln],imports:[RP]}))}return e(),n})(),bie=(()=>{var e;class n{constructor(){this.mimeConfig=new $p}ngOnInit(){this.config&&(this.mimeConfig=Object.assign(this.mimeConfig,JSON.parse(this.config)))}static#e=e=()=>(this.\u0275fac=function(r){return new(r||n)},this.\u0275cmp=it({type:n,selectors:[["nationallibraryofnorway-root"]],inputs:{manifestUri:"manifestUri",config:"config"},decls:1,vars:2,consts:[["tabindex","0",3,"manifestUri","config"]],template:function(r,o){1&r&&Mt(0,"mime-viewer",0),2&r&&Me("manifestUri",o.manifestUri)("config",o.mimeConfig)},dependencies:[vie,RP],encapsulation:2}))}return e(),n})();ve(function*(){const e="app-mime-viewer",n=yield function y6(e){return f4(function MR(e){return{appProviders:[...D6,...e?.providers??[]],platformProviders:T6}}(e))}({providers:[VW(),Ln,{provide:vu,useClass:uW}]});if(!customElements.get(e)){const t=function e6(e,n){const t=function qW(e,n){return n.get(rl).resolveComponentFactory(e).inputs}(e,n.injector),i=n.strategyFactory||new QW(e,n.injector),r=function XW(e){const n={};return e.forEach(({propName:t,templateName:i,transform:r})=>{n[function UW(e){return e.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}(i)]=[t,r]}),n}(t);class o extends $W{injector;static observedAttributes=Object.keys(r);get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=i.create(this.injector||n.injector);t.forEach(({propName:u,transform:p})=>{if(!this.hasOwnProperty(u))return;const y=this[u];delete this[u],a.setInputValue(u,y,p)})}return this._ngElementStrategy}_ngElementStrategy;constructor(a){super(),this.injector=a}attributeChangedCallback(a,u,p,y){const[x,F]=r[a];this.ngElementStrategy.setInputValue(x,p,F)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const u=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(u)})}}return t.forEach(({propName:s,transform:a})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(u){this.ngElementStrategy.setInputValue(s,u,a)},configurable:!0,enumerable:!0})}),o}(bie,{injector:n.injector});customElements.define(e,t)}})()})()})();