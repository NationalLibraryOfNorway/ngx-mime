var Gee=Object.defineProperty,zee=Object.defineProperties,jee=Object.getOwnPropertyDescriptors,cR=Object.getOwnPropertySymbols,Uee=Object.prototype.hasOwnProperty,Wee=Object.prototype.propertyIsEnumerable,uR=(Nr,Ai,Vi)=>Ai in Nr?Gee(Nr,Ai,{enumerable:!0,configurable:!0,writable:!0,value:Vi}):Nr[Ai]=Vi,ut=(Nr,Ai)=>{for(var Vi in Ai||(Ai={}))Uee.call(Ai,Vi)&&uR(Nr,Vi,Ai[Vi]);if(cR)for(var Vi of cR(Ai))Wee.call(Ai,Vi)&&uR(Nr,Vi,Ai[Vi]);return Nr},Ta=(Nr,Ai)=>zee(Nr,jee(Ai));(()=>{var Nr={1766:(Se,xe)=>{"use strict";xe.byteLength=function(T){var S=f(T),z=S[1];return 3*(S[0]+z)/4-z},xe.toByteArray=function(T){var S,C,L=f(T),z=L[0],te=L[1],F=new Q(function(T,S,L){return 3*(S+L)/4-L}(0,z,te)),B=0,m=te>0?z-4:z;for(C=0;C<m;C+=4)S=K[T.charCodeAt(C)]<<18|K[T.charCodeAt(C+1)]<<12|K[T.charCodeAt(C+2)]<<6|K[T.charCodeAt(C+3)],F[B++]=S>>16&255,F[B++]=S>>8&255,F[B++]=255&S;return 2===te&&(S=K[T.charCodeAt(C)]<<2|K[T.charCodeAt(C+1)]>>4,F[B++]=255&S),1===te&&(S=K[T.charCodeAt(C)]<<10|K[T.charCodeAt(C+1)]<<4|K[T.charCodeAt(C+2)]>>2,F[B++]=S>>8&255,F[B++]=255&S),F},xe.fromByteArray=function(T){for(var S,L=T.length,z=L%3,te=[],F=16383,B=0,m=L-z;B<m;B+=F)te.push(_(T,B,B+F>m?m:B+F));return 1===z?te.push($[(S=T[L-1])>>2]+$[S<<4&63]+"=="):2===z&&te.push($[(S=(T[L-2]<<8)+T[L-1])>>10]+$[S>>4&63]+$[S<<2&63]+"="),te.join("")};for(var $=[],K=[],Q="undefined"!=typeof Uint8Array?Uint8Array:Array,q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=q.length;l<d;++l)$[l]=q[l],K[q.charCodeAt(l)]=l;function f(T){var S=T.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=T.indexOf("=");return-1===L&&(L=S),[L,L===S?0:4-L%4]}function y(T){return $[T>>18&63]+$[T>>12&63]+$[T>>6&63]+$[63&T]}function _(T,S,L){for(var te=[],F=S;F<L;F+=3)te.push(y((T[F]<<16&16711680)+(T[F+1]<<8&65280)+(255&T[F+2])));return te.join("")}K["-".charCodeAt(0)]=62,K["_".charCodeAt(0)]=63},3548:(Se,xe,$)=>{"use strict";var K=$(1766),Q=$(2326),q="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;xe.Buffer=h,xe.SlowBuffer=function(g){return+g!=g&&(g=0),h.alloc(+g)},xe.INSPECT_MAX_BYTES=50;var l=2147483647;function f(g){if(g>l)throw new RangeError('The value "'+g+'" is invalid for option "size"');var v=new Uint8Array(g);return Object.setPrototypeOf(v,h.prototype),v}function h(g,v,E){if("number"==typeof g){if("string"==typeof v)throw new TypeError('The "string" argument must be of type string. Received type number');return _(g)}return w(g,v,E)}function w(g,v,E){if("string"==typeof g)return function(g,v){if(("string"!=typeof v||""===v)&&(v="utf8"),!h.isEncoding(v))throw new TypeError("Unknown encoding: "+v);var E=0|B(g,v),H=f(E),J=H.write(g,v);return J!==E&&(H=H.slice(0,J)),H}(g,v);if(ArrayBuffer.isView(g))return function(g){if(zt(g,Uint8Array)){var v=new Uint8Array(g);return L(v.buffer,v.byteOffset,v.byteLength)}return T(g)}(g);if(null==g)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(zt(g,ArrayBuffer)||g&&zt(g.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(zt(g,SharedArrayBuffer)||g&&zt(g.buffer,SharedArrayBuffer)))return L(g,v,E);if("number"==typeof g)throw new TypeError('The "value" argument must not be of type number. Received type number');var H=g.valueOf&&g.valueOf();if(null!=H&&H!==g)return h.from(H,v,E);var J=function(g){if(h.isBuffer(g)){var v=0|te(g.length),E=f(v);return 0===E.length||g.copy(E,0,0,v),E}return void 0!==g.length?"number"!=typeof g.length||pn(g.length)?f(0):T(g):"Buffer"===g.type&&Array.isArray(g.data)?T(g.data):void 0}(g);if(J)return J;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof g[Symbol.toPrimitive])return h.from(g[Symbol.toPrimitive]("string"),v,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}function b(g){if("number"!=typeof g)throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function _(g){return b(g),f(g<0?0:0|te(g))}function T(g){for(var v=g.length<0?0:0|te(g.length),E=f(v),H=0;H<v;H+=1)E[H]=255&g[H];return E}function L(g,v,E){if(v<0||g.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<v+(E||0))throw new RangeError('"length" is outside of buffer bounds');var H;return H=void 0===v&&void 0===E?new Uint8Array(g):void 0===E?new Uint8Array(g,v):new Uint8Array(g,v,E),Object.setPrototypeOf(H,h.prototype),H}function te(g){if(g>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return 0|g}function B(g,v){if(h.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||zt(g,ArrayBuffer))return g.byteLength;if("string"!=typeof g)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);var E=g.length,H=arguments.length>2&&!0===arguments[2];if(!H&&0===E)return 0;for(var J=!1;;)switch(v){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return V(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*E;case"hex":return E>>>1;case"base64":return Lt(g).length;default:if(J)return H?-1:V(g).length;v=(""+v).toLowerCase(),J=!0}}function m(g,v,E){var H=!1;if((void 0===v||v<0)&&(v=0),v>this.length||((void 0===E||E>this.length)&&(E=this.length),E<=0)||(E>>>=0)<=(v>>>=0))return"";for(g||(g="utf8");;)switch(g){case"hex":return Ye(this,v,E);case"utf8":case"utf-8":return _e(this,v,E);case"ascii":return Oe(this,v,E);case"latin1":case"binary":return dt(this,v,E);case"base64":return ye(this,v,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pt(this,v,E);default:if(H)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),H=!0}}function C(g,v,E){var H=g[v];g[v]=g[E],g[E]=H}function D(g,v,E,H,J){if(0===g.length)return-1;if("string"==typeof E?(H=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),pn(E=+E)&&(E=J?0:g.length-1),E<0&&(E=g.length+E),E>=g.length){if(J)return-1;E=g.length-1}else if(E<0){if(!J)return-1;E=0}if("string"==typeof v&&(v=h.from(v,H)),h.isBuffer(v))return 0===v.length?-1:P(g,v,E,H,J);if("number"==typeof v)return v&=255,"function"==typeof Uint8Array.prototype.indexOf?J?Uint8Array.prototype.indexOf.call(g,v,E):Uint8Array.prototype.lastIndexOf.call(g,v,E):P(g,[v],E,H,J);throw new TypeError("val must be string, number or Buffer")}function P(g,v,E,H,J){var et,ce=1,pe=g.length,Ze=v.length;if(void 0!==H&&("ucs2"===(H=String(H).toLowerCase())||"ucs-2"===H||"utf16le"===H||"utf-16le"===H)){if(g.length<2||v.length<2)return-1;ce=2,pe/=2,Ze/=2,E/=2}function tt(Rn,Hi){return 1===ce?Rn[Hi]:Rn.readUInt16BE(Hi*ce)}if(J){var Qe=-1;for(et=E;et<pe;et++)if(tt(g,et)===tt(v,-1===Qe?0:et-Qe)){if(-1===Qe&&(Qe=et),et-Qe+1===Ze)return Qe*ce}else-1!==Qe&&(et-=et-Qe),Qe=-1}else for(E+Ze>pe&&(E=pe-Ze),et=E;et>=0;et--){for(var bt=!0,kt=0;kt<Ze;kt++)if(tt(g,et+kt)!==tt(v,kt)){bt=!1;break}if(bt)return et}return-1}function U(g,v,E,H){E=Number(E)||0;var J=g.length-E;H?(H=Number(H))>J&&(H=J):H=J;var ce=v.length;H>ce/2&&(H=ce/2);for(var pe=0;pe<H;++pe){var Ze=parseInt(v.substr(2*pe,2),16);if(pn(Ze))return pe;g[E+pe]=Ze}return pe}function R(g,v,E,H){return rn(V(v,g.length-E),g,E,H)}function oe(g,v,E,H){return rn(function(g){for(var v=[],E=0;E<g.length;++E)v.push(255&g.charCodeAt(E));return v}(v),g,E,H)}function X(g,v,E,H){return rn(Lt(v),g,E,H)}function le(g,v,E,H){return rn(function(g,v){for(var E,H,ce=[],pe=0;pe<g.length&&!((v-=2)<0);++pe)H=(E=g.charCodeAt(pe))>>8,ce.push(E%256),ce.push(H);return ce}(v,g.length-E),g,E,H)}function ye(g,v,E){return K.fromByteArray(0===v&&E===g.length?g:g.slice(v,E))}function _e(g,v,E){E=Math.min(g.length,E);for(var H=[],J=v;J<E;){var tt,et,Qe,bt,ce=g[J],pe=null,Ze=ce>239?4:ce>223?3:ce>191?2:1;if(J+Ze<=E)switch(Ze){case 1:ce<128&&(pe=ce);break;case 2:128==(192&(tt=g[J+1]))&&(bt=(31&ce)<<6|63&tt)>127&&(pe=bt);break;case 3:et=g[J+2],128==(192&(tt=g[J+1]))&&128==(192&et)&&(bt=(15&ce)<<12|(63&tt)<<6|63&et)>2047&&(bt<55296||bt>57343)&&(pe=bt);break;case 4:et=g[J+2],Qe=g[J+3],128==(192&(tt=g[J+1]))&&128==(192&et)&&128==(192&Qe)&&(bt=(15&ce)<<18|(63&tt)<<12|(63&et)<<6|63&Qe)>65535&&bt<1114112&&(pe=bt)}null===pe?(pe=65533,Ze=1):pe>65535&&(H.push((pe-=65536)>>>10&1023|55296),pe=56320|1023&pe),H.push(pe),J+=Ze}return function(g){var v=g.length;if(v<=4096)return String.fromCharCode.apply(String,g);for(var E="",H=0;H<v;)E+=String.fromCharCode.apply(String,g.slice(H,H+=4096));return E}(H)}function Oe(g,v,E){var H="";E=Math.min(g.length,E);for(var J=v;J<E;++J)H+=String.fromCharCode(127&g[J]);return H}function dt(g,v,E){var H="";E=Math.min(g.length,E);for(var J=v;J<E;++J)H+=String.fromCharCode(g[J]);return H}function Ye(g,v,E){var H=g.length;(!v||v<0)&&(v=0),(!E||E<0||E>H)&&(E=H);for(var J="",ce=v;ce<E;++ce)J+=In[g[ce]];return J}function Pt(g,v,E){for(var H=g.slice(v,E),J="",ce=0;ce<H.length-1;ce+=2)J+=String.fromCharCode(H[ce]+256*H[ce+1]);return J}function st(g,v,E){if(g%1!=0||g<0)throw new RangeError("offset is not uint");if(g+v>E)throw new RangeError("Trying to access beyond buffer length")}function Ne(g,v,E,H,J,ce){if(!h.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>J||v<ce)throw new RangeError('"value" argument is out of bounds');if(E+H>g.length)throw new RangeError("Index out of range")}function _n(g,v,E,H,J,ce){if(E+H>g.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function ri(g,v,E,H,J){return v=+v,E>>>=0,J||_n(g,0,E,4),Q.write(g,v,E,H,23,4),E+4}function Yt(g,v,E,H,J){return v=+v,E>>>=0,J||_n(g,0,E,8),Q.write(g,v,E,H,52,8),E+8}xe.kMaxLength=l,!(h.TYPED_ARRAY_SUPPORT=function(){try{var g=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(g,v),42===g.foo()}catch(E){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(g,v,E){return w(g,v,E)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(g,v,E){return function(g,v,E){return b(g),g<=0?f(g):void 0!==v?"string"==typeof E?f(g).fill(v,E):f(g).fill(v):f(g)}(g,v,E)},h.allocUnsafe=function(g){return _(g)},h.allocUnsafeSlow=function(g){return _(g)},h.isBuffer=function(v){return null!=v&&!0===v._isBuffer&&v!==h.prototype},h.compare=function(v,E){if(zt(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),zt(E,Uint8Array)&&(E=h.from(E,E.offset,E.byteLength)),!h.isBuffer(v)||!h.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===E)return 0;for(var H=v.length,J=E.length,ce=0,pe=Math.min(H,J);ce<pe;++ce)if(v[ce]!==E[ce]){H=v[ce],J=E[ce];break}return H<J?-1:J<H?1:0},h.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(v,E){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(0===v.length)return h.alloc(0);var H;if(void 0===E)for(E=0,H=0;H<v.length;++H)E+=v[H].length;var J=h.allocUnsafe(E),ce=0;for(H=0;H<v.length;++H){var pe=v[H];if(zt(pe,Uint8Array))ce+pe.length>J.length?h.from(pe).copy(J,ce):Uint8Array.prototype.set.call(J,pe,ce);else{if(!h.isBuffer(pe))throw new TypeError('"list" argument must be an Array of Buffers');pe.copy(J,ce)}ce+=pe.length}return J},h.byteLength=B,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var v=this.length;if(v%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<v;E+=2)C(this,E,E+1);return this},h.prototype.swap32=function(){var v=this.length;if(v%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<v;E+=4)C(this,E,E+3),C(this,E+1,E+2);return this},h.prototype.swap64=function(){var v=this.length;if(v%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<v;E+=8)C(this,E,E+7),C(this,E+1,E+6),C(this,E+2,E+5),C(this,E+3,E+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var v=this.length;return 0===v?"":0===arguments.length?_e(this,0,v):m.apply(this,arguments)},h.prototype.equals=function(v){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v||0===h.compare(this,v)},h.prototype.inspect=function(){var v="",E=xe.INSPECT_MAX_BYTES;return v=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(v+=" ... "),"<Buffer "+v+">"},q&&(h.prototype[q]=h.prototype.inspect),h.prototype.compare=function(v,E,H,J,ce){if(zt(v,Uint8Array)&&(v=h.from(v,v.offset,v.byteLength)),!h.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(void 0===E&&(E=0),void 0===H&&(H=v?v.length:0),void 0===J&&(J=0),void 0===ce&&(ce=this.length),E<0||H>v.length||J<0||ce>this.length)throw new RangeError("out of range index");if(J>=ce&&E>=H)return 0;if(J>=ce)return-1;if(E>=H)return 1;if(this===v)return 0;for(var pe=(ce>>>=0)-(J>>>=0),Ze=(H>>>=0)-(E>>>=0),tt=Math.min(pe,Ze),et=this.slice(J,ce),Qe=v.slice(E,H),bt=0;bt<tt;++bt)if(et[bt]!==Qe[bt]){pe=et[bt],Ze=Qe[bt];break}return pe<Ze?-1:Ze<pe?1:0},h.prototype.includes=function(v,E,H){return-1!==this.indexOf(v,E,H)},h.prototype.indexOf=function(v,E,H){return D(this,v,E,H,!0)},h.prototype.lastIndexOf=function(v,E,H){return D(this,v,E,H,!1)},h.prototype.write=function(v,E,H,J){if(void 0===E)J="utf8",H=this.length,E=0;else if(void 0===H&&"string"==typeof E)J=E,H=this.length,E=0;else{if(!isFinite(E))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");E>>>=0,isFinite(H)?(H>>>=0,void 0===J&&(J="utf8")):(J=H,H=void 0)}var ce=this.length-E;if((void 0===H||H>ce)&&(H=ce),v.length>0&&(H<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var pe=!1;;)switch(J){case"hex":return U(this,v,E,H);case"utf8":case"utf-8":return R(this,v,E,H);case"ascii":case"latin1":case"binary":return oe(this,v,E,H);case"base64":return X(this,v,E,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,v,E,H);default:if(pe)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),pe=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.slice=function(v,E){var H=this.length;(v=~~v)<0?(v+=H)<0&&(v=0):v>H&&(v=H),(E=void 0===E?H:~~E)<0?(E+=H)<0&&(E=0):E>H&&(E=H),E<v&&(E=v);var J=this.subarray(v,E);return Object.setPrototypeOf(J,h.prototype),J},h.prototype.readUintLE=h.prototype.readUIntLE=function(v,E,H){v>>>=0,E>>>=0,H||st(v,E,this.length);for(var J=this[v],ce=1,pe=0;++pe<E&&(ce*=256);)J+=this[v+pe]*ce;return J},h.prototype.readUintBE=h.prototype.readUIntBE=function(v,E,H){v>>>=0,E>>>=0,H||st(v,E,this.length);for(var J=this[v+--E],ce=1;E>0&&(ce*=256);)J+=this[v+--E]*ce;return J},h.prototype.readUint8=h.prototype.readUInt8=function(v,E){return v>>>=0,E||st(v,1,this.length),this[v]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(v,E){return v>>>=0,E||st(v,2,this.length),this[v]|this[v+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(v,E){return v>>>=0,E||st(v,2,this.length),this[v]<<8|this[v+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(v,E){return v>>>=0,E||st(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+16777216*this[v+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(v,E){return v>>>=0,E||st(v,4,this.length),16777216*this[v]+(this[v+1]<<16|this[v+2]<<8|this[v+3])},h.prototype.readIntLE=function(v,E,H){v>>>=0,E>>>=0,H||st(v,E,this.length);for(var J=this[v],ce=1,pe=0;++pe<E&&(ce*=256);)J+=this[v+pe]*ce;return J>=(ce*=128)&&(J-=Math.pow(2,8*E)),J},h.prototype.readIntBE=function(v,E,H){v>>>=0,E>>>=0,H||st(v,E,this.length);for(var J=E,ce=1,pe=this[v+--J];J>0&&(ce*=256);)pe+=this[v+--J]*ce;return pe>=(ce*=128)&&(pe-=Math.pow(2,8*E)),pe},h.prototype.readInt8=function(v,E){return v>>>=0,E||st(v,1,this.length),128&this[v]?-1*(255-this[v]+1):this[v]},h.prototype.readInt16LE=function(v,E){v>>>=0,E||st(v,2,this.length);var H=this[v]|this[v+1]<<8;return 32768&H?4294901760|H:H},h.prototype.readInt16BE=function(v,E){v>>>=0,E||st(v,2,this.length);var H=this[v+1]|this[v]<<8;return 32768&H?4294901760|H:H},h.prototype.readInt32LE=function(v,E){return v>>>=0,E||st(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},h.prototype.readInt32BE=function(v,E){return v>>>=0,E||st(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},h.prototype.readFloatLE=function(v,E){return v>>>=0,E||st(v,4,this.length),Q.read(this,v,!0,23,4)},h.prototype.readFloatBE=function(v,E){return v>>>=0,E||st(v,4,this.length),Q.read(this,v,!1,23,4)},h.prototype.readDoubleLE=function(v,E){return v>>>=0,E||st(v,8,this.length),Q.read(this,v,!0,52,8)},h.prototype.readDoubleBE=function(v,E){return v>>>=0,E||st(v,8,this.length),Q.read(this,v,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(v,E,H,J){v=+v,E>>>=0,H>>>=0,J||Ne(this,v,E,H,Math.pow(2,8*H)-1,0);var pe=1,Ze=0;for(this[E]=255&v;++Ze<H&&(pe*=256);)this[E+Ze]=v/pe&255;return E+H},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(v,E,H,J){v=+v,E>>>=0,H>>>=0,J||Ne(this,v,E,H,Math.pow(2,8*H)-1,0);var pe=H-1,Ze=1;for(this[E+pe]=255&v;--pe>=0&&(Ze*=256);)this[E+pe]=v/Ze&255;return E+H},h.prototype.writeUint8=h.prototype.writeUInt8=function(v,E,H){return v=+v,E>>>=0,H||Ne(this,v,E,1,255,0),this[E]=255&v,E+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(v,E,H){return v=+v,E>>>=0,H||Ne(this,v,E,2,65535,0),this[E]=255&v,this[E+1]=v>>>8,E+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(v,E,H){return v=+v,E>>>=0,H||Ne(this,v,E,2,65535,0),this[E]=v>>>8,this[E+1]=255&v,E+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(v,E,H){return v=+v,E>>>=0,H||Ne(this,v,E,4,4294967295,0),this[E+3]=v>>>24,this[E+2]=v>>>16,this[E+1]=v>>>8,this[E]=255&v,E+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(v,E,H){return v=+v,E>>>=0,H||Ne(this,v,E,4,4294967295,0),this[E]=v>>>24,this[E+1]=v>>>16,this[E+2]=v>>>8,this[E+3]=255&v,E+4},h.prototype.writeIntLE=function(v,E,H,J){if(v=+v,E>>>=0,!J){var ce=Math.pow(2,8*H-1);Ne(this,v,E,H,ce-1,-ce)}var pe=0,Ze=1,tt=0;for(this[E]=255&v;++pe<H&&(Ze*=256);)v<0&&0===tt&&0!==this[E+pe-1]&&(tt=1),this[E+pe]=(v/Ze>>0)-tt&255;return E+H},h.prototype.writeIntBE=function(v,E,H,J){if(v=+v,E>>>=0,!J){var ce=Math.pow(2,8*H-1);Ne(this,v,E,H,ce-1,-ce)}var pe=H-1,Ze=1,tt=0;for(this[E+pe]=255&v;--pe>=0&&(Ze*=256);)v<0&&0===tt&&0!==this[E+pe+1]&&(tt=1),this[E+pe]=(v/Ze>>0)-tt&255;return E+H},h.prototype.writeInt8=function(v,E,H){return v=+v,E>>>=0,H||Ne(this,v,E,1,127,-128),v<0&&(v=255+v+1),this[E]=255&v,E+1},h.prototype.writeInt16LE=function(v,E,H){return v=+v,E>>>=0,H||Ne(this,v,E,2,32767,-32768),this[E]=255&v,this[E+1]=v>>>8,E+2},h.prototype.writeInt16BE=function(v,E,H){return v=+v,E>>>=0,H||Ne(this,v,E,2,32767,-32768),this[E]=v>>>8,this[E+1]=255&v,E+2},h.prototype.writeInt32LE=function(v,E,H){return v=+v,E>>>=0,H||Ne(this,v,E,4,2147483647,-2147483648),this[E]=255&v,this[E+1]=v>>>8,this[E+2]=v>>>16,this[E+3]=v>>>24,E+4},h.prototype.writeInt32BE=function(v,E,H){return v=+v,E>>>=0,H||Ne(this,v,E,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[E]=v>>>24,this[E+1]=v>>>16,this[E+2]=v>>>8,this[E+3]=255&v,E+4},h.prototype.writeFloatLE=function(v,E,H){return ri(this,v,E,!0,H)},h.prototype.writeFloatBE=function(v,E,H){return ri(this,v,E,!1,H)},h.prototype.writeDoubleLE=function(v,E,H){return Yt(this,v,E,!0,H)},h.prototype.writeDoubleBE=function(v,E,H){return Yt(this,v,E,!1,H)},h.prototype.copy=function(v,E,H,J){if(!h.isBuffer(v))throw new TypeError("argument should be a Buffer");if(H||(H=0),!J&&0!==J&&(J=this.length),E>=v.length&&(E=v.length),E||(E=0),J>0&&J<H&&(J=H),J===H||0===v.length||0===this.length)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),v.length-E<J-H&&(J=v.length-E+H);var ce=J-H;return this===v&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(E,H,J):Uint8Array.prototype.set.call(v,this.subarray(H,J),E),ce},h.prototype.fill=function(v,E,H,J){if("string"==typeof v){if("string"==typeof E?(J=E,E=0,H=this.length):"string"==typeof H&&(J=H,H=this.length),void 0!==J&&"string"!=typeof J)throw new TypeError("encoding must be a string");if("string"==typeof J&&!h.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(1===v.length){var ce=v.charCodeAt(0);("utf8"===J&&ce<128||"latin1"===J)&&(v=ce)}}else"number"==typeof v?v&=255:"boolean"==typeof v&&(v=Number(v));if(E<0||this.length<E||this.length<H)throw new RangeError("Out of range index");if(H<=E)return this;var pe;if(E>>>=0,H=void 0===H?this.length:H>>>0,v||(v=0),"number"==typeof v)for(pe=E;pe<H;++pe)this[pe]=v;else{var Ze=h.isBuffer(v)?v:h.from(v,J),tt=Ze.length;if(0===tt)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(pe=0;pe<H-E;++pe)this[pe+E]=Ze[pe%tt]}return this};var gr=/[^+/0-9A-Za-z-_]/g;function V(g,v){v=v||1/0;for(var E,H=g.length,J=null,ce=[],pe=0;pe<H;++pe){if((E=g.charCodeAt(pe))>55295&&E<57344){if(!J){if(E>56319){(v-=3)>-1&&ce.push(239,191,189);continue}if(pe+1===H){(v-=3)>-1&&ce.push(239,191,189);continue}J=E;continue}if(E<56320){(v-=3)>-1&&ce.push(239,191,189),J=E;continue}E=65536+(J-55296<<10|E-56320)}else J&&(v-=3)>-1&&ce.push(239,191,189);if(J=null,E<128){if((v-=1)<0)break;ce.push(E)}else if(E<2048){if((v-=2)<0)break;ce.push(E>>6|192,63&E|128)}else if(E<65536){if((v-=3)<0)break;ce.push(E>>12|224,E>>6&63|128,63&E|128)}else{if(!(E<1114112))throw new Error("Invalid code point");if((v-=4)<0)break;ce.push(E>>18|240,E>>12&63|128,E>>6&63|128,63&E|128)}}return ce}function Lt(g){return K.toByteArray(function(g){if((g=(g=g.split("=")[0]).trim().replace(gr,"")).length<2)return"";for(;g.length%4!=0;)g+="=";return g}(g))}function rn(g,v,E,H){for(var J=0;J<H&&!(J+E>=v.length||J>=g.length);++J)v[J+E]=g[J];return J}function zt(g,v){return g instanceof v||null!=g&&null!=g.constructor&&null!=g.constructor.name&&g.constructor.name===v.name}function pn(g){return g!=g}var In=function(){for(var g="0123456789abcdef",v=new Array(256),E=0;E<16;++E)for(var H=16*E,J=0;J<16;++J)v[H+J]=g[E]+g[J];return v}()},7146:Se=>{function xe(K){if(K)return function(K){for(var Q in xe.prototype)K[Q]=xe.prototype[Q];return K}(K)}Se.exports=xe,xe.prototype.on=xe.prototype.addEventListener=function(K,Q){return this._callbacks=this._callbacks||{},(this._callbacks[K]=this._callbacks[K]||[]).push(Q),this},xe.prototype.once=function(K,Q){var q=this;function l(){q.off(K,l),Q.apply(this,arguments)}return this._callbacks=this._callbacks||{},l.fn=Q,this.on(K,l),this},xe.prototype.off=xe.prototype.removeListener=xe.prototype.removeAllListeners=xe.prototype.removeEventListener=function(K,Q){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var q=this._callbacks[K];if(!q)return this;if(1==arguments.length)return delete this._callbacks[K],this;for(var l,d=0;d<q.length;d++)if((l=q[d])===Q||l.fn===Q){q.splice(d,1);break}return this},xe.prototype.emit=function(K){this._callbacks=this._callbacks||{};var Q=[].slice.call(arguments,1),q=this._callbacks[K];if(q)for(var l=0,d=(q=q.slice(0)).length;l<d;++l)q[l].apply(this,Q);return this},xe.prototype.listeners=function(K){return this._callbacks=this._callbacks||{},this._callbacks[K]||[]},xe.prototype.hasListeners=function(K){return!!this.listeners(K).length}},8138:Se=>{"use strict";var K,xe="object"==typeof Reflect?Reflect:null,$=xe&&"function"==typeof xe.apply?xe.apply:function(m,C,D){return Function.prototype.apply.call(m,C,D)};K=xe&&"function"==typeof xe.ownKeys?xe.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var q=Number.isNaN||function(m){return m!=m};function l(){l.init.call(this)}Se.exports=l,Se.exports.once=function(B,m){return new Promise(function(C,D){function P(R){B.removeListener(m,U),D(R)}function U(){"function"==typeof B.removeListener&&B.removeListener("error",P),C([].slice.call(arguments))}F(B,m,U,{once:!0}),"error"!==m&&function(B,m,C){"function"==typeof B.on&&F(B,"error",m,{once:!0})}(B,P)})},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var d=10;function f(B){if("function"!=typeof B)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}function h(B){return void 0===B._maxListeners?l.defaultMaxListeners:B._maxListeners}function w(B,m,C,D){var P,U,R;if(f(C),void 0===(U=B._events)?(U=B._events=Object.create(null),B._eventsCount=0):(void 0!==U.newListener&&(B.emit("newListener",m,C.listener?C.listener:C),U=B._events),R=U[m]),void 0===R)R=U[m]=C,++B._eventsCount;else if("function"==typeof R?R=U[m]=D?[C,R]:[R,C]:D?R.unshift(C):R.push(C),(P=h(B))>0&&R.length>P&&!R.warned){R.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");oe.name="MaxListenersExceededWarning",oe.emitter=B,oe.type=m,oe.count=R.length,function(B){console&&console.warn&&console.warn(B)}(oe)}return B}function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(B,m,C){var D={fired:!1,wrapFn:void 0,target:B,type:m,listener:C},P=b.bind(D);return P.listener=C,D.wrapFn=P,P}function _(B,m,C){var D=B._events;if(void 0===D)return[];var P=D[m];return void 0===P?[]:"function"==typeof P?C?[P.listener||P]:[P]:C?function(B){for(var m=new Array(B.length),C=0;C<m.length;++C)m[C]=B[C].listener||B[C];return m}(P):T(P,P.length)}function M(B){var m=this._events;if(void 0!==m){var C=m[B];if("function"==typeof C)return 1;if(void 0!==C)return C.length}return 0}function T(B,m){for(var C=new Array(m),D=0;D<m;++D)C[D]=B[D];return C}function F(B,m,C,D){if("function"==typeof B.on)D.once?B.once(m,C):B.on(m,C);else{if("function"!=typeof B.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B);B.addEventListener(m,function P(U){D.once&&B.removeEventListener(m,P),C(U)})}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(B){if("number"!=typeof B||B<0||q(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");d=B}}),l.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(m){if("number"!=typeof m||m<0||q(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(m){for(var C=[],D=1;D<arguments.length;D++)C.push(arguments[D]);var P="error"===m,U=this._events;if(void 0!==U)P=P&&void 0===U.error;else if(!P)return!1;if(P){var R;if(C.length>0&&(R=C[0]),R instanceof Error)throw R;var oe=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw oe.context=R,oe}var X=U[m];if(void 0===X)return!1;if("function"==typeof X)$(X,this,C);else{var le=X.length,ye=T(X,le);for(D=0;D<le;++D)$(ye[D],this,C)}return!0},l.prototype.on=l.prototype.addListener=function(m,C){return w(this,m,C,!1)},l.prototype.prependListener=function(m,C){return w(this,m,C,!0)},l.prototype.once=function(m,C){return f(C),this.on(m,y(this,m,C)),this},l.prototype.prependOnceListener=function(m,C){return f(C),this.prependListener(m,y(this,m,C)),this},l.prototype.off=l.prototype.removeListener=function(m,C){var D,P,U,R,oe;if(f(C),void 0===(P=this._events))return this;if(void 0===(D=P[m]))return this;if(D===C||D.listener===C)0==--this._eventsCount?this._events=Object.create(null):(delete P[m],P.removeListener&&this.emit("removeListener",m,D.listener||C));else if("function"!=typeof D){for(U=-1,R=D.length-1;R>=0;R--)if(D[R]===C||D[R].listener===C){oe=D[R].listener,U=R;break}if(U<0)return this;0===U?D.shift():function(B,m){for(;m+1<B.length;m++)B[m]=B[m+1];B.pop()}(D,U),1===D.length&&(P[m]=D[0]),void 0!==P.removeListener&&this.emit("removeListener",m,oe||C)}return this},l.prototype.removeAllListeners=function(m){var C,D,P;if(void 0===(D=this._events))return this;if(void 0===D.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==D[m]&&(0==--this._eventsCount?this._events=Object.create(null):delete D[m]),this;if(0===arguments.length){var R,U=Object.keys(D);for(P=0;P<U.length;++P)"removeListener"!==(R=U[P])&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(C=D[m]))this.removeListener(m,C);else if(void 0!==C)for(P=C.length-1;P>=0;P--)this.removeListener(m,C[P]);return this},l.prototype.listeners=function(m){return _(this,m,!0)},l.prototype.rawListeners=function(m){return _(this,m,!1)},l.listenerCount=function(B,m){return"function"==typeof B.listenerCount?B.listenerCount(m):M.call(B,m)},l.prototype.listenerCount=M,l.prototype.eventNames=function(){return this._eventsCount>0?K(this._events):[]}},2326:(Se,xe)=>{xe.read=function($,K,Q,q,l){var d,f,h=8*l-q-1,w=(1<<h)-1,b=w>>1,y=-7,_=Q?l-1:0,M=Q?-1:1,T=$[K+_];for(_+=M,d=T&(1<<-y)-1,T>>=-y,y+=h;y>0;d=256*d+$[K+_],_+=M,y-=8);for(f=d&(1<<-y)-1,d>>=-y,y+=q;y>0;f=256*f+$[K+_],_+=M,y-=8);if(0===d)d=1-b;else{if(d===w)return f?NaN:1/0*(T?-1:1);f+=Math.pow(2,q),d-=b}return(T?-1:1)*f*Math.pow(2,d-q)},xe.write=function($,K,Q,q,l,d){var f,h,w,b=8*d-l-1,y=(1<<b)-1,_=y>>1,M=23===l?Math.pow(2,-24)-Math.pow(2,-77):0,T=q?0:d-1,S=q?1:-1,L=K<0||0===K&&1/K<0?1:0;for(K=Math.abs(K),isNaN(K)||K===1/0?(h=isNaN(K)?1:0,f=y):(f=Math.floor(Math.log(K)/Math.LN2),K*(w=Math.pow(2,-f))<1&&(f--,w*=2),(K+=f+_>=1?M/w:M*Math.pow(2,1-_))*w>=2&&(f++,w/=2),f+_>=y?(h=0,f=y):f+_>=1?(h=(K*w-1)*Math.pow(2,l),f+=_):(h=K*Math.pow(2,_-1)*Math.pow(2,l),f=0));l>=8;$[Q+T]=255&h,T+=S,h/=256,l-=8);for(f=f<<l|h,b+=l;b>0;$[Q+T]=255&f,T+=S,f/=256,b-=8);$[Q+T-S]|=128*L}},3913:function(Se,xe){var $,Q,l,d;function q(l){return new q.Viewer(l)}(function(l){l.version={versionStr:"3.0.0",major:parseInt("3",10),minor:parseInt("0",10),revision:parseInt("0",10)};var w,d={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},f=Object.prototype.toString,h=Object.prototype.hasOwnProperty;l.isFunction=function(w){return"function"===l.type(w)},l.isArray=Array.isArray||function(w){return"array"===l.type(w)},l.isWindow=function(w){return w&&"object"==typeof w&&"setInterval"in w},l.type=function(w){return null==w?String(w):d[f.call(w)]||"object"},l.isPlainObject=function(w){if(!w||"object"!==q.type(w)||w.nodeType||l.isWindow(w)||w.constructor&&!h.call(w,"constructor")&&!h.call(w.constructor.prototype,"isPrototypeOf"))return!1;var b;for(var y in w)b=y;return void 0===b||h.call(w,b)},l.isEmptyObject=function(w){for(var b in w)return!1;return!0},l.freezeObject=function(w){return l.freezeObject=Object.freeze?Object.freeze:function(b){return b},l.freezeObject(w)},l.supportsCanvas=(w=document.createElement("canvas"),!(!l.isFunction(w.getContext)||!w.getContext("2d"))),l.isCanvasTainted=function(w){var b=!1;try{w.getContext("2d").getImageData(0,0,1,1)}catch(y){b=!0}return b},l.supportsAddEventListener=!(!document.documentElement.addEventListener||!document.addEventListener),l.supportsRemoveEventListener=!(!document.documentElement.removeEventListener||!document.removeEventListener),l.supportsEventListenerOptions=function(){var w=0;if(l.supportsAddEventListener)try{var b={get capture(){return w++,!1},get once(){return w++,!1},get passive(){return w++,!1}};window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch(y){w=0}return w>=3}(),l.getCurrentPixelDensityRatio=function(){if(l.supportsCanvas){var w=document.createElement("canvas").getContext("2d"),b=window.devicePixelRatio||1,y=w.webkitBackingStorePixelRatio||w.mozBackingStorePixelRatio||w.msBackingStorePixelRatio||w.oBackingStorePixelRatio||w.backingStorePixelRatio||1;return Math.max(b,1)/y}return 1},l.pixelDensityRatio=l.getCurrentPixelDensityRatio()})(q),function(l){l.extend=function(){var y,_,M,T,S,L,z=arguments[0]||{},te=arguments.length,F=!1,B=1;for("boolean"==typeof z&&(F=z,z=arguments[1]||{},B=2),"object"!=typeof z&&!q.isFunction(z)&&(z={}),te===B&&(z=this,--B);B<te;B++)if(null!==(y=arguments[B])||void 0!==y)for(_ in y)M=z[_],z!==(T=y[_])&&(F&&T&&(q.isPlainObject(T)||(S=q.isArray(T)))?(S?(S=!1,L=M&&q.isArray(M)?M:[]):L=M&&q.isPlainObject(M)?M:{},z[_]=q.extend(F,L,T)):void 0!==T&&(z[_]=T));return z},l.extend(l,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:function(){if("object"!=typeof navigator)return!1;var y=navigator.userAgent;return"string"==typeof y&&(-1!==y.indexOf("iPhone")||-1!==y.indexOf("iPad")||-1!==y.indexOf("iPod"))}(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(y,_){return function(){var M=arguments;return void 0===M&&(M=[]),_.apply(y,M)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},_viewers:new Map,getViewer:function(y){return l._viewers.get(this.getElement(y))},getElement:function(y){return"string"==typeof y&&(y=document.getElementById(y)),y},getElementPosition:function(y){var M,T,_=new l.Point;for(T=b(y=l.getElement(y),M="fixed"===l.getElementStyle(y).position);T;)_.x+=y.offsetLeft,_.y+=y.offsetTop,M&&(_=_.plus(l.getPageScroll())),T=b(y=T,M="fixed"===l.getElementStyle(y).position);return _},getElementOffset:function(y){var M,T,_=(y=l.getElement(y))&&y.ownerDocument,S={top:0,left:0};return _?(M=_.documentElement,void 0!==y.getBoundingClientRect&&(S=y.getBoundingClientRect()),new l.Point(S.left+((T=_===_.window?_:9===_.nodeType&&(_.defaultView||_.parentWindow)).pageXOffset||M.scrollLeft)-(M.clientLeft||0),S.top+(T.pageYOffset||M.scrollTop)-(M.clientTop||0))):new l.Point},getElementSize:function(y){return y=l.getElement(y),new l.Point(y.clientWidth,y.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(y){return(y=l.getElement(y)).currentStyle}:function(y){return y=l.getElement(y),window.getComputedStyle(y,"")},getCssPropertyWithVendorPrefix:function(y){var _={};return l.getCssPropertyWithVendorPrefix=function(M){if(void 0!==_[M])return _[M];var T=document.createElement("div").style,S=null;if(void 0!==T[M])S=M;else for(var L=["Webkit","Moz","MS","O","webkit","moz","ms","o"],z=l.capitalizeFirstLetter(M),te=0;te<L.length;te++){var F=L[te]+z;if(void 0!==T[F]){S=F;break}}return _[M]=S,S},l.getCssPropertyWithVendorPrefix(y)},capitalizeFirstLetter:function(y){return y.charAt(0).toUpperCase()+y.slice(1)},positiveModulo:function(y,_){var M=y%_;return M<0&&(M+=_),M},pointInElement:function(y,_){y=l.getElement(y);var M=l.getElementOffset(y),T=l.getElementSize(y);return _.x>=M.x&&_.x<M.x+T.x&&_.y<M.y+T.y&&_.y>=M.y},getMousePosition:function(y){if("number"==typeof y.pageX)l.getMousePosition=function(_){var M=new l.Point;return M.x=_.pageX,M.y=_.pageY,M};else{if("number"!=typeof y.clientX)throw new Error("Unknown event mouse position, no known technique.");l.getMousePosition=function(_){var M=new l.Point;return M.x=_.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,M.y=_.clientY+document.body.scrollTop+document.documentElement.scrollTop,M}}return l.getMousePosition(y)},getPageScroll:function(){var y=document.documentElement||{},_=document.body||{};if("number"==typeof window.pageXOffset)l.getPageScroll=function(){return new l.Point(window.pageXOffset,window.pageYOffset)};else if(_.scrollLeft||_.scrollTop)l.getPageScroll=function(){return new l.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!y.scrollLeft&&!y.scrollTop)return new l.Point(0,0);l.getPageScroll=function(){return new l.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return l.getPageScroll()},setPageScroll:function(y){if(void 0!==window.scrollTo)l.setPageScroll=function(T){window.scrollTo(T.x,T.y)};else{var _=l.getPageScroll();if(_.x===y.x&&_.y===y.y)return;document.body.scrollLeft=y.x,document.body.scrollTop=y.y;var M=l.getPageScroll();if(M.x!==_.x&&M.y!==_.y)return void(l.setPageScroll=function(T){document.body.scrollLeft=T.x,document.body.scrollTop=T.y});if(document.documentElement.scrollLeft=y.x,document.documentElement.scrollTop=y.y,(M=l.getPageScroll()).x!==_.x&&M.y!==_.y)return void(l.setPageScroll=function(T){document.documentElement.scrollLeft=T.x,document.documentElement.scrollTop=T.y});l.setPageScroll=function(T){}}l.setPageScroll(y)},getWindowSize:function(){var y=document.documentElement||{},_=document.body||{};if("number"==typeof window.innerWidth)l.getWindowSize=function(){return new l.Point(window.innerWidth,window.innerHeight)};else if(y.clientWidth||y.clientHeight)l.getWindowSize=function(){return new l.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!_.clientWidth&&!_.clientHeight)throw new Error("Unknown window size, no known technique.");l.getWindowSize=function(){return new l.Point(document.body.clientWidth,document.body.clientHeight)}}return l.getWindowSize()},makeCenteredNode:function(y){y=l.getElement(y);var _=[l.makeNeutralElement("div"),l.makeNeutralElement("div"),l.makeNeutralElement("div")];return l.extend(_[0].style,{display:"table",height:"100%",width:"100%"}),l.extend(_[1].style,{display:"table-row"}),l.extend(_[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),_[0].appendChild(_[1]),_[1].appendChild(_[2]),_[2].appendChild(y),_[0]},makeNeutralElement:function(y){var _=document.createElement(y),M=_.style;return M.background="transparent none",M.border="none",M.margin="0px",M.padding="0px",M.position="static",_},now:function(){return l.now=Date.now?Date.now:function(){return(new Date).getTime()},l.now()},makeTransparentImage:function(y){var _=l.makeNeutralElement("img");return _.src=y,_},setElementOpacity:function(y,_,M){var T;y=l.getElement(y),M&&!l.Browser.alpha&&(_=Math.round(_)),l.Browser.opacity?y.style.opacity=_<1?_:"":_<1?(T=Math.round(100*_),y.style.filter="alpha(opacity="+T+")"):y.style.filter=""},setElementTouchActionNone:function(y){void 0!==(y=l.getElement(y)).style.touchAction?y.style.touchAction="none":void 0!==y.style.msTouchAction&&(y.style.msTouchAction="none")},setElementPointerEvents:function(y,_){void 0!==(y=l.getElement(y)).style.pointerEvents&&(y.style.pointerEvents=_)},setElementPointerEventsNone:function(y){l.setElementPointerEvents(y,"none")},addClass:function(y,_){(y=l.getElement(y)).className?-1===(" "+y.className+" ").indexOf(" "+_+" ")&&(y.className+=" "+_):y.className=_},indexOf:function(y,_,M){return this.indexOf=Array.prototype.indexOf?function(T,S,L){return T.indexOf(S,L)}:function(T,S,L){var z,F,te=L||0;if(!T)throw new TypeError;if(0===(F=T.length)||te>=F)return-1;for(te<0&&(te=F-Math.abs(te)),z=te;z<F;z++)if(T[z]===S)return z;return-1},this.indexOf(y,_,M)},removeClass:function(y,_){var M,S,T=[];for(M=(y=l.getElement(y)).className.split(/\s+/),S=0;S<M.length;S++)M[S]&&M[S]!==_&&T.push(M[S]);y.className=T.join(" ")},normalizeEventListenerOptions:function(y){return void 0!==y?"boolean"==typeof y?l.supportsEventListenerOptions?{capture:y}:y:l.supportsEventListenerOptions?y:void 0!==y.capture&&y.capture:!!l.supportsEventListenerOptions&&{capture:!1}},addEvent:function(){if(l.supportsAddEventListener)return function(y,_,M,T){T=l.normalizeEventListenerOptions(T),(y=l.getElement(y)).addEventListener(_,M,T)};if(document.documentElement.attachEvent&&document.attachEvent)return function(y,_,M){(y=l.getElement(y)).attachEvent("on"+_,M)};throw new Error("No known event model.")}(),removeEvent:function(){if(l.supportsRemoveEventListener)return function(y,_,M,T){T=l.normalizeEventListenerOptions(T),(y=l.getElement(y)).removeEventListener(_,M,T)};if(document.documentElement.detachEvent&&document.detachEvent)return function(y,_,M){(y=l.getElement(y)).detachEvent("on"+_,M)};throw new Error("No known event model.")}(),cancelEvent:function(y){y.preventDefault()},eventIsCanceled:function(y){return y.defaultPrevented},stopEvent:function(y){y.stopPropagation()},createCallback:function(y,_){var T,M=[];for(T=2;T<arguments.length;T++)M.push(arguments[T]);return function(){var L,S=M.concat([]);for(L=0;L<arguments.length;L++)S.push(arguments[L]);return _.apply(y,S)}},getUrlParameter:function(y){return w[y]||null},getUrlProtocol:function(y){var _=y.match(/^([a-z]+:)\/\//i);return null===_?window.location.protocol:_[1].toLowerCase()},createAjaxRequest:function(y){var _;try{_=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(M){_=!1}if(_)l.createAjaxRequest=window.XMLHttpRequest?function(M){return M?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");l.createAjaxRequest=function(){return new XMLHttpRequest}}return l.createAjaxRequest(y)},makeAjaxRequest:function(y,_,M){var T,S,L;l.isPlainObject(y)&&(_=y.success,M=y.error,T=y.withCredentials,S=y.headers,L=y.responseType||null,y=y.url);var z=l.getUrlProtocol(y),te=l.createAjaxRequest("file:"===z);if(!l.isFunction(_))throw new Error("makeAjaxRequest requires a success callback");te.onreadystatechange=function(){4===te.readyState&&(te.onreadystatechange=function(){},te.status>=200&&te.status<300||0===te.status&&"http:"!==z&&"https:"!==z?_(te):(l.console.log("AJAX request returned %d: %s",te.status,y),l.isFunction(M)&&M(te)))};try{if(te.open("GET",y,!0),L&&(te.responseType=L),S)for(var F in S)Object.prototype.hasOwnProperty.call(S,F)&&S[F]&&te.setRequestHeader(F,S[F]);T&&(te.withCredentials=!0),te.send(null)}catch(B){l.console.log("%s while making AJAX request: %s",B.name,B.message),te.onreadystatechange=function(){},l.isFunction(M)&&M(te,B)}return te},jsonp:function(y){var _,M=y.url,T=document.head||document.getElementsByTagName("head")[0]||document.documentElement,S=y.callbackName||"openseadragon"+l.now(),L=window[S],te=y.param||"callback",F=y.callback;M=M.replace(/(=)\?(&|$)|\?\?/i,"$1"+S+"$2"),M+=(/\?/.test(M)?"&":"?")+te+"="+S,window[S]=function(B){if(L)window[S]=L;else try{delete window[S]}catch(m){}F&&l.isFunction(F)&&F(B)},_=document.createElement("script"),(void 0!==y.async||!1!==y.async)&&(_.async="async"),y.scriptCharset&&(_.charset=y.scriptCharset),_.src=M,_.onload=_.onreadystatechange=function(B,m){(m||!_.readyState||/loaded|complete/.test(_.readyState))&&(_.onload=_.onreadystatechange=null,T&&_.parentNode&&T.removeChild(_),_=void 0)},T.insertBefore(_,T.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(y){if(window.DOMParser)l.parseXml=function(_){return(new DOMParser).parseFromString(_,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");l.parseXml=function(_){var M=null;return(M=new ActiveXObject("Microsoft.XMLDOM")).async=!1,M.loadXML(_),M}}return l.parseXml(y)},parseJSON:function(y){return l.parseJSON=window.JSON.parse,l.parseJSON(y)},imageFormatSupported:function(y){return!!h[(y=y||"").toLowerCase()]},setImageFormatsSupported:function(y){l.extend(h,y)}});var f=function(y){};l.console=window.console||{log:f,debug:f,info:f,warn:f,error:f,assert:f},l.Browser={vendor:l.BROWSERS.UNKNOWN,version:0,alpha:!0};var h={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},w={};function b(y,_){return _&&y!==document.body?document.body:y.offsetParent}(function(){var y=navigator.appVersion,_=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(l.Browser.vendor=l.BROWSERS.IE,l.Browser.version=parseFloat(_.substring(_.indexOf("MSIE")+5,_.indexOf(";",_.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(_.indexOf("Edge")>=0?(l.Browser.vendor=l.BROWSERS.EDGE,l.Browser.version=parseFloat(_.substring(_.indexOf("Edge")+5))):_.indexOf("Edg")>=0?(l.Browser.vendor=l.BROWSERS.CHROMEEDGE,l.Browser.version=parseFloat(_.substring(_.indexOf("Edg")+4))):_.indexOf("Firefox")>=0?(l.Browser.vendor=l.BROWSERS.FIREFOX,l.Browser.version=parseFloat(_.substring(_.indexOf("Firefox")+8))):_.indexOf("Safari")>=0?(l.Browser.vendor=_.indexOf("Chrome")>=0?l.BROWSERS.CHROME:l.BROWSERS.SAFARI,l.Browser.version=parseFloat(_.substring(_.substring(0,_.indexOf("Safari")).lastIndexOf("/")+1,_.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(_)&&(l.Browser.vendor=l.BROWSERS.IE,l.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":l.Browser.vendor=l.BROWSERS.OPERA,l.Browser.version=parseFloat(y)}var L,z,te,S=window.location.search.substring(1).split("&");for(te=0;te<S.length;te++)if((z=(L=S[te]).indexOf("="))>0){var F=L.substring(0,z),B=L.substring(z+1);try{w[F]=decodeURIComponent(B)}catch(m){l.console.error("Ignoring malformed URL parameter: %s=%s",F,B)}}l.Browser.alpha=!(l.Browser.vendor===l.BROWSERS.CHROME&&l.Browser.version<2),l.Browser.opacity=!0,l.Browser.vendor===l.BROWSERS.IE&&l.Browser.version<11&&l.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(y){var _=y.requestAnimationFrame||y.mozRequestAnimationFrame||y.webkitRequestAnimationFrame||y.msRequestAnimationFrame,M=y.cancelAnimationFrame||y.mozCancelAnimationFrame||y.webkitCancelAnimationFrame||y.msCancelAnimationFrame;if(_&&M)l.requestAnimationFrame=function(){return _.apply(y,arguments)},l.cancelAnimationFrame=function(){return M.apply(y,arguments)};else{var z,T=[],S=[],L=0;l.requestAnimationFrame=function(te){return T.push([++L,te]),z||(z=setInterval(function(){if(T.length){var F=l.now(),B=S;for(S=T,T=B;S.length;)S.shift()[1](F)}else clearInterval(z),z=void 0},20)),L},l.cancelAnimationFrame=function(te){var F,B;for(F=0,B=T.length;F<B;F+=1)if(T[F][0]===te)return void T.splice(F,1);for(F=0,B=S.length;F<B;F+=1)if(S[F][0]===te)return void S.splice(F,1)}}}(window)}(q),void 0!==(Q="function"==typeof($=function(){return q})?$.apply(xe,[]):$)&&(Se.exports=Q),l=q,d={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(d.supportsFullScreen=!0,d.getFullScreenElement=function(){return document.fullscreenElement},d.requestFullScreen=function(f){return f.requestFullscreen()},d.exitFullScreen=function(){document.exitFullscreen()},d.fullScreenEventName="fullscreenchange",d.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(d.supportsFullScreen=!0,d.getFullScreenElement=function(){return document.msFullscreenElement},d.requestFullScreen=function(f){return f.msRequestFullscreen()},d.exitFullScreen=function(){document.msExitFullscreen()},d.fullScreenEventName="MSFullscreenChange",d.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(d.supportsFullScreen=!0,d.getFullScreenElement=function(){return document.webkitFullscreenElement},d.requestFullScreen=function(f){return f.webkitRequestFullscreen()},d.exitFullScreen=function(){document.webkitExitFullscreen()},d.fullScreenEventName="webkitfullscreenchange",d.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(d.supportsFullScreen=!0,d.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},d.requestFullScreen=function(f){return f.webkitRequestFullScreen()},d.exitFullScreen=function(){document.webkitCancelFullScreen()},d.fullScreenEventName="webkitfullscreenchange",d.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(d.supportsFullScreen=!0,d.getFullScreenElement=function(){return document.mozFullScreenElement},d.requestFullScreen=function(f){return f.mozRequestFullScreen()},d.exitFullScreen=function(){document.mozCancelFullScreen()},d.fullScreenEventName="mozfullscreenchange",d.fullScreenErrorEventName="mozfullscreenerror"),d.isFullScreen=function(){return null!==d.getFullScreenElement()},d.cancelFullScreen=function(){l.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),d.exitFullScreen()},l.extend(l,d),function(l){l.EventSource=function(){this.events={}},l.EventSource.prototype={addOnceHandler:function(d,f,h,w){var b=this;w=w||1;var y=0,_=function(M){++y===w&&b.removeHandler(d,_),f(M)};this.addHandler(d,_,h)},addHandler:function(d,f,h){var w=this.events[d];w||(this.events[d]=w=[]),f&&l.isFunction(f)&&(w[w.length]={handler:f,userData:h||null})},removeHandler:function(d,f){var b,h=this.events[d],w=[];if(h&&l.isArray(h)){for(b=0;b<h.length;b++)h[b].handler!==f&&w.push(h[b]);this.events[d]=w}},removeAllHandlers:function(d){if(d)this.events[d]=[];else for(var f in this.events)this.events[f]=[]},getHandler:function(d){var f=this.events[d];return f&&f.length?(f=1===f.length?[f[0]]:Array.apply(null,f),function(h,w){var b,y=f.length;for(b=0;b<y;b++)f[b]&&(w.eventSource=h,w.userData=f[b].userData,f[b].handler(w))}):null},raiseEvent:function(d,f){var h=this.getHandler(d);h&&(f||(f={}),h(this,f))}}}(q),function(l){var d=[],f={};l.MouseTracker=function(N){d.push(this);var O=arguments;l.isPlainObject(N)||(N={element:O[0],clickTimeThreshold:O[1],clickDistThreshold:O[2]}),this.hash=Math.random(),this.element=l.getElement(N.element),this.clickTimeThreshold=N.clickTimeThreshold||l.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=N.clickDistThreshold||l.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=N.dblClickTimeThreshold||l.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=N.dblClickDistThreshold||l.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=N.userData||null,this.stopDelay=N.stopDelay||50,this.preProcessEventHandler=N.preProcessEventHandler||null,this.contextMenuHandler=N.contextMenuHandler||null,this.enterHandler=N.enterHandler||null,this.leaveHandler=N.leaveHandler||null,this.exitHandler=N.exitHandler||null,this.overHandler=N.overHandler||null,this.outHandler=N.outHandler||null,this.pressHandler=N.pressHandler||null,this.nonPrimaryPressHandler=N.nonPrimaryPressHandler||null,this.releaseHandler=N.releaseHandler||null,this.nonPrimaryReleaseHandler=N.nonPrimaryReleaseHandler||null,this.moveHandler=N.moveHandler||null,this.scrollHandler=N.scrollHandler||null,this.clickHandler=N.clickHandler||null,this.dblClickHandler=N.dblClickHandler||null,this.dragHandler=N.dragHandler||null,this.dragEndHandler=N.dragEndHandler||null,this.pinchHandler=N.pinchHandler||null,this.stopHandler=N.stopHandler||null,this.keyDownHandler=N.keyDownHandler||null,this.keyUpHandler=N.keyUpHandler||null,this.keyHandler=N.keyHandler||null,this.focusHandler=N.focusHandler||null,this.blurHandler=N.blurHandler||null;var j=this;f[this.hash]={click:function(Y){D(j,Y)},dblclick:function(Y){P(j,Y)},keydown:function(Y){U(j,Y)},keyup:function(Y){R(j,Y)},keypress:function(Y){oe(j,Y)},focus:function(Y){X(j,Y)},blur:function(Y){le(j,Y)},contextmenu:function(Y){ye(j,Y)},wheel:function(Y){_e(j,Y)},mousewheel:function(Y){He(j,Y)},DOMMouseScroll:function(Y){He(j,Y)},MozMousePixelScroll:function(Y){He(j,Y)},losecapture:function(Y){Oe(j,Y)},mouseenter:function(Y){gr(j,Y)},mouseleave:function(Y){Z(j,Y)},mouseover:function(Y){V(j,Y)},mouseout:function(Y){Ee(j,Y)},mousedown:function(Y){he(j,Y)},mouseup:function(Y){Lt(j,Y)},mousemove:function(Y){pn(j,Y)},touchstart:function(Y){dt(j,Y)},touchend:function(Y){Ye(j,Y)},touchmove:function(Y){Pt(j,Y)},touchcancel:function(Y){st(j,Y)},gesturestart:function(Y){Ne(0,Y)},gesturechange:function(Y){_n(0,Y)},gotpointercapture:function(Y){ri(j,Y)},lostpointercapture:function(Y){Yt(j,Y)},pointerenter:function(Y){gr(j,Y)},pointerleave:function(Y){Z(j,Y)},pointerover:function(Y){V(j,Y)},pointerout:function(Y){Ee(j,Y)},pointerdown:function(Y){he(j,Y)},pointerup:function(Y){Lt(j,Y)},pointermove:function(Y){pn(j,Y)},pointercancel:function(Y){v(j,Y)},pointerupcaptured:function(Y){rn(j,Y)},pointermovecaptured:function(Y){In(j,Y)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,l.MouseTracker.havePointerEvents&&l.setElementPointerEvents(this.element,"auto"),this.exitHandler&&l.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),N.startDisabled||this.setTracking(!0)},l.MouseTracker.prototype={destroy:function(){var N;for(_(this),this.element=null,N=0;N<d.length;N++)if(d[N]===this){d.splice(N,1);break}f[this.hash]=null,delete f[this.hash]},isTracking:function(){return f[this.hash].tracking},setTracking:function(N){return N?function(N){var j,Y,O=f[N.hash];if(!O.tracking){for(Y=0;Y<l.MouseTracker.subscribeEvents.length;Y++)l.addEvent(N.element,j=l.MouseTracker.subscribeEvents[Y],O[j],j===l.MouseTracker.wheelEventName&&{passive:!1,capture:!1});b(N),O.tracking=!0}}(this):_(this),this},getActivePointersListByType:function(N){var j,me,O=f[this.hash],Y=O.activePointersLists.length;for(j=0;j<Y;j++)if(O.activePointersLists[j].type===N)return O.activePointersLists[j];return me=new l.MouseTracker.GesturePointList(N),O.activePointersLists.push(me),me},getActivePointerCount:function(){var O,N=f[this.hash],j=N.activePointersLists.length,Y=0;for(O=0;O<j;O++)Y+=N.activePointersLists[O].getLength();return Y},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var N,O,j,Y,me,h=function(){try{return window.self!==window.top}catch(N){return!0}}();function w(N){try{return N.addEventListener&&N.removeEventListener}catch(O){return!1}}function b(N){var j,Y,me,Ie,gt,O=f[N.hash],Je=O.activePointersLists.length;for(j=0;j<Je;j++)if((me=O.activePointersLists[j]).getLength()>0){for(gt=[],Ie=me.asArray(),Y=0;Y<Ie.length;Y++)gt.push(Ie[Y]);for(Y=0;Y<gt.length;Y++)H(N,me,gt[Y])}for(j=0;j<Je;j++)O.activePointersLists.pop();O.sentDragEvent=!1}function _(N){var j,Y,O=f[N.hash];if(O.tracking){for(Y=0;Y<l.MouseTracker.subscribeEvents.length;Y++)l.removeEvent(N.element,j=l.MouseTracker.subscribeEvents[Y],O[j],!1);b(N),O.tracking=!1}}function M(N,O){var j=f[N.hash];if("pointerevent"===O)return{upName:"pointerup",upHandler:j.pointerupcaptured,moveName:"pointermove",moveHandler:j.pointermovecaptured};if("mouse"===O)return{upName:"pointerup",upHandler:j.pointerupcaptured,moveName:"pointermove",moveHandler:j.pointermovecaptured};if("touch"===O)return{upName:"touchend",upHandler:j.touchendcaptured,moveName:"touchmove",moveHandler:j.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function S(N,O){var j,me;if(l.MouseTracker.havePointerCapture)if(l.MouseTracker.havePointerEvents){if(!(me=N.getActivePointersListByType(O.type).getById(O.id))||!me.captured)return;try{N.element.releasePointerCapture(O.id)}catch(Ie){}}else N.element.releaseCapture();else j=M(N,l.MouseTracker.havePointerEvents?"pointerevent":O.type),h&&w(window.top)&&l.removeEvent(window.top,j.upName,j.upHandler,!0),l.removeEvent(l.MouseTracker.captureElement,j.moveName,j.moveHandler,!0),l.removeEvent(l.MouseTracker.captureElement,j.upName,j.upHandler,!0);pe(N,O,!1)}function L(N){return l.MouseTracker.havePointerEvents?N.pointerId:l.MouseTracker.mousePointerId}function z(N){return l.MouseTracker.havePointerEvents?N.pointerType||(l.Browser.vendor===l.BROWSERS.IE?"mouse":""):"mouse"}function te(N){return!l.MouseTracker.havePointerEvents||N.isPrimary}function F(N){return l.getMousePosition(N)}function B(N,O){return m(F(N),O)}function m(N,O){var j=l.getElementOffset(O);return N.minus(j)}function C(N,O){return new l.Point((N.x+O.x)/2,(N.y+O.y)/2)}function D(N,O){var j={originalEvent:O,eventType:"click",pointerType:"mouse",isEmulated:!1};ce(N,j),j.preventDefault&&!j.defaultPrevented&&l.cancelEvent(O),j.stopPropagation&&l.stopEvent(O)}function P(N,O){var j={originalEvent:O,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};ce(N,j),j.preventDefault&&!j.defaultPrevented&&l.cancelEvent(O),j.stopPropagation&&l.stopEvent(O)}function U(N,O){var j=null,Y={originalEvent:O,eventType:"keydown",pointerType:"",isEmulated:!1};ce(N,Y),N.keyDownHandler&&!Y.preventGesture&&!Y.defaultPrevented&&N.keyDownHandler(j={eventSource:N,keyCode:O.keyCode?O.keyCode:O.charCode,ctrl:O.ctrlKey,shift:O.shiftKey,alt:O.altKey,meta:O.metaKey,originalEvent:O,preventDefault:Y.preventDefault||Y.defaultPrevented,userData:N.userData}),(j&&j.preventDefault||Y.preventDefault&&!Y.defaultPrevented)&&l.cancelEvent(O),Y.stopPropagation&&l.stopEvent(O)}function R(N,O){var j=null,Y={originalEvent:O,eventType:"keyup",pointerType:"",isEmulated:!1};ce(N,Y),N.keyUpHandler&&!Y.preventGesture&&!Y.defaultPrevented&&N.keyUpHandler(j={eventSource:N,keyCode:O.keyCode?O.keyCode:O.charCode,ctrl:O.ctrlKey,shift:O.shiftKey,alt:O.altKey,meta:O.metaKey,originalEvent:O,preventDefault:Y.preventDefault||Y.defaultPrevented,userData:N.userData}),(j&&j.preventDefault||Y.preventDefault&&!Y.defaultPrevented)&&l.cancelEvent(O),Y.stopPropagation&&l.stopEvent(O)}function oe(N,O){var j=null,Y={originalEvent:O,eventType:"keypress",pointerType:"",isEmulated:!1};ce(N,Y),N.keyHandler&&!Y.preventGesture&&!Y.defaultPrevented&&N.keyHandler(j={eventSource:N,keyCode:O.keyCode?O.keyCode:O.charCode,ctrl:O.ctrlKey,shift:O.shiftKey,alt:O.altKey,meta:O.metaKey,originalEvent:O,preventDefault:Y.preventDefault||Y.defaultPrevented,userData:N.userData}),(j&&j.preventDefault||Y.preventDefault&&!Y.defaultPrevented)&&l.cancelEvent(O),Y.stopPropagation&&l.stopEvent(O)}function X(N,O){var j={originalEvent:O,eventType:"focus",pointerType:"",isEmulated:!1};ce(N,j),N.focusHandler&&!j.preventGesture&&N.focusHandler({eventSource:N,originalEvent:O,userData:N.userData})}function le(N,O){var j={originalEvent:O,eventType:"blur",pointerType:"",isEmulated:!1};ce(N,j),N.blurHandler&&!j.preventGesture&&N.blurHandler({eventSource:N,originalEvent:O,userData:N.userData})}function ye(N,O){var j=null,Y={originalEvent:O,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};ce(N,Y),N.contextMenuHandler&&!Y.preventGesture&&!Y.defaultPrevented&&(j={eventSource:N,position:m(F(O),N.element),originalEvent:Y.originalEvent,preventDefault:Y.preventDefault||Y.defaultPrevented,userData:N.userData},N.contextMenuHandler(j)),(j&&j.preventDefault||Y.preventDefault&&!Y.defaultPrevented)&&l.cancelEvent(O),Y.stopPropagation&&l.stopEvent(O)}function _e(N,O){Ge(N,O,O)}function He(N,O){var j={target:O.target||O.srcElement,type:"wheel",shiftKey:O.shiftKey||!1,clientX:O.clientX,clientY:O.clientY,pageX:O.pageX?O.pageX:O.clientX,pageY:O.pageY?O.pageY:O.clientY,deltaMode:"MozMousePixelScroll"===O.type?0:1,deltaX:0,deltaZ:0};j.deltaY="mousewheel"===l.MouseTracker.wheelEventName?-O.wheelDelta/l.DEFAULT_SETTINGS.pixelsPerWheelLine:O.detail,Ge(N,j,O)}function Ge(N,O,j){var Y,me,Ie=null;Y=O.deltaY<0?1:-1,ce(N,me={originalEvent:O,eventType:"wheel",pointerType:"mouse",isEmulated:O!==j}),N.scrollHandler&&!me.preventGesture&&!me.defaultPrevented&&(Ie={eventSource:N,pointerType:"mouse",position:B(O,N.element),scroll:Y,shift:O.shiftKey,isTouchEvent:!1,originalEvent:j,preventDefault:me.preventDefault||me.defaultPrevented,userData:N.userData},N.scrollHandler(Ie)),me.stopPropagation&&l.stopEvent(j),(Ie&&Ie.preventDefault||me.preventDefault&&!me.defaultPrevented)&&l.cancelEvent(j)}function Oe(N,O){var j={id:l.MouseTracker.mousePointerId,type:"mouse"},Y={originalEvent:O,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};ce(N,Y),O.target===N.element&&pe(N,j,!1),Y.stopPropagation&&l.stopEvent(O)}function dt(N,O){var j,Y,Ie,me=O.changedTouches.length,gt=N.getActivePointersListByType("touch");j=l.now(),gt.getLength()>O.touches.length-me&&l.console.warn("Tracked touch contact count doesn't match event.touches.length");var Je={originalEvent:O,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(ce(N,Je),Y=0;Y<me;Y++)Ze(N,Je,Ie={id:O.changedTouches[Y].identifier,type:"touch",isPrimary:0===gt.getLength(),currentPos:F(O.changedTouches[Y]),currentTime:j}),bt(N,Je,Ie,0),pe(N,Ie,!0);Je.preventDefault&&!Je.defaultPrevented&&l.cancelEvent(O),Je.stopPropagation&&l.stopEvent(O)}function Ye(N,O){var j,Y,Ie,me=O.changedTouches.length;j=l.now();var gt={originalEvent:O,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(ce(N,gt),Y=0;Y<me;Y++)kt(N,gt,Ie={id:O.changedTouches[Y].identifier,type:"touch",currentPos:F(O.changedTouches[Y]),currentTime:j},0),pe(N,Ie,!1),tt(N,gt,Ie);gt.preventDefault&&!gt.defaultPrevented&&l.cancelEvent(O),gt.stopPropagation&&l.stopEvent(O)}function Pt(N,O){var j,Y,me=O.changedTouches.length;j=l.now();var gt={originalEvent:O,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(ce(N,gt),Y=0;Y<me;Y++)Rn(N,gt,{id:O.changedTouches[Y].identifier,type:"touch",currentPos:F(O.changedTouches[Y]),currentTime:j});gt.preventDefault&&!gt.defaultPrevented&&l.cancelEvent(O),gt.stopPropagation&&l.stopEvent(O)}function st(N,O){var Y,j=O.changedTouches.length,Ie={originalEvent:O,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(ce(N,Ie),Y=0;Y<j;Y++)Hi(N,0,{id:O.changedTouches[Y].identifier,type:"touch"});Ie.stopPropagation&&l.stopEvent(O)}function Ne(N,O){return l.eventIsCanceled(O)||O.preventDefault(),!1}function _n(N,O){return l.eventIsCanceled(O)||O.preventDefault(),!1}function ri(N,O){var j={originalEvent:O,eventType:"gotpointercapture",pointerType:z(O),isEmulated:!1};ce(N,j),O.target===N.element&&pe(N,{id:O.pointerId,type:z(O)},!0),j.stopPropagation&&l.stopEvent(O)}function Yt(N,O){var j={originalEvent:O,eventType:"lostpointercapture",pointerType:z(O),isEmulated:!1};ce(N,j),O.target===N.element&&pe(N,{id:O.pointerId,type:z(O)},!1),j.stopPropagation&&l.stopEvent(O)}function gr(N,O){var j={id:L(O),type:z(O),isPrimary:te(O),currentPos:F(O),currentTime:l.now()},Y={originalEvent:O,eventType:"pointerenter",pointerType:j.type,isEmulated:!1};ce(N,Y),Ze(N,Y,j)}function Z(N,O){var j={id:L(O),type:z(O),isPrimary:te(O),currentPos:F(O),currentTime:l.now()},Y={originalEvent:O,eventType:"pointerleave",pointerType:j.type,isEmulated:!1};ce(N,Y),tt(N,Y,j)}function V(N,O){var j={id:L(O),type:z(O),isPrimary:te(O),currentPos:F(O),currentTime:l.now()},Y={originalEvent:O,eventType:"pointerover",pointerType:j.type,isEmulated:!1};ce(N,Y),function(N,O,j){var Y,me;(me=(Y=N.getActivePointersListByType(j.type)).getById(j.id))?j=me:(j.captured=!1,j.insideElementPressed=!1),N.overHandler&&N.overHandler({eventSource:N,pointerType:j.type,position:m(j.currentPos,N.element),buttons:Y.buttons,pointers:N.getActivePointerCount(),insideElementPressed:j.insideElementPressed,buttonDownAny:0!==Y.buttons,isTouchEvent:"touch"===j.type,originalEvent:O.originalEvent,userData:N.userData})}(N,Y,j),Y.preventDefault&&!Y.defaultPrevented&&l.cancelEvent(O),Y.stopPropagation&&l.stopEvent(O)}function Ee(N,O){var j={id:L(O),type:z(O),isPrimary:te(O),currentPos:F(O),currentTime:l.now()},Y={originalEvent:O,eventType:"pointerout",pointerType:j.type,isEmulated:!1};ce(N,Y),function(N,O,j){var Y,me;(me=(Y=N.getActivePointersListByType(j.type)).getById(j.id))?j=me:(j.captured=!1,j.insideElementPressed=!1),N.outHandler&&N.outHandler({eventSource:N,pointerType:j.type,position:j.currentPos&&m(j.currentPos,N.element),buttons:Y.buttons,pointers:N.getActivePointerCount(),insideElementPressed:j.insideElementPressed,buttonDownAny:0!==Y.buttons,isTouchEvent:"touch"===j.type,originalEvent:O.originalEvent,userData:N.userData})}(N,Y,j),Y.preventDefault&&!Y.defaultPrevented&&l.cancelEvent(O),Y.stopPropagation&&l.stopEvent(O)}function he(N,O){var j={id:L(O),type:z(O),isPrimary:te(O),currentPos:F(O),currentTime:l.now()},Y=l.MouseTracker.havePointerEvents&&"touch"===j.type&&l.Browser.vendor!==l.BROWSERS.IE,me={originalEvent:O,eventType:"pointerdown",pointerType:j.type,isEmulated:!1};ce(N,me),bt(N,me,j,O.button),me.preventDefault&&!me.defaultPrevented&&l.cancelEvent(O),me.stopPropagation&&l.stopEvent(O),me.shouldCapture&&(Y?pe(N,j,!0):function(N,O){var j;if(l.MouseTracker.havePointerCapture)if(l.MouseTracker.havePointerEvents)try{N.element.setPointerCapture(O.id)}catch(Y){return void l.console.warn("setPointerCapture() called on invalid pointer ID")}else N.element.setCapture(!0);else j=M(N,l.MouseTracker.havePointerEvents?"pointerevent":O.type),h&&w(window.top)&&l.addEvent(window.top,j.upName,j.upHandler,!0),l.addEvent(l.MouseTracker.captureElement,j.upName,j.upHandler,!0),l.addEvent(l.MouseTracker.captureElement,j.moveName,j.moveHandler,!0);pe(N,O,!0)}(N,j))}function Lt(N,O){zt(N,O)}function rn(N,O){N.getActivePointersListByType(z(O)).getById(O.pointerId)&&zt(N,O),l.stopEvent(O)}function zt(N,O){var j,Y={originalEvent:O,eventType:"pointerup",pointerType:(j={id:L(O),type:z(O),isPrimary:te(O),currentPos:F(O),currentTime:l.now()}).type,isEmulated:!1};ce(N,Y),kt(N,Y,j,O.button),Y.preventDefault&&!Y.defaultPrevented&&l.cancelEvent(O),Y.stopPropagation&&l.stopEvent(O),Y.shouldReleaseCapture&&(O.target===N.element?S(N,j):pe(N,j,!1))}function pn(N,O){g(N,O)}function In(N,O){N.getActivePointersListByType(z(O)).getById(O.pointerId)&&g(N,O),l.stopEvent(O)}function g(N,O){var j={id:L(O),type:z(O),isPrimary:te(O),currentPos:F(O),currentTime:l.now()},Y={originalEvent:O,eventType:"pointermove",pointerType:j.type,isEmulated:!1};ce(N,Y),Rn(N,Y,j),Y.preventDefault&&!Y.defaultPrevented&&l.cancelEvent(O),Y.stopPropagation&&l.stopEvent(O)}function v(N,O){var j={id:O.pointerId,type:z(O)},Y={originalEvent:O,eventType:"pointercancel",pointerType:j.type,isEmulated:!1};ce(N,Y),Hi(N,0,j),Y.stopPropagation&&l.stopEvent(O)}function E(N,O){return O.speed=0,O.direction=0,O.contactPos=O.currentPos,O.contactTime=O.currentTime,O.lastPos=O.currentPos,O.lastTime=O.currentTime,N.add(O)}function H(N,O,j){var Y,me=O.getById(j.id);return me?(me.captured&&(l.console.warn("stopTrackingPointer() called on captured pointer"),S(N,me)),("mouse"===O.type||"pen"===O.type)&&O.contacts>0&&O.removeContact(),Y=O.removeById(j.id)):Y=O.getLength(),Y}function ce(N,O){O.eventSource=N,O.eventPhase=O.originalEvent&&void 0!==O.originalEvent.eventPhase?O.originalEvent.eventPhase:0,O.defaultPrevented=l.eventIsCanceled(O.originalEvent),O.shouldCapture=!1,O.shouldReleaseCapture=!1,O.userData=N.userData,function(N,O){switch(O.eventType){case"pointermove":case"pointerdown":case"pointerup":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!1,O.preventGesture=!N.hasGestureHandlers,O.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!1,O.preventGesture=!1,O.stopPropagation=!1;break;case"wheel":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!1,O.preventGesture=!N.hasScrollHandler,O.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":O.isStoppable=!0,O.isCancelable=!1,O.preventDefault=!1,O.preventGesture=!1,O.stopPropagation=!1;break;case"click":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!!N.clickHandler,O.preventGesture=!1,O.stopPropagation=!1;break;case"dblclick":O.isStoppable=!0,O.isCancelable=!0,O.preventDefault=!!N.dblClickHandler,O.preventGesture=!1,O.stopPropagation=!1;break;default:O.isStoppable=!1,O.isCancelable=!1,O.preventDefault=!1,O.preventGesture=!1,O.stopPropagation=!1}}(N,O),N.preProcessEventHandler&&N.preProcessEventHandler(O)}function pe(N,O,j){var Y=N.getActivePointersListByType(O.type),me=Y.getById(O.id);me?j&&!me.captured?(me.captured=!0,Y.captureCount++):!j&&me.captured&&(me.captured=!1,Y.captureCount--,Y.captureCount<0&&(Y.captureCount=0,l.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):l.console.warn("updatePointerCaptured() called on untracked pointer")}function Ze(N,O,j){var me,Y=N.getActivePointersListByType(j.type);(me=Y.getById(j.id))?(me.insideElement=!0,me.lastPos=me.currentPos,me.lastTime=me.currentTime,me.currentPos=j.currentPos,me.currentTime=j.currentTime,j=me):(j.captured=!1,j.insideElementPressed=!1,j.insideElement=!0,E(Y,j)),N.enterHandler&&N.enterHandler({eventSource:N,pointerType:j.type,position:m(j.currentPos,N.element),buttons:Y.buttons,pointers:N.getActivePointerCount(),insideElementPressed:j.insideElementPressed,buttonDownAny:0!==Y.buttons,isTouchEvent:"touch"===j.type,originalEvent:O.originalEvent,userData:N.userData})}function tt(N,O,j){var me,Ie,Y=N.getActivePointersListByType(j.type);(me=Y.getById(j.id))?(me.captured?(me.insideElement=!1,me.lastPos=me.currentPos,me.lastTime=me.currentTime,me.currentPos=j.currentPos,me.currentTime=j.currentTime):H(N,Y,me),j=me):(j.captured=!1,j.insideElementPressed=!1),(N.leaveHandler||N.exitHandler)&&(Ie={eventSource:N,pointerType:j.type,position:j.currentPos&&m(j.currentPos,N.element),buttons:Y.buttons,pointers:N.getActivePointerCount(),insideElementPressed:j.insideElementPressed,buttonDownAny:0!==Y.buttons,isTouchEvent:"touch"===j.type,originalEvent:O.originalEvent,userData:N.userData},N.leaveHandler&&N.leaveHandler(Ie),N.exitHandler&&N.exitHandler(Ie))}function bt(N,O,j,Y){var gt,me=f[N.hash],Ie=N.getActivePointersListByType(j.type);return void 0!==O.originalEvent.buttons?Ie.buttons=O.originalEvent.buttons:0===Y?Ie.buttons|=1:1===Y?Ie.buttons|=4:2===Y?Ie.buttons|=2:3===Y?Ie.buttons|=8:4===Y?Ie.buttons|=16:5===Y&&(Ie.buttons|=32),0!==Y?(O.shouldCapture=!1,O.shouldReleaseCapture=!1,void(N.nonPrimaryPressHandler&&!O.preventGesture&&!O.defaultPrevented&&(O.preventDefault=!0,N.nonPrimaryPressHandler({eventSource:N,pointerType:j.type,position:m(j.currentPos,N.element),button:Y,buttons:Ie.buttons,isTouchEvent:"touch"===j.type,originalEvent:O.originalEvent,userData:N.userData})))):(gt=Ie.getById(j.id))?(gt.insideElementPressed=!0,gt.insideElement=!0,gt.originalTarget=O.originalEvent.target,gt.contactPos=j.currentPos,gt.contactTime=j.currentTime,gt.lastPos=gt.currentPos,gt.lastTime=gt.currentTime,gt.currentPos=j.currentPos,gt.currentTime=j.currentTime,j=gt,Ie.addContact(),void(O.preventGesture||O.defaultPrevented?(O.shouldCapture=!1,O.shouldReleaseCapture=!1):(O.shouldCapture=!0,O.shouldReleaseCapture=!1,O.preventDefault=!0,(N.dragHandler||N.dragEndHandler||N.pinchHandler)&&l.MouseTracker.gesturePointVelocityTracker.addPoint(N,j),1===Ie.contacts?N.pressHandler&&!O.preventGesture&&N.pressHandler({eventSource:N,pointerType:j.type,position:m(j.contactPos,N.element),buttons:Ie.buttons,isTouchEvent:"touch"===j.type,originalEvent:O.originalEvent,userData:N.userData}):2===Ie.contacts&&N.pinchHandler&&"touch"===j.type&&(me.pinchGPoints=Ie.asArray(),me.lastPinchDist=me.currentPinchDist=me.pinchGPoints[0].currentPos.distanceTo(me.pinchGPoints[1].currentPos),me.lastPinchCenter=me.currentPinchCenter=C(me.pinchGPoints[0].currentPos,me.pinchGPoints[1].currentPos))))):(l.console.warn("pointerdown event on untracked pointer"),j.captured=!1,j.insideElementPressed=!0,j.insideElement=!0,j.originalTarget=O.originalEvent.target,void E(Ie,j))}function kt(N,O,j,Y){var gt,Je,Te,Yn,me=f[N.hash],Ie=N.getActivePointersListByType(j.type),yi=!1;if(void 0!==O.originalEvent.buttons?Ie.buttons=O.originalEvent.buttons:0===Y?Ie.buttons^=-2:1===Y?Ie.buttons^=-5:2===Y?Ie.buttons^=-3:3===Y?Ie.buttons^=-9:4===Y?Ie.buttons^=-17:5===Y&&(Ie.buttons^=-33),O.shouldCapture=!1,0!==Y)return O.shouldReleaseCapture=!1,void(N.nonPrimaryReleaseHandler&&!O.preventGesture&&!O.defaultPrevented&&(O.preventDefault=!0,N.nonPrimaryReleaseHandler({eventSource:N,pointerType:j.type,position:m(j.currentPos,N.element),button:Y,buttons:Ie.buttons,isTouchEvent:"touch"===j.type,originalEvent:O.originalEvent,userData:N.userData})));(Te=Ie.getById(j.id))?(Ie.removeContact(),Te.captured&&(yi=!0),Te.lastPos=Te.currentPos,Te.lastTime=Te.currentTime,Te.currentPos=j.currentPos,Te.currentTime=j.currentTime,Te.insideElement||H(N,Ie,Te),gt=Te.currentPos,Je=Te.currentTime):(l.console.warn("updatePointerUp(): pointerup on untracked gPoint"),j.captured=!1,j.insideElementPressed=!1,j.insideElement=!0,E(Ie,j),Te=j),!O.preventGesture&&!O.defaultPrevented&&(yi?(O.shouldReleaseCapture=!0,O.preventDefault=!0,(N.dragHandler||N.dragEndHandler||N.pinchHandler)&&l.MouseTracker.gesturePointVelocityTracker.removePoint(N,Te),0===Ie.contacts?(N.releaseHandler&&N.releaseHandler({eventSource:N,pointerType:Te.type,position:m(gt,N.element),buttons:Ie.buttons,insideElementPressed:Te.insideElementPressed,insideElementReleased:Te.insideElement,isTouchEvent:"touch"===Te.type,originalEvent:O.originalEvent,userData:N.userData}),N.dragEndHandler&&me.sentDragEvent&&N.dragEndHandler({eventSource:N,pointerType:Te.type,position:m(Te.currentPos,N.element),speed:Te.speed,direction:Te.direction,shift:O.originalEvent.shiftKey,isTouchEvent:"touch"===Te.type,originalEvent:O.originalEvent,userData:N.userData}),me.sentDragEvent=!1,(N.clickHandler||N.dblClickHandler)&&Te.insideElement&&(Yn=Je-Te.contactTime<=N.clickTimeThreshold&&Te.contactPos.distanceTo(gt)<=N.clickDistThreshold,N.clickHandler&&N.clickHandler({eventSource:N,pointerType:Te.type,position:m(Te.currentPos,N.element),quick:Yn,shift:O.originalEvent.shiftKey,isTouchEvent:"touch"===Te.type,originalEvent:O.originalEvent,originalTarget:Te.originalTarget,userData:N.userData}),N.dblClickHandler&&Yn&&(Ie.clicks++,1===Ie.clicks?(me.lastClickPos=gt,me.dblClickTimeOut=setTimeout(function(){Ie.clicks=0},N.dblClickTimeThreshold)):2===Ie.clicks&&(clearTimeout(me.dblClickTimeOut),Ie.clicks=0,me.lastClickPos.distanceTo(gt)<=N.dblClickDistThreshold&&N.dblClickHandler({eventSource:N,pointerType:Te.type,position:m(Te.currentPos,N.element),shift:O.originalEvent.shiftKey,isTouchEvent:"touch"===Te.type,originalEvent:O.originalEvent,userData:N.userData}),me.lastClickPos=null)))):2===Ie.contacts&&N.pinchHandler&&"touch"===Te.type&&(me.pinchGPoints=Ie.asArray(),me.lastPinchDist=me.currentPinchDist=me.pinchGPoints[0].currentPos.distanceTo(me.pinchGPoints[1].currentPos),me.lastPinchCenter=me.currentPinchCenter=C(me.pinchGPoints[0].currentPos,me.pinchGPoints[1].currentPos))):(O.shouldReleaseCapture=!1,N.releaseHandler&&(N.releaseHandler({eventSource:N,pointerType:Te.type,position:m(gt,N.element),buttons:Ie.buttons,insideElementPressed:Te.insideElementPressed,insideElementReleased:Te.insideElement,isTouchEvent:"touch"===Te.type,originalEvent:O.originalEvent,userData:N.userData}),O.preventDefault=!0)))}function Rn(N,O,j){var Ie,gt,Je,Y=f[N.hash],me=N.getActivePointersListByType(j.type);void 0!==O.originalEvent.buttons&&(me.buttons=O.originalEvent.buttons),(Ie=me.getById(j.id))&&(Ie.lastPos=Ie.currentPos,Ie.lastTime=Ie.currentTime,Ie.currentPos=j.currentPos,Ie.currentTime=j.currentTime,O.shouldCapture=!1,O.shouldReleaseCapture=!1,N.stopHandler&&"mouse"===j.type&&(clearTimeout(N.stopTimeOut),N.stopTimeOut=setTimeout(function(){!function(N,O,j){N.stopHandler&&N.stopHandler({eventSource:N,pointerType:j,position:B(O,N.element),buttons:N.getActivePointersListByType(j).buttons,isTouchEvent:"touch"===j,originalEvent:O,userData:N.userData})}(N,O.originalEvent,j.type)},N.stopDelay)),0===me.contacts?N.moveHandler&&N.moveHandler({eventSource:N,pointerType:j.type,position:m(j.currentPos,N.element),buttons:me.buttons,isTouchEvent:"touch"===j.type,originalEvent:O.originalEvent,userData:N.userData}):1===me.contacts?(N.moveHandler&&(Ie=me.asArray()[0],N.moveHandler({eventSource:N,pointerType:Ie.type,position:m(Ie.currentPos,N.element),buttons:me.buttons,isTouchEvent:"touch"===Ie.type,originalEvent:O.originalEvent,userData:N.userData})),N.dragHandler&&!O.preventGesture&&!O.defaultPrevented&&(Je=(Ie=me.asArray()[0]).currentPos.minus(Ie.lastPos),N.dragHandler({eventSource:N,pointerType:Ie.type,position:m(Ie.currentPos,N.element),buttons:me.buttons,delta:Je,speed:Ie.speed,direction:Ie.direction,shift:O.originalEvent.shiftKey,isTouchEvent:"touch"===Ie.type,originalEvent:O.originalEvent,userData:N.userData}),O.preventDefault=!0,Y.sentDragEvent=!0)):2===me.contacts&&(N.moveHandler&&(gt=me.asArray(),N.moveHandler({eventSource:N,pointerType:gt[0].type,position:m(C(gt[0].currentPos,gt[1].currentPos),N.element),buttons:me.buttons,isTouchEvent:"touch"===gt[0].type,originalEvent:O.originalEvent,userData:N.userData})),N.pinchHandler&&"touch"===j.type&&!O.preventGesture&&!O.defaultPrevented&&(Je=Y.pinchGPoints[0].currentPos.distanceTo(Y.pinchGPoints[1].currentPos))!==Y.currentPinchDist&&(Y.lastPinchDist=Y.currentPinchDist,Y.currentPinchDist=Je,Y.lastPinchCenter=Y.currentPinchCenter,Y.currentPinchCenter=C(Y.pinchGPoints[0].currentPos,Y.pinchGPoints[1].currentPos),N.pinchHandler({eventSource:N,pointerType:"touch",gesturePoints:Y.pinchGPoints,lastCenter:m(Y.lastPinchCenter,N.element),center:m(Y.currentPinchCenter,N.element),lastDistance:Y.lastPinchDist,distance:Y.currentPinchDist,shift:O.originalEvent.shiftKey,originalEvent:O.originalEvent,userData:N.userData}),O.preventDefault=!0)))}function Hi(N,O,j){var me,Y=N.getActivePointersListByType(j.type);(me=Y.getById(j.id))&&H(N,Y,me)}l.MouseTracker.gesturePointVelocityTracker=(N=[],O=0,j=0,Y=function(Je,Te){return Je.hash.toString()+Te.type+Te.id.toString()},me=function(){var Je,yi,Yn,cp,Ma,Te=N.length,Gi=l.now();for(cp=Gi-j,j=Gi,Je=0;Je<Te;Je++)(Yn=(yi=N[Je]).gPoint).direction=Math.atan2(Yn.currentPos.y-yi.lastPos.y,Yn.currentPos.x-yi.lastPos.x),Ma=yi.lastPos.distanceTo(Yn.currentPos),yi.lastPos=Yn.currentPos,Yn.speed=1e3*Ma/(cp+1)*.75+.25*Yn.speed},{addPoint:function(Je,Te){var yi=Y(Je,Te);N.push({guid:yi,gPoint:Te,lastPos:Te.currentPos}),1===N.length&&(j=l.now(),O=window.setInterval(me,50))},removePoint:function(Je,Te){var Yn,yi=Y(Je,Te),Gi=N.length;for(Yn=0;Yn<Gi;Yn++)if(N[Yn].guid===yi){N.splice(Yn,1),0==--Gi&&window.clearInterval(O);break}}}),l.MouseTracker.captureElement=document,l.MouseTracker.wheelEventName=l.Browser.vendor===l.BROWSERS.IE&&l.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",l.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",l.MouseTracker.wheelEventName],"DOMMouseScroll"===l.MouseTracker.wheelEventName&&l.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(l.MouseTracker.havePointerEvents=!0,l.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),l.MouseTracker.havePointerCapture=function(){var N=document.createElement("div");return l.isFunction(N.setPointerCapture)&&l.isFunction(N.releasePointerCapture)}(),l.MouseTracker.havePointerCapture&&l.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(l.MouseTracker.havePointerEvents=!1,l.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),l.MouseTracker.mousePointerId="legacy-mouse",l.MouseTracker.havePointerCapture=function(){var N=document.createElement("div");return l.isFunction(N.setCapture)&&l.isFunction(N.releaseCapture)}(),l.MouseTracker.havePointerCapture&&l.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&l.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&l.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),l.MouseTracker.GesturePointList=function(N){this._gPoints=[],this.type=N,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},l.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(N){return this._gPoints.push(N)},removeById:function(N){var O,j=this._gPoints.length;for(O=0;O<j;O++)if(this._gPoints[O].id===N){this._gPoints.splice(O,1);break}return this._gPoints.length},getByIndex:function(N){return N<this._gPoints.length?this._gPoints[N]:null},getById:function(N){var O,j=this._gPoints.length;for(O=0;O<j;O++)if(this._gPoints[O].id===N)return this._gPoints[O];return null},getPrimary:function(N){var O,j=this._gPoints.length;for(O=0;O<j;O++)if(this._gPoints[O].isPrimary)return this._gPoints[O];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(l.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(l.console.warn("GesturePointList.removeContact() Implausible contacts value"),this.contacts=0)}}}(q),function(l){l.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},l.Control=function(d,f,h){var w=d.parentNode;"number"==typeof f&&(l.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),f={anchor:f}),f.attachToViewer=void 0===f.attachToViewer||f.attachToViewer,this.autoFade=void 0===f.autoFade||f.autoFade,this.element=d,this.anchor=f.anchor,this.container=h,this.anchor===l.ControlAnchor.ABSOLUTE?(this.wrapper=l.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof f.top?f.top+"px":f.top,this.wrapper.style.left="number"==typeof f.left?f.left+"px":f.left,this.wrapper.style.height="number"==typeof f.height?f.height+"px":f.height,this.wrapper.style.width="number"==typeof f.width?f.width+"px":f.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=l.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===l.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),f.attachToViewer?this.anchor===l.ControlAnchor.TOP_RIGHT||this.anchor===l.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):w.appendChild(this.wrapper)},l.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==l.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!==this.wrapper.style.display},setVisible:function(d){this.wrapper.style.display=d?this.anchor===l.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(d){l.setElementOpacity(this.element[l.SIGNAL]&&l.Browser.vendor===l.BROWSERS.IE?this.element:this.wrapper,d,!0)}}}(q),function(l){function d(f,h){var b,w=f.controls;for(b=w.length-1;b>=0;b--)if(w[b].element===h)return b;return-1}l.ControlDock=function(f){var w,b,h=["topleft","topright","bottomright","bottomleft"];for(l.extend(!0,this,{id:"controldock-"+l.now()+"-"+Math.floor(1e6*Math.random()),container:l.makeNeutralElement("div"),controls:[]},f),this.container.onsubmit=function(){return!1},this.element&&(this.element=l.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),b=0;b<h.length;b++)this.controls[w=h[b]]=l.makeNeutralElement("div"),this.controls[w].style.position="absolute",w.match("left")&&(this.controls[w].style.left="0px"),w.match("right")&&(this.controls[w].style.right="0px"),w.match("top")&&(this.controls[w].style.top="0px"),w.match("bottom")&&(this.controls[w].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},l.ControlDock.prototype={addControl:function(f,h){var w=null;if(!(d(this,f=l.getElement(f))>=0)){switch(h.anchor){case l.ControlAnchor.TOP_RIGHT:w=this.controls.topright,f.style.position="relative",f.style.paddingRight="0px",f.style.paddingTop="0px";break;case l.ControlAnchor.BOTTOM_RIGHT:w=this.controls.bottomright,f.style.position="relative",f.style.paddingRight="0px",f.style.paddingBottom="0px";break;case l.ControlAnchor.BOTTOM_LEFT:w=this.controls.bottomleft,f.style.position="relative",f.style.paddingLeft="0px",f.style.paddingBottom="0px";break;case l.ControlAnchor.TOP_LEFT:w=this.controls.topleft,f.style.position="relative",f.style.paddingLeft="0px",f.style.paddingTop="0px";break;default:w=this.container,f.style.margin="0px",f.style.padding="0px"}this.controls.push(new l.Control(f,h,w)),f.style.display="inline-block"}},removeControl:function(f){var h=d(this,f=l.getElement(f));return h>=0&&(this.controls[h].destroy(),this.controls.splice(h,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var f;for(f=this.controls.length-1;f>=0;f--)if(this.controls[f].isVisible())return!0;return!1},setControlsEnabled:function(f){var h;for(h=this.controls.length-1;h>=0;h--)this.controls[h].setVisible(f);return this}}}(q),function(l){l.Placement=l.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(q),function(l){var d={},f=1;function h(g){return g=l.getElement(g),new l.Point(0===g.clientWidth?1:g.clientWidth,0===g.clientHeight?1:g.clientHeight)}function b(g,v){if(v instanceof l.Overlay)return v;var E=null;if(v.element)E=l.getElement(v.element);else{var H=v.id?v.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(E=l.getElement(v.id))||((E=document.createElement("a")).href="#/overlay/"+H),E.id=H,l.addClass(E,v.className?v.className:"openseadragon-overlay")}var J=v.location,ce=v.width,pe=v.height;if(!J){var Ze=v.x,tt=v.y;if(void 0!==v.px){var et=g.viewport.imageToViewportRectangle(new l.Rect(v.px,v.py,ce||0,pe||0));Ze=et.x,tt=et.y,ce=void 0!==ce?et.width:void 0,pe=void 0!==pe?et.height:void 0}J=new l.Point(Ze,tt)}var Qe=v.placement;return Qe&&"string"===l.type(Qe)&&(Qe=l.Placement[v.placement.toUpperCase()]),new l.Overlay({element:E,location:J,placement:Qe,onDraw:v.onDraw,checkResize:v.checkResize,width:ce,height:pe,rotationMode:v.rotationMode})}function y(g,v){var E;for(E=g.length-1;E>=0;E--)if(g[E].element===v)return E;return-1}function _(g,v){return l.requestAnimationFrame(function(){v(g)})}function M(g){l.requestAnimationFrame(function(){!function(g){var H,J;if(g.controlsShouldFade){for(H=1-(l.now()-g.controlsFadeBeginTime)/g.controlsFadeLength,H=Math.min(1,H),H=Math.max(0,H),J=g.controls.length-1;J>=0;J--)g.controls[J].autoFade&&g.controls[J].setOpacity(H);H>0&&M(g)}}(g)})}function T(g){!g.autoHideControls||(g.controlsShouldFade=!0,g.controlsFadeBeginTime=l.now()+g.controlsFadeDelay,window.setTimeout(function(){M(g)},g.controlsFadeDelay))}function L(g){var v;for(g.controlsShouldFade=!1,v=g.controls.length-1;v>=0;v--)g.controls[v].setOpacity(1)}function z(){L(this)}function te(){T(this)}function F(g){var v={tracker:g.eventSource,position:g.position,originalEvent:g.originalEvent,preventDefault:g.preventDefault};this.raiseEvent("canvas-contextmenu",v),g.preventDefault=v.preventDefault}function B(g){var v={originalEvent:g.originalEvent,preventDefaultAction:!1,preventVerticalPan:g.preventVerticalPan,preventHorizontalPan:g.preventHorizontalPan};if(this.raiseEvent("canvas-key",v),v.preventDefaultAction||g.ctrl||g.alt||g.meta)g.preventDefault=!1;else switch(g.keyCode){case 38:v.preventVerticalPan||(g.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),g.preventDefault=!0;break;case 40:v.preventVerticalPan||(g.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),g.preventDefault=!0;break;case 37:v.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),g.preventDefault=!0;break;case 39:v.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),g.preventDefault=!0;break;default:g.preventDefault=!1}}function m(g){var v={originalEvent:g.originalEvent,preventDefaultAction:!1,preventVerticalPan:g.preventVerticalPan,preventHorizontalPan:g.preventHorizontalPan};if(this.raiseEvent("canvas-key",v),v.preventDefaultAction||g.ctrl||g.alt||g.meta)g.preventDefault=!1;else switch(g.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),g.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),g.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),g.preventDefault=!0;break;case 119:case 87:v.preventVerticalPan||(g.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(0,-40))),this.viewport.applyConstraints()),g.preventDefault=!0;break;case 115:case 83:v.preventVerticalPan||(g.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(0,40))),this.viewport.applyConstraints()),g.preventDefault=!0;break;case 97:v.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(-40,0))),this.viewport.applyConstraints()),g.preventDefault=!0;break;case 100:v.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new l.Point(40,0))),this.viewport.applyConstraints()),g.preventDefault=!0;break;case 114:this.viewport.setRotation(l.positiveModulo(this.viewport.flipped?this.viewport.degrees-this.rotationIncrement:this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),g.preventDefault=!0;break;case 82:this.viewport.setRotation(l.positiveModulo(this.viewport.flipped?this.viewport.degrees+this.rotationIncrement:this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),g.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),g.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:g.preventDefault=!1}}function C(g){var v;document.activeElement===this.canvas||this.canvas.focus(),this.viewport.flipped&&(g.position.x=this.viewport.getContainerSize().x-g.position.x);var H={tracker:g.eventSource,position:g.position,quick:g.quick,shift:g.shift,originalEvent:g.originalEvent,originalTarget:g.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",H),!H.preventDefaultAction&&this.viewport&&g.quick&&(v=this.gestureSettingsByDeviceType(g.pointerType)).clickToZoom&&(this.viewport.zoomBy(g.shift?1/this.zoomPerClick:this.zoomPerClick,v.zoomToRefPoint?this.viewport.pointFromPixel(g.position,!0):null),this.viewport.applyConstraints())}function D(g){var v,E={tracker:g.eventSource,position:g.position,shift:g.shift,originalEvent:g.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",E),!E.preventDefaultAction&&this.viewport&&(v=this.gestureSettingsByDeviceType(g.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(g.shift?1/this.zoomPerClick:this.zoomPerClick,v.zoomToRefPoint?this.viewport.pointFromPixel(g.position,!0):null),this.viewport.applyConstraints())}function P(g){var v,E={tracker:g.eventSource,pointerType:g.pointerType,position:g.position,delta:g.delta,speed:g.speed,direction:g.direction,shift:g.shift,originalEvent:g.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",E),(v=this.gestureSettingsByDeviceType(g.pointerType)).dragToPan&&!E.preventDefaultAction&&this.viewport){if(this.panHorizontal||(g.delta.x=0),this.panVertical||(g.delta.y=0),this.viewport.flipped&&(g.delta.x=-g.delta.x),this.constrainDuringPan){var H=this.viewport.deltaPointsFromPixels(g.delta.negate());this.viewport.centerSpringX.target.value+=H.x,this.viewport.centerSpringY.target.value+=H.y;var J=this.viewport.getBounds(),ce=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=H.x,this.viewport.centerSpringY.target.value-=H.y,J.x!==ce.x&&(g.delta.x=0),J.y!==ce.y&&(g.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(g.delta.negate()),v.flickEnabled&&!this.constrainDuringPan)}}function U(g){var v={tracker:g.eventSource,pointerType:g.pointerType,position:g.position,speed:g.speed,direction:g.direction,shift:g.shift,originalEvent:g.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",v),!v.preventDefaultAction&&this.viewport){var E=this.gestureSettingsByDeviceType(g.pointerType);if(E.flickEnabled&&g.speed>=E.flickMinSpeed){var H=0;this.panHorizontal&&(H=E.flickMomentum*g.speed*Math.cos(g.direction));var J=0;this.panVertical&&(J=E.flickMomentum*g.speed*Math.sin(g.direction));var ce=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),pe=this.viewport.pointFromPixel(new l.Point(ce.x-H,ce.y-J));this.viewport.panTo(pe,!1)}this.viewport.applyConstraints()}}function R(g){this.raiseEvent("canvas-enter",{tracker:g.eventSource,pointerType:g.pointerType,position:g.position,buttons:g.buttons,pointers:g.pointers,insideElementPressed:g.insideElementPressed,buttonDownAny:g.buttonDownAny,originalEvent:g.originalEvent})}function oe(g){this.raiseEvent("canvas-exit",{tracker:g.eventSource,pointerType:g.pointerType,position:g.position,buttons:g.buttons,pointers:g.pointers,insideElementPressed:g.insideElementPressed,buttonDownAny:g.buttonDownAny,originalEvent:g.originalEvent})}function X(g){this.raiseEvent("canvas-press",{tracker:g.eventSource,pointerType:g.pointerType,position:g.position,insideElementPressed:g.insideElementPressed,insideElementReleased:g.insideElementReleased,originalEvent:g.originalEvent})}function le(g){this.raiseEvent("canvas-release",{tracker:g.eventSource,pointerType:g.pointerType,position:g.position,insideElementPressed:g.insideElementPressed,insideElementReleased:g.insideElementReleased,originalEvent:g.originalEvent})}function ye(g){this.raiseEvent("canvas-nonprimary-press",{tracker:g.eventSource,position:g.position,pointerType:g.pointerType,button:g.button,buttons:g.buttons,originalEvent:g.originalEvent})}function _e(g){this.raiseEvent("canvas-nonprimary-release",{tracker:g.eventSource,position:g.position,pointerType:g.pointerType,button:g.button,buttons:g.buttons,originalEvent:g.originalEvent})}function He(g){var v,E,J,ce={tracker:g.eventSource,pointerType:g.pointerType,gesturePoints:g.gesturePoints,lastCenter:g.lastCenter,center:g.center,lastDistance:g.lastDistance,distance:g.distance,shift:g.shift,originalEvent:g.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",ce),this.viewport&&((v=this.gestureSettingsByDeviceType(g.pointerType)).pinchToZoom&&(!ce.preventDefaultPanAction||!ce.preventDefaultZoomAction)&&(E=this.viewport.pointFromPixel(g.center,!0),ce.preventDefaultZoomAction||this.viewport.zoomBy(g.distance/g.lastDistance,E,!0),v.zoomToRefPoint&&!ce.preventDefaultPanAction&&(J=this.viewport.pointFromPixel(g.lastCenter,!0).minus(E),this.panHorizontal||(J.x=0),this.panVertical||(J.y=0),this.viewport.panBy(J,!0)),this.viewport.applyConstraints()),v.pinchRotate&&!ce.preventDefaultRotateAction)){var pe=Math.atan2(g.gesturePoints[0].currentPos.y-g.gesturePoints[1].currentPos.y,g.gesturePoints[0].currentPos.x-g.gesturePoints[1].currentPos.x),Ze=Math.atan2(g.gesturePoints[0].lastPos.y-g.gesturePoints[1].lastPos.y,g.gesturePoints[0].lastPos.x-g.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(pe-Ze)*(180/Math.PI))}}function Ge(g){var v,E,H,J;(J=l.now())-this._lastScrollTime>this.minScrollDeltaTime?(this._lastScrollTime=J,this.raiseEvent("canvas-scroll",v={tracker:g.eventSource,position:g.position,scroll:g.scroll,shift:g.shift,originalEvent:g.originalEvent,preventDefaultAction:!1,preventDefault:!0}),!v.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(g.position.x=this.viewport.getContainerSize().x-g.position.x),(E=this.gestureSettingsByDeviceType(g.pointerType)).scrollToZoom&&(H=Math.pow(this.zoomPerScroll,g.scroll),this.viewport.zoomBy(H,E.zoomToRefPoint?this.viewport.pointFromPixel(g.position,!0):null),this.viewport.applyConstraints())),g.preventDefault=v.preventDefault):g.preventDefault=!0}function Oe(g){d[this.hash].mouseInside=!0,L(this),this.raiseEvent("container-enter",{tracker:g.eventSource,pointerType:g.pointerType,position:g.position,buttons:g.buttons,pointers:g.pointers,insideElementPressed:g.insideElementPressed,buttonDownAny:g.buttonDownAny,originalEvent:g.originalEvent})}function dt(g){g.pointers<1&&(d[this.hash].mouseInside=!1,d[this.hash].animating||T(this)),this.raiseEvent("container-exit",{tracker:g.eventSource,pointerType:g.pointerType,position:g.position,buttons:g.buttons,pointers:g.pointers,insideElementPressed:g.insideElementPressed,buttonDownAny:g.buttonDownAny,originalEvent:g.originalEvent})}function Ye(g){(function(g){if(!g._opening&&d[g.hash]){if(g.autoResize){var v=h(g.container),E=d[g.hash].prevContainerSize;if(!v.equals(E)){var H=g.viewport;if(g.preserveImageSizeOnResize){var J=E.x/v.x,ce=H.getZoom()*J,pe=H.getCenter();H.resize(v,!1),H.zoomTo(ce,null,!0),H.panTo(pe,!0)}else{var Ze=H.getBounds();H.resize(v,!0),H.fitBoundsWithConstraints(Ze,!0)}d[g.hash].prevContainerSize=v,d[g.hash].forceRedraw=!0}}var tt=g.viewport.update(),et=g.world.update()||tt;tt&&g.raiseEvent("viewport-change"),g.referenceStrip&&(et=g.referenceStrip.update(g.viewport)||et),!d[g.hash].animating&&et&&(g.raiseEvent("animation-start"),L(g)),(et||d[g.hash].forceRedraw||g.world.needsDraw())&&(function(g){g.imageLoader.clear(),g.drawer.clear(),g.world.draw(),g.raiseEvent("update-viewport",{})}(g),g._drawOverlays(),g.navigator&&g.navigator.update(g.viewport),d[g.hash].forceRedraw=!1,et&&g.raiseEvent("animation")),d[g.hash].animating&&!et&&(g.raiseEvent("animation-finish"),d[g.hash].mouseInside||T(g)),d[g.hash].animating=et}})(g),g._updateRequestId=!!g.isOpen()&&_(g,Ye)}function Ne(g,v){return g?g+v:v}function _n(){d[this.hash].lastZoomTime=l.now(),d[this.hash].zoomFactor=this.zoomPerSecond,d[this.hash].zooming=!0,gr(this)}function ri(){d[this.hash].lastZoomTime=l.now(),d[this.hash].zoomFactor=1/this.zoomPerSecond,d[this.hash].zooming=!0,gr(this)}function Yt(){d[this.hash].zooming=!1}function gr(g){l.requestAnimationFrame(l.delegate(g,Z))}function Z(){var g,E;d[this.hash].zooming&&this.viewport&&(g=l.now(),E=Math.pow(d[this.hash].zoomFactor,(g-d[this.hash].lastZoomTime)/1e3),this.viewport.zoomBy(E),this.viewport.applyConstraints(),d[this.hash].lastZoomTime=g,gr(this))}function V(){this.viewport&&(d[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Ee(){this.viewport&&(d[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function he(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Lt(){this.viewport&&this.viewport.goHome()}function rn(){this.isFullPage()&&!l.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function zt(){if(this.viewport){var g=this.viewport.getRotation();g=l.positiveModulo(this.viewport.flipped?g+this.rotationIncrement:g-this.rotationIncrement,360),this.viewport.setRotation(g)}}function pn(){if(this.viewport){var g=this.viewport.getRotation();g=l.positiveModulo(this.viewport.flipped?g-this.rotationIncrement:g+this.rotationIncrement,360),this.viewport.setRotation(g)}}function In(){this.viewport.toggleFlip()}l.Viewer=function(g){var H,J,v=arguments,E=this;if(l.isPlainObject(g)||(g={id:v[0],xmlPath:v.length>1?v[1]:void 0,prefixUrl:v.length>2?v[2]:void 0,controls:v.length>3?v[3]:void 0,overlays:v.length>4?v[4]:void 0}),g.config&&(l.extend(!0,g,g.config),delete g.config),l.extend(!0,this,{id:g.id,hash:g.hash||f++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},l.DEFAULT_SETTINGS,g),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==d[this.hash]&&l.console.warn("Hash "+this.hash+" has already been used."),d[this.hash]={fsBoundsDelta:new l.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=l.now(),l.EventSource.call(this),this.addHandler("open-failed",function(J){var ce=l.getString("Errors.OpenFailed",J.eventSource,J.message);E._showMessage(ce)}),l.ControlDock.call(this,g),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=l.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(J=this.canvas.style).width="100%",J.height="100%",J.overflow="hidden",J.position="absolute",J.top="0px",J.left="0px",l.setElementTouchActionNone(this.canvas),""!==g.tabIndex&&(this.canvas.tabIndex=void 0===g.tabIndex?0:g.tabIndex),this.container.className="openseadragon-container",function(J){J.width="100%",J.height="100%",J.position="relative",J.overflow="hidden",J.left="0px",J.top="0px",J.textAlign="left"}(this.container.style),l.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new l.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:l.delegate(this,F),keyDownHandler:l.delegate(this,B),keyHandler:l.delegate(this,m),clickHandler:l.delegate(this,C),dblClickHandler:l.delegate(this,D),dragHandler:l.delegate(this,P),dragEndHandler:l.delegate(this,U),enterHandler:l.delegate(this,R),leaveHandler:l.delegate(this,oe),pressHandler:l.delegate(this,X),releaseHandler:l.delegate(this,le),nonPrimaryPressHandler:l.delegate(this,ye),nonPrimaryReleaseHandler:l.delegate(this,_e),scrollHandler:l.delegate(this,Ge),pinchHandler:l.delegate(this,He)}),this.outerTracker=new l.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:l.delegate(this,Oe),leaveHandler:l.delegate(this,dt)}),this.toolbar&&(this.toolbar=new l.ControlDock({element:this.toolbar})),this.bindStandardControls(),d[this.hash].prevContainerSize=h(this.container),this.world=new l.World({viewer:this}),this.world.addHandler("add-item",function(J){E.source=E.world.getItemAt(0).source,d[E.hash].forceRedraw=!0,E._updateRequestId||(E._updateRequestId=_(E,Ye))}),this.world.addHandler("remove-item",function(J){E.source=E.world.getItemCount()?E.world.getItemAt(0).source:null,d[E.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(J){E.viewport&&E.viewport._setContentBounds(E.world.getHomeBounds(),E.world.getContentFactor())}),this.world.addHandler("item-index-change",function(J){E.source=E.world.getItemAt(0).source}),this.viewport=new l.Viewport({containerSize:d[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new l.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:g.timeout}),this.tileCache=new l.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new l.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=l.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(H=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(H,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(H=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(H,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new l.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),H=0;H<this.customControls.length;H++)this.addControl(this.customControls[H].id,{anchor:this.customControls[H].anchor});l.requestAnimationFrame(function(){T(E)}),void 0!==this.imageSmoothingEnabled&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),l._viewers.set(this.element,this)},l.extend(l.Viewer.prototype,l.EventSource.prototype,l.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(g){return l.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(g)},openTileSource:function(g){return l.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(g)},open:function(g,v){var E=this;if(this.close(),!g)return this;if(this.sequenceMode&&l.isArray(g))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0!==v&&!isNaN(v)&&(this.initialPage=v),this.tileSources=g,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(l.isArray(g)||(g=[g]),!g.length)return this;this._opening=!0;for(var pe,H=g.length,J=0,ce=0,Ze=function(){if(J+ce===H)if(J){(E._firstOpen||!E.preserveViewport)&&(E.viewport.goHome(!0),E.viewport.update()),E._firstOpen=!1;var Qe=g[0];if(Qe.tileSource&&(Qe=Qe.tileSource),E.overlays&&!E.preserveOverlays)for(var bt=0;bt<E.overlays.length;bt++)E.currentOverlays[bt]=b(E,E.overlays[bt]);E._drawOverlays(),E._opening=!1,E.raiseEvent("open",{source:Qe})}else E._opening=!1,E.raiseEvent("open-failed",pe)},tt=function(Qe){(!l.isPlainObject(Qe)||!Qe.tileSource)&&(Qe={tileSource:Qe}),void 0!==Qe.index&&(l.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Qe.index),void 0===Qe.collectionImmediately&&(Qe.collectionImmediately=!0);var bt=Qe.success;Qe.success=function(Rn){if(J++,Qe.tileSource.overlays)for(var Hi=0;Hi<Qe.tileSource.overlays.length;Hi++)E.addOverlay(Qe.tileSource.overlays[Hi]);bt&&bt(Rn),Ze()};var kt=Qe.error;Qe.error=function(Rn){ce++,pe||(pe=Rn),kt&&kt(Rn),Ze()},E.addTiledImage(Qe)},et=0;et<g.length;et++)tt(g[et]);return this},close:function(){return d[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),d[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(d[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(l.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),d[this.navigator.hash]=null,delete d[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),d[this.hash]=null,delete d[this.hash],this.canvas=null,this.container=null,l._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(g){return this.innerTracker.setTracking(g),this.outerTracker.setTracking(g),this.raiseEvent("mouse-enabled",{enabled:g}),this},areControlsEnabled:function(){var v,g=this.controls.length;for(v=0;v<this.controls.length;v++)g=g&&this.controls[v].isVisible();return g},setControlsEnabled:function(g){return g?L(this):T(this),this.raiseEvent("controls-enabled",{enabled:g}),this},setDebugMode:function(g){for(var v=0;v<this.world.getItemCount();v++)this.world.getItemAt(v).debugMode=g;this.debugMode=g,this.forceRedraw()},isFullPage:function(){return d[this.hash].fullPage},setFullPage:function(g){var ce,pe,v=document.body,E=v.style,H=document.documentElement.style,J=this;if(g===this.isFullPage())return this;var Ze={fullPage:g,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Ze),Ze.preventDefaultAction)return this;if(g){for(this.elementSize=l.getElementSize(this.element),this.pageScroll=l.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=E.margin,this.docMargin=H.margin,E.margin="0",H.margin="0",this.bodyPadding=E.padding,this.docPadding=H.padding,E.padding="0",H.padding="0",this.bodyWidth=E.width,this.docWidth=H.width,E.width="100%",H.width="100%",this.bodyHeight=E.height,this.docHeight=H.height,E.height="100%",H.height="100%",this.bodyDisplay=E.display,E.display="block",this.previousBody=[],d[this.hash].prevElementParent=this.element.parentNode,d[this.hash].prevNextSibling=this.element.nextSibling,d[this.hash].prevElementWidth=this.element.style.width,d[this.hash].prevElementHeight=this.element.style.height,ce=v.childNodes.length,pe=0;pe<ce;pe++)this.previousBody.push(v.childNodes[0]),v.removeChild(v.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,v.appendChild(this.toolbar.element),l.addClass(this.toolbar.element,"fullpage")),l.addClass(this.element,"fullpage"),v.appendChild(this.element),this.element.style.height=l.getWindowSize().y+"px",this.element.style.width=l.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=l.getElementSize(this.element).y-l.getElementSize(this.toolbar.element).y+"px"),d[this.hash].fullPage=!0,l.delegate(this,Oe)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,E.margin=this.bodyMargin,H.margin=this.docMargin,E.padding=this.bodyPadding,H.padding=this.docPadding,E.width=this.bodyWidth,H.width=this.docWidth,E.height=this.bodyHeight,H.height=this.docHeight,E.display=this.bodyDisplay,v.removeChild(this.element),ce=this.previousBody.length,pe=0;pe<ce;pe++)v.appendChild(this.previousBody.shift());l.removeClass(this.element,"fullpage"),d[this.hash].prevElementParent.insertBefore(this.element,d[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(v.removeChild(this.toolbar.element),l.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=d[this.hash].prevElementWidth,this.element.style.height=d[this.hash].prevElementHeight;var tt=0,et=function(){l.setPageScroll(J.pageScroll);var Qe=l.getPageScroll();++tt<10&&(Qe.x!==J.pageScroll.x||Qe.y!==J.pageScroll.y)&&l.requestAnimationFrame(et)};l.requestAnimationFrame(et),d[this.hash].fullPage=!1,l.delegate(this,dt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:g}),this},setFullScreen:function(g){var v=this;if(!l.supportsFullScreen)return this.setFullPage(g);if(l.isFullScreen()===g)return this;var E={fullScreen:g,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",E),E.preventDefaultAction)return this;if(g){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var H=function(){var J=l.isFullScreen();J||(l.removeEvent(document,l.fullScreenEventName,H),l.removeEvent(document,l.fullScreenErrorEventName,H),v.setFullPage(!1),v.isFullPage()&&(v.element.style.width=v.fullPageStyleWidth,v.element.style.height=v.fullPageStyleHeight)),v.navigator&&v.viewport&&setTimeout(function(){v.navigator.update(v.viewport)}),v.raiseEvent("full-screen",{fullScreen:J})};l.addEvent(document,l.fullScreenEventName,H),l.addEvent(document,l.fullScreenErrorEventName,H),l.requestFullScreen(document.body)}else l.exitFullScreen();return this},isVisible:function(){return"hidden"!==this.container.style.visibility},setVisible:function(g){return this.container.style.visibility=g?"":"hidden",this.raiseEvent("visible",{visible:g}),this},addTiledImage:function(g){l.console.assert(g,"[Viewer.addTiledImage] options is required"),l.console.assert(g.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),l.console.assert(!g.replace||g.index>-1&&g.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var v=this;g.replace&&(g.replaceItem=v.world.getItemAt(g.index)),this._hideMessage(),void 0===g.placeholderFillStyle&&(g.placeholderFillStyle=this.placeholderFillStyle),void 0===g.opacity&&(g.opacity=this.opacity),void 0===g.preload&&(g.preload=this.preload),void 0===g.compositeOperation&&(g.compositeOperation=this.compositeOperation),void 0===g.crossOriginPolicy&&(g.crossOriginPolicy=void 0!==g.tileSource.crossOriginPolicy?g.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===g.ajaxWithCredentials&&(g.ajaxWithCredentials=this.ajaxWithCredentials),void 0===g.loadTilesWithAjax&&(g.loadTilesWithAjax=this.loadTilesWithAjax),null==g.ajaxHeaders?g.ajaxHeaders=this.ajaxHeaders:l.isPlainObject(g.ajaxHeaders)&&l.isPlainObject(this.ajaxHeaders)&&(g.ajaxHeaders=l.extend({},this.ajaxHeaders,g.ajaxHeaders));var E={options:g};function H(pe){for(var Ze=0;Ze<v._loadQueue.length;Ze++)if(v._loadQueue[Ze]===E){v._loadQueue.splice(Ze,1);break}0===v._loadQueue.length&&J(E),v.raiseEvent("add-item-failed",pe),g.error&&g.error(pe)}function J(pe){v.collectionMode&&(v.world.arrange({immediately:pe.options.collectionImmediately,rows:v.collectionRows,columns:v.collectionColumns,layout:v.collectionLayout,tileSize:v.collectionTileSize,tileMargin:v.collectionTileMargin}),v.world.setAutoRefigureSizes(!0))}function ce(){for(var pe,Ze,tt;v._loadQueue.length&&(pe=v._loadQueue[0]).tileSource;){if(v._loadQueue.splice(0,1),pe.options.replace){var et=v.world.getIndexOfItem(pe.options.replaceItem);-1!==et&&(pe.options.index=et),v.world.removeItem(pe.options.replaceItem)}Ze=new l.TiledImage({viewer:v,source:pe.tileSource,viewport:v.viewport,drawer:v.drawer,tileCache:v.tileCache,imageLoader:v.imageLoader,x:pe.options.x,y:pe.options.y,width:pe.options.width,height:pe.options.height,fitBounds:pe.options.fitBounds,fitBoundsPlacement:pe.options.fitBoundsPlacement,clip:pe.options.clip,placeholderFillStyle:pe.options.placeholderFillStyle,opacity:pe.options.opacity,preload:pe.options.preload,degrees:pe.options.degrees,flipped:pe.options.flipped,compositeOperation:pe.options.compositeOperation,springStiffness:v.springStiffness,animationTime:v.animationTime,minZoomImageRatio:v.minZoomImageRatio,wrapHorizontal:v.wrapHorizontal,wrapVertical:v.wrapVertical,immediateRender:v.immediateRender,blendTime:v.blendTime,alwaysBlend:v.alwaysBlend,minPixelRatio:v.minPixelRatio,smoothTileEdgesMinZoom:v.smoothTileEdgesMinZoom,iOSDevice:v.iOSDevice,crossOriginPolicy:pe.options.crossOriginPolicy,ajaxWithCredentials:pe.options.ajaxWithCredentials,loadTilesWithAjax:pe.options.loadTilesWithAjax,ajaxHeaders:pe.options.ajaxHeaders,debugMode:v.debugMode}),v.collectionMode&&v.world.setAutoRefigureSizes(!1),v.navigator&&(tt=l.extend({},pe.options,{replace:!1,originalTiledImage:Ze,tileSource:pe.tileSource}),v.navigator.addTiledImage(tt)),v.world.addItem(Ze,{index:pe.options.index}),0===v._loadQueue.length&&J(pe),1===v.world.getItemCount()&&!v.preserveViewport&&v.viewport.goHome(!0),pe.options.success&&pe.options.success({item:Ze})}}l.isArray(g.tileSource)?setTimeout(function(){H({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:g.tileSource,options:g})}):(this._loadQueue.push(E),function(g,v,E,H,J){var ce=g;if("string"===l.type(v))if(v.match(/^\s*<.*>\s*$/))v=l.parseXml(v);else if(v.match(/^\s*[{[].*[}\]]\s*$/))try{var pe=l.parseJSON(v);v=pe}catch(tt){}function Ze(tt,et){tt.ready?H(tt):(tt.addHandler("ready",function(){H(tt)}),tt.addHandler("open-failed",function(Qe){J({message:Qe.message,source:et})}))}setTimeout(function(){if("string"===l.type(v))(v=new l.TileSource({url:v,crossOriginPolicy:void 0!==E.crossOriginPolicy?E.crossOriginPolicy:g.crossOriginPolicy,ajaxWithCredentials:g.ajaxWithCredentials,ajaxHeaders:E.ajaxHeaders?E.ajaxHeaders:g.ajaxHeaders,useCanvas:g.useCanvas,success:function(bt){H(bt.tileSource)}})).addHandler("open-failed",function(bt){J(bt)});else if(l.isPlainObject(v)||v.nodeType)if(void 0===v.crossOriginPolicy&&(void 0!==E.crossOriginPolicy||void 0!==g.crossOriginPolicy)&&(v.crossOriginPolicy=void 0!==E.crossOriginPolicy?E.crossOriginPolicy:g.crossOriginPolicy),void 0===v.ajaxWithCredentials&&(v.ajaxWithCredentials=g.ajaxWithCredentials),void 0===v.useCanvas&&(v.useCanvas=g.useCanvas),l.isFunction(v.getTileUrl)){var tt=new l.TileSource(v);tt.getTileUrl=v.getTileUrl,H(tt)}else{var et=l.TileSource.determineType(ce,v);if(!et)return void J({message:"Unable to load TileSource",source:v});var Qe=et.prototype.configure.apply(ce,[v]);Ze(new et(Qe),v)}else Ze(v,v)})}(this,g.tileSource,g,function(pe){E.tileSource=pe,ce()},function(pe){pe.options=g,H(pe),ce()}))},addSimpleImage:function(g){l.console.assert(g,"[Viewer.addSimpleImage] options is required"),l.console.assert(g.url,"[Viewer.addSimpleImage] options.url is required");var v=l.extend({},g,{tileSource:{type:"image",url:g.url}});delete v.url,this.addTiledImage(v)},addLayer:function(g){var v=this;l.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var E=l.extend({},g,{success:function(H){v.raiseEvent("add-layer",{options:g,drawer:H.item})},error:function(H){v.raiseEvent("add-layer-failed",H)}});return this.addTiledImage(E),this},getLayerAtLevel:function(g){return l.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(g)},getLevelOfLayer:function(g){return l.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(g)},getLayersCount:function(){return l.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(g,v){return l.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(g,v)},removeLayer:function(g){return l.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(g)},forceRedraw:function(){return d[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var g=l.delegate(this,z),v=l.delegate(this,te),E=l.delegate(this,this.goToNextPage),H=l.delegate(this,this.goToPreviousPage),J=this.navImages,ce=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(ce=!1),this.previousButton=new l.Button({element:this.previousButton?l.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.PreviousPage"),srcRest:Ne(this.prefixUrl,J.previous.REST),srcGroup:Ne(this.prefixUrl,J.previous.GROUP),srcHover:Ne(this.prefixUrl,J.previous.HOVER),srcDown:Ne(this.prefixUrl,J.previous.DOWN),onRelease:H,onFocus:g,onBlur:v}),this.nextButton=new l.Button({element:this.nextButton?l.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.NextPage"),srcRest:Ne(this.prefixUrl,J.next.REST),srcGroup:Ne(this.prefixUrl,J.next.GROUP),srcHover:Ne(this.prefixUrl,J.next.HOVER),srcDown:Ne(this.prefixUrl,J.next.DOWN),onRelease:E,onFocus:g,onBlur:v}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),ce&&(this.paging=new l.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:l.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||l.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var g=l.delegate(this,_n),v=l.delegate(this,Yt),E=l.delegate(this,V),H=l.delegate(this,ri),J=l.delegate(this,Ee),ce=l.delegate(this,Lt),pe=l.delegate(this,rn),Ze=l.delegate(this,zt),tt=l.delegate(this,pn),et=l.delegate(this,In),Qe=l.delegate(this,z),bt=l.delegate(this,te),kt=this.navImages,Rn=[],Hi=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Hi=!1),this.showZoomControl&&(Rn.push(this.zoomInButton=new l.Button({element:this.zoomInButton?l.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.ZoomIn"),srcRest:Ne(this.prefixUrl,kt.zoomIn.REST),srcGroup:Ne(this.prefixUrl,kt.zoomIn.GROUP),srcHover:Ne(this.prefixUrl,kt.zoomIn.HOVER),srcDown:Ne(this.prefixUrl,kt.zoomIn.DOWN),onPress:g,onRelease:v,onClick:E,onEnter:g,onExit:v,onFocus:Qe,onBlur:bt})),Rn.push(this.zoomOutButton=new l.Button({element:this.zoomOutButton?l.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.ZoomOut"),srcRest:Ne(this.prefixUrl,kt.zoomOut.REST),srcGroup:Ne(this.prefixUrl,kt.zoomOut.GROUP),srcHover:Ne(this.prefixUrl,kt.zoomOut.HOVER),srcDown:Ne(this.prefixUrl,kt.zoomOut.DOWN),onPress:H,onRelease:v,onClick:J,onEnter:H,onExit:v,onFocus:Qe,onBlur:bt}))),this.showHomeControl&&Rn.push(this.homeButton=new l.Button({element:this.homeButton?l.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.Home"),srcRest:Ne(this.prefixUrl,kt.home.REST),srcGroup:Ne(this.prefixUrl,kt.home.GROUP),srcHover:Ne(this.prefixUrl,kt.home.HOVER),srcDown:Ne(this.prefixUrl,kt.home.DOWN),onRelease:ce,onFocus:Qe,onBlur:bt})),this.showFullPageControl&&Rn.push(this.fullPageButton=new l.Button({element:this.fullPageButton?l.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.FullPage"),srcRest:Ne(this.prefixUrl,kt.fullpage.REST),srcGroup:Ne(this.prefixUrl,kt.fullpage.GROUP),srcHover:Ne(this.prefixUrl,kt.fullpage.HOVER),srcDown:Ne(this.prefixUrl,kt.fullpage.DOWN),onRelease:pe,onFocus:Qe,onBlur:bt})),this.showRotationControl&&(Rn.push(this.rotateLeftButton=new l.Button({element:this.rotateLeftButton?l.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.RotateLeft"),srcRest:Ne(this.prefixUrl,kt.rotateleft.REST),srcGroup:Ne(this.prefixUrl,kt.rotateleft.GROUP),srcHover:Ne(this.prefixUrl,kt.rotateleft.HOVER),srcDown:Ne(this.prefixUrl,kt.rotateleft.DOWN),onRelease:Ze,onFocus:Qe,onBlur:bt})),Rn.push(this.rotateRightButton=new l.Button({element:this.rotateRightButton?l.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.RotateRight"),srcRest:Ne(this.prefixUrl,kt.rotateright.REST),srcGroup:Ne(this.prefixUrl,kt.rotateright.GROUP),srcHover:Ne(this.prefixUrl,kt.rotateright.HOVER),srcDown:Ne(this.prefixUrl,kt.rotateright.DOWN),onRelease:tt,onFocus:Qe,onBlur:bt}))),this.showFlipControl&&Rn.push(this.flipButton=new l.Button({element:this.flipButton?l.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:l.getString("Tooltips.Flip"),srcRest:Ne(this.prefixUrl,kt.flip.REST),srcGroup:Ne(this.prefixUrl,kt.flip.GROUP),srcHover:Ne(this.prefixUrl,kt.flip.HOVER),srcDown:Ne(this.prefixUrl,kt.flip.DOWN),onRelease:et,onFocus:Qe,onBlur:bt})),Hi?(this.buttonGroup=new l.ButtonGroup({buttons:Rn,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",l.delegate(this,he)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||l.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||l.ControlAnchor.TOP_LEFT})):this.customButtons=Rn),this},currentPage:function(){return this._sequenceIndex},goToPage:function(g){return this.tileSources&&g>=0&&g<this.tileSources.length&&(this._sequenceIndex=g,this._updateSequenceButtons(g),this.open(this.tileSources[g]),this.referenceStrip&&this.referenceStrip.setFocus(g),this.raiseEvent("page",{page:g})),this},addOverlay:function(g,v,E,H){var J;if(J=l.isPlainObject(g)?g:{element:g,location:v,placement:E,onDraw:H},g=l.getElement(J.element),y(this.currentOverlays,g)>=0)return this;var ce=b(this,J);return this.currentOverlays.push(ce),ce.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:g,location:J.location,placement:J.placement}),this},updateOverlay:function(g,v,E){var H;return g=l.getElement(g),(H=y(this.currentOverlays,g))>=0&&(this.currentOverlays[H].update(v,E),d[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:g,location:v,placement:E})),this},removeOverlay:function(g){var v;return g=l.getElement(g),(v=y(this.currentOverlays,g))>=0&&(this.currentOverlays[v].destroy(),this.currentOverlays.splice(v,1),d[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:g})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return d[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(g){var v;return g=l.getElement(g),(v=y(this.currentOverlays,g))>=0?this.currentOverlays[v]:null},_updateSequenceButtons:function(g){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==g?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(g>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(g){this._hideMessage();var v=l.makeNeutralElement("div");v.appendChild(document.createTextNode(g)),this.messageDiv=l.makeCenteredNode(v),l.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var g=this.messageDiv;g&&(g.parentNode.removeChild(g),delete this.messageDiv)},gestureSettingsByDeviceType:function(g){switch(g){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var g,v=this.currentOverlays.length;for(g=0;g<v;g++)this.currentOverlays[g].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new l.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else l.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),l.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){l.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var g=l.pixelDensityRatio,v=l.getCurrentPixelDensityRatio();g!==v&&(l.pixelDensityRatio=v,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var g=this._sequenceIndex-1;this.navPrevNextWrap&&g<0&&(g+=this.tileSources.length),this.goToPage(g)},goToNextPage:function(){var g=this._sequenceIndex+1;this.navPrevNextWrap&&g>=this.tileSources.length&&(g=0),this.goToPage(g)}})}(q),function(l){function d(_){var M={tracker:_.eventSource,position:_.position,quick:_.quick,shift:_.shift,originalEvent:_.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",M),!M.preventDefaultAction&&_.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(_.position.x=this.viewport.getContainerSize().x-_.position.x);var T=this.viewport.pointFromPixel(_.position);this.panVertical?this.panHorizontal||(T.x=this.viewer.viewport.getCenter(!0).x):T.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(T),this.viewer.viewport.applyConstraints()}}function f(_){var M={tracker:_.eventSource,position:_.position,delta:_.delta,speed:_.speed,direction:_.direction,shift:_.shift,originalEvent:_.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",M),!M.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(_.delta.x=0),this.panVertical||(_.delta.y=0),this.viewer.viewport.flipped&&(_.delta.x=-_.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(_.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function h(_){_.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function w(_){var M={tracker:_.eventSource,position:_.position,scroll:_.scroll,shift:_.shift,originalEvent:_.originalEvent,preventDefault:_.preventDefault};this.viewer.raiseEvent("navigator-scroll",M),_.preventDefault=M.preventDefault}function b(_,M){y(_,"rotate("+M+"deg)")}function y(_,M){_.style.webkitTransform=M,_.style.mozTransform=M,_.style.msTransform=M,_.style.oTransform=M,_.style.transform=M}l.Navigator=function(_){var S,L,F,B,M=_.viewer,T=this;function z(F){b(T.displayRegionContainer,F),b(T.displayRegion,-F),T.viewport.setRotation(F)}_.id?(this.element=document.getElementById(_.id),_.controlOptions={anchor:l.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(_.id="navigator-"+l.now(),this.element=l.makeNeutralElement("div"),_.controlOptions={anchor:l.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:_.autoFade},_.position&&("BOTTOM_RIGHT"===_.position?_.controlOptions.anchor=l.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"===_.position?_.controlOptions.anchor=l.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"===_.position?_.controlOptions.anchor=l.ControlAnchor.TOP_RIGHT:"TOP_LEFT"===_.position?_.controlOptions.anchor=l.ControlAnchor.TOP_LEFT:"ABSOLUTE"===_.position&&(_.controlOptions.anchor=l.ControlAnchor.ABSOLUTE,_.controlOptions.top=_.top,_.controlOptions.left=_.left,_.controlOptions.height=_.height,_.controlOptions.width=_.width))),this.element.id=_.id,this.element.className+=" navigator",(_=l.extend(!0,{sizeRatio:l.DEFAULT_SETTINGS.navigatorSizeRatio},_,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:_.autoResize,minZoomImageRatio:1,background:_.background,opacity:_.opacity,borderColor:_.borderColor,displayRegionColor:_.displayRegionColor})).minPixelRatio=this.minPixelRatio=M.minPixelRatio,l.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new l.Point(1,1),this.totalBorderWidths=new l.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),_.controlOptions.anchor!==l.ControlAnchor.NONE&&(B=this.borderWidth,(F=this.element.style).margin="0px",F.border=B+"px solid "+_.borderColor,F.padding="0px",F.background=_.background,F.opacity=_.opacity,F.overflow="hidden"),this.displayRegion=l.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(F,B){F.position="relative",F.top="0px",F.left="0px",F.fontSize="0px",F.overflow="hidden",F.border=B+"px solid "+_.displayRegionColor,F.margin="0px",F.padding="0px",F.background="transparent",F.float="left",F.cssFloat="left",F.styleFloat="left",F.zIndex=999999999,F.cursor="default"}(this.displayRegion.style,this.borderWidth),l.setElementPointerEventsNone(this.displayRegion),l.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=l.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",l.setElementPointerEventsNone(this.displayRegionContainer),l.setElementTouchActionNone(this.displayRegionContainer),M.addControl(this.element,_.controlOptions),this._resizeWithViewer=_.controlOptions.anchor!==l.ControlAnchor.ABSOLUTE&&_.controlOptions.anchor!==l.ControlAnchor.NONE,_.width&&_.height?(this.setWidth(_.width),this.setHeight(_.height)):this._resizeWithViewer&&(S=l.getElementSize(M.element),this.element.style.height=Math.round(S.y*_.sizeRatio)+"px",this.element.style.width=Math.round(S.x*_.sizeRatio)+"px",this.oldViewerSize=S,L=l.getElementSize(this.element),this.elementArea=L.x*L.y),this.oldContainerSize=new l.Point(0,0),l.Viewer.apply(this,[_]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),_.navigatorRotate&&(z(_.viewer.viewport?_.viewer.viewport.getRotation():_.viewer.degrees||0),_.viewer.addHandler("rotate",function(F){z(F.degrees)})),this.innerTracker.destroy(),this.innerTracker=new l.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:l.delegate(this,f),clickHandler:l.delegate(this,d),releaseHandler:l.delegate(this,h),scrollHandler:l.delegate(this,w),preProcessEventHandler:function(F){"wheel"===F.eventType&&(F.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",l.setElementPointerEventsNone(this.canvas),l.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){T.viewport&&T.viewport.goHome(!0)}),M.world.addHandler("item-index-change",function(F){window.setTimeout(function(){var B=T.world.getItemAt(F.previousIndex);T.world.setItemIndex(B,F.newIndex)},1)}),M.world.addHandler("remove-item",function(F){var m=T._getMatchingItem(F.item);m&&T.world.removeItem(m)}),this.update(M.viewport)},l.extend(l.Navigator.prototype,l.EventSource.prototype,l.Viewer.prototype,{updateSize:function(){if(this.viewport){var _=new l.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);_.equals(this.oldContainerSize)||(this.viewport.resize(_,!0),this.viewport.goHome(!0),this.oldContainerSize=_,this.drawer.clear(),this.world.draw())}},setWidth:function(_){this.width=_,this.element.style.width="number"==typeof _?_+"px":_,this._resizeWithViewer=!1},setHeight:function(_){this.height=_,this.element.style.height="number"==typeof _?_+"px":_,this._resizeWithViewer=!1},setFlip:function(_){return this.viewport.setFlip(_),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(_){y(this.displayRegion,_),y(this.canvas,_),y(this.element,_)},update:function(_){var M,T,S,L,z,te;if(M=l.getElementSize(this.viewer.element),this._resizeWithViewer&&M.x&&M.y&&!M.equals(this.oldViewerSize)&&(this.oldViewerSize=M,this.maintainSizeRatio||!this.elementArea?(T=M.x*this.sizeRatio,S=M.y*this.sizeRatio):(T=Math.sqrt(this.elementArea*(M.x/M.y)),S=this.elementArea/T),this.element.style.width=Math.round(T)+"px",this.element.style.height=Math.round(S)+"px",this.elementArea||(this.elementArea=T*S),this.updateSize()),_&&this.viewport){L=_.getBoundsNoRotate(!0),z=this.viewport.pixelFromPointNoRotate(L.getTopLeft(),!1),te=this.viewport.pixelFromPointNoRotate(L.getBottomRight(),!1).minus(this.totalBorderWidths);var F=this.displayRegion.style;F.display=this.world.getItemCount()?"block":"none",F.top=Math.round(z.y)+"px",F.left=Math.round(z.x)+"px";var B=Math.abs(z.x-te.x),m=Math.abs(z.y-te.y);F.width=Math.round(Math.max(B,0))+"px",F.height=Math.round(Math.max(m,0))+"px"}},addTiledImage:function(_){var M=this,T=_.originalTiledImage;delete _.original;var S=l.extend({},_,{success:function(L){var z=L.item;function te(){M._matchBounds(z,T)}z._originalForNavigator=T,M._matchBounds(z,T,!0),M._matchOpacity(z,T),M._matchCompositeOperation(z,T),T.addHandler("bounds-change",te),T.addHandler("clip-change",te),T.addHandler("opacity-change",function(){M._matchOpacity(z,T)}),T.addHandler("composite-operation-change",function(){M._matchCompositeOperation(z,T)})}});return l.Viewer.prototype.addTiledImage.apply(this,[S])},destroy:function(){return l.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(_){for(var T,M=this.world.getItemCount(),S=0;S<M;S++)if((T=this.world.getItemAt(S))._originalForNavigator===_)return T;return null},_matchBounds:function(_,M,T){var S=M.getBoundsNoRotate();_.setPosition(S.getTopLeft(),T),_.setWidth(S.width,T),_.setRotation(M.getRotation(),T),_.setClip(M.getClip()),_.setFlip(M.getFlip())},_matchOpacity:function(_,M){_.setOpacity(M.opacity)},_matchCompositeOperation:function(_,M){_.setCompositeOperation(M.compositeOperation)}})}(q),function(l){var d={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};l.extend(l,{getString:function(f){var _,h=f.split("."),w=null,b=arguments,y=d;for(_=0;_<h.length-1;_++)y=y[h[_]]||{};return"string"!=typeof(w=y[h[_]])&&(l.console.log("Untranslated source string:",f),w=""),w.replace(/\{\d+\}/g,function(M){var T=parseInt(M.match(/\d+/),10)+1;return T<b.length?b[T]:""})},setString:function(f,h){var y,w=f.split("."),b=d;for(y=0;y<w.length-1;y++)b[w[y]]||(b[w[y]]={}),b=b[w[y]];b[w[y]]=h}})}(q),function(l){l.Point=function(d,f){this.x="number"==typeof d?d:0,this.y="number"==typeof f?f:0},l.Point.prototype={clone:function(){return new l.Point(this.x,this.y)},plus:function(d){return new l.Point(this.x+d.x,this.y+d.y)},minus:function(d){return new l.Point(this.x-d.x,this.y-d.y)},times:function(d){return new l.Point(this.x*d,this.y*d)},divide:function(d){return new l.Point(this.x/d,this.y/d)},negate:function(){return new l.Point(-this.x,-this.y)},distanceTo:function(d){return Math.sqrt(Math.pow(this.x-d.x,2)+Math.pow(this.y-d.y,2))},squaredDistanceTo:function(d){return Math.pow(this.x-d.x,2)+Math.pow(this.y-d.y,2)},apply:function(d){return new l.Point(d(this.x),d(this.y))},equals:function(d){return d instanceof l.Point&&this.x===d.x&&this.y===d.y},rotate:function(d,f){var h,w;if(f=f||new l.Point(0,0),d%90==0)switch(l.positiveModulo(d,360)){case 0:h=1,w=0;break;case 90:h=0,w=1;break;case 180:h=-1,w=0;break;case 270:h=0,w=-1}else{var y=d*Math.PI/180;h=Math.cos(y),w=Math.sin(y)}return new l.Point(h*(this.x-f.x)-w*(this.y-f.y)+f.x,w*(this.x-f.x)+h*(this.y-f.y)+f.y)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(q),function(l){l.TileSource=function(f,h,w,b,y,_){var S,L,M=this,T=arguments;if(S=l.isPlainObject(f)?f:{width:T[0],height:T[1],tileSize:T[2],tileOverlap:T[3],minLevel:T[4],maxLevel:T[5]},l.EventSource.call(this),l.extend(!0,this,S),!this.success)for(L=0;L<arguments.length;L++)if(l.isFunction(arguments[L])){this.success=arguments[L];break}this.success&&this.addHandler("ready",function(z){M.success(z)}),"string"===l.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new l.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=S.width&&S.height?S.width/S.height:1,this.dimensions=new l.Point(S.width,S.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=S.tileOverlap?S.tileOverlap:0,this.minLevel=S.minLevel?S.minLevel:0,this.maxLevel=null!=S.maxLevel?S.maxLevel:S.width&&S.height?Math.ceil(Math.log(Math.max(S.width,S.height))/Math.log(2)):0,this.success&&l.isFunction(this.success)&&this.success(this))},l.TileSource.prototype={getTileSize:function(f){return l.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(f){return this._tileWidth?this._tileWidth:this.getTileSize(f)},getTileHeight:function(f){return this._tileHeight?this._tileHeight:this.getTileSize(f)},setMaxLevel:function(f){this.maxLevel=f,this._memoizeLevelScale()},getLevelScale:function(f){return this._memoizeLevelScale(),this.getLevelScale(f)},_memoizeLevelScale:function(){var h,f={};for(h=0;h<=this.maxLevel;h++)f[h]=1/Math.pow(2,this.maxLevel-h);this.getLevelScale=function(w){return f[w]}},getNumTiles:function(f){var h=this.getLevelScale(f),w=Math.ceil(h*this.dimensions.x/this.getTileWidth(f)),b=Math.ceil(h*this.dimensions.y/this.getTileHeight(f));return new l.Point(w,b)},getPixelRatio:function(f){var h=this.dimensions.times(this.getLevelScale(f));return new l.Point(1/h.x*l.pixelDensityRatio,1/h.y*l.pixelDensityRatio)},getClosestLevel:function(){var f,h;for(f=this.minLevel+1;f<=this.maxLevel&&!((h=this.getNumTiles(f)).x>1||h.y>1);f++);return f-1},getTileAtPoint:function(f,h){l.console.assert(h.x>=0&&h.x<=1&&h.y>=0&&h.y<=1/this.aspectRatio,"[TileSource.getTileAtPoint] must be called with a valid point.");var b=this.dimensions.x*this.getLevelScale(f),_=h.y*b,M=Math.floor(h.x*b/this.getTileWidth(f)),T=Math.floor(_/this.getTileHeight(f));return h.x>=1&&(M=this.getNumTiles(f).x-1),h.y>=1/this.aspectRatio-1e-15&&(T=this.getNumTiles(f).y-1),new l.Point(M,T)},getTileBounds:function(f,h,w,b){var y=this.dimensions.times(this.getLevelScale(f)),_=this.getTileWidth(f),M=this.getTileHeight(f),T=0===h?0:_*h-this.tileOverlap,S=0===w?0:M*w-this.tileOverlap,L=_+(0===h?1:2)*this.tileOverlap,z=M+(0===w?1:2)*this.tileOverlap,te=1/y.x;return L=Math.min(L,y.x-T),z=Math.min(z,y.y-S),b?new l.Rect(0,0,L,z):new l.Rect(T*te,S*te,L*te,z*te)},getImageInfo:function(f){var w,b,y,_,M,T,S,h=this;f&&(S=(T=(M=f.split("/"))[M.length-1]).lastIndexOf("."))>-1&&(M[M.length-1]=T.slice(0,S)),b=function(L){"string"==typeof L&&(L=l.parseXml(L));var z=l.TileSource.determineType(h,L,f);z?(void 0===(_=z.prototype.configure.apply(h,[L,f])).ajaxWithCredentials&&(_.ajaxWithCredentials=h.ajaxWithCredentials),y=new z(_),h.ready=!0,h.raiseEvent("ready",{tileSource:y})):h.raiseEvent("open-failed",{message:"Unable to load TileSource",source:f})},f.match(/\.js$/)?(w=f.split("/").pop().replace(".js",""),l.jsonp({url:f,async:!1,callbackName:w,callback:b})):l.makeAjaxRequest({url:f,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(L){var z=function(f){var y,h=f.responseText,w=f.status;if(!f)throw new Error(l.getString("Errors.Security"));if(200!==f.status&&0!==f.status)throw w=f.status,new Error(l.getString("Errors.Status",w,404===w?"Not Found":f.statusText));if(h.match(/\s*<.*/))try{y=f.responseXML&&f.responseXML.documentElement?f.responseXML:l.parseXml(h)}catch(_){y=f.responseText}else if(h.match(/\s*[{[].*/))try{y=l.parseJSON(h)}catch(_){y=h}else y=h;return y}(L);b(z)},error:function(L,z){var te;try{te="HTTP "+L.status+" attempting to load TileSource"}catch(B){te=(void 0!==z&&z.toString?z.toString():"Unknown error")+" attempting to load TileSource"}h.raiseEvent("open-failed",{message:te,source:f})}})},supports:function(f,h){return!1},configure:function(f,h){throw new Error("Method not implemented.")},getTileUrl:function(f,h,w){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(f,h,w){return{}},tileExists:function(f,h,w){var b=this.getNumTiles(f);return f>=this.minLevel&&f<=this.maxLevel&&h>=0&&w>=0&&h<b.x&&w<b.y}},l.extend(!0,l.TileSource.prototype,l.EventSource.prototype),l.TileSource.determineType=function(f,h,w){var b;for(b in q)if(b.match(/.+TileSource$/)&&l.isFunction(q[b])&&l.isFunction(q[b].prototype.supports)&&q[b].prototype.supports.call(f,h,w))return q[b];return l.console.error("No TileSource was able to open %s %s",w,h),null}}(q),function(l){function f(h,w){var B,m,b=w.Image,y=b.Url,_=b.Format,M=b.Size,T=b.DisplayRect||[],S=parseInt(M.Width,10),L=parseInt(M.Height,10),z=parseInt(b.TileSize,10),te=parseInt(b.Overlap,10),F=[];for(m=0;m<T.length;m++)B=T[m].Rect,F.push(new l.DisplayRect(parseInt(B.X,10),parseInt(B.Y,10),parseInt(B.Width,10),parseInt(B.Height,10),parseInt(B.MinLevel,10),parseInt(B.MaxLevel,10)));return l.extend(!0,{width:S,height:L,tileSize:z,tileOverlap:te,minLevel:null,maxLevel:null,tilesUrl:y,fileFormat:_,displayRects:F},w)}l.DziTileSource=function(h,w,b,y,_,M,T,S,L){var z,te,F,B;if(B=l.isPlainObject(h)?h:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=B.tilesUrl,this.fileFormat=B.fileFormat,this.displayRects=B.displayRects,this.displayRects)for(z=this.displayRects.length-1;z>=0;z--)for(F=(te=this.displayRects[z]).minLevel;F<=te.maxLevel;F++)this._levelRects[F]||(this._levelRects[F]=[]),this._levelRects[F].push(te);l.TileSource.apply(this,[B])},l.extend(l.DziTileSource.prototype,l.TileSource.prototype,{supports:function(h,w){var b;return h.Image?b=h.Image.xmlns:h.documentElement&&("Image"===h.documentElement.localName||"Image"===h.documentElement.tagName)&&(b=h.documentElement.namespaceURI),-1!==(b=(b||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==b.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(h,w){var b;return b=l.isPlainObject(h)?f(0,h):function(h,w){if(!w||!w.documentElement)throw new Error(l.getString("Errors.Xml"));var S,L,z,te,F,b=w.documentElement,y=b.localName||b.tagName,_=w.documentElement.namespaceURI,M=null,T=[];if("Image"===y)try{if(void 0===(te=b.getElementsByTagName("Size")[0])&&(te=b.getElementsByTagNameNS(_,"Size")[0]),M={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:b.getAttribute("Url"),Format:b.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(b.getAttribute("Overlap"),10),TileSize:parseInt(b.getAttribute("TileSize"),10),Size:{Height:parseInt(te.getAttribute("Height"),10),Width:parseInt(te.getAttribute("Width"),10)}}},!l.imageFormatSupported(M.Image.Format))throw new Error(l.getString("Errors.ImageFormat",M.Image.Format.toUpperCase()));for(void 0===(S=b.getElementsByTagName("DisplayRect"))&&(S=b.getElementsByTagNameNS(_,"DisplayRect")[0]),F=0;F<S.length;F++)void 0===(z=(L=S[F]).getElementsByTagName("Rect")[0])&&(z=L.getElementsByTagNameNS(_,"Rect")[0]),T.push({Rect:{X:parseInt(z.getAttribute("X"),10),Y:parseInt(z.getAttribute("Y"),10),Width:parseInt(z.getAttribute("Width"),10),Height:parseInt(z.getAttribute("Height"),10),MinLevel:parseInt(L.getAttribute("MinLevel"),10),MaxLevel:parseInt(L.getAttribute("MaxLevel"),10)}});return T.length&&(M.Image.DisplayRect=T),f(0,M)}catch(C){throw C instanceof Error?C:new Error(l.getString("Errors.Dzi"))}else{if("Collection"===y)throw new Error(l.getString("Errors.Dzc"));if("Error"===y){var B=b.getElementsByTagName("Message")[0];throw new Error(B.firstChild.nodeValue)}}throw new Error(l.getString("Errors.Dzi"))}(0,h),w&&!b.tilesUrl&&(b.tilesUrl=w.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),b.queryParams=-1!==w.search(/\.(dzi|xml|js)\?/)?w.match(/\?.*/):""),b},getTileUrl:function(h,w,b){return[this.tilesUrl,h,"/",w,"_",b,".",this.fileFormat,this.queryParams].join("")},tileExists:function(h,w,b){var _,M,T,S,L,z,te,y=this._levelRects[h];if(this.minLevel&&h<this.minLevel||this.maxLevel&&h>this.maxLevel)return!1;if(!y||!y.length)return!0;for(te=y.length-1;te>=0;te--)if(!(h<(_=y[te]).minLevel||h>_.maxLevel)&&(M=this.getLevelScale(h),L=(T=_.x*M)+_.width*M,z=(S=_.y*M)+_.height*M,T=Math.floor(T/this._tileWidth),S=Math.floor(S/this._tileWidth),L=Math.ceil(L/this._tileWidth),z=Math.ceil(z/this._tileWidth),T<=w&&w<L&&S<=b&&b<z))return!0;return!1}})}(q),function(l){function d(b){var _=Array.isArray(b.profile)?b.profile[0]:b.profile,M=-1!==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"].indexOf(_),T=!1;return 2===b.version&&b.profile.length>1&&b.profile[1].supports&&(T=-1!==b.profile[1].supports.indexOf("sizeByW")),3===b.version&&b.extraFeatures&&(T=-1!==b.extraFeatures.indexOf("sizeByWh")),!M||T}function f(b){for(var y=[],_=0;_<b.sizes.length;_++)y.push({url:b["@id"]+"/full/"+b.sizes[_].width+","+(3===b.version?b.sizes[_].height:"")+"/0/default."+b.tileFormat,width:b.sizes[_].width,height:b.sizes[_].height});return y.sort(function(M,T){return M.width-T.width})}function w(b,y,_){var M,T;if(3===b.nodeType&&_)(T=b.nodeValue.trim()).match(/^\d*$/)&&(T=Number(T)),y[_]?(l.isArray(y[_])||(y[_]=[y[_]]),y[_].push(T)):y[_]=T;else if(1===b.nodeType)for(M=0;M<b.childNodes.length;M++)w(b.childNodes[M],y,b.nodeName)}l.IIIFTileSource=function(b){if(l.extend(!0,this,b),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(b.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=b.version,this.tile_width&&this.tile_height)b.tileWidth=this.tile_width,b.tileHeight=this.tile_height;else if(this.tile_width)b.tileSize=this.tile_width;else if(this.tile_height)b.tileSize=this.tile_height;else if(this.tiles)if(1===this.tiles.length)b.tileWidth=this.tiles[0].width,b.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var y=0;y<this.tiles.length;y++)for(var _=0;_<this.tiles[y].scaleFactors.length;_++){var M=this.tiles[y].scaleFactors[_];this.scale_factors.push(M),b.tileSizePerScaleFactor[M]={width:this.tiles[y].width,height:this.tiles[y].height||this.tiles[y].width}}}else if(d(b)){for(var T=Math.min(this.height,this.width),S=[256,512,1024],L=[],z=0;z<S.length;z++)S[z]<=T&&L.push(S[z]);b.tileSize=L.length>0?Math.max.apply(null,L):T}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,b.levels=f(this),l.extend(!0,b,{width:b.levels[b.levels.length-1].width,height:b.levels[b.levels.length-1].height,tileSize:Math.max(b.height,b.width),tileOverlap:0,minLevel:0,maxLevel:b.levels.length-1}),this.levels=b.levels):l.console.error("Nothing in the info.json to construct image pyramids from");if(!b.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var te=Math.max.apply(null,this.scale_factors);b.maxLevel=Math.round(Math.log(te)*Math.LOG2E)}else b.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));l.TileSource.apply(this,[b])},l.extend(l.IIIFTileSource.prototype,l.TileSource.prototype,{supports:function(b,y){return!!(b.protocol&&"http://iiif.io/api/image"===b.protocol||b["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"===b["@context"]||"http://iiif.io/api/image/1/context.json"===b["@context"])||b.profile&&0===b.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||b.identifier&&b.width&&b.height)||!(!b.documentElement||"info"!==b.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!==b.documentElement.namespaceURI)},configure:function(b,y){if(l.isPlainObject(b)){if(b["@context"]){var M=b["@context"];if(Array.isArray(M))for(var T=0;T<M.length;T++)if("string"==typeof M[T]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(M[T])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===M[T])){M=M[T];break}switch(M){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":b.version=1;break;case"http://iiif.io/api/image/2/context.json":b.version=2;break;case"http://iiif.io/api/image/3/context.json":b.version=3;break;default:l.console.error("Data has a @context property which contains no known IIIF context URI.")}}else b["@context"]="http://iiif.io/api/image/1.0/context.json",b["@id"]=y.replace("/info.json",""),b.version=1;if(!b["@id"]&&b.id&&(b["@id"]=b.id),b.preferredFormats)for(var S=0;S<b.preferredFormats.length;S++)if(q.imageFormatSupported(b.preferredFormats[S])){b.tileFormat=b.preferredFormats[S];break}return b}var _=function(b){if(!b||!b.documentElement)throw new Error(l.getString("Errors.Xml"));var y=b.documentElement,M=null;if("info"===y.tagName)try{return w(y,M={}),M}catch(T){throw T instanceof Error?T:new Error(l.getString("Errors.IIIF"))}throw new Error(l.getString("Errors.IIIF"))}(b);return _["@context"]="http://iiif.io/api/image/1.0/context.json",_["@id"]=y.replace("/info.xml",""),_.version=1,_},getTileWidth:function(b){if(this.emulateLegacyImagePyramid)return l.TileSource.prototype.getTileWidth.call(this,b);var y=Math.pow(2,this.maxLevel-b);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[y]?this.tileSizePerScaleFactor[y].width:this._tileWidth},getTileHeight:function(b){if(this.emulateLegacyImagePyramid)return l.TileSource.prototype.getTileHeight.call(this,b);var y=Math.pow(2,this.maxLevel-b);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[y]?this.tileSizePerScaleFactor[y].height:this._tileHeight},getLevelScale:function(b){if(this.emulateLegacyImagePyramid){var y=NaN;return this.levels.length>0&&b>=this.minLevel&&b<=this.maxLevel&&(y=this.levels[b].width/this.levels[this.maxLevel].width),y}return l.TileSource.prototype.getLevelScale.call(this,b)},getNumTiles:function(b){return this.emulateLegacyImagePyramid?this.getLevelScale(b)?new l.Point(1,1):new l.Point(0,0):l.TileSource.prototype.getNumTiles.call(this,b)},getTileAtPoint:function(b,y){return this.emulateLegacyImagePyramid?new l.Point(0,0):l.TileSource.prototype.getTileAtPoint.call(this,b,y)},getTileUrl:function(b,y,_){if(this.emulateLegacyImagePyramid){var M=null;return this.levels.length>0&&b>=this.minLevel&&b<=this.maxLevel&&(M=this.levels[b].url),M}var te,F,B,m,C,D,P,U,R,oe,X,le,ye,S=Math.pow(.5,this.maxLevel-b),L=Math.ceil(this.width*S),z=Math.ceil(this.height*S);return te=this.getTileWidth(b),F=this.getTileHeight(b),B=Math.ceil(te/S),m=Math.ceil(F/S),ye=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,L<te&&z<F?(oe=2===this.version&&L===this.width?"full":3===this.version&&L===this.width&&z===this.height?"max":3===this.version?L+","+z:L+",",C="full"):(D=y*B,P=_*m,U=Math.min(B,this.width-D),R=Math.min(m,this.height-P),C=0===y&&0===_&&U===this.width&&R===this.height?"full":[D,P,U,R].join(","),X=Math.ceil(U*S),le=Math.ceil(R*S),oe=2===this.version&&X===this.width?"full":3===this.version&&X===this.width&&le===this.height?"max":3===this.version?X+","+le:X+","),[this["@id"],C,oe,"0",ye].join("/")},__testonly__:{canBeTiled:d,constructLevels:f}})}(q),function(l){l.OsmTileSource=function(d,f,h,w,b){var y;(!(y=l.isPlainObject(d)?d:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width||!y.height)&&(y.width=65572864,y.height=65572864),y.tileSize||(y.tileSize=256,y.tileOverlap=0),y.tilesUrl||(y.tilesUrl="http://tile.openstreetmap.org/"),y.minLevel=8,l.TileSource.apply(this,[y])},l.extend(l.OsmTileSource.prototype,l.TileSource.prototype,{supports:function(d,f){return d.type&&"openstreetmaps"===d.type},configure:function(d,f){return d},getTileUrl:function(d,f,h){return this.tilesUrl+(d-8)+"/"+f+"/"+h+".png"}})}(q),function(l){l.TmsTileSource=function(d,f,h,w,b){var y;y=l.isPlainObject(d)?d:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var T,_=256*Math.ceil(y.width/256),M=256*Math.ceil(y.height/256);T=_>M?_/256:M/256,y.maxLevel=Math.ceil(Math.log(T)/Math.log(2))-1,y.tileSize=256,y.width=_,y.height=M,l.TileSource.apply(this,[y])},l.extend(l.TmsTileSource.prototype,l.TileSource.prototype,{supports:function(d,f){return d.type&&"tiledmapservice"===d.type},configure:function(d,f){return d},getTileUrl:function(d,f,h){var w=this.getNumTiles(d).y-1;return this.tilesUrl+d+"/"+f+"/"+(w-h)+".png"}})}(q),function(l){l.ZoomifyTileSource=function(d){void 0===d.tileSize&&(d.tileSize=256),void 0===d.fileFormat&&(d.fileFormat="jpg",this.fileFormat=d.fileFormat);var f={x:d.width,y:d.height};for(d.imageSizes=[{x:d.width,y:d.height}],d.gridSize=[this._getGridSize(d.width,d.height,d.tileSize)];parseInt(f.x,10)>d.tileSize||parseInt(f.y,10)>d.tileSize;)f.x=Math.floor(f.x/2),f.y=Math.floor(f.y/2),d.imageSizes.push({x:f.x,y:f.y}),d.gridSize.push(this._getGridSize(f.x,f.y,d.tileSize));d.imageSizes.reverse(),d.gridSize.reverse(),d.minLevel=0,d.maxLevel=d.gridSize.length-1,q.TileSource.apply(this,[d])},l.extend(l.ZoomifyTileSource.prototype,l.TileSource.prototype,{_getGridSize:function(d,f,h){return{x:Math.ceil(d/h),y:Math.ceil(f/h)}},_calculateAbsoluteTileNumber:function(d,f,h){for(var w=0,b={},y=0;y<d;y++)w+=(b=this.gridSize[y]).x*b.y;return w+((b=this.gridSize[d]).x*h+f)},supports:function(d,f){return d.type&&"zoomifytileservice"===d.type},configure:function(d,f){return d},getTileUrl:function(d,f,h){var w,b=this._calculateAbsoluteTileNumber(d,f,h);return w=Math.floor(b/256),this.tilesUrl+"TileGroup"+w+"/"+d+"-"+f+"-"+h+"."+this.fileFormat}})}(q),function(l){function h(w,b){return b.levels}l.LegacyTileSource=function(w){var b,y,_;l.isArray(w)&&(b={type:"legacy-image-pyramid",levels:w}),b.levels=function(w){var y,_,b=[];for(_=0;_<w.length;_++)(y=w[_]).height&&y.width&&y.url?b.push({url:y.url,width:Number(y.width),height:Number(y.height)}):l.console.error("Unsupported image format: %s",y.url?y.url:"<no URL>");return b.sort(function(M,T){return M.height-T.height})}(b.levels),b.levels.length>0?(y=b.levels[b.levels.length-1].width,_=b.levels[b.levels.length-1].height):(y=0,_=0,l.console.error("No supported image formats found")),l.extend(!0,b,{width:y,height:_,tileSize:Math.max(_,y),tileOverlap:0,minLevel:0,maxLevel:b.levels.length>0?b.levels.length-1:0}),l.TileSource.apply(this,[b]),this.levels=b.levels},l.extend(l.LegacyTileSource.prototype,l.TileSource.prototype,{supports:function(w,b){return w.type&&"legacy-image-pyramid"===w.type||w.documentElement&&"legacy-image-pyramid"===w.documentElement.getAttribute("type")},configure:function(w,b){var y;return y=l.isPlainObject(w)?h(0,w):function(w,b){if(!b||!b.documentElement)throw new Error(l.getString("Errors.Xml"));var S,L,y=b.documentElement,_=y.tagName,M=null,T=[];if("image"===_)try{for(M={type:y.getAttribute("type"),levels:[]},T=y.getElementsByTagName("level"),L=0;L<T.length;L++)M.levels.push({url:(S=T[L]).getAttribute("url"),width:parseInt(S.getAttribute("width"),10),height:parseInt(S.getAttribute("height"),10)});return h(0,M)}catch(z){throw z instanceof Error?z:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"===_)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"===_)throw new Error("Error: "+b)}throw new Error("Unknown element "+_)}(0,w),y},getLevelScale:function(w){var b=NaN;return this.levels.length>0&&w>=this.minLevel&&w<=this.maxLevel&&(b=this.levels[w].width/this.levels[this.maxLevel].width),b},getNumTiles:function(w){return this.getLevelScale(w)?new l.Point(1,1):new l.Point(0,0)},getTileUrl:function(w,b,y){var _=null;return this.levels.length>0&&w>=this.minLevel&&w<=this.maxLevel&&(_=this.levels[w].url),_}})}(q),function(l){l.ImageTileSource=function(d){d=l.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},d),l.TileSource.apply(this,[d])},l.extend(l.ImageTileSource.prototype,l.TileSource.prototype,{supports:function(d,f){return d.type&&"image"===d.type},configure:function(d,f){return d},getImageInfo:function(d){var f=this._image=new Image,h=this;this.crossOriginPolicy&&(f.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(f.useCredentials=this.ajaxWithCredentials),l.addEvent(f,"load",function(){h.width=f.naturalWidth,h.height=f.naturalHeight,h.aspectRatio=h.width/h.height,h.dimensions=new l.Point(h.width,h.height),h._tileWidth=h.width,h._tileHeight=h.height,h.tileOverlap=0,h.minLevel=0,h.levels=h._buildLevels(),h.maxLevel=h.levels.length-1,h.ready=!0,h.raiseEvent("ready",{tileSource:h})}),l.addEvent(f,"error",function(){h.raiseEvent("open-failed",{message:"Error loading image at "+d,source:d})}),f.src=d},getLevelScale:function(d){var f=NaN;return d>=this.minLevel&&d<=this.maxLevel&&(f=this.levels[d].width/this.levels[this.maxLevel].width),f},getNumTiles:function(d){return this.getLevelScale(d)?new l.Point(1,1):new l.Point(0,0)},getTileUrl:function(d,f,h){var w=null;return d>=this.minLevel&&d<=this.maxLevel&&(w=this.levels[d].url),w},getContext2D:function(d,f,h){var w=null;return d>=this.minLevel&&d<=this.maxLevel&&(w=this.levels[d].context2D),w},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var d=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!l.supportsCanvas||!this.useCanvas)return delete this._image,d;var f=this._image.naturalWidth,h=this._image.naturalHeight,w=document.createElement("canvas"),b=w.getContext("2d");if(w.width=f,w.height=h,b.drawImage(this._image,0,0,f,h),d[0].context2D=b,delete this._image,l.isCanvasTainted(w))return d;for(;f>=2&&h>=2;){f=Math.floor(f/2),h=Math.floor(h/2);var y=document.createElement("canvas"),_=y.getContext("2d");y.width=f,y.height=h,_.drawImage(w,0,0,f,h),d.splice(0,0,{context2D:_,width:f,height:h}),w=y,b=_}return d},_freeupCanvasMemory:function(){for(var d=0;d<this.levels.length;d++)this.levels[d].context2D.canvas.height=0,this.levels[d].context2D.canvas.width=0}})}(q),function(l){l.TileSourceCollection=function(d,f,h,w){l.console.error("TileSourceCollection is deprecated; use World instead")}}(q),function(l){function d(_){l.requestAnimationFrame(function(){!function(_){var S;_.shouldFade&&(S=1-(l.now()-_.fadeBeginTime)/_.fadeLength,S=Math.min(1,S),S=Math.max(0,S),_.imgGroup&&l.setElementOpacity(_.imgGroup,S,!0),S>0&&d(_))}(_)})}function b(_,M){_.element.disabled||(M>=l.ButtonState.GROUP&&_.currentState===l.ButtonState.REST&&(function(_){_.shouldFade=!1,_.imgGroup&&l.setElementOpacity(_.imgGroup,1,!0)}(_),_.currentState=l.ButtonState.GROUP),M>=l.ButtonState.HOVER&&_.currentState===l.ButtonState.GROUP&&(_.imgHover&&(_.imgHover.style.visibility=""),_.currentState=l.ButtonState.HOVER),M>=l.ButtonState.DOWN&&_.currentState===l.ButtonState.HOVER&&(_.imgDown&&(_.imgDown.style.visibility=""),_.currentState=l.ButtonState.DOWN))}function y(_,M){_.element.disabled||(M<=l.ButtonState.HOVER&&_.currentState===l.ButtonState.DOWN&&(_.imgDown&&(_.imgDown.style.visibility="hidden"),_.currentState=l.ButtonState.HOVER),M<=l.ButtonState.GROUP&&_.currentState===l.ButtonState.HOVER&&(_.imgHover&&(_.imgHover.style.visibility="hidden"),_.currentState=l.ButtonState.GROUP),M<=l.ButtonState.REST&&_.currentState===l.ButtonState.GROUP&&(function(_){_.shouldFade=!0,_.fadeBeginTime=l.now()+_.fadeDelay,window.setTimeout(function(){d(_)},_.fadeDelay)}(_),_.currentState=l.ButtonState.REST))}l.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},l.Button=function(_){var M=this;l.EventSource.call(this),l.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:l.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:l.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},_),this.element=_.element||l.makeNeutralElement("div"),_.element||(this.imgRest=l.makeTransparentImage(this.srcRest),this.imgGroup=l.makeTransparentImage(this.srcGroup),this.imgHover=l.makeTransparentImage(this.srcHover),this.imgDown=l.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,l.setElementPointerEventsNone(this.imgRest),l.setElementPointerEventsNone(this.imgGroup),l.setElementPointerEventsNone(this.imgHover),l.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",l.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",l.Browser.vendor===l.BROWSERS.FIREFOX&&l.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=l.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new l.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(T){T.insideElementPressed?(b(M,l.ButtonState.DOWN),M.raiseEvent("enter",{originalEvent:T.originalEvent})):T.buttonDownAny||b(M,l.ButtonState.HOVER)},focusHandler:function(T){M.tracker.enterHandler(T),M.raiseEvent("focus",{originalEvent:T.originalEvent})},leaveHandler:function(T){y(M,l.ButtonState.GROUP),T.insideElementPressed&&M.raiseEvent("exit",{originalEvent:T.originalEvent})},blurHandler:function(T){M.tracker.leaveHandler(T),M.raiseEvent("blur",{originalEvent:T.originalEvent})},pressHandler:function(T){b(M,l.ButtonState.DOWN),M.raiseEvent("press",{originalEvent:T.originalEvent})},releaseHandler:function(T){T.insideElementPressed&&T.insideElementReleased?(y(M,l.ButtonState.HOVER),M.raiseEvent("release",{originalEvent:T.originalEvent})):T.insideElementPressed?y(M,l.ButtonState.GROUP):b(M,l.ButtonState.HOVER)},clickHandler:function(T){T.quick&&M.raiseEvent("click",{originalEvent:T.originalEvent})},keyHandler:function(T){13===T.keyCode?(M.raiseEvent("click",{originalEvent:T.originalEvent}),M.raiseEvent("release",{originalEvent:T.originalEvent}),T.preventDefault=!0):T.preventDefault=!1}}),y(this,l.ButtonState.REST)},l.extend(l.Button.prototype,l.EventSource.prototype,{notifyGroupEnter:function(){b(this,l.ButtonState.GROUP)},notifyGroupExit:function(){y(this,l.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,l.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,l.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(q),function(l){l.ButtonGroup=function(d){l.extend(!0,this,{buttons:[],clickTimeThreshold:l.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:l.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},d);var w,f=this.buttons.concat([]),h=this;if(this.element=d.element||l.makeNeutralElement("div"),!d.group)for(this.element.style.display="inline-block",w=0;w<f.length;w++)this.element.appendChild(f[w].element);l.setElementTouchActionNone(this.element),this.tracker=new l.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(b){var y;for(y=0;y<h.buttons.length;y++)h.buttons[y].notifyGroupEnter()},leaveHandler:function(b){var y;if(!b.insideElementPressed)for(y=0;y<h.buttons.length;y++)h.buttons[y].notifyGroupExit()}})},l.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var d=this.buttons.pop();this.element.removeChild(d.element),d.destroy()}this.tracker.destroy(),this.element=null}}}(q),function(l){l.Rect=function(d,f,h,w,b){var y,_;this.x="number"==typeof d?d:0,this.y="number"==typeof f?f:0,this.width="number"==typeof h?h:0,this.height="number"==typeof w?w:0,this.degrees="number"==typeof b?b:0,this.degrees=l.positiveModulo(this.degrees,360),this.degrees>=270?(y=this.getTopRight(),this.x=y.x,this.y=y.y,_=this.height,this.height=this.width,this.width=_,this.degrees-=270):this.degrees>=180?(y=this.getBottomRight(),this.x=y.x,this.y=y.y,this.degrees-=180):this.degrees>=90&&(y=this.getBottomLeft(),this.x=y.x,this.y=y.y,_=this.height,this.height=this.width,this.width=_,this.degrees-=90)},l.Rect.fromSummits=function(d,f,h){var w=d.distanceTo(f),b=d.distanceTo(h),y=f.minus(d),_=Math.atan(y.y/y.x);return y.x<0?_+=Math.PI:y.y<0&&(_+=2*Math.PI),new l.Rect(d.x,d.y,w,b,_/Math.PI*180)},l.Rect.prototype={clone:function(){return new l.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new l.Point(this.x,this.y)},getBottomRight:function(){return new l.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new l.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new l.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new l.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new l.Point(this.width,this.height)},equals:function(d){return d instanceof l.Rect&&this.x===d.x&&this.y===d.y&&this.width===d.width&&this.height===d.height&&this.degrees===d.degrees},times:function(d){return new l.Rect(this.x*d,this.y*d,this.width*d,this.height*d,this.degrees)},translate:function(d){return new l.Rect(this.x+d.x,this.y+d.y,this.width,this.height,this.degrees)},union:function(d){var f=this.getBoundingBox(),h=d.getBoundingBox(),w=Math.min(f.x,h.x),b=Math.min(f.y,h.y),y=Math.max(f.x+f.width,h.x+h.width),_=Math.max(f.y+f.height,h.y+h.height);return new l.Rect(w,b,y-w,_-b)},intersection:function(d){var f=1e-10,h=[],w=this.getTopLeft();d.containsPoint(w,f)&&h.push(w);var b=this.getTopRight();d.containsPoint(b,f)&&h.push(b);var y=this.getBottomLeft();d.containsPoint(y,f)&&h.push(y);var _=this.getBottomRight();d.containsPoint(_,f)&&h.push(_);var M=d.getTopLeft();this.containsPoint(M,f)&&h.push(M);var T=d.getTopRight();this.containsPoint(T,f)&&h.push(T);var S=d.getBottomLeft();this.containsPoint(S,f)&&h.push(S);var L=d.getBottomRight();this.containsPoint(L,f)&&h.push(L);for(var z=this._getSegments(),te=d._getSegments(),F=0;F<z.length;F++)for(var B=z[F],m=0;m<te.length;m++){var C=te[m],D=P(B[0],B[1],C[0],C[1]);D&&h.push(D)}function P(_e,He,Ge,Oe){var dt=He.minus(_e),Ye=Oe.minus(Ge),Pt=-Ye.x*dt.y+dt.x*Ye.y;if(0===Pt)return null;var st=(dt.x*(_e.y-Ge.y)-dt.y*(_e.x-Ge.x))/Pt,Ne=(Ye.x*(_e.y-Ge.y)-Ye.y*(_e.x-Ge.x))/Pt;return-f<=st&&st<=1-f&&-f<=Ne&&Ne<=1-f?new l.Point(_e.x+Ne*dt.x,_e.y+Ne*dt.y):null}if(0===h.length)return null;for(var U=h[0].x,R=h[0].x,oe=h[0].y,X=h[0].y,le=1;le<h.length;le++){var ye=h[le];ye.x<U&&(U=ye.x),ye.x>R&&(R=ye.x),ye.y<oe&&(oe=ye.y),ye.y>X&&(X=ye.y)}return new l.Rect(U,oe,R-U,X-oe)},_getSegments:function(){var d=this.getTopLeft(),f=this.getTopRight(),h=this.getBottomLeft(),w=this.getBottomRight();return[[d,f],[f,w],[w,h],[h,d]]},rotate:function(d,f){if(0===(d=l.positiveModulo(d,360)))return this.clone();f=f||this.getCenter();var h=this.getTopLeft().rotate(d,f),b=this.getTopRight().rotate(d,f).minus(h);b=b.apply(function(_){return Math.abs(_)<1e-15?0:_});var y=Math.atan(b.y/b.x);return b.x<0?y+=Math.PI:b.y<0&&(y+=2*Math.PI),new l.Rect(h.x,h.y,this.width,this.height,y/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var d=this.getTopLeft(),f=this.getTopRight(),h=this.getBottomLeft(),w=this.getBottomRight(),b=Math.min(d.x,f.x,h.x,w.x),y=Math.max(d.x,f.x,h.x,w.x),_=Math.min(d.y,f.y,h.y,w.y),M=Math.max(d.y,f.y,h.y,w.y);return new l.Rect(b,_,y-b,M-_)},getIntegerBoundingBox:function(){var d=this.getBoundingBox(),f=Math.floor(d.x),h=Math.floor(d.y),w=Math.ceil(d.width+d.x-f),b=Math.ceil(d.height+d.y-h);return new l.Rect(f,h,w,b)},containsPoint:function(d,f){f=f||0;var h=this.getTopLeft(),w=this.getTopRight(),b=this.getBottomLeft(),y=w.minus(h),_=b.minus(h);return(d.x-h.x)*y.x+(d.y-h.y)*y.y>=-f&&(d.x-w.x)*y.x+(d.y-w.y)*y.y<=f&&(d.x-h.x)*_.x+(d.y-h.y)*_.y>=-f&&(d.x-b.x)*_.x+(d.y-b.y)*_.y<=f},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(q),function(l){var d={};function f(S){var L;S.quick&&(L="horizontal"===this.scroll?Math.floor(S.position.x/this.panelWidth):Math.floor(S.position.y/this.panelHeight),this.viewer.goToPage(L)),this.element.focus()}function h(S){if(this.dragging=!0,this.element){var L=Number(this.element.style.marginLeft.replace("px","")),z=Number(this.element.style.marginTop.replace("px","")),te=Number(this.element.style.width.replace("px","")),F=Number(this.element.style.height.replace("px","")),B=l.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?-S.delta.x>0?L>-(te-B.x)&&(this.element.style.marginLeft=L+2*S.delta.x+"px",b(this,B.x,L+2*S.delta.x)):-S.delta.x<0&&L<0&&(this.element.style.marginLeft=L+2*S.delta.x+"px",b(this,B.x,L+2*S.delta.x)):-S.delta.y>0?z>-(F-B.y)&&(this.element.style.marginTop=z+2*S.delta.y+"px",b(this,B.y,z+2*S.delta.y)):-S.delta.y<0&&z<0&&(this.element.style.marginTop=z+2*S.delta.y+"px",b(this,B.y,z+2*S.delta.y))}}function w(S){if(this.element){var L=Number(this.element.style.marginLeft.replace("px","")),z=Number(this.element.style.marginTop.replace("px","")),te=Number(this.element.style.width.replace("px","")),F=Number(this.element.style.height.replace("px","")),B=l.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?S.scroll>0?L>-(te-B.x)&&(this.element.style.marginLeft=L-60*S.scroll+"px",b(this,B.x,L-60*S.scroll)):S.scroll<0&&L<0&&(this.element.style.marginLeft=L-60*S.scroll+"px",b(this,B.x,L-60*S.scroll)):S.scroll<0?z>B.y-F&&(this.element.style.marginTop=z+60*S.scroll+"px",b(this,B.y,z+60*S.scroll)):S.scroll>0&&z<0&&(this.element.style.marginTop=z+60*S.scroll+"px",b(this,B.y,z+60*S.scroll)),S.preventDefault=!0}}function b(S,L,z){var te,F,B,m,C,D;for(te="horizontal"===S.scroll?S.panelWidth:S.panelHeight,F=Math.ceil(L/te)+5,C=F=(F=(B=Math.ceil((Math.abs(z)+L)/te)+1)-F)<0?0:F;C<B&&C<S.panels.length;C++)if(!(D=S.panels[C]).activePanel){var U=S.viewer.tileSources[C];m=new l.Viewer({id:D.id,tileSources:[U.referenceStripThumbnailUrl?{type:"image",url:U.referenceStripThumbnailUrl}:U],element:D,navigatorSizeRatio:S.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:S.viewer.loadTilesWithAjax,ajaxHeaders:S.viewer.ajaxHeaders,useCanvas:S.useCanvas}),l.setElementPointerEventsNone(m.canvas),l.setElementPointerEventsNone(m.container),m.innerTracker.setTracking(!1),m.outerTracker.setTracking(!1),S.miniViewers[D.id]=m,D.activePanel=!0}}function y(S){var L=S.eventSource.element;"horizontal"===this.scroll?L.style.marginBottom="0px":L.style.marginLeft="0px"}function _(S){var L=S.eventSource.element;"horizontal"===this.scroll?L.style.marginBottom="-"+l.getElementSize(L).y/2+"px":L.style.marginLeft="-"+l.getElementSize(L).x/2+"px"}function M(S){if(S.ctrl||S.alt||S.meta)S.preventDefault=!1;else switch(S.keyCode){case 38:case 39:w.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 40:case 37:w.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1}}function T(S){if(S.ctrl||S.alt||S.meta)S.preventDefault=!1;else switch(S.keyCode){case 61:case 48:case 119:case 87:case 100:w.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),S.preventDefault=!0;break;case 45:case 115:case 83:case 97:w.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),S.preventDefault=!0;break;default:S.preventDefault=!1}}l.ReferenceStrip=function(S){var F,B,m,z=S.viewer,te=l.getElementSize(z.element);for(S.id||(S.id="referencestrip-"+l.now(),this.element=l.makeNeutralElement("div"),this.element.id=S.id,this.element.className="referencestrip"),S=l.extend(!0,{sizeRatio:l.DEFAULT_SETTINGS.referenceStripSizeRatio,position:l.DEFAULT_SETTINGS.referenceStripPosition,scroll:l.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:l.DEFAULT_SETTINGS.clickTimeThreshold},S,{element:this.element}),l.extend(this,S),d[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,(B=this.element.style).marginTop="0px",B.marginRight="0px",B.marginBottom="0px",B.marginLeft="0px",B.left="0px",B.bottom="0px",B.border="0px",B.background="#000",B.position="relative",l.setElementTouchActionNone(this.element),l.setElementOpacity(this.element,.8),this.viewer=z,this.tracker=new l.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:l.delegate(this,f),dragHandler:l.delegate(this,h),scrollHandler:l.delegate(this,w),enterHandler:l.delegate(this,y),leaveHandler:l.delegate(this,_),keyDownHandler:l.delegate(this,M),keyHandler:l.delegate(this,T),preProcessEventHandler:function(C){"wheel"===C.eventType&&(C.preventDefault=!0)}}),S.width&&S.height?(this.element.style.width=S.width+"px",this.element.style.height=S.height+"px",z.addControl(this.element,{anchor:l.ControlAnchor.BOTTOM_LEFT})):"horizontal"===S.scroll?(this.element.style.width=te.x*S.sizeRatio*z.tileSources.length+12*z.tileSources.length+"px",this.element.style.height=te.y*S.sizeRatio+"px",z.addControl(this.element,{anchor:l.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=te.y*S.sizeRatio*z.tileSources.length+12*z.tileSources.length+"px",this.element.style.width=te.x*S.sizeRatio+"px",z.addControl(this.element,{anchor:l.ControlAnchor.TOP_LEFT})),this.panelWidth=te.x*this.sizeRatio+8,this.panelHeight=te.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},m=0;m<z.tileSources.length;m++)(F=l.makeNeutralElement("div")).id=this.element.id+"-"+m,F.style.width=this.panelWidth+"px",F.style.height=this.panelHeight+"px",F.style.display="inline",F.style.float="left",F.style.cssFloat="left",F.style.styleFloat="left",F.style.padding="2px",l.setElementTouchActionNone(F),l.setElementPointerEventsNone(F),this.element.appendChild(F),F.activePanel=!1,this.panels.push(F);b(this,"vertical"===this.scroll?te.y:te.x,0),this.setFocus(0)},l.ReferenceStrip.prototype={setFocus:function(S){var C,L=this.element.querySelector("#"+this.element.id+"-"+S),z=l.getElementSize(this.viewer.canvas),te=Number(this.element.style.width.replace("px","")),F=Number(this.element.style.height.replace("px","")),B=-Number(this.element.style.marginLeft.replace("px","")),m=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==L&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=L,this.currentSelected.style.background="#999","horizontal"===this.scroll?(C=Number(S)*(this.panelWidth+3))>B+z.x-this.panelWidth?(C=Math.min(C,te-z.x),this.element.style.marginLeft=-C+"px",b(this,z.x,-C)):C<B&&(C=Math.max(0,C-z.x/2),this.element.style.marginLeft=-C+"px",b(this,z.x,-C)):(C=Number(S)*(this.panelHeight+3))>m+z.y-this.panelHeight?(C=Math.min(C,F-z.y),this.element.style.marginTop=-C+"px",b(this,z.y,-C)):C<m&&(C=Math.max(0,C-z.y/2),this.element.style.marginTop=-C+"px",b(this,z.y,-C)),this.currentPage=S,y.call(this,{eventSource:this.tracker}))},update:function(){return!!d[this.id].animating&&(l.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var S in this.miniViewers)this.miniViewers[S].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(q),function(l){l.DisplayRect=function(d,f,h,w,b,y){l.Rect.apply(this,[d,f,h,w]),this.minLevel=b,this.maxLevel=y},l.extend(l.DisplayRect.prototype,l.Rect.prototype)}(q),function(l){l.Spring=function(f){var h=arguments;"object"!=typeof f&&(f={initial:h.length&&"number"==typeof h[0]?h[0]:void 0,springStiffness:h.length>1?h[1].springStiffness:5,animationTime:h.length>1?h[1].animationTime:1.5}),l.console.assert("number"==typeof f.springStiffness&&0!==f.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),l.console.assert("number"==typeof f.animationTime&&f.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),f.exponential&&(this._exponential=!0,delete f.exponential),l.extend(!0,this,f),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:l.now()},l.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},l.Spring.prototype={resetTo:function(f){l.console.assert(!this._exponential||0!==f,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=f,this.start.time=this.target.time=this.current.time=l.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(f){l.console.assert(!this._exponential||0!==f,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=f,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(f){this.start.value+=f,this.target.value+=f,this._exponential&&(l.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(f){this._exponential=f,this._exponential&&(l.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var f,h;this.current.time=l.now(),this._exponential?(f=this.start._logValue,h=this.target._logValue):(f=this.start.value,h=this.target.value);var w=this.current.time>=this.target.time?h:f+(h-f)*function(f,h){return(1-Math.exp(f*-h))/(1-Math.exp(-f))}(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),b=this.current.value;return this.current.value=this._exponential?Math.exp(w):w,b!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(q),function(l){function d(h){l.extend(!0,this,{timeout:l.DEFAULT_SETTINGS.timeout,jobId:null},h),this.image=null}d.prototype={errorMsg:null,start:function(){var h=this,w=this.abort;this.image=new Image,this.image.onload=function(){h.finish(!0)},this.image.onabort=this.image.onerror=function(){h.errorMsg="Image load aborted",h.finish(!1)},this.jobId=window.setTimeout(function(){h.errorMsg="Image load exceeded timeout ("+h.timeout+" ms)",h.finish(!1)},this.timeout),this.loadWithAjax?(this.request=l.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(b){var y;try{y=new window.Blob([b.response])}catch(S){var _=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===S.name&&_){var M=new _;M.append(b.response),y=M.getBlob()}}0===y.size&&(h.errorMsg="Empty image response.",h.finish(!1));var T=(window.URL||window.webkitURL).createObjectURL(y);h.image.src=T},error:function(b){h.errorMsg="Image load aborted - XHR error",h.finish(!1)}}),this.abort=function(){h.request.abort(),"function"==typeof w&&w()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(h){this.image.onload=this.image.onerror=this.image.onabort=null,h||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},l.ImageLoader=function(h){l.extend(!0,this,{jobLimit:l.DEFAULT_SETTINGS.imageLoaderLimit,timeout:l.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},h)},l.ImageLoader.prototype={addJob:function(h){var w=this,y={src:h.src,loadWithAjax:h.loadWithAjax,ajaxHeaders:h.loadWithAjax?h.ajaxHeaders:null,crossOriginPolicy:h.crossOriginPolicy,ajaxWithCredentials:h.ajaxWithCredentials,callback:function(M){!function(h,w,b){h.jobsInProgress--,(!h.jobLimit||h.jobsInProgress<h.jobLimit)&&h.jobQueue.length>0&&(h.jobQueue.shift().start(),h.jobsInProgress++),b(w.image,w.errorMsg,w.request)}(w,M,h.callback)},abort:h.abort,timeout:this.timeout},_=new d(y);!this.jobLimit||this.jobsInProgress<this.jobLimit?(_.start(),this.jobsInProgress++):this.jobQueue.push(_)},clear:function(){for(var h=0;h<this.jobQueue.length;h++){var w=this.jobQueue[h];"function"==typeof w.abort&&w.abort()}this.jobQueue=[]}}}(q),function(l){l.Tile=function(d,f,h,w,b,y,_,M,T,S){this.level=d,this.x=f,this.y=h,this.bounds=w,this.sourceBounds=S,this.exists=b,this.url=y,this.context2D=_,this.loadWithAjax=M,this.ajaxHeaders=T,this.cacheKey=this.ajaxHeaders?this.url+"+"+JSON.stringify(this.ajaxHeaders):this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},l.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(d){this.cacheImageRecord?this.loaded?(this.element||(this.element=l.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==d&&d.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),l.setElementOpacity(this.element,this.opacity)):l.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):l.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(d,f,h,w){var _,M,T,b=this.position.times(l.pixelDensityRatio),y=this.size.times(l.pixelDensityRatio);this.context2D||this.cacheImageRecord?(_=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&_?(d.save(),d.globalAlpha=this.opacity,"number"==typeof h&&1!==h&&(b=b.times(h),y=y.times(h)),w instanceof l.Point&&(b=b.plus(w)),1===d.globalAlpha&&this._hasTransparencyChannel()&&d.clearRect(b.x,b.y,y.x,y.y),f({context:d,tile:this,rendered:_}),this.sourceBounds?(M=Math.min(this.sourceBounds.width,_.canvas.width),T=Math.min(this.sourceBounds.height,_.canvas.height)):(M=_.canvas.width,T=_.canvas.height),d.translate(b.x+y.x/2,0),this.flipped&&d.scale(-1,1),d.drawImage(_.canvas,0,0,M,T,-y.x/2,b.y,y.x,y.y),d.restore()):l.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):l.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var d;if(this.cacheImageRecord)d=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return l.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;d=this.context2D}return d.canvas.width/(this.size.x*l.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(d,f,h){var w=Math.max(1,Math.ceil((h.x-f.x)/2)),b=Math.max(1,Math.ceil((h.y-f.y)/2));return new l.Point(w,b).minus(this.position.times(l.pixelDensityRatio).times(d||1).apply(function(y){return y%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(q),function(l){l.OverlayPlacement=l.Placement,l.OverlayRotationMode=l.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),l.Overlay=function(d,f,h){var w;w=l.isPlainObject(d)?d:{element:d,location:f,placement:h},this.element=w.element,this.style=w.element.style,this._init(w)},l.Overlay.prototype={_init:function(d){this.location=d.location,this.placement=void 0===d.placement?l.Placement.TOP_LEFT:d.placement,this.onDraw=d.onDraw,this.checkResize=void 0===d.checkResize||d.checkResize,this.width=void 0===d.width?null:d.width,this.height=void 0===d.height?null:d.height,this.rotationMode=d.rotationMode||l.OverlayRotationMode.EXACT,this.location instanceof l.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=l.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new l.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(d,f){var h=l.Placement.properties[this.placement];!h||(h.isHorizontallyCentered?d.x-=f.x/2:h.isRight&&(d.x-=f.x),h.isVerticallyCentered?d.y-=f.y/2:h.isBottom&&(d.y-=f.y))},destroy:function(){var d=this.element,f=this.style;d.parentNode&&(d.parentNode.removeChild(d),d.prevElementParent&&(f.display="none",document.body.appendChild(d))),this.onDraw=null,f.top="",f.left="",f.position="",null!==this.width&&(f.width=""),null!==this.height&&(f.height="");var h=l.getCssPropertyWithVendorPrefix("transformOrigin"),w=l.getCssPropertyWithVendorPrefix("transform");h&&w&&(f[h]="",f[w]="")},drawHTML:function(d,f){var h=this.element;h.parentNode!==d&&(h.prevElementParent=h.parentNode,h.prevNextSibling=h.nextSibling,d.appendChild(h),this.style.position="absolute",this.size=l.getElementSize(h));var w=this._getOverlayPositionAndSize(f),b=w.position,y=this.size=w.size,_=w.rotate;if(this.onDraw)this.onDraw(b,y,this.element);else{var M=this.style;M.left=b.x+"px",M.top=b.y+"px",null!==this.width&&(M.width=y.x+"px"),null!==this.height&&(M.height=y.y+"px");var T=l.getCssPropertyWithVendorPrefix("transformOrigin"),S=l.getCssPropertyWithVendorPrefix("transform");T&&S&&(_?(M[T]=this._getTransformOrigin(),M[S]="rotate("+_+"deg)"):(M[T]="",M[S]="")),M.display="block"}},_getOverlayPositionAndSize:function(d){var f=d.pixelFromPoint(this.location,!0),h=this._getSizeInPixels(d);this.adjust(f,h);var w=0;if(d.degrees&&this.rotationMode!==l.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===l.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var b=new l.Rect(f.x,f.y,h.x,h.y),y=this._getBoundingBox(b,d.degrees);f=y.getTopLeft(),h=y.getSize()}else w=d.degrees;return{position:f,size:h,rotate:w}},_getSizeInPixels:function(d){var f=this.size.x,h=this.size.y;if(null!==this.width||null!==this.height){var w=d.deltaPixelsFromPointsNoRotate(new l.Point(this.width||0,this.height||0),!0);null!==this.width&&(f=w.x),null!==this.height&&(h=w.y)}if(this.checkResize&&(null===this.width||null===this.height)){var b=this.size=l.getElementSize(this.element);null===this.width&&(f=b.x),null===this.height&&(h=b.y)}return new l.Point(f,h)},_getBoundingBox:function(d,f){var h=this._getPlacementPoint(d);return d.rotate(f,h).getBoundingBox()},_getPlacementPoint:function(d){var f=new l.Point(d.x,d.y),h=l.Placement.properties[this.placement];return h&&(h.isHorizontallyCentered?f.x+=d.width/2:h.isRight&&(f.x+=d.width),h.isVerticallyCentered?f.y+=d.height/2:h.isBottom&&(f.y+=d.height)),f},_getTransformOrigin:function(){var d="",f=l.Placement.properties[this.placement];return f&&(f.isLeft?d="left":f.isRight&&(d="right"),f.isTop?d+=" top":f.isBottom&&(d+=" bottom")),d},update:function(d,f){var h=l.isPlainObject(d)?d:{location:d,placement:f};this._init({location:h.location||this.location,placement:void 0!==h.placement?h.placement:this.placement,onDraw:h.onDraw||this.onDraw,checkResize:h.checkResize||this.checkResize,width:void 0!==h.width?h.width:this.width,height:void 0!==h.height?h.height:this.height,rotationMode:h.rotationMode||this.rotationMode})},getBounds:function(d){l.console.assert(d,"A viewport must now be passed to Overlay.getBounds.");var f=this.width,h=this.height;if(null===f||null===h){var w=d.deltaPointsFromPixelsNoRotate(this.size,!0);null===f&&(f=w.x),null===h&&(h=w.y)}var b=this.location.clone();return this.adjust(b,new l.Point(f,h)),this._adjustBoundsForRotation(d,new l.Rect(b.x,b.y,f,h))},_adjustBoundsForRotation:function(d,f){if(!d||0===d.degrees||this.rotationMode===l.OverlayRotationMode.EXACT)return f;if(this.rotationMode===l.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return f;var h=this._getOverlayPositionAndSize(d);return d.viewerElementToViewportRectangle(new l.Rect(h.position.x,h.position.y,h.size.x,h.size.y))}return f.rotate(-d.degrees,this._getPlacementPoint(f))}}}(q),function(l){l.Drawer=function(d){l.console.assert(d.viewer,"[Drawer] options.viewer is required");var f=arguments;if(l.isPlainObject(d)||(d={source:f[0],viewport:f[1],element:f[2]}),l.console.assert(d.viewport,"[Drawer] options.viewport is required"),l.console.assert(d.element,"[Drawer] options.element is required"),d.source&&l.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=d.viewer,this.viewport=d.viewport,this.debugGridColor="string"==typeof d.debugGridColor?[d.debugGridColor]:d.debugGridColor||l.DEFAULT_SETTINGS.debugGridColor,d.opacity&&l.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=l.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=l.getElement(d.element),this.canvas=l.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var h=this._calculateCanvasSize();this.canvas.width=h.x,this.canvas.height=h.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",l.setElementOpacity(this.canvas,this.opacity,!0),l.setElementPointerEventsNone(this.canvas),l.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},l.Drawer.prototype={addOverlay:function(d,f,h,w){return l.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(d,f,h,w),this},updateOverlay:function(d,f,h){return l.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(d,f,h),this},removeOverlay:function(d){return l.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(d),this},clearOverlays:function(){return l.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(d){var f=this.viewport.pixelFromPointNoRotate(d,!0);return new l.Point(f.x*l.pixelDensityRatio,f.y*l.pixelDensityRatio)},clipWithPolygons:function(d,f){if(this.useCanvas){var h=this._getContext(f);h.beginPath(),d.forEach(function(w){w.forEach(function(b,y){h[0===y?"moveTo":"lineTo"](b.x,b.y)})}),h.clip()}},setOpacity:function(d){l.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var f=this.viewer.world,h=0;h<f.getItemCount();h++)f.getItemAt(h).setOpacity(d);return this},getOpacity:function(){l.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var d=this.viewer.world,f=0,h=0;h<d.getItemCount();h++){var w=d.getItemAt(h).getOpacity();w>f&&(f=w)}return f},needsUpdate:function(){return l.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return l.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return l.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return l.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var d=this._calculateCanvasSize();if((this.canvas.width!==d.x||this.canvas.height!==d.y)&&(this.canvas.width=d.x,this.canvas.height=d.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var f=this._calculateSketchCanvasSize();this.sketchCanvas.width=f.x,this.sketchCanvas.height=f.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(d,f){if(this.useCanvas){var h=this._getContext(d);if(f)h.clearRect(f.x,f.y,f.width,f.height);else{var w=h.canvas;h.clearRect(0,0,w.width,w.height)}}},viewportToDrawerRectangle:function(d){var f=this.viewport.pixelFromPointNoRotate(d.getTopLeft(),!0),h=this.viewport.deltaPixelsFromPointsNoRotate(d.getSize(),!0);return new l.Rect(f.x*l.pixelDensityRatio,f.y*l.pixelDensityRatio,h.x*l.pixelDensityRatio,h.y*l.pixelDensityRatio)},drawTile:function(d,f,h,w,b){if(l.console.assert(d,"[Drawer.drawTile] tile is required"),l.console.assert(f,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var y=this._getContext(h);d.drawCanvas(y,f,w=w||1,b)}else d.drawHTML(this.canvas)},_getContext:function(d){var f=this.context;if(d){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var h=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=h.x,this.sketchCanvas.height=h.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var w=this;this.viewer.addHandler("rotate",function b(){if(0!==w.viewport.getRotation()){w.viewer.removeHandler("rotate",b);var y=w._calculateSketchCanvasSize();w.sketchCanvas.width=y.x,w.sketchCanvas.height=y.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}f=this.sketchContext}return f},saveContext:function(d){!this.useCanvas||this._getContext(d).save()},restoreContext:function(d){!this.useCanvas||this._getContext(d).restore()},setClip:function(d,f){if(this.useCanvas){var h=this._getContext(f);h.beginPath(),h.rect(d.x,d.y,d.width,d.height),h.clip()}},drawRectangle:function(d,f,h){if(this.useCanvas){var w=this._getContext(h);w.save(),w.fillStyle=f,w.fillRect(d.x,d.y,d.width,d.height),w.restore()}},blendSketch:function(d,f,h,w){var b=d;if(l.isPlainObject(b)||(b={opacity:d,scale:f,translate:h,compositeOperation:w}),this.useCanvas&&this.sketchCanvas){d=b.opacity,w=b.compositeOperation;var y=b.bounds;if(this.context.save(),this.context.globalAlpha=d,w&&(this.context.globalCompositeOperation=w),y)y.x<0&&(y.width+=y.x,y.x=0),y.x+y.width>this.canvas.width&&(y.width=this.canvas.width-y.x),y.y<0&&(y.height+=y.y,y.y=0),y.y+y.height>this.canvas.height&&(y.height=this.canvas.height-y.y),this.context.drawImage(this.sketchCanvas,y.x,y.y,y.width,y.height,y.x,y.y,y.width,y.height);else{f=b.scale||1;var _=(h=b.translate)instanceof l.Point?h:new l.Point(0,0),M=0,T=0;if(h){var L=this.sketchCanvas.height-this.canvas.height;M=Math.round((this.sketchCanvas.width-this.canvas.width)/2),T=Math.round(L/2)}this.context.drawImage(this.sketchCanvas,_.x-M*f,_.y-T*f,(this.canvas.width+2*M)*f,(this.canvas.height+2*T)*f,-M,-T,this.canvas.width+2*M,this.canvas.height+2*T)}this.context.restore()}},drawDebugInfo:function(d,f,h,w){if(this.useCanvas){var b=this.viewer.world.getIndexOfItem(w)%this.debugGridColor.length,y=this.context;y.save(),y.lineWidth=2*l.pixelDensityRatio,y.font="small-caps bold "+13*l.pixelDensityRatio+"px arial",y.strokeStyle=this.debugGridColor[b],y.fillStyle=this.debugGridColor[b],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),w.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:w.getRotation(!0),point:w.viewport.pixelFromPointNoRotate(w._getRotationPoint(!0),!0)}),0===w.viewport.degrees&&w.getRotation(!0)%360==0&&w._drawer.viewer.viewport.getFlip()&&w._drawer._flip(),y.strokeRect(d.position.x*l.pixelDensityRatio,d.position.y*l.pixelDensityRatio,d.size.x*l.pixelDensityRatio,d.size.y*l.pixelDensityRatio);var _=(d.position.x+d.size.x/2)*l.pixelDensityRatio,M=(d.position.y+d.size.y/2)*l.pixelDensityRatio;y.translate(_,M),y.rotate(Math.PI/180*-this.viewport.degrees),y.translate(-_,-M),0===d.x&&0===d.y&&(y.fillText("Zoom: "+this.viewport.getZoom(),d.position.x*l.pixelDensityRatio,(d.position.y-30)*l.pixelDensityRatio),y.fillText("Pan: "+this.viewport.getBounds().toString(),d.position.x*l.pixelDensityRatio,(d.position.y-20)*l.pixelDensityRatio)),y.fillText("Level: "+d.level,(d.position.x+10)*l.pixelDensityRatio,(d.position.y+20)*l.pixelDensityRatio),y.fillText("Column: "+d.x,(d.position.x+10)*l.pixelDensityRatio,(d.position.y+30)*l.pixelDensityRatio),y.fillText("Row: "+d.y,(d.position.x+10)*l.pixelDensityRatio,(d.position.y+40)*l.pixelDensityRatio),y.fillText("Order: "+h+" of "+f,(d.position.x+10)*l.pixelDensityRatio,(d.position.y+50)*l.pixelDensityRatio),y.fillText("Size: "+d.size.toString(),(d.position.x+10)*l.pixelDensityRatio,(d.position.y+60)*l.pixelDensityRatio),y.fillText("Position: "+d.position.toString(),(d.position.x+10)*l.pixelDensityRatio,(d.position.y+70)*l.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),w.getRotation(!0)%360!=0&&this._restoreRotationChanges(),0===w.viewport.degrees&&w.getRotation(!0)%360==0&&w._drawer.viewer.viewport.getFlip()&&w._drawer._flip(),y.restore()}},debugRect:function(d){if(this.useCanvas){var f=this.context;f.save(),f.lineWidth=2*l.pixelDensityRatio,f.strokeStyle=this.debugGridColor[0],f.fillStyle=this.debugGridColor[0],f.strokeRect(d.x*l.pixelDensityRatio,d.y*l.pixelDensityRatio,d.width*l.pixelDensityRatio,d.height*l.pixelDensityRatio),f.restore()}},setImageSmoothingEnabled:function(d){this.useCanvas&&(this._imageSmoothingEnabled=d,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(d){d.msImageSmoothingEnabled=this._imageSmoothingEnabled,d.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(d){var f=this._getContext(d).canvas;return new l.Point(f.width,f.height)},getCanvasCenter:function(){return new l.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(d){var f=d.point?d.point.times(l.pixelDensityRatio):this.getCanvasCenter(),h=this._getContext(d.useSketch);h.save(),h.translate(f.x,f.y),this.viewer.viewport.flipped?(h.rotate(Math.PI/180*-d.degrees),h.scale(-1,1)):h.rotate(Math.PI/180*d.degrees),h.translate(-f.x,-f.y)},_flip:function(d){var f=(d=d||{}).point?d.point.times(l.pixelDensityRatio):this.getCanvasCenter(),h=this._getContext(d.useSketch);h.translate(f.x,0),h.scale(-1,1),h.translate(-f.x,0)},_restoreRotationChanges:function(d){this._getContext(d).restore()},_calculateCanvasSize:function(){var d=l.pixelDensityRatio,f=this.viewport.getContainerSize();return{x:Math.round(f.x*d),y:Math.round(f.y*d)}},_calculateSketchCanvasSize:function(){var d=this._calculateCanvasSize();if(0===this.viewport.getRotation())return d;var f=Math.ceil(Math.sqrt(d.x*d.x+d.y*d.y));return{x:f,y:f}}}}(q),function(l){l.Viewport=function(d){var f=arguments;f.length&&f[0]instanceof l.Point&&(d={containerSize:f[0],contentSize:f[1],config:f[2]}),d.config&&(l.extend(!0,d,d.config),delete d.config),this._margins=l.extend({left:0,top:0,right:0,bottom:0},d.margins||{}),delete d.margins,l.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:l.DEFAULT_SETTINGS.springStiffness,animationTime:l.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:l.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:l.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:l.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:l.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:l.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:l.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:l.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:l.DEFAULT_SETTINGS.maxZoomLevel,degrees:l.DEFAULT_SETTINGS.degrees,flipped:l.DEFAULT_SETTINGS.flipped,homeFillsViewer:l.DEFAULT_SETTINGS.homeFillsViewer},d),this._updateContainerInnerSize(),this.centerSpringX=new l.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new l.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new l.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new l.Rect(0,0,1,1),1),this.goHome(!0),this.update()},l.Viewport.prototype={resetContentSize:function(d){return l.console.assert(d,"[Viewport.resetContentSize] contentSize is required"),l.console.assert(d instanceof l.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),l.console.assert(d.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),l.console.assert(d.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new l.Rect(0,0,1,d.y/d.x),d.x),this},setHomeBounds:function(d,f){l.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(d,f)},_setContentBounds:function(d,f){l.console.assert(d,"[Viewport._setContentBounds] bounds is required"),l.console.assert(d instanceof l.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),l.console.assert(d.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),l.console.assert(d.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=d.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(f),this._contentBounds=d.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(f),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:f,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var d=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?d>=1?d:1:d>=1?1:d)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var d=this._contentBounds.getCenter(),f=1/this.getHomeZoom(),h=f/this.getAspectRatio();return new l.Rect(d.x-f/2,d.y-h/2,f,h)},goHome:function(d){return this.viewer&&this.viewer.raiseEvent("home",{immediately:d}),this.fitBounds(this.getHomeBounds(),d)},getMinZoom:function(){var d=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*d},getMaxZoom:function(){var d=this.maxZoomLevel;return d||(d=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,d/=this._contentBounds.width),Math.max(d,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new l.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return l.extend({},this._margins)},setMargins:function(d){l.console.assert("object"===l.type(d),"[Viewport.setMargins] margins must be an object"),this._margins=l.extend({left:0,top:0,right:0,bottom:0},d),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(d){return this.getBoundsNoRotate(d).rotate(-this.getRotation())},getBoundsNoRotate:function(d){var f=this.getCenter(d),h=1/this.getZoom(d),w=h/this.getAspectRatio();return new l.Rect(f.x-h/2,f.y-w/2,h,w)},getBoundsWithMargins:function(d){return this.getBoundsNoRotateWithMargins(d).rotate(-this.getRotation(),this.getCenter(d))},getBoundsNoRotateWithMargins:function(d){var f=this.getBoundsNoRotate(d),h=this._containerInnerSize.x*this.getZoom(d);return f.x-=this._margins.left/h,f.y-=this._margins.top/h,f.width+=(this._margins.left+this._margins.right)/h,f.height+=(this._margins.top+this._margins.bottom)/h,f},getCenter:function(d){var w,b,y,_,M,L,f=new l.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),h=new l.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return d?f:this.zoomPoint?(w=this.pixelFromPoint(this.zoomPoint,!0),_=(y=1/(b=this.getZoom()))/this.getAspectRatio(),M=new l.Rect(f.x-y/2,f.y-_/2,y,_),L=this._pixelFromPoint(this.zoomPoint,M).minus(w).divide(this._containerInnerSize.x*b),h.plus(L)):h},getZoom:function(d){return d?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(d){return Math.max(Math.min(d,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(d){var f=new l.Rect(d.x,d.y,d.width,d.height);if(!this.wrapHorizontal){var h=this.visibilityRatio*f.width,y=this._contentBoundsNoRotate.x-(f.x+f.width)+h,_=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width-f.x-h;h>this._contentBoundsNoRotate.width?f.x+=(y+_)/2:_<0?f.x+=_:y>0&&(f.x+=y)}if(!this.wrapVertical){var M=this.visibilityRatio*f.height,L=this._contentBoundsNoRotate.y-(f.y+f.height)+M,z=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height-f.y-M;M>this._contentBoundsNoRotate.height?f.y+=(L+z)/2:z<0?f.y+=z:L>0&&(f.y+=L)}return f},_raiseConstraintsEvent:function(d){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:d})},applyConstraints:function(d){var f=this.getZoom(),h=this._applyZoomConstraints(f);f!==h&&this.zoomTo(h,this.zoomPoint,d);var w=this.getBoundsNoRotate(),b=this._applyBoundaryConstraints(w);return this._raiseConstraintsEvent(d),(w.x!==b.x||w.y!==b.y||d)&&this.fitBounds(b.rotate(-this.getRotation()),d),this},ensureVisible:function(d){return this.applyConstraints(d)},_fitBounds:function(d,f){var h=(f=f||{}).immediately||!1,w=f.constraints||!1,b=this.getAspectRatio(),y=d.getCenter(),_=new l.Rect(d.x,d.y,d.width,d.height,d.degrees+this.getRotation()).getBoundingBox();_.getAspectRatio()>=b?_.height=_.width/b:_.width=_.height*b,_.x=y.x-_.width/2,_.y=y.y-_.height/2;var M=1/_.width;if(w){var T=_.getAspectRatio(),S=this._applyZoomConstraints(M);M!==S&&(_.width=1/(M=S),_.x=y.x-_.width/2,_.height=_.width/T,_.y=y.y-_.height/2),y=(_=this._applyBoundaryConstraints(_)).getCenter(),this._raiseConstraintsEvent(h)}if(h)return this.panTo(y,!0),this.zoomTo(M,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var L=this.getBounds(),z=this.getZoom();if(0===z||Math.abs(M/z-1)<1e-8)return this.zoomTo(M,!0),this.panTo(y,h);var te=(_=_.rotate(-this.getRotation())).getTopLeft().times(M).minus(L.getTopLeft().times(z)).divide(M-z);return this.zoomTo(M,te,h)},fitBounds:function(d,f){return this._fitBounds(d,{immediately:f,constraints:!1})},fitBoundsWithConstraints:function(d,f){return this._fitBounds(d,{immediately:f,constraints:!0})},fitVertically:function(d){var f=new l.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(f,d)},fitHorizontally:function(d){var f=new l.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(f,d)},getConstrainedBounds:function(d){var f;return f=this.getBounds(d),this._applyBoundaryConstraints(f)},panBy:function(d,f){var h=new l.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(h.plus(d),f)},panTo:function(d,f){return f?(this.centerSpringX.resetTo(d.x),this.centerSpringY.resetTo(d.y)):(this.centerSpringX.springTo(d.x),this.centerSpringY.springTo(d.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:d,immediately:f}),this},zoomBy:function(d,f,h){return this.zoomTo(this.zoomSpring.target.value*d,f,h)},zoomTo:function(d,f,h){var w=this;return this.zoomPoint=f instanceof l.Point&&!isNaN(f.x)&&!isNaN(f.y)?f:null,h?this._adjustCenterSpringsForZoomPoint(function(){w.zoomSpring.resetTo(d)}):this.zoomSpring.springTo(d),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:d,refPoint:f,immediately:h}),this},setRotation:function(d){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=l.positiveModulo(d,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:d}),this):this},getRotation:function(){return this.degrees},resize:function(d,f){var h=this.getBoundsNoRotate(),w=h;return this.containerSize.x=d.x,this.containerSize.y=d.y,this._updateContainerInnerSize(),f&&(w.width=h.width*(d.x/this.containerSize.x),w.height=w.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:d,maintain:f}),this.fitBounds(w,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new l.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var d=this;this._adjustCenterSpringsForZoomPoint(function(){d.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var f=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,f},_adjustCenterSpringsForZoomPoint:function(d){if(this.zoomPoint){var f=this.pixelFromPoint(this.zoomPoint,!0);d();var w=this.pixelFromPoint(this.zoomPoint,!0).minus(f),b=this.deltaPointsFromPixels(w,!0);this.centerSpringX.shiftBy(b.x),this.centerSpringY.shiftBy(b.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else d()},deltaPixelsFromPointsNoRotate:function(d,f){return d.times(this._containerInnerSize.x*this.getZoom(f))},deltaPixelsFromPoints:function(d,f){return this.deltaPixelsFromPointsNoRotate(d.rotate(this.getRotation()),f)},deltaPointsFromPixelsNoRotate:function(d,f){return d.divide(this._containerInnerSize.x*this.getZoom(f))},deltaPointsFromPixels:function(d,f){return this.deltaPointsFromPixelsNoRotate(d,f).rotate(-this.getRotation())},pixelFromPointNoRotate:function(d,f){return this._pixelFromPointNoRotate(d,this.getBoundsNoRotate(f))},pixelFromPoint:function(d,f){return this._pixelFromPoint(d,this.getBoundsNoRotate(f))},_pixelFromPointNoRotate:function(d,f){return d.minus(f.getTopLeft()).times(this._containerInnerSize.x/f.width).plus(new l.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(d,f){return this._pixelFromPointNoRotate(d.rotate(this.getRotation(),this.getCenter(!0)),f)},pointFromPixelNoRotate:function(d,f){var h=this.getBoundsNoRotate(f);return d.minus(new l.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/h.width).plus(h.getTopLeft())},pointFromPixel:function(d,f){return this.pointFromPixelNoRotate(d,f).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(d,f){var h=this._contentBoundsNoRotate.width;return new l.Point(d*this._contentSizeNoRotate.x/h,f*this._contentSizeNoRotate.x/h)},viewportToImageCoordinates:function(d,f){if(d instanceof l.Point)return this.viewportToImageCoordinates(d.x,d.y);if(this.viewer){var h=this.viewer.world.getItemCount();if(h>1)l.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===h)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(d,f,!0)}return this._viewportToImageDelta(d-this._contentBoundsNoRotate.x,f-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(d,f){var h=this._contentBoundsNoRotate.width;return new l.Point(d/this._contentSizeNoRotate.x*h,f/this._contentSizeNoRotate.x*h)},imageToViewportCoordinates:function(d,f){if(d instanceof l.Point)return this.imageToViewportCoordinates(d.x,d.y);if(this.viewer){var h=this.viewer.world.getItemCount();if(h>1)l.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===h)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(d,f,!0)}var b=this._imageToViewportDelta(d,f);return b.x+=this._contentBoundsNoRotate.x,b.y+=this._contentBoundsNoRotate.y,b},imageToViewportRectangle:function(d,f,h,w){var b=d;if(b instanceof l.Rect||(b=new l.Rect(d,f,h,w)),this.viewer){var y=this.viewer.world.getItemCount();if(y>1)l.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===y)return this.viewer.world.getItemAt(0).imageToViewportRectangle(d,f,h,w,!0)}var M=this.imageToViewportCoordinates(b.x,b.y),T=this._imageToViewportDelta(b.width,b.height);return new l.Rect(M.x,M.y,T.x,T.y,b.degrees)},viewportToImageRectangle:function(d,f,h,w){var b=d;if(b instanceof l.Rect||(b=new l.Rect(d,f,h,w)),this.viewer){var y=this.viewer.world.getItemCount();if(y>1)l.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===y)return this.viewer.world.getItemAt(0).viewportToImageRectangle(d,f,h,w,!0)}var M=this.viewportToImageCoordinates(b.x,b.y),T=this._viewportToImageDelta(b.width,b.height);return new l.Rect(M.x,M.y,T.x,T.y,b.degrees)},viewerElementToImageCoordinates:function(d){var f=this.pointFromPixel(d,!0);return this.viewportToImageCoordinates(f)},imageToViewerElementCoordinates:function(d){var f=this.imageToViewportCoordinates(d);return this.pixelFromPoint(f,!0)},windowToImageCoordinates:function(d){l.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var f=d.minus(l.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(f)},imageToWindowCoordinates:function(d){return l.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(d).plus(l.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(d){return this.pointFromPixel(d,!0)},viewportToViewerElementCoordinates:function(d){return this.pixelFromPoint(d,!0)},viewerElementToViewportRectangle:function(d){return l.Rect.fromSummits(this.pointFromPixel(d.getTopLeft(),!0),this.pointFromPixel(d.getTopRight(),!0),this.pointFromPixel(d.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(d){return l.Rect.fromSummits(this.pixelFromPoint(d.getTopLeft(),!0),this.pixelFromPoint(d.getTopRight(),!0),this.pixelFromPoint(d.getBottomLeft(),!0))},windowToViewportCoordinates:function(d){l.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var f=d.minus(l.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(f)},viewportToWindowCoordinates:function(d){return l.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(d).plus(l.getElementPosition(this.viewer.element))},viewportToImageZoom:function(d){if(this.viewer){var f=this.viewer.world.getItemCount();if(f>1)l.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===f)return this.viewer.world.getItemAt(0).viewportToImageZoom(d)}return d*(this._containerInnerSize.x/this._contentSizeNoRotate.x*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(d){if(this.viewer){var f=this.viewer.world.getItemCount();if(f>1)l.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===f)return this.viewer.world.getItemAt(0).imageToViewportZoom(d)}return d*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(d){return this.flipped===d||(this.flipped=d,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:d})),this}}}(q),function(l){function d(m,C,D,P,U,R,oe,X,le){var ye=oe.getBoundingBox().getTopLeft(),_e=oe.getBoundingBox().getBottomRight();m.viewer&&m.viewer.raiseEvent("update-level",{tiledImage:m,havedrawn:C,level:P,opacity:U,visibility:R,drawArea:oe,topleft:ye,bottomright:_e,currenttime:X,best:le}),z(m.coverage,P),z(m.loadingCoverage,P);var He=m._getCornerTiles(P,ye,_e),Ge=He.topLeft,Oe=He.bottomRight,dt=m.source.getNumTiles(P),Ye=m.viewport.pixelFromPoint(m.viewport.getCenter());m.getFlip()&&(Oe.x+=1,m.wrapHorizontal||(Oe.x=Math.min(Oe.x,dt.x-1)));for(var Pt=Ge.x;Pt<=Oe.x;Pt++)for(var st=Ge.y;st<=Oe.y;st++){var Ne;if(m.getFlip()){var _n=(dt.x+Pt%dt.x)%dt.x;Ne=Pt+dt.x-_n-_n-1}else Ne=Pt;null!==oe.intersection(m.getTileBounds(P,Ne,st))&&(le=f(m,D,C,Ne,st,P,U,R,Ye,dt,X,le))}return le}function f(m,C,D,P,U,R,oe,X,le,ye,_e,He){var Ge=function(m,C,D,P,U,R,oe,X,le,ye){var _e,He,Ge,Oe,dt,Ye,Pt,st,Ne;return R[D]||(R[D]={}),R[D][m]||(R[D][m]={}),(!R[D][m][C]||!R[D][m][C].flipped!=!P.flipped)&&(_e=(X.x+m%X.x)%X.x,He=(X.y+C%X.y)%X.y,Ge=P.getTileBounds(D,m,C),Oe=U.getTileBounds(D,_e,He,!0),dt=U.tileExists(D,_e,He),Ye=U.getTileUrl(D,_e,He),P.loadTilesWithAjax?(Pt=U.getTileAjaxHeaders(D,_e,He),l.isPlainObject(P.ajaxHeaders)&&(Pt=l.extend({},P.ajaxHeaders,Pt))):Pt=null,st=U.getContext2D?U.getContext2D(D,_e,He):void 0,Ne=new l.Tile(D,m,C,Ge,dt,Ye,st,P.loadTilesWithAjax,Pt,Oe),P.getFlip()?0===_e&&(Ne.isRightMost=!0):_e===X.x-1&&(Ne.isRightMost=!0),He===X.y-1&&(Ne.isBottomMost=!0),Ne.flipped=P.flipped,R[D][m][C]=Ne),(Ne=R[D][m][C]).lastTouchTime=oe,Ne}(P,U,R,m,m.source,m.tilesMatrix,_e,ye),Oe=D;m.viewer&&m.viewer.raiseEvent("update-tile",{tiledImage:m,tile:Ge}),L(m.coverage,R,P,U,!1);var dt=Ge.loaded||Ge.loading||S(m.loadingCoverage,R,P,U);if(L(m.loadingCoverage,R,P,U,dt),!Ge.exists||(C&&!Oe&&(S(m.coverage,R,P,U)?L(m.coverage,R,P,U,!0):Oe=!0),!Oe))return He;if(function(m,C,D,P,U,R){var oe=m.bounds.getTopLeft();oe.x*=R._scaleSpring.current.value,oe.y*=R._scaleSpring.current.value,oe.x+=R._xSpring.current.value,oe.y+=R._ySpring.current.value;var X=m.bounds.getSize();X.x*=R._scaleSpring.current.value,X.y*=R._scaleSpring.current.value;var le=D.pixelFromPointNoRotate(oe,!0),ye=D.pixelFromPointNoRotate(oe,!1),_e=D.deltaPixelsFromPointsNoRotate(X,!0),He=D.deltaPixelsFromPointsNoRotate(X,!1),Ge=ye.plus(He.divide(2)),Oe=P.squaredDistanceTo(Ge);C||(_e=_e.plus(new l.Point(1,1))),m.isRightMost&&R.wrapHorizontal&&(_e.x+=.75),m.isBottomMost&&R.wrapVertical&&(_e.y+=.75),m.position=le,m.size=_e,m.squaredDistance=Oe,m.visibility=U}(Ge,m.source.tileOverlap,m.viewport,le,X,m),!Ge.loaded)if(Ge.context2D)y(m,Ge);else{var Ye=m._tileCache.getImageRecord(Ge.cacheKey);Ye&&y(m,Ge,Ye.getImage())}if(Ge.loaded){var st=function(m,C,D,P,U,R,oe){var le,ye,X=1e3*m.blendTime;if(C.blendStart||(C.blendStart=oe),le=oe-C.blendStart,ye=X?Math.min(1,le/X):1,m.alwaysBlend&&(ye*=R),C.opacity=ye,m.lastDrawn.push(C),1===ye)L(m.coverage,U,D,P,!0),m._hasOpaqueTile=!0;else if(le<X)return!0;return!1}(m,Ge,P,U,R,oe,_e);st&&(m._needsDraw=!0)}else Ge.loading?m._tilesLoading++:dt||(He=function(m,C){return!m||C.visibility>m.visibility||C.visibility===m.visibility&&C.squaredDistance<m.squaredDistance?C:m}(He,Ge));return He}function y(m,C,D,P,U){var R=0;function oe(){return R++,X}function X(){0==--R&&(C.loading=!1,C.loaded=!0,C.context2D||m._tileCache.cacheTile({image:D,tile:C,cutoff:P,tiledImage:m}),m._needsDraw=!0)}m.viewer.raiseEvent("tile-loaded",{tile:C,tiledImage:m,tileRequest:U,image:D,getCompletionCallback:oe}),oe()()}function T(m,C,D,P){var U,R,oe,X;if(!m[C])return!1;if(void 0===D||void 0===P){for(oe in U=m[C])if(Object.prototype.hasOwnProperty.call(U,oe))for(X in R=U[oe])if(Object.prototype.hasOwnProperty.call(R,X)&&!R[X])return!1;return!0}return void 0===m[C][D]||void 0===m[C][D][P]||!0===m[C][D][P]}function S(m,C,D,P){return void 0===D||void 0===P?T(m,C+1):T(m,C+1,2*D,2*P)&&T(m,C+1,2*D,2*P+1)&&T(m,C+1,2*D+1,2*P)&&T(m,C+1,2*D+1,2*P+1)}function L(m,C,D,P,U){m[C]?(m[C][D]||(m[C][D]={}),m[C][D][P]=U):l.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",C)}function z(m,C){m[C]={}}l.TiledImage=function(m){var C=this;l.console.assert(m.tileCache,"[TiledImage] options.tileCache is required"),l.console.assert(m.drawer,"[TiledImage] options.drawer is required"),l.console.assert(m.viewer,"[TiledImage] options.viewer is required"),l.console.assert(m.imageLoader,"[TiledImage] options.imageLoader is required"),l.console.assert(m.source,"[TiledImage] options.source is required"),l.console.assert(!m.clip||m.clip instanceof l.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),l.EventSource.call(this),this._tileCache=m.tileCache,delete m.tileCache,this._drawer=m.drawer,delete m.drawer,this._imageLoader=m.imageLoader,delete m.imageLoader,m.clip instanceof l.Rect&&(this._clip=m.clip.clone()),delete m.clip;var D=m.x||0;delete m.x;var P=m.y||0;delete m.y,this.normHeight=m.source.dimensions.y/m.source.dimensions.x,this.contentAspectX=m.source.dimensions.x/m.source.dimensions.y;var U=1;m.width?(U=m.width,delete m.width,m.height&&(l.console.error("specifying both width and height to a tiledImage is not supported"),delete m.height)):m.height&&(U=m.height/this.normHeight,delete m.height);var R=m.fitBounds;delete m.fitBounds;var oe=m.fitBoundsPlacement||q.Placement.CENTER;delete m.fitBoundsPlacement;var X=m.degrees||0;delete m.degrees,l.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:l.DEFAULT_SETTINGS.springStiffness,animationTime:l.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:l.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:l.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:l.DEFAULT_SETTINGS.wrapVertical,immediateRender:l.DEFAULT_SETTINGS.immediateRender,blendTime:l.DEFAULT_SETTINGS.blendTime,alwaysBlend:l.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:l.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:l.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:l.DEFAULT_SETTINGS.iOSDevice,debugMode:l.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:l.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:l.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:l.DEFAULT_SETTINGS.placeholderFillStyle,opacity:l.DEFAULT_SETTINGS.opacity,preload:l.DEFAULT_SETTINGS.preload,compositeOperation:l.DEFAULT_SETTINGS.compositeOperation},m),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new l.Spring({initial:D,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new l.Spring({initial:P,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new l.Spring({initial:U,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new l.Spring({initial:X,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),R&&this.fitBounds(R,oe,!0),this._drawingHandler=function(le){C.viewer.raiseEvent("tile-drawing",l.extend({tiledImage:C},le))}},l.extend(l.TiledImage.prototype,l.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(m){m!==this._fullyLoaded&&(this._fullyLoaded=m,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=l.now(),this._needsDraw=!0},update:function(){var m=this._xSpring.update(),C=this._ySpring.update(),D=this._scaleSpring.update(),P=this._degreesSpring.update();return!!(m||C||D||P)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(m){return this.getBoundsNoRotate(m).rotate(this.getRotation(m),this._getRotationPoint(m))},getBoundsNoRotate:function(m){return m?new l.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new l.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return l.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(m){var C=this.getBoundsNoRotate(m);if(this._clip){var U=this._clip.times((m?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x);C=new l.Rect(C.x+U.x,C.y+U.y,U.width,U.height)}return C.rotate(this.getRotation(m),this._getRotationPoint(m))},getTileBounds:function(m,C,D){var P=this.source.getNumTiles(m),U=(P.x+C%P.x)%P.x,R=(P.y+D%P.y)%P.y,oe=this.source.getTileBounds(m,U,R);return this.getFlip()&&(oe.x=1-oe.x-oe.width),oe.x+=(C-U)/P.x,oe.y+=this._worldHeightCurrent/this._worldWidthCurrent*((D-R)/P.y),oe},getContentSize:function(){return new l.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var m=this.imageToWindowCoordinates(new l.Point(0,0)),C=this.imageToWindowCoordinates(this.getContentSize());return new l.Point(C.x-m.x,C.y-m.y)},_viewportToImageDelta:function(m,C,D){var P=D?this._scaleSpring.current.value:this._scaleSpring.target.value;return new l.Point(m*(this.source.dimensions.x/P),C*(this.source.dimensions.y*this.contentAspectX/P))},viewportToImageCoordinates:function(m,C,D){var P;return m instanceof l.Point?(D=C,P=m):P=new l.Point(m,C),P=P.rotate(-this.getRotation(D),this._getRotationPoint(D)),D?this._viewportToImageDelta(P.x-this._xSpring.current.value,P.y-this._ySpring.current.value):this._viewportToImageDelta(P.x-this._xSpring.target.value,P.y-this._ySpring.target.value)},_imageToViewportDelta:function(m,C,D){var P=D?this._scaleSpring.current.value:this._scaleSpring.target.value;return new l.Point(m/this.source.dimensions.x*P,C/this.source.dimensions.y/this.contentAspectX*P)},imageToViewportCoordinates:function(m,C,D){m instanceof l.Point&&(D=C,C=m.y,m=m.x);var P=this._imageToViewportDelta(m,C);return D?(P.x+=this._xSpring.current.value,P.y+=this._ySpring.current.value):(P.x+=this._xSpring.target.value,P.y+=this._ySpring.target.value),P.rotate(this.getRotation(D),this._getRotationPoint(D))},imageToViewportRectangle:function(m,C,D,P,U){var R=m;R instanceof l.Rect?U=C:R=new l.Rect(m,C,D,P);var oe=this.imageToViewportCoordinates(R.getTopLeft(),U),X=this._imageToViewportDelta(R.width,R.height,U);return new l.Rect(oe.x,oe.y,X.x,X.y,R.degrees+this.getRotation(U))},viewportToImageRectangle:function(m,C,D,P,U){var R=m;m instanceof l.Rect?U=C:R=new l.Rect(m,C,D,P);var oe=this.viewportToImageCoordinates(R.getTopLeft(),U),X=this._viewportToImageDelta(R.width,R.height,U);return new l.Rect(oe.x,oe.y,X.x,X.y,R.degrees-this.getRotation(U))},viewerElementToImageCoordinates:function(m){var C=this.viewport.pointFromPixel(m,!0);return this.viewportToImageCoordinates(C)},imageToViewerElementCoordinates:function(m){var C=this.imageToViewportCoordinates(m);return this.viewport.pixelFromPoint(C,!0)},windowToImageCoordinates:function(m){var C=m.minus(q.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(C)},imageToWindowCoordinates:function(m){return this.imageToViewerElementCoordinates(m).plus(q.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(m){var C=this._scaleSpring.current.value;return m=m.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new l.Rect((m.x-this._xSpring.current.value)/C,(m.y-this._ySpring.current.value)/C,m.width/C,m.height/C,m.degrees)},viewportToImageZoom:function(m){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*m},imageToViewportZoom:function(m){return m/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(m,C){var D=this._xSpring.target.value===m.x&&this._ySpring.target.value===m.y;if(C){if(D&&this._xSpring.current.value===m.x&&this._ySpring.current.value===m.y)return;this._xSpring.resetTo(m.x),this._ySpring.resetTo(m.y),this._needsDraw=!0}else{if(D)return;this._xSpring.springTo(m.x),this._ySpring.springTo(m.y),this._needsDraw=!0}D||this._raiseBoundsChange()},setWidth:function(m,C){this._setScale(m,C)},setHeight:function(m,C){this._setScale(m/this.normHeight,C)},setCroppingPolygons:function(m){try{if(!l.isArray(m))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=m.map(function(P){return function(P){return P.map(function(U){try{if(function(P){return P instanceof l.Point||"number"==typeof P.x&&"number"==typeof P.y}(U))return{x:U.x,y:U.y};throw new Error}catch(R){throw new Error("A Provided cropping polygon point is not supported")}})}(P)})}catch(P){l.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),l.console.error(P),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(m,C,D){var P=l.Placement.properties[C=C||l.Placement.CENTER],U=this.contentAspectX,R=0,oe=0,X=1,le=1;if(this._clip&&(U=this._clip.getAspectRatio(),X=this._clip.width/this.source.dimensions.x,le=this._clip.height/this.source.dimensions.y,m.getAspectRatio()>U?(R=this._clip.x/this._clip.height*m.height,oe=this._clip.y/this._clip.height*m.height):(R=this._clip.x/this._clip.width*m.width,oe=this._clip.y/this._clip.width*m.width)),m.getAspectRatio()>U){var ye=m.height/le,_e=0;P.isHorizontallyCentered?_e=(m.width-m.height*U)/2:P.isRight&&(_e=m.width-m.height*U),this.setPosition(new l.Point(m.x-R+_e,m.y-oe),D),this.setHeight(ye,D)}else{var He=m.width/X,Ge=0;P.isVerticallyCentered?Ge=(m.height-m.width/U)/2:P.isBottom&&(Ge=m.height-m.width/U),this.setPosition(new l.Point(m.x-R,m.y-oe+Ge),D),this.setWidth(He,D)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(m){l.console.assert(!m||m instanceof l.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),this._clip=m instanceof l.Rect?m.clone():null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(m){this.flipped=!!m,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(m){m!==this.opacity&&(this.opacity=m,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(m){this._preload=!!m,this._needsDraw=!0},getRotation:function(m){return m?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(m,C){this._degreesSpring.target.value===m&&this._degreesSpring.isAtTargetValue()||(C?this._degreesSpring.resetTo(m):this._degreesSpring.springTo(m),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(m){return this.getBoundsNoRotate(m).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(m){m!==this.compositeOperation&&(this.compositeOperation=m,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(m,C){var D=this._scaleSpring.target.value===m;if(C){if(D&&this._scaleSpring.current.value===m)return;this._scaleSpring.resetTo(m),this._updateForScale(),this._needsDraw=!0}else{if(D)return;this._scaleSpring.springTo(m),this._updateForScale(),this._needsDraw=!0}D||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var m=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),C=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,D=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(C/this.minPixelRatio)/Math.log(2))));return D=Math.max(D,this.source.minLevel||0),{lowestLevel:m=Math.min(m,D),highestLevel:D}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;)this.lastDrawn.pop().beingDrawn=!1;var C=this.viewport,D=this._viewportToTiledImageRectangle(C.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var P=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(D=D.intersection(P)))return}for(var U=this._getLevelsInterval(),R=U.lowestLevel,oe=U.highestLevel,X=null,le=!1,ye=l.now(),_e=oe;_e>=R;_e--){var He=!1,Ge=C.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(_e),!0).x*this._scaleSpring.current.value;if(_e===R||!le&&Ge>=this.minPixelRatio)He=!0,le=!0;else if(!le)continue;var Oe=C.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(_e),!1).x*this._scaleSpring.current.value,dt=C.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,Ye=this.immediateRender?1:dt;if(X=d(this,le,He,_e,Math.min(1,(Ge-.5)/.5),Ye/Math.abs(Ye-Oe),D,ye,X),T(this.coverage,_e))break}(function(m,C){if(0!==m.opacity&&(0!==C.length||m.placeholderFillStyle)){var P,D=C[0];D&&(P=m.opacity<1||m.compositeOperation&&"source-over"!==m.compositeOperation||!m._isBottomItem()&&D._hasTransparencyChannel());var U,R,le,oe=m.viewport.getZoom(!0),X=m.viewportToImageZoom(oe);C.length>1&&X>m.smoothTileEdgesMinZoom&&!m.iOSDevice&&m.getRotation(!0)%360==0&&l.supportsCanvas&&(P=!0,U=D.getScaleForEdgeSmoothing(),R=D.getTranslationForEdgeSmoothing(U,m._drawer.getCanvasSize(!1),m._drawer.getCanvasSize(!0))),P&&(U||(le=m.viewport.viewportToViewerElementRectangle(m.getClippedBounds(!0)).getIntegerBoundingBox(),m._drawer.viewer.viewport.getFlip()&&(0!==m.viewport.degrees||m.getRotation(!0)%360!=0)&&(le.x=m._drawer.viewer.container.clientWidth-(le.x+le.width)),le=le.times(l.pixelDensityRatio)),m._drawer._clear(!0,le)),U||(0!==m.viewport.degrees&&m._drawer._offsetForRotation({degrees:m.viewport.degrees,useSketch:P}),m.getRotation(!0)%360!=0&&m._drawer._offsetForRotation({degrees:m.getRotation(!0),point:m.viewport.pixelFromPointNoRotate(m._getRotationPoint(!0),!0),useSketch:P}),0===m.viewport.degrees&&m.getRotation(!0)%360==0&&m._drawer.viewer.viewport.getFlip()&&m._drawer._flip());var ye=!1;if(m._clip){m._drawer.saveContext(P);var _e=m.imageToViewportRectangle(m._clip,!0);_e=_e.rotate(-m.getRotation(!0),m._getRotationPoint(!0));var He=m._drawer.viewportToDrawerRectangle(_e);U&&(He=He.times(U)),R&&(He=He.translate(R)),m._drawer.setClip(He,P),ye=!0}if(m._croppingPolygons){m._drawer.saveContext(P);try{var Ge=m._croppingPolygons.map(function(Pt){return Pt.map(function(st){var Ne=m.imageToViewportCoordinates(st.x,st.y,!0).rotate(-m.getRotation(!0),m._getRotationPoint(!0)),_n=m._drawer.viewportCoordToDrawerCoord(Ne);return U&&(_n=_n.times(U)),_n})});m._drawer.clipWithPolygons(Ge,P)}catch(Pt){l.console.error(Pt)}ye=!0}if(m.placeholderFillStyle&&!1===m._hasOpaqueTile){var Oe=m._drawer.viewportToDrawerRectangle(m.getBounds(!0));U&&(Oe=Oe.times(U)),R&&(Oe=Oe.translate(R));var dt;dt="function"==typeof m.placeholderFillStyle?m.placeholderFillStyle(m,m._drawer.context):m.placeholderFillStyle,m._drawer.drawRectangle(Oe,dt,P)}for(var Ye=C.length-1;Ye>=0;Ye--)m._drawer.drawTile(D=C[Ye],m._drawingHandler,P,U,R),D.beingDrawn=!0,m.viewer&&m.viewer.raiseEvent("tile-drawn",{tiledImage:m,tile:D});ye&&m._drawer.restoreContext(P),U||(m.getRotation(!0)%360!=0&&m._drawer._restoreRotationChanges(P),0!==m.viewport.degrees&&m._drawer._restoreRotationChanges(P)),P&&(U&&(0!==m.viewport.degrees&&m._drawer._offsetForRotation({degrees:m.viewport.degrees,useSketch:!1}),m.getRotation(!0)%360!=0&&m._drawer._offsetForRotation({degrees:m.getRotation(!0),point:m.viewport.pixelFromPointNoRotate(m._getRotationPoint(!0),!0),useSketch:!1})),m._drawer.blendSketch({opacity:m.opacity,scale:U,translate:R,compositeOperation:m.compositeOperation,bounds:le}),U&&(m.getRotation(!0)%360!=0&&m._drawer._restoreRotationChanges(!1),0!==m.viewport.degrees&&m._drawer._restoreRotationChanges(!1))),U||0===m.viewport.degrees&&m.getRotation(!0)%360==0&&m._drawer.viewer.viewport.getFlip()&&m._drawer._flip(),function(m,C){if(m.debugMode)for(var D=C.length-1;D>=0;D--){var P=C[D];try{m._drawer.drawDebugInfo(P,C.length,D,m)}catch(U){l.console.error(U)}}}(m,C)}})(this,this.lastDrawn),X&&!X.context2D?(function(m,C,D){C.loading=!0,m._imageLoader.addJob({src:C.url,loadWithAjax:C.loadWithAjax,ajaxHeaders:C.ajaxHeaders,crossOriginPolicy:m.crossOriginPolicy,ajaxWithCredentials:m.ajaxWithCredentials,callback:function(P,U,R){!function(m,C,D,P,U,R){if(!P)return l.console.log("Tile %s failed to load: %s - error: %s",C,C.url,U),m.viewer.raiseEvent("tile-load-failed",{tile:C,tiledImage:m,time:D,message:U,tileRequest:R}),C.loading=!1,void(C.exists=!1);if(D<m.lastResetTime)return l.console.log("Ignoring tile %s loaded before reset: %s",C,C.url),void(C.loading=!1);var oe=function(){var X=m.source.getClosestLevel();y(m,C,P,X,R)};m._midDraw?window.setTimeout(oe,1):oe()}(m,C,D,P,U,R)},abort:function(){C.loading=!1}})}(this,X,ye),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(m,C,D){var P,U;this.wrapHorizontal?(P=l.positiveModulo(C.x,1),U=l.positiveModulo(D.x,1)):(P=Math.max(0,C.x),U=Math.min(1,D.x));var R,oe,X=1/this.source.aspectRatio;this.wrapVertical?(R=l.positiveModulo(C.y,X),oe=l.positiveModulo(D.y,X)):(R=Math.max(0,C.y),oe=Math.min(X,D.y));var le=this.source.getTileAtPoint(m,new l.Point(P,R)),ye=this.source.getTileAtPoint(m,new l.Point(U,oe)),_e=this.source.getNumTiles(m);return this.wrapHorizontal&&(le.x+=_e.x*Math.floor(C.x),ye.x+=_e.x*Math.floor(D.x)),this.wrapVertical&&(le.y+=_e.y*Math.floor(C.y/X),ye.y+=_e.y*Math.floor(D.y/X)),{topLeft:le,bottomRight:ye}}})}(q),function(l){var d=function(h){l.console.assert(h,"[TileCache.cacheTile] options is required"),l.console.assert(h.tile,"[TileCache.cacheTile] options.tile is required"),l.console.assert(h.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=h.tile,this.tiledImage=h.tiledImage},f=function(h){l.console.assert(h,"[ImageRecord] options is required"),l.console.assert(h.image,"[ImageRecord] options.image is required"),this._image=h.image,this._tiles=[]};f.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var h=document.createElement("canvas");h.width=this._image.width,h.height=this._image.height,this._renderedContext=h.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(h){l.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=h},addTile:function(h){l.console.assert(h,"[ImageRecord.addTile] tile is required"),this._tiles.push(h)},removeTile:function(h){for(var w=0;w<this._tiles.length;w++)if(this._tiles[w]===h)return void this._tiles.splice(w,1);l.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",h)},getTileCount:function(){return this._tiles.length}},l.TileCache=function(h){this._maxImageCacheCount=(h=h||{}).maxImageCacheCount||l.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},l.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(h){l.console.assert(h,"[TileCache.cacheTile] options is required"),l.console.assert(h.tile,"[TileCache.cacheTile] options.tile is required"),l.console.assert(h.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),l.console.assert(h.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var w=h.cutoff||0,b=this._tilesLoaded.length,y=this._imagesLoaded[h.tile.cacheKey];if(y||(l.console.assert(h.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),y=this._imagesLoaded[h.tile.cacheKey]=new f({image:h.image}),this._imagesLoadedCount++),y.addTile(h.tile),h.tile.cacheImageRecord=y,this._imagesLoadedCount>this._maxImageCacheCount){for(var S,L,te,B,_=null,M=-1,T=null,m=this._tilesLoaded.length-1;m>=0;m--)if(!((S=(B=this._tilesLoaded[m]).tile).level<=w||S.beingDrawn)){if(!_){_=S,M=m,T=B;continue}((te=S.lastTouchTime)<(L=_.lastTouchTime)||te===L&&S.level>_.level)&&(_=S,M=m,T=B)}_&&M>=0&&(this._unloadTile(T),b=M)}this._tilesLoaded[b]=new d({tile:h.tile,tiledImage:h.tiledImage})},clearTilesFor:function(h){l.console.assert(h,"[TileCache.clearTilesFor] tiledImage is required");for(var w,b=0;b<this._tilesLoaded.length;++b)(w=this._tilesLoaded[b]).tiledImage===h&&(this._unloadTile(w),this._tilesLoaded.splice(b,1),b--)},getImageRecord:function(h){return l.console.assert(h,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[h]},_unloadTile:function(h){l.console.assert(h,"[TileCache._unloadTile] tileRecord is required");var w=h.tile,b=h.tiledImage;w.unload(),w.cacheImageRecord=null;var y=this._imagesLoaded[w.cacheKey];y.removeTile(w),y.getTileCount()||(y.destroy(),delete this._imagesLoaded[w.cacheKey],this._imagesLoadedCount--),b.viewer.raiseEvent("tile-unloaded",{tile:w,tiledImage:b})}}}(q),function(l){l.World=function(d){var f=this;l.console.assert(d.viewer,"[World] options.viewer is required"),l.EventSource.call(this),this.viewer=d.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(h){f._autoRefigureSizes?f._figureSizes():f._needsSizesFigured=!0},this._figureSizes()},l.extend(l.World.prototype,l.EventSource.prototype,{addItem:function(d,f){if(l.console.assert(d,"[World.addItem] item is required"),l.console.assert(d instanceof l.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(f=f||{}).index){var h=Math.max(0,Math.min(this._items.length,f.index));this._items.splice(h,0,d)}else this._items.push(d);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,d.addHandler("bounds-change",this._delegatedFigureSizes),d.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:d})},getItemAt:function(d){return l.console.assert(void 0!==d,"[World.getItemAt] index is required"),this._items[d]},getIndexOfItem:function(d){return l.console.assert(d,"[World.getIndexOfItem] item is required"),l.indexOf(this._items,d)},getItemCount:function(){return this._items.length},setItemIndex:function(d,f){l.console.assert(d,"[World.setItemIndex] item is required"),l.console.assert(void 0!==f,"[World.setItemIndex] index is required");var h=this.getIndexOfItem(d);if(f>=this._items.length)throw new Error("Index bigger than number of layers.");f===h||-1===h||(this._items.splice(h,1),this._items.splice(f,0,d),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:d,previousIndex:h,newIndex:f}))},removeItem:function(d){l.console.assert(d,"[World.removeItem] item is required");var f=l.indexOf(this._items,d);-1!==f&&(d.removeHandler("bounds-change",this._delegatedFigureSizes),d.removeHandler("clip-change",this._delegatedFigureSizes),d.destroy(),this._items.splice(f,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(d))},removeAll:function(){var d,f;for(this.viewer._cancelPendingImages(),f=0;f<this._items.length;f++)(d=this._items[f]).removeHandler("bounds-change",this._delegatedFigureSizes),d.removeHandler("clip-change",this._delegatedFigureSizes),d.destroy();var h=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,f=0;f<h.length;f++)this._raiseRemoveItem(d=h[f])},resetItems:function(){for(var d=0;d<this._items.length;d++)this._items[d].reset()},update:function(){for(var d=!1,f=0;f<this._items.length;f++)d=this._items[f].update()||d;return d},draw:function(){for(var d=0;d<this._items.length;d++)this._items[d].draw();this._needsDraw=!1},needsDraw:function(){for(var d=0;d<this._items.length;d++)if(this._items[d].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(d){this._autoRefigureSizes=d,d&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(d){var T,f=(d=d||{}).immediately||!1,h=d.layout||l.DEFAULT_SETTINGS.collectionLayout,b=d.columns||l.DEFAULT_SETTINGS.collectionColumns,y=d.tileSize||l.DEFAULT_SETTINGS.collectionTileSize,M=y+(d.tileMargin||l.DEFAULT_SETTINGS.collectionTileMargin);T=!d.rows&&b?b:Math.ceil(this._items.length/(d.rows||l.DEFAULT_SETTINGS.collectionRows));var z,te,F,m,S=0,L=0;this.setAutoRefigureSizes(!1);for(var C=0;C<this._items.length;C++)C&&C%T==0&&("horizontal"===h?(L+=M,S=0):(S+=M,L=0)),te=(z=this._items[C]).getBounds(),m=new l.Point(S+(y-(F=te.width>te.height?y:y*(te.width/te.height)))/2,L+(y-F*(te.height/te.width))/2),z.setPosition(m,f),z.setWidth(F,f),"horizontal"===h?S+=M:L+=M;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var d=this._homeBounds?this._homeBounds.clone():null,f=this._contentSize?this._contentSize.clone():null,h=this._contentFactor||0;if(this._items.length){var w=this._items[0],b=w.getBounds();this._contentFactor=w.getContentSize().x/b.width;for(var y=w.getClippedBounds().getBoundingBox(),_=y.x,M=y.y,T=y.x+y.width,S=y.y+y.height,L=1;L<this._items.length;L++)b=(w=this._items[L]).getBounds(),this._contentFactor=Math.max(this._contentFactor,w.getContentSize().x/b.width),y=w.getClippedBounds().getBoundingBox(),_=Math.min(_,y.x),M=Math.min(M,y.y),T=Math.max(T,y.x+y.width),S=Math.max(S,y.y+y.height);this._homeBounds=new l.Rect(_,M,T-_,S-M),this._contentSize=new l.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new l.Rect(0,0,1,1),this._contentSize=new l.Point(1,1),this._contentFactor=1;(this._contentFactor!==h||!this._homeBounds.equals(d)||!this._contentSize.equals(f))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(d){this.raiseEvent("remove-item",{item:d})}})}(q)},4977:(Se,xe,$)=>{var K=$(3548),Q=K.Buffer;function q(d,f){for(var h in d)f[h]=d[h]}function l(d,f,h){return Q(d,f,h)}Q.from&&Q.alloc&&Q.allocUnsafe&&Q.allocUnsafeSlow?Se.exports=K:(q(K,xe),xe.Buffer=l),l.prototype=Object.create(Q.prototype),q(Q,l),l.from=function(d,f,h){if("number"==typeof d)throw new TypeError("Argument must not be a number");return Q(d,f,h)},l.alloc=function(d,f,h){if("number"!=typeof d)throw new TypeError("Argument must be a number");var w=Q(d);return void 0!==f?"string"==typeof h?w.fill(f,h):w.fill(f):w.fill(0),w},l.allocUnsafe=function(d){if("number"!=typeof d)throw new TypeError("Argument must be a number");return Q(d)},l.allocUnsafeSlow=function(d){if("number"!=typeof d)throw new TypeError("Argument must be a number");return K.SlowBuffer(d)}},9236:(Se,xe,$)=>{!function(K){K.parser=function(Z,V){return new q(Z,V)},K.SAXParser=q,K.SAXStream=y,K.createStream=function(Z,V){return new y(Z,V)},K.MAX_BUFFER_LENGTH=65536;var h,Q=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function q(Z,V){if(!(this instanceof q))return new q(Z,V);var Ee=this;(function(Z){for(var V=0,Ee=Q.length;V<Ee;V++)Z[Q[V]]=""})(Ee),Ee.q=Ee.c="",Ee.bufferCheckPosition=K.MAX_BUFFER_LENGTH,Ee.opt=V||{},Ee.opt.lowercase=Ee.opt.lowercase||Ee.opt.lowercasetags,Ee.looseCase=Ee.opt.lowercase?"toLowerCase":"toUpperCase",Ee.tags=[],Ee.closed=Ee.closedRoot=Ee.sawRoot=!1,Ee.tag=Ee.error=null,Ee.strict=!!Z,Ee.noscript=!(!Z&&!Ee.opt.noscript),Ee.state=R.BEGIN,Ee.strictEntities=Ee.opt.strictEntities,Ee.ENTITIES=Object.create(Ee.strictEntities?K.XML_ENTITIES:K.ENTITIES),Ee.attribList=[],Ee.opt.xmlns&&(Ee.ns=Object.create(L)),Ee.trackPosition=!1!==Ee.opt.position,Ee.trackPosition&&(Ee.position=Ee.line=Ee.column=0),X(Ee,"onready")}K.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(Z){function V(){}return V.prototype=Z,new V}),Object.keys||(Object.keys=function(Z){var V=[];for(var Ee in Z)Z.hasOwnProperty(Ee)&&V.push(Ee);return V}),q.prototype={end:function(){Ge(this)},write:function(Z){var V=this;if(this.error)throw this.error;if(V.closed)return He(V,"Cannot write after close. Assign an onready handler.");if(null===Z)return Ge(V);"object"==typeof Z&&(Z=Z.toString());for(var Ee=0,he="";he=Yt(Z,Ee++),V.c=he,he;)switch(V.trackPosition&&(V.position++,"\n"===he?(V.line++,V.column=0):V.column++),V.state){case R.BEGIN:if(V.state=R.BEGIN_WHITESPACE,"\ufeff"===he)continue;ri(V,he);continue;case R.BEGIN_WHITESPACE:ri(V,he);continue;case R.TEXT:if(V.sawRoot&&!V.closedRoot){for(var Lt=Ee-1;he&&"<"!==he&&"&"!==he;)(he=Yt(Z,Ee++))&&V.trackPosition&&(V.position++,"\n"===he?(V.line++,V.column=0):V.column++);V.textNode+=Z.substring(Lt,Ee-1)}"<"!==he||V.sawRoot&&V.closedRoot&&!V.strict?(!m(he)&&(!V.sawRoot||V.closedRoot)&&Oe(V,"Text data outside of root node."),"&"===he?V.state=R.TEXT_ENTITY:V.textNode+=he):(V.state=R.OPEN_WAKA,V.startTagPosition=V.position);continue;case R.SCRIPT:"<"===he?V.state=R.SCRIPT_ENDING:V.script+=he;continue;case R.SCRIPT_ENDING:"/"===he?V.state=R.CLOSE_TAG:(V.script+="<"+he,V.state=R.SCRIPT);continue;case R.OPEN_WAKA:"!"===he?(V.state=R.SGML_DECL,V.sgmlDecl=""):m(he)||(P(z,he)?(V.state=R.OPEN_TAG,V.tagName=he):"/"===he?(V.state=R.CLOSE_TAG,V.tagName=""):"?"===he?(V.state=R.PROC_INST,V.procInstName=V.procInstBody=""):(Oe(V,"Unencoded <"),V.startTagPosition+1<V.position&&(he=new Array(V.position-V.startTagPosition).join(" ")+he),V.textNode+="<"+he,V.state=R.TEXT));continue;case R.SGML_DECL:"[CDATA["===(V.sgmlDecl+he).toUpperCase()?(le(V,"onopencdata"),V.state=R.CDATA,V.sgmlDecl="",V.cdata=""):V.sgmlDecl+he==="--"?(V.state=R.COMMENT,V.comment="",V.sgmlDecl=""):"DOCTYPE"===(V.sgmlDecl+he).toUpperCase()?(V.state=R.DOCTYPE,(V.doctype||V.sawRoot)&&Oe(V,"Inappropriately located doctype declaration"),V.doctype="",V.sgmlDecl=""):">"===he?(le(V,"onsgmldeclaration",V.sgmlDecl),V.sgmlDecl="",V.state=R.TEXT):(C(he)&&(V.state=R.SGML_DECL_QUOTED),V.sgmlDecl+=he);continue;case R.SGML_DECL_QUOTED:he===V.q&&(V.state=R.SGML_DECL,V.q=""),V.sgmlDecl+=he;continue;case R.DOCTYPE:">"===he?(V.state=R.TEXT,le(V,"ondoctype",V.doctype),V.doctype=!0):(V.doctype+=he,"["===he?V.state=R.DOCTYPE_DTD:C(he)&&(V.state=R.DOCTYPE_QUOTED,V.q=he));continue;case R.DOCTYPE_QUOTED:V.doctype+=he,he===V.q&&(V.q="",V.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:V.doctype+=he,"]"===he?V.state=R.DOCTYPE:C(he)&&(V.state=R.DOCTYPE_DTD_QUOTED,V.q=he);continue;case R.DOCTYPE_DTD_QUOTED:V.doctype+=he,he===V.q&&(V.state=R.DOCTYPE_DTD,V.q="");continue;case R.COMMENT:"-"===he?V.state=R.COMMENT_ENDING:V.comment+=he;continue;case R.COMMENT_ENDING:"-"===he?(V.state=R.COMMENT_ENDED,V.comment=_e(V.opt,V.comment),V.comment&&le(V,"oncomment",V.comment),V.comment=""):(V.comment+="-"+he,V.state=R.COMMENT);continue;case R.COMMENT_ENDED:">"!==he?(Oe(V,"Malformed comment"),V.comment+="--"+he,V.state=R.COMMENT):V.state=R.TEXT;continue;case R.CDATA:"]"===he?V.state=R.CDATA_ENDING:V.cdata+=he;continue;case R.CDATA_ENDING:"]"===he?V.state=R.CDATA_ENDING_2:(V.cdata+="]"+he,V.state=R.CDATA);continue;case R.CDATA_ENDING_2:">"===he?(V.cdata&&le(V,"oncdata",V.cdata),le(V,"onclosecdata"),V.cdata="",V.state=R.TEXT):"]"===he?V.cdata+="]":(V.cdata+="]]"+he,V.state=R.CDATA);continue;case R.PROC_INST:"?"===he?V.state=R.PROC_INST_ENDING:m(he)?V.state=R.PROC_INST_BODY:V.procInstName+=he;continue;case R.PROC_INST_BODY:if(!V.procInstBody&&m(he))continue;"?"===he?V.state=R.PROC_INST_ENDING:V.procInstBody+=he;continue;case R.PROC_INST_ENDING:">"===he?(le(V,"onprocessinginstruction",{name:V.procInstName,body:V.procInstBody}),V.procInstName=V.procInstBody="",V.state=R.TEXT):(V.procInstBody+="?"+he,V.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:P(te,he)?V.tagName+=he:(dt(V),">"===he?st(V):"/"===he?V.state=R.OPEN_TAG_SLASH:(m(he)||Oe(V,"Invalid character in tag name"),V.state=R.ATTRIB));continue;case R.OPEN_TAG_SLASH:">"===he?(st(V,!0),Ne(V)):(Oe(V,"Forward-slash in opening tag not followed by >"),V.state=R.ATTRIB);continue;case R.ATTRIB:if(m(he))continue;">"===he?st(V):"/"===he?V.state=R.OPEN_TAG_SLASH:P(z,he)?(V.attribName=he,V.attribValue="",V.state=R.ATTRIB_NAME):Oe(V,"Invalid attribute name");continue;case R.ATTRIB_NAME:"="===he?V.state=R.ATTRIB_VALUE:">"===he?(Oe(V,"Attribute without value"),V.attribValue=V.attribName,Pt(V),st(V)):m(he)?V.state=R.ATTRIB_NAME_SAW_WHITE:P(te,he)?V.attribName+=he:Oe(V,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if("="===he)V.state=R.ATTRIB_VALUE;else{if(m(he))continue;Oe(V,"Attribute without value"),V.tag.attributes[V.attribName]="",V.attribValue="",le(V,"onattribute",{name:V.attribName,value:""}),V.attribName="",">"===he?st(V):P(z,he)?(V.attribName=he,V.state=R.ATTRIB_NAME):(Oe(V,"Invalid attribute name"),V.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(m(he))continue;C(he)?(V.q=he,V.state=R.ATTRIB_VALUE_QUOTED):(Oe(V,"Unquoted attribute value"),V.state=R.ATTRIB_VALUE_UNQUOTED,V.attribValue=he);continue;case R.ATTRIB_VALUE_QUOTED:if(he!==V.q){"&"===he?V.state=R.ATTRIB_VALUE_ENTITY_Q:V.attribValue+=he;continue}Pt(V),V.q="",V.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:m(he)?V.state=R.ATTRIB:">"===he?st(V):"/"===he?V.state=R.OPEN_TAG_SLASH:P(z,he)?(Oe(V,"No whitespace between attributes"),V.attribName=he,V.attribValue="",V.state=R.ATTRIB_NAME):Oe(V,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(!D(he)){"&"===he?V.state=R.ATTRIB_VALUE_ENTITY_U:V.attribValue+=he;continue}Pt(V),">"===he?st(V):V.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(V.tagName)">"===he?Ne(V):P(te,he)?V.tagName+=he:V.script?(V.script+="</"+V.tagName,V.tagName="",V.state=R.SCRIPT):(m(he)||Oe(V,"Invalid tagname in closing tag"),V.state=R.CLOSE_TAG_SAW_WHITE);else{if(m(he))continue;U(z,he)?V.script?(V.script+="</"+he,V.state=R.SCRIPT):Oe(V,"Invalid tagname in closing tag."):V.tagName=he}continue;case R.CLOSE_TAG_SAW_WHITE:if(m(he))continue;">"===he?Ne(V):Oe(V,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:var zt,pn;switch(V.state){case R.TEXT_ENTITY:zt=R.TEXT,pn="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:zt=R.ATTRIB_VALUE_QUOTED,pn="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:zt=R.ATTRIB_VALUE_UNQUOTED,pn="attribValue"}";"===he?(V[pn]+=_n(V),V.entity="",V.state=zt):P(V.entity.length?B:F,he)?V.entity+=he:(Oe(V,"Invalid character in entity name"),V[pn]+="&"+V.entity+he,V.entity="",V.state=zt);continue;default:throw new Error(V,"Unknown state: "+V.state)}return V.position>=V.bufferCheckPosition&&function(Z){for(var V=Math.max(K.MAX_BUFFER_LENGTH,10),Ee=0,he=0,Lt=Q.length;he<Lt;he++){var rn=Z[Q[he]].length;if(rn>V)switch(Q[he]){case"textNode":ye(Z);break;case"cdata":le(Z,"oncdata",Z.cdata),Z.cdata="";break;case"script":le(Z,"onscript",Z.script),Z.script="";break;default:He(Z,"Max buffer length exceeded: "+Q[he])}Ee=Math.max(Ee,rn)}Z.bufferCheckPosition=K.MAX_BUFFER_LENGTH-Ee+Z.position}(V),V},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var Z;ye(Z=this),""!==Z.cdata&&(le(Z,"oncdata",Z.cdata),Z.cdata=""),""!==Z.script&&(le(Z,"onscript",Z.script),Z.script="")}};try{h=$(7993).Stream}catch(Z){h=function(){}}var w=K.EVENTS.filter(function(Z){return"error"!==Z&&"end"!==Z});function y(Z,V){if(!(this instanceof y))return new y(Z,V);h.apply(this),this._parser=new q(Z,V),this.writable=!0,this.readable=!0;var Ee=this;this._parser.onend=function(){Ee.emit("end")},this._parser.onerror=function(he){Ee.emit("error",he),Ee._parser.error=null},this._decoder=null,w.forEach(function(he){Object.defineProperty(Ee,"on"+he,{get:function(){return Ee._parser["on"+he]},set:function(Lt){if(!Lt)return Ee.removeAllListeners(he),Ee._parser["on"+he]=Lt,Lt;Ee.on(he,Lt)},enumerable:!0,configurable:!1})})}(y.prototype=Object.create(h.prototype,{constructor:{value:y}})).write=function(Z){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(Z)){if(!this._decoder){var V=$(4303).s;this._decoder=new V("utf8")}Z=this._decoder.write(Z)}return this._parser.write(Z.toString()),this.emit("data",Z),!0},y.prototype.end=function(Z){return Z&&Z.length&&this.write(Z),this._parser.end(),!0},y.prototype.on=function(Z,V){var Ee=this;return!Ee._parser["on"+Z]&&-1!==w.indexOf(Z)&&(Ee._parser["on"+Z]=function(){var he=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);he.splice(0,0,Z),Ee.emit.apply(Ee,he)}),h.prototype.on.call(Ee,Z,V)};var T="http://www.w3.org/XML/1998/namespace",S="http://www.w3.org/2000/xmlns/",L={xml:T,xmlns:S},z=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,te=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,F=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(Z){return" "===Z||"\n"===Z||"\r"===Z||"\t"===Z}function C(Z){return'"'===Z||"'"===Z}function D(Z){return">"===Z||m(Z)}function P(Z,V){return Z.test(V)}function U(Z,V){return!P(Z,V)}var Z,V,Ee,R=0;for(var oe in K.STATE={BEGIN:R++,BEGIN_WHITESPACE:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},K.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},K.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(K.ENTITIES).forEach(function(Z){var V=K.ENTITIES[Z],Ee="number"==typeof V?String.fromCharCode(V):V;K.ENTITIES[Z]=Ee}),K.STATE)K.STATE[K.STATE[oe]]=oe;function X(Z,V,Ee){Z[V]&&Z[V](Ee)}function le(Z,V,Ee){Z.textNode&&ye(Z),X(Z,V,Ee)}function ye(Z){Z.textNode=_e(Z.opt,Z.textNode),Z.textNode&&X(Z,"ontext",Z.textNode),Z.textNode=""}function _e(Z,V){return Z.trim&&(V=V.trim()),Z.normalize&&(V=V.replace(/\s+/g," ")),V}function He(Z,V){return ye(Z),Z.trackPosition&&(V+="\nLine: "+Z.line+"\nColumn: "+Z.column+"\nChar: "+Z.c),V=new Error(V),Z.error=V,X(Z,"onerror",V),Z}function Ge(Z){return Z.sawRoot&&!Z.closedRoot&&Oe(Z,"Unclosed root tag"),Z.state!==R.BEGIN&&Z.state!==R.BEGIN_WHITESPACE&&Z.state!==R.TEXT&&He(Z,"Unexpected end"),ye(Z),Z.c="",Z.closed=!0,X(Z,"onend"),q.call(Z,Z.strict,Z.opt),Z}function Oe(Z,V){if("object"!=typeof Z||!(Z instanceof q))throw new Error("bad call to strictFail");Z.strict&&He(Z,V)}function dt(Z){Z.strict||(Z.tagName=Z.tagName[Z.looseCase]());var V=Z.tags[Z.tags.length-1]||Z,Ee=Z.tag={name:Z.tagName,attributes:{}};Z.opt.xmlns&&(Ee.ns=V.ns),Z.attribList.length=0,le(Z,"onopentagstart",Ee)}function Ye(Z,V){var he=Z.indexOf(":")<0?["",Z]:Z.split(":"),Lt=he[0],rn=he[1];return V&&"xmlns"===Z&&(Lt="xmlns",rn=""),{prefix:Lt,local:rn}}function Pt(Z){if(Z.strict||(Z.attribName=Z.attribName[Z.looseCase]()),-1!==Z.attribList.indexOf(Z.attribName)||Z.tag.attributes.hasOwnProperty(Z.attribName))Z.attribName=Z.attribValue="";else{if(Z.opt.xmlns){var V=Ye(Z.attribName,!0),he=V.local;if("xmlns"===V.prefix)if("xml"===he&&Z.attribValue!==T)Oe(Z,"xml: prefix must be bound to "+T+"\nActual: "+Z.attribValue);else if("xmlns"===he&&Z.attribValue!==S)Oe(Z,"xmlns: prefix must be bound to "+S+"\nActual: "+Z.attribValue);else{var Lt=Z.tag,rn=Z.tags[Z.tags.length-1]||Z;Lt.ns===rn.ns&&(Lt.ns=Object.create(rn.ns)),Lt.ns[he]=Z.attribValue}Z.attribList.push([Z.attribName,Z.attribValue])}else Z.tag.attributes[Z.attribName]=Z.attribValue,le(Z,"onattribute",{name:Z.attribName,value:Z.attribValue});Z.attribName=Z.attribValue=""}}function st(Z,V){if(Z.opt.xmlns){var Ee=Z.tag,he=Ye(Z.tagName);Ee.prefix=he.prefix,Ee.local=he.local,Ee.uri=Ee.ns[he.prefix]||"",Ee.prefix&&!Ee.uri&&(Oe(Z,"Unbound namespace prefix: "+JSON.stringify(Z.tagName)),Ee.uri=he.prefix),Ee.ns&&(Z.tags[Z.tags.length-1]||Z).ns!==Ee.ns&&Object.keys(Ee.ns).forEach(function(pe){le(Z,"onopennamespace",{prefix:pe,uri:Ee.ns[pe]})});for(var rn=0,zt=Z.attribList.length;rn<zt;rn++){var pn=Z.attribList[rn],In=pn[0],g=pn[1],v=Ye(In,!0),E=v.prefix,J=""===E?"":Ee.ns[E]||"",ce={name:In,value:g,prefix:E,local:v.local,uri:J};E&&"xmlns"!==E&&!J&&(Oe(Z,"Unbound namespace prefix: "+JSON.stringify(E)),ce.uri=E),Z.tag.attributes[In]=ce,le(Z,"onattribute",ce)}Z.attribList.length=0}Z.tag.isSelfClosing=!!V,Z.sawRoot=!0,Z.tags.push(Z.tag),le(Z,"onopentag",Z.tag),V||(Z.state=Z.noscript||"script"!==Z.tagName.toLowerCase()?R.TEXT:R.SCRIPT,Z.tag=null,Z.tagName=""),Z.attribName=Z.attribValue="",Z.attribList.length=0}function Ne(Z){if(!Z.tagName)return Oe(Z,"Weird empty close tag."),Z.textNode+="</>",void(Z.state=R.TEXT);if(Z.script){if("script"!==Z.tagName)return Z.script+="</"+Z.tagName+">",Z.tagName="",void(Z.state=R.SCRIPT);le(Z,"onscript",Z.script),Z.script=""}var V=Z.tags.length,Ee=Z.tagName;Z.strict||(Ee=Ee[Z.looseCase]());for(var he=Ee;V--&&Z.tags[V].name!==he;)Oe(Z,"Unexpected close tag");if(V<0)return Oe(Z,"Unmatched closing tag: "+Z.tagName),Z.textNode+="</"+Z.tagName+">",void(Z.state=R.TEXT);Z.tagName=Ee;for(var rn=Z.tags.length;rn-- >V;){var zt=Z.tag=Z.tags.pop();Z.tagName=Z.tag.name,le(Z,"onclosetag",Z.tagName);var pn={};for(var In in zt.ns)pn[In]=zt.ns[In];Z.opt.xmlns&&zt.ns!==(Z.tags[Z.tags.length-1]||Z).ns&&Object.keys(zt.ns).forEach(function(v){le(Z,"onclosenamespace",{prefix:v,uri:zt.ns[v]})})}0===V&&(Z.closedRoot=!0),Z.tagName=Z.attribValue=Z.attribName="",Z.attribList.length=0,Z.state=R.TEXT}function _n(Z){var he,V=Z.entity,Ee=V.toLowerCase(),Lt="";return Z.ENTITIES[V]?Z.ENTITIES[V]:Z.ENTITIES[Ee]?Z.ENTITIES[Ee]:("#"===(V=Ee).charAt(0)&&("x"===V.charAt(1)?(V=V.slice(2),Lt=(he=parseInt(V,16)).toString(16)):(V=V.slice(1),Lt=(he=parseInt(V,10)).toString(10))),V=V.replace(/^0+/,""),isNaN(he)||Lt.toLowerCase()!==V?(Oe(Z,"Invalid character entity"),"&"+Z.entity+";"):String.fromCodePoint(he))}function ri(Z,V){"<"===V?(Z.state=R.OPEN_WAKA,Z.startTagPosition=Z.position):m(V)||(Oe(Z,"Non-whitespace before first tag."),Z.textNode=V,Z.state=R.TEXT)}function Yt(Z,V){var Ee="";return V<Z.length&&(Ee=Z.charAt(V)),Ee}R=K.STATE,String.fromCodePoint||(Z=String.fromCharCode,V=Math.floor,Ee=function(){var he=16384,Lt=[],pn=-1,In=arguments.length;if(!In)return"";for(var g="";++pn<In;){var v=Number(arguments[pn]);if(!isFinite(v)||v<0||v>1114111||V(v)!==v)throw RangeError("Invalid code point: "+v);v<=65535?Lt.push(v):Lt.push(55296+((v-=65536)>>10),v%1024+56320),(pn+1===In||Lt.length>he)&&(g+=Z.apply(null,Lt),Lt.length=0)}return g},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Ee,configurable:!0,writable:!0}):String.fromCodePoint=Ee)}(xe)},7993:(Se,xe,$)=>{var K=$(7146);function Q(){K.call(this)}Q.prototype=new K,Se.exports=Q,Q.Stream=Q,Q.prototype.pipe=function(q,l){var d=this;function f(T){q.writable&&!1===q.write(T)&&d.pause&&d.pause()}function h(){d.readable&&d.resume&&d.resume()}d.on("data",f),q.on("drain",h),!q._isStdio&&(!l||!1!==l.end)&&(d.on("end",b),d.on("close",y));var w=!1;function b(){w||(w=!0,q.end())}function y(){w||(w=!0,"function"==typeof q.destroy&&q.destroy())}function _(T){if(M(),!this.hasListeners("error"))throw T}function M(){d.off("data",f),q.off("drain",h),d.off("end",b),d.off("close",y),d.off("error",_),q.off("error",_),d.off("end",M),d.off("close",M),q.off("end",M),q.off("close",M)}return d.on("error",_),q.on("error",_),d.on("end",M),d.on("close",M),q.on("end",M),q.on("close",M),q.emit("pipe",d),q}},4303:(Se,xe,$)=>{"use strict";var K=$(4977).Buffer,Q=K.isEncoding||function(F){switch((F=""+F)&&F.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(F){var B;switch(this.encoding=function(F){var B=function(F){if(!F)return"utf8";for(var B;;)switch(F){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return F;default:if(B)return;F=(""+F).toLowerCase(),B=!0}}(F);if("string"!=typeof B&&(K.isEncoding===Q||!Q(F)))throw new Error("Unknown encoding: "+F);return B||F}(F),this.encoding){case"utf16le":this.text=M,this.end=T,B=4;break;case"utf8":this.fillLast=b,B=4;break;case"base64":this.text=S,this.end=L,B=3;break;default:return this.write=z,void(this.end=te)}this.lastNeed=0,this.lastTotal=0,this.lastChar=K.allocUnsafe(B)}function f(F){return F<=127?0:F>>5==6?2:F>>4==14?3:F>>3==30?4:F>>6==2?-1:-2}function b(F){var B=this.lastTotal-this.lastNeed,m=function(F,B,m){if(128!=(192&B[0]))return F.lastNeed=0,"\ufffd";if(F.lastNeed>1&&B.length>1){if(128!=(192&B[1]))return F.lastNeed=1,"\ufffd";if(F.lastNeed>2&&B.length>2&&128!=(192&B[2]))return F.lastNeed=2,"\ufffd"}}(this,F);return void 0!==m?m:this.lastNeed<=F.length?(F.copy(this.lastChar,B,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(F.copy(this.lastChar,B,0,F.length),void(this.lastNeed-=F.length))}function M(F,B){if((F.length-B)%2==0){var m=F.toString("utf16le",B);if(m){var C=m.charCodeAt(m.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1],m.slice(0,-1)}return m}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=F[F.length-1],F.toString("utf16le",B,F.length-1)}function T(F){var B=F&&F.length?this.write(F):"";return this.lastNeed?B+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):B}function S(F,B){var m=(F.length-B)%3;return 0===m?F.toString("base64",B):(this.lastNeed=3-m,this.lastTotal=3,1===m?this.lastChar[0]=F[F.length-1]:(this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1]),F.toString("base64",B,F.length-m))}function L(F){var B=F&&F.length?this.write(F):"";return this.lastNeed?B+this.lastChar.toString("base64",0,3-this.lastNeed):B}function z(F){return F.toString(this.encoding)}function te(F){return F&&F.length?this.write(F):""}xe.s=d,d.prototype.write=function(F){if(0===F.length)return"";var B,m;if(this.lastNeed){if(void 0===(B=this.fillLast(F)))return"";m=this.lastNeed,this.lastNeed=0}else m=0;return m<F.length?B?B+this.text(F,m):this.text(F,m):B||""},d.prototype.end=function(F){var B=F&&F.length?this.write(F):"";return this.lastNeed?B+"\ufffd":B},d.prototype.text=function(F,B){var m=function(F,B,m){var C=B.length-1;if(C<m)return 0;var D=f(B[C]);return D>=0?(D>0&&(F.lastNeed=D-1),D):--C<m||-2===D?0:(D=f(B[C]))>=0?(D>0&&(F.lastNeed=D-2),D):--C<m||-2===D?0:(D=f(B[C]))>=0?(D>0&&(2===D?D=0:F.lastNeed=D-3),D):0}(this,F,B);if(!this.lastNeed)return F.toString("utf8",B);this.lastTotal=m;var C=F.length-(m-this.lastNeed);return F.copy(this.lastChar,0,C),F.toString("utf8",B,C)},d.prototype.fillLast=function(F){if(this.lastNeed<=F.length)return F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,F.length),this.lastNeed-=F.length}},4069:(Se,xe)=>{var K={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};for(var Q in K)"millisecond"===Q?K.ms=K[Q]:K[Q.charAt(0)]=K[Q],K[Q+"s"]=K[Q];function q(f){this.count=0;var h=function(f){var h=f.match(l);return h&&K[h[2]]?h.slice(1):null}(f);h&&(this.time=Number(h[0])*K[h[1]],this.type=h[1])}q.prototype.do=function(f){this.time&&(this.interval=setInterval(function(){h.count++,f.call(h)},this.time));var h=this;return this},q.prototype.stop=function(){return this.interval&&(clearInterval(this.interval),delete this.interval),this};var l=/^\s*(\d+(?:\.\d+)?)\s*([a-z]+)\s*$/},5319:function(Se,xe){(function(){"use strict";xe.stripBOM=function($){return"\ufeff"===$[0]?$.substring(1):$}}).call(this)},8876:function(Se,xe,$){(function(){"use strict";var K,Q,q,l,d,f={}.hasOwnProperty;K=$(2307),Q=$(769).defaults,l=function(h){return"string"==typeof h&&(h.indexOf("&")>=0||h.indexOf(">")>=0||h.indexOf("<")>=0)},d=function(h){return"<![CDATA["+q(h)+"]]>"},q=function(h){return h.replace("]]>","]]]]><![CDATA[>")},xe.Builder=function(){function h(w){var b,y;for(b in this.options={},y=Q[.2])!f.call(y,b)||(this.options[b]=y[b]);for(b in w)!f.call(w,b)||(this.options[b]=w[b])}return h.prototype.buildObject=function(w){var b,y,_,M,T,S;return b=this.options.attrkey,y=this.options.charkey,1===Object.keys(w).length&&this.options.rootName===Q[.2].rootName?w=w[T=Object.keys(w)[0]]:T=this.options.rootName,S=this,_=function(L,z){var te,F,B,m,C;if("object"!=typeof z)S.options.cdata&&l(z)?L.raw(d(z)):L.txt(z);else if(Array.isArray(z)){for(m in z)if(f.call(z,m))for(C in F=z[m])B=F[C],L=_(L.ele(C),B).up()}else for(C in z)if(f.call(z,C))if(F=z[C],C===b){if("object"==typeof F)for(te in F)L=L.att(te,F[te])}else if(C===y)L=S.options.cdata&&l(F)?L.raw(d(F)):L.txt(F);else if(Array.isArray(F))for(m in F)!f.call(F,m)||(L="string"==typeof(B=F[m])?S.options.cdata&&l(B)?L.ele(C).raw(d(B)).up():L.ele(C,B).up():_(L.ele(C),B).up());else"object"==typeof F?L=_(L.ele(C),F).up():"string"==typeof F&&S.options.cdata&&l(F)?L=L.ele(C).raw(d(F)).up():(null==F&&(F=""),L=L.ele(C,F.toString()).up());return L},M=K.create(T,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),_(M,w).end(this.options.renderOpts)},h}()}).call(this)},769:function(Se,xe){(function(){xe.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},8487:function(Se,xe,$){(function(){"use strict";var K,Q,q,l,d,f,h,w,b=function(M,T){return function(){return M.apply(T,arguments)}},_={}.hasOwnProperty;h=$(9236),q=$(8138),K=$(5319),f=$(7324),w=$(4069).setImmediate,Q=$(769).defaults,l=function(M){return"object"==typeof M&&null!=M&&0===Object.keys(M).length},d=function(M,T,S){var L,z;for(L=0,z=M.length;L<z;L++)T=(0,M[L])(T,S);return T},xe.Parser=function(M){function T(S){var L,z;if(this.parseStringPromise=b(this.parseStringPromise,this),this.parseString=b(this.parseString,this),this.reset=b(this.reset,this),this.assignOrPush=b(this.assignOrPush,this),this.processAsync=b(this.processAsync,this),!(this instanceof xe.Parser))return new xe.Parser(S);for(L in this.options={},z=Q[.2])!_.call(z,L)||(this.options[L]=z[L]);for(L in S)!_.call(S,L)||(this.options[L]=S[L]);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(f.normalize)),this.reset()}return function(M,T){for(var S in T)_.call(T,S)&&(M[S]=T[S]);function L(){this.constructor=M}L.prototype=T.prototype,M.prototype=new L,M.__super__=T.prototype}(T,M),T.prototype.processAsync=function(){var S,L;try{return this.remaining.length<=this.options.chunkSize?(S=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(S),this.saxParser.close()):(S=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(S),w(this.processAsync))}catch(z){if(L=z,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(L)}},T.prototype.assignOrPush=function(S,L,z){return L in S?(S[L]instanceof Array||(S[L]=[S[L]]),S[L].push(z)):S[L]=this.options.explicitArray?[z]:z},T.prototype.reset=function(){var S,L,z,te,F;return this.removeAllListeners(),this.saxParser=h.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(F=this,function(B){if(F.saxParser.resume(),!F.saxParser.errThrown)return F.saxParser.errThrown=!0,F.emit("error",B)}),this.saxParser.onend=function(F){return function(){if(!F.saxParser.ended)return F.saxParser.ended=!0,F.emit("end",F.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,te=[],S=this.options.attrkey,L=this.options.charkey,this.saxParser.onopentag=function(F){return function(B){var m,C,D,P,U;if((D={})[L]="",!F.options.ignoreAttrs)for(m in U=B.attributes)!_.call(U,m)||(!(S in D)&&!F.options.mergeAttrs&&(D[S]={}),C=F.options.attrValueProcessors?d(F.options.attrValueProcessors,B.attributes[m],m):B.attributes[m],P=F.options.attrNameProcessors?d(F.options.attrNameProcessors,m):m,F.options.mergeAttrs?F.assignOrPush(D,P,C):D[S][P]=C);return D["#name"]=F.options.tagNameProcessors?d(F.options.tagNameProcessors,B.name):B.name,F.options.xmlns&&(D[F.options.xmlnskey]={uri:B.uri,local:B.local}),te.push(D)}}(this),this.saxParser.onclosetag=function(F){return function(){var B,m,C,D,P,U,R,oe,X,le;if(U=te.pop(),P=U["#name"],(!F.options.explicitChildren||!F.options.preserveChildrenOrder)&&delete U["#name"],!0===U.cdata&&(B=U.cdata,delete U.cdata),X=te[te.length-1],U[L].match(/^\s*$/)&&!B?(m=U[L],delete U[L]):(F.options.trim&&(U[L]=U[L].trim()),F.options.normalize&&(U[L]=U[L].replace(/\s{2,}/g," ").trim()),U[L]=F.options.valueProcessors?d(F.options.valueProcessors,U[L],P):U[L],1===Object.keys(U).length&&L in U&&!F.EXPLICIT_CHARKEY&&(U=U[L])),l(U)&&(U=""!==F.options.emptyTag?F.options.emptyTag:m),null!=F.options.validator&&(le="/"+function(){var ye,_e,He;for(He=[],ye=0,_e=te.length;ye<_e;ye++)He.push((D=te[ye])["#name"]);return He}().concat(P).join("/"),function(){try{U=F.options.validator(le,X&&X[P],U)}catch(_e){return F.emit("error",_e)}}()),F.options.explicitChildren&&!F.options.mergeAttrs&&"object"==typeof U)if(F.options.preserveChildrenOrder){if(X){for(C in X[F.options.childkey]=X[F.options.childkey]||[],R={},U)!_.call(U,C)||(R[C]=U[C]);X[F.options.childkey].push(R),delete U["#name"],1===Object.keys(U).length&&L in U&&!F.EXPLICIT_CHARKEY&&(U=U[L])}}else D={},F.options.attrkey in U&&(D[F.options.attrkey]=U[F.options.attrkey],delete U[F.options.attrkey]),!F.options.charsAsChildren&&F.options.charkey in U&&(D[F.options.charkey]=U[F.options.charkey],delete U[F.options.charkey]),Object.getOwnPropertyNames(U).length>0&&(D[F.options.childkey]=U),U=D;return te.length>0?F.assignOrPush(X,P,U):(F.options.explicitRoot&&(oe=U,(U={})[P]=oe),F.resultObject=U,F.saxParser.ended=!0,F.emit("end",F.resultObject))}}(this),z=function(F){return function(B){var m,C;if(C=te[te.length-1])return C[L]+=B,F.options.explicitChildren&&F.options.preserveChildrenOrder&&F.options.charsAsChildren&&(F.options.includeWhiteChars||""!==B.replace(/\\n/g,"").trim())&&(C[F.options.childkey]=C[F.options.childkey]||[],(m={"#name":"__text__"})[L]=B,F.options.normalize&&(m[L]=m[L].replace(/\s{2,}/g," ").trim()),C[F.options.childkey].push(m)),C}}(this),this.saxParser.ontext=z,this.saxParser.oncdata=function(B){var m;if(m=z(B))return m.cdata=!0}},T.prototype.parseString=function(S,L){var z;null!=L&&"function"==typeof L&&(this.on("end",function(te){return this.reset(),L(null,te)}),this.on("error",function(te){return this.reset(),L(te)}));try{return""===(S=S.toString()).trim()?(this.emit("end",null),!0):(S=K.stripBOM(S),this.options.async?(this.remaining=S,w(this.processAsync),this.saxParser):this.saxParser.write(S).close())}catch(te){if(z=te,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",z),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw z}},T.prototype.parseStringPromise=function(S){return new Promise((L=this,function(z,te){return L.parseString(S,function(F,B){return F?te(F):z(B)})}));var L},T}(q),xe.parseString=function(M,T,S){var L,z;return null!=S?("function"==typeof S&&(L=S),"object"==typeof T&&(z=T)):("function"==typeof T&&(L=T),z={}),new xe.Parser(z).parseString(M,L)},xe.parseStringPromise=function(M,T){var S;return"object"==typeof T&&(S=T),new xe.Parser(S).parseStringPromise(M)}}).call(this)},7324:function(Se,xe){(function(){"use strict";var $;$=new RegExp(/(?!xmlns)^.*:/),xe.normalize=function(K){return K.toLowerCase()},xe.firstCharLowerCase=function(K){return K.charAt(0).toLowerCase()+K.slice(1)},xe.stripPrefix=function(K){return K.replace($,"")},xe.parseNumbers=function(K){return isNaN(K)||(K=K%1==0?parseInt(K,10):parseFloat(K)),K},xe.parseBooleans=function(K){return/^(?:true|false)$/i.test(K)&&(K="true"===K.toLowerCase()),K}}).call(this)},414:function(Se,xe,$){(function(){"use strict";var K,Q,q,l,f={}.hasOwnProperty;Q=$(769),K=$(8876),q=$(8487),l=$(7324),xe.defaults=Q.defaults,xe.processors=l,xe.ValidationError=function(h){function w(b){this.message=b}return function(h,w){for(var b in w)f.call(w,b)&&(h[b]=w[b]);function y(){this.constructor=h}y.prototype=w.prototype,h.prototype=new y,h.__super__=w.prototype}(w,Error),w}(),xe.Builder=K.Builder,xe.Parser=q.Parser,xe.parseString=q.parseString,xe.parseStringPromise=q.parseStringPromise}).call(this)},4110:function(Se){(function(){Se.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},3227:function(Se){(function(){Se.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},392:function(Se){(function(){var xe,$,K,Q,q,l,d,f=[].slice,h={}.hasOwnProperty;xe=function(){var w,b,y,_,M,T;if(T=arguments[0],M=2<=arguments.length?f.call(arguments,1):[],q(Object.assign))Object.assign.apply(null,arguments);else for(w=0,y=M.length;w<y;w++)if(null!=(_=M[w]))for(b in _)!h.call(_,b)||(T[b]=_[b]);return T},q=function(w){return!!w&&"[object Function]"===Object.prototype.toString.call(w)},l=function(w){var b;return!!w&&("function"==(b=typeof w)||"object"===b)},K=function(w){return q(Array.isArray)?Array.isArray(w):"[object Array]"===Object.prototype.toString.call(w)},Q=function(w){var b;if(K(w))return!w.length;for(b in w)if(h.call(w,b))return!1;return!0},d=function(w){var b,y;return l(w)&&(y=Object.getPrototypeOf(w))&&(b=y.constructor)&&"function"==typeof b&&b instanceof b&&Function.prototype.toString.call(b)===Function.prototype.toString.call(Object)},$=function(w){return q(w.valueOf)?w.valueOf():w},Se.exports.assign=xe,Se.exports.isFunction=q,Se.exports.isObject=l,Se.exports.isArray=K,Se.exports.isEmpty=Q,Se.exports.isPlainObject=d,Se.exports.getValue=$}).call(this)},2036:function(Se){(function(){Se.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},9640:function(Se,xe,$){(function(){var K;K=$(3227),$(6015),Se.exports=function(){function l(d,f,h){if(this.parent=d,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==f)throw new Error("Missing attribute name. "+this.debugInfo(f));this.name=this.stringify.name(f),this.value=this.stringify.attValue(h),this.type=K.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(l.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(l.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(l.prototype,"textContent",{get:function(){return this.value},set:function(d){return this.value=d||""}}),Object.defineProperty(l.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(l.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(l.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(l.prototype,"specified",{get:function(){return!0}}),l.prototype.clone=function(){return Object.create(this)},l.prototype.toString=function(d){return this.options.writer.attribute(this,this.options.writer.filterOptions(d))},l.prototype.debugInfo=function(d){return null==(d=d||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+d+"}, parent: <"+this.parent.name+">"},l.prototype.isEqualNode=function(d){return!(d.namespaceURI!==this.namespaceURI||d.prefix!==this.prefix||d.localName!==this.localName||d.value!==this.value)},l}()}).call(this)},7208:function(Se,xe,$){(function(){var K,q,d={}.hasOwnProperty;K=$(3227),q=$(2364),Se.exports=function(f){function h(w,b){if(h.__super__.constructor.call(this,w),null==b)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=K.CData,this.value=this.stringify.cdata(b)}return function(f,h){for(var w in h)d.call(h,w)&&(f[w]=h[w]);function b(){this.constructor=f}b.prototype=h.prototype,f.prototype=new b,f.__super__=h.prototype}(h,f),h.prototype.clone=function(){return Object.create(this)},h.prototype.toString=function(w){return this.options.writer.cdata(this,this.options.writer.filterOptions(w))},h}(q)}).call(this)},2364:function(Se,xe,$){(function(){var Q,l={}.hasOwnProperty;Q=$(6015),Se.exports=function(d){function f(h){f.__super__.constructor.call(this,h),this.value=""}return function(d,f){for(var h in f)l.call(f,h)&&(d[h]=f[h]);function w(){this.constructor=d}w.prototype=f.prototype,d.prototype=new w,d.__super__=f.prototype}(f,d),Object.defineProperty(f.prototype,"data",{get:function(){return this.value},set:function(h){return this.value=h||""}}),Object.defineProperty(f.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(f.prototype,"textContent",{get:function(){return this.value},set:function(h){return this.value=h||""}}),f.prototype.clone=function(){return Object.create(this)},f.prototype.substringData=function(h,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.appendData=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.insertData=function(h,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.deleteData=function(h,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.replaceData=function(h,w,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.isEqualNode=function(h){return!(!f.__super__.isEqualNode.apply(this,arguments).isEqualNode(h)||h.data!==this.data)},f}(Q)}).call(this)},482:function(Se,xe,$){(function(){var K,Q,d={}.hasOwnProperty;K=$(3227),Q=$(2364),Se.exports=function(f){function h(w,b){if(h.__super__.constructor.call(this,w),null==b)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=K.Comment,this.value=this.stringify.comment(b)}return function(f,h){for(var w in h)d.call(h,w)&&(f[w]=h[w]);function b(){this.constructor=f}b.prototype=h.prototype,f.prototype=new b,f.__super__=h.prototype}(h,f),h.prototype.clone=function(){return Object.create(this)},h.prototype.toString=function(w){return this.options.writer.comment(this,this.options.writer.filterOptions(w))},h}(Q)}).call(this)},1808:function(Se,xe,$){(function(){var Q,q;Q=$(3366),q=$(2870),Se.exports=function(){function l(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new Q,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(l.prototype,"parameterNames",{get:function(){return new q(Object.keys(this.defaultParams))}}),l.prototype.getParameter=function(d){return this.params.hasOwnProperty(d)?this.params[d]:null},l.prototype.canSetParameter=function(d,f){return!0},l.prototype.setParameter=function(d,f){return null!=f?this.params[d]=f:delete this.params[d]},l}()}).call(this)},3366:function(Se){(function(){Se.exports=function(){function $(){}return $.prototype.handleError=function(K){throw new Error(K)},$}()}).call(this)},7331:function(Se){(function(){Se.exports=function(){function $(){}return $.prototype.hasFeature=function(K,Q){return!0},$.prototype.createDocumentType=function(K,Q,q){throw new Error("This DOM method is not implemented.")},$.prototype.createDocument=function(K,Q,q){throw new Error("This DOM method is not implemented.")},$.prototype.createHTMLDocument=function(K){throw new Error("This DOM method is not implemented.")},$.prototype.getFeature=function(K,Q){throw new Error("This DOM method is not implemented.")},$}()}).call(this)},2870:function(Se){(function(){Se.exports=function(){function $(K){this.arr=K||[]}return Object.defineProperty($.prototype,"length",{get:function(){return this.arr.length}}),$.prototype.item=function(K){return this.arr[K]||null},$.prototype.contains=function(K){return-1!==this.arr.indexOf(K)},$}()}).call(this)},9911:function(Se,xe,$){(function(){var K,q,d={}.hasOwnProperty;q=$(6015),K=$(3227),Se.exports=function(f){function h(w,b,y,_,M,T){if(h.__super__.constructor.call(this,w),null==b)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==y)throw new Error("Missing DTD attribute name. "+this.debugInfo(b));if(!_)throw new Error("Missing DTD attribute type. "+this.debugInfo(b));if(!M)throw new Error("Missing DTD attribute default. "+this.debugInfo(b));if(0!==M.indexOf("#")&&(M="#"+M),!M.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(b));if(T&&!M.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(b));this.elementName=this.stringify.name(b),this.type=K.AttributeDeclaration,this.attributeName=this.stringify.name(y),this.attributeType=this.stringify.dtdAttType(_),T&&(this.defaultValue=this.stringify.dtdAttDefault(T)),this.defaultValueType=M}return function(f,h){for(var w in h)d.call(h,w)&&(f[w]=h[w]);function b(){this.constructor=f}b.prototype=h.prototype,f.prototype=new b,f.__super__=h.prototype}(h,f),h.prototype.toString=function(w){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(w))},h}(q)}).call(this)},166:function(Se,xe,$){(function(){var K,q,d={}.hasOwnProperty;q=$(6015),K=$(3227),Se.exports=function(f){function h(w,b,y){if(h.__super__.constructor.call(this,w),null==b)throw new Error("Missing DTD element name. "+this.debugInfo());y||(y="(#PCDATA)"),Array.isArray(y)&&(y="("+y.join(",")+")"),this.name=this.stringify.name(b),this.type=K.ElementDeclaration,this.value=this.stringify.dtdElementValue(y)}return function(f,h){for(var w in h)d.call(h,w)&&(f[w]=h[w]);function b(){this.constructor=f}b.prototype=h.prototype,f.prototype=new b,f.__super__=h.prototype}(h,f),h.prototype.toString=function(w){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(w))},h}(q)}).call(this)},3654:function(Se,xe,$){(function(){var K,q,l,f={}.hasOwnProperty;l=$(392).isObject,q=$(6015),K=$(3227),Se.exports=function(h){function w(b,y,_,M){if(w.__super__.constructor.call(this,b),null==_)throw new Error("Missing DTD entity name. "+this.debugInfo(_));if(null==M)throw new Error("Missing DTD entity value. "+this.debugInfo(_));if(this.pe=!!y,this.name=this.stringify.name(_),this.type=K.EntityDeclaration,l(M)){if(!M.pubID&&!M.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(_));if(M.pubID&&!M.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(_));if(this.internal=!1,null!=M.pubID&&(this.pubID=this.stringify.dtdPubID(M.pubID)),null!=M.sysID&&(this.sysID=this.stringify.dtdSysID(M.sysID)),null!=M.nData&&(this.nData=this.stringify.dtdNData(M.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(_))}else this.value=this.stringify.dtdEntityValue(M),this.internal=!0}return function(h,w){for(var b in w)f.call(w,b)&&(h[b]=w[b]);function y(){this.constructor=h}y.prototype=w.prototype,h.prototype=new y,h.__super__=w.prototype}(w,h),Object.defineProperty(w.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(w.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(w.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(w.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(w.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(w.prototype,"xmlVersion",{get:function(){return null}}),w.prototype.toString=function(b){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(b))},w}(q)}).call(this)},1022:function(Se,xe,$){(function(){var K,q,d={}.hasOwnProperty;q=$(6015),K=$(3227),Se.exports=function(f){function h(w,b,y){if(h.__super__.constructor.call(this,w),null==b)throw new Error("Missing DTD notation name. "+this.debugInfo(b));if(!y.pubID&&!y.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(b));this.name=this.stringify.name(b),this.type=K.NotationDeclaration,null!=y.pubID&&(this.pubID=this.stringify.dtdPubID(y.pubID)),null!=y.sysID&&(this.sysID=this.stringify.dtdSysID(y.sysID))}return function(f,h){for(var w in h)d.call(h,w)&&(f[w]=h[w]);function b(){this.constructor=f}b.prototype=h.prototype,f.prototype=new b,f.__super__=h.prototype}(h,f),Object.defineProperty(h.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(h.prototype,"systemId",{get:function(){return this.sysID}}),h.prototype.toString=function(w){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(w))},h}(q)}).call(this)},7889:function(Se,xe,$){(function(){var K,q,l,f={}.hasOwnProperty;l=$(392).isObject,q=$(6015),K=$(3227),Se.exports=function(h){function w(b,y,_,M){var T;w.__super__.constructor.call(this,b),l(y)&&(y=(T=y).version,_=T.encoding,M=T.standalone),y||(y="1.0"),this.type=K.Declaration,this.version=this.stringify.xmlVersion(y),null!=_&&(this.encoding=this.stringify.xmlEncoding(_)),null!=M&&(this.standalone=this.stringify.xmlStandalone(M))}return function(h,w){for(var b in w)f.call(w,b)&&(h[b]=w[b]);function y(){this.constructor=h}y.prototype=w.prototype,h.prototype=new y,h.__super__=w.prototype}(w,h),w.prototype.toString=function(b){return this.options.writer.declaration(this,this.options.writer.filterOptions(b))},w}(q)}).call(this)},8513:function(Se,xe,$){(function(){var K,Q,q,l,d,h,w,b,_={}.hasOwnProperty;b=$(392).isObject,w=$(6015),K=$(3227),Q=$(9911),l=$(3654),q=$(166),d=$(1022),h=$(6907),Se.exports=function(M){function T(S,L,z){var te,F,B,m,C,D;if(T.__super__.constructor.call(this,S),this.type=K.DocType,S.children)for(F=0,B=(m=S.children).length;F<B;F++)if((te=m[F]).type===K.Element){this.name=te.name;break}this.documentObject=S,b(L)&&(L=(C=L).pubID,z=C.sysID),null==z&&(z=(D=[L,z])[0],L=D[1]),null!=L&&(this.pubID=this.stringify.dtdPubID(L)),null!=z&&(this.sysID=this.stringify.dtdSysID(z))}return function(M,T){for(var S in T)_.call(T,S)&&(M[S]=T[S]);function L(){this.constructor=M}L.prototype=T.prototype,M.prototype=new L,M.__super__=T.prototype}(T,M),Object.defineProperty(T.prototype,"entities",{get:function(){var S,L,z,te,F;for(te={},L=0,z=(F=this.children).length;L<z;L++)(S=F[L]).type===K.EntityDeclaration&&!S.pe&&(te[S.name]=S);return new h(te)}}),Object.defineProperty(T.prototype,"notations",{get:function(){var S,L,z,te,F;for(te={},L=0,z=(F=this.children).length;L<z;L++)(S=F[L]).type===K.NotationDeclaration&&(te[S.name]=S);return new h(te)}}),Object.defineProperty(T.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(T.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(T.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),T.prototype.element=function(S,L){var z;return z=new q(this,S,L),this.children.push(z),this},T.prototype.attList=function(S,L,z,te,F){var B;return B=new Q(this,S,L,z,te,F),this.children.push(B),this},T.prototype.entity=function(S,L){var z;return z=new l(this,!1,S,L),this.children.push(z),this},T.prototype.pEntity=function(S,L){var z;return z=new l(this,!0,S,L),this.children.push(z),this},T.prototype.notation=function(S,L){var z;return z=new d(this,S,L),this.children.push(z),this},T.prototype.toString=function(S){return this.options.writer.docType(this,this.options.writer.filterOptions(S))},T.prototype.ele=function(S,L){return this.element(S,L)},T.prototype.att=function(S,L,z,te,F){return this.attList(S,L,z,te,F)},T.prototype.ent=function(S,L){return this.entity(S,L)},T.prototype.pent=function(S,L){return this.pEntity(S,L)},T.prototype.not=function(S,L){return this.notation(S,L)},T.prototype.up=function(){return this.root()||this.documentObject},T.prototype.isEqualNode=function(S){return!(!T.__super__.isEqualNode.apply(this,arguments).isEqualNode(S)||S.name!==this.name||S.publicId!==this.publicId||S.systemId!==this.systemId)},T}(w)}).call(this)},5752:function(Se,xe,$){(function(){var K,Q,q,d,f,h,w,y={}.hasOwnProperty;w=$(392).isPlainObject,q=$(7331),Q=$(1808),d=$(6015),K=$(3227),h=$(8822),f=$(6600),Se.exports=function(_){function M(T){M.__super__.constructor.call(this,null),this.name="#document",this.type=K.Document,this.documentURI=null,this.domConfig=new Q,T||(T={}),T.writer||(T.writer=new f),this.options=T,this.stringify=new h(T)}return function(_,M){for(var T in M)y.call(M,T)&&(_[T]=M[T]);function S(){this.constructor=_}S.prototype=M.prototype,_.prototype=new S,_.__super__=M.prototype}(M,_),Object.defineProperty(M.prototype,"implementation",{value:new q}),Object.defineProperty(M.prototype,"doctype",{get:function(){var T,S,L,z;for(S=0,L=(z=this.children).length;S<L;S++)if((T=z[S]).type===K.DocType)return T;return null}}),Object.defineProperty(M.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(M.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(M.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(M.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===K.Declaration?this.children[0].encoding:null}}),Object.defineProperty(M.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===K.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(M.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===K.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(M.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(M.prototype,"origin",{get:function(){return null}}),Object.defineProperty(M.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(M.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(M.prototype,"contentType",{get:function(){return null}}),M.prototype.end=function(T){var S;return S={},T?w(T)&&(S=T,T=this.options.writer):T=this.options.writer,T.document(this,T.filterOptions(S))},M.prototype.toString=function(T){return this.options.writer.document(this,this.options.writer.filterOptions(T))},M.prototype.createElement=function(T){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createTextNode=function(T){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createComment=function(T){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createCDATASection=function(T){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createProcessingInstruction=function(T,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createAttribute=function(T){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createEntityReference=function(T){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.getElementsByTagName=function(T){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.importNode=function(T,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createElementNS=function(T,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createAttributeNS=function(T,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.getElementsByTagNameNS=function(T,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.getElementById=function(T){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.adoptNode=function(T){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.renameNode=function(T,S,L){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.getElementsByClassName=function(T){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createEvent=function(T){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createNodeIterator=function(T,S,L){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.createTreeWalker=function(T,S,L){throw new Error("This DOM method is not implemented."+this.debugInfo())},M}(d)}).call(this)},1979:function(Se,xe,$){(function(){var K,Q,q,l,d,f,h,w,b,y,_,M,S,L,z,te,F,B,m,C,D,P,U,R={}.hasOwnProperty;U=$(392),D=U.isObject,C=U.isFunction,P=U.isPlainObject,m=U.getValue,K=$(3227),M=$(5752),S=$(9894),l=$(7208),d=$(482),z=$(5997),B=$(1377),L=$(4195),y=$(7889),_=$(8513),f=$(9911),w=$(3654),h=$(166),b=$(1022),q=$(9640),F=$(8822),te=$(6600),Q=$(2036),Se.exports=function(){function oe(X,le,ye){var _e;this.name="?xml",this.type=K.Document,X||(X={}),_e={},X.writer?P(X.writer)&&(_e=X.writer,X.writer=new te):X.writer=new te,this.options=X,this.writer=X.writer,this.writerOptions=this.writer.filterOptions(_e),this.stringify=new F(X),this.onDataCallback=le||function(){},this.onEndCallback=ye||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return oe.prototype.createChildNode=function(X){var ye,_e,He,Ge,Oe,dt,Ye;switch(X.type){case K.CData:this.cdata(X.value);break;case K.Comment:this.comment(X.value);break;case K.Element:for(ye in _e={},dt=X.attribs)!R.call(dt,ye)||(_e[ye]=dt[ye].value);this.node(X.name,_e);break;case K.Dummy:this.dummy();break;case K.Raw:this.raw(X.value);break;case K.Text:this.text(X.value);break;case K.ProcessingInstruction:this.instruction(X.target,X.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+X.constructor.name)}for(Ge=0,Oe=(Ye=X.children).length;Ge<Oe;Ge++)this.createChildNode(He=Ye[Ge]),He.type===K.Element&&this.up();return this},oe.prototype.dummy=function(){return this},oe.prototype.node=function(X,le,ye){var _e;if(null==X)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(X));return this.openCurrent(),X=m(X),null==le&&(le={}),le=m(le),D(le)||(ye=(_e=[le,ye])[0],le=_e[1]),this.currentNode=new S(this,X,le),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=ye&&this.text(ye),this},oe.prototype.element=function(X,le,ye){var _e,He,Ge,Oe,dt,Ye;if(this.currentNode&&this.currentNode.type===K.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(X)||D(X)||C(X))for(Oe=this.options.noValidation,this.options.noValidation=!0,(Ye=new M(this.options).element("TEMP_ROOT")).element(X),this.options.noValidation=Oe,He=0,Ge=(dt=Ye.children).length;He<Ge;He++)this.createChildNode(_e=dt[He]),_e.type===K.Element&&this.up();else this.node(X,le,ye);return this},oe.prototype.attribute=function(X,le){var ye;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(X));if(null!=X&&(X=m(X)),D(X))for(ye in X)!R.call(X,ye)||this.attribute(ye,X[ye]);else C(le)&&(le=le.apply()),this.options.keepNullAttributes&&null==le?this.currentNode.attribs[X]=new q(this,X,""):null!=le&&(this.currentNode.attribs[X]=new q(this,X,le));return this},oe.prototype.text=function(X){var le;return this.openCurrent(),le=new B(this,X),this.onData(this.writer.text(le,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.cdata=function(X){var le;return this.openCurrent(),le=new l(this,X),this.onData(this.writer.cdata(le,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.comment=function(X){var le;return this.openCurrent(),le=new d(this,X),this.onData(this.writer.comment(le,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.raw=function(X){var le;return this.openCurrent(),le=new z(this,X),this.onData(this.writer.raw(le,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.instruction=function(X,le){var ye,_e,Ge,Oe;if(this.openCurrent(),null!=X&&(X=m(X)),null!=le&&(le=m(le)),Array.isArray(X))for(ye=0,Ge=X.length;ye<Ge;ye++)this.instruction(_e=X[ye]);else if(D(X))for(_e in X)!R.call(X,_e)||this.instruction(_e,X[_e]);else C(le)&&(le=le.apply()),Oe=new L(this,X,le),this.onData(this.writer.processingInstruction(Oe,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},oe.prototype.declaration=function(X,le,ye){var _e;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return _e=new y(this,X,le,ye),this.onData(this.writer.declaration(_e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.doctype=function(X,le,ye){if(this.openCurrent(),null==X)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new _(this,le,ye),this.currentNode.rootNodeName=X,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},oe.prototype.dtdElement=function(X,le){var ye;return this.openCurrent(),ye=new h(this,X,le),this.onData(this.writer.dtdElement(ye,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.attList=function(X,le,ye,_e,He){var Ge;return this.openCurrent(),Ge=new f(this,X,le,ye,_e,He),this.onData(this.writer.dtdAttList(Ge,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.entity=function(X,le){var ye;return this.openCurrent(),ye=new w(this,!1,X,le),this.onData(this.writer.dtdEntity(ye,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.pEntity=function(X,le){var ye;return this.openCurrent(),ye=new w(this,!0,X,le),this.onData(this.writer.dtdEntity(ye,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.notation=function(X,le){var ye;return this.openCurrent(),ye=new b(this,X,le),this.onData(this.writer.dtdNotation(ye,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},oe.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},oe.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},oe.prototype.openNode=function(X){var ye,_e,He;if(!X.isOpen){if(!this.root&&0===this.currentLevel&&X.type===K.Element&&(this.root=X),ye="",X.type===K.Element){for(_e in this.writerOptions.state=Q.OpenTag,ye=this.writer.indent(X,this.writerOptions,this.currentLevel)+"<"+X.name,He=X.attribs)!R.call(He,_e)||(ye+=this.writer.attribute(He[_e],this.writerOptions,this.currentLevel));ye+=(X.children?">":"/>")+this.writer.endline(X,this.writerOptions,this.currentLevel),this.writerOptions.state=Q.InsideTag}else this.writerOptions.state=Q.OpenTag,ye=this.writer.indent(X,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+X.rootNodeName,X.pubID&&X.sysID?ye+=' PUBLIC "'+X.pubID+'" "'+X.sysID+'"':X.sysID&&(ye+=' SYSTEM "'+X.sysID+'"'),X.children?(ye+=" [",this.writerOptions.state=Q.InsideTag):(this.writerOptions.state=Q.CloseTag,ye+=">"),ye+=this.writer.endline(X,this.writerOptions,this.currentLevel);return this.onData(ye,this.currentLevel),X.isOpen=!0}},oe.prototype.closeNode=function(X){var le;if(!X.isClosed)return"",this.writerOptions.state=Q.CloseTag,le=X.type===K.Element?this.writer.indent(X,this.writerOptions,this.currentLevel)+"</"+X.name+">"+this.writer.endline(X,this.writerOptions,this.currentLevel):this.writer.indent(X,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(X,this.writerOptions,this.currentLevel),this.writerOptions.state=Q.None,this.onData(le,this.currentLevel),X.isClosed=!0},oe.prototype.onData=function(X,le){return this.documentStarted=!0,this.onDataCallback(X,le+1)},oe.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},oe.prototype.debugInfo=function(X){return null==X?"":"node: <"+X+">"},oe.prototype.ele=function(){return this.element.apply(this,arguments)},oe.prototype.nod=function(X,le,ye){return this.node(X,le,ye)},oe.prototype.txt=function(X){return this.text(X)},oe.prototype.dat=function(X){return this.cdata(X)},oe.prototype.com=function(X){return this.comment(X)},oe.prototype.ins=function(X,le){return this.instruction(X,le)},oe.prototype.dec=function(X,le,ye){return this.declaration(X,le,ye)},oe.prototype.dtd=function(X,le,ye){return this.doctype(X,le,ye)},oe.prototype.e=function(X,le,ye){return this.element(X,le,ye)},oe.prototype.n=function(X,le,ye){return this.node(X,le,ye)},oe.prototype.t=function(X){return this.text(X)},oe.prototype.d=function(X){return this.cdata(X)},oe.prototype.c=function(X){return this.comment(X)},oe.prototype.r=function(X){return this.raw(X)},oe.prototype.i=function(X,le){return this.instruction(X,le)},oe.prototype.att=function(){return this.currentNode&&this.currentNode.type===K.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},oe.prototype.a=function(){return this.currentNode&&this.currentNode.type===K.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},oe.prototype.ent=function(X,le){return this.entity(X,le)},oe.prototype.pent=function(X,le){return this.pEntity(X,le)},oe.prototype.not=function(X,le){return this.notation(X,le)},oe}()}).call(this)},8756:function(Se,xe,$){(function(){var K,q,d={}.hasOwnProperty;q=$(6015),K=$(3227),Se.exports=function(f){function h(w){h.__super__.constructor.call(this,w),this.type=K.Dummy}return function(f,h){for(var w in h)d.call(h,w)&&(f[w]=h[w]);function b(){this.constructor=f}b.prototype=h.prototype,f.prototype=new b,f.__super__=h.prototype}(h,f),h.prototype.clone=function(){return Object.create(this)},h.prototype.toString=function(w){return""},h}(q)}).call(this)},9894:function(Se,xe,$){(function(){var K,Q,l,d,f,h,w,b,_={}.hasOwnProperty;b=$(392),w=b.isObject,h=b.isFunction,f=b.getValue,d=$(6015),K=$(3227),Q=$(9640),l=$(6907),Se.exports=function(M){function T(S,L,z){var te,F,B,m;if(T.__super__.constructor.call(this,S),null==L)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(L),this.type=K.Element,this.attribs={},this.schemaTypeInfo=null,null!=z&&this.attribute(z),S.type===K.Document&&(this.isRoot=!0,this.documentObject=S,S.rootObject=this,S.children))for(F=0,B=(m=S.children).length;F<B;F++)if((te=m[F]).type===K.DocType){te.name=this.name;break}}return function(M,T){for(var S in T)_.call(T,S)&&(M[S]=T[S]);function L(){this.constructor=M}L.prototype=T.prototype,M.prototype=new L,M.__super__=T.prototype}(T,M),Object.defineProperty(T.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(T.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(T.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(T.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(T.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(T.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(T.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(T.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new l(this.attribs)),this.attributeMap}}),T.prototype.clone=function(){var L,z,te;for(L in(z=Object.create(this)).isRoot&&(z.documentObject=null),z.attribs={},te=this.attribs)!_.call(te,L)||(z.attribs[L]=te[L].clone());return z.children=[],this.children.forEach(function(F){var B;return(B=F.clone()).parent=z,z.children.push(B)}),z},T.prototype.attribute=function(S,L){var z;if(null!=S&&(S=f(S)),w(S))for(z in S)!_.call(S,z)||this.attribute(z,S[z]);else h(L)&&(L=L.apply()),this.options.keepNullAttributes&&null==L?this.attribs[S]=new Q(this,S,""):null!=L&&(this.attribs[S]=new Q(this,S,L));return this},T.prototype.removeAttribute=function(S){var z,te;if(null==S)throw new Error("Missing attribute name. "+this.debugInfo());if(S=f(S),Array.isArray(S))for(z=0,te=S.length;z<te;z++)delete this.attribs[S[z]];else delete this.attribs[S];return this},T.prototype.toString=function(S){return this.options.writer.element(this,this.options.writer.filterOptions(S))},T.prototype.att=function(S,L){return this.attribute(S,L)},T.prototype.a=function(S,L){return this.attribute(S,L)},T.prototype.getAttribute=function(S){return this.attribs.hasOwnProperty(S)?this.attribs[S].value:null},T.prototype.setAttribute=function(S,L){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.getAttributeNode=function(S){return this.attribs.hasOwnProperty(S)?this.attribs[S]:null},T.prototype.setAttributeNode=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.removeAttributeNode=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.getElementsByTagName=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.getAttributeNS=function(S,L){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.setAttributeNS=function(S,L,z){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.removeAttributeNS=function(S,L){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.getAttributeNodeNS=function(S,L){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.setAttributeNodeNS=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.getElementsByTagNameNS=function(S,L){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.hasAttribute=function(S){return this.attribs.hasOwnProperty(S)},T.prototype.hasAttributeNS=function(S,L){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.setIdAttribute=function(S,L){return this.attribs.hasOwnProperty(S)?this.attribs[S].isId:L},T.prototype.setIdAttributeNS=function(S,L,z){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.setIdAttributeNode=function(S,L){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.getElementsByTagName=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.getElementsByTagNameNS=function(S,L){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.getElementsByClassName=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},T.prototype.isEqualNode=function(S){var L,z,te;if(!T.__super__.isEqualNode.apply(this,arguments).isEqualNode(S)||S.namespaceURI!==this.namespaceURI||S.prefix!==this.prefix||S.localName!==this.localName||S.attribs.length!==this.attribs.length)return!1;for(L=z=0,te=this.attribs.length-1;0<=te?z<=te:z>=te;L=0<=te?++z:--z)if(!this.attribs[L].isEqualNode(S.attribs[L]))return!1;return!0},T}(d)}).call(this)},6907:function(Se){(function(){Se.exports=function(){function $(K){this.nodes=K}return Object.defineProperty($.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),$.prototype.clone=function(){return this.nodes=null},$.prototype.getNamedItem=function(K){return this.nodes[K]},$.prototype.setNamedItem=function(K){var Q;return Q=this.nodes[K.nodeName],this.nodes[K.nodeName]=K,Q||null},$.prototype.removeNamedItem=function(K){var Q;return Q=this.nodes[K],delete this.nodes[K],Q||null},$.prototype.item=function(K){return this.nodes[Object.keys(this.nodes)[K]]||null},$.prototype.getNamedItemNS=function(K,Q){throw new Error("This DOM method is not implemented.")},$.prototype.setNamedItemNS=function(K){throw new Error("This DOM method is not implemented.")},$.prototype.removeNamedItemNS=function(K,Q){throw new Error("This DOM method is not implemented.")},$}()}).call(this)},6015:function(Se,xe,$){(function(){var K,Q,q,l,d,f,h,w,_,M,T,S,L,z,te,F,B,m={}.hasOwnProperty;B=$(392),F=B.isObject,te=B.isFunction,z=B.isEmpty,L=B.getValue,w=null,q=null,l=null,d=null,f=null,T=null,S=null,M=null,h=null,Q=null,_=null,K=null,Se.exports=function(){function C(D){this.parent=D,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,w||(w=$(9894),q=$(7208),l=$(482),d=$(7889),f=$(8513),T=$(5997),S=$(1377),M=$(4195),h=$(8756),Q=$(3227),_=$(9270),$(6907),K=$(4110))}return Object.defineProperty(C.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(C.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(C.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(C.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(C.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new _(this.children)),this.childNodeList}}),Object.defineProperty(C.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(C.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(C.prototype,"previousSibling",{get:function(){var D;return D=this.parent.children.indexOf(this),this.parent.children[D-1]||null}}),Object.defineProperty(C.prototype,"nextSibling",{get:function(){var D;return D=this.parent.children.indexOf(this),this.parent.children[D+1]||null}}),Object.defineProperty(C.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(C.prototype,"textContent",{get:function(){var D,P,U,R,oe;if(this.nodeType===Q.Element||this.nodeType===Q.DocumentFragment){for(oe="",P=0,U=(R=this.children).length;P<U;P++)(D=R[P]).textContent&&(oe+=D.textContent);return oe}return null},set:function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),C.prototype.setParent=function(D){var U,R,oe,X;for(this.parent=D,D&&(this.options=D.options,this.stringify=D.stringify),X=[],U=0,R=(oe=this.children).length;U<R;U++)X.push(oe[U].setParent(this));return X},C.prototype.element=function(D,P,U){var R,X,le,ye,_e,He,Ge,Oe,dt,Ye;if(_e=null,null===P&&null==U&&(P=(Oe=[{},null])[0],U=Oe[1]),null==P&&(P={}),P=L(P),F(P)||(U=(dt=[P,U])[0],P=dt[1]),null!=D&&(D=L(D)),Array.isArray(D))for(X=0,He=D.length;X<He;X++)_e=this.element(D[X]);else if(te(D))_e=this.element(D.apply());else if(F(D)){for(ye in D)if(m.call(D,ye))if(te(Ye=D[ye])&&(Ye=Ye.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===ye.indexOf(this.stringify.convertAttKey))_e=this.attribute(ye.substr(this.stringify.convertAttKey.length),Ye);else if(!this.options.separateArrayItems&&Array.isArray(Ye)&&z(Ye))_e=this.dummy();else if(F(Ye)&&z(Ye))_e=this.element(ye);else if(this.options.keepNullNodes||null!=Ye)if(!this.options.separateArrayItems&&Array.isArray(Ye))for(le=0,Ge=Ye.length;le<Ge;le++)(R={})[ye]=Ye[le],_e=this.element(R);else F(Ye)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===ye.indexOf(this.stringify.convertTextKey)?_e=this.element(Ye):(_e=this.element(ye)).element(Ye):_e=this.element(ye,Ye);else _e=this.dummy()}else _e=this.options.keepNullNodes||null!==U?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===D.indexOf(this.stringify.convertTextKey)?this.text(U):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===D.indexOf(this.stringify.convertCDataKey)?this.cdata(U):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===D.indexOf(this.stringify.convertCommentKey)?this.comment(U):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===D.indexOf(this.stringify.convertRawKey)?this.raw(U):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===D.indexOf(this.stringify.convertPIKey)?this.instruction(D.substr(this.stringify.convertPIKey.length),U):this.node(D,P,U):this.dummy();if(null==_e)throw new Error("Could not create any elements with: "+D+". "+this.debugInfo());return _e},C.prototype.insertBefore=function(D,P,U){var R,oe,X,le,ye;if(null!=D?D.type:void 0)return le=P,(X=D).setParent(this),le?(oe=children.indexOf(le),ye=children.splice(oe),children.push(X),Array.prototype.push.apply(children,ye)):children.push(X),X;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(D));return oe=this.parent.children.indexOf(this),ye=this.parent.children.splice(oe),R=this.parent.element(D,P,U),Array.prototype.push.apply(this.parent.children,ye),R},C.prototype.insertAfter=function(D,P,U){var R,oe,X;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(D));return oe=this.parent.children.indexOf(this),X=this.parent.children.splice(oe+1),R=this.parent.element(D,P,U),Array.prototype.push.apply(this.parent.children,X),R},C.prototype.remove=function(){var D;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return D=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[D,D-D+1].concat([])),this.parent},C.prototype.node=function(D,P,U){var R,oe;return null!=D&&(D=L(D)),P||(P={}),P=L(P),F(P)||(U=(oe=[P,U])[0],P=oe[1]),R=new w(this,D,P),null!=U&&R.text(U),this.children.push(R),R},C.prototype.text=function(D){var P;return F(D)&&this.element(D),P=new S(this,D),this.children.push(P),this},C.prototype.cdata=function(D){var P;return P=new q(this,D),this.children.push(P),this},C.prototype.comment=function(D){var P;return P=new l(this,D),this.children.push(P),this},C.prototype.commentBefore=function(D){var U,R;return U=this.parent.children.indexOf(this),R=this.parent.children.splice(U),this.parent.comment(D),Array.prototype.push.apply(this.parent.children,R),this},C.prototype.commentAfter=function(D){var U,R;return U=this.parent.children.indexOf(this),R=this.parent.children.splice(U+1),this.parent.comment(D),Array.prototype.push.apply(this.parent.children,R),this},C.prototype.raw=function(D){var P;return P=new T(this,D),this.children.push(P),this},C.prototype.dummy=function(){return new h(this)},C.prototype.instruction=function(D,P){var U,oe,X,le;if(null!=D&&(D=L(D)),null!=P&&(P=L(P)),Array.isArray(D))for(X=0,le=D.length;X<le;X++)this.instruction(U=D[X]);else if(F(D))for(U in D)!m.call(D,U)||this.instruction(U,D[U]);else te(P)&&(P=P.apply()),oe=new M(this,D,P),this.children.push(oe);return this},C.prototype.instructionBefore=function(D,P){var R,oe;return R=this.parent.children.indexOf(this),oe=this.parent.children.splice(R),this.parent.instruction(D,P),Array.prototype.push.apply(this.parent.children,oe),this},C.prototype.instructionAfter=function(D,P){var R,oe;return R=this.parent.children.indexOf(this),oe=this.parent.children.splice(R+1),this.parent.instruction(D,P),Array.prototype.push.apply(this.parent.children,oe),this},C.prototype.declaration=function(D,P,U){var R,oe;return R=this.document(),oe=new d(R,D,P,U),0===R.children.length?R.children.unshift(oe):R.children[0].type===Q.Declaration?R.children[0]=oe:R.children.unshift(oe),R.root()||R},C.prototype.dtd=function(D,P){var R,oe,X,le,ye,_e,He,Ge,Oe;for(R=this.document(),oe=new f(R,D,P),X=le=0,_e=(Ge=R.children).length;le<_e;X=++le)if(Ge[X].type===Q.DocType)return R.children[X]=oe,oe;for(X=ye=0,He=(Oe=R.children).length;ye<He;X=++ye)if(Oe[X].isRoot)return R.children.splice(X,0,oe),oe;return R.children.push(oe),oe},C.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},C.prototype.root=function(){var D;for(D=this;D;){if(D.type===Q.Document)return D.rootObject;if(D.isRoot)return D;D=D.parent}},C.prototype.document=function(){var D;for(D=this;D;){if(D.type===Q.Document)return D;D=D.parent}},C.prototype.end=function(D){return this.document().end(D)},C.prototype.prev=function(){var D;if((D=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[D-1]},C.prototype.next=function(){var D;if(-1===(D=this.parent.children.indexOf(this))||D===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[D+1]},C.prototype.importDocument=function(D){var P;return(P=D.root().clone()).parent=this,P.isRoot=!1,this.children.push(P),this},C.prototype.debugInfo=function(D){var P,U;return null!=(D=D||this.name)||(null!=(P=this.parent)?P.name:void 0)?null==D?"parent: <"+this.parent.name+">":(null!=(U=this.parent)?U.name:void 0)?"node: <"+D+">, parent: <"+this.parent.name+">":"node: <"+D+">":""},C.prototype.ele=function(D,P,U){return this.element(D,P,U)},C.prototype.nod=function(D,P,U){return this.node(D,P,U)},C.prototype.txt=function(D){return this.text(D)},C.prototype.dat=function(D){return this.cdata(D)},C.prototype.com=function(D){return this.comment(D)},C.prototype.ins=function(D,P){return this.instruction(D,P)},C.prototype.doc=function(){return this.document()},C.prototype.dec=function(D,P,U){return this.declaration(D,P,U)},C.prototype.e=function(D,P,U){return this.element(D,P,U)},C.prototype.n=function(D,P,U){return this.node(D,P,U)},C.prototype.t=function(D){return this.text(D)},C.prototype.d=function(D){return this.cdata(D)},C.prototype.c=function(D){return this.comment(D)},C.prototype.r=function(D){return this.raw(D)},C.prototype.i=function(D,P){return this.instruction(D,P)},C.prototype.u=function(){return this.up()},C.prototype.importXMLBuilder=function(D){return this.importDocument(D)},C.prototype.replaceChild=function(D,P){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.removeChild=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.appendChild=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.hasChildNodes=function(){return 0!==this.children.length},C.prototype.cloneNode=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.isSupported=function(D,P){return!0},C.prototype.hasAttributes=function(){return 0!==this.attribs.length},C.prototype.compareDocumentPosition=function(D){var P,U;return(P=this)===D?0:this.document()!==D.document()?(U=K.Disconnected|K.ImplementationSpecific,Math.random()<.5?U|=K.Preceding:U|=K.Following,U):P.isAncestor(D)?K.Contains|K.Preceding:P.isDescendant(D)?K.Contains|K.Following:P.isPreceding(D)?K.Preceding:K.Following},C.prototype.isSameNode=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.lookupPrefix=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.isDefaultNamespace=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.lookupNamespaceURI=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.isEqualNode=function(D){var P,U,R;if(D.nodeType!==this.nodeType||D.children.length!==this.children.length)return!1;for(P=U=0,R=this.children.length-1;0<=R?U<=R:U>=R;P=0<=R?++U:--U)if(!this.children[P].isEqualNode(D.children[P]))return!1;return!0},C.prototype.getFeature=function(D,P){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.setUserData=function(D,P,U){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.getUserData=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},C.prototype.contains=function(D){return!!D&&(D===this||this.isDescendant(D))},C.prototype.isDescendant=function(D){var P,R,oe,X;for(R=0,oe=(X=this.children).length;R<oe;R++)if(D===(P=X[R])||P.isDescendant(D))return!0;return!1},C.prototype.isAncestor=function(D){return D.isDescendant(this)},C.prototype.isPreceding=function(D){var P,U;return P=this.treePosition(D),U=this.treePosition(this),-1!==P&&-1!==U&&P<U},C.prototype.isFollowing=function(D){var P,U;return P=this.treePosition(D),U=this.treePosition(this),-1!==P&&-1!==U&&P>U},C.prototype.treePosition=function(D){var P,U;return U=0,P=!1,this.foreachTreeNode(this.document(),function(R){if(U++,!P&&R===D)return P=!0}),P?U:-1},C.prototype.foreachTreeNode=function(D,P){var U,R,oe,X,le;for(D||(D=this.document()),R=0,oe=(X=D.children).length;R<oe;R++){if(le=P(U=X[R]))return le;if(le=this.foreachTreeNode(U,P))return le}},C}()}).call(this)},9270:function(Se){(function(){Se.exports=function(){function $(K){this.nodes=K}return Object.defineProperty($.prototype,"length",{get:function(){return this.nodes.length||0}}),$.prototype.clone=function(){return this.nodes=null},$.prototype.item=function(K){return this.nodes[K]||null},$}()}).call(this)},4195:function(Se,xe,$){(function(){var K,Q,d={}.hasOwnProperty;K=$(3227),Q=$(2364),Se.exports=function(f){function h(w,b,y){if(h.__super__.constructor.call(this,w),null==b)throw new Error("Missing instruction target. "+this.debugInfo());this.type=K.ProcessingInstruction,this.target=this.stringify.insTarget(b),this.name=this.target,y&&(this.value=this.stringify.insValue(y))}return function(f,h){for(var w in h)d.call(h,w)&&(f[w]=h[w]);function b(){this.constructor=f}b.prototype=h.prototype,f.prototype=new b,f.__super__=h.prototype}(h,f),h.prototype.clone=function(){return Object.create(this)},h.prototype.toString=function(w){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(w))},h.prototype.isEqualNode=function(w){return!(!h.__super__.isEqualNode.apply(this,arguments).isEqualNode(w)||w.target!==this.target)},h}(Q)}).call(this)},5997:function(Se,xe,$){(function(){var K,Q,d={}.hasOwnProperty;K=$(3227),Q=$(6015),Se.exports=function(f){function h(w,b){if(h.__super__.constructor.call(this,w),null==b)throw new Error("Missing raw text. "+this.debugInfo());this.type=K.Raw,this.value=this.stringify.raw(b)}return function(f,h){for(var w in h)d.call(h,w)&&(f[w]=h[w]);function b(){this.constructor=f}b.prototype=h.prototype,f.prototype=new b,f.__super__=h.prototype}(h,f),h.prototype.clone=function(){return Object.create(this)},h.prototype.toString=function(w){return this.options.writer.raw(this,this.options.writer.filterOptions(w))},h}(Q)}).call(this)},4710:function(Se,xe,$){(function(){var K,Q,l,f={}.hasOwnProperty;K=$(3227),l=$(6706),Q=$(2036),Se.exports=function(h){function w(b,y){this.stream=b,w.__super__.constructor.call(this,y)}return function(h,w){for(var b in w)f.call(w,b)&&(h[b]=w[b]);function y(){this.constructor=h}y.prototype=w.prototype,h.prototype=new y,h.__super__=w.prototype}(w,h),w.prototype.endline=function(b,y,_){return b.isLastRootNode&&y.state===Q.CloseTag?"":w.__super__.endline.call(this,b,y,_)},w.prototype.document=function(b,y){var M,T,S,L,z,te,F,B;for(M=T=0,L=(te=b.children).length;T<L;M=++T)te[M].isLastRootNode=M===b.children.length-1;for(y=this.filterOptions(y),B=[],S=0,z=(F=b.children).length;S<z;S++)B.push(this.writeChildNode(F[S],y,0));return B},w.prototype.attribute=function(b,y,_){return this.stream.write(w.__super__.attribute.call(this,b,y,_))},w.prototype.cdata=function(b,y,_){return this.stream.write(w.__super__.cdata.call(this,b,y,_))},w.prototype.comment=function(b,y,_){return this.stream.write(w.__super__.comment.call(this,b,y,_))},w.prototype.declaration=function(b,y,_){return this.stream.write(w.__super__.declaration.call(this,b,y,_))},w.prototype.docType=function(b,y,_){var T,S,L;if(_||(_=0),this.openNode(b,y,_),y.state=Q.OpenTag,this.stream.write(this.indent(b,y,_)),this.stream.write("<!DOCTYPE "+b.root().name),b.pubID&&b.sysID?this.stream.write(' PUBLIC "'+b.pubID+'" "'+b.sysID+'"'):b.sysID&&this.stream.write(' SYSTEM "'+b.sysID+'"'),b.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(b,y,_)),y.state=Q.InsideTag,T=0,S=(L=b.children).length;T<S;T++)this.writeChildNode(L[T],y,_+1);y.state=Q.CloseTag,this.stream.write("]")}return y.state=Q.CloseTag,this.stream.write(y.spaceBeforeSlash+">"),this.stream.write(this.endline(b,y,_)),y.state=Q.None,this.closeNode(b,y,_)},w.prototype.element=function(b,y,_){var S,L,z,te,F,m,C;for(F in _||(_=0),this.openNode(b,y,_),y.state=Q.OpenTag,this.stream.write(this.indent(b,y,_)+"<"+b.name),m=b.attribs)!f.call(m,F)||this.attribute(m[F],y,_);if(L=0===(S=b.children.length)?null:b.children[0],0===S||b.children.every(function(D){return(D.type===K.Text||D.type===K.Raw)&&""===D.value}))y.allowEmpty?(this.stream.write(">"),y.state=Q.CloseTag,this.stream.write("</"+b.name+">")):(y.state=Q.CloseTag,this.stream.write(y.spaceBeforeSlash+"/>"));else if(!y.pretty||1!==S||L.type!==K.Text&&L.type!==K.Raw||null==L.value){for(this.stream.write(">"+this.endline(b,y,_)),y.state=Q.InsideTag,z=0,te=(C=b.children).length;z<te;z++)this.writeChildNode(C[z],y,_+1);y.state=Q.CloseTag,this.stream.write(this.indent(b,y,_)+"</"+b.name+">")}else this.stream.write(">"),y.state=Q.InsideTag,y.suppressPrettyCount++,this.writeChildNode(L,y,_+1),y.suppressPrettyCount--,y.state=Q.CloseTag,this.stream.write("</"+b.name+">");return this.stream.write(this.endline(b,y,_)),y.state=Q.None,this.closeNode(b,y,_)},w.prototype.processingInstruction=function(b,y,_){return this.stream.write(w.__super__.processingInstruction.call(this,b,y,_))},w.prototype.raw=function(b,y,_){return this.stream.write(w.__super__.raw.call(this,b,y,_))},w.prototype.text=function(b,y,_){return this.stream.write(w.__super__.text.call(this,b,y,_))},w.prototype.dtdAttList=function(b,y,_){return this.stream.write(w.__super__.dtdAttList.call(this,b,y,_))},w.prototype.dtdElement=function(b,y,_){return this.stream.write(w.__super__.dtdElement.call(this,b,y,_))},w.prototype.dtdEntity=function(b,y,_){return this.stream.write(w.__super__.dtdEntity.call(this,b,y,_))},w.prototype.dtdNotation=function(b,y,_){return this.stream.write(w.__super__.dtdNotation.call(this,b,y,_))},w}(l)}).call(this)},6600:function(Se,xe,$){(function(){var Q,l={}.hasOwnProperty;Q=$(6706),Se.exports=function(d){function f(h){f.__super__.constructor.call(this,h)}return function(d,f){for(var h in f)l.call(f,h)&&(d[h]=f[h]);function w(){this.constructor=d}w.prototype=f.prototype,d.prototype=new w,d.__super__=f.prototype}(f,d),f.prototype.document=function(h,w){var y,_,M,T;for(w=this.filterOptions(w),M="",y=0,_=(T=h.children).length;y<_;y++)M+=this.writeChildNode(T[y],w,0);return w.pretty&&M.slice(-w.newline.length)===w.newline&&(M=M.slice(0,-w.newline.length)),M},f}(Q)}).call(this)},8822:function(Se){(function(){var $=function(Q,q){return function(){return Q.apply(q,arguments)}},K={}.hasOwnProperty;Se.exports=function(){function Q(q){var l,d;for(l in this.assertLegalName=$(this.assertLegalName,this),this.assertLegalChar=$(this.assertLegalChar,this),q||(q={}),this.options=q,this.options.version||(this.options.version="1.0"),d=q.stringify||{})!K.call(d,l)||(this[l]=d[l])}return Q.prototype.name=function(q){return this.options.noValidation?q:this.assertLegalName(""+q||"")},Q.prototype.text=function(q){return this.options.noValidation?q:this.assertLegalChar(this.textEscape(""+q||""))},Q.prototype.cdata=function(q){return this.options.noValidation?q:(q=(q=""+q||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(q))},Q.prototype.comment=function(q){if(this.options.noValidation)return q;if((q=""+q||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+q);return this.assertLegalChar(q)},Q.prototype.raw=function(q){return this.options.noValidation?q:""+q||""},Q.prototype.attValue=function(q){return this.options.noValidation?q:this.assertLegalChar(this.attEscape(q=""+q||""))},Q.prototype.insTarget=function(q){return this.options.noValidation?q:this.assertLegalChar(""+q||"")},Q.prototype.insValue=function(q){if(this.options.noValidation)return q;if((q=""+q||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+q);return this.assertLegalChar(q)},Q.prototype.xmlVersion=function(q){if(this.options.noValidation)return q;if(!(q=""+q||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+q);return q},Q.prototype.xmlEncoding=function(q){if(this.options.noValidation)return q;if(!(q=""+q||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+q);return this.assertLegalChar(q)},Q.prototype.xmlStandalone=function(q){return this.options.noValidation?q:q?"yes":"no"},Q.prototype.dtdPubID=function(q){return this.options.noValidation?q:this.assertLegalChar(""+q||"")},Q.prototype.dtdSysID=function(q){return this.options.noValidation?q:this.assertLegalChar(""+q||"")},Q.prototype.dtdElementValue=function(q){return this.options.noValidation?q:this.assertLegalChar(""+q||"")},Q.prototype.dtdAttType=function(q){return this.options.noValidation?q:this.assertLegalChar(""+q||"")},Q.prototype.dtdAttDefault=function(q){return this.options.noValidation?q:this.assertLegalChar(""+q||"")},Q.prototype.dtdEntityValue=function(q){return this.options.noValidation?q:this.assertLegalChar(""+q||"")},Q.prototype.dtdNData=function(q){return this.options.noValidation?q:this.assertLegalChar(""+q||"")},Q.prototype.convertAttKey="@",Q.prototype.convertPIKey="?",Q.prototype.convertTextKey="#text",Q.prototype.convertCDataKey="#cdata",Q.prototype.convertCommentKey="#comment",Q.prototype.convertRawKey="#raw",Q.prototype.assertLegalChar=function(q){var d;if(this.options.noValidation)return q;if("1.0"===this.options.version){if(d=q.match(/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+q+" at index "+d.index)}else if("1.1"===this.options.version&&(d=q.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/)))throw new Error("Invalid character in string: "+q+" at index "+d.index);return q},Q.prototype.assertLegalName=function(q){if(this.options.noValidation)return q;if(this.assertLegalChar(q),!q.match(/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/))throw new Error("Invalid character in name");return q},Q.prototype.textEscape=function(q){return this.options.noValidation?q:q.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},Q.prototype.attEscape=function(q){return this.options.noValidation?q:q.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},Q}()}).call(this)},1377:function(Se,xe,$){(function(){var K,Q,d={}.hasOwnProperty;K=$(3227),Q=$(2364),Se.exports=function(f){function h(w,b){if(h.__super__.constructor.call(this,w),null==b)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=K.Text,this.value=this.stringify.text(b)}return function(f,h){for(var w in h)d.call(h,w)&&(f[w]=h[w]);function b(){this.constructor=f}b.prototype=h.prototype,f.prototype=new b,f.__super__=h.prototype}(h,f),Object.defineProperty(h.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(h.prototype,"wholeText",{get:function(){var w,b,y;for(y="",b=this.previousSibling;b;)y=b.data+y,b=b.previousSibling;for(y+=this.data,w=this.nextSibling;w;)y+=w.data,w=w.nextSibling;return y}}),h.prototype.clone=function(){return Object.create(this)},h.prototype.toString=function(w){return this.options.writer.text(this,this.options.writer.filterOptions(w))},h.prototype.splitText=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.replaceWholeText=function(w){throw new Error("This DOM method is not implemented."+this.debugInfo())},h}(Q)}).call(this)},6706:function(Se,xe,$){(function(){var K,Q,te,F={}.hasOwnProperty;te=$(392).assign,K=$(3227),$(7889),$(8513),$(7208),$(482),$(9894),$(5997),$(1377),$(4195),$(8756),$(9911),$(166),$(3654),$(1022),Q=$(2036),Se.exports=function(){function B(m){var C,D,P;for(C in m||(m={}),this.options=m,D=m.writer||{})!F.call(D,C)||(P=D[C],this["_"+C]=this[C],this[C]=P)}return B.prototype.filterOptions=function(m){var C,D,P,U,R,oe,X,le;return m||(m={}),m=te({},this.options,m),(C={writer:this}).pretty=m.pretty||!1,C.allowEmpty=m.allowEmpty||!1,C.indent=null!=(D=m.indent)?D:"  ",C.newline=null!=(P=m.newline)?P:"\n",C.offset=null!=(U=m.offset)?U:0,C.dontPrettyTextNodes=null!=(R=null!=(oe=m.dontPrettyTextNodes)?oe:m.dontprettytextnodes)?R:0,C.spaceBeforeSlash=null!=(X=null!=(le=m.spaceBeforeSlash)?le:m.spacebeforeslash)?X:"",!0===C.spaceBeforeSlash&&(C.spaceBeforeSlash=" "),C.suppressPrettyCount=0,C.user={},C.state=Q.None,C},B.prototype.indent=function(m,C,D){var P;return!C.pretty||C.suppressPrettyCount?"":C.pretty&&(P=(D||0)+C.offset+1)>0?new Array(P).join(C.indent):""},B.prototype.endline=function(m,C,D){return!C.pretty||C.suppressPrettyCount?"":C.newline},B.prototype.attribute=function(m,C,D){var P;return this.openAttribute(m,C,D),P=" "+m.name+'="'+m.value+'"',this.closeAttribute(m,C,D),P},B.prototype.cdata=function(m,C,D){var P;return this.openNode(m,C,D),C.state=Q.OpenTag,P=this.indent(m,C,D)+"<![CDATA[",C.state=Q.InsideTag,P+=m.value,C.state=Q.CloseTag,P+="]]>"+this.endline(m,C,D),C.state=Q.None,this.closeNode(m,C,D),P},B.prototype.comment=function(m,C,D){var P;return this.openNode(m,C,D),C.state=Q.OpenTag,P=this.indent(m,C,D)+"\x3c!-- ",C.state=Q.InsideTag,P+=m.value,C.state=Q.CloseTag,P+=" --\x3e"+this.endline(m,C,D),C.state=Q.None,this.closeNode(m,C,D),P},B.prototype.declaration=function(m,C,D){var P;return this.openNode(m,C,D),C.state=Q.OpenTag,P=this.indent(m,C,D)+"<?xml",C.state=Q.InsideTag,P+=' version="'+m.version+'"',null!=m.encoding&&(P+=' encoding="'+m.encoding+'"'),null!=m.standalone&&(P+=' standalone="'+m.standalone+'"'),C.state=Q.CloseTag,P+=C.spaceBeforeSlash+"?>",P+=this.endline(m,C,D),C.state=Q.None,this.closeNode(m,C,D),P},B.prototype.docType=function(m,C,D){var U,R,oe,X;if(D||(D=0),this.openNode(m,C,D),C.state=Q.OpenTag,oe=this.indent(m,C,D),oe+="<!DOCTYPE "+m.root().name,m.pubID&&m.sysID?oe+=' PUBLIC "'+m.pubID+'" "'+m.sysID+'"':m.sysID&&(oe+=' SYSTEM "'+m.sysID+'"'),m.children.length>0){for(oe+=" [",oe+=this.endline(m,C,D),C.state=Q.InsideTag,U=0,R=(X=m.children).length;U<R;U++)oe+=this.writeChildNode(X[U],C,D+1);C.state=Q.CloseTag,oe+="]"}return C.state=Q.CloseTag,oe+=C.spaceBeforeSlash+">",oe+=this.endline(m,C,D),C.state=Q.None,this.closeNode(m,C,D),oe},B.prototype.element=function(m,C,D){var U,R,oe,X,le,ye,_e,He,Ge,Oe,dt,Ye,Pt;for(He in D||(D=0),Ge=!1,Oe="",this.openNode(m,C,D),C.state=Q.OpenTag,Oe+=this.indent(m,C,D)+"<"+m.name,dt=m.attribs)!F.call(dt,He)||(Oe+=this.attribute(dt[He],C,D));if(oe=0===(R=m.children.length)?null:m.children[0],0===R||m.children.every(function(st){return(st.type===K.Text||st.type===K.Raw)&&""===st.value}))C.allowEmpty?(Oe+=">",C.state=Q.CloseTag,Oe+="</"+m.name+">"+this.endline(m,C,D)):(C.state=Q.CloseTag,Oe+=C.spaceBeforeSlash+"/>"+this.endline(m,C,D));else if(!C.pretty||1!==R||oe.type!==K.Text&&oe.type!==K.Raw||null==oe.value){if(C.dontPrettyTextNodes)for(X=0,ye=(Ye=m.children).length;X<ye;X++)if(((U=Ye[X]).type===K.Text||U.type===K.Raw)&&null!=U.value){C.suppressPrettyCount++,Ge=!0;break}for(Oe+=">"+this.endline(m,C,D),C.state=Q.InsideTag,le=0,_e=(Pt=m.children).length;le<_e;le++)Oe+=this.writeChildNode(U=Pt[le],C,D+1);C.state=Q.CloseTag,Oe+=this.indent(m,C,D)+"</"+m.name+">",Ge&&C.suppressPrettyCount--,Oe+=this.endline(m,C,D),C.state=Q.None}else Oe+=">",C.state=Q.InsideTag,C.suppressPrettyCount++,Ge=!0,Oe+=this.writeChildNode(oe,C,D+1),C.suppressPrettyCount--,Ge=!1,C.state=Q.CloseTag,Oe+="</"+m.name+">"+this.endline(m,C,D);return this.closeNode(m,C,D),Oe},B.prototype.writeChildNode=function(m,C,D){switch(m.type){case K.CData:return this.cdata(m,C,D);case K.Comment:return this.comment(m,C,D);case K.Element:return this.element(m,C,D);case K.Raw:return this.raw(m,C,D);case K.Text:return this.text(m,C,D);case K.ProcessingInstruction:return this.processingInstruction(m,C,D);case K.Dummy:return"";case K.Declaration:return this.declaration(m,C,D);case K.DocType:return this.docType(m,C,D);case K.AttributeDeclaration:return this.dtdAttList(m,C,D);case K.ElementDeclaration:return this.dtdElement(m,C,D);case K.EntityDeclaration:return this.dtdEntity(m,C,D);case K.NotationDeclaration:return this.dtdNotation(m,C,D);default:throw new Error("Unknown XML node type: "+m.constructor.name)}},B.prototype.processingInstruction=function(m,C,D){var P;return this.openNode(m,C,D),C.state=Q.OpenTag,P=this.indent(m,C,D)+"<?",C.state=Q.InsideTag,P+=m.target,m.value&&(P+=" "+m.value),C.state=Q.CloseTag,P+=C.spaceBeforeSlash+"?>",P+=this.endline(m,C,D),C.state=Q.None,this.closeNode(m,C,D),P},B.prototype.raw=function(m,C,D){var P;return this.openNode(m,C,D),C.state=Q.OpenTag,P=this.indent(m,C,D),C.state=Q.InsideTag,P+=m.value,C.state=Q.CloseTag,P+=this.endline(m,C,D),C.state=Q.None,this.closeNode(m,C,D),P},B.prototype.text=function(m,C,D){var P;return this.openNode(m,C,D),C.state=Q.OpenTag,P=this.indent(m,C,D),C.state=Q.InsideTag,P+=m.value,C.state=Q.CloseTag,P+=this.endline(m,C,D),C.state=Q.None,this.closeNode(m,C,D),P},B.prototype.dtdAttList=function(m,C,D){var P;return this.openNode(m,C,D),C.state=Q.OpenTag,P=this.indent(m,C,D)+"<!ATTLIST",C.state=Q.InsideTag,P+=" "+m.elementName+" "+m.attributeName+" "+m.attributeType,"#DEFAULT"!==m.defaultValueType&&(P+=" "+m.defaultValueType),m.defaultValue&&(P+=' "'+m.defaultValue+'"'),C.state=Q.CloseTag,P+=C.spaceBeforeSlash+">"+this.endline(m,C,D),C.state=Q.None,this.closeNode(m,C,D),P},B.prototype.dtdElement=function(m,C,D){var P;return this.openNode(m,C,D),C.state=Q.OpenTag,P=this.indent(m,C,D)+"<!ELEMENT",C.state=Q.InsideTag,P+=" "+m.name+" "+m.value,C.state=Q.CloseTag,P+=C.spaceBeforeSlash+">"+this.endline(m,C,D),C.state=Q.None,this.closeNode(m,C,D),P},B.prototype.dtdEntity=function(m,C,D){var P;return this.openNode(m,C,D),C.state=Q.OpenTag,P=this.indent(m,C,D)+"<!ENTITY",C.state=Q.InsideTag,m.pe&&(P+=" %"),P+=" "+m.name,m.value?P+=' "'+m.value+'"':(m.pubID&&m.sysID?P+=' PUBLIC "'+m.pubID+'" "'+m.sysID+'"':m.sysID&&(P+=' SYSTEM "'+m.sysID+'"'),m.nData&&(P+=" NDATA "+m.nData)),C.state=Q.CloseTag,P+=C.spaceBeforeSlash+">"+this.endline(m,C,D),C.state=Q.None,this.closeNode(m,C,D),P},B.prototype.dtdNotation=function(m,C,D){var P;return this.openNode(m,C,D),C.state=Q.OpenTag,P=this.indent(m,C,D)+"<!NOTATION",C.state=Q.InsideTag,P+=" "+m.name,m.pubID&&m.sysID?P+=' PUBLIC "'+m.pubID+'" "'+m.sysID+'"':m.pubID?P+=' PUBLIC "'+m.pubID+'"':m.sysID&&(P+=' SYSTEM "'+m.sysID+'"'),C.state=Q.CloseTag,P+=C.spaceBeforeSlash+">"+this.endline(m,C,D),C.state=Q.None,this.closeNode(m,C,D),P},B.prototype.openNode=function(m,C,D){},B.prototype.closeNode=function(m,C,D){},B.prototype.openAttribute=function(m,C,D){},B.prototype.closeAttribute=function(m,C,D){},B}()}).call(this)},2307:function(Se,xe,$){(function(){var K,Q,q,l,d,f,h,w,b,y;y=$(392),w=y.assign,b=y.isFunction,q=$(7331),l=$(5752),d=$(1979),h=$(6600),f=$(4710),K=$(3227),Q=$(2036),Se.exports.create=function(_,M,T,S){var L,z;if(null==_)throw new Error("Root element needs a name.");return S=w({},M,T,S),z=(L=new l(S)).element(_),S.headless||(L.declaration(S),(null!=S.pubID||null!=S.sysID)&&L.dtd(S)),z},Se.exports.begin=function(_,M,T){var S;return b(_)&&(M=(S=[_,M])[0],T=S[1],_={}),M?new d(_,M,T):new l(_)},Se.exports.stringWriter=function(_){return new h(_)},Se.exports.streamWriter=function(_,M){return new f(_,M)},Se.exports.implementation=new q,Se.exports.nodeType=K,Se.exports.writerState=Q}).call(this)}},Ai={};function Vi(Se){var xe=Ai[Se];if(void 0!==xe)return xe.exports;var $=Ai[Se]={exports:{}};return Nr[Se].call($.exports,$,$.exports,Vi),$.exports}(()=>{"use strict";function Se(n){return"function"==typeof n}let xe=!1;const $={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else xe&&console.log("RxJS: Back to a better error behavior. Thank you. <3");xe=n},get useDeprecatedSynchronousErrorHandling(){return xe}};function K(n){setTimeout(()=>{throw n},0)}const Q={closed:!0,next(n){},error(n){if($.useDeprecatedSynchronousErrorHandling)throw n;K(n)},complete(){}},q=Array.isArray||(n=>n&&"number"==typeof n.length);function l(n){return null!==n&&"object"==typeof n}const f=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class h{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_unsubscribe:i,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof h)e.remove(this);else if(null!==e)for(let s=0;s<e.length;++s)e[s].remove(this);if(Se(i))try{i.call(this)}catch(s){t=s instanceof f?w(s.errors):[s]}if(q(r)){let s=-1,o=r.length;for(;++s<o;){const a=r[s];if(l(a))try{a.unsubscribe()}catch(c){t=t||[],c instanceof f?t=t.concat(w(c.errors)):t.push(c)}}}if(t)throw new f(t)}add(t){let e=t;if(!t)return h.EMPTY;switch(typeof t){case"function":e=new h(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof h)){const s=e;e=new h,e._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof h){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function w(n){return n.reduce((t,e)=>t.concat(e instanceof f?e.errors:e),[])}h.EMPTY=((n=new h).closed=!0,n);const b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class _ extends h{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Q;break;case 1:if(!t){this.destination=Q;break}if("object"==typeof t){t instanceof _?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new M(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new M(this,t,e,i)}}[b](){return this}static create(t,e,i){const r=new _(t,e,i);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class M extends _{constructor(t,e,i,r){super(),this._parentSubscriber=t;let s,o=this;Se(e)?s=e:e&&(s=e.next,i=e.error,r=e.complete,e!==Q&&(o=Object.create(e),Se(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;$.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=$;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):K(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;K(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);$.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),$.useDeprecatedSynchronousErrorHandling)throw i;K(i)}}__tryOrSetError(t,e,i){if(!$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(r){return $.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(K(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const L="function"==typeof Symbol&&Symbol.observable||"@@observable";function z(n){return n}let B=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const{operator:s}=this,o=function(n,t,e){if(n){if(n instanceof _)return n;if(n[b])return n[b]()}return n||t||e?new _(n,t,e):new _(Q)}(e,i,r);if(o.add(s?s.call(o,this.source):this.source||$.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),$.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){$.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof _?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=m(i))((r,s)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,r)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[L](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?z:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=m(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function m(n){if(n||(n=$.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const D=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class P extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class U extends _{constructor(t){super(t),this.destination=t}}let R=(()=>{class n extends B{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[b](){return new U(this)}lift(e){const i=new oe(this,this);return i.operator=e,i}next(e){if(this.closed)throw new D;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(e)}}error(e){if(this.closed)throw new D;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new D;this.isStopped=!0;const{observers:e}=this,i=e.length,r=e.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new D;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new D;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new P(this,e))}asObservable(){const e=new B;return e.source=this,e}}return n.create=(t,e)=>new oe(t,e),n})();class oe extends R{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function X(n){return n&&"function"==typeof n.schedule}class le extends _{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const ye=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Ge="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Pt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function st(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Ne=n=>{if(n&&"function"==typeof n[L])return(n=>t=>{const e=n[L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(Pt(n))return ye(n);if(st(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,K),t))(n);if(n&&"function"==typeof n[Ge])return(n=>t=>{const e=n[Ge]();for(;;){const i=e.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${l(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function _n(n,t,e,i,r=new le(n,e,i)){if(!r.closed)return t instanceof B?t.subscribe(r):Ne(t)(r)}class ri extends _{notifyNext(t,e,i,r,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function Yt(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new gr(n,t))}}class gr{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Z(t,this.project,this.thisArg))}}class Z extends _{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function he(n,t){return new B(e=>{const i=new h;let r=0;return i.add(t.schedule(function(){r!==n.length?(e.next(n[r++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function In(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[L]}(n))return function(n,t){return new B(e=>{const i=new h;return i.add(t.schedule(()=>{const r=n[L]();i.add(r.subscribe({next(s){i.add(t.schedule(()=>e.next(s)))},error(s){i.add(t.schedule(()=>e.error(s)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(st(n))return function(n,t){return new B(e=>{const i=new h;return i.add(t.schedule(()=>n.then(r=>{i.add(t.schedule(()=>{e.next(r),i.add(t.schedule(()=>e.complete()))}))},r=>{i.add(t.schedule(()=>e.error(r)))}))),i})}(n,t);if(Pt(n))return he(n,t);if(function(n){return n&&"function"==typeof n[Ge]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new B(e=>{const i=new h;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=n[Ge](),i.add(t.schedule(function(){if(e.closed)return;let s,o;try{const a=r.next();s=a.value,o=a.done}catch(a){return void e.error(a)}o?e.complete():(e.next(s),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof B?n:new B(Ne(n))}function g(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(g((r,s)=>In(n(r,s)).pipe(Yt((o,a)=>t(r,o,s,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new v(n,e)))}class v{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new E(t,this.project,this.concurrent))}}class E extends ri{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,i)}_innerSub(t,e,i){const r=new le(this,e,i),s=this.destination;s.add(r);const o=_n(this,t,void 0,void 0,r);o!==r&&s.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,i,r,s){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(n=Number.POSITIVE_INFINITY){return g(z,n)}function J(n,t){return t?he(n,t):new B(ye(n))}function ce(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return X(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof B?n[0]:H(t)(J(n,e))}function pe(){return function(t){return t.lift(new Ze(t))}}class Ze{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const r=new tt(t,i),s=e.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class tt extends _{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,r=t._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class et extends B{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new bt(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return pe()(this)}}const Qe=(()=>{const n=et.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class bt extends U{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function N(){return new R}function O(){return n=>pe()(function(n,t){return function(i){let r;r="function"==typeof n?n:function(){return n};const s=Object.create(i,Qe);return s.source=i,s.subjectFactory=r,s}}(N)(n))}function j(n){for(let t in n)if(n[t]===j)return t;throw Error("Could not find renamed property on target object.")}function Y(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Ie(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const gt=j({__forward_ref__:j});function Je(n){return n.__forward_ref__=Je,n.toString=function(){return me(this())},n}function Te(n){return yi(n)?n():n}function yi(n){return"function"==typeof n&&n.hasOwnProperty(gt)&&n.__forward_ref__===Je}class Gi extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function wt(n){return"string"==typeof n?n:null==n?"":String(n)}function Ii(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():wt(n)}function Qu(n,t){const e=t?` in ${t}`:"";throw new Gi("201",`No provider for ${Ii(n)} found${e}`)}function $i(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function be(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ms(n){return K_(n,Ju)||K_(n,Z_)}function K_(n,t){return n.hasOwnProperty(t)?n[t]:null}function X_(n){return n&&(n.hasOwnProperty(up)||n.hasOwnProperty(yR))?n[up]:null}const Ju=j({\u0275prov:j}),up=j({\u0275inj:j}),Z_=j({ngInjectableDef:j}),yR=j({ngInjectorDef:j});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let dp;function io(n){const t=dp;return dp=n,t}function Y_(n,t,e){const i=Ms(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&yt.Optional?null:void 0!==t?t:void Qu(me(n),"Injector")}function ro(n){return{toString:n}.toString()}var yr=(()=>((yr=yr||{})[yr.OnPush=0]="OnPush",yr[yr.Default=1]="Default",yr))(),zi=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(zi||(zi={})),zi))();const _R="undefined"!=typeof globalThis&&globalThis,bR="undefined"!=typeof window&&window,wR="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,sn=_R||"undefined"!=typeof global&&global||bR||wR,Aa={},cn=[],$u=j({\u0275cmp:j}),hp=j({\u0275dir:j}),fp=j({\u0275pipe:j}),Q_=j({\u0275mod:j}),As=j({\u0275fac:j}),ec=j({__NG_ELEMENT_ID__:j});let CR=0;function Mt(n){return ro(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===yr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||cn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||zi.Emulated,id:"c",styles:n.styles||cn,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=CR++,i.inputs=tb(n.inputs,e),i.outputs=tb(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(J_):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map($_):null,i})}function J_(n){return vi(n)||function(n){return n[hp]||null}(n)}function $_(n){return function(n){return n[fp]||null}(n)}const eb={};function ot(n){return ro(()=>{const t={type:n.type,bootstrap:n.bootstrap||cn,declarations:n.declarations||cn,imports:n.imports||cn,exports:n.exports||cn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(eb[n.id]=n.type),t})}function tb(n,t){if(null==n)return Aa;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const Ce=Mt;function ji(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function vi(n){return n[$u]||null}function vr(n,t){const e=n[Q_]||null;if(!e&&!0===t)throw new Error(`Type ${me(n)} does not have '\u0275mod' property.`);return e}function rs(n){return Array.isArray(n)&&"object"==typeof n[1]}function Vr(n){return Array.isArray(n)&&!0===n[1]}function gp(n){return 0!=(8&n.flags)}function id(n){return 2==(2&n.flags)}function rd(n){return 1==(1&n.flags)}function Hr(n){return null!==n.template}function MR(n){return 0!=(512&n[2])}function Go(n,t){return n.hasOwnProperty(As)?n[As]:null}class vp{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Gn(){return ib}function ib(n){return n.type.prototype.ngOnChanges&&(n.setInput=OR),RR}function RR(){const n=sb(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Aa)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function OR(n,t,e,i){const r=sb(n)||function(n,t){return n[rb]=t}(n,{previous:Aa,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[e],c=o[a];s[a]=new vp(c&&c.currentValue,t,o===Aa),n[i]=t}Gn.ngInherit=!0;const rb="__ngSimpleChanges__";function sb(n){return n[rb]||null}const ob="http://www.w3.org/2000/svg";let bp;function wp(){return void 0!==bp?bp:"undefined"!=typeof document?document:void 0}function On(n){return!!n.listen}const lb={createRenderer:(n,t)=>wp()};function zn(n){for(;Array.isArray(n);)n=n[0];return n}function sd(n,t){return zn(t[n])}function wr(n,t){return zn(t[n.index])}function Cp(n,t){return n.data[t]}function Pa(n,t){return n[t]}function tr(n,t){const e=t[n];return rs(e)?e:e[0]}function cb(n){return 4==(4&n[2])}function xp(n){return 128==(128&n[2])}function oo(n,t){return null==t?null:n[t]}function ub(n){n[18]=0}function Ep(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const xt={lFrame:vb(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function db(){return xt.bindingsEnabled}function Me(){return xt.lFrame.lView}function Wt(){return xt.lFrame.tView}function en(n){return xt.lFrame.contextLView=n,n[8]}function Qn(){let n=hb();for(;null!==n&&64===n.type;)n=n.parent;return n}function hb(){return xt.lFrame.currentTNode}function ss(n,t){const e=xt.lFrame;e.currentTNode=n,e.isParent=t}function Dp(){return xt.lFrame.isParent}function Sp(){xt.lFrame.isParent=!1}function od(){return xt.isInCheckNoChangesMode}function ad(n){xt.isInCheckNoChangesMode=n}function Ri(){const n=xt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ka(){return xt.lFrame.bindingIndex++}function KR(n,t){const e=xt.lFrame;e.bindingIndex=e.bindingRootIndex=n,Tp(t)}function Tp(n){xt.lFrame.currentDirectiveIndex=n}function Mp(n){const t=xt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function mb(){return xt.lFrame.currentQueryIndex}function Ap(n){xt.lFrame.currentQueryIndex=n}function ZR(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function gb(n,t,e){if(e&yt.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&yt.Host||(r=ZR(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=xt.lFrame=yb();return i.currentTNode=t,i.lView=n,!0}function ld(n){const t=yb(),e=n[1];xt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function yb(){const n=xt.lFrame,t=null===n?null:n.child;return null===t?vb(n):t}function vb(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function _b(){const n=xt.lFrame;return xt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const bb=_b;function cd(){const n=_b();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Oi(){return xt.lFrame.selectedIndex}function ao(n){xt.lFrame.selectedIndex=n}function Fn(){const n=xt.lFrame;return Cp(n.tView,n.selectedIndex)}function os(){xt.lFrame.currentNamespace=ob}function ud(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:p}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-e,c),u&&((n.viewHooks||(n.viewHooks=[])).push(e,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,u)),null!=p&&(n.destroyHooks||(n.destroyHooks=[])).push(e,p)}}function dd(n,t,e){Cb(n,t,3,e)}function hd(n,t,e,i){(3&n[2])===e&&Cb(n,t,e,i)}function Ip(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Cb(n,t,e,i){const s=null!=i?i:-1,o=t.length-1;let a=0;for(let c=void 0!==i?65535&n[18]:0;c<o;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=i&&a>=i)break}else t[c]<0&&(n[18]+=65536),(a<s||-1==s)&&(nO(n,e,t,c),n[18]=(4294901760&n[18])+c+2),c++}function nO(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class sc{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function fd(n,t,e){const i=On(n);let r=0;for(;r<e.length;){const s=e[r];if("number"==typeof s){if(0!==s)break;r++;const o=e[r++],a=e[r++],c=e[r++];i?n.setAttribute(t,a,c,o):t.setAttributeNS(o,a,c)}else{const o=s,a=e[++r];Op(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),r++}}return r}function xb(n){return 3===n||4===n||6===n}function Op(n){return 64===n.charCodeAt(0)}function pd(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Eb(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Eb(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function Db(n){return-1!==n}function La(n){return 32767&n}function Na(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Fp=!0;function md(n){const t=Fp;return Fp=n,t}let lO=0;function ac(n,t){const e=kp(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Pp(i.data,n),Pp(t,null),Pp(i.blueprint,null));const r=gd(n,t),s=n.injectorIndex;if(Db(r)){const o=La(r),a=Na(r,t),c=a[1].data;for(let u=0;u<8;u++)t[s+u]=a[o+u]|c[o+u]}return t[s+8]=r,s}function Pp(n,t){n.push(0,0,0,0,0,0,0,0,t)}function kp(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function gd(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function yd(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ec)&&(i=e[ec]),null==i&&(i=e[ec]=lO++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function Mb(n,t,e){if(e&yt.Optional)return n;Qu(t,"NodeInjector")}function Ab(n,t,e,i){if(e&yt.Optional&&void 0===i&&(i=null),0==(e&(yt.Self|yt.Host))){const r=n[9],s=io(void 0);try{return r?r.get(t,i,e&yt.Optional):Y_(t,i,e&yt.Optional)}finally{io(s)}}return Mb(i,t,e)}function Ib(n,t,e,i=yt.Default,r){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ec)?n[ec]:void 0;return"number"==typeof t?t>=0?255&t:dO:t}(e);if("function"==typeof s){if(!gb(t,n,i))return i&yt.Host?Mb(r,e,i):Ab(t,e,i,r);try{const o=s(i);if(null!=o||i&yt.Optional)return o;Qu(e)}finally{bb()}}else if("number"==typeof s){let o=null,a=kp(n,t),c=-1,u=i&yt.Host?t[16][6]:null;for((-1===a||i&yt.SkipSelf)&&(c=-1===a?gd(n,t):t[a+8],-1!==c&&Fb(i,!1)?(o=t[1],a=La(c),t=Na(c,t)):a=-1);-1!==a;){const p=t[1];if(Ob(s,a,p.data)){const x=hO(a,t,e,o,i,u);if(x!==Rb)return x}c=t[a+8],-1!==c&&Fb(i,t[1].data[a+8]===u)&&Ob(s,a,t)?(o=p,a=La(c),t=Na(c,t)):a=-1}}}return Ab(t,e,i,r)}const Rb={};function dO(){return new Ba(Qn(),Me())}function hO(n,t,e,i,r,s){const o=t[1],a=o.data[n+8],p=vd(a,o,e,null==i?id(a)&&Fp:i!=o&&0!=(3&a.type),r&yt.Host&&s===a);return null!==p?lc(t,o,p,a):Rb}function vd(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,c=n.directiveStart,p=s>>20,A=r?a+p:n.directiveEnd;for(let k=i?a:a+p;k<A;k++){const G=o[k];if(k<c&&e===G||k>=c&&G.type===e)return k}if(r){const k=o[c];if(k&&Hr(k)&&k.type===e)return c}return null}function lc(n,t,e,i){let r=n[e];const s=t.data;if(function(n){return n instanceof sc}(r)){const o=r;o.resolving&&function(n,t){throw new Gi("200",`Circular dependency in DI detected for ${n}`)}(Ii(s[e]));const a=md(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?io(o.injectImpl):null;gb(n,i,yt.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=ib(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==c&&io(c),md(a),o.resolving=!1,bb()}}return r}function Ob(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Fb(n,t){return!(n&yt.Self||n&yt.Host&&t)}class Ba{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Ib(this._tNode,this._lView,t,i,e)}}function at(n){return ro(()=>{const t=n.prototype.constructor,e=t[As]||Lp(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[As]||Lp(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Lp(n){return yi(n)?()=>{const t=Lp(Te(n));return t&&t()}:Go(n)}function zo(n){return function(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(xb(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(Qn(),n)}const Ha="__parameters__";function jo(n,t,e){return ro(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(c,u,p){const x=c.hasOwnProperty(Ha)?c[Ha]:Object.defineProperty(c,Ha,{value:[]})[Ha];for(;x.length<=p;)x.push(null);return(x[p]=x[p]||[]).push(o),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class ke{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=be({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Cr(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Cr(i,t)):t!==n&&t.push(i)}return t}function as(n,t){n.forEach(e=>Array.isArray(e)?as(e,t):t(e))}function _d(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Uo(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function co(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function nr(n,t,e){let i=za(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Vp(n,t){const e=za(n,t);if(e>=0)return n[1|e]}function za(n,t){return function(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const fc={},Gp="__NG_DI_FLAG__",ja="ngTempTokenPath",DO=/\n/gm,zp="__source",jp=j({provide:String,useValue:j});let pc;function Ua(n){const t=pc;return pc=n,t}function TO(n,t=yt.Default){if(void 0===pc)throw new Error("inject() must be called from an injection context");return null===pc?Y_(n,void 0,t):pc.get(n,t&yt.Optional?null:void 0,t)}function se(n,t=yt.Default){return(dp||TO)(Te(n),t)}const Wa=se;function Wo(n){const t=[];for(let e=0;e<n.length;e++){const i=Te(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,s=yt.Default;for(let o=0;o<i.length;o++){const a=i[o],c=MO(a);"number"==typeof c?-1===c?r=a.token:s|=c:r=a}t.push(se(r,s))}else t.push(se(i))}return t}function mc(n,t){return n[Gp]=t,n.prototype[Gp]=t,n}function MO(n){return n[Gp]}function Bb(n,t,e,i){const r=n[ja];throw t[zp]&&r.unshift(t[zp]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=me(t);if(Array.isArray(t))r=t.map(me).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):me(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(DO,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[ja]=null,n}const gc=mc(jo("Inject",n=>({token:n})),-1),ir=mc(jo("Optional"),8),uo=mc(jo("SkipSelf"),4);let xd,Ed;function Ka(n){var t;return(null==(t=function(){if(void 0===xd&&(xd=null,sn.trustedTypes))try{xd=sn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return xd}())?void 0:t.createHTML(n))||n}function jb(n){var t;return(null==(t=function(){if(void 0===Ed&&(Ed=null,sn.trustedTypes))try{Ed=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ed}())?void 0:t.createHTML(n))||n}class qo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class VO extends qo{getTypeName(){return"HTML"}}class HO extends qo{getTypeName(){return"Style"}}class GO extends qo{getTypeName(){return"Script"}}class zO extends qo{getTypeName(){return"URL"}}class jO extends qo{getTypeName(){return"ResourceURL"}}function rr(n){return n instanceof qo?n.changingThisBreaksApplicationSecurity:n}function ls(n,t){const e=qb(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function qb(n){return n instanceof qo&&n.getTypeName()||null}class ZO{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Ka(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class YO{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ka(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Ka(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const o=e.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const JO=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$O=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vc(n){return(n=String(n)).match(JO)||n.match($O)?n:"unsafe:"+n}function Xb(n){return(n=String(n)).split(",").map(t=>vc(t.trim())).join(", ")}function cs(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function _c(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Zb=cs("area,br,col,hr,img,wbr"),Yb=cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qb=cs("rp,rt"),Kp=_c(Zb,_c(Yb,cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_c(Qb,cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_c(Qb,Yb)),Xp=cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zp=cs("srcset"),Jb=_c(Xp,Zp,cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),eF=cs("script,style,template");class tF{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Kp.hasOwnProperty(e))return this.sanitizedSomething=!0,!eF.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!Jb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;Xp[a]&&(c=vc(c)),Zp[a]&&(c=Xb(c)),this.buf.push(" ",o,'="',$b(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Kp.hasOwnProperty(e)&&!Zb.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push($b(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const nF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iF=/([^\#-~ |!])/g;function $b(n){return n.replace(/&/g,"&amp;").replace(nF,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(iF,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dd;function ew(n,t){let e=null;try{Dd=Dd||function(n){const t=new YO(n);return function(){try{return!!(new window.DOMParser).parseFromString(Ka(""),"text/html")}catch(n){return!1}}()?new ZO(t):t}(n);let i=t?String(t):"";e=Dd.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Dd.getInertBodyElement(i)}while(i!==s);return Ka((new tF).sanitizeChildren(Yp(e)||e))}finally{if(e){const i=Yp(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Yp(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Xt=(()=>((Xt=Xt||{})[Xt.NONE=0]="NONE",Xt[Xt.HTML=1]="HTML",Xt[Xt.STYLE=2]="STYLE",Xt[Xt.SCRIPT=3]="SCRIPT",Xt[Xt.URL=4]="URL",Xt[Xt.RESOURCE_URL=5]="RESOURCE_URL",Xt))();function jn(n){const t=bc();return t?jb(t.sanitize(Xt.HTML,n)||""):ls(n,"HTML")?jb(rr(n)):ew(wp(),wt(n))}function Sd(n){const t=bc();return t?t.sanitize(Xt.URL,n)||"":ls(n,"URL")?rr(n):vc(wt(n))}function bc(){const n=Me();return n&&n[12]}const iw="__ngContext__";function bi(n,t){n[iw]=t}function Jp(n){const t=function(n){return n[iw]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Td(n){return n.ngOriginalError}function bF(n,...t){n.error(...t)}class us{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),r=function(n){return n&&n.ngErrorLogger||bF}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),i&&r(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(Td(t)):null}_findOriginalError(t){let e=t&&Td(t);for(;e&&Td(e);)e=Td(e);return e||null}}const hw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(sn))();function Ad(n){return n.ownerDocument.defaultView}function ds(n){return n instanceof Function?n():n}var sr=(()=>((sr=sr||{})[sr.Important=1]="Important",sr[sr.DashCase=2]="DashCase",sr))();function tm(n,t){return undefined(n,t)}function Cc(n){const t=n[3];return Vr(t)?t[3]:t}function nm(n){return yw(n[13])}function im(n){return yw(n[4])}function yw(n){for(;null!==n&&!Vr(n);)n=n[4];return n}function Za(n,t,e,i,r){if(null!=i){let s,o=!1;Vr(i)?s=i:rs(i)&&(o=!0,i=i[0]);const a=zn(i);0===n&&null!==e?null==r?xw(t,e,a):Ko(t,e,a,r||null,!0):1===n&&null!==e?Ko(t,e,a,r||null,!0):2===n?function(n,t,e){const i=Id(n,t);i&&function(n,t,e,i){On(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function(n,t,e,i,r){const s=e[7];s!==zn(e)&&Za(t,n,i,s,r);for(let a=10;a<e.length;a++){const c=e[a];xc(c[1],c,n,t,i,s)}}(t,n,s,e,r)}}function sm(n,t,e){return On(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function _w(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Ep(r,-1)),e.splice(i,1)}function om(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&_w(r,i),t>0&&(n[e-1][4]=i[4]);const s=Uo(n,10+t);!function(n,t){xc(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function bw(n,t){if(!(256&t[2])){const e=t[11];On(e)&&e.destroyNode&&xc(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return am(n[1],n);for(;t;){let e=null;if(rs(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)rs(t)&&am(t[1],t),t=t[3];null===t&&(t=n),rs(t)&&am(t[1],t),e=t&&t[4]}t=e}}(t)}}function am(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof sc)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],c=s[o+1];try{c.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(t):zn(t[o]),c=i[r=e[s+2]],u=e[s+3];"boolean"==typeof u?a.removeEventListener(e[s],c,u):u>=0?i[r=u]():i[r=-u].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();t[7]=null}}(n,t),1===t[1].type&&On(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Vr(t[3])){e!==t[3]&&_w(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function ww(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===zi.None||r===zi.Emulated)return null}return wr(i,e)}(n,t.parent,e)}function Ko(n,t,e,i,r){On(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function xw(n,t,e){On(n)?n.appendChild(t,e):t.appendChild(e)}function Ew(n,t,e,i,r){null!==i?Ko(n,t,e,i,r):xw(n,t,e)}function Id(n,t){return On(n)?n.parentNode(t):t.parentNode}function Dw(n,t,e){return Tw(n,t,e)}let Tw=function(n,t,e){return 40&n.type?wr(n,e):null};function Rd(n,t,e,i){const r=ww(n,i,t),s=t[11],a=Dw(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)Ew(s,r,e[c],a,!1);else Ew(s,r,e,a,!1)}function Od(n,t){if(null!==t){const e=t.type;if(3&e)return wr(t,n);if(4&e)return cm(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Od(n,i);{const r=n[t.index];return Vr(r)?cm(-1,r):zn(r)}}if(32&e)return tm(t,n)()||zn(n[t.index]);{const i=Aw(n,t);return null!==i?Array.isArray(i)?i[0]:Od(Cc(n[16]),i):Od(n,t.next)}}return null}function Aw(n,t){return null!==t?n[16][6].projection[t.projection]:null}function cm(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return Od(i,r)}return t[7]}function um(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],c=e.type;if(o&&0===t&&(a&&bi(zn(a),i),e.flags|=4),64!=(64&e.flags))if(8&c)um(n,t,e.child,i,r,s,!1),Za(t,n,r,a,s);else if(32&c){const u=tm(e,i);let p;for(;p=u();)Za(t,n,r,p,s);Za(t,n,r,a,s)}else 16&c?Rw(n,t,i,e,r,s):Za(t,n,r,a,s);e=o?e.projectionNext:e.next}}function xc(n,t,e,i,r,s){um(e,i,n.firstChild,t,r,s,!1)}function Rw(n,t,e,i,r,s){const o=e[16],c=o[6].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Za(t,n,r,c[u],s);else um(n,t,c,o[3],r,s,!0)}function Ow(n,t,e){On(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function dm(n,t,e){On(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Fw(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const Pw="ng-template";function WF(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Fw(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function kw(n){return 4===n.type&&n.value!==Pw}function qF(n,t,e){return t===(4!==n.type||e?n.value:Pw)}function KF(n,t,e){let i=4;const r=n.attrs||[],s=function(n){for(let t=0;t<n.length;t++)if(xb(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!qF(n,c,e)||""===c&&1===t.length){if(Gr(i))return!1;o=!0}}else{const u=8&i?c:t[++a];if(8&i&&null!==n.attrs){if(!WF(n.attrs,u,e)){if(Gr(i))return!1;o=!0}continue}const x=XF(8&i?"class":c,r,kw(n),e);if(-1===x){if(Gr(i))return!1;o=!0;continue}if(""!==u){let A;A=x>s?"":r[x+1].toLowerCase();const k=8&i?A:null;if(k&&-1!==Fw(k,u,0)||2&i&&u!==A){if(Gr(i))return!1;o=!0}}}}else{if(!o&&!Gr(i)&&!Gr(c))return!1;if(o&&Gr(c))continue;o=!1,i=c|1&i}}return Gr(i)||o}function Gr(n){return 0==(1&n)}function XF(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Lw(n,t,e=!1){for(let i=0;i<t.length;i++)if(KF(n,t[i],e))return!0;return!1}function JF(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Nw(n,t){return n?":not("+t.trim()+")":t}function $F(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Gr(o)&&(t+=Nw(s,r),r=""),i=o,s=s||!Gr(i);e++}return""!==r&&(t+=Nw(s,r)),t}const Tt={};function ue(n){Bw(Wt(),Me(),Oi()+n,od())}function Bw(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&dd(t,s,e)}else{const s=n.preOrderHooks;null!==s&&hd(t,s,0,e)}ao(e)}function Fd(n,t){return n<<17|t<<2}function zr(n){return n>>17&32767}function hm(n){return 2|n}function Os(n){return(131068&n)>>2}function fm(n,t){return-131069&n|t<<2}function pm(n){return 1|n}function Zw(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const o=n.data[s];Ap(r),o.contentQueries(2,t[s],s)}}}function Ec(n,t,e,i,r,s,o,a,c,u){const p=t.blueprint.slice();return p[0]=r,p[2]=140|i,ub(p),p[3]=p[15]=n,p[8]=e,p[10]=o||n&&n[10],p[11]=a||n&&n[11],p[12]=c||n&&n[12]||null,p[9]=u||n&&n[9]||null,p[6]=s,p[16]=2==t.type?n[16]:p,p}function Ya(n,t,e,i,r){let s=n.data[t];if(null===s)s=function(n,t,e,i,r){const s=hb(),o=Dp(),c=n.data[t]=function(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c)),c}(n,t,e,i,r),xt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function(){const n=xt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ss(s,!0),s}function Qa(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Dc(n,t,e){ld(t);try{const i=n.viewQuery;null!==i&&Om(1,i,e);const r=n.template;null!==r&&Yw(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Zw(n,t),n.staticViewQueries&&Om(2,n.viewQuery,e);const s=n.components;null!==s&&function(n,t){for(let e=0;e<t.length;e++)kP(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,cd()}}function Ja(n,t,e,i){const r=t[2];if(256==(256&r))return;ld(t);const s=od();try{ub(t),function(n){xt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Yw(n,t,e,2,i);const o=3==(3&r);if(!s)if(o){const u=n.preOrderCheckHooks;null!==u&&dd(t,u,null)}else{const u=n.preOrderHooks;null!==u&&hd(t,u,0,null),Ip(t,0)}if(function(n){for(let t=nm(n);null!==t;t=im(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(1024&r[2])&&Ep(s,1),r[2]|=1024}}}(t),function(n){for(let t=nm(n);null!==t;t=im(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];xp(i)&&Ja(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&Zw(n,t),!s)if(o){const u=n.contentCheckHooks;null!==u&&dd(t,u)}else{const u=n.contentHooks;null!==u&&hd(t,u,1),Ip(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)ao(~r);else{const s=r,o=e[++i],a=e[++i];KR(o,s),a(2,t[s])}}}finally{ao(-1)}}(n,t);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)PP(n,t[e])}(t,a);const c=n.viewQuery;if(null!==c&&Om(2,c,i),!s)if(o){const u=n.viewCheckHooks;null!==u&&dd(t,u)}else{const u=n.viewHooks;null!==u&&hd(t,u,2),Ip(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ep(t[3],-1))}finally{cd()}}function mP(n,t,e,i){const r=t[10],s=!od(),o=cb(t);try{s&&!o&&r.begin&&r.begin(),o&&Dc(n,t,i),Ja(n,t,e,i)}finally{s&&!o&&r.end&&r.end()}}function Yw(n,t,e,i,r){const s=Oi(),o=2&i;try{ao(-1),o&&t.length>20&&Bw(n,t,20,od()),e(i,r)}finally{ao(s)}}function Qw(n,t,e){if(gp(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Em(n,t,e){!db()||(function(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||ac(e,t),bi(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const c=n.data[a],u=Hr(c);u&&AP(t,e,c);const p=lc(t,n,a,e);bi(p,t),null!==o&&IP(0,a-r,p,c,0,o),u&&(tr(e.index,t)[8]=p)}}(n,t,e,wr(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,a=xt.lFrame.currentDirectiveIndex;try{ao(o);for(let c=i;c<r;c++){const u=n.data[c],p=t[c];Tp(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&sC(u,p)}}finally{ao(-1),Tp(a)}}(n,t,e))}function Dm(n,t,e=wr){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function Jw(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Ld(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Ld(n,t,e,i,r,s,o,a,c,u){const p=20+i,x=p+r,A=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Tt);return e}(p,x),k="function"==typeof u?u():u;return A[1]={type:n,blueprint:A,template:e,queries:null,viewQuery:a,declTNode:t,data:A.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:k,incompleteFirstPass:!1}}function tC(n,t,e,i){const r=dC(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&hC(n).push(i,r.length-1))}function nC(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function or(n,t,e,i,r,s,o,a){const c=wr(t,e);let p,u=t.inputs;!a&&null!=u&&(p=u[i])?(mC(n,e,p,i,r),id(t)&&function(n,t){const e=tr(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,On(s)?s.setProperty(c,i,r):Op(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Sm(n,t,e,i){let r=!1;if(db()){const s=function(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Lw(e,o.selectors,!1)&&(r||(r=[]),yd(ac(e,t),n,o.type),Hr(o)?(oC(n,e),r.unshift(o)):r.push(o))}return r}(n,t,e),o=null===i?null:{"":-1};if(null!==s){r=!0,aC(e,n.data.length,s.length);for(let p=0;p<s.length;p++){const x=s[p];x.providersResolver&&x.providersResolver(x)}let a=!1,c=!1,u=Qa(n,t,s.length,null);for(let p=0;p<s.length;p++){const x=s[p];e.mergedAttrs=pd(e.mergedAttrs,x.hostAttrs),lC(n,e,t,u,x),MP(u,x,o),null!==x.contentQueries&&(e.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(e.flags|=128);const A=x.type.prototype;!a&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!c&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),c=!0),u++}!function(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,o=[];let a=null,c=null;for(let u=t.directiveStart;u<i;u++){const p=r[u],x=p.inputs,A=null===s||kw(t)?null:RP(x,s);o.push(A),a=nC(x,u,a),c=nC(p.outputs,u,c)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=c}(n,e)}o&&function(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new Gi("301",`Export of name '${t[r+1]}' not found!`);i.push(t[r],s)}}}(e,i,o)}return e.mergedAttrs=pd(e.mergedAttrs,e.attrs),r}function rC(n,t,e,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(i,r,o)}}function sC(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function oC(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function MP(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Hr(t)&&(e[""]=n)}}function aC(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function lC(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Go(r.type)),o=new sc(s,Hr(r),null);n.blueprint[i]=o,e[i]=o,rC(n,t,0,i,Qa(n,e,r.hostVars,Tt),r)}function AP(n,t,e){const i=wr(t,n),r=Jw(e),s=n[10],o=Nd(n,Ec(n,r,null,e.onPush?64:16,i,t,s,s.createRenderer(i,e),null,null));n[t.index]=o}function hs(n,t,e,i,r,s){const o=wr(n,t);!function(n,t,e,i,r,s,o){if(null==s)On(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==o?wt(s):o(s,i||"",r);On(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],o,s,n.value,e,i,r)}function IP(n,t,e,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let c=0;c<o.length;){const u=o[c++],p=o[c++],x=o[c++];null!==a?i.setInput(e,x,u,p):e[p]=x}}}function RP(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function cC(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function PP(n,t){const e=tr(t,n);if(xp(e)){const i=e[1];80&e[2]?Ja(i,e,i.template,e[8]):e[5]>0&&Mm(e)}}function Mm(n){for(let i=nm(n);null!==i;i=im(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];Ja(o,s,o.template,s[8])}else s[5]>0&&Mm(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=tr(e[i],n);xp(r)&&r[5]>0&&Mm(r)}}function kP(n,t){const e=tr(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Dc(i,e,e[8])}function Nd(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Am(n){for(;n;){n[2]|=64;const t=Cc(n);if(MR(n)&&!t)return n;n=t}return null}function Rm(n,t,e){const i=t[10];i.begin&&i.begin();try{Ja(n,t,n.template,e)}catch(r){throw pC(t,r),r}finally{i.end&&i.end()}}function uC(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Jp(e),r=i[1];mP(r,i,r.template,e)}}(n[8])}function Om(n,t,e){Ap(0),t(n,e)}const HP=(()=>Promise.resolve(null))();function dC(n){return n[7]||(n[7]=[])}function hC(n){return n.cleanup||(n.cleanup=[])}function fC(n,t,e){return(null===n||Hr(n))&&(e=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function pC(n,t){const e=n[9],i=e?e.get(us,null):null;i&&i.handleError(t)}function mC(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],c=t[o],u=n.data[o];null!==u.setInput?u.setInput(c,r,i,a):c[a]=r}}function Fs(n,t,e){const i=sd(t,n);!function(n,t,e){On(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Bd(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Ie(r,a):2==s&&(i=Ie(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const Sc=new ke("INJECTOR",-1);class gC{get(t,e=fc){if(e===fc){const i=new Error(`NullInjectorError: No provider for ${me(t)}!`);throw i.name="NullInjectorError",i}return e}}const Tc=new ke("Set Injector scope."),Mc={},jP={};let Fm;function yC(){return void 0===Fm&&(Fm=new gC),Fm}function vC(n,t=null,e=null,i){return new WP(n,e,t||yC(),i)}class WP{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&as(e,a=>this.processProvider(a,t,e)),as([t],a=>this.processInjectorType(a,[],s)),this.records.set(Sc,$a(void 0,this));const o=this.records.get(Tc);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:me(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fc,i=yt.Default){this.assertNotDestroyed();const r=Ua(this),s=io(void 0);try{if(!(i&yt.SkipSelf)){let a=this.records.get(t);if(void 0===a){const c=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof ke}(t)&&Ms(t);a=c&&this.injectableDefInScope(c)?$a(Pm(t),Mc):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&yt.Self?yC():this.parent).get(t,e=i&yt.Optional&&e===fc?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[ja]=o[ja]||[]).unshift(me(t)),r)throw o;return Bb(o,t,"R3InjectorError",this.source)}throw o}finally{io(s),Ua(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(me(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=Te(t)))return!1;let r=X_(t);const s=null==r&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=X_(s)),null==r)return!1;if(null!=r.imports&&!a){let p;i.push(o);try{as(r.imports,x=>{this.processInjectorType(x,e,i)&&(void 0===p&&(p=[]),p.push(x))})}finally{}if(void 0!==p)for(let x=0;x<p.length;x++){const{ngModule:A,providers:k}=p[x];as(k,G=>this.processProvider(G,A,k||cn))}}this.injectorDefTypes.add(o);const c=Go(o)||(()=>new o);this.records.set(o,$a(c,Mc));const u=r.providers;if(null!=u&&!a){const p=t;as(u,x=>this.processProvider(x,p,u))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,i){let r=el(t=Te(t))?t:Te(t&&t.provide);const s=function(n,t,e){return bC(n)?$a(void 0,n.useValue):$a(_C(n),Mc)}(t);if(el(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=$a(void 0,Mc,!0),o.factory=()=>Wo(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,s)}hydrate(t,e){return e.value===Mc&&(e.value=jP,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Te(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Pm(n){const t=Ms(n),e=null!==t?t.factory:Go(n);if(null!==e)return e;if(n instanceof ke)throw new Error(`Token ${me(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=co(t,"?");throw new Error(`Can't resolve all parameters for ${me(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[Ju]||n[Z_]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function _C(n,t,e){let i;if(el(n)){const r=Te(n);return Go(r)||Pm(r)}if(bC(n))i=()=>Te(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Wo(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>se(Te(n.useExisting));else{const r=Te(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return Go(r)||Pm(r);i=()=>new r(...Wo(n.deps))}return i}function $a(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function bC(n){return null!==n&&"object"==typeof n&&jp in n}function el(n){return"function"==typeof n}const wC=function(n,t,e){return function(n,t=null,e=null,i){const r=vC(n,t,e,i);return r._resolveInjectorDefTypes(),r}({name:e},t,n,e)};let jt=(()=>{class n{static create(e,i){return Array.isArray(e)?wC(e,i,""):wC(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=fc,n.NULL=new gC,n.\u0275prov=be({token:n,providedIn:"any",factory:()=>se(Sc)}),n.__NG_ELEMENT_ID__=-1,n})();function hk(n,t){ud(Jp(n)[1],Qn())}function Ae(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Hr(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=Hm(n.inputs),o.declaredInputs=Hm(n.declaredInputs),o.outputs=Hm(n.outputs);const a=r.hostBindings;a&&gk(n,a);const c=r.viewQuery,u=r.contentQueries;if(c&&pk(n,c),u&&mk(n,u),Y(n.inputs,r.inputs),Y(n.declaredInputs,r.declaredInputs),Y(n.outputs,r.outputs),Hr(r)&&r.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ae&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=pd(r.hostAttrs,e=pd(e,r.hostAttrs))}}(i)}function Hm(n){return n===Aa?{}:n===cn?[]:n}function pk(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function mk(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function gk(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let Vd=null;function tl(){if(!Vd){const n=sn.Symbol;if(n&&n.iterator)Vd=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Vd=i)}}}return Vd}function Ic(n){return!!Gm(n)&&(Array.isArray(n)||!(n instanceof Map)&&tl()in n)}function Gm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function fs(n,t,e){return n[t]=e}function wi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function $e(n,t,e,i){const r=Me();return wi(r,ka(),t)&&(Wt(),hs(Fn(),r,n,t,e,i)),$e}function Le(n,t,e,i,r,s,o,a){const c=Me(),u=Wt(),p=n+20,x=u.firstCreatePass?function(n,t,e,i,r,s,o,a,c){const u=t.consts,p=Ya(t,n,4,o||null,oo(u,a));Sm(t,e,p,oo(u,c)),ud(t,p);const x=p.tViews=Ld(2,p,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,p),x.queries=t.queries.embeddedTView(p)),p}(p,u,c,t,e,i,r,s,o):u.data[p];ss(x,!1);const A=c[11].createComment("");Rd(u,c,A,x),bi(A,c),Nd(c,c[p]=cC(A,c,A,x)),rd(x)&&Em(u,c,x),null!=o&&Dm(c,x,a)}function I(n,t=yt.Default){const e=Me();return null===e?se(n,t):Ib(Qn(),e,Te(n),t)}function qm(){throw new Error("invalid")}function de(n,t,e){const i=Me();return wi(i,ka(),t)&&or(Wt(),Fn(),i,n,t,i[11],e,!1),de}function Km(n,t,e,i,r){const o=r?"class":"style";mC(n,e,t.inputs[o],o,i)}function ie(n,t,e,i){const r=Me(),s=Wt(),o=20+n,a=r[11],c=r[o]=sm(a,t,xt.lFrame.currentNamespace),u=s.firstCreatePass?function(n,t,e,i,r,s,o){const a=t.consts,u=Ya(t,n,2,r,oo(a,s));return Sm(t,e,u,oo(a,o)),null!==u.attrs&&Bd(u,u.attrs,!1),null!==u.mergedAttrs&&Bd(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,r,0,t,e,i):s.data[o];ss(u,!0);const p=u.mergedAttrs;null!==p&&fd(a,c,p);const x=u.classes;null!==x&&dm(a,c,x);const A=u.styles;null!==A&&Ow(a,c,A),64!=(64&u.flags)&&Rd(s,r,c,u),0===xt.lFrame.elementDepthCount&&bi(c,r),xt.lFrame.elementDepthCount++,rd(u)&&(Em(s,r,u),Qw(s,u,r)),null!==i&&Dm(r,u)}function re(){let n=Qn();Dp()?Sp():(n=n.parent,ss(n,!1));const t=n;xt.lFrame.elementDepthCount--;const e=Wt();e.firstCreatePass&&(ud(e,n),gp(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&Km(e,t,Me(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&Km(e,t,Me(),t.stylesWithoutHost,!1)}function ze(n,t,e,i){ie(n,t,e,i),re()}function $n(n,t,e){const i=Me(),r=Wt(),s=n+20,o=r.firstCreatePass?function(n,t,e,i,r){const s=t.consts,o=oo(s,i),a=Ya(t,n,8,"ng-container",o);return null!==o&&Bd(a,o,!0),Sm(t,e,a,oo(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];ss(o,!0);const a=i[s]=i[11].createComment("");Rd(r,i,a,o),bi(a,i),rd(o)&&(Em(r,i,o),Qw(r,o,i)),null!=e&&Dm(i,o)}function ei(){let n=Qn();const t=Wt();Dp()?Sp():(n=n.parent,ss(n,!1)),t.firstCreatePass&&(ud(t,n),gp(n)&&t.queries.elementEnd(n))}function wn(){return Me()}function zd(n){return!!n&&"function"==typeof n.then}function ox(n){return!!n&&"function"==typeof n.subscribe}const Xm=ox;function Xe(n,t,e,i){const r=Me(),s=Wt(),o=Qn();return ax(s,r,r[11],o,n,t,!!e,i),Xe}function Oc(n,t){const e=Qn(),i=Me(),r=Wt();return ax(r,i,fC(Mp(r.data),e,i),e,n,t,!1),Oc}function ax(n,t,e,i,r,s,o,a){const c=rd(i),p=n.firstCreatePass&&hC(n),x=t[8],A=dC(t);let k=!0;if(3&i.type||a){const W=wr(i,t),ee=a?a(W):W,ae=A.length,ve=a?De=>a(zn(De[i.index])):i.index;if(On(e)){let De=null;if(!a&&c&&(De=function(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[7],c=r[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==De)(De.__ngLastListenerFn__||De).__ngNextListenerFn__=s,De.__ngLastListenerFn__=s,k=!1;else{s=Zm(i,t,x,s,!1);const Ve=e.listen(ee,r,s);A.push(s,Ve),p&&p.push(r,ve,ae,ae+1)}}else s=Zm(i,t,x,s,!0),ee.addEventListener(r,s,o),A.push(s),p&&p.push(r,ve,ae,o)}else s=Zm(i,t,x,s,!1);const G=i.outputs;let ne;if(k&&null!==G&&(ne=G[r])){const W=ne.length;if(W)for(let ee=0;ee<W;ee+=2){const rt=t[ne[ee]][ne[ee+1]].subscribe(s),At=A.length;A.push(s,rt),p&&p.push(r,i.index,At,-(At+1))}}}function lx(n,t,e,i){try{return!1!==e(i)}catch(r){return pC(n,r),!1}}function Zm(n,t,e,i,r){return function s(o){if(o===Function)return i;const a=2&n.flags?tr(n.index,t):t;0==(32&t[2])&&Am(a);let c=lx(t,0,i,o),u=s.__ngNextListenerFn__;for(;u;)c=lx(t,0,u,o)&&c,u=u.__ngNextListenerFn__;return r&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function Fe(n=1){return function(n){return(xt.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,xt.lFrame.contextLView))[8]}(n)}function Yk(n,t){let e=null;const i=function(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?Lw(n,s,!0):JF(i,s))return r}else e=r}return e}function Er(n){const t=Me()[16][6];if(!t.projection){const i=t.projection=co(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?Yk(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Dn(n,t=0,e){const i=Me(),r=Wt(),s=Ya(r,20+n,16,null,e||null);null===s.projection&&(s.projection=t),Sp(),64!=(64&s.flags)&&function(n,t,e){Rw(t[11],0,t,e,ww(n,e,t),Dw(e.parent||t[6],e,t))}(r,i,s)}function vx(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?zr(s):Os(s),c=!1;for(;0!==a&&(!1===c||o);){const p=n[a+1];$k(n[a],t)&&(c=!0,n[a+1]=i?pm(p):hm(p)),a=i?zr(p):Os(p)}c&&(n[e+1]=i?hm(s):pm(s))}function $k(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&za(n,t)>=0}function Dr(n,t,e){return Ur(n,t,e,!1),Dr}function Vt(n,t){return Ur(n,t,null,!0),Vt}function Ur(n,t,e,i){const r=Me(),s=Wt(),o=function(n){const t=xt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);s.firstUpdatePass&&function(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Oi()],o=function(n,t){return t>=n.expandoStartIndex}(n,e);(function(n,t){return 0!=(n.flags&(t?16:32))})(s,i)&&null===t&&!o&&(t=!1),t=function(n,t,e,i){const r=Mp(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Fc(e=Qm(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=Qm(r,n,t,e,i),null===s){let c=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Os(i))return n[zr(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=Qm(null,n,t,c[1],i),c=Fc(c,t.attrs,i),function(n,t,e,i){n[zr(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else s=function(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Fc(i,n[s].hostAttrs,e);return Fc(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=zr(o),c=Os(o);n[i]=e;let p,u=!1;if(Array.isArray(e)){const x=e;p=x[1],(null===p||za(x,p)>0)&&(u=!0)}else p=e;if(r)if(0!==c){const A=zr(n[a+1]);n[i+1]=Fd(A,a),0!==A&&(n[A+1]=fm(n[A+1],i)),n[a+1]=function(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Fd(a,0),0!==a&&(n[a+1]=fm(n[a+1],i)),a=i;else n[i+1]=Fd(c,0),0===a?a=i:n[c+1]=fm(n[c+1],i),c=i;u&&(n[i+1]=hm(n[i+1])),vx(n,p,i,!0),vx(n,p,i,!1),function(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&za(s,t)>=0&&(e[i+1]=pm(e[i+1]))}(t,p,n,i,s),o=Fd(a,c),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}(s,n,o,i),t!==Tt&&wi(r,o,t)&&function(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const c=n.data,u=c[a+1];jd(function(n){return 1==(1&n)}(u)?Ax(c,t,e,r,Os(u),o):void 0)||(jd(s)||function(n){return 2==(2&n)}(u)&&(s=Ax(c,null,e,r,a,o)),function(n,t,e,i,r){const s=On(n);if(t)r?s?n.addClass(e,i):e.classList.add(i):s?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:sr.DashCase;if(null==r)s?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=sr.Important),s?n.setStyle(e,i,r,o):e.style.setProperty(i,r,a?"important":"")}}}(i,o,sd(Oi(),e),r,s))}(s,s.data[Oi()],r,r[11],n,r[o+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=me(rr(n)))),n}(t,e),i,o)}function Qm(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=Fc(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Fc(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),nr(n,o,!!e||t[++s]))}return void 0===n?null:n}function Ax(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const c=n[r],u=Array.isArray(c),p=u?c[1]:c,x=null===p;let A=e[r+1];A===Tt&&(A=x?cn:void 0);let k=x?Vp(A,i):p===i?A:void 0;if(u&&!jd(k)&&(k=Vp(c,i)),jd(k)&&(a=k,o))return a;const G=n[r+1];r=o?zr(G):Os(G)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(a=Vp(c,i))}return a}function jd(n){return void 0!==n}function Ke(n,t=""){const e=Me(),i=Wt(),r=n+20,s=i.firstCreatePass?Ya(i,r,1,t,null):i.data[r],o=e[r]=function(n,t){return On(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Rd(i,e,o,s),ss(s,!1)}function Qt(n){return Pc("",n,""),Qt}function Pc(n,t,e){const i=Me(),r=function(n,t,e,i){return wi(n,ka(),e)?t+wt(e)+i:Tt}(i,n,t,e);return r!==Tt&&Fs(i,Oi(),r),Pc}function fl(n,t,e){const i=Me();return wi(i,ka(),t)&&or(Wt(),Fn(),i,n,t,i[11],e,!0),fl}function po(n,t,e){const i=Me();if(wi(i,ka(),t)){const s=Wt(),o=Fn();or(s,o,i,n,t,fC(Mp(s.data),o,i),e,!0)}return po}const Zo=void 0;var PL=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let pl={};function Zx(n){return n in pl||(pl[n]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[n]),pl[n]}var Ue=(()=>((Ue=Ue||{})[Ue.LocaleId=0]="LocaleId",Ue[Ue.DayPeriodsFormat=1]="DayPeriodsFormat",Ue[Ue.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ue[Ue.DaysFormat=3]="DaysFormat",Ue[Ue.DaysStandalone=4]="DaysStandalone",Ue[Ue.MonthsFormat=5]="MonthsFormat",Ue[Ue.MonthsStandalone=6]="MonthsStandalone",Ue[Ue.Eras=7]="Eras",Ue[Ue.FirstDayOfWeek=8]="FirstDayOfWeek",Ue[Ue.WeekendRange=9]="WeekendRange",Ue[Ue.DateFormat=10]="DateFormat",Ue[Ue.TimeFormat=11]="TimeFormat",Ue[Ue.DateTimeFormat=12]="DateTimeFormat",Ue[Ue.NumberSymbols=13]="NumberSymbols",Ue[Ue.NumberFormats=14]="NumberFormats",Ue[Ue.CurrencyCode=15]="CurrencyCode",Ue[Ue.CurrencySymbol=16]="CurrencySymbol",Ue[Ue.CurrencyName=17]="CurrencyName",Ue[Ue.Currencies=18]="Currencies",Ue[Ue.Directionality=19]="Directionality",Ue[Ue.PluralCase=20]="PluralCase",Ue[Ue.ExtraData=21]="ExtraData",Ue))();const Ud="en-US";let Yx=Ud;function eg(n,t,e,i,r){if(n=Te(n),Array.isArray(n))for(let s=0;s<n.length;s++)eg(n[s],t,e,i,r);else{const s=Wt(),o=Me();let a=el(n)?n:Te(n.provide),c=_C(n);const u=Qn(),p=1048575&u.providerIndexes,x=u.directiveStart,A=u.providerIndexes>>20;if(el(n)||!n.multi){const k=new sc(c,r,I),G=ng(a,t,r?p:p+A,x);-1===G?(yd(ac(u,o),s,a),tg(s,n,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(k),o.push(k)):(e[G]=k,o[G]=k)}else{const k=ng(a,t,p+A,x),G=ng(a,t,p,p+A),ne=k>=0&&e[k],W=G>=0&&e[G];if(r&&!W||!r&&!ne){yd(ac(u,o),s,a);const ee=function(n,t,e,i,r){const s=new sc(n,e,I);return s.multi=[],s.index=t,s.componentProviders=0,w0(s,r,i&&!e),s}(r?ON:RN,e.length,r,i,c);!r&&W&&(e[G].providerFactory=ee),tg(s,n,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(ee),o.push(ee)}else tg(s,n,k>-1?k:G,w0(e[r?G:k],c,!r&&i));!r&&i&&W&&e[G].componentProviders++}}}function tg(n,t,e,i){const r=el(t);if(r||function(n){return!!n.useClass}(t)){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const c=a.indexOf(e);-1===c?a.push(e,[i,o]):a[c+1].push(i,o)}else a.push(e,o)}}}function w0(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ng(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function RN(n,t,e,i){return ig(this.multi,[])}function ON(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=lc(e,e[1],this.providerFactory.index,i);s=a.slice(0,o),ig(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],ig(r,s);return s}function ig(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function qt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function(n,t,e){const i=Wt();if(i.firstCreatePass){const r=Hr(n);eg(e,i.data,i.blueprint,r,!0),eg(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class C0{}const E0="ngComponent";class kN{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${me(n)}. Did you add it to @NgModule.entryComponents?`);return t[E0]=n,t}(t)}}let qr=(()=>{class n{}return n.NULL=new kN,n})();function Zd(...n){}function gl(n,t){return new Be(wr(n,t))}const BN=function(){return gl(Qn(),Me())};let Be=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=BN,n})();function D0(n){return n instanceof Be?n.nativeElement:n}class Yo{}let Kr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>HN(),n})();const HN=function(){const n=Me(),e=tr(Qn().index,n);return function(n){return n[11]}(rs(e)?e:n)};let sg=(()=>{class n{}return n.\u0275prov=be({token:n,providedIn:"root",factory:()=>null}),n})();class ks{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const S0=new ks("13.0.2"),yl={};function Yd(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(zn(s)),Vr(s))for(let a=10;a<s.length;a++){const c=s[a],u=c[1].firstChild;null!==u&&Yd(c[1],c,u,i)}const o=e.type;if(8&o)Yd(n,t,e.child,i);else if(32&o){const a=tm(e,t);let c;for(;c=a();)i.push(c)}else if(16&o){const a=Aw(t,e);if(Array.isArray(a))i.push(...a);else{const c=Cc(t[16]);Yd(c[1],c,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Vc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Yd(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Vr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(om(t,i),Uo(e,i))}this._attachedToViewContainer=!1}bw(this._lView[1],this._lView)}onDestroy(t){tC(this._lView[1],this._lView,null,t)}markForCheck(){Am(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Rm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){ad(!0);try{Rm(n,t,e)}finally{ad(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){xc(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class jN extends Vc{constructor(t){super(t),this._view=t}detectChanges(){uC(this._view)}checkNoChanges(){!function(n){ad(!0);try{uC(n)}finally{ad(!1)}}(this._view)}get context(){return null}}class T0 extends qr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=vi(t);return new og(e,this.ngModule)}}function M0(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const WN=new ke("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>hw});class og extends C0{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map($F).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return M0(this.componentDef.inputs)}get outputs(){return M0(this.componentDef.outputs)}create(t,e,i,r){const s=(r=r||this.ngModule)?function(n,t){return{get:(e,i,r)=>{const s=n.get(e,yl,r);return s!==yl||i===yl?s:t.get(e,i,r)}}}(t,r.injector):t,o=s.get(Yo,lb),a=s.get(sg,null),c=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",p=i?function(n,t,e){if(On(n))return n.selectRootElement(t,e===zi.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(c,i,this.componentDef.encapsulation):sm(o.createRenderer(null,this.componentDef),u,function(n){const t=n.toLowerCase();return"svg"===t?ob:"math"===t?"http://www.w3.org/1998/MathML/":null}(u)),x=this.componentDef.onPush?576:528,A=function(n,t){return{components:[],scheduler:n||hw,clean:HP,playerHandler:t||null,flags:0}}(),k=Ld(0,null,null,1,0,null,null,null,null,null),G=Ec(null,k,A,x,null,null,o,c,a,s);let ne,W;ld(G);try{const ee=function(n,t,e,i,r,s){const o=e[1];e[20]=n;const c=Ya(o,20,2,"#host",null),u=c.mergedAttrs=t.hostAttrs;null!==u&&(Bd(c,u,!0),null!==n&&(fd(r,n,u),null!==c.classes&&dm(r,n,c.classes),null!==c.styles&&Ow(r,n,c.styles)));const p=i.createRenderer(n,t),x=Ec(e,Jw(t),null,t.onPush?64:16,e[20],c,i,p,s||null,null);return o.firstCreatePass&&(yd(ac(c,e),o,t.type),oC(o,c),aC(c,e.length,1)),Nd(e,x),e[20]=x}(p,this.componentDef,G,o,c);if(p)if(i)fd(c,p,["ng-version",S0.full]);else{const{attrs:ae,classes:ve}=function(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Gr(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);ae&&fd(c,p,ae),ve&&ve.length>0&&dm(c,p,ve.join(" "))}if(W=Cp(k,20),void 0!==e){const ae=W.projection=[];for(let ve=0;ve<this.ngContentSelectors.length;ve++){const De=e[ve];ae.push(null!=De?Array.from(De):null)}}ne=function(n,t,e,i,r){const s=e[1],o=function(n,t,e){const i=Qn();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),lC(n,i,t,Qa(n,t,1,null),e));const r=lc(t,n,i.directiveStart,i);bi(r,t);const s=wr(i,t);return s&&bi(s,t),r}(s,e,t);if(i.components.push(o),n[8]=o,r&&r.forEach(c=>c(o,t)),t.contentQueries){const c=Qn();t.contentQueries(1,o,c.directiveStart)}const a=Qn();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ao(a.index),rC(e[1],a,0,a.directiveStart,a.directiveEnd,t),sC(t,o)),o}(ee,this.componentDef,G,A,[hk]),Dc(k,G,null)}finally{cd()}return new XN(this.componentType,ne,gl(W,G),G,W)}}class XN extends class{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new jN(r),this.componentType=t}get injector(){return new Ba(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Qo{}const vl=new Map;class I0 extends Qo{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new T0(this);const i=vr(t);this._bootstrapComponents=ds(i.bootstrap),this._r3Injector=vC(t,e,[{provide:Qo,useValue:this},{provide:qr,useValue:this.componentFactoryResolver}],me(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=jt.THROW_IF_NOT_FOUND,i=yt.Default){return t===jt||t===Qo||t===Sc?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class lg extends class{}{constructor(t){super(),this.moduleType=t,null!==vr(t)&&function(n){const t=new Set;!function e(i){const r=vr(i,!0),s=r.id;null!==s&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${me(t)} vs ${me(t.name)}`)}(s,vl.get(s),i),vl.set(s,i));const o=ds(r.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new I0(this.moduleType,t)}}function Qd(n,t,e,i){return O0(Me(),Ri(),n,t,e,i)}function R0(n,t,e,i,r){return function(n,t,e,i,r,s,o){const a=t+e;return function(n,t,e,i){const r=wi(n,t,e);return wi(n,t+1,i)||r}(n,a,r,s)?fs(n,a+2,o?i.call(o,r,s):i(r,s)):Hc(n,a+2)}(Me(),Ri(),n,t,e,i,r)}function Hc(n,t){const e=n[t];return e===Tt?void 0:e}function O0(n,t,e,i,r,s){const o=t+e;return wi(n,o,r)?fs(n,o+1,s?i.call(s,r):i(r)):Hc(n,o+1)}function cg(n){return t=>{setTimeout(n,void 0,t)}}const Ct=class extends R{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var c,u,p;let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const x=t;r=null==(c=x.next)?void 0:c.bind(x),s=null==(u=x.error)?void 0:u.bind(x),o=null==(p=x.complete)?void 0:p.bind(x)}this.__isAsync&&(s=cg(s),r&&(r=cg(r)),o&&(o=cg(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof h&&t.add(a),a}};function hB(){return this._results[tl()]()}class mo{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=tl(),i=mo.prototype;i[e]||(i[e]=hB)}get changes(){return this._changes||(this._changes=new Ct)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Cr(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const pB=function(){return Jd(Qn(),Me())};let ar=(()=>{class n{}return n.__NG_ELEMENT_ID__=pB,n})();const mB=ar,gB=class extends mB{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Ec(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(e)),Dc(e,i,t),new Vc(i)}};function Jd(n,t){return 4&n.type?new gB(t,n,gl(n,t)):null}const _B=function(){return G0(Qn(),Me())};let oi=(()=>{class n{}return n.__NG_ELEMENT_ID__=_B,n})();const wB=oi,V0=class extends wB{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return gl(this._hostTNode,this._hostLView)}get injector(){return new Ba(this._hostTNode,this._hostLView)}get parentInjector(){const t=gd(this._hostTNode,this._hostLView);if(Db(t)){const e=Na(t,this._hostLView),i=La(t);return new Ba(e[1].data[i+8],e)}return new Ba(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=H0(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,s){const o=t&&!function(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const x=e||{};a=x.index,i=x.injector,r=x.projectableNodes,s=x.ngModuleRef}const c=o?t:new og(vi(t)),u=i||this.parentInjector;if(!s&&null==c.ngModule&&u){const x=u.get(Qo,null);x&&(s=x)}const p=c.create(u,r,void 0,s);return this.insert(p.hostView,a),p}insert(t,e){const i=t._lView,r=i[1];if(function(n){return Vr(n[3])}(i)){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const x=i[3],A=new V0(x,x[6],x[3]);A.detach(A.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],_d(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,o,s);const a=cm(s,o),c=i[11],u=Id(c,o[7]);return null!==u&&function(n,t,e,i,r,s){i[0]=r,i[6]=t,xc(n,i,e,1,r,s)}(r,o[6],c,i,u,a),t.attachToViewContainerRef(),_d(ug(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=H0(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=om(this._lContainer,e);i&&(Uo(ug(this._lContainer),e),bw(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=om(this._lContainer,e);return i&&null!=Uo(ug(this._lContainer),e)?new Vc(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function H0(n){return n[8]}function ug(n){return n[8]||(n[8]=[])}function G0(n,t){let e;const i=t[n.index];if(Vr(i))e=i;else{let r;if(8&n.type)r=zn(i);else{const s=t[11];r=s.createComment("");const o=wr(n,t);Ko(s,Id(s,o),r,function(n,t){return On(n)?n.nextSibling(t):t.nextSibling}(s,o),!1)}t[n.index]=e=cC(i,t,r,n),Nd(t,e)}return new V0(e,n,t)}class dg{constructor(t){this.queryList=t,this.matches=null}clone(){return new dg(this.queryList)}setDirty(){this.queryList.setDirty()}}class hg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new hg(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==q0(t,e).matches&&this.queries[e].setDirty()}}class z0{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class fg{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new fg(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class pg{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new pg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,EB(e,s)),this.matchTNodeWithReadOption(t,e,vd(e,t,s,!1,!1))}else i===ar?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,vd(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Be||r===oi||r===ar&&4&e.type)this.addMatch(e.index,-2);else{const s=vd(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function EB(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function SB(n,t,e,i){return-1===e?function(n,t){return 11&n.type?gl(n,t):4&n.type?Jd(n,t):null}(t,n):-2===e?function(n,t,e){return e===Be?gl(t,n):e===ar?Jd(t,n):e===oi?G0(t,n):void 0}(n,t,i):lc(n,n[1],e,t)}function j0(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let c=0;c<o.length;c+=2){const u=o[c];a.push(u<0?null:SB(t,s[u],o[c+1],e.metadata.read))}r.matches=a}return r.matches}function mg(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=j0(n,t,r,e);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)i.push(o[a/2]);else{const u=s[a+1],p=t[-c];for(let x=10;x<p.length;x++){const A=p[x];A[17]===A[3]&&mg(A[1],A,u,i)}if(null!==p[9]){const x=p[9];for(let A=0;A<x.length;A++){const k=x[A];mg(k[1],k,u,i)}}}}}return i}function ht(n){const t=Me(),e=Wt(),i=mb();Ap(i+1);const r=q0(e,i);if(n.dirty&&cb(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?mg(e,t,i,[]):j0(e,t,r,i);n.reset(s,D0),n.notifyOnChanges()}return!0}return!1}function Kt(n,t,e){const i=Wt();i.firstCreatePass&&(W0(i,new z0(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),U0(i,Me(),t)}function Nn(n,t,e,i){const r=Wt();if(r.firstCreatePass){const s=Qn();W0(r,new z0(t,e,i),s.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}U0(r,Me(),e)}function ft(){return function(n,t){return n[19].queries[t].queryList}(Me(),mb())}function U0(n,t,e){const i=new mo(4==(4&e));tC(n,t,i,i.destroy),null===t[19]&&(t[19]=new hg),t[19].queries.push(new dg(i))}function W0(n,t,e){null===n.queries&&(n.queries=new fg),n.queries.track(new pg(t,e))}function q0(n,t){return n.queries.getByIndex(t)}function zc(n,t){return Jd(n,t)}const th=new ke("Application Initializer");let bl=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Zd,this.reject=Zd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(zd(s))e.push(s);else if(Xm(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(se(th,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const Uc=new ke("AppId"),n2={provide:Uc,useFactory:function(){return`${wg()}${wg()}${wg()}`},deps:[]};function wg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uE=new ke("Platform Initializer"),lr=new ke("Platform ID"),dE=new ke("appBootstrapListener");let Cg=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const Ls=new ke("LocaleId"),hE=new ke("DefaultCurrencyCode");class s2{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const xg=function(n){return new lg(n)},o2=xg,a2=function(n){return Promise.resolve(xg(n))},pE=function(n){const t=xg(n),i=ds(vr(n).declarations).reduce((r,s)=>{const o=vi(s);return o&&r.push(new og(o)),r},[]);return new s2(t,i)},l2=pE,c2=function(n){return Promise.resolve(pE(n))};let mE=(()=>{class n{constructor(){this.compileModuleSync=o2,this.compileModuleAsync=a2,this.compileModuleAndAllComponentsSync=l2,this.compileModuleAndAllComponentsAsync=c2}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const h2=(()=>Promise.resolve(0))();function Eg(n){"undefined"==typeof Zone?h2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class mt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ct(!1),this.onMicrotaskEmpty=new Ct(!1),this.onStable=new Ct(!1),this.onError=new Ct(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let n=sn.requestAnimationFrame,t=sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sg(n),n.isCheckStableRunning=!0,Dg(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sg(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{try{return gE(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),yE(n)}},onInvoke:(e,i,r,s,o,a,c)=>{try{return gE(n),e.invoke(r,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),yE(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Sg(n),Dg(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,p2,Zd,Zd);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const p2={};function Dg(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sg(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yE(n){n._nesting--,Dg(n)}class y2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ct,this.onMicrotaskEmpty=new Ct,this.onStable=new Ct,this.onError=new Ct}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let Tg=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mt.assertNotInAngularZone(),Eg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eg(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(se(mt))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),vE=(()=>{class n{constructor(){this._applications=new Map,Mg.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Mg.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class v2{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Mg=new v2,_E=!0,bE=!1;function Ag(){return bE=!0,_E}let Xr;const wE=new ke("AllowMultipleToken");function CE(n,t,e=[]){const i=`Platform: ${t}`,r=new ke(i);return(s=[])=>{let o=xE();if(!o||o.injector.get(wE,!1))if(n)n(e.concat(s).concat({provide:r,useValue:!0}));else{const a=e.concat(s).concat({provide:r,useValue:!0},{provide:Tc,useValue:"platform"});!function(n){if(Xr&&!Xr.destroyed&&!Xr.injector.get(wE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Xr=n.get(EE);const t=n.get(uE,null);t&&t.forEach(e=>e())}(jt.create({providers:a,name:i}))}return function(n){const t=xE();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function xE(){return Xr&&!Xr.destroyed?Xr:null}let EE=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function(n,t){let e;return e="noop"===n?new y2:("zone.js"===n?void 0:n)||new mt({enableLongStackTrace:Ag(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),c=[{provide:mt,useValue:a}];return a.run(()=>{const u=jt.create({providers:c,parent:this.injector,name:e.moduleType.name}),p=e.create(u),x=p.injector.get(us,null);if(!x)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const A=a.onError.subscribe({next:k=>{x.handleError(k)}});p.onDestroy(()=>{Ig(this._modules,p),A.unsubscribe()})}),function(n,t,e){try{const i=e();return zd(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(x,a,()=>{const A=p.injector.get(bl);return A.runInitializers(),A.donePromise.then(()=>(function(n){$i(n,"Expected localeId to be defined"),"string"==typeof n&&(Yx=n.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Ls,Ud)||Ud),this._moduleDoBootstrap(p),p))})})}bootstrapModule(e,i=[]){const r=DE({},i);return function(n,t,e){const i=new lg(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Jo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${me(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(se(jt))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();function DE(n,t){return Array.isArray(t)?t.reduce(DE,n):ut(ut({},n),t)}let Jo=(()=>{class n{constructor(e,i,r,s,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new B(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),c=new B(u=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{mt.assertNotInAngularZone(),Eg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{mt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{p.unsubscribe(),x.unsubscribe()}});this.isStable=ce(a,c.pipe(O()))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=e instanceof C0?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const s=function(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Qo),a=r.create(jt.NULL,[],i||r.selector,s),c=a.location.nativeElement,u=a.injector.get(Tg,null),p=u&&a.injector.get(vE);return u&&p&&p.registerApplication(c,u),a.onDestroy(()=>{this.detachView(a.hostView),Ig(this.components,a),p&&p.unregisterApplication(c)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Ig(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(dE,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(se(mt),se(jt),se(us),se(qr),se(bl))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();function Ig(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const P2=function(n){return function(n,t,e){if(id(n)&&!e){const i=tr(n.index,t);return new Vc(i,i)}return 47&n.type?new Vc(t[16],t):null}(Qn(),Me(),16==(16&n))};let Jt=(()=>{class n{}return n.__NG_ELEMENT_ID__=P2,n})();class OE{constructor(){}supports(t){return Ic(t)}create(t){return new K2(t)}}const q2=(n,t)=>t;class K2{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||q2}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<PE(i,r,s)?e:i,a=PE(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const u=a-r,p=c-r;if(u!=p){for(let A=0;A<u;A++){const k=A<s.length?s[A]:s[A]=0,G=k+A;p<=G&&G<u&&(s[A]=k+1)}s[o.previousIndex]=p-u}}a!==c&&t(o,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ic(t))throw new Error(`Error trying to diff '${me(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[tl()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new X2(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new FE),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class X2{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Z2{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class FE{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Z2,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PE(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class kE{constructor(){}supports(t){return t instanceof Map||Gm(t)}create(){return new Y2}}class Y2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Gm(t)))throw new Error(`Error trying to diff '${me(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new Q2(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Q2{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LE(){return new wl([new OE])}let wl=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||LE()),deps:[[n,new uo,new ir]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=be({token:n,providedIn:"root",factory:LE}),n})();function NE(){return new go([new kE])}let go=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||NE()),deps:[[n,new uo,new ir]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=be({token:n,providedIn:"root",factory:NE}),n})();const $2=[new kE],tV=new wl([new OE]),nV=new go($2),iV=CE(null,"core",[{provide:lr,useValue:"unknown"},{provide:EE,deps:[jt]},{provide:vE,deps:[]},{provide:Cg,deps:[]}]),lV=[{provide:Jo,useClass:Jo,deps:[mt,jt,us,qr,bl]},{provide:WN,deps:[mt],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:bl,useClass:bl,deps:[[new ir,th]]},{provide:mE,useClass:mE,deps:[]},n2,{provide:wl,useFactory:function(){return tV},deps:[]},{provide:go,useFactory:function(){return nV},deps:[]},{provide:Ls,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||Ud},deps:[[new gc(Ls),new ir,new uo]]},{provide:hE,useValue:"USD"}];let uV=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(se(Jo))},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:lV}),n})(),mh=null;function gs(){return mh}const pt=new ke("DocumentToken");let nu=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:function(){return se(wD)},providedIn:"platform"}),n})(),wD=(()=>{class n extends nu{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gs().getBaseHref(this._doc)}onPopState(e){const i=gs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=gs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){CD()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){CD()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(se(pt))},n.\u0275prov=be({token:n,factory:function(){return new wD(se(pt))},providedIn:"platform"}),n})();function CD(){return!!window.history.pushState}function xD(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ED(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ia(n){return n&&"?"!==n[0]?"?"+n:n}let ry=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:function(){return function(n){const t=se(pt).location;return new aG(se(nu),t&&t.origin||"")}()},providedIn:"root"}),n})();const oG=new ke("appBaseHref");let aG=(()=>{class n extends ry{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xD(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ia(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+ia(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+ia(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null==(r=(i=this._platformLocation).historyGo)||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(se(nu),se(oG,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),sy=(()=>{class n{constructor(e,i){this._subject=new Ct,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ED(DD(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ia(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,DD(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ia(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ia(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null==(r=(i=this._platformStrategy).historyGo)||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=ia,n.joinWithSlash=xD,n.stripTrailingSlash=ED,n.\u0275fac=function(e){return new(e||n)(se(ry),se(nu))},n.\u0275prov=be({token:n,factory:function(){return new sy(se(ry),se(nu))},providedIn:"root"}),n})();function DD(n){return n.replace(/\/index.html$/,"")}var Un=(()=>((Un=Un||{})[Un.Zero=0]="Zero",Un[Un.One=1]="One",Un[Un.Two=2]="Two",Un[Un.Few=3]="Few",Un[Un.Many=4]="Many",Un[Un.Other=5]="Other",Un))();const gG=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Zx(t);if(e)return e;const i=t.split("-")[0];if(e=Zx(i),e)return e;if("en"===i)return PL;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[Ue.PluralCase]};class Dh{}let WG=(()=>{class n extends Dh{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(gG(i||this.locale)(e)){case Un.Zero:return"zero";case Un.One:return"one";case Un.Two:return"two";case Un.Few:return"few";case Un.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(se(Ls))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();function PD(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let ra=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Ic(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${me(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(I(wl),I(go),I(Be),I(Kr))},n.\u0275dir=Ce({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class KG{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let su=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((r,s,o)=>{if(null==r.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new KG(null,this._ngForOf,-1,-1),null===o?void 0:o),c=new kD(r,a);i.push(c)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const c=new kD(r,a);i.push(c)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,s=this._viewContainer.length;r<s;r++){const o=this._viewContainer.get(r);o.context.index=r,o.context.count=s,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(I(oi),I(ar),I(wl))},n.\u0275dir=Ce({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class kD{constructor(t,e){this.record=t,this.view=e}}let ci=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new ZG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){LD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){LD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(I(oi),I(ar))},n.\u0275dir=Ce({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ZG{constructor(){this.$implicit=null,this.ngIf=null}}function LD(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${me(t)}'.`)}class py{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Vs=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ce({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),sa=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new py(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(I(oi),I(ar),I(Vs,9))},n.\u0275dir=Ce({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Sh=(()=>{class n{constructor(e,i,r){r._addDefault(new py(e,i))}}return n.\u0275fac=function(e){return new(e||n)(I(oi),I(ar),I(Vs,9))},n.\u0275dir=Ce({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Hs=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(go),I(Kr))},n.\u0275dir=Ce({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class JG{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class $G{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const ez=new $G,tz=new JG;let BD=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(zd(e))return ez;if(ox(e))return tz;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${me(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(I(Jt,16))},n.\u0275pipe=ji({name:"async",type:n,pure:!1}),n})(),Ir=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[{provide:Dh,useClass:WG}]}),n})();const HD="browser";function oa(n){return n===HD}function Tl(n){return"server"===n}class zD{}class yy extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){mh||(mh=n)}(new yy)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ou=ou||document.querySelector("base"),ou?ou.getAttribute("href"):null);return null==e?null:function(n){Th=Th||document.createElement("a"),Th.setAttribute("href",n);const t=Th.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ou=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return PD(document.cookie,t)}}let Th,ou=null;const jD=new ke("TRANSITION_ID"),Sz=[{provide:th,useFactory:function(n,t,e){return()=>{e.get(bl).donePromise.then(()=>{const i=gs(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[jD,pt,jt],multi:!0}];class vy{static init(){!function(n){Mg=n}(new vy)}addToWindow(t){sn.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},sn.getAllAngularTestabilities=()=>t.getAllTestabilities(),sn.getAllAngularRootElements=()=>t.getAllRootElements(),sn.frameworkStabilizers||(sn.frameworkStabilizers=[]),sn.frameworkStabilizers.push(i=>{const r=sn.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(c){o=o||c,s--,0==s&&i(o)};r.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?gs().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Tz=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const au=new ke("EventManagerPlugins");let Ah=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(se(au),se(mt))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class _y{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=gs().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let WD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),lu=(()=>{class n extends WD{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(qD),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(qD))}}return n.\u0275fac=function(e){return new(e||n)(se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();function qD(n){gs().remove(n)}const by={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wy=/%COMP%/g;function Ih(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ih(n,r,e):(r=r.replace(wy,n),e.push(r))}return e}function ZD(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Rh=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Cy(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case zi.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new zz(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case zi.ShadowDom:return new jz(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ih(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(se(Ah),se(lu),se(Uc))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class Cy{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(by[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=by[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=by[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(sr.DashCase|sr.Important)?t.style.setProperty(e,i,r&sr.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&sr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ZD(i)):this.eventManager.addEventListener(t,e,ZD(i))}}class zz extends Cy{constructor(t,e,i,r){super(t),this.component=i;const s=Ih(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(wy,n)}(r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(wy,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class jz extends Cy{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ih(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Uz=(()=>{class n extends _y{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const JD=["alt","control","meta","shift"],Qz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$D={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jz={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $z=(()=>{class n extends _y{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gs().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(JD.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&$D.hasOwnProperty(t)&&(t=$D[t]))}return Qz[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),JD.forEach(s=>{s!=r&&Jz[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),aa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:function(e){let i=null;return i=e?new(e||n):se(Ey),i},providedIn:"root"}),n})(),Ey=(()=>{class n extends aa{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Xt.NONE:return i;case Xt.HTML:return ls(i,"HTML")?rr(i):ew(this._doc,String(i)).toString();case Xt.STYLE:return ls(i,"Style")?rr(i):i;case Xt.SCRIPT:if(ls(i,"Script"))return rr(i);throw new Error("unsafe value used in a script context");case Xt.URL:return qb(i),ls(i,"URL")?rr(i):vc(String(i));case Xt.RESOURCE_URL:if(ls(i,"ResourceURL"))return rr(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function(n){return new VO(n)}(e)}bypassSecurityTrustStyle(e){return function(n){return new HO(n)}(e)}bypassSecurityTrustScript(e){return function(n){return new GO(n)}(e)}bypassSecurityTrustUrl(e){return function(n){return new zO(n)}(e)}bypassSecurityTrustResourceUrl(e){return function(n){return new jO(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(se(pt))},n.\u0275prov=be({token:n,factory:function(e){let i=null;return i=e?new e:function(n){return new Ey(n.get(pt))}(se(jt)),i},providedIn:"root"}),n})();const o3=[{provide:lr,useValue:HD},{provide:uE,useValue:function(){yy.makeCurrent(),vy.init()},multi:!0},{provide:pt,useFactory:function(){return function(n){bp=n}(document),document},deps:[]}],l3=CE(iV,"browser",o3),c3=[[],{provide:Tc,useValue:"root"},{provide:us,useFactory:function(){return new us},deps:[]},{provide:au,useClass:Uz,multi:!0,deps:[pt,mt,lr]},{provide:au,useClass:$z,multi:!0,deps:[pt]},[],{provide:Rh,useClass:Rh,deps:[Ah,lu,Uc]},{provide:Yo,useExisting:Rh},{provide:WD,useExisting:lu},{provide:lu,useClass:lu,deps:[pt]},{provide:Tg,useClass:Tg,deps:[mt]},{provide:Ah,useClass:Ah,deps:[au,mt]},{provide:zD,useClass:Tz,deps:[]},[]];let eS=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Uc,useValue:e.appId},{provide:jD,useExisting:Uc},Sz]}}}return n.\u0275fac=function(e){return new(e||n)(se(n,12))},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:c3,imports:[Ir,uV]}),n})();function Zt(n){return null!=n&&"false"!=`${n}`}function qi(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Oh(n){return Array.isArray(n)?n:[n]}function qn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Gs(n){return n instanceof Be?n.nativeElement:n}function Ki(...n){let t=n[n.length-1];return X(t)?(n.pop(),he(n,t)):J(n)}function zs(n,t,e,i){return Se(e)&&(i=e,e=void 0),i?zs(n,t,e).pipe(Yt(r=>q(r)?i(...r):i(r))):new B(r=>{nS(n,t,function(o){r.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},r,e)})}function nS(n,t,e,i,r){let s;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(t,e,r),s=()=>o.removeEventListener(t,e,r)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(t,e),s=()=>o.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(t,e),s=()=>o.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)nS(n[o],t,e,i,r)}i.add(s)}"undefined"!=typeof window&&window;class w3 extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Fh extends w3{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let iS=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,r){return new this.SchedulerAction(this,e).schedule(r,i)}}return n.now=()=>Date.now(),n})();class ts extends iS{constructor(t,e=iS.now){super(t,()=>ts.delegate&&ts.delegate!==this?ts.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return ts.delegate&&ts.delegate!==this?ts.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class extends ts{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,s=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this.active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Fh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let D3=1;const S3=Promise.resolve(),Ph={};function rS(n){return n in Ph&&(delete Ph[n],!0)}const sS={setImmediate(n){const t=D3++;return Ph[t]=!0,S3.then(()=>rS(t)&&n()),t},clearImmediate(n){rS(n)}},oS=new class extends ts{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,s=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this.active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Fh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=sS.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(sS.clearImmediate(e),t.scheduled=void 0)}}),cu=new ts(Fh);class I3{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new R3(t,this.durationSelector))}}class R3 extends ri{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:r}=this;e=r(t)}catch(r){return this.destination.error(r)}const i=_n(this,e);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,i,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Sy(n){return!q(n)&&n-parseFloat(n)+1>=0}function aS(n=0,t,e){let i=-1;return Sy(t)?i=Number(t)<1?1:Number(t):X(t)&&(e=t),X(e)||(e=cu),new B(r=>{const s=Sy(n)?n:+n-e.now();return e.schedule(O3,s,{index:0,period:i,subscriber:r})})}function O3(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function lS(n,t=cu){return function(n){return function(e){return e.lift(new I3(n))}}(()=>aS(n,t))}function Vn(n,t){return function(i){return i.lift(new F3(n,t))}}class F3{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new P3(t,this.predicate,this.thisArg))}}class P3 extends _{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Ot(n){return t=>t.lift(new k3(n))}class k3{constructor(t){this.notifier=t}call(t,e){const i=new L3(t),r=_n(i,this.notifier);return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class L3 extends ri{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,i,r,s){this.seenValue=!0,this.complete()}notifyComplete(){}}let Ty;try{Ty="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Ty=!1}let Ml,Cn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?oa(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ty)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(se(lr))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({}),n})();const cS=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function uS(){if(Ml)return Ml;if("object"!=typeof document||!document)return Ml=new Set(cS),Ml;let n=document.createElement("input");return Ml=new Set(cS.filter(t=>(n.setAttribute("type",t),n.type===t))),Ml}let du,kh,ca,My;function la(n){return function(){if(null==du&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>du=!0}))}finally{du=du||!1}return du}()?n:!!n.capture}function dS(){if(null==ca){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ca=!1,ca;if("scrollBehavior"in document.documentElement.style)ca=!0;else{const n=Element.prototype.scrollTo;ca=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ca}function hu(){if("object"!=typeof document||!document)return 0;if(null==kh){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),kh=0,0===n.scrollLeft&&(n.scrollLeft=1,kh=0===n.scrollLeft?1:2),n.remove()}return kh}function hS(n){if(function(){if(null==My){const n="undefined"!=typeof document?document.head:null;My=!(!n||!n.createShadowRoot&&!n.attachShadow)}return My}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ay(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function ua(n){return n.composedPath?n.composedPath()[0]:n.target}function Iy(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const V3=new ke("cdk-dir-doc",{providedIn:"root",factory:function(){return Wa(pt)}});let Ni=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Ct,e){const r=e.documentElement?e.documentElement.dir:null,s=(e.body?e.body.dir:null)||r;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(se(V3,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Al=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({}),n})(),Lh=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new R,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new B(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(lS(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ki()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Vn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Gs(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(se(mt),se(Cn),se(pt,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fS=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new R,this._elementScrolled=new B(o=>this.ngZone.runOutsideAngular(()=>zs(this.elementRef.nativeElement,"scroll").pipe(Ot(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=hu()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==hu()?e.left=e.right:1==hu()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;dS()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==e?e=o?r:i:"end"==e&&(e=o?i:r),o&&2==hu()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==hu()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Lh),I(mt),I(Ni,8))},n.\u0275dir=Ce({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Il=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new R,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(lS(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(se(Cn),se(mt),se(pt,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({}),n})(),pS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Al,uu,fu],Al,fu]}),n})();class Ry{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Rl extends Ry{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Nh extends Ry{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class j3 extends Ry{constructor(t){super(),this.element=t instanceof Be?t.nativeElement:t}}class Bh{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Rl?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Nh?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof j3?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class U3 extends Bh{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let da=(()=>{class n extends Bh{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ct,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(I(qr),I(oi),I(pt))},n.\u0275dir=Ce({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ae]}),n})(),Vh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({}),n})();const W3=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})(),mS=new B(n=>n.complete());function Oy(n){return n?function(n){return new B(t=>n.schedule(()=>t.complete()))}(n):mS}function hn(n){return t=>0===n?Oy():t.lift(new K3(n))}class K3{constructor(t){if(this.total=t,this.total<0)throw new W3}call(t,e){return e.subscribe(new X3(t,this.total))}}class X3 extends _{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}const gS=dS();class Z3{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=qn(-this._previousScrollPosition.left),t.style.top=qn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),gS&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),gS&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Y3{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class yS{enable(){}disable(){}attach(){}}function Fy(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function vS(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Q3{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Fy(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let J3=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new yS,this.close=o=>new Y3(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Z3(this._viewportRuler,this._document),this.reposition=o=>new Q3(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(se(Lh),se(Il),se(mt),se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Py{constructor(t){if(this.scrollStrategy=new yS,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class $3{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let _S=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e8=(()=>{class n extends _S{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t8=(()=>{class n extends _S{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=ua(r)},this._clickListener=r=>{const s=ua(r),o="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let c=a.length-1;c>-1;c--){const u=a[c];if(!(u._outsidePointerEvents.observers.length<1)&&u.hasAttached()){if(u.overlayElement.contains(s)||u.overlayElement.contains(o))break;u._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(se(pt),se(Cn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pu=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null==(e=this._containerElement)||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Iy()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Iy()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(se(pt),se(Cn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class n8{constructor(t,e,i,r,s,o,a,c,u){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new R,this._attachments=new R,this._detachments=new R,this._locationChanges=h.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._keydownEvents=new R,this._outsidePointerEvents=new R,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(hn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(e=this._host)||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=ut(ut({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Ta(ut({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=qn(this._config.width),t.height=qn(this._config.height),t.minWidth=qn(this._config.minWidth),t.minHeight=qn(this._config.minHeight),t.maxWidth=qn(this._config.maxWidth),t.maxHeight=qn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=Oh(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ot(ce(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}const bS="cdk-overlay-connected-position-bounding-box",i8=/([A-Za-z%]+)$/;class r8{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new R,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(bS),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(t,o),c=this._getOverlayPoint(a,e,o),u=this._getOverlayFit(c,e,i,o);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(u,c,i)?r.push({position:o,origin:a,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:a,position:o,overlayRect:e})}if(r.length){let o=null,a=-1;for(const c of r){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>a&&(a=u,o=c)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ha(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bS),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,r;if("center"==e.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,o=this._isRtl()?t.left:t.right;i="start"==e.originX?s:o}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:r}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=CS(e);let{x:o,y:a}=t,c=this._getOffset(r,"x"),u=this._getOffset(r,"y");c&&(o+=c),u&&(a+=u);let A=0-a,k=a+s.height-i.height,G=this._subtractOverflows(s.width,0-o,o+s.width-i.width),ne=this._subtractOverflows(s.height,A,k),W=G*ne;return{visibleArea:W,isCompletelyWithinViewport:s.width*s.height===W,fitsInViewportVertically:ne===s.height,fitsInViewportHorizontally:G==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,o=wS(this._overlayRef.getConfig().minHeight),a=wS(this._overlayRef.getConfig().minWidth),u=t.fitsInViewportHorizontally||null!=a&&a<=s;return(t.fitsInViewportVertically||null!=o&&o<=r)&&u}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=CS(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),c=Math.max(s.top-i.top-t.y,0),u=Math.max(s.left-i.left-t.x,0);let p=0,x=0;return p=r.width<=s.width?u||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,x=r.height<=s.height?c||-a:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:p,y:x},{x:t.x+p,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new $3(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,o,a,p,x,A;if("top"===e.overlayY)o=t.y,s=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const k=Math.min(i.bottom-t.y+i.top,t.y),G=this._lastBoundingBoxSize.height;s=2*k,o=t.y-k,s>G&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-G/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)A=i.width-t.x+this._viewportMargin,p=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)x=t.x,p=i.right-t.x;else{const k=Math.min(i.right-t.x+i.left,t.x),G=this._lastBoundingBoxSize.width;p=2*k,x=t.x-k,p>G&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-G/2)}return{top:o,left:x,bottom:a,right:A,width:p,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=qn(i.height),r.top=qn(i.top),r.bottom=qn(i.bottom),r.width=qn(i.width),r.left=qn(i.left),r.right=qn(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=qn(s)),o&&(r.maxWidth=qn(o))}this._lastBoundingBoxSize=i,ha(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ha(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ha(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const p=this._viewportRuler.getViewportScrollPosition();ha(i,this._getExactOverlayY(e,t,p)),ha(i,this._getExactOverlayX(e,t,p))}else i.position="static";let a="",c=this._getOffset(e,"x"),u=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=qn(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=qn(o.maxWidth):s&&(i.maxWidth="")),ha(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=qn(s.y),r}_getExactOverlayX(t,e,i){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=qn(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:vS(t,i),isOriginOutsideView:Fy(t,i),isOverlayClipped:vS(e,i),isOverlayOutsideView:Fy(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Oh(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Be)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function ha(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function wS(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(i8);return e&&"px"!==e?null:parseFloat(t)}return n||null}function CS(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const xS="cdk-global-overlay-wrapper";class s8{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(xS),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=c?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,c?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(xS),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let o8=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new s8}flexibleConnectedTo(e){return new r8(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(se(Il),se(pt),se(Cn),se(pu))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a8=0,fa=(()=>{class n{constructor(e,i,r,s,o,a,c,u,p,x,A){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=c,this._document=u,this._directionality=p,this._location=x,this._outsideClickDispatcher=A}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new Py(e);return o.direction=o.direction||this._directionality.value,new n8(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+a8++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Jo)),new U3(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(se(J3),se(pu),se(qr),se(o8),se(e8),se(jt),se(mt),se(pt),se(Ni),se(sy),se(t8))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const u8={provide:new ke("cdk-connected-overlay-scroll-strategy"),deps:[fa],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let ky=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[fa,u8],imports:[[Al,Vh,pS],pS]}),n})(),d8=(()=>{class n extends pu{constructor(e,i){super(e,i)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(e){const i=this._getEventName();i&&(this._fullScreenListener&&this._document.removeEventListener(i,this._fullScreenListener),this._document.addEventListener(i,e),this._fullScreenListener=e)}_getEventName(){if(!this._fullScreenEventName){const e=this._document;e.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":e.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":e.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":e.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const e=this._document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||null}}return n.\u0275fac=function(e){return new(e||n)(se(pt),se(Cn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ES{}class DS{}class ys{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ys?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ys;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ys?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class f8{encodeKey(t){return SS(t)}encodeValue(t){return SS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const m8=/%(\d[a-f0-9])/gi,g8={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function SS(n){return encodeURIComponent(n).replace(m8,(t,e)=>{var i;return null!=(i=g8[e])?i:t})}function TS(n){return`${n}`}class bo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new f8,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],c=e.get(o)||[];c.push(a),e.set(o,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new bo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(TS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(TS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class y8{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function MS(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function AS(n){return"undefined"!=typeof Blob&&n instanceof Blob}function IS(n){return"undefined"!=typeof FormData&&n instanceof FormData}class mu{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ys),this.context||(this.context=new y8),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new bo,this.urlWithParams=e}serializeBody(){return null===this.body?null:MS(this.body)||AS(this.body)||IS(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||IS(this.body)?null:AS(this.body)?this.body.type||null:MS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var x;const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const p=null!=(x=t.context)?x:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((A,k)=>A.set(k,t.setHeaders[k]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((A,k)=>A.set(k,t.setParams[k]),u)),new mu(e,i,s,{params:u,headers:c,context:p,reportProgress:a,responseType:r,withCredentials:o})}}var Kn=(()=>((Kn=Kn||{})[Kn.Sent=0]="Sent",Kn[Kn.UploadProgress=1]="UploadProgress",Kn[Kn.ResponseHeader=2]="ResponseHeader",Kn[Kn.DownloadProgress=3]="DownloadProgress",Kn[Kn.Response=4]="Response",Kn[Kn.User=5]="User",Kn))();class Ly{constructor(t,e=200,i="OK"){this.headers=t.headers||new ys,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ny extends Ly{constructor(t={}){super(t),this.type=Kn.ResponseHeader}clone(t={}){return new Ny({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hh extends Ly{constructor(t={}){super(t),this.type=Kn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Hh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class RS extends Ly{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function By(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ol=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof mu)s=e;else{let c,u;c=r.headers instanceof ys?r.headers:new ys(r.headers),r.params&&(u=r.params instanceof bo?r.params:new bo({fromObject:r.params})),s=new mu(e,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Ki(s).pipe(function(n,t){return g(n,void 0,1)}(c=>this.handler.handle(c)));if(e instanceof mu||"events"===r.observe)return o;const a=o.pipe(Vn(c=>c instanceof Hh));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Yt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Yt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Yt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Yt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new bo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,By(r,i))}post(e,i,r={}){return this.request("POST",e,By(r,i))}put(e,i,r={}){return this.request("PUT",e,By(r,i))}}return n.\u0275fac=function(e){return new(e||n)(se(ES))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class OS{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const FS=new ke("HTTP_INTERCEPTORS");let b8=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const w8=/^\)\]\}',?\n/;let PS=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new B(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((k,G)=>r.setRequestHeader(k,G.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const k=e.detectContentTypeHeader();null!==k&&r.setRequestHeader("Content-Type",k)}if(e.responseType){const k=e.responseType.toLowerCase();r.responseType="json"!==k?k:"text"}const s=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const k=1223===r.status?204:r.status,G=r.statusText||"OK",ne=new ys(r.getAllResponseHeaders()),W=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return o=new Ny({headers:ne,status:k,statusText:G,url:W}),o},c=()=>{let{headers:k,status:G,statusText:ne,url:W}=a(),ee=null;204!==G&&(ee=void 0===r.response?r.responseText:r.response),0===G&&(G=ee?200:0);let ae=G>=200&&G<300;if("json"===e.responseType&&"string"==typeof ee){const ve=ee;ee=ee.replace(w8,"");try{ee=""!==ee?JSON.parse(ee):null}catch(De){ee=ve,ae&&(ae=!1,ee={error:De,text:ee})}}ae?(i.next(new Hh({body:ee,headers:k,status:G,statusText:ne,url:W||void 0})),i.complete()):i.error(new RS({error:ee,headers:k,status:G,statusText:ne,url:W||void 0}))},u=k=>{const{url:G}=a(),ne=new RS({error:k,status:r.status||0,statusText:r.statusText||"Unknown Error",url:G||void 0});i.error(ne)};let p=!1;const x=k=>{p||(i.next(a()),p=!0);let G={type:Kn.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(G.total=k.total),"text"===e.responseType&&!!r.responseText&&(G.partialText=r.responseText),i.next(G)},A=k=>{let G={type:Kn.UploadProgress,loaded:k.loaded};k.lengthComputable&&(G.total=k.total),i.next(G)};return r.addEventListener("load",c),r.addEventListener("error",u),r.addEventListener("timeout",u),r.addEventListener("abort",u),e.reportProgress&&(r.addEventListener("progress",x),null!==s&&r.upload&&r.upload.addEventListener("progress",A)),r.send(s),i.next({type:Kn.Sent}),()=>{r.removeEventListener("error",u),r.removeEventListener("abort",u),r.removeEventListener("load",c),r.removeEventListener("timeout",u),e.reportProgress&&(r.removeEventListener("progress",x),null!==s&&r.upload&&r.upload.removeEventListener("progress",A)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(se(zD))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const Vy=new ke("XSRF_COOKIE_NAME"),Hy=new ke("XSRF_HEADER_NAME");class kS{}let x8=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=PD(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(se(pt),se(lr),se(Vy))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),Gy=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(se(kS),se(Hy))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),E8=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(FS,[]);this.chain=i.reduceRight((r,s)=>new OS(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(se(DS),se(jt))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),D8=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Gy,useClass:b8}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Vy,useValue:e.cookieName}:[],e.headerName?{provide:Hy,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[Gy,{provide:FS,useExisting:Gy,multi:!0},{provide:kS,useClass:x8},{provide:Vy,useValue:"XSRF-TOKEN"},{provide:Hy,useValue:"X-XSRF-TOKEN"}]}),n})(),S8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[Ol,{provide:ES,useClass:E8},PS,{provide:DS,useExisting:PS}],imports:[[D8.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const A8=new class extends ts{}(class extends Fh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});function zy(n,t){return new B(t?e=>t.schedule(I8,0,{error:n,subscriber:e}):e=>e.error(n))}function I8({error:n,subscriber:t}){t.error(n)}class Rr{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return Ki(this.value);case"E":return zy(this.error);case"C":return Oy()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new Rr("N",t):Rr.undefinedValueNotification}static createError(t){return new Rr("E",void 0,t)}static createComplete(){return Rr.completeNotification}}Rr.completeNotification=new Rr("C"),Rr.undefinedValueNotification=new Rr("N",void 0);class Gh extends _{constructor(t,e,i=0){super(t),this.scheduler=e,this.delay=i}static dispatch(t){const{notification:e,destination:i}=t;e.observe(i),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Gh.dispatch,this.delay,new O8(t,this.destination)))}_next(t){this.scheduleMessage(Rr.createNext(t))}_error(t){this.scheduleMessage(Rr.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Rr.createComplete()),this.unsubscribe()}}class O8{constructor(t,e){this.notification=t,this.destination=e}}class gu extends R{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new F8(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=i.length;let o;if(this.closed)throw new D;if(this.isStopped||this.hasError?o=h.EMPTY:(this.observers.push(t),o=new P(this,t)),r&&t.add(t=new Gh(t,r)),e)for(let a=0;a<s&&!t.closed;a++)t.next(i[a]);else for(let a=0;a<s&&!t.closed;a++)t.next(i[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||A8).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,s=r.length;let o=0;for(;o<s&&!(t-r[o].time<i);)o++;return s>e&&(o=Math.max(o,s-e)),o>0&&r.splice(0,o),r}}class F8{constructor(t,e){this.time=t,this.value=e}}function jy(n,t){return"function"==typeof t?e=>e.pipe(jy((i,r)=>In(n(i,r)).pipe(Yt((s,o)=>t(i,s,r,o))))):e=>e.lift(new P8(n))}class P8{constructor(t){this.project=t}call(t,e){return e.subscribe(new k8(t,this.project))}}class k8 extends ri{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,i)}_innerSub(t,e,i){const r=this.innerSubscription;r&&r.unsubscribe();const s=new le(this,e,i),o=this.destination;o.add(s),this.innerSubscription=_n(this,t,void 0,void 0,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,i,r,s){this.destination.next(e)}}const zh={schedule(n,t){const e=setTimeout(n,t);return()=>clearTimeout(e)},scheduleBeforeRender(n){if("undefined"==typeof window)return zh.schedule(n,0);if(void 0===window.requestAnimationFrame)return zh.schedule(n,16);const t=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(t)}};let Uy;function W8(n,t,e){let i=e;return function(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&t.some((r,s)=>!("*"===r||!function(n,t){if(!Uy){const e=Element.prototype;Uy=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&Uy.call(n,t)}(n,r)||(i=s,0))),i}class K8{constructor(t,e){this.componentFactory=e.get(qr).resolveComponentFactory(t)}create(t){return new X8(this.componentFactory,t)}}class X8{constructor(t,e){this.componentFactory=t,this.injector=e,this.eventEmitters=new gu(1),this.events=this.eventEmitters.pipe(jy(i=>ce(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(mt),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=zh.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,e){this.runInZone(()=>{null!==this.componentRef?function(n,t){return n===t||n!=n&&t!=t}(e,this.getInputValue(t))&&(void 0!==e||!this.unchangedInputs.has(t))||(this.recordInputChange(t,e),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)})}initializeComponent(t){const e=jt.create({providers:[],parent:this.injector}),i=function(n,t){const e=n.childNodes,i=t.map(()=>[]);let r=-1;t.some((s,o)=>"*"===s&&(r=o,!0));for(let s=0,o=e.length;s<o;++s){const a=e[s],c=W8(a,t,r);-1!==c&&i[c].push(a)}return i}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,i,t),this.viewChangeDetectorRef=this.componentRef.injector.get(Jt),this.implementsOnChanges=function(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Jo).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t))}),this.initialInputValues.clear()}initializeOutputs(t){const e=this.componentFactory.outputs.map(({propName:i,templateName:r})=>t.instance[i].pipe(Yt(o=>({name:r,value:o}))));this.eventEmitters.next(e)}callNgOnChanges(t){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(e)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=zh.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[t];if(i)return void(i.currentValue=e);const r=this.unchangedInputs.has(t),s=r?void 0:this.getInputValue(t);this.inputChanges[t]=new vp(s,e,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}}class Z8 extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}class ui extends R{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new D;return this._value}next(t){super.next(this._value=t)}}function LS(n){for(let t in n){let e=n[t]||"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const Wy="inline",jh=["row","column","row-reverse","column-reverse"];function NS(n){let[t,e,i]=BS(n);return function(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function BS(n){n=n?n.toLowerCase():"";let[t,e,i]=n.split(" ");return jh.find(r=>r===t)||(t=jh[0]),e===Wy&&(e=i!==Wy?i:"",i=Wy),[t,Q8(e),!!i]}function yu(n){let[t]=BS(n);return t.indexOf("row")>-1}function Q8(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function js(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function wo(){}function Fl(n,t,e){return function(r){return r.lift(new $8(n,t,e))}}class $8{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new ej(t,this.nextOrObserver,this.error,this.complete))}}class ej extends _{constructor(t,e,i,r){super(t),this._tapNext=wo,this._tapError=wo,this._tapComplete=wo,this._tapError=i||wo,this._tapComplete=r||wo,Se(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||wo,this._tapError=e.error||wo,this._tapComplete=e.complete||wo)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Pl(n,t=cu){return e=>e.lift(new tj(n,t))}class tj{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new nj(t,this.dueTime,this.scheduler))}}class nj extends _{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ij,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function ij(n){n.debouncedNext()}const sj={provide:dE,useFactory:function(n,t){return()=>{if(oa(t)){const e=Array.from(n.querySelectorAll(`[class*=${VS}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${VS}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[pt,lr],multi:!0},VS="flex-layout-";let qy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[sj]}),n})();class Co{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new Co(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let oj=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const o=r.get(i);("number"==typeof o||"string"==typeof o)&&(s=o+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ky={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},xo=new ke("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Ky}),kl=new ke("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Xy=new ke("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Zy(n,t){return n=n?n.clone():new Co,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class kn{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let gn=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:LS(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:LS(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||Tl(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)||""}lookupInlineStyle(e,i){return oa(this._platformId)?e.style.getPropertyValue(i):this._getServerStyle(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(oa(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],o=Array.isArray(s)?s:[s];o.sort();for(let a of o)a=a?a+"":"",oa(this._platformId)||!this._serverModuleLoaded?oa(this._platformId)?i.style.setProperty(r,a):this._setServerStyle(i,r,a):this._serverStylesheet.addStyleToElement(i,r,a)})}_setServerStyle(e,i,r){i=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const s=this._readStyleAttribute(e);s[i]=r||"",this._writeStyleAttribute(e,s)}_getServerStyle(e,i){return this._readStyleAttribute(e)[i]||""}_readStyleAttribute(e){const i={},r=e.getAttribute("style");if(r){const s=r.split(/;+/g);for(let o=0;o<s.length;o++){const a=s[o].trim();if(a.length>0){const c=a.indexOf(":");if(-1===c)throw new Error(`Invalid CSS style: ${a}`);i[a.substr(0,c).trim()]=a.substr(c+1).trim()}}}return i}_writeStyleAttribute(e,i){let r="";for(const s in i)i[s]&&(r+=s+":"+i[s]+";");e.setAttribute("style",r)}}return n.\u0275fac=function(e){return new(e||n)(se(oj),se(kl),se(lr),se(xo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ll(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function aj(n,t){return(n.priority||0)-(t.priority||0)}let Uh=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new ui(new Co(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){const i=this.registry.get(e);return i?i.matches:this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(Vn(o=>!i||e.indexOf(o.mediaQuery)>-1));return ce(new B(o=>{const a=this.registerQuery(e);if(a.length){const c=a.pop();a.forEach(u=>{o.next(u)}),this.source.next(c)}o.complete()}),r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function(n,t){const e=n.filter(i=>!HS[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>HS[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const o=c=>{this._zone.run(()=>this.source.next(new Co(c.matches,s)))};let a=this.registry.get(s);a||(a=this.buildMQL(s),a.addListener(o),this.pendingRemoveListenerFns.push(()=>a.removeListener(o)),this.registry.set(s,a)),a.matches&&r.push(new Co(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,oa(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(se(mt),se(lr),se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HS={},uj=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],GS="(orientation: portrait) and (max-width: 599.98px)",zS="(orientation: landscape) and (max-width: 959.98px)",jS="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",US="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",WS="(orientation: portrait) and (min-width: 840px)",qS="(orientation: landscape) and (min-width: 1280px)",Us={HANDSET:`${GS}, ${zS}`,TABLET:`${jS} , ${US}`,WEB:`${WS}, ${qS} `,HANDSET_PORTRAIT:`${GS}`,TABLET_PORTRAIT:`${jS} `,WEB_PORTRAIT:`${WS}`,HANDSET_LANDSCAPE:`${zS}`,TABLET_LANDSCAPE:`${US}`,WEB_LANDSCAPE:`${qS}`},dj=[{alias:"handset",priority:2e3,mediaQuery:Us.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Us.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Us.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Us.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Us.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Us.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Us.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Us.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Us.WEB_PORTRAIT,overlapping:!0}],hj=/(\.|-|_)/g;function fj(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const yj=new ke("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=Wa(Xy),t=Wa(xo),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?js(e[i.alias],i):e[i.alias]=i}),function(n){return n.forEach(t=>{t.suffix||(t.suffix=function(n){return n.replace(hj,"|").split("|").map(fj).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:uj).concat(t.addOrientationBps?dj:[]),e)}});let Wh=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(aj)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias==e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery==e)}get overlappings(){return this.items.filter(e=>1==e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e.suffix?e.suffix:"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)||null,this.findByMap.set(e,r)),r||null}}return n.\u0275fac=function(e){return new(e||n)(se(yj))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nl="print",vj={alias:Nl,mediaQuery:Nl,priority:1e3};let KS=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new _j,this.deactivations=[]}withPrintQuery(e){return[...e,Nl]}isPrintEvent(e){return e.mediaQuery.startsWith(Nl)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Ll)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?i.mediaQuery:""),Zy(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Co(!0,Nl))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return this.registerBeforeAfterPrintHooks(e),i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(e){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(e.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const i=this.breakpoints.findByQuery(e.mediaQuery);i&&(this.deactivations.push(i),this.deactivations.sort(Ll))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(se(Wh),se(xo),se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _j{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(vj),t.sort(Ll),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(n){return!!n&&n.mediaQuery.startsWith(Nl)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let xn=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new R,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);i&&((e=Zy(e,i)).matches&&-1===this.activatedBreakpoints.indexOf(i)?(this.activatedBreakpoints.push(i),this.activatedBreakpoints.sort(Ll),this.updateStyles()):!e.matches&&-1!==this.activatedBreakpoints.indexOf(i)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(i),1),this.activatedBreakpoints.sort(Ll),this.updateStyles()))}init(e,i,r,s,o=[]){XS(this.updateMap,e,i,r),XS(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,o)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const o=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(o)return o.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let o=this.elementMap.get(e);if(o){const c=(o.get(s)||new Map).set(i,r);o.set(s,c),this.elementMap.set(e,o)}else o=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,o);const a=this.getValue(e,i);void 0!==a&&this.updateElement(e,i,a)}trackValue(e,i){return this.subject.asObservable().pipe(Vn(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((o,a)=>{this.updateElement(i,a,o),r.delete(a)}),r.forEach(o=>{if(s=this.getActivatedValues(e,o),s){const a=s.get(o);this.updateElement(i,o,a)}else this.clearElement(i,o)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const o=s.get(i);o&&(o(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,o)=>r.delete(o)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((o,a)=>this.updateElement(e,a,o)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const a=ce(...r).subscribe(()=>{const c=this.getValue(e,i);this.updateElement(e,i,c)});s.set(i,a)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const a=e.get(this.activatedBreakpoints[s].alias);if(a&&(void 0===i||a.has(i)&&null!=a.get(i)))return a}const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const i=this.breakpoints.items.map(r=>r.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe(Fl(this.hook.interceptEvents(this)),Vn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(se(Uh),se(Wh),se(KS))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XS(n,t,e,i){if(void 0!==i){let r=n.get(t);r||(r=new Map,n.set(t,r)),r.set(e,i)}}let Mn=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new R,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let o=this.styleCache.get(e);(!o||!s)&&(o=r.buildStyles(e,i),s&&this.styleCache.set(e,o)),this.mru=ut({},o),this.applyStyleToElement(o),r.sideEffect(e,o,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const o=NS(r);this.styler.applyStyleToElements(o,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(kn),I(gn),I(xn))},n.\u0275dir=Ce({type:n,features:[Gn]}),n})(),Eo=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.matchMedia=i,this.hook=r,this.filterOverlaps=!1,this.destroyed$=new R,this._media$=this.watchActivations(),this.media$=this._media$.pipe(Vn(s=>s.length>0),Yt(s=>s[0]))}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}asObservable(){return this._media$}isActive(e){return function(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}(function(n){return Array.isArray(n)?n:[n]}(e)).some(r=>{const s=function(n,t){const e=t.findByAlias(n)||t.findByQuery(n);return e?e.mediaQuery:null}(r,this.breakpoints);return null!==s&&this.matchMedia.isActive(s)})}watchActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);return this.buildObservable(e)}buildObservable(e){return this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(Vn(s=>s.matches),Pl(0,oS),jy(s=>Ki(this.findAllActivations())),Yt(s=>this.filterOverlaps?s.filter(o=>{const a=this.breakpoints.findByQuery(o.mediaQuery);return!a||!a.overlapping}):s),Vn(s=>s.filter(a=>a.mediaQuery.length>0).length>0),Ot(this.destroyed$))}findAllActivations(){return this.matchMedia.activations.map(r=>new Co(!0,r)).map(r=>this.hook.isPrintEvent(r)?this.hook.updateEvent(r):r).map(r=>Zy(r,this.breakpoints.findByQuery(r.mediaQuery))).sort(Ll)}}return n.\u0275fac=function(e){return new(e||n)(se(Wh),se(Uh),se(KS))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZS(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=YS(n.substring(r).trim());let s=n.substr(0,r).trim().split(" ");2==s.length&&(i[0]=s[0],i[1]=s[1])}else if(0==r)i[2]=YS(n.trim());else{let s=n.split(" ");i=3===s.length?s:[t,e,n]}return i}function YS(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let Rj=(()=>{class n extends Mn{constructor(e,i,r,s,o,a,c){super(e,null,i,r),this.ngClassInstance=c,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new ra(s,o,e,a)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(gn),I(xn),I(wl),I(go),I(Kr),I(ra,10))},n.\u0275dir=Ce({type:n,inputs:{klass:["class","klass"]},features:[Ae]}),n})();const Oj=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let qh=(()=>{class n extends Rj{constructor(){super(...arguments),this.inputs=Oj}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275dir=Ce({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[Ae]}),n})(),Fj=(()=>{class n extends kn{buildStyles(e,i){return{display:"true"===e?i.display||(i.isServer?"initial":""):"none"}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pj=(()=>{class n extends Mn{constructor(e,i,r,s,o,a,c){super(e,i,r,s),this.layoutConfig=o,this.platformId=a,this.serverModuleLoaded=c,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const e=Array.from(this.nativeElement.children);for(let r=0;r<e.length;r++)if(this.marshal.hasValue(e[r],"flex")){this.hasFlexChild=!0;break}Yy.has(this.nativeElement)?this.display=Yy.get(this.nativeElement):(this.display=this.getDisplayStyle(),Yy.set(this.nativeElement,this.display)),this.init();const i=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===i||""===i?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split("."),s=r.slice(1).join("."),o=e[i].currentValue;let a=""===o||0!==o&&Zt(o);"fxHide"===r[0]&&(a=!a),this.setValue(a,s)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(e=>{this.marshal.trackValue(this.nativeElement,e).pipe(Ot(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(e=!0){if(""===e)return;const i=Tl(this.platformId);this.addStyles(e?"true":"false",{display:this.display,isServer:i}),i&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Fj),I(gn),I(xn),I(xo),I(lr),I(kl))},n.\u0275dir=Ce({type:n,features:[Ae,Gn]}),n})();const Yy=new WeakMap,kj=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let QS=(()=>{class n extends Pj{constructor(){super(...arguments),this.inputs=kj}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275dir=Ce({type:n,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[Ae]}),n})();class Lj{constructor(t,e,i=!0){this.key=t,this.value=e,this.key=i?t.replace(/['"]/g,"").trim():t.trim(),this.value=i?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function JS(n){let t=typeof n;return"object"===t?n.constructor===Array?"array":n.constructor===Set?"set":"object":t}function eT(n){const[t,...e]=n.split(":");return new Lj(t,e.join(":"))}function tT(n,t){return t.key&&(n[t.key]=t.value),n}let Vj=(()=>{class n extends Mn{constructor(e,i,r,s,o,a,c,u,p){super(e,null,i,r),this.sanitizer=s,this.ngStyleInstance=c,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new Hs(e,o,a)),this.init();const x=this.nativeElement.getAttribute("style")||"";this.fallbackStyles=this.buildStyleMap(x),this.isServer=u&&Tl(p)}updateWithValue(e){const i=this.buildStyleMap(e);this.ngStyleInstance.ngStyle=ut(ut({},this.fallbackStyles),i),this.isServer&&this.applyStyleToElement(i),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const i=r=>this.sanitizer.sanitize(Xt.STYLE,r)||"";if(e)switch(JS(e)){case"string":return nT(function(n,t=";"){return String(n).trim().split(t).map(e=>e.trim()).filter(e=>""!==e)}(e),i);case"array":return nT(e,i);default:return function(n,t){let e=[];return"set"===JS(n)?n.forEach(i=>e.push(i)):Object.keys(n).forEach(i=>{e.push(`${i}:${n[i]}`)}),function(n,t){return n.map(eT).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(tT,{})}(e,t)}(e,i)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(gn),I(xn),I(aa),I(go),I(Kr),I(Hs,10),I(kl),I(lr))},n.\u0275dir=Ce({type:n,features:[Ae]}),n})();const Hj=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let vu=(()=>{class n extends Vj{constructor(){super(...arguments),this.inputs=Hj}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275dir=Ce({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[Ae]}),n})();function nT(n,t){return n.map(eT).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(tT,{})}let iT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[qy]]}),n})(),Gj=(()=>{class n extends kn{buildStyles(e){return NS(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zj=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let jj=(()=>{class n extends Mn{constructor(e,i,r,s){super(e,r,i,s),this.DIRECTIVE_KEY="layout",this.styleCache=Uj,this.init()}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(gn),I(Gj),I(xn))},n.\u0275dir=Ce({type:n,features:[Ae]}),n})(),cr=(()=>{class n extends jj{constructor(){super(...arguments),this.inputs=zj}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275dir=Ce({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Ae]}),n})();const Uj=new Map,rT={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Wj=(()=>{class n extends kn{constructor(e){super(),this._styler=e}buildStyles(e,i){return e.endsWith(Kh)?function(n,t){const[e,i]=n.split(" "),s=u=>`-${u}`;let o="0px",a=s(i||e),c="0px";return"rtl"===t?c=s(e):o=s(e),{margin:`0px ${o} ${a} ${c}`}}(e=e.slice(0,e.indexOf(Kh)),i.directionality):{}}sideEffect(e,i,r){const s=r.items;if(e.endsWith(Kh)){const o=function(n,t){const[e,i]=n.split(" ");let s="0px",a="0px";return"rtl"===t?a=e:s=e,{padding:`0px ${s} ${i||e} ${a}`}}(e=e.slice(0,e.indexOf(Kh)),r.directionality);this._styler.applyStyleToElements(o,r.items)}else{const o=s.pop(),a=function(n,t){const e=oT(t.directionality,t.layout),i=ut({},rT);return i[e]=n,i}(e,r);this._styler.applyStyleToElements(a,s),this._styler.applyStyleToElements(rT,[o])}}}return n.\u0275fac=function(e){return new(e||n)(se(gn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qj=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Kj=(()=>{class n extends Mn{constructor(e,i,r,s,o,a){super(e,o,s,a),this.zone=i,this.directionality=r,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new R;const c=[this.directionality.change,this.observerSubject.asObservable()];this.init(c),this.marshal.trackValue(this.nativeElement,"layout").pipe(Ot(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let r=e.length;r--;)i[r]=e[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],jh.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,s)=>{const o=+this.styler.lookupStyle(r,"order"),a=+this.styler.lookupStyle(s,"order");return isNaN(o)||isNaN(a)||o===a?0:o>a?1:-1});if(i.length>0){const r=this.directionality.value,s=this.layout;"row"===s&&"rtl"===r?this.styleCache=Xj:"row"===s&&"rtl"!==r?this.styleCache=Yj:"column"===s&&"rtl"===r?this.styleCache=Zj:"column"===s&&"rtl"!==r&&(this.styleCache=Qj),this.addStyles(e,{directionality:r,items:i,layout:s})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":oT(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(e=>{e.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(mt),I(Ni),I(gn),I(Wj),I(xn))},n.\u0275dir=Ce({type:n,features:[Ae]}),n})(),sT=(()=>{class n extends Kj{constructor(){super(...arguments),this.inputs=qj}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275dir=Ce({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[Ae]}),n})();const Xj=new Map,Zj=new Map,Yj=new Map,Qj=new Map,Kh=" grid";function oT(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let tU=(()=>{class n extends kn{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,s,...o]=e.split(" "),a=o.join(" ");const c=i.direction.indexOf("column")>-1?"column":"row",u=yu(c)?"max-width":"max-height",p=yu(c)?"min-width":"min-height",x=String(a).indexOf("calc")>-1,A=x||"auto"===a,k=String(a).indexOf("%")>-1&&!x,G=String(a).indexOf("px")>-1||String(a).indexOf("rem")>-1||String(a).indexOf("em")>-1||String(a).indexOf("vw")>-1||String(a).indexOf("vh")>-1;let ne=x||G;r="0"==r?0:r,s="0"==s?0:s;const W=!r&&!s;let ee={};const ae={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(a||""){case"":const ve=!1!==this.layoutConfig.useColumnBasisZero;a="row"===c?"0%":ve?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,a="auto";break;case"grow":a="100%";break;case"noshrink":s=0,a="auto";break;case"auto":break;case"none":r=0,s=0,a="auto";break;default:!ne&&!k&&!isNaN(a)&&(a+="%"),"0%"===a&&(ne=!0),"0px"===a&&(a="0%"),ee=js(ae,x?{"flex-grow":r,"flex-shrink":s,"flex-basis":ne?a:"100%"}:{flex:`${r} ${s} ${ne?a:"100%"}`})}return ee.flex||ee["flex-grow"]||(ee=js(ae,x?{"flex-grow":r,"flex-shrink":s,"flex-basis":a}:{flex:`${r} ${s} ${a}`})),"0%"!==a&&"0px"!==a&&"0.000000001px"!==a&&"auto"!==a&&(ee[p]=W||ne&&r?a:null,ee[u]=W||!A&&s?a:null),ee[p]||ee[u]?i.hasWrap&&(ee[x?"flex-basis":"flex"]=ee[u]?x?ee[u]:`${r} ${s} ${ee[u]}`:x?ee[p]:`${r} ${s} ${ee[p]}`):ee=js(ae,x?{"flex-grow":r,"flex-shrink":s,"flex-basis":a}:{flex:`${r} ${s} ${a}`}),js(ee,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(se(xo))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nU=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let iU=(()=>{class n extends Mn{constructor(e,i,r,s,o){super(e,s,i,o),this.layoutConfig=r,this.marshal=o,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Ot(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Ot(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,s=r.startsWith("row"),o=this.wrap;s&&o?this.styleCache=oU:s&&!o?this.styleCache=rU:!s&&o?this.styleCache=aU:!s&&!o&&(this.styleCache=sU);const c=ZS(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(c.join(" "),{direction:r,hasWrap:o})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=ZS(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(gn),I(xo),I(tU),I(xn))},n.\u0275dir=Ce({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[Ae]}),n})(),Ws=(()=>{class n extends iU{constructor(){super(...arguments),this.inputs=nU}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275dir=Ce({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Ae]}),n})();const rU=new Map,sU=new Map,oU=new Map,aU=new Map;let fU=(()=>{class n extends kn{buildStyles(e,i){""===e&&(e="0");const r=String(e).indexOf("%")>-1;!(String(e).indexOf("px")>-1)&&!r&&!isNaN(+e)&&(e+="%");const o=i.isRtl?"margin-right":"margin-left";return yu(i.layout)?{[o]:`${e}`}:{"margin-top":`${e}`}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pU=["fxFlexOffset","fxFlexOffset.xs","fxFlexOffset.sm","fxFlexOffset.md","fxFlexOffset.lg","fxFlexOffset.xl","fxFlexOffset.lt-sm","fxFlexOffset.lt-md","fxFlexOffset.lt-lg","fxFlexOffset.lt-xl","fxFlexOffset.gt-xs","fxFlexOffset.gt-sm","fxFlexOffset.gt-md","fxFlexOffset.gt-lg"];let mU=(()=>{class n extends Mn{constructor(e,i,r,s,o){super(e,r,o,s),this.directionality=i,this.DIRECTIVE_KEY="flex-offset",this.init([this.directionality.change]),this.parentElement&&this.marshal.trackValue(this.parentElement,"layout-gap").pipe(Ot(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))}updateWithValue(e=""){const i=this.getFlexFlowDirection(this.parentElement,!0),r="rtl"===this.directionality.value;"row"===i&&r?this.styleCache=gU:"row"!==i||r?"column"===i&&r?this.styleCache=yU:"column"===i&&!r&&(this.styleCache=_U):this.styleCache=vU,this.addStyles(e+"",{layout:i,isRtl:r})}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Ni),I(fU),I(xn),I(gn))},n.\u0275dir=Ce({type:n,features:[Ae]}),n})(),aT=(()=>{class n extends mU{constructor(){super(...arguments),this.inputs=pU}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275dir=Ce({type:n,selectors:[["","fxFlexOffset",""],["","fxFlexOffset.xs",""],["","fxFlexOffset.sm",""],["","fxFlexOffset.md",""],["","fxFlexOffset.lg",""],["","fxFlexOffset.xl",""],["","fxFlexOffset.lt-sm",""],["","fxFlexOffset.lt-md",""],["","fxFlexOffset.lt-lg",""],["","fxFlexOffset.lt-xl",""],["","fxFlexOffset.gt-xs",""],["","fxFlexOffset.gt-sm",""],["","fxFlexOffset.gt-md",""],["","fxFlexOffset.gt-lg",""]],inputs:{fxFlexOffset:"fxFlexOffset","fxFlexOffset.xs":"fxFlexOffset.xs","fxFlexOffset.sm":"fxFlexOffset.sm","fxFlexOffset.md":"fxFlexOffset.md","fxFlexOffset.lg":"fxFlexOffset.lg","fxFlexOffset.xl":"fxFlexOffset.xl","fxFlexOffset.lt-sm":"fxFlexOffset.lt-sm","fxFlexOffset.lt-md":"fxFlexOffset.lt-md","fxFlexOffset.lt-lg":"fxFlexOffset.lt-lg","fxFlexOffset.lt-xl":"fxFlexOffset.lt-xl","fxFlexOffset.gt-xs":"fxFlexOffset.gt-xs","fxFlexOffset.gt-sm":"fxFlexOffset.gt-sm","fxFlexOffset.gt-md":"fxFlexOffset.gt-md","fxFlexOffset.gt-lg":"fxFlexOffset.gt-lg"},features:[Ae]}),n})();const gU=new Map,yU=new Map,vU=new Map,_U=new Map;let AU=(()=>{class n extends kn{buildStyles(e,i){const r={},[s,o]=e.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(o){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return js(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===o?yu(i.layout)?null:"100%":null,"max-height":"stretch"===o&&yu(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IU=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let RU=(()=>{class n extends Mn{constructor(e,i,r,s){super(e,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Ot(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=LU:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=BU:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=NU:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=VU:"column-reverse"===i&&!r&&(this.styleCache=kU):this.styleCache=FU:this.styleCache=PU:this.styleCache=OU,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),jh.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(gn),I(AU),I(xn))},n.\u0275dir=Ce({type:n,features:[Ae]}),n})(),ur=(()=>{class n extends RU{constructor(){super(...arguments),this.inputs=IU}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275dir=Ce({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[Ae]}),n})();const OU=new Map,FU=new Map,PU=new Map,kU=new Map,LU=new Map,NU=new Map,BU=new Map,VU=new Map;let lT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[qy,Al]]}),n})(),gT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[qy]]}),n})(),Qy=(()=>{class n{constructor(e,i){Tl(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:xo,useValue:ut(ut({},Ky),e)},{provide:Xy,useValue:i,multi:!0},{provide:kl,useValue:!0}]:[{provide:xo,useValue:ut(ut({},Ky),e)},{provide:Xy,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(se(kl),se(lr))},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[lT,iT,gT],lT,iT,gT]}),n})();class yT{}const qs="*";function Ks(n,t){return{type:7,name:n,definitions:t,options:{}}}function di(n,t=null){return{type:4,styles:t,timings:n}}function c6(n,t=null){return{type:3,steps:n,options:t}}function vT(n,t=null){return{type:2,steps:n,options:t}}function tn(n){return{type:6,styles:n,offset:null}}function hi(n,t,e){return{type:0,name:n,styles:t,options:e}}function u6(n){return{type:5,steps:n}}function fi(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function _T(n){Promise.resolve(null).then(n)}class Bl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_T(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class bT{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?_T(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function wT(){return"undefined"!=typeof window&&void 0!==window.document}function $y(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Do(n){switch(n.length){case 0:return new Bl;case 1:return n[0];default:return new bT(n)}}function CT(n,t,e,i,r={},s={}){const o=[],a=[];let c=-1,u=null;if(i.forEach(p=>{const x=p.offset,A=x==c,k=A&&u||{};Object.keys(p).forEach(G=>{let ne=G,W=p[G];if("offset"!==G)switch(ne=t.normalizePropertyName(ne,o),W){case"!":W=r[G];break;case qs:W=s[G];break;default:W=t.normalizeStyleValue(G,ne,W,o)}k[ne]=W}),A||a.push(k),u=k,c=x}),o.length){const p="\n - ";throw new Error(`Unable to animate due to the following errors:${p}${o.join(p)}`)}return a}function ev(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&tv(e,"start",n)));break;case"done":n.onDone(()=>i(e&&tv(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&tv(e,"destroy",n)))}}function tv(n,t,e){const i=e.totalTime,s=nv(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function nv(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function dr(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function xT(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let iv=(n,t)=>!1,rv=(n,t)=>!1,ET=(n,t,e)=>[];const DT=$y();(DT||"undefined"!=typeof Element)&&(iv=wT()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),rv=(()=>{if(DT||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):rv}})(),ET=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let pa=null,ST=!1;function sv(n){pa||(pa=("undefined"!=typeof document?document.body:null)||{},ST=!!pa.style&&"WebkitAppearance"in pa.style);let t=!0;return pa.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in pa.style,!t&&ST&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in pa.style)),t}const ov=rv,av=iv,lv=ET;function TT(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let MT=(()=>{class n{validateStyleProperty(e){return sv(e)}matchesElement(e,i){return ov(e,i)}containsElement(e,i){return av(e,i)}query(e,i,r){return lv(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],c){return new Bl(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),cv=(()=>{class n{}return n.NOOP=new MT,n})();const uv="ng-enter",Xh="ng-leave",Zh="ng-trigger",Yh=".ng-trigger",IT="ng-animating",dv=".ng-animating";function ma(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:hv(parseFloat(t[1]),t[2])}function hv(n,t){return"s"===t?1e3*n:n}function Qh(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=hv(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=hv(parseFloat(c),a[4]));const u=a[5];u&&(o=u)}else r=n;if(!e){let a=!1,c=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(c,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:o}}(n,t,e)}function Vl(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function So(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Vl(n,e);return e}function OT(n,t,e){return e?t+":"+e+";":""}function FT(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=OT(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=OT(0,v6(e),n.style[e]));n.setAttribute("style",t)}function vs(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=pv(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),$y()&&FT(n))}function ga(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=pv(e);n.style[i]=""}),$y()&&FT(n))}function _u(n){return Array.isArray(n)?1==n.length?n[0]:vT(n):n}const fv=new RegExp("{{\\s*(.+?)\\s*}}","g");function PT(n){let t=[];if("string"==typeof n){let e;for(;e=fv.exec(n);)t.push(e[1]);fv.lastIndex=0}return t}function Jh(n,t,e){const i=n.toString(),r=i.replace(fv,(s,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return r==i?n:r}function $h(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const y6=/-+([a-z0-9])/g;function pv(n){return n.replace(y6,(...t)=>t[1].toUpperCase())}function v6(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kT(n,t){return 0===n||0===t}function LT(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],o=[];if(i.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=e[a]}),o.length)for(var r=1;r<t.length;r++){let a=t[r];o.forEach(function(c){a[c]=mv(n,c)})}}return t}function hr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function mv(n,t){return window.getComputedStyle(n)[t]}function _6(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const c=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],s=i[2],o=i[3];t.push(NT(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&t.push(NT(o,r))}(i,e,t)):e.push(n),e}const tf=new Set(["true","1"]),nf=new Set(["false","0"]);function NT(n,t){const e=tf.has(n)||nf.has(n),i=tf.has(t)||nf.has(t);return(r,s)=>{let o="*"==n||n==r,a="*"==t||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?tf.has(n):nf.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?tf.has(t):nf.has(t)),o&&a}}const C6=new RegExp("s*:selfs*,?","g");function gv(n,t,e){return new x6(n).build(t,e)}class x6{constructor(t){this._driver=t}build(t,e){const i=new S6(e);return this._resetContextStyleTimingState(i),hr(this,_u(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(p=>{c.name=p,s.push(this.visitState(c,e))}),c.name=u}else if(1==a.type){const c=this.visitTransition(a,e);i+=c.queryCount,r+=c.depCount,o.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};if(i.styles.forEach(a=>{if(rf(a)){const c=a;Object.keys(c).forEach(u=>{PT(c[u]).forEach(p=>{o.hasOwnProperty(p)||s.add(p)})})}}),s.size){const a=$h(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=hr(this,_u(t.animation),e);return{type:1,matchers:_6(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ya(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>hr(this,i,e)),options:ya(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=hr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:ya(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return yv(Qh(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=yv(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||Qh(i,t),yv(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:tn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const u={};i.easing&&(u.easing=i.easing),o=tn(u)}e.currentTime+=i.duration+i.delay;const c=this.visitStyle(o,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==qs?i.push(o):e.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(t.styles);let r=!1,s=null;return i.forEach(o=>{if(rf(o)){const a=o,c=a.easing;if(c&&(s=c,delete a.easing),!r)for(let u in a)if(a[u].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const c=e.collectedStyles[e.currentQuerySelector],u=c[a];let p=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${u.startTime}ms" and "${u.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),p=!1),s=u.startTime),p&&(c[a]={startTime:s,endTime:r}),e.options&&function(n,t,e){const i=t.params||{},r=PT(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const o=[];let a=!1,c=!1,u=0;const p=t.steps.map(ee=>{const ae=this._makeStyleAst(ee,e);let ve=null!=ae.offset?ae.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(rf(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(rf(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(ae.styles),De=0;return null!=ve&&(s++,De=ae.offset=ve),c=c||De<0||De>1,a=a||De<u,u=De,o.push(De),ae});c&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const x=t.steps.length;let A=0;s>0&&s<x?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(A=1/(x-1));const k=x-1,G=e.currentTime,ne=e.currentAnimateTimings,W=ne.duration;return p.forEach((ee,ae)=>{const ve=A>0?ae==k?1:A*ae:o[ae],De=ve*W;e.currentTime=G+ne.delay+De,ne.duration=De,this._validateStyleAst(ee,e),ee.offset=ve,i.styles.push(ee)}),i}visitReference(t,e){return{type:8,animation:hr(this,_u(t.animation),e),options:ya(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ya(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ya(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(C6,"")),n=n.replace(/@\*/g,Yh).replace(/@\w+/g,e=>Yh+"-"+e.substr(1)).replace(/:animating/g,dv),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,dr(e.collectedStyles,e.currentQuerySelector,{});const a=hr(this,_u(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:ya(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Qh(t.timings,e.errors,!0);return{type:12,animation:hr(this,_u(t.animation),e),timings:i,options:null}}}class S6{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function rf(n){return!Array.isArray(n)&&"object"==typeof n}function ya(n){return n?(n=Vl(n)).params&&(n.params=function(n){return n?Vl(n):null}(n.params)):n={},n}function yv(n,t,e){return{duration:n,delay:t,easing:e}}function vv(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class sf{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const R6=new RegExp(":enter","g"),F6=new RegExp(":leave","g");function _v(n,t,e,i,r,s={},o={},a,c,u=[]){return(new P6).buildKeyframes(n,t,e,i,r,s,o,a,c,u)}class P6{buildKeyframes(t,e,i,r,s,o,a,c,u,p=[]){u=u||new sf;const x=new bv(t,e,u,r,s,p,[]);x.options=c,x.currentTimeline.setStyles([o],null,x.errors,c),hr(this,i,x);const A=x.timelines.filter(k=>k.containsAnimation());if(A.length&&Object.keys(a).length){const k=A[A.length-1];k.allowOnlyTimelineStyles()||k.setStyles([a],null,x.errors,c)}return A.length?A.map(k=>k.buildKeyframes()):[vv(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?ma(i.duration):null,a=null!=i.delay?ma(i.delay):null;return 0!==o&&t.forEach(c=>{const u=e.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),hr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=af);const o=ma(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>hr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?ma(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),hr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Qh(e.params?Jh(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?ma(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=af);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((u,p)=>{e.currentQueryIndex=p;const x=e.createSubContext(t.options,u);s&&x.delayNextStep(s),u===e.element&&(c=x.currentTimeline),hr(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let c=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const p=e.currentTimeline;c&&p.delayNextStep(c);const x=p.currentTime;hr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const af={};class bv{constructor(t,e,i,r,s,o,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=af,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new lf(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=ma(i.duration)),null!=i.delay&&(r.delay=ma(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Jh(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new bv(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=af,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new k6(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(R6,"."+this._enterClassName)).replace(F6,"."+this._leaveClassName);let u=this._driver.query(this.element,t,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!s&&0==a.length&&o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class lf{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new lf(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||qs,this._currentKeyframe[e]=qs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},o=function(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=qs})):So(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const c=Jh(o[a],s,i);this._pendingStyles[a]=c,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:qs),this._updateStyle(a,c)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const u=So(a,!0);Object.keys(u).forEach(p=>{const x=u[p];"!"==x?t.add(p):x==qs&&e.add(p)}),i||(u.offset=c/this.duration),r.push(u)});const s=t.size?$h(t.values()):[],o=e.size?$h(e.values()):[];if(i){const a=r[0],c=Vl(a);a.offset=0,c.offset=1,r=[a,c]}return vv(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class k6 extends lf{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,c=So(t[0],!1);c.offset=0,s.push(c);const u=So(t[0],!1);u.offset=HT(a),s.push(u);const p=t.length-1;for(let x=1;x<=p;x++){let A=So(t[x],!1);A.offset=HT((e+A.offset*i)/o),s.push(A)}i=o,e=0,r="",t=s}return vv(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function HT(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class wv{}class N6 extends wv{normalizePropertyName(t,e){return pv(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(B6[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return o+s}}const B6=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function GT(n,t,e,i,r,s,o,a,c,u,p,x,A){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:p,totalTime:x,errors:A}}const Cv={};class zT{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],o=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):o}build(t,e,i,r,s,o,a,c,u,p){const x=[],A=this.ast.options&&this.ast.options.params||Cv,G=this.buildStyles(i,a&&a.params||Cv,x),ne=c&&c.params||Cv,W=this.buildStyles(r,ne,x),ee=new Set,ae=new Map,ve=new Map,De="void"===r,Ve={params:ut(ut({},A),ne)},rt=p?[]:_v(t,e,this.ast.animation,s,o,G,W,Ve,u,x);let At=0;if(rt.forEach(an=>{At=Math.max(an.duration+an.delay,At)}),x.length)return GT(e,this._triggerName,i,r,De,G,W,[],[],ae,ve,At,x);rt.forEach(an=>{const Nt=an.element,ln=dr(ae,Nt,{});an.preStyleProps.forEach(nn=>ln[nn]=!0);const Xn=dr(ve,Nt,{});an.postStyleProps.forEach(nn=>Xn[nn]=!0),Nt!==e&&ee.add(Nt)});const Gt=$h(ee.values());return GT(e,this._triggerName,i,r,De,G,W,rt,Gt,ae,ve,At)}}class G6{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Vl(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let c=o[a];c.length>1&&(c=Jh(c,r,e));const u=this.normalizer.normalizePropertyName(a,e);c=this.normalizer.normalizeStyleValue(a,u,c,e),i[u]=c})}}),i}}class j6{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new G6(r.style,r.options&&r.options.params||{},i)}),jT(this.states,"true","1"),jT(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new zT(t,r,this.states))}),this.fallbackTransition=function(n,t,e){return new zT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function jT(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const W6=new sf;class q6{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=gv(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,s=CT(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let o;const a=new Map;if(s?(o=_v(this._driver,e,s,uv,Xh,{},{},i,W6,r),o.forEach(p=>{const x=dr(a,p.element,{});p.postStyleProps.forEach(A=>x[A]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((p,x)=>{Object.keys(p).forEach(A=>{p[A]=this._driver.computeStyle(x,A,qs)})});const u=Do(o.map(p=>{const x=a.get(p.element);return this._buildPlayer(p,{},x)}));return this._playersById[t]=u,u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const s=nv(e,"","","");return ev(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const UT="ng-animate-queued",WT="ng-animate-disabled",qT=".ng-animate-disabled",Y6=[],KT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Q6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Or="__ng_removed";class xv{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const s=Vl(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const bu="void",Ev=new xv(bu);class J6{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fr(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const s=dr(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=dr(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Fr(t,Zh),Fr(t,Zh+"-"+e),a[e]=Ev),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new Dv(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Fr(t,Zh),Fr(t,Zh+"-"+e),this._engine.statesByElement.set(t,a={}));let c=a[e];const u=new xv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a[e]=u,c||(c=Ev),u.value!==bu&&c.value===u.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(c.params,u.params)){const ne=[],W=s.matchStyles(c.value,c.params,ne),ee=s.matchStyles(u.value,u.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{ga(t,W),vs(t,ee)})}return}const A=dr(this._engine.playersByElement,t,[]);A.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==e&&ne.queued&&ne.destroy()});let k=s.matchTransition(c.value,u.value,t,u.params),G=!1;if(!k){if(!r)return;k=s.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:k,fromState:c,toState:u,player:o,isFallbackTransition:G}),G||(Fr(t,UT),o.onStart(()=>{Hl(t,UT)})),o.onDone(()=>{let ne=this.players.indexOf(o);ne>=0&&this.players.splice(ne,1);const W=this._engine.playersByElement.get(t);if(W){let ee=W.indexOf(o);ee>=0&&W.splice(ee,1)}}),this.players.push(o),A.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Yh,!0);i.forEach(r=>{if(r[Or])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const c=this.trigger(t,a,bu,r);c&&o.push(c)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Do(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const c=this._triggers[o].fallbackTransition,u=i[o]||Ev,p=new xv(bu),x=new Dv(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:c,fromState:u,toState:p,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Or];(!s||s===KT)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Fr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const c=nv(s,i.triggerName,i.fromState.value,i.toState.value);c._data=t,ev(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class $6{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new J6(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(cf(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!cf(e))return;const s=e[Or];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fr(t,WT)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Hl(t,WT))}removeNode(t,e,i,r){if(cf(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[Or]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,s){return cf(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Yh,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,dv,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Do(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Or];if(e&&e.setForRemoval){if(t[Or]=KT,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,qT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,qT,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Do(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new sf,r=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,p=new Set;this.disabledNodes.forEach(fe=>{p.add(fe);const we=this.driver.query(fe,".ng-animate-queued",!0);for(let Re=0;Re<we.length;Re++)p.add(we[Re])});const x=this.bodyNode,A=Array.from(this.statesByElement.keys()),k=YT(A,this.collectedEnterElements),G=new Map;let ne=0;k.forEach((fe,we)=>{const Re=uv+ne++;G.set(we,Re),fe.forEach(Pe=>Fr(Pe,Re))});const W=[],ee=new Set,ae=new Set;for(let fe=0;fe<this.collectedLeaveElements.length;fe++){const we=this.collectedLeaveElements[fe],Re=we[Or];Re&&Re.setForRemoval&&(W.push(we),ee.add(we),Re.hasAnimation?this.driver.query(we,".ng-star-inserted",!0).forEach(Pe=>ee.add(Pe)):ae.add(we))}const ve=new Map,De=YT(A,Array.from(ee));De.forEach((fe,we)=>{const Re=Xh+ne++;ve.set(we,Re),fe.forEach(Pe=>Fr(Pe,Re))}),t.push(()=>{k.forEach((fe,we)=>{const Re=G.get(we);fe.forEach(Pe=>Hl(Pe,Re))}),De.forEach((fe,we)=>{const Re=ve.get(we);fe.forEach(Pe=>Hl(Pe,Re))}),W.forEach(fe=>{this.processLeaveNode(fe)})});const Ve=[],rt=[];for(let fe=this._namespaceList.length-1;fe>=0;fe--)this._namespaceList[fe].drainQueuedTransitions(e).forEach(Re=>{const Pe=Re.player,qe=Re.element;if(Ve.push(Pe),this.collectedEnterElements.length){const vn=qe[Or];if(vn&&vn.setForMove)return void Pe.destroy()}const it=!x||!this.driver.containsElement(x,qe),ct=ve.get(qe),An=G.get(qe),St=this._buildInstruction(Re,i,An,ct,it);if(St.errors&&St.errors.length)rt.push(St);else{if(it)return Pe.onStart(()=>ga(qe,St.fromStyles)),Pe.onDestroy(()=>vs(qe,St.toStyles)),void r.push(Pe);if(Re.isFallbackTransition)return Pe.onStart(()=>ga(qe,St.fromStyles)),Pe.onDestroy(()=>vs(qe,St.toStyles)),void r.push(Pe);St.timelines.forEach(vn=>vn.stretchStartingKeyframe=!0),i.append(qe,St.timelines),o.push({instruction:St,player:Pe,element:qe}),St.queriedElements.forEach(vn=>dr(a,vn,[]).push(Pe)),St.preStyleProps.forEach((vn,$t)=>{const Zn=Object.keys(vn);if(Zn.length){let Qi=c.get($t);Qi||c.set($t,Qi=new Set),Zn.forEach(no=>Qi.add(no))}}),St.postStyleProps.forEach((vn,$t)=>{const Zn=Object.keys(vn);let Qi=u.get($t);Qi||u.set($t,Qi=new Set),Zn.forEach(no=>Qi.add(no))})}});if(rt.length){const fe=[];rt.forEach(we=>{fe.push(`@${we.triggerName} has failed due to:\n`),we.errors.forEach(Re=>fe.push(`- ${Re}\n`))}),Ve.forEach(we=>we.destroy()),this.reportError(fe)}const At=new Map,Gt=new Map;o.forEach(fe=>{const we=fe.element;i.has(we)&&(Gt.set(we,we),this._beforeAnimationBuild(fe.player.namespaceId,fe.instruction,At))}),r.forEach(fe=>{const we=fe.element;this._getPreviousPlayers(we,!1,fe.namespaceId,fe.triggerName,null).forEach(Pe=>{dr(At,we,[]).push(Pe),Pe.destroy()})});const an=W.filter(fe=>JT(fe,c,u)),Nt=new Map;ZT(Nt,this.driver,ae,u,qs).forEach(fe=>{JT(fe,c,u)&&an.push(fe)});const Xn=new Map;k.forEach((fe,we)=>{ZT(Xn,this.driver,new Set(fe),c,"!")}),an.forEach(fe=>{const we=Nt.get(fe),Re=Xn.get(fe);Nt.set(fe,ut(ut({},we),Re))});const nn=[],ge=[],We={};o.forEach(fe=>{const{element:we,player:Re,instruction:Pe}=fe;if(i.has(we)){if(p.has(we))return Re.onDestroy(()=>vs(we,Pe.toStyles)),Re.disabled=!0,Re.overrideTotalTime(Pe.totalTime),void r.push(Re);let qe=We;if(Gt.size>1){let ct=we;const An=[];for(;ct=ct.parentNode;){const St=Gt.get(ct);if(St){qe=St;break}An.push(ct)}An.forEach(St=>Gt.set(St,qe))}const it=this._buildAnimation(Re.namespaceId,Pe,At,s,Xn,Nt);if(Re.setRealPlayer(it),qe===We)nn.push(Re);else{const ct=this.playersByElement.get(qe);ct&&ct.length&&(Re.parentPlayer=Do(ct)),r.push(Re)}}else ga(we,Pe.fromStyles),Re.onDestroy(()=>vs(we,Pe.toStyles)),ge.push(Re),p.has(we)&&r.push(Re)}),ge.forEach(fe=>{const we=s.get(fe.element);if(we&&we.length){const Re=Do(we);fe.setRealPlayer(Re)}}),r.forEach(fe=>{fe.parentPlayer?fe.syncPlayerEvents(fe.parentPlayer):fe.destroy()});for(let fe=0;fe<W.length;fe++){const we=W[fe],Re=we[Or];if(Hl(we,Xh),Re&&Re.hasAnimation)continue;let Pe=[];if(a.size){let it=a.get(we);it&&it.length&&Pe.push(...it);let ct=this.driver.query(we,dv,!0);for(let An=0;An<ct.length;An++){let St=a.get(ct[An]);St&&St.length&&Pe.push(...St)}}const qe=Pe.filter(it=>!it.destroyed);qe.length?r4(this,we,qe):this.processLeaveNode(we)}return W.length=0,nn.forEach(fe=>{this.players.push(fe),fe.onDone(()=>{fe.destroy();const we=this.players.indexOf(fe);this.players.splice(we,1)}),fe.play()}),nn}elementContainsData(t,e){let i=!1;const r=e[Or];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const c=!s||s==bu;a.forEach(u=>{u.queued||!c&&u.triggerName!=r||o.push(u)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const u=c.element,p=u!==s,x=dr(i,u,[]);this._getPreviousPlayers(u,p,o,a,e.toState).forEach(k=>{const G=k.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),k.destroy(),x.push(k)})}ga(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,c=e.element,u=[],p=new Set,x=new Set,A=e.timelines.map(G=>{const ne=G.element;p.add(ne);const W=ne[Or];if(W&&W.removedBeforeQueried)return new Bl(G.duration,G.delay);const ee=ne!==c,ae=function(n){const t=[];return QT(n,t),t}((i.get(ne)||Y6).map(At=>At.getRealPlayer())).filter(At=>!!At.element&&At.element===ne),ve=s.get(ne),De=o.get(ne),Ve=CT(0,this._normalizer,0,G.keyframes,ve,De),rt=this._buildPlayer(G,Ve,ae);if(G.subTimeline&&r&&x.add(ne),ee){const At=new Dv(t,a,ne);At.setRealPlayer(rt),u.push(At)}return rt});u.forEach(G=>{dr(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,G.element,G))}),p.forEach(G=>Fr(G,IT));const k=Do(A);return k.onDestroy(()=>{p.forEach(G=>Hl(G,IT)),vs(c,e.toStyles)}),x.forEach(G=>{dr(r,G,[]).push(k)}),k}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Bl(t.duration,t.delay)}}class Dv{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Bl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>ev(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){dr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function cf(n){return n&&1===n.nodeType}function XT(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function ZT(n,t,e,i,r){const s=[];e.forEach(c=>s.push(XT(c)));const o=[];i.forEach((c,u)=>{const p={};c.forEach(x=>{const A=p[x]=t.computeStyle(u,x,r);(!A||0==A.length)&&(u[Or]=Q6,o.push(u))}),n.set(u,p)});let a=0;return e.forEach(c=>XT(c,s[a++])),o}function YT(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let c=s.get(a);if(c)return c;const u=a.parentNode;return c=e.has(u)?u:r.has(u)?1:o(u),s.set(a,c),c}return t.forEach(a=>{const c=o(a);1!==c&&e.get(c).push(a)}),e}const uf="$$classes";function Fr(n,t){if(n.classList)n.classList.add(t);else{let e=n[uf];e||(e=n[uf]={}),e[t]=!0}}function Hl(n,t){if(n.classList)n.classList.remove(t);else{let e=n[uf];e&&delete e[t]}}function r4(n,t,e){Do(e).onDone(()=>n.processLeaveNode(t))}function QT(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof bT?QT(i.players,t):t.push(i)}}function JT(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class df{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new $6(t,e,i),this._timelineEngine=new q6(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const c=[],u=gv(this._driver,s,c);if(c.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${c.join("\n - ")}`);a=function(n,t,e){return new j6(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=xT(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=xT(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function $T(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Sv(t[0]),t.length>1&&(i=Sv(t[t.length-1]))):t&&(e=Sv(t)),e||i?new a4(n,e,i):null}let a4=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&vs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vs(this._element,this._initialStyles),this._endStyles&&(vs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ga(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ga(this._element,this._endStyles),this._endStyles=null),vs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Sv(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];l4(r)&&(t=t||{},t[r]=n[r])}return t}function l4(n){return"display"===n||"position"===n}const eM="animation",tM="animationend";class d4{constructor(t,e,i,r,s,o,a){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=c=>this._handleCallback(c)}apply(){(function(n,t){const e=Mv(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),hf(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),rM(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){nM(this._element,this._name,"paused")}resume(){nM(this._element,this._name,"running")}setPosition(t){const e=iM(this._element,this._name);this._position=t*this._duration,hf(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),rM(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=Mv(n,"").split(","),r=Tv(i,t);r>=0&&(i.splice(r,1),hf(n,"",i.join(",")))}(this._element,this._name))}}function nM(n,t,e){hf(n,"PlayState",e,iM(n,t))}function iM(n,t){const e=Mv(n,"");return e.indexOf(",")>0?Tv(e.split(","),t):Tv([e],t)}function Tv(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function rM(n,t,e){e?n.removeEventListener(tM,t):n.addEventListener(tM,t)}function hf(n,t,e,i){const r=eM+t;if(null!=i){const s=n.style[r];if(s.length){const o=s.split(",");o[i]=e,e=o.join(",")}}n.style[r]=e}function Mv(n,t){return n.style[eM+t]||""}class sM{constructor(t,e,i,r,s,o,a,c){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=a,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new d4(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:mv(this.element,i))})}this.currentSnapshot=t}}class y4 extends Bl{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=TT(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class aM{constructor(){this._count=0}validateStyleProperty(t){return sv(t)}matchesElement(t,e){return ov(t,e)}containsElement(t,e){return av(t,e)}query(t,e,i){return lv(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(a=>TT(a));let r=`@keyframes ${e} {\n`,s="";i.forEach(a=>{s=" ";const c=parseFloat(a.offset);r+=`${s}${100*c}% {\n`,s+=" ",Object.keys(a).forEach(u=>{const p=a[u];switch(u){case"offset":return;case"easing":return void(p&&(r+=`${s}animation-timing-function: ${p};\n`));default:return void(r+=`${s}${u}: ${p};\n`)}}),r+=`${s}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,i,r,s,o=[],a){const c=o.filter(W=>W instanceof sM),u={};kT(i,r)&&c.forEach(W=>{let ee=W.currentSnapshot;Object.keys(ee).forEach(ae=>u[ae]=ee[ae])});const p=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=LT(t,e,u));if(0==i)return new y4(t,p);const x="gen_css_kf_"+this._count++,A=this.buildKeyframeElement(t,x,e);(function(n){var e;const t=null==(e=n.getRootNode)?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(t).appendChild(A);const G=$T(t,e),ne=new sM(t,e,x,i,r,s,p,G);return ne.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(A)),ne}}class cM{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:mv(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class C4{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(uM().toString()),this._cssKeyframesDriver=new aM}validateStyleProperty(t){return sv(t)}matchesElement(t,e){return ov(t,e)}containsElement(t,e){return av(t,e)}query(t,e,i){return lv(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,s,o);const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const x={},A=o.filter(G=>G instanceof cM);kT(i,r)&&A.forEach(G=>{let ne=G.currentSnapshot;Object.keys(ne).forEach(W=>x[W]=ne[W])});const k=$T(t,e=LT(t,e=e.map(G=>So(G,!1)),x));return new cM(t,e,p,k)}}function uM(){return wT()&&Element.prototype.animate||{}}let E4=(()=>{class n extends yT{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:zi.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?vT(e):e;return dM(this._renderer,null,i,"register",[r]),new D4(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(se(Yo),se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class D4 extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new S4(this._id,t,e||{},this._renderer)}}class S4{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return dM(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!=(e=null==(t=this._renderer.engine.players[+this.id])?void 0:t.getPosition())?e:0}}function dM(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const hM="@.disabled";let T4=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let p=this._rendererCache.get(s);return p||(p=new fM("",s,this.engine),this._rendererCache.set(s,p)),p}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=p=>{Array.isArray(p)?p.forEach(c):this.engine.registerTrigger(o,a,e,p.name,p)};return i.data.animation.forEach(c),new M4(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(se(Yo),se(df),se(mt))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class fM{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==hM?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class M4 extends fM{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==hM?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let R4=(()=>{class n extends df{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(se(pt),se(cv),se(wv))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const pi=new ke("AnimationModuleType"),pM=[{provide:yT,useClass:E4},{provide:wv,useFactory:function(){return new N6}},{provide:df,useClass:R4},{provide:Yo,useFactory:function(n,t,e){return new T4(n,t,e)},deps:[Rh,df,mt]}],mM=[{provide:cv,useFactory:function(){return"function"==typeof uM()?new C4:new aM}},{provide:pi,useValue:"BrowserAnimations"},...pM],k4=[{provide:cv,useClass:MT},{provide:pi,useValue:"NoopAnimations"},...pM];let L4=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?k4:mM}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:mM,imports:[eS]}),n})();var En=(()=>(function(n){n[n.ONE_PAGE=0]="ONE_PAGE",n[n.TWO_PAGE=1]="TWO_PAGE"}(En||(En={})),En))(),lt=(()=>(function(n){n[n.DASHBOARD=0]="DASHBOARD",n[n.PAGE=1]="PAGE",n[n.PAGE_ZOOMED=2]="PAGE_ZOOMED",n[n.NAVIGATOR=3]="NAVIGATOR"}(lt||(lt={})),lt))();class pf{constructor(t){this.attributionDialogEnabled=!0,this.attributionDialogHideTimeout=-1,this.navigationControlEnabled=!0,this.initViewerMode=lt.PAGE,this.initViewerLayout=En.TWO_PAGE,this.withCredentials=!1,this.loadTilesWithAjax=!1,this.crossOriginPolicy=!1,this.ajaxHeaders=null,this.preserveZoomOnCanvasGroupChange=!1,this.startOnTopOnCanvasGroupChange=!1,this.isDropEnabled=!1,this.initRecognizedTextContentToggle=!1,this.ignorePhysicalScale=!1,t&&(this.attributionDialogEnabled=void 0!==t.attributionDialogEnabled?t.attributionDialogEnabled:this.attributionDialogEnabled,this.attributionDialogHideTimeout=t.attributionDialogHideTimeout||this.attributionDialogHideTimeout,this.navigationControlEnabled=void 0!==t.navigationControlEnabled?t.navigationControlEnabled:this.navigationControlEnabled,this.initViewerMode=void 0!==t.initViewerMode?t.initViewerMode:this.initViewerMode,this.initViewerLayout=void 0!==t.initViewerLayout?t.initViewerLayout:this.initViewerLayout,this.withCredentials=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,this.loadTilesWithAjax=void 0!==t.loadTilesWithAjax?t.loadTilesWithAjax:this.loadTilesWithAjax,this.crossOriginPolicy=void 0!==t.crossOriginPolicy?t.crossOriginPolicy:this.crossOriginPolicy,this.ajaxHeaders=void 0!==t.ajaxHeaders?t.ajaxHeaders:this.ajaxHeaders,this.preserveZoomOnCanvasGroupChange=void 0!==t.preserveZoomOnCanvasGroupChange?t.preserveZoomOnCanvasGroupChange:this.preserveZoomOnCanvasGroupChange,this.startOnTopOnCanvasGroupChange=void 0!==t.startOnTopOnCanvasGroupChange?t.startOnTopOnCanvasGroupChange:this.startOnTopOnCanvasGroupChange,this.isDropEnabled=void 0!==t.isDropEnabled?t.isDropEnabled:this.isDropEnabled,this.initRecognizedTextContentToggle=void 0!==t.initRecognizedTextContentToggle?t.initRecognizedTextContentToggle:this.initRecognizedTextContentToggle,this.ignorePhysicalScale=void 0!==t.ignorePhysicalScale?t.ignorePhysicalScale:this.ignorePhysicalScale)}}function N4(){}function Av(n){return null==n?N4:function(){return this.querySelector(n)}}function V4(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}function H4(){return[]}function gM(n){return null==n?H4:function(){return this.querySelectorAll(n)}}function yM(n){return function(){return this.matches(n)}}function vM(n){return function(t){return t.matches(n)}}var j4=Array.prototype.find;function W4(){return this.firstElementChild}var K4=Array.prototype.filter;function X4(){return Array.from(this.children)}function _M(n){return new Array(n.length)}function mf(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function $4(n){return function(){return n}}function eW(n,t,e,i,r,s){for(var a,o=0,c=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):e[o]=new mf(n,s[o]);for(;o<c;++o)(a=t[o])&&(r[o]=a)}function tW(n,t,e,i,r,s,o){var a,c,k,u=new Map,p=t.length,x=s.length,A=new Array(p);for(a=0;a<p;++a)(c=t[a])&&(A[a]=k=o.call(c,c.__data__,a,t)+"",u.has(k)?r[a]=c:u.set(k,c));for(a=0;a<x;++a)k=o.call(n,s[a],a,s)+"",(c=u.get(k))?(i[a]=c,c.__data__=s[a],u.delete(k)):e[a]=new mf(n,s[a]);for(a=0;a<p;++a)(c=t[a])&&u.get(A[a])===c&&(r[a]=c)}function nW(n){return n.__data__}function rW(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function uW(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}mf.prototype={constructor:mf,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var Iv="http://www.w3.org/1999/xhtml";const bM={svg:"http://www.w3.org/2000/svg",xhtml:Iv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gf(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),bM.hasOwnProperty(t)?{space:bM[t],local:n}:n}function yW(n){return function(){this.removeAttribute(n)}}function vW(n){return function(){this.removeAttributeNS(n.space,n.local)}}function _W(n,t){return function(){this.setAttribute(n,t)}}function bW(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function wW(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function CW(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function wM(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function EW(n){return function(){this.style.removeProperty(n)}}function DW(n,t,e){return function(){this.style.setProperty(n,t,e)}}function SW(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function Gl(n,t){return n.style.getPropertyValue(t)||wM(n).getComputedStyle(n,null).getPropertyValue(t)}function MW(n){return function(){delete this[n]}}function AW(n,t){return function(){this[n]=t}}function IW(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function CM(n){return n.trim().split(/^|\s+/)}function Rv(n){return n.classList||new xM(n)}function xM(n){this._node=n,this._names=CM(n.getAttribute("class")||"")}function EM(n,t){for(var e=Rv(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function DM(n,t){for(var e=Rv(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function OW(n){return function(){EM(this,n)}}function FW(n){return function(){DM(this,n)}}function PW(n,t){return function(){(t.apply(this,arguments)?EM:DM)(this,n)}}function LW(){this.textContent=""}function NW(n){return function(){this.textContent=n}}function BW(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}function HW(){this.innerHTML=""}function GW(n){return function(){this.innerHTML=n}}function zW(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function UW(){this.nextSibling&&this.parentNode.appendChild(this)}function qW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function XW(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Iv&&t.documentElement.namespaceURI===Iv?t.createElement(n):t.createElementNS(e,n)}}function ZW(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function SM(n){var t=gf(n);return(t.local?ZW:XW)(t)}function QW(){return null}function $W(){var n=this.parentNode;n&&n.removeChild(this)}function t7(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function n7(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function a7(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function l7(n){return function(){var t=this.__on;if(t){for(var s,e=0,i=-1,r=t.length;e<r;++e)s=t[e],n.type&&s.type!==n.type||s.name!==n.name?t[++i]=s:this.removeEventListener(s.type,s.listener,s.options);++i?t.length=i:delete this.__on}}}function c7(n,t,e){return function(){var r,i=this.__on,s=function(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=e),void(r.value=t);this.addEventListener(n.type,s,e),r={type:n.type,name:n.name,value:t,listener:s,options:e},i?i.push(r):this.__on=[r]}}function TM(n,t,e){var i=wM(n),r=i.CustomEvent;"function"==typeof r?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function d7(n,t){return function(){return TM(this,n,t)}}function h7(n,t){return function(){return TM(this,n,t.apply(this,arguments))}}xM.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var MM=[null];function fr(n,t){this._groups=n,this._parents=t}function AM(){return new fr([[document.documentElement]],MM)}fr.prototype=AM.prototype={constructor:fr,select:function(n){"function"!=typeof n&&(n=Av(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var c,u,s=t[r],o=s.length,a=i[r]=new Array(o),p=0;p<o;++p)(c=s[p])&&(u=n.call(c,c.__data__,p,s))&&("__data__"in c&&(u.__data__=c.__data__),a[p]=u);return new fr(i,this._parents)},selectAll:function(n){n="function"==typeof n?function(n){return function(){return V4(n.apply(this,arguments))}}(n):gM(n);for(var t=this._groups,e=t.length,i=[],r=[],s=0;s<e;++s)for(var c,o=t[s],a=o.length,u=0;u<a;++u)(c=o[u])&&(i.push(n.call(c,c.__data__,u,o)),r.push(c));return new fr(i,r)},selectChild:function(n){return this.select(null==n?W4:function(n){return function(){return j4.call(this.children,n)}}("function"==typeof n?n:vM(n)))},selectChildren:function(n){return this.selectAll(null==n?X4:function(n){return function(){return K4.call(this.children,n)}}("function"==typeof n?n:vM(n)))},filter:function(n){"function"!=typeof n&&(n=yM(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var c,s=t[r],o=s.length,a=i[r]=[],u=0;u<o;++u)(c=s[u])&&n.call(c,c.__data__,u,s)&&a.push(c);return new fr(i,this._parents)},data:function(n,t){if(!arguments.length)return Array.from(this,nW);var e=t?tW:eW,i=this._parents,r=this._groups;"function"!=typeof n&&(n=$4(n));for(var s=r.length,o=new Array(s),a=new Array(s),c=new Array(s),u=0;u<s;++u){var p=i[u],x=r[u],A=x.length,k=rW(n.call(p,p&&p.__data__,u,i)),G=k.length,ne=a[u]=new Array(G),W=o[u]=new Array(G),ee=c[u]=new Array(A);e(p,x,ne,W,ee,k,t);for(var De,Ve,ae=0,ve=0;ae<G;++ae)if(De=ne[ae]){for(ae>=ve&&(ve=ae+1);!(Ve=W[ve])&&++ve<G;);De._next=Ve||null}}return(o=new fr(o,i))._enter=a,o._exit=c,o},enter:function(){return new fr(this._enter||this._groups.map(_M),this._parents)},exit:function(){return new fr(this._exit||this._groups.map(_M),this._parents)},join:function(n,t,e){var i=this.enter(),r=this,s=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=t&&(r=t(r))&&(r=r.selection()),null==e?s.remove():e(s),i&&r?i.merge(r).order():r},merge:function(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,o=Math.min(r,i.length),a=new Array(r),c=0;c<o;++c)for(var k,u=e[c],p=i[c],x=u.length,A=a[c]=new Array(x),G=0;G<x;++G)(k=u[G]||p[G])&&(A[G]=k);for(;c<r;++c)a[c]=e[c];return new fr(a,this._parents)},selection:function(){return this},order:function(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var o,i=n[t],r=i.length-1,s=i[r];--r>=0;)(o=i[r])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function(n){function t(x,A){return x&&A?n(x.__data__,A.__data__):!x-!A}n||(n=uW);for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s){for(var u,o=e[s],a=o.length,c=r[s]=new Array(a),p=0;p<a;++p)(u=o[p])&&(c[p]=u);c.sort(t)}return new fr(r,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function(){let n=0;for(const t of this)++n;return n},empty:function(){return!this.node()},each:function(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a,r=t[e],s=0,o=r.length;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this},attr:function(n,t){var e=gf(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?vW:yW:"function"==typeof t?e.local?CW:wW:e.local?bW:_W)(e,t))},style:function(n,t,e){return arguments.length>1?this.each((null==t?EW:"function"==typeof t?SW:DW)(n,t,null==e?"":e)):Gl(this.node(),n)},property:function(n,t){return arguments.length>1?this.each((null==t?MW:"function"==typeof t?IW:AW)(n,t)):this.node()[n]},classed:function(n,t){var e=CM(n+"");if(arguments.length<2){for(var i=Rv(this.node()),r=-1,s=e.length;++r<s;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof t?PW:t?OW:FW)(e,t))},text:function(n){return arguments.length?this.each(null==n?LW:("function"==typeof n?BW:NW)(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?HW:("function"==typeof n?zW:GW)(n)):this.node().innerHTML},raise:function(){return this.each(UW)},lower:function(){return this.each(qW)},append:function(n){var t="function"==typeof n?n:SM(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(n,t){var e="function"==typeof n?n:SM(n),i=null==t?QW:"function"==typeof t?t:Av(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each($W)},clone:function(n){return this.select(n?n7:t7)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,t,e){var r,o,i=a7(n+""),s=i.length;if(!(arguments.length<2)){for(a=t?c7:l7,r=0;r<s;++r)this.each(a(i[r],t,e));return this}var a=this.node().__on;if(a)for(var p,c=0,u=a.length;c<u;++c)for(r=0,p=a[c];r<s;++r)if((o=i[r]).type===p.type&&o.name===p.name)return p.value},dispatch:function(n,t){return this.each(("function"==typeof t?h7:d7)(n,t))},[Symbol.iterator]:function*(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var o,i=n[t],r=0,s=i.length;r<s;++r)(o=i[r])&&(yield o)}};const wu=AM;var g7={value:()=>{}};function IM(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new yf(e)}function yf(n){this._=n}function y7(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}function v7(n,t){for(var r,e=0,i=n.length;e<i;++e)if((r=n[e]).name===t)return r.value}function RM(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=g7,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}yf.prototype=IM.prototype={constructor:yf,on:function(n,t){var r,e=this._,i=y7(n+"",e),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(n=i[s]).type)e[r]=RM(e[r],n.name,t);else if(null==t)for(r in e)e[r]=RM(e[r],n.name,null);return this}for(;++s<o;)if((r=(n=i[s]).type)&&(r=v7(e[r],n.name)))return r},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new yf(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,s,e=new Array(r),i=0;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(s=this._[n]).length;i<r;++i)s[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(t,e)}};const _7=IM;var vf,Eu,zl=0,Cu=0,xu=0,_f=0,va=0,bf=0,Du="object"==typeof performance&&performance.now?performance:Date,FM="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Ov(){return va||(FM(b7),va=Du.now()+bf)}function b7(){va=0}function wf(){this._call=this._time=this._next=null}function PM(n,t,e){var i=new wf;return i.restart(n,t,e),i}function kM(){va=(_f=Du.now())+bf,zl=Cu=0;try{!function(){Ov(),++zl;for(var t,n=vf;n;)(t=va-n._time)>=0&&n._call.call(void 0,t),n=n._next;--zl}()}finally{zl=0,function(){for(var n,e,t=vf,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:vf=e);Eu=n,Fv(i)}(),va=0}}function C7(){var n=Du.now(),t=n-_f;t>1e3&&(bf-=t,_f=n)}function Fv(n){zl||(Cu&&(Cu=clearTimeout(Cu)),n-va>24?(n<1/0&&(Cu=setTimeout(kM,n-Du.now()-bf)),xu&&(xu=clearInterval(xu))):(xu||(_f=Du.now(),xu=setInterval(C7,1e3)),zl=1,FM(kM)))}function LM(n,t,e){var i=new wf;return i.restart(r=>{i.stop(),n(r+t)},t=null==t?0:+t,e),i}wf.prototype=PM.prototype={constructor:wf,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?Ov():+e)+(null==t?0:+t),!this._next&&Eu!==this&&(Eu?Eu._next=this:vf=this,Eu=this),this._call=n,this._time=e,Fv()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fv())}};var E7=_7("start","end","cancel","interrupt"),D7=[];function Ef(n,t,e,i,r,s){var o=n.__transition;if(o){if(e in o)return}else n.__transition={};!function(n,t,e){var r,i=n.__transition;function o(u){var p,x,A,k;if(1!==e.state)return c();for(p in i)if((k=i[p]).name===e.name){if(3===k.state)return LM(o);4===k.state?(k.state=6,k.timer.stop(),k.on.call("interrupt",n,n.__data__,k.index,k.group),delete i[p]):+p<t&&(k.state=6,k.timer.stop(),k.on.call("cancel",n,n.__data__,k.index,k.group),delete i[p])}if(LM(function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(u))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(A=e.tween.length),p=0,x=-1;p<A;++p)(k=e.tween[p].value.call(n,n.__data__,e.index,e.group))&&(r[++x]=k);r.length=x+1}}function a(u){for(var p=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(c),e.state=5,1),x=-1,A=r.length;++x<A;)r[x].call(n,p);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),c())}function c(){for(var u in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=PM(function(u){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=u&&o(u-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:r,on:E7,tween:D7,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function Lv(n,t){var e=ns(n,t);if(e.state>0)throw new Error("too late; already scheduled");return e}function _s(n,t){var e=ns(n,t);if(e.state>3)throw new Error("too late; already running");return e}function ns(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function To(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}var Df,HM=180/Math.PI,Nv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function GM(n,t,e,i,r,s){var o,a,c;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(c=n*e+t*i)&&(e-=n*c,i-=t*c),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,c/=a),n*i<t*e&&(n=-n,t=-t,c=-c,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,n)*HM,skewX:Math.atan(c)*HM,scaleX:o,scaleY:a}}function zM(n,t,e,i){function r(u){return u.length?u.pop()+" ":""}return function(u,p){var x=[],A=[];return u=n(u),p=n(p),function(u,p,x,A,k,G){if(u!==x||p!==A){var ne=k.push("translate(",null,t,null,e);G.push({i:ne-4,x:To(u,x)},{i:ne-2,x:To(p,A)})}else(x||A)&&k.push("translate("+x+t+A+e)}(u.translateX,u.translateY,p.translateX,p.translateY,x,A),function(u,p,x,A){u!==p?(u-p>180?p+=360:p-u>180&&(u+=360),A.push({i:x.push(r(x)+"rotate(",null,i)-2,x:To(u,p)})):p&&x.push(r(x)+"rotate("+p+i)}(u.rotate,p.rotate,x,A),function(u,p,x,A){u!==p?A.push({i:x.push(r(x)+"skewX(",null,i)-2,x:To(u,p)}):p&&x.push(r(x)+"skewX("+p+i)}(u.skewX,p.skewX,x,A),function(u,p,x,A,k,G){if(u!==x||p!==A){var ne=k.push(r(k)+"scale(",null,",",null,")");G.push({i:ne-4,x:To(u,x)},{i:ne-2,x:To(p,A)})}else(1!==x||1!==A)&&k.push(r(k)+"scale("+x+","+A+")")}(u.scaleX,u.scaleY,p.scaleX,p.scaleY,x,A),u=p=null,function(k){for(var W,G=-1,ne=A.length;++G<ne;)x[(W=A[G]).i]=W.x(k);return x.join("")}}}var R7=zM(function(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?Nv:GM(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),O7=zM(function(n){return null!=n&&(Df||(Df=document.createElementNS("http://www.w3.org/2000/svg","g")),Df.setAttribute("transform",n),n=Df.transform.baseVal.consolidate())?GM((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):Nv},", ",")",")");function F7(n,t){var e,i;return function(){var r=_s(this,n),s=r.tween;if(s!==e)for(var o=0,a=(i=e=s).length;o<a;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}r.tween=i}}function P7(n,t,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var s=_s(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:e},c=0,u=r.length;c<u;++c)if(r[c].name===t){r[c]=a;break}c===u&&r.push(a)}s.tween=r}}function Bv(n,t,e){var i=n._id;return n.each(function(){var r=_s(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return ns(r,i).value[t]}}function Vv(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function jM(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function Su(){}var Sf=1/.7,jl="\\s*([+-]?\\d+)\\s*",Mu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",bs="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L7=/^#([0-9a-f]{3,8})$/,N7=new RegExp("^rgb\\("+[jl,jl,jl]+"\\)$"),B7=new RegExp("^rgb\\("+[bs,bs,bs]+"\\)$"),V7=new RegExp("^rgba\\("+[jl,jl,jl,Mu]+"\\)$"),H7=new RegExp("^rgba\\("+[bs,bs,bs,Mu]+"\\)$"),G7=new RegExp("^hsl\\("+[Mu,bs,bs]+"\\)$"),z7=new RegExp("^hsla\\("+[Mu,bs,bs,Mu]+"\\)$"),UM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function WM(){return this.rgb().formatHex()}function qM(){return this.rgb().formatRgb()}function Au(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=L7.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?KM(t):3===e?new pr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?Tf(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?Tf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=N7.exec(n))?new pr(t[1],t[2],t[3],1):(t=B7.exec(n))?new pr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=V7.exec(n))?Tf(t[1],t[2],t[3],t[4]):(t=H7.exec(n))?Tf(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=G7.exec(n))?YM(t[1],t[2]/100,t[3]/100,1):(t=z7.exec(n))?YM(t[1],t[2]/100,t[3]/100,t[4]):UM.hasOwnProperty(n)?KM(UM[n]):"transparent"===n?new pr(NaN,NaN,NaN,0):null}function KM(n){return new pr(n>>16&255,n>>8&255,255&n,1)}function Tf(n,t,e,i){return i<=0&&(n=t=e=NaN),new pr(n,t,e,i)}function U7(n){return n instanceof Su||(n=Au(n)),n?new pr((n=n.rgb()).r,n.g,n.b,n.opacity):new pr}function Mf(n,t,e,i){return 1===arguments.length?U7(n):new pr(n,t,e,null==i?1:i)}function pr(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function XM(){return"#"+Hv(this.r)+Hv(this.g)+Hv(this.b)}function ZM(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function Hv(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function YM(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new ws(n,t,e,i)}function QM(n){if(n instanceof ws)return new ws(n.h,n.s,n.l,n.opacity);if(n instanceof Su||(n=Au(n)),!n)return new ws;if(n instanceof ws)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),o=NaN,a=s-r,c=(s+r)/2;return a?(o=t===s?(e-i)/a+6*(e<i):e===s?(i-t)/a+2:(t-e)/a+4,a/=c<.5?s+r:2-s-r,o*=60):a=c>0&&c<1?0:o,new ws(o,a,c,n.opacity)}function ws(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function Gv(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function JM(n,t,e,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*t+(4-6*s+3*o)*e+(1+3*n+3*s-3*o)*i+o*r)/6}Vv(Su,Au,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:WM,formatHex:WM,formatHsl:function(){return QM(this).formatHsl()},formatRgb:qM,toString:qM}),Vv(pr,Mf,jM(Su,{brighter:function(n){return n=null==n?Sf:Math.pow(Sf,n),new pr(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new pr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XM,formatHex:XM,formatRgb:ZM,toString:ZM})),Vv(ws,function(n,t,e,i){return 1===arguments.length?QM(n):new ws(n,t,e,null==i?1:i)},jM(Su,{brighter:function(n){return n=null==n?Sf:Math.pow(Sf,n),new ws(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new ws(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new pr(Gv(n>=240?n-240:n+120,r,i),Gv(n,r,i),Gv(n<120?n+240:n-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const $M=n=>()=>n;function tA(n,t){var e=t-n;return e?function(n,t){return function(e){return n+e*t}}(n,e):$M(isNaN(n)?t:n)}const nA=function n(t){var e=function(n){return 1==(n=+n)?tA:function(t,e){return e-t?function(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):$M(isNaN(t)?e:t)}}(t);function i(r,s){var o=e((r=Mf(r)).r,(s=Mf(s)).r),a=e(r.g,s.g),c=e(r.b,s.b),u=tA(r.opacity,s.opacity);return function(p){return r.r=o(p),r.g=a(p),r.b=c(p),r.opacity=u(p),r+""}}return i.gamma=n,i}(1);function iA(n){return function(t){var o,a,e=t.length,i=new Array(e),r=new Array(e),s=new Array(e);for(o=0;o<e;++o)a=Mf(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(c){return a.r=i(c),a.g=r(c),a.b=s(c),a+""}}}iA(function(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=n[i],s=n[i+1];return JM((e-i/t)*t,i>0?n[i-1]:2*r-s,r,s,i<t-1?n[i+2]:2*s-r)}}),iA(function(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return JM((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var zv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jv=new RegExp(zv.source,"g");function J7(n,t){var i,r,s,e=zv.lastIndex=jv.lastIndex=0,o=-1,a=[],c=[];for(n+="",t+="";(i=zv.exec(n))&&(r=jv.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:To(i,r)})),e=jv.lastIndex;return e<t.length&&(s=t.slice(e),a[o]?a[o]+=s:a[++o]=s),a.length<2?c[0]?function(n){return function(t){return n(t)+""}}(c[0].x):function(n){return function(){return n}}(t):(t=c.length,function(u){for(var x,p=0;p<t;++p)a[(x=c[p]).i]=x.x(u);return a.join("")})}function rA(n,t){var e;return("number"==typeof t?To:t instanceof Au?nA:(e=Au(t))?(t=e,nA):J7)(n,t)}function $7(n){return function(){this.removeAttribute(n)}}function e9(n){return function(){this.removeAttributeNS(n.space,n.local)}}function t9(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=t(i=o,e)}}function n9(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=t(i=o,e)}}function i9(n,t,e){var i,r,s;return function(){var o,c,a=e(this);return null==a?void this.removeAttribute(n):(o=this.getAttribute(n))===(c=a+"")?null:o===i&&c===r?s:(r=c,s=t(i=o,a))}}function r9(n,t,e){var i,r,s;return function(){var o,c,a=e(this);return null==a?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(c=a+"")?null:o===i&&c===r?s:(r=c,s=t(i=o,a))}}function o9(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function a9(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function l9(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&a9(n,s)),e}return r._value=t,r}function c9(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&o9(n,s)),e}return r._value=t,r}function d9(n,t){return function(){Lv(this,n).delay=+t.apply(this,arguments)}}function h9(n,t){return t=+t,function(){Lv(this,n).delay=t}}function p9(n,t){return function(){_s(this,n).duration=+t.apply(this,arguments)}}function m9(n,t){return t=+t,function(){_s(this,n).duration=t}}function y9(n,t){if("function"!=typeof t)throw new Error;return function(){_s(this,n).ease=t}}function E9(n,t,e){var i,r,s=function(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?Lv:_s;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(t,e),o.on=r}}var I9=wu.prototype.constructor;function sA(n){return function(){this.style.removeProperty(n)}}function N9(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}function B9(n,t,e){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&N9(n,o,e)),i}return s._value=t,s}function j9(n){return function(t){this.textContent=n.call(this,t)}}function U9(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&j9(r)),t}return i._value=n,i}var X9=0;function Xs(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function oA(){return++X9}var Zs=wu.prototype;Xs.prototype=function(n){return wu().transition(n)}.prototype={constructor:Xs,select:function(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=Av(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var p,x,a=i[o],c=a.length,u=s[o]=new Array(c),A=0;A<c;++A)(p=a[A])&&(x=n.call(p,p.__data__,A,a))&&("__data__"in p&&(x.__data__=p.__data__),u[A]=x,Ef(u[A],t,e,A,u,ns(p,e)));return new Xs(s,this._parents,t,e)},selectAll:function(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=gM(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var p,c=i[a],u=c.length,x=0;x<u;++x)if(p=c[x]){for(var k,A=n.call(p,p.__data__,x,c),G=ns(p,e),ne=0,W=A.length;ne<W;++ne)(k=A[ne])&&Ef(k,t,e,ne,A,G);s.push(A),o.push(p)}return new Xs(s,o,t,e)},selectChild:Zs.selectChild,selectChildren:Zs.selectChildren,filter:function(n){"function"!=typeof n&&(n=yM(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var c,s=t[r],o=s.length,a=i[r]=[],u=0;u<o;++u)(c=s[u])&&n.call(c,c.__data__,u,s)&&a.push(c);return new Xs(i,this._parents,this._name,this._id)},merge:function(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,s=Math.min(i,e.length),o=new Array(i),a=0;a<s;++a)for(var A,c=t[a],u=e[a],p=c.length,x=o[a]=new Array(p),k=0;k<p;++k)(A=c[k]||u[k])&&(x[k]=A);for(;a<i;++a)o[a]=t[a];return new Xs(o,this._parents,this._name,this._id)},selection:function(){return new I9(this._groups,this._parents)},transition:function(){for(var n=this._name,t=this._id,e=oA(),i=this._groups,r=i.length,s=0;s<r;++s)for(var c,o=i[s],a=o.length,u=0;u<a;++u)if(c=o[u]){var p=ns(c,t);Ef(c,n,e,u,o,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Xs(i,this._parents,n,e)},call:Zs.call,nodes:Zs.nodes,node:Zs.node,size:Zs.size,empty:Zs.empty,each:Zs.each,on:function(n,t){var e=this._id;return arguments.length<2?ns(this.node(),e).on.on(n):this.each(E9(e,n,t))},attr:function(n,t){var e=gf(n),i="transform"===e?O7:rA;return this.attrTween(n,"function"==typeof t?(e.local?r9:i9)(e,i,Bv(this,"attr."+n,t)):null==t?(e.local?e9:$7)(e):(e.local?n9:t9)(e,i,t))},attrTween:function(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=gf(n);return this.tween(e,(i.local?l9:c9)(i,t))},style:function(n,t,e){var i="transform"==(n+="")?R7:rA;return null==t?this.styleTween(n,function(n,t){var e,i,r;return function(){var s=Gl(this,n),o=(this.style.removeProperty(n),Gl(this,n));return s===o?null:s===e&&o===i?r:r=t(e=s,i=o)}}(n,i)).on("end.style."+n,sA(n)):"function"==typeof t?this.styleTween(n,function(n,t,e){var i,r,s;return function(){var o=Gl(this,n),a=e(this),c=a+"";return null==a&&(this.style.removeProperty(n),c=a=Gl(this,n)),o===c?null:o===i&&c===r?s:(r=c,s=t(i=o,a))}}(n,i,Bv(this,"style."+n,t))).each(function(n,t){var e,i,r,a,s="style."+t,o="end."+s;return function(){var c=_s(this,n),u=c.on,p=null==c.value[s]?a||(a=sA(t)):void 0;(u!==e||r!==p)&&(i=(e=u).copy()).on(o,r=p),c.on=i}}(this._id,n)):this.styleTween(n,function(n,t,e){var i,s,r=e+"";return function(){var o=Gl(this,n);return o===r?null:o===i?s:s=t(i=o,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,B9(n,t,null==e?"":e))},text:function(n){return this.tween("text","function"==typeof n?function(n){return function(){var t=n(this);this.textContent=null==t?"":t}}(Bv(this,"text",n)):function(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,U9(n))},remove:function(){return this.on("end.remove",function(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function(n,t){var e=this._id;if(n+="",arguments.length<2){for(var o,i=ns(this.node(),e).tween,r=0,s=i.length;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((null==t?F7:P7)(e,n,t))},delay:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?d9:h9)(t,n)):ns(this.node(),t).delay},duration:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?p9:m9)(t,n)):ns(this.node(),t).duration},ease:function(n){var t=this._id;return arguments.length?this.each(y9(t,n)):ns(this.node(),t).ease},easeVarying:function(n){if("function"!=typeof n)throw new Error;return this.each(function(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;_s(this,n).ease=e}}(this._id,n))},end:function(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(s,o){var a={value:o},c={value:function(){0==--r&&s()}};e.each(function(){var u=_s(this,i),p=u.on;p!==n&&((t=(n=p).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),0===r&&s()})},[Symbol.iterator]:Zs[Symbol.iterator]};var Q9={time:null,delay:0,duration:250,ease:function(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function J9(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}wu.prototype.interrupt=function(n){return this.each(function(){!function(n,t){var i,r,o,e=n.__transition,s=!0;if(e){for(o in t=null==t?null:t+"",e)(i=e[o]).name===t?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[o]):s=!1;s&&delete n.__transition}}(this,n)})},wu.prototype.transition=function(n){var t,e;n instanceof Xs?(t=n._id,n=n._name):(t=oA(),(e=Q9).time=Ov(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var c,o=i[s],a=o.length,u=0;u<a;++u)(c=o[u])&&Ef(c,n,t,u,o,e||J9(c,t));return new Xs(i,this._parents,n,t)};Math;function Iu(n){return{type:n}}function Ru(n){return"string"==typeof n?new fr([[document.querySelector(n)]],[document.documentElement]):new fr([[n]],MM)}function ql(n,t,e){this.k=n,this.x=t,this.y=e}["w","e"].map(Iu),["n","s"].map(Iu),["n","w","e","s","nw","ne","sw","se"].map(Iu),ql.prototype={constructor:ql,scale:function(n){return 1===n?this:new ql(this.k*n,this.x,this.y)},translate:function(n,t){return 0===n&0===t?this:new ql(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new ql(1,0,0);var Kl=Vi(3913);function Xv(...n){if(1===n.length){const t=n[0];if(q(t))return Rf(t,null);if(l(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Rf(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Rf(n=1===n.length&&q(n[0])?n[0]:n,null).pipe(Yt(e=>t(...e)))}return Rf(n,null)}function Rf(n,t){return new B(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const c=In(n[a]);let u=!1;e.add(c.subscribe({next:p=>{u||(u=!0,o++),r[a]=p},error:p=>e.error(p),complete:()=>{s++,(s===i||!u)&&(o===i&&e.next(t?t.reduce((p,x,A)=>(p[x]=r[A],p),{}):r),e.complete())}}))}})}let fA=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(I(Kr),I(Be))},n.\u0275dir=Ce({type:n}),n})(),_a=(()=>{class n extends fA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275dir=Ce({type:n,features:[Ae]}),n})();const Pr=new ke("NgValueAccessor"),mq={provide:Pr,useExisting:Je(()=>Ou),multi:!0},yq=new ke("CompositionEventMode");let Ou=(()=>{class n extends fA{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=gs()?gs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(I(Kr),I(Be),I(yq,8))},n.\u0275dir=Ce({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Xe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[qt([mq]),Ae]}),n})();function Mo(n){return null==n||0===n.length}function mA(n){return null!=n&&"number"==typeof n.length}const Si=new ke("NgValidators"),Ao=new ke("NgAsyncValidators"),vq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Of{static min(t){return gA(t)}static max(t){return function(n){return t=>{if(Mo(t.value)||Mo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function(n){return Mo(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Mo(n.value)||vq.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Mo(t.value)||!mA(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>mA(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Fu;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Mo(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return AA(t)}static composeAsync(t){return IA(t)}}function gA(n){return t=>{if(Mo(t.value)||Mo(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Fu(n){return null}function EA(n){return null!=n}function DA(n){const t=zd(n)?In(n):n;return Xm(t),t}function SA(n){let t={};return n.forEach(e=>{t=null!=e?ut(ut({},t),e):t}),0===Object.keys(t).length?null:t}function TA(n,t){return t.map(e=>e(n))}function MA(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function AA(n){if(!n)return null;const t=n.filter(EA);return 0==t.length?null:function(e){return SA(TA(e,t))}}function Zv(n){return null!=n?AA(MA(n)):null}function IA(n){if(!n)return null;const t=n.filter(EA);return 0==t.length?null:function(e){return Xv(TA(e,t).map(DA)).pipe(Yt(SA))}}function Yv(n){return null!=n?IA(MA(n)):null}function RA(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function OA(n){return n._rawValidators}function FA(n){return n._rawAsyncValidators}function Qv(n){return n?Array.isArray(n)?n:[n]:[]}function Ff(n,t){return Array.isArray(n)?n.includes(t):n===t}function PA(n,t){const e=Qv(t);return Qv(n).forEach(r=>{Ff(e,r)||e.push(r)}),e}function kA(n,t){return Qv(t).filter(e=>!Ff(n,e))}class LA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Zv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Bi extends LA{get formDirective(){return null}get path(){return null}}class Qs extends LA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NA{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null==(e=this._cd)?void 0:e.submitted):!!(null==(r=null==(i=this._cd)?void 0:i.control)?void 0:r[t])}}let Jv=(()=>{class n extends NA{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(I(Qs,2))},n.\u0275dir=Ce({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Vt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Ae]}),n})(),$v=(()=>{class n extends NA{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(I(Bi,10))},n.\u0275dir=Ce({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Vt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[Ae]}),n})();function kf(n,t){return[...t.path,n]}function Pu(n,t){n_(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BA(n,t)})}(n,t),function(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BA(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Lf(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Bf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Nf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function n_(n,t){const e=OA(n);null!==t.validator?n.setValidators(RA(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=FA(n);null!==t.asyncValidator?n.setAsyncValidators(RA(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Nf(t._rawValidators,r),Nf(t._rawAsyncValidators,r)}function Bf(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=OA(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=FA(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Nf(t._rawValidators,i),Nf(t._rawAsyncValidators,i),e}function BA(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function VA(n,t){n_(n,t)}function i_(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function HA(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function r_(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Ou?e=s:function(n){return Object.getPrototypeOf(n.constructor)===_a}(s)?i=s:r=s}),r||i||e||null}function Vf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ku="VALID",Hf="INVALID",Xl="PENDING",Lu="DISABLED";function s_(n){return(a_(n)?n.validators:n)||null}function GA(n){return Array.isArray(n)?Zv(n):n||null}function o_(n,t){return(a_(t)?t.asyncValidators:n)||null}function zA(n){return Array.isArray(n)?Yv(n):n||null}function a_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class l_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=GA(this._rawValidators),this._composedAsyncValidatorFn=zA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ku}get invalid(){return this.status===Hf}get pending(){return this.status==Xl}get disabled(){return this.status===Lu}get enabled(){return this.status!==Lu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=GA(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=zA(t)}addValidators(t){this.setValidators(PA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(PA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(kA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(kA(t,this._rawAsyncValidators))}hasValidator(t){return Ff(this._rawValidators,t)}hasAsyncValidator(t){return Ff(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Lu,this.errors=null,this._forEachChild(i=>{i.disable(Ta(ut({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ta(ut({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ku,this._forEachChild(i=>{i.enable(Ta(ut({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ta(ut({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ku||this.status===Xl)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lu:ku}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xl,this._hasOwnPendingAsyncValidator=!0;const e=DA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof Nu?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof c_&&i.at(r)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ct,this.statusChanges=new Ct}_calculateStatus(){return this._allControlsDisabled()?Lu:this.errors?Hf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xl)?Xl:this._anyControlsHaveStatus(Hf)?Hf:ku}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){a_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ba extends l_{constructor(t=null,e,i){super(s_(e),o_(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Vf(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Vf(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Nu extends l_{constructor(t,e,i){super(s_(e),o_(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof ba?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class c_ extends l_{constructor(t,e,i){super(s_(e),o_(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ba?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Rq={provide:Bi,useExisting:Je(()=>Vu)},Bu=(()=>Promise.resolve(null))();let Vu=(()=>{class n extends Bi{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ct,this.form=new Nu({},Zv(e),Yv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Bu.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Pu(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Bu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),Vf(this._directives,e)})}addFormGroup(e){Bu.then(()=>{const i=this._findContainer(e.path),r=new Nu({});VA(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Bu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Bu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,HA(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(I(Si,10),I(Ao,10))},n.\u0275dir=Ce({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&Xe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qt([Rq]),Ae]}),n})();const Fq={provide:Qs,useExisting:Je(()=>u_)},WA=(()=>Promise.resolve(null))();let u_=(()=>{class n extends Qs{constructor(e,i,r,s){super(),this.control=new ba,this._registered=!1,this.update=new Ct,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=r_(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),i_(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?kf(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){WA.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;WA.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(I(Bi,9),I(Si,10),I(Ao,10),I(Pr,10))},n.\u0275dir=Ce({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qt([Fq]),Ae,Gn]}),n})(),d_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ce({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Pq={provide:Pr,useExisting:Je(()=>h_),multi:!0};let h_=(()=>{class n extends _a{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275dir=Ce({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Xe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[qt([Pq]),Ae]}),n})(),qA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({}),n})();const f_=new ke("NgModelWithFormControlWarning"),Vq={provide:Bi,useExisting:Je(()=>Hu)};let Hu=(()=>{class n extends Bi{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ct,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Pu(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Lf(e.control||null,e,!1),Vf(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,HA(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Lf(i||null,e),r instanceof ba&&(Pu(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);VA(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return Bf(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){n_(this.form,this),this._oldForm&&Bf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(I(Si,10),I(Ao,10))},n.\u0275dir=Ce({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Xe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qt([Vq]),Ae,Gn]}),n})();const zq={provide:Qs,useExisting:Je(()=>g_)};let g_=(()=>{class n extends Qs{constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ct,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=r_(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),i_(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return kf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(I(Bi,13),I(Si,10),I(Ao,10),I(Pr,10),I(f_,8))},n.\u0275dir=Ce({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[qt([zq]),Ae,Gn]}),n})();let Gf=(()=>{class n{constructor(){this._validator=Fu}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(i):Fu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(){return null!=this[this.inputName]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ce({type:n}),n})();const Yq={provide:Si,useExisting:Je(()=>__),multi:!0};let __=(()=>{class n extends Gf{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>gA(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275dir=Ce({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&$e("min",i.enabled()?i.min:null)},inputs:{min:"min"},features:[qt([Yq]),Ae,Gn]}),n})(),l1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[qA]]}),n})(),c1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[l1]}),n})(),w_=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:f_,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[l1]}),n})(),rK=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let a,s=null,o=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,o=null!=i.asyncValidators?i.asyncValidators:null,a=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,o=null!=i.asyncValidator?i.asyncValidator:null)),new Nu(r,{asyncValidators:o,updateOn:a,validators:s})}control(e,i,r){return new ba(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new c_(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof ba||e instanceof Nu||e instanceof c_?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:w_}),n})();function Io(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function y1(n){return t=>t.lift(new gK(n))}class gK{constructor(t){this.total=t}call(t,e){return e.subscribe(new yK(t,this.total))}}class yK extends _{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function Xi(n,t){return e=>e.lift(new vK(n,t))}class vK{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new _K(t,this.compare,this.keySelector))}}class _K extends _{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}let v1=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bK=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Gs(e);return new B(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new R,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(se(v1))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_1=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new Ct,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Zt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=qi(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Pl(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null==(e=this._currentSubscription)||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(I(bK),I(Be),I(mt))},n.\u0275dir=Ce({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),D_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[v1]}),n})();function zf(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const w1="cdk-describedby-message-container",C1="cdk-describedby-message",jf="cdk-describedby-host";let xK=0;const Cs=new Map;let mr=null,EK=(()=>{class n{constructor(e){this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=S_(i,r);"string"!=typeof i?(x1(i),Cs.set(s,{messageElement:i,referenceCount:0})):Cs.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=S_(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const o=Cs.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}mr&&0===mr.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${jf}]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(jf);mr&&this._deleteMessagesContainer(),Cs.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");x1(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),mr.appendChild(r),Cs.set(S_(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){var r;const i=Cs.get(e);null==(r=null==i?void 0:i.messageElement)||r.remove(),Cs.delete(e)}_createMessagesContainer(){if(!mr){const e=this._document.getElementById(w1);null==e||e.remove(),mr=this._document.createElement("div"),mr.id=w1,mr.style.visibility="hidden",mr.classList.add("cdk-visually-hidden"),this._document.body.appendChild(mr)}}_deleteMessagesContainer(){mr&&(mr.remove(),mr=null)}_removeCdkDescribedByReferenceIds(e){const i=zf(e,"aria-describedby").filter(r=>0!=r.indexOf(C1));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=Cs.get(i);(function(n,t,e){const i=zf(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(jf,""),r.referenceCount++}_removeMessageReference(e,i){const r=Cs.get(i);r.referenceCount--,function(n,t,e){const r=zf(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(jf)}_isElementDescribedByMessage(e,i){const r=zf(e,"aria-describedby"),s=Cs.get(i),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function S_(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function x1(n){n.id||(n.id=`${C1}-${xK++}`)}class E1 extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new R,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new R,this.change=new R,t instanceof mo&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Fl(e=>this._pressedLetters.push(e)),Pl(t),Vn(()=>this._pressedLetters.length>0),Yt(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Io(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof mo?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let T_=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===S1(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=S1(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||D1(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(se(Cn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D1(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function S1(n){if(!D1(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class LK{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(hn(1)).subscribe(t)}}let T1=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new LK(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(se(T_),se(mt),se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function M1(n){return 0===n.offsetX&&0===n.offsetY}function A1(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const NK=new ke("cdk-input-modality-detector-options"),BK={ignoreKeys:[18,17,224,91,16]},Zl=la({passive:!0,capture:!0});let VK=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new ui(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,c;(null==(c=null==(a=this._options)?void 0:a.ignoreKeys)?void 0:c.some(u=>u===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ua(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(M1(o)?"keyboard":"mouse"),this._mostRecentTarget=ua(o))},this._onTouchstart=o=>{A1(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ua(o))},this._options=ut(ut({},BK),s),this.modalityDetected=this._modality.pipe(y1(1)),this.modalityChanged=this.modalityDetected.pipe(Xi()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Zl),r.addEventListener("mousedown",this._onMousedown,Zl),r.addEventListener("touchstart",this._onTouchstart,Zl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Zl),document.removeEventListener("mousedown",this._onMousedown,Zl),document.removeEventListener("touchstart",this._onTouchstart,Zl))}}return n.\u0275fac=function(e){return new(e||n)(se(Cn),se(mt),se(pt),se(NK,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HK=new ke("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),zK=new ke("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let jK=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(a=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,a(),"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e;clearTimeout(this._previousTimeout),null==(e=this._liveElement)||e.remove(),this._liveElement=null}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(se(HK,8),se(mt),se(pt),se(zK,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UK=new ke("cdk-focus-monitor-default-options"),Uf=la({passive:!0,capture:!0});let wa=(()=>{class n{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new R,this._rootNodeFocusAndBlurListener=a=>{const c=ua(a),u="focus"===a.type?this._onFocus:this._onBlur;for(let p=c;p;p=p.parentElement)u.call(this,a,p)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(e,i=!1){const r=Gs(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ki(null);const s=hS(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new R,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Gs(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Gs(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=ua(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Uf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Uf)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ot(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Uf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Uf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(se(mt),se(Cn),se(VK),se(pt,8),se(UK,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WK=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new Ct}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(wa))},n.\u0275dir=Ce({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const R1="cdk-high-contrast-black-on-white",O1="cdk-high-contrast-white-on-black",M_="cdk-high-contrast-active";let F1=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(M_),e.remove(R1),e.remove(O1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(M_),e.add(R1)):2===i&&(e.add(M_),e.add(O1))}}}return n.\u0275fac=function(e){return new(e||n)(se(Cn),se(pt))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P1=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(se(F1))},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[uu,D_]]}),n})();const k1=new ks("13.0.2");function A_(...n){return H(1)(Ki(...n))}function is(...n){const t=n[n.length-1];return X(t)?(n.pop(),e=>A_(n,e,t)):e=>A_(n,e)}const L1=new ks("13.0.2"),XK=new ke("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ut=(()=>{class n{constructor(e,i,r){this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!Ag()||Iy())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&L1.full!==k1.full&&console.warn("The Angular Material version ("+L1.full+") does not match the Angular CDK version ("+k1.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(se(F1),se(XK,8),se(pt))},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Al],Al]}),n})();function Wf(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Zt(t)}}}function Ro(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function qf(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Zt(t)}}}function ZK(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?qi(e):this.defaultTabIndex}}}function YK(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new R,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}let JK=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.dirty||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),I_=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ut],Ut]}),n})();class tX{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const B1={enterDuration:225,exitDuration:150},R_=la({passive:!0}),V1=["mousedown","touchstart"],H1=["mouseup","mouseleave","touchend","touchcancel"];class iX{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Gs(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=ut(ut({},B1),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,c=e-r.top,u=s.enterDuration,p=document.createElement("div");p.classList.add("mat-ripple-element"),p.style.left=a-o+"px",p.style.top=c-o+"px",p.style.height=2*o+"px",p.style.width=2*o+"px",null!=i.color&&(p.style.backgroundColor=i.color),p.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(p),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(p),p.style.transform="scale(1)";const x=new tX(this,p,i);return x.state=0,this._activeRipples.add(x),i.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const A=x===this._mostRecentTransientRipple;x.state=1,!i.persistent&&(!A||!this._isPointerDown)&&x.fadeOut()},u),x}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=ut(ut({},B1),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Gs(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(V1))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(H1),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=M1(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!A1(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,R_)})})}_removeTriggerEvents(){this._triggerElement&&(V1.forEach(t=>{this._triggerElement.removeEventListener(t,this,R_)}),this._pointerUpEventsRegistered&&H1.forEach(t=>{this._triggerElement.removeEventListener(t,this,R_)}))}}const oX=new ke("mat-ripple-global-options");let zu=(()=>{class n{constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new iX(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:ut(ut(ut({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,ut(ut({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,ut(ut({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(mt),I(Cn),I(oX,8),I(pi,8))},n.\u0275dir=Ce({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&Vt("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),O_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ut,uu],Ut]}),n})(),G1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ut]]}),n})();const lX=["mat-button",""],cX=["*"],dX=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],hX=Ro(Wf(qf(class{constructor(n){this._elementRef=n}})));let xs=(()=>{class n extends hX{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of dX)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(wa),I(pi,8))},n.\u0275cmp=Mt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&Kt(zu,5),2&e){let r;ht(r=ft())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&($e("disabled",i.disabled||null),Vt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ae],attrs:lX,ngContentSelectors:cX,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(Er(),ie(0,"span",0),Dn(1),re(),ze(2,"span",1),ze(3,"span",2)),2&e&&(ue(2),Vt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),de("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[zu],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),z1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[O_,Ut],Ut]}),n})(),fX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ut],Ut]}),n})();function mX(n,t){}class F_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const gX={dialogContainer:Ks("dialogContainer",[hi("void, exit",tn({opacity:0,transform:"scale(0.7)"})),hi("enter",tn({transform:"none"})),fi("* => enter",di("150ms cubic-bezier(0, 0, 0.2, 1)",tn({transform:"none",opacity:1}))),fi("* => void, * => exit",di("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",tn({opacity:0})))])};let yX=(()=>{class n extends Bh{constructor(e,i,r,s,o,a,c,u){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=o,this._interactivityChecker=a,this._ngZone=c,this._focusMonitor=u,this._animationStateChanged=new Ct,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=p=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(p)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Ay(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Ay())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Ay();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(T1),I(Jt),I(pt,8),I(F_),I(T_),I(mt),I(wa))},n.\u0275dir=Ce({type:n,viewQuery:function(e,i){if(1&e&&Kt(da,7),2&e){let r;ht(r=ft())&&(i._portalOutlet=r.first)}},features:[Ae]}),n})(),vX=(()=>{class n extends yX{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=at(n)))(i||n)}}(),n.\u0275cmp=Mt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&Oc("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(fl("id",i._id),$e("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),po("@dialogContainer",i._state))},features:[Ae],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&Le(0,mX,0,0,"ng-template",0)},directives:[da],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[gX.dialogContainer]}}),n})(),_X=0;class Yl{constructor(t,e,i="mat-dialog-"+_X++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new R,this._afterClosed=new R,this._beforeClosed=new R,this._state=0,e._id=i,e._animationStateChanged.pipe(Vn(r=>"opened"===r.state),hn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Vn(r=>"closed"===r.state),hn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Vn(r=>27===r.keyCode&&!this.disableClose&&!Io(r))).subscribe(r=>{r.preventDefault(),P_(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():P_(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Vn(e=>"closing"===e.state),hn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function P_(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const bX=new ke("MatDialogData"),wX=new ke("mat-dialog-default-options"),j1=new ke("mat-dialog-scroll-strategy"),xX={provide:j1,deps:[fa],useFactory:function(n){return()=>n.scrollStrategies.block()}};let EX=(()=>{class n{constructor(e,i,r,s,o,a,c,u,p,x){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=c,this._dialogContainerType=u,this._dialogDataToken=p,this._animationMode=x,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new R,this._afterOpenedAtThisLevel=new R,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=function(n){return new B(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?In(e):Oy()).subscribe(t)})}(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(is(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){if(i=function(n,t){return ut(ut({},t),n)}(i,this._defaultOptions||new F_),i.id&&this.getDialogById(i.id),this._dialogAnimatingOpen)return this._lastDialogRef;const r=this._createOverlay(i),s=this._attachDialogContainer(r,i);if("NoopAnimations"!==this._animationMode){const a=s._animationStateChanged.subscribe(c=>{"opening"===c.state&&(this._dialogAnimatingOpen=!0),"opened"===c.state&&(this._dialogAnimatingOpen=!1,a.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new h),this._animationStateSubscriptions.add(a)}const o=this._attachDialogContent(e,s,r,i);return this._lastDialogRef=o,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Py({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=jt.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:F_,useValue:i}]}),o=new Rl(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(o).instance}_attachDialogContent(e,i,r,s){const o=new this._dialogRefConstructor(r,i,s.id);if(e instanceof ar)i.attachTemplatePortal(new Nh(e,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,i),c=i.attachComponentPortal(new Rl(e,s.viewContainerRef,a));o.componentInstance=c.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(Ni,null,yt.Optional))&&o.push({provide:Ni,useValue:{value:e.direction,change:Ki()}}),jt.create({parent:s||this._injector,providers:o})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){qm()},n.\u0275dir=Ce({type:n}),n})(),Oo=(()=>{class n extends EX{constructor(e,i,r,s,o,a,c,u){super(e,i,s,a,c,o,Yl,vX,bX,u)}}return n.\u0275fac=function(e){return new(e||n)(se(fa),se(jt),se(sy,8),se(wX,8),se(j1),se(n,12),se(pu),se(pi,8))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),SX=0,ju=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=U1(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){P_(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(I(Yl,8),I(Be),I(Oo))},n.\u0275dir=Ce({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&Xe("click",function(s){return i._onButtonClick(s)}),2&e&&$e("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Gn]}),n})(),Kf=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+SX++}ngOnInit(){this._dialogRef||(this._dialogRef=U1(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(I(Yl,8),I(Be),I(Oo))},n.\u0275dir=Ce({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&fl("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),k_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ce({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})();function U1(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let TX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[Oo,xX],imports:[[ky,Vh,Ut],Ut]}),n})();function W1(n){return function(e){const i=new MX(n),r=e.lift(i);return i.caught=r}}class MX{constructor(t){this.selector=t}call(t,e){return e.subscribe(new AX(t,this.selector,this.caught))}}class AX extends ri{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new le(this,void 0,void 0);this.add(i);const r=_n(this,e,void 0,void 0,i);r!==i&&this.add(r)}}}function Xf(n){return t=>t.lift(new IX(n))}class IX{constructor(t){this.callback=t}call(t,e){return e.subscribe(new RX(t,this.callback))}}class RX extends _{constructor(t,e){super(t),this.add(new h(e))}}const OX=["*"];let Zf;function Uu(n){var t;return(null==(t=function(){if(void 0===Zf&&(Zf=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Zf=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Zf}())?void 0:t.createHTML(n))||n}function q1(n){return Error(`Unable to find icon with the name "${n}"`)}function K1(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function X1(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ca{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Yf=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Ca(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const o=this._sanitizer.sanitize(Xt.HTML,r);if(!o)throw X1(r);const a=Uu(o);return this._addSvgIconConfig(e,i,new Ca("",a,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Ca(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(Xt.HTML,i);if(!s)throw X1(i);const o=Uu(s);return this._addSvgIconSetConfig(e,new Ca("",o,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Xt.RESOURCE_URL,e);if(!i)throw K1(e);const r=this._cachedIconsByUrl.get(i);return r?Ki(Qf(r)):this._loadSvgIconFromConfig(new Ca(e,null)).pipe(Fl(s=>this._cachedIconsByUrl.set(i,s)),Yt(s=>Qf(s)))}getNamedSvgIcon(e,i=""){const r=Z1(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(e,o):zy(q1(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ki(Qf(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Yt(i=>Qf(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Ki(r):Xv(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(W1(a=>{const u=`Loading icon set URL: ${this._sanitizer.sanitize(Xt.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(u)),Ki(null)})))).pipe(Yt(()=>{const o=this._extractIconWithNameFromAnySet(e,i);if(!o)throw q1(e);return o}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,e,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Fl(i=>e.svgText=i),Yt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ki(null):this._fetchIcon(e).pipe(Fl(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(Uu("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Uu("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var u;const{url:i,options:r}=e,s=null!=(u=null==r?void 0:r.withCredentials)&&u;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(Xt.RESOURCE_URL,i);if(!o)throw K1(i);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Yt(p=>Uu(p)),Xf(()=>this._inProgressUrlFetches.delete(o)),O());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(Z1(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return LX(s)?new Ca(s.url,null,s.options):new Ca(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(se(Ol,8),se(aa),se(pt,8),se(us))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qf(n){return n.cloneNode(!0)}function Z1(n,t){return n+":"+t}function LX(n){return!(!n.url||!n.options)}const NX=Ro(class{constructor(n){this._elementRef=n}}),BX=new ke("mat-icon-location",{providedIn:"root",factory:function(){const n=Wa(pt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Y1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],HX=Y1.map(n=>`[${n}]`).join(", "),GX=/^url\(['"]?#(.*?)['"]?\)$/;let Fo=(()=>{class n extends NX{constructor(e,i,r,s,o){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=h.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Zt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(HX),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Y1.forEach(o=>{const a=i[s],c=a.getAttribute(o),u=c?c.match(GX):null;if(u){let p=r.get(a);p||(p=[],r.set(a,p)),p.push({name:o,value:u[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(hn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Yf),zo("aria-hidden"),I(BX),I(us))},n.\u0275cmp=Mt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&($e("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Vt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ae],ngContentSelectors:OX,decls:1,vars:0,template:function(e,i){1&e&&(Er(),Dn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),zX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ut],Ut]}),n})();const Q1=la({passive:!0});let jX=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return mS;const i=Gs(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new R,o="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,Q1),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,Q1)}}),s}stopMonitoring(e){const i=Gs(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(se(Cn),se(mt))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[uu]]}),n})();const UX=["connectionContainer"],WX=["inputContainer"],qX=["label"];function KX(n,t){1&n&&($n(0),ie(1,"div",14),ze(2,"div",15),ze(3,"div",16),ze(4,"div",17),re(),ie(5,"div",18),ze(6,"div",15),ze(7,"div",16),ze(8,"div",17),re(),ei())}function XX(n,t){if(1&n){const e=wn();ie(0,"div",19),Xe("cdkObserveContent",function(){return en(e),Fe().updateOutlineGap()}),Dn(1,1),re()}2&n&&de("cdkObserveContentDisabled","outline"!=Fe().appearance)}function ZX(n,t){if(1&n&&($n(0),Dn(1,2),ie(2,"span"),Ke(3),re(),ei()),2&n){const e=Fe(2);ue(3),Qt(e._control.placeholder)}}function YX(n,t){1&n&&Dn(0,3,["*ngSwitchCase","true"])}function QX(n,t){1&n&&(ie(0,"span",23),Ke(1," *"),re())}function JX(n,t){if(1&n){const e=wn();ie(0,"label",20,21),Xe("cdkObserveContent",function(){return en(e),Fe().updateOutlineGap()}),Le(2,ZX,4,1,"ng-container",12),Le(3,YX,1,0,"ng-content",12),Le(4,QX,2,0,"span",22),re()}if(2&n){const e=Fe();Vt("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),de("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),$e("for",e._control.id)("aria-owns",e._control.id),ue(2),de("ngSwitchCase",!1),ue(1),de("ngSwitchCase",!0),ue(1),de("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function $X(n,t){1&n&&(ie(0,"div",24),Dn(1,4),re())}function eZ(n,t){if(1&n&&(ie(0,"div",25),ze(1,"span",26),re()),2&n){const e=Fe();ue(1),Vt("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function tZ(n,t){1&n&&(ie(0,"div"),Dn(1,5),re()),2&n&&de("@transitionMessages",Fe()._subscriptAnimationState)}function nZ(n,t){if(1&n&&(ie(0,"div",30),Ke(1),re()),2&n){const e=Fe(2);de("id",e._hintLabelId),ue(1),Qt(e.hintLabel)}}function iZ(n,t){if(1&n&&(ie(0,"div",27),Le(1,nZ,2,2,"div",28),Dn(2,6),ze(3,"div",29),Dn(4,7),re()),2&n){const e=Fe();de("@transitionMessages",e._subscriptAnimationState),ue(1),de("ngIf",e.hintLabel)}}const rZ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],sZ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let oZ=0;const $1=new ke("MatError");let aZ=(()=>{class n{constructor(e,i){this.id="mat-error-"+oZ++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(zo("aria-live"),I(Be))},n.\u0275dir=Ce({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&$e("id",i.id)},inputs:{id:"id"},features:[qt([{provide:$1,useExisting:n}])]}),n})();const lZ={transitionMessages:Ks("transitionMessages",[hi("enter",tn({opacity:1,transform:"translateY(0%)"})),fi("void => enter",[tn({opacity:0,transform:"translateY(-5px)"}),di("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let L_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ce({type:n}),n})();const cZ=new ke("MatHint");let eI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ce({type:n,selectors:[["mat-label"]]}),n})(),uZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ce({type:n,selectors:[["mat-placeholder"]]}),n})();const tI=new ke("MatPrefix");let dZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ce({type:n,selectors:[["","matPrefix",""]],features:[qt([{provide:tI,useExisting:n}])]}),n})();const nI=new ke("MatSuffix");let hZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ce({type:n,selectors:[["","matSuffix",""]],features:[qt([{provide:nI,useExisting:n}])]}),n})(),iI=0;const pZ=Ro(class{constructor(n){this._elementRef=n}},"primary"),mZ=new ke("MAT_FORM_FIELD_DEFAULT_OPTIONS"),sI=new ke("MatFormField");let oI=(()=>{class n extends pZ{constructor(e,i,r,s,o,a,c){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new R,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+iI++,this._labelId="mat-form-field-label-"+iI++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==c,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Zt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(is(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ot(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ot(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),ce(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(is(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(is(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ot(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,zs(this._label.nativeElement,"transitionend").pipe(hn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,r=0;const s=this._connectionContainerRef.nativeElement,o=s.querySelectorAll(".mat-form-field-outline-start"),a=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const c=s.getBoundingClientRect();if(0===c.width&&0===c.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const u=this._getStartEnd(c),p=e.children,x=this._getStartEnd(p[0].getBoundingClientRect());let A=0;for(let k=0;k<p.length;k++)A+=p[k].offsetWidth;i=Math.abs(x-u)-5,r=A>0?.75*A+10:0}for(let c=0;c<o.length;c++)o[c].style.width=`${i}px`;for(let c=0;c<a.length;c++)a[c].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Jt),I(Ni,8),I(mZ,8),I(Cn),I(mt),I(pi,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(Nn(r,L_,5),Nn(r,L_,7),Nn(r,eI,5),Nn(r,eI,7),Nn(r,uZ,5),Nn(r,$1,5),Nn(r,cZ,5),Nn(r,tI,5),Nn(r,nI,5)),2&e){let s;ht(s=ft())&&(i._controlNonStatic=s.first),ht(s=ft())&&(i._controlStatic=s.first),ht(s=ft())&&(i._labelChildNonStatic=s.first),ht(s=ft())&&(i._labelChildStatic=s.first),ht(s=ft())&&(i._placeholderChild=s.first),ht(s=ft())&&(i._errorChildren=s),ht(s=ft())&&(i._hintChildren=s),ht(s=ft())&&(i._prefixChildren=s),ht(s=ft())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(Kt(UX,7),Kt(WX,5),Kt(qX,5)),2&e){let r;ht(r=ft())&&(i._connectionContainerRef=r.first),ht(r=ft())&&(i._inputContainerRef=r.first),ht(r=ft())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&Vt("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[qt([{provide:sI,useExisting:n}]),Ae],ngContentSelectors:sZ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(Er(rZ),ie(0,"div",0),ie(1,"div",1,2),Xe("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),Le(3,KX,9,0,"ng-container",3),Le(4,XX,2,1,"div",4),ie(5,"div",5,6),Dn(7),ie(8,"span",7),Le(9,JX,5,16,"label",8),re(),re(),Le(10,$X,2,0,"div",9),re(),Le(11,eZ,2,4,"div",10),ie(12,"div",11),Le(13,tZ,2,1,"div",12),Le(14,iZ,5,2,"div",13),re(),re()),2&e&&(ue(3),de("ngIf","outline"==i.appearance),ue(1),de("ngIf",i._prefixChildren.length),ue(5),de("ngIf",i._hasFloatingLabel()),ue(1),de("ngIf",i._suffixChildren.length),ue(1),de("ngIf","outline"!=i.appearance),ue(1),de("ngSwitch",i._getDisplayedMessages()),ue(1),de("ngSwitchCase","error"),ue(1),de("ngSwitchCase","hint"))},directives:[ci,Vs,sa,_1],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[lZ.transitionMessages]},changeDetection:0}),n})(),aI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ir,Ut,D_],Ut]}),n})();const gZ=new ke("MAT_INPUT_VALUE_ACCESSOR"),yZ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let vZ=0;const _Z=YK(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let lI=(()=>{class n extends _Z{constructor(e,i,r,s,o,a,c,u,p,x){super(a,s,o,r),this._elementRef=e,this._platform=i,this._autofillMonitor=u,this._formField=x,this._uid="mat-input-"+vZ++,this.focused=!1,this.stateChanges=new R,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(G=>uS().has(G));const A=this._elementRef.nativeElement,k=A.nodeName.toLowerCase();this._inputValueAccessor=c||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&p.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",G=>{const ne=G.target;!ne.value&&0===ne.selectionStart&&0===ne.selectionEnd&&(ne.setSelectionRange(1,1),ne.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===k,this._isTextarea="textarea"===k,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Zt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!=(s=null!=(r=this._required)?r:null==(i=null==(e=this.ngControl)?void 0:e.control)?void 0:i.hasValidator(Of.required))&&s}set required(e){this._required=Zt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&uS().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Zt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var i,r;const e=(null==(r=null==(i=this._formField)?void 0:i._hideControlPlaceholder)?void 0:r.call(i))?null:this.placeholder;if(e!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=e,e?s.setAttribute("placeholder",e):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){yZ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Cn),I(Qs,10),I(Vu,8),I(Hu,8),I(I_),I(gZ,10),I(jX),I(mt),I(sI,8))},n.\u0275dir=Ce({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,i){1&e&&Xe("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(fl("disabled",i.disabled)("required",i.required),$e("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),Vt("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[qt([{provide:L_,useExisting:n}]),Ae,Gn]}),n})(),bZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[I_],imports:[[J1,aI,Ut],J1,aI]}),n})(),wZ=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Zt(e)}get inset(){return this._inset}set inset(e){this._inset=Zt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Mt({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&($e("aria-orientation",i.vertical?"vertical":"horizontal"),Vt("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),CZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ut],Ut]}),n})(),LZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[N1,O_,Ut,G1,Ir],N1,Ut,G1,CZ]}),n})();const NZ=["primaryValueBar"],BZ=Ro(class{constructor(n){this._elementRef=n}},"primary"),VZ=new ke("mat-progress-bar-location",{providedIn:"root",factory:function(){const n=Wa(pt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),GZ=new ke("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let zZ=0,jZ=(()=>{class n extends BZ{constructor(e,i,r,s,o){super(e),this._ngZone=i,this._animationMode=r,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new Ct,this._animationEndSubscription=h.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+zZ++;const a=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${a}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,o&&(o.color&&(this.color=this.defaultColor=o.color),this.mode=o.mode||this.mode)}get value(){return this._value}set value(e){this._value=dI(qi(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=dI(e||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=zs(e,"transitionend").pipe(Vn(i=>i.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(mt),I(pi,8),I(VZ,8),I(GZ,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&Kt(NZ,5),2&e){let r;ht(r=ft())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&($e("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),Vt("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[Ae],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(ie(0,"div",0),os(),ie(1,"svg",1),ie(2,"defs"),ie(3,"pattern",2),ze(4,"circle",3),re(),re(),ze(5,"rect",4),re(),xt.lFrame.currentNamespace=null,ze(6,"div",5),ze(7,"div",6,7),ze(9,"div",8),re()),2&e&&(ue(3),de("id",i.progressbarId),ue(2),$e("fill",i._rectangleFillValue),ue(1),de("ngStyle",i._bufferTransform()),ue(1),de("ngStyle",i._primaryTransform()))},directives:[Hs],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function dI(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let UZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ir,Ut],Ut]}),n})();function WZ(n,t){if(1&n&&(os(),ze(0,"circle",3)),2&n){const e=Fe();Dr("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),$e("r",e._getCircleRadius())}}function qZ(n,t){if(1&n&&(os(),ze(0,"circle",3)),2&n){const e=Fe();Dr("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),$e("r",e._getCircleRadius())}}function KZ(n,t){if(1&n&&(os(),ze(0,"circle",3)),2&n){const e=Fe();Dr("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),$e("r",e._getCircleRadius())}}function XZ(n,t){if(1&n&&(os(),ze(0,"circle",3)),2&n){const e=Fe();Dr("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),$e("r",e._getCircleRadius())}}const QZ=Ro(class{constructor(n){this._elementRef=n}},"primary"),hI=new ke("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Js extends QZ{constructor(t,e,i,r,s){super(t),this._document=i,this._diameter=100,this._value=0,this.mode="determinate";const o=Js._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(i.head)||o.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=qi(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=qi(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,qi(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=hS(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Js._diameters;let r=i.get(t);if(!r||!r.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Js._diameters=new WeakMap,Js.\u0275fac=function(t){return new(t||Js)(I(Be),I(Cn),I(pt,8),I(pi,8),I(hI))},Js.\u0275cmp=Mt({type:Js,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&($e("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),Dr("width",e.diameter,"px")("height",e.diameter,"px"),Vt("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[Ae],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(os(),ie(0,"svg",0),Le(1,WZ,1,9,"circle",1),Le(2,qZ,1,7,"circle",2),re()),2&t&&(Dr("width",e.diameter,"px")("height",e.diameter,"px"),de("ngSwitch","indeterminate"===e.mode),$e("viewBox",e._getViewBox()),ue(1),de("ngSwitchCase",!0),ue(1),de("ngSwitchCase",!1))},directives:[Vs,sa],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let eY=(()=>{class n extends Js{constructor(e,i,r,s,o){super(e,i,r,s,o),this.mode="indeterminate"}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Cn),I(pt,8),I(pi,8),I(hI))},n.\u0275cmp=Mt({type:n,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(e,i){2&e&&(Dr("width",i.diameter,"px")("height",i.diameter,"px"),Vt("_mat-animation-noopable",i._noopAnimations))},inputs:{color:"color"},features:[Ae],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,i){1&e&&(os(),ie(0,"svg",0),Le(1,KZ,1,9,"circle",1),Le(2,XZ,1,7,"circle",2),re()),2&e&&(Dr("width",i.diameter,"px")("height",i.diameter,"px"),de("ngSwitch","indeterminate"===i.mode),$e("viewBox",i._getViewBox()),ue(1),de("ngSwitchCase",!0),ue(1),de("ngSwitchCase",!1))},directives:[Vs,sa],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),n})(),tY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ut,Ir],Ut]}),n})();function fI(n){return t=>t.lift(new nY(n))}class nY{constructor(t){this.value=t}call(t,e){return e.subscribe(new iY(t,this.value))}}class iY extends _{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const pI=["*"];function rY(n,t){if(1&n){const e=wn();ie(0,"div",2),Xe("click",function(){return en(e),Fe()._onBackdropClicked()}),re()}2&n&&Vt("mat-drawer-shown",Fe()._isShowingBackdrop())}function sY(n,t){1&n&&(ie(0,"mat-drawer-content"),Dn(1,2),re())}const oY=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],aY=["mat-drawer","mat-drawer-content","*"],lY={transformDrawer:Ks("transform",[hi("open, open-instant",tn({transform:"none",visibility:"visible"})),hi("void",tn({"box-shadow":"none",visibility:"hidden"})),fi("void => open-instant",di("0ms")),fi("void <=> open, open-instant => void",di("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},cY=new ke("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),mI=new ke("MAT_DRAWER_CONTAINER");let Jf=(()=>{class n extends fS{constructor(e,i,r,s,o){super(r,s,o),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(I(Jt),I(Je(()=>yI)),I(Be),I(Lh),I(mt))},n.\u0275cmp=Mt({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&Dr("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[Ae],ngContentSelectors:pI,decls:1,vars:0,template:function(e,i){1&e&&(Er(),Dn(0))},encapsulation:2,changeDetection:0}),n})(),gI=(()=>{class n{constructor(e,i,r,s,o,a,c,u){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=a,this._doc=c,this._container=u,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new R,this._animationEnd=new R,this._animationState="void",this.openedChange=new Ct(!0),this._openedStream=this.openedChange.pipe(Vn(p=>p),Yt(()=>{})),this.openedStart=this._animationStarted.pipe(Vn(p=>p.fromState!==p.toState&&0===p.toState.indexOf("open")),fI(void 0)),this._closedStream=this.openedChange.pipe(Vn(p=>!p),Yt(()=>{})),this.closedStart=this._animationStarted.pipe(Vn(p=>p.fromState!==p.toState&&"void"===p.toState),fI(void 0)),this._destroyed=new R,this.onPositionChanged=new Ct,this._modeChanged=new R,this.openedChange.subscribe(p=>{p?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{zs(this._elementRef.nativeElement,"keydown").pipe(Vn(p=>27===p.keyCode&&!this.disableClose&&!Io(p)),Ot(this._destroyed)).subscribe(p=>this._ngZone.run(()=>{this.close(),p.stopPropagation(),p.preventDefault()}))}),this._animationEnd.pipe(Xi((p,x)=>p.fromState===x.fromState&&p.toState===x.toState)).subscribe(p=>{const{fromState:x,toState:A}=p;(0===A.indexOf("open")&&"void"===x||"void"===A&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Zt(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e)&&(e=Zt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Zt(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var i;const e=null==(i=this._doc)?void 0:i.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(hn(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(T1),I(wa),I(Cn),I(mt),I(T_),I(pt,8),I(mI,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&Oc("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&($e("align",null),po("@transform",i._animationState),Vt("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:pI,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(Er(),ie(0,"div",0),Dn(1),re())},directives:[fS],encapsulation:2,data:{animation:[lY.transformDrawer]},changeDetection:0}),n})(),yI=(()=>{class n{constructor(e,i,r,s,o,a=!1,c){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=c,this._drawers=new mo,this.backdropClick=new Ct,this._destroyed=new R,this._doCheckSubject=new R,this._contentMargins={left:null,right:null},this._contentMarginChanges=new R,e&&e.change.pipe(Ot(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Ot(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Zt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Zt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(is(this._allDrawers),Ot(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(is(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Pl(10),Ot(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Vn(i=>i.fromState!==i.toState),Ot(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Ot(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Ot(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(hn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Ot(ce(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(I(Ni,8),I(Be),I(mt),I(Jt),I(Il),I(cY),I(pi,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(Nn(r,Jf,5),Nn(r,gI,5)),2&e){let s;ht(s=ft())&&(i._content=s.first),ht(s=ft())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&Kt(Jf,5),2&e){let r;ht(r=ft())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&Vt("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[qt([{provide:mI,useExisting:n}])],ngContentSelectors:aY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(Er(oY),Le(0,rY,1,2,"div",0),Dn(1),Dn(2,1),Le(3,sY,2,0,"mat-drawer-content",1)),2&e&&(de("ngIf",i.hasBackdrop),ue(3),de("ngIf",!i._content))},directives:[ci,Jf],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),n})(),dY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ir,Ut,uu,fu],fu,Ut]}),n})();const hY=["sliderWrapper"],kr=la({passive:!1}),yY={provide:Pr,useExisting:Je(()=>vI),multi:!0};class vY{}const _Y=ZK(Ro(Wf(class{constructor(n){this._elementRef=n}}),"accent"));let vI=(()=>{class n extends _Y{constructor(e,i,r,s,o,a,c,u){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this._dir=s,this._ngZone=a,this._animationMode=u,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new Ct,this.input=new Ct,this.valueChange=new Ct,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=h.EMPTY,this._pointerDown=p=>{this.disabled||this._isSliding||!Wu(p)&&0!==p.button||this._ngZone.run(()=>{this._touchId=Wu(p)?function(n,t){for(let e=0;e<n.touches.length;e++){const i=n.touches[e].target;if(t===i||t.contains(i))return n.touches[e].identifier}}(p,this._elementRef.nativeElement):void 0;const x=_I(p,this._touchId);if(x){const A=this.value;this._isSliding="pointer",this._lastPointerEvent=p,p.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(p),this._focusHostElement(),this._updateValueFromPosition(x),this._valueOnSlideStart=A,A!=this.value&&this._emitInputEvent()}})},this._pointerMove=p=>{if("pointer"===this._isSliding){const x=_I(p,this._touchId);if(x){p.preventDefault();const A=this.value;this._lastPointerEvent=p,this._updateValueFromPosition(x),A!=this.value&&this._emitInputEvent()}}},this._pointerUp=p=>{"pointer"===this._isSliding&&(!Wu(p)||"number"!=typeof this._touchId||B_(p.changedTouches,this._touchId))&&(p.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=c,this.tabIndex=parseInt(o)||0,a.runOutsideAngular(()=>{const p=e.nativeElement;p.addEventListener("mousedown",this._pointerDown,kr),p.addEventListener("touchstart",this._pointerDown,kr)})}get invert(){return this._invert}set invert(e){this._invert=Zt(e)}get max(){return this._max}set max(e){this._max=qi(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=qi(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=qi(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=Zt(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?qi(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let i=qi(e,0);this._roundToDecimal&&i!==this.min&&i!==this.max&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=Zt(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const i=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${i})`}}_getTrackFillStyles(){const e=this.percent,r=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${r})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,a={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const c=this._shouldInvertAxis();let u;u=this.vertical?c?"Bottom":"Top":c?"Right":"Left",a[`padding${u}`]=`${this._getThumbGap()}px`}return a}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,kr),e.removeEventListener("touchstart",this._pointerDown,kr),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||Io(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const i=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const i=this._document,r=Wu(e),o=r?"touchend":"mouseup";i.addEventListener(r?"touchmove":"mousemove",this._pointerMove,kr),i.addEventListener(o,this._pointerUp,kr),r&&i.addEventListener("touchcancel",this._pointerUp,kr);const a=this._getWindow();void 0!==a&&a&&a.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,kr),e.removeEventListener("mouseup",this._pointerUp,kr),e.removeEventListener("touchmove",this._pointerMove,kr),e.removeEventListener("touchend",this._pointerUp,kr),e.removeEventListener("touchcancel",this._pointerUp,kr);const i=this._getWindow();void 0!==i&&i&&i.removeEventListener("blur",this._windowBlur)}_increment(e){this.value=this._clamp((this.value||0)+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let o=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(o=1-o),0===o)this.value=this.min;else if(1===o)this.value=this.max;else{const a=this._calculateValue(o),c=Math.round((a-this.min)/this.step)*this.step+this.min;this.value=this._clamp(c,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let e=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,s=Math.ceil(30/(e*this.step/(this.max-this.min)))*this.step;this._tickIntervalPercent=s/e}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(e=this.value){let i=new vY;return i.source=this,i.value=e,i}_calculatePercentage(e){return((e||0)-this.min)/(this.max-this.min)}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,i=0,r=1){return Math.max(i,Math.min(e,r))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(wa),I(Jt),I(Ni,8),zo("tabindex"),I(mt),I(pt),I(pi,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-slider"]],viewQuery:function(e,i){if(1&e&&Kt(hY,5),2&e){let r;ht(r=ft())&&(i._sliderWrapper=r.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,i){1&e&&Xe("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)})("keyup",function(){return i._onKeyup()})("mouseenter",function(){return i._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&e&&(fl("tabIndex",i.tabIndex),$e("aria-disabled",i.disabled)("aria-valuemax",i.max)("aria-valuemin",i.min)("aria-valuenow",i.value)("aria-valuetext",null==i.valueText?i.displayValue:i.valueText)("aria-orientation",i.vertical?"vertical":"horizontal"),Vt("mat-slider-disabled",i.disabled)("mat-slider-has-ticks",i.tickInterval)("mat-slider-horizontal",!i.vertical)("mat-slider-axis-inverted",i._shouldInvertAxis())("mat-slider-invert-mouse-coords",i._shouldInvertMouseCoords())("mat-slider-sliding",i._isSliding)("mat-slider-thumb-label-showing",i.thumbLabel)("mat-slider-vertical",i.vertical)("mat-slider-min-value",i._isMinValue())("mat-slider-hide-last-tick",i.disabled||i._isMinValue()&&i._getThumbGap()&&i._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[qt([yY]),Ae],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,i){1&e&&(ie(0,"div",0,1),ie(2,"div",2),ze(3,"div",3),ze(4,"div",4),re(),ie(5,"div",5),ze(6,"div",6),re(),ie(7,"div",7),ze(8,"div",8),ze(9,"div",9),ie(10,"div",10),ie(11,"span",11),Ke(12),re(),re(),re(),re()),2&e&&(ue(3),de("ngStyle",i._getTrackBackgroundStyles()),ue(1),de("ngStyle",i._getTrackFillStyles()),ue(1),de("ngStyle",i._getTicksContainerStyles()),ue(1),de("ngStyle",i._getTicksStyles()),ue(1),de("ngStyle",i._getThumbContainerStyles()),ue(5),Qt(i.displayValue))},directives:[Hs],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),n})();function Wu(n){return"t"===n.type[0]}function _I(n,t){let e;return e=Wu(n)?"number"==typeof t?B_(n.touches,t)||B_(n.changedTouches,t):n.touches[0]||n.changedTouches[0]:n,e?{x:e.clientX,y:e.clientY}:void 0}function B_(n,t){for(let e=0;e<n.length;e++)if(n[e].identifier===t)return n[e]}let wY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ir,Ut],Ut]}),n})();const bI={};class xY{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new EY(t,this.resultSelector))}}class EY extends ri{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(bI),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++){const r=t[i];this.add(_n(this,r,r,i))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i,r,s){const o=this.values,c=this.toRespond?o[i]===bI?--this.toRespond:this.toRespond:0;o[i]=e,0===c&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const wI=new Set;let Ql,DY=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):TY}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!wI.has(n))try{Ql||(Ql=document.createElement("style"),Ql.setAttribute("type","text/css"),document.head.appendChild(Ql)),Ql.sheet&&(Ql.sheet.insertRule(`@media ${n} {body{ }}`,0),wI.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(se(Cn))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TY(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let CI=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new R}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return xI(Oh(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=function(...n){let t=null,e=null;return X(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&q(n[0])&&(n=n[0]),J(n,e).lift(new xY(t))}(xI(Oh(e)).map(o=>this._registerQuery(o).observable));return s=A_(s.pipe(hn(1)),s.pipe(y1(1),Pl(0))),s.pipe(Yt(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new B(o=>{const a=c=>this._zone.run(()=>o.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(is(i),Yt(({matches:o})=>({query:e,matches:o})),Ot(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(se(DY),se(mt))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xI(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function MY(n,t){if(1&n){const e=wn();ie(0,"div",1),ie(1,"button",2),Xe("click",function(){return en(e),Fe().action()}),Ke(2),re(),re()}if(2&n){const e=Fe();ue(2),Qt(e.data.action)}}function AY(n,t){}const DI=new ke("MatSnackBarData");class $f{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const IY=Math.pow(2,31)-1;class V_{constructor(t,e){this._overlayRef=e,this._afterDismissed=new R,this._afterOpened=new R,this._onAction=new R,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,IY))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let RY=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(I(V_),I(DI))},n.\u0275cmp=Mt({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(ie(0,"span"),Ke(1),re(),Le(2,MY,3,1,"div",0)),2&e&&(ue(1),Qt(i.data.message),ue(1),de("ngIf",i.hasAction))},directives:[ci,xs],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const OY={snackBarState:Ks("state",[hi("void, hidden",tn({transform:"scale(0.8)",opacity:0})),hi("visible",tn({transform:"scale(1)",opacity:1})),fi("* => visible",di("150ms cubic-bezier(0, 0, 0.2, 1)")),fi("* => void, * => hidden",di("75ms cubic-bezier(0.4, 0.0, 1, 1)",tn({opacity:0})))])};let FY=(()=>{class n extends Bh{constructor(e,i,r,s,o){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new R,this._onExit=new R,this._onEnter=new R,this._animationState="void",this.attachDomPortal=a=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(a)),this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(hn(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(I(mt),I(Be),I(Jt),I(Cn),I($f))},n.\u0275cmp=Mt({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&Kt(da,7),2&e){let r;ht(r=ft())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&Oc("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&po("@state",i._animationState)},features:[Ae],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(ie(0,"div",0),Le(1,AY,0,0,"ng-template",1),re(),ze(2,"div")),2&e&&(ue(2),$e("aria-live",i._live)("role",i._role))},directives:[da],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[OY.snackBarState]}}),n})(),SI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[ky,Vh,Ir,z1,Ut],Ut]}),n})();const PY=new ke("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new $f}});let LY=(()=>{class n{constructor(e,i,r,s,o,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=RY,this.snackBarContainerComponent=FY,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s=ut(ut({},this._defaultConfig),r);return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=jt.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:$f,useValue:i}]}),o=new Rl(this.snackBarContainerComponent,i.viewContainerRef,s),a=e.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r=ut(ut(ut({},new $f),this._defaultConfig),i),s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new V_(o,s);if(e instanceof ar){const c=new Nh(e,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),u=new Rl(e,void 0,c),p=o.attachComponentPortal(u);a.instance=p.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ot(s.detachments())).subscribe(c=>{s.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Py;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,o="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,a=!o&&"center"!==e.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return jt.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:V_,useValue:i},{provide:DI,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(se(fa),se(jK),se(jt),se(CI),se(n,12),se(PY))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:SI}),n})();function NY(n,t){1&n&&Dn(0)}const TI=["*"];function BY(n,t){}const VY=function(n){return{animationDuration:n}},HY=function(n,t){return{value:n,params:t}},GY=["tabListContainer"],zY=["tabList"],jY=["tabListInner"],UY=["nextPaginator"],WY=["previousPaginator"],qY=["tabBodyWrapper"],KY=["tabHeader"];function XY(n,t){}function ZY(n,t){1&n&&Le(0,XY,0,0,"ng-template",9),2&n&&de("cdkPortalOutlet",Fe().$implicit.templateLabel)}function YY(n,t){1&n&&Ke(0),2&n&&Qt(Fe().$implicit.textLabel)}function QY(n,t){if(1&n){const e=wn();ie(0,"div",6),Xe("click",function(){const r=en(e),s=r.$implicit,o=r.index,a=Fe(),c=function(n){return Pa(xt.lFrame.contextLView,20+n)}(1);return a._handleClick(s,c,o)})("cdkFocusChange",function(r){const o=en(e).index;return Fe()._tabFocusChanged(r,o)}),ie(1,"div",7),Le(2,ZY,1,1,"ng-template",8),Le(3,YY,1,1,"ng-template",8),re(),re()}if(2&n){const e=t.$implicit,i=t.index,r=Fe();Vt("mat-tab-label-active",r.selectedIndex==i),de("id",r._getTabLabelId(i))("disabled",e.disabled)("matRippleDisabled",e.disabled||r.disableRipple),$e("tabIndex",r._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),ue(2),de("ngIf",e.templateLabel),ue(1),de("ngIf",!e.templateLabel)}}function JY(n,t){if(1&n){const e=wn();ie(0,"mat-tab-body",10),Xe("_onCentered",function(){return en(e),Fe()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return en(e),Fe()._setTabBodyWrapperHeight(r)}),re()}if(2&n){const e=t.$implicit,i=t.index,r=Fe();Vt("mat-tab-body-active",r.selectedIndex===i),de("id",r._getTabContentId(i))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration),$e("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const $Y=new ke("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let MI=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=s}alignToElement(e){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(e))}):this._setStyles(e)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(e){const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(mt),I($Y),I(pi,8))},n.\u0275dir=Ce({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&Vt("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const tQ=new ke("MatTabContent"),nQ=new ke("MatTabLabel"),iQ=new ke("MAT_TAB"),rQ=Wf(class{}),AI=new ke("MAT_TAB_GROUP");let II=(()=>{class n extends rQ{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new R,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Nh(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(I(oi),I(AI,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(Nn(r,nQ,5),Nn(r,tQ,7,ar)),2&e){let s;ht(s=ft())&&(i.templateLabel=s.first),ht(s=ft())&&(i._explicitContent=s.first)}},viewQuery:function(e,i){if(1&e&&Kt(ar,7),2&e){let r;ht(r=ft())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[qt([{provide:iQ,useExisting:n}]),Ae,Gn],ngContentSelectors:TI,decls:1,vars:0,template:function(e,i){1&e&&(Er(),Le(0,NY,1,0,"ng-template"))},encapsulation:2}),n})();const sQ={translateTab:Ks("translateTab",[hi("center, void, left-origin-center, right-origin-center",tn({transform:"none"})),hi("left",tn({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),hi("right",tn({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),fi("* => left, * => right, left => center, right => center",di("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),fi("void => left-origin-center",[tn({transform:"translate3d(-100%, 0, 0)"}),di("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),fi("void => right-origin-center",[tn({transform:"translate3d(100%, 0, 0)"}),di("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let oQ=(()=>{class n extends da{constructor(e,i,r,s){super(e,i,s),this._host=r,this._centeringSub=h.EMPTY,this._leavingSub=h.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(is(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(I(qr),I(oi),I(Je(()=>RI)),I(pt))},n.\u0275dir=Ce({type:n,selectors:[["","matTabBodyHost",""]],features:[Ae]}),n})(),aQ=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=h.EMPTY,this._translateTabComplete=new R,this._onCentering=new Ct,this._beforeCentering=new Ct,this._afterLeavingCenter=new Ct,this._onCentered=new Ct(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(Xi((s,o)=>s.fromState===o.fromState&&s.toState===o.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Ni,8),I(Jt))},n.\u0275dir=Ce({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),RI=(()=>{class n extends aQ{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Ni,8),I(Jt))},n.\u0275cmp=Mt({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&Kt(da,5),2&e){let r;ht(r=ft())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[Ae],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(ie(0,"div",0,1),Xe("@translateTab.start",function(s){return i._onTranslateTabStarted(s)})("@translateTab.done",function(s){return i._translateTabComplete.next(s)}),Le(2,BY,0,0,"ng-template",2),re()),2&e&&de("@translateTab",R0(3,HY,i._position,Qd(1,VY,i.animationDuration)))},directives:[oQ],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[sQ.translateTab]}}),n})();const OI=new ke("MAT_TABS_CONFIG"),lQ=Wf(class{});let FI=(()=>{class n extends lQ{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(I(Be))},n.\u0275dir=Ce({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&($e("aria-disabled",!!i.disabled),Vt("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[Ae]}),n})();const PI=la({passive:!0});let dQ=(()=>{class n{constructor(e,i,r,s,o,a,c){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=s,this._ngZone=o,this._platform=a,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new R,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new R,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Ct,this.indexFocused=new Ct,o.runOutsideAngular(()=>{zs(e.nativeElement,"mouseleave").pipe(Ot(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=qi(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){zs(this._previousPaginator.nativeElement,"touchstart",PI).pipe(Ot(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),zs(this._nextPaginator.nativeElement,"touchstart",PI).pipe(Ot(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Ki("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new E1(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(r):r(),ce(e,i,this._items.changes).pipe(Ot(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(r)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Ot(this._destroyed)).subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Io(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=i.elementRef.nativeElement;let a,c;"ltr"==this._getLayoutDirection()?(a=s,c=a+o):(c=this._tabListInner.nativeElement.offsetWidth-s,a=c-o);const u=this.scrollDistance,p=this.scrollDistance+r;a<u?this.scrollDistance-=u-a+60:c>p&&(this.scrollDistance+=c-p+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),aS(650,100).pipe(Ot(ce(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(e);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Jt),I(Il),I(Ni,8),I(mt),I(Cn),I(pi,8))},n.\u0275dir=Ce({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),hQ=(()=>{class n extends dQ{constructor(e,i,r,s,o,a,c){super(e,i,r,s,o,a,c),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Zt(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Jt),I(Il),I(Ni,8),I(mt),I(Cn),I(pi,8))},n.\u0275dir=Ce({type:n,inputs:{disableRipple:"disableRipple"},features:[Ae]}),n})(),fQ=(()=>{class n extends hQ{constructor(e,i,r,s,o,a,c){super(e,i,r,s,o,a,c)}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Jt),I(Il),I(Ni,8),I(mt),I(Cn),I(pi,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&Nn(r,FI,4),2&e){let s;ht(s=ft())&&(i._items=s)}},viewQuery:function(e,i){if(1&e&&(Kt(MI,7),Kt(GY,7),Kt(zY,7),Kt(jY,7),Kt(UY,5),Kt(WY,5)),2&e){let r;ht(r=ft())&&(i._inkBar=r.first),ht(r=ft())&&(i._tabListContainer=r.first),ht(r=ft())&&(i._tabList=r.first),ht(r=ft())&&(i._tabListInner=r.first),ht(r=ft())&&(i._nextPaginator=r.first),ht(r=ft())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&Vt("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Ae],ngContentSelectors:TI,decls:14,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(Er(),ie(0,"div",0,1),Xe("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(s){return i._handlePaginatorPress("before",s)})("touchend",function(){return i._stopInterval()}),ze(2,"div",2),re(),ie(3,"div",3,4),Xe("keydown",function(s){return i._handleKeydown(s)}),ie(5,"div",5,6),Xe("cdkObserveContent",function(){return i._onContentChanges()}),ie(7,"div",7,8),Dn(9),re(),ze(10,"mat-ink-bar"),re(),re(),ie(11,"div",9,10),Xe("mousedown",function(s){return i._handlePaginatorPress("after",s)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),ze(13,"div",2),re()),2&e&&(Vt("mat-tab-header-pagination-disabled",i._disableScrollBefore),de("matRippleDisabled",i._disableScrollBefore||i.disableRipple),ue(5),Vt("_mat-animation-noopable","NoopAnimations"===i._animationMode),ue(6),Vt("mat-tab-header-pagination-disabled",i._disableScrollAfter),de("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},directives:[zu,_1,MI],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),n})(),pQ=0;class mQ{}const gQ=Ro(qf(class{constructor(n){this._elementRef=n}}),"primary");let yQ=(()=>{class n extends gQ{constructor(e,i,r,s){var o;super(e),this._changeDetectorRef=i,this._animationMode=s,this._tabs=new mo,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=h.EMPTY,this._tabLabelSubscription=h.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new Ct,this.focusChange=new Ct,this.animationDone=new Ct,this.selectedTabChange=new Ct(!0),this._groupId=pQ++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!=(o=null==r?void 0:r.contentTabIndex)?o:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Zt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=qi(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=qi(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const i=this._tabs.toArray();for(let r=0;r<i.length;r++)if(i[r].isActive){this._indexToSelect=this._selectedIndex=r;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(is(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new mQ;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=ce(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){return e.disabled?null:this.selectedIndex===i?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Jt),I(OI,8),I(pi,8))},n.\u0275dir=Ce({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Ae]}),n})(),vQ=(()=>{class n extends yQ{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Jt),I(OI,8),I(pi,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&Nn(r,II,5),2&e){let s;ht(s=ft())&&(i._allTabs=s)}},viewQuery:function(e,i){if(1&e&&(Kt(qY,5),Kt(KY,5)),2&e){let r;ht(r=ft())&&(i._tabBodyWrapper=r.first),ht(r=ft())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&Vt("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[qt([{provide:AI,useExisting:n}]),Ae],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(ie(0,"mat-tab-header",0,1),Xe("indexFocused",function(s){return i._focusChanged(s)})("selectFocusedIndex",function(s){return i.selectedIndex=s}),Le(2,QY,4,14,"div",2),re(),ie(3,"div",3,4),Le(5,JY,1,9,"mat-tab-body",5),re()),2&e&&(de("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),ue(2),de("ngForOf",i._tabs),ue(1),Vt("_mat-animation-noopable","NoopAnimations"===i._animationMode),ue(2),de("ngForOf",i._tabs))},directives:[fQ,su,FI,zu,WK,ci,da,RI],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),_Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ir,Ut,Vh,O_,D_,P1],Ut]}),n})();const bQ=["*",[["mat-toolbar-row"]]],wQ=["*","mat-toolbar-row"],CQ=Ro(class{constructor(n){this._elementRef=n}});let xQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ce({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Po=(()=>{class n extends CQ{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(I(Be),I(Cn),I(pt))},n.\u0275cmp=Mt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&Nn(r,xQ,5),2&e){let s;ht(s=ft())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&Vt("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Ae],ngContentSelectors:wQ,decls:2,vars:0,template:function(e,i){1&e&&(Er(bQ),Dn(0),Dn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),EQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Ut],Ut]}),n})();const DQ={tooltipState:Ks("state",[hi("initial, void, hidden",tn({opacity:0,transform:"scale(0)"})),hi("visible",tn({transform:"scale(1)"})),fi("* => visible",di("200ms cubic-bezier(0, 0, 0.2, 1)",u6([tn({opacity:0,transform:"scale(0)",offset:0}),tn({opacity:.5,transform:"scale(0.99)",offset:.5}),tn({opacity:1,transform:"scale(1)",offset:1})]))),fi("* => hidden",di("100ms cubic-bezier(0, 0, 0.2, 1)",tn({opacity:0})))])},LI="tooltip-panel",NI=la({passive:!0}),BI=new ke("mat-tooltip-scroll-strategy"),AQ={provide:BI,deps:[fa],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},IQ=new ke("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let OQ=(()=>{class n{constructor(e,i,r,s,o,a,c,u,p,x,A,k){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=a,this._ariaDescriber=c,this._focusMonitor=u,this._dir=x,this._defaultOptions=A,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new R,this._handleKeydown=G=>{this._isTooltipVisible()&&27===G.keyCode&&!Io(G)&&(G.preventDefault(),G.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=p,this._document=k,A&&(A.position&&(this.position=A.position),A.touchGestures&&(this.touchGestures=A.touchGestures)),x.change.pipe(Ot(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),o.runOutsideAngular(()=>{i.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null==(i=this._tooltipInstance)||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Zt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ot(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,NI)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new Rl(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Ot(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Ot(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${LI}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ot(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ot(this._destroyed)).subscribe(()=>{var r;return null==(r=this._tooltipInstance)?void 0:r._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset(ut(ut({},r.main),s.main)),this._addOffset(ut(ut({},r.fallback),s.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(hn(1),Ot(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let o;if(o="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",o!==this._currentPosition){const a=this._overlayRef;if(a){const c=`${this._cssClassPrefix}-${LI}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,NI)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){qm()},n.\u0275dir=Ce({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),xa=(()=>{class n extends OQ{constructor(e,i,r,s,o,a,c,u,p,x,A,k){super(e,i,r,s,o,a,c,u,p,x,A,k),this._tooltipComponent=PQ}}return n.\u0275fac=function(e){return new(e||n)(I(fa),I(Be),I(Lh),I(oi),I(mt),I(Cn),I(EK),I(wa),I(BI),I(Ni,8),I(IQ,8),I(pt))},n.\u0275dir=Ce({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[Ae]}),n})(),FQ=(()=>{class n{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new R}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const i=e.toState;"hidden"===i&&!this.isVisible()&&this._onHide.next(),("visible"===i||"hidden"===i)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return n.\u0275fac=function(e){return new(e||n)(I(Jt))},n.\u0275dir=Ce({type:n}),n})(),PQ=(()=>{class n extends FQ{constructor(e,i){super(e),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return n.\u0275fac=function(e){return new(e||n)(I(Jt),I(CI))},n.\u0275cmp=Mt({type:n,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){2&e&&Dr("zoom","visible"===i._visibility?1:null)},features:[Ae],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,i){if(1&e&&(ie(0,"div",0),Xe("@state.start",function(){return i._animationStart()})("@state.done",function(s){return i._animationDone(s)}),function(n,t){const e=Wt();let i;const r=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new Gi("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Go(i.type)),o=io(I);try{const a=md(!1),c=s();md(a),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,Me(),r,c)}finally{io(o)}}(1,"async"),Ke(2),re()),2&e){let r;Vt("mat-tooltip-handset",null==(r=function(n,t,e){const i=n+20,r=Me(),s=Pa(r,i);return function(n,t){return n[1].data[t].pure}(r,i)?O0(r,Ri(),t,s.transform,e,s):s.transform(e)}(1,5,i._isHandset))?null:r.matches),de("ngClass",i.tooltipClass)("@state",i._visibility),ue(2),Qt(i.message)}},directives:[ra],pipes:[BD],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[DQ.tooltipState]},changeDetection:0}),n})(),kQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[AQ],imports:[[P1,Ir,ky,Ut],Ut,fu]}),n})(),VI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[EQ,z1,zX,kQ,TX,_Q,LZ,wY,tY,bZ,UZ,fX,SI,dY]}),n})(),ep=(()=>{class n{constructor(){this.spinnerSubject=new R,this.spinnerState=this.spinnerSubject.asObservable()}show(){this.spinnerSubject.next({show:!0})}hide(){this.spinnerSubject.next({show:!1})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),Jl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[ep],imports:[[Ir,c1,w_,Qy,VI],Ir,Qy,c1,w_,VI]}),n})();function qu(n=0,t=cu){return(!Sy(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=cu),new B(e=>(e.add(t.schedule(LQ,n,{subscriber:e,counter:0,period:n})),e))}function LQ(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}class Es{constructor(t){this.bottom=0,this.height=0,this.left=0,this.right=0,this.top=0,this.width=0,t&&(this.bottom=t.bottom||this.bottom,this.height=t.height||this.height,this.left=t.left||this.left,this.right=t.right||this.right,this.top=t.top||this.top,this.width=t.width||this.width)}}class NQ{constructor(){this.helpLabel="Help",this.line1="<strong>ARROW LEFT</strong> or <strong>PAGE UP</strong>: Previous page",this.line2="<strong>ARROW RIGHT</strong> or <strong>PAGE DOWN</strong>: Next page",this.line3="<strong>HOME</strong>: Go to first page",this.line4="<strong>END</strong>: Go to last page",this.line5="<strong>C</strong>: Contents window with more information/metadata about the object. (Close with <strong>ESC</strong>.)",this.line6="<strong>S</strong>: Search inside the object. (Close with <strong>ESC</strong>.)",this.line7="<strong>N</strong>: Next result",this.line8="<strong>P</strong>: Previous result",this.line9="<strong>F</strong>: Fullscreen on/off (Close with <strong>F</strong> or <strong>ESC</strong>.)",this.line10="<strong>R</strong>: Rotate 90\xb0",this.line11="<strong>T</strong>:  Show/hide optically recognized text (for content that can be displayed)."}}let Ti=(()=>{class n{constructor(){this.changes=new R,this.help=new NQ,this.closeLabel="Close",this.attributionLabel="Attribution",this.attributonCloseAriaLabel="Close attribution dialog",this.recognizedTextContentLabel="Recognized text",this.contentsLabel="Contents",this.twoPageViewLabel="Two page display",this.singlePageViewLabel="Single page display",this.metadataLabel="Metadata",this.licenseLabel="License",this.tocLabel="Table of Contents",this.fullScreenLabel="Full screen",this.exitFullScreenLabel="Exit full screen",this.zoomInLabel="Zoom in",this.zoomOutLabel="Zoom out",this.previousPageLabel="Previous Page",this.nextPageLabel="Next Page",this.homeLabel="Go Home",this.rotateCwLabel="Rotate 90\xb0",this.searchLabel="Search",this.clearSearchLabel="Clear",this.previousHitLabel="Previous Hit",this.nextHitLabel="Next Hit",this.goToPageLabel="Go to page",this.currentPageLabel="Current page",this.enterPageNumber="Enter page number",this.dropDisabled="Sorry, but drag and drop is disabled",this.loading="Loading ...",this.somethingHasGoneWrongLabel="Oh dear, something has gone terribly wrong...",this.manifestUriMissingLabel="ManifestUri is missing",this.manifestNotValidLabel="Manifest is not valid",this.pageDoesNotExists="Sorry, that page does not exist",this.textContentErrorLabel="Oh dear, i can't find the text for you",this.noResultsFoundLabel=e=>`No results found for <em class="current-search">${e}</em>`,this.resultsFoundLabel=(e,i)=>`${e} results found for <em class="current-search">${i}</em>`,this.currentHitLabel=(e,i)=>`${e} of ${i} hits`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),H_=(()=>{class n{constructor(){this.changeSubject=new gu,this.onchange()}get onChange(){return this.changeSubject.asObservable()}isEnabled(){const e=document;return e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled}isFullscreen(){const e=document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement}toggle(e){this.isFullscreen()?this.closeFullscreen(e):this.openFullscreen(e)}onchange(){const e=document,i=()=>{this.changeSubject.next(!0)};e.fullscreenEnabled?document.addEventListener("fullscreenchange",i):e.webkitFullscreenEnabled?document.addEventListener("webkitfullscreenchange",i):e.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",i):e.msFullscreenEnabled&&document.addEventListener("msfullscreenchange",i)}openFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}closeFullscreen(e){const i=document;i.exitFullscreen?i.exitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.msExitFullscreen&&i.msExitFullscreen()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),Ds=(()=>{class n{constructor(e){this.fullscreen=e}getBoundingClientRect(e){try{return this.isDocumentInFullScreenMode()&&"MIME-VIEWER"===e.nativeElement.nodeName?this.createFullscreenDimensions(e):this.createDimensions(e)}catch(i){return new Es}}isDocumentInFullScreenMode(){return this.fullscreen.isFullscreen()}toggleFullscreen(){const e=document.getElementById("ngx-mime-mimeViewer");this.fullscreen.isEnabled()&&this.fullscreen.toggle(e)}setFocusOnViewer(){const e=document.getElementById("ngx-mime-mimeViewer");e&&e.focus()}createFullscreenDimensions(e){const i=e.nativeElement.getBoundingClientRect(),r=this.getFullscreenWidth(),s=this.getFullscreenHeight();return new Es(Object.assign(Object.assign({},i),{top:0,bottom:s,width:r,height:s,left:0,right:r}))}createDimensions(e){const i=e.nativeElement.getBoundingClientRect();return new Es({top:i.top,bottom:i.bottom,width:i.width,height:i.height,left:i.left,right:i.right})}getFullscreenWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}getFullscreenHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(se(H_))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();var Hn=(()=>(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"}(Hn||(Hn={})),Hn))();class HI{constructor(t){this.viewingDirection=Hn.LTR,this.label="",this.structures=[],t&&(this.context=t.context||this.context,this.type=t.type||this.type,this.id=t.id||this.id,this.viewingDirection=t.viewingDirection||this.viewingDirection,this.label=t.label||this.label,this.metadata=t.metadata||this.metadata,this.license=t.license||this.license,this.logo=t.logo||this.logo,this.attribution=t.attribution||this.attribution,this.service=t.service||this.service,this.sequences=t.sequences||this.sequences,this.structures=t.structures||this.structures,this.tileSource=t.tileSource||this.tileSource,this.viewingHint=t.viewingHint||this.viewingHint)}}class GI{constructor(t,e){this.label=t,this.value=e}}class zI{constructor(t){t&&(this.id=t.id||this.id,this.type=t.type||this.type,this.label=t.label||this.label,this.viewingHint=t.viewingHint||this.viewingHint,this.canvases=t.canvases||this.canvases)}}class jI{constructor(t){t&&(this.id=t.id||this.id,this.type=t.type||this.type,this.label=t.label||this.label,this.thumbnail=t.thumbnail||this.thumbnail,this.height=t.height||this.height,this.width=t.width||this.width,this.images=t.images||this.images,this.altoUrl=t.altoUrl||this.altoUrl)}}class UI{constructor(t){t&&(this.id=t.id||this.id,this.type=t.type||this.type,this.motivation=t.motivation||this.motivation,this.resource=t.resource||this.resource,this.on=t.on||this.on)}}class WI{constructor(t){this.height=0,this.width=0,this.tileOverlap=0,t&&(this.id=t.id||this.id,this.type=t.type||this.type,this.format=t.format||this.format,this.service=t.service||this.service,this.height=t.height||this.height,this.width=t.width||this.width,this.tileOverlap=t.tileOverlap||this.tileOverlap)}}class qI{constructor(t){this.width=0,this.height=0,t&&(this.context=t.context||this.context,this.id=t.id||this.id,this.protocol=t.protocol||this.protocol,this.width=t.width||this.width,this.height=t.height||this.height,this.sizes=t.sizes||this.sizes,this.tiles=t.tiles||this.tiles,this.profile=t.profile||this.profile,this.physicalScale=t.physicalScale||this.physicalScale,this.physicalUnits=t.physicalUnits||this.physicalUnits,this.service=t.service||this.service)}}class KI{constructor(t,e){this.width=t,this.height=e}}class XI{constructor(t){t&&(this.width=t.width||this.width,this.scaleFactors=t.scaleFactors||this.scaleFactors)}}class ZI{constructor(t){this.type="",this.canvases=[],this.canvasIndex=0,t&&(this.id=t.id||this.id,this.type=t.type||this.type,this.label=t.label||this.label,this.canvases=t.canvases||this.canvases,this.canvasIndex=t.canvasIndex)}}class mi{static extractId(t){return t["@id"]}static extracType(t){return t["@type"]}static extractContext(t){return t["@context"]}static extractViewingDirection(t){return"right-to-left"===t.viewingDirection?Hn.RTL:Hn.LTR}static findCanvasIndex(t,e){let i=-1;return e[0]&&e[0].canvases&&t[0]&&(i=e[0].canvases.findIndex(r=>r.id===t[0])),i}}class BQ{constructor(t){this.metadatas=t}build(){const t=[];if(this.metadatas)for(let e=0;e<this.metadatas.length;e++){const i=this.metadatas[e];t.push(new GI(i.label,i.value))}return t}}class VQ{constructor(t){this.sizes=t}build(){const t=[];if(this.sizes)for(let e=0;e<this.sizes.length;e++){const i=this.sizes[e];t.push(new KI(i.width,i.height))}return t}}class HQ{constructor(t){this.tiles=t}build(){const t=[];if(this.tiles)for(let e=0;e<this.tiles.length;e++){const i=this.tiles[e];t.push(new XI({width:i.width,scaleFactors:i.scaleFactors}))}return t}}class tp{constructor(t){this.service=t}build(){if(this.service)return new qI({id:mi.extractId(this.service),context:mi.extractContext(this.service),protocol:this.service.protocol,width:this.service.width,height:this.service.height,sizes:new VQ(this.service.sizes).build(),tiles:new HQ(this.service.tiles).build(),profile:this.service.profile,physicalScale:this.service.physicalScale,physicalUnits:this.service.physicalUnits,service:new tp(this.service.service).build()})}}class GQ{constructor(t){this.resource=t}build(){if(!this.resource)throw new Error("No resource");return new WI({id:mi.extractId(this.resource),type:mi.extracType(this.resource),format:this.resource.format,service:new tp(this.resource.service).build(),height:this.resource.height,width:this.resource.width})}}class zQ{constructor(t){this.images=t}build(){const t=[];if(this.images)for(let e=0;e<this.images.length;e++){const i=this.images[e];t.push(new UI({id:mi.extractId(i),type:mi.extracType(i),motivation:i.motivation,resource:new GQ(i.resource).build(),on:i.on}))}return t}}class jQ{constructor(t){this.canvases=t}build(){const t=[];if(this.canvases)for(let e=0;e<this.canvases.length;e++){const i=this.canvases[e],r=i.seeAlso?i.seeAlso:[];i["@seeAlso"]&&r.push(i["@seeAlso"]),t.push(new jI({id:mi.extractId(i),type:mi.extracType(i),label:i.label,thumbnail:i.thumbnail,height:i.height,width:i.width,images:new zQ(i.images).build(),altoUrl:this.extractAltoUrl(r)}))}return t}extractAltoUrl(t){if(!t)return;const e=t.find(i=>"application/alto+xml"===i.format);return e?mi.extractId(e):void 0}}class UQ{constructor(t){this.sequences=t}build(){const t=[];if(this.sequences)for(let e=0;e<this.sequences.length;e++){const i=this.sequences[e];t.push(new zI({id:mi.extractId(i),type:mi.extracType(i),label:i.label,viewingHint:i.viewingHint,canvases:new jQ(i.canvases).build()}))}return t}}class WQ{constructor(t,e){this.structures=t,this.sequences=e}build(){const t=[];if(this.structures)for(let e=0;e<this.structures.length;e++){const i=this.structures[e];t.push(new ZI({id:mi.extractId(i),type:mi.extracType(i),label:i.label,canvases:i.canvases,canvasIndex:mi.findCanvasIndex(i.canvases,this.sequences)}))}return t}}class qQ{constructor(t){this.sequences=t}build(){const t=[];if(this.sequences&&this.sequences.length>0){const e=this.sequences[0].canvases;for(let i=0;e&&i<e.length;i++){const r=e[i];if(r&&r.images&&r.images.length>=0){const s=r.images[0].resource;s&&t.push(s)}}}return t}}class KQ{constructor(t){this.data=t}build(){const t=new UQ(this.data.sequences).build();return new HI({context:mi.extractContext(this.data),type:mi.extracType(this.data),id:mi.extractId(this.data),viewingDirection:mi.extractViewingDirection(this.data),label:this.data.label,metadata:new BQ(this.data.metadata).build(),license:this.data.license,logo:this.data.logo,attribution:this.data.attribution,service:new tp(this.data.service).build(),sequences:t,structures:new WQ(this.data.structures,t).build(),tileSource:new qQ(this.data.sequences).build(),viewingHint:this.data.viewingHint})}}class yn{static extractId(t){return t.id}static extracType(t){return t.type}static extractContext(t){return t["@context"]}static extractViewingDirection(t){return"right-to-left"===t.viewingDirection?Hn.RTL:Hn.LTR}static extractViewingHint(t){if(Array.isArray(t))return t[0]}static findCanvasIndex(t,e){let i=-1;return t[0]&&(i=e[0].canvases.findIndex(r=>r.id===t[0].id)),i}static extractLogo(t){let e;return Array.isArray(t)&&(e=this.extractId(t[0].logo[0])),e}static extractLanguageValue(t,e){return t?t[e&&t[e]?e:this.extractDefaultLanguage(t)][0]:""}static extractDefaultLanguage(t){return Object.keys(t)[0]}}class XQ{constructor(t){this.metadatas=t}build(){const t=[];if(this.metadatas)for(let e=0;e<this.metadatas.length;e++){const i=this.metadatas[e];t.push(new GI(yn.extractLanguageValue(i.label),yn.extractLanguageValue(i.value)))}return t}}class ZQ{constructor(t){this.sizes=t}build(){const t=[];if(this.sizes)for(let e=0;e<this.sizes.length;e++){const i=this.sizes[e];t.push(new KI(i.width,i.height))}return t}}class YQ{constructor(t){this.tiles=t}build(){const t=[];if(this.tiles)for(let e=0;e<this.tiles.length;e++){const i=this.tiles[e];t.push(new XI({width:i.width,scaleFactors:i.scaleFactors}))}return t}}class np{constructor(t){this.service=t}build(){if(Array.isArray(this.service)&&!(this.service.length<1)){const t=this.service[0];return new qI({id:yn.extractId(t),context:yn.extractContext(t),protocol:t.protocol,width:t.width,height:t.height,sizes:new ZQ(t.sizes).build(),tiles:new YQ(t.tiles).build(),profile:t.profile,physicalScale:t.physicalScale,physicalUnits:t.physicalUnits,service:new np(t.service).build()})}}}class QQ{constructor(t){this.resource=t}build(){if(!this.resource)throw new Error("No resource");return new WI({id:yn.extractId(this.resource),type:yn.extracType(this.resource),format:this.resource.format,service:new np(this.resource.service).build(),height:this.resource.height,width:this.resource.width})}}class JQ{constructor(t){this.images=t}build(){const t=[];return this.images&&this.images.forEach(e=>{e.items&&e.items.forEach(i=>{t.push(new UI({id:yn.extractId(i),type:yn.extracType(i),resource:new QQ(i.body).build(),motivation:i.motivation,on:i.target}))})}),t}}class $Q{constructor(t){this.canvases=t}build(){const t=[];if(this.canvases)for(let e=0;e<this.canvases.length;e++){const i=this.canvases[e];let r=[];i.seeAlso&&(r=r.concat(i.seeAlso)),t.push(new jI({id:yn.extractId(i),type:yn.extracType(i),label:i.label,height:i.height,width:i.width,images:new JQ(i.items).build(),altoUrl:this.extractAltoUrl(r)}))}return t}extractAltoUrl(t){if(!t)return;const e=t.find(i=>"application/alto+xml"===(null==i?void 0:i.format));return e?yn.extractId(e):void 0}}class eJ{constructor(t){this.data=t}build(){const t=[];return this.data&&t.push(new zI({id:yn.extractId(this.data),type:"Sequence",label:"Current Page Order",viewingHint:yn.extractViewingHint(this.data.behavior),canvases:new $Q(this.data.items).build()})),t}}class tJ{constructor(t,e){this.structures=t,this.sequences=e}build(){const t=[];if(this.structures)for(let e=0;e<this.structures.length;e++){const i=this.structures[e];t.push(new ZI({id:yn.extractId(i),type:yn.extracType(i),label:yn.extractLanguageValue(i.label),canvases:i.items,canvasIndex:yn.findCanvasIndex(i.items,this.sequences)}))}return t}}class nJ{constructor(t){this.items=t}build(){const t=[];return this.items&&this.items.length>0&&this.items.forEach(e=>{"Canvas"===e.type&&e.items.forEach(i=>{"AnnotationPage"===i.type&&i.items.forEach(r=>{if("Annotation"===r.type){let s=r.body;s&&(s.service=this.flattenService(s.service),t.push(s))}})})}),t}flattenService(t){return Array.isArray(t)&&1===t.length?Object.assign(Object.assign({},t[0]),{service:this.flattenService(t[0].service)}):t}}class iJ{constructor(t){this.data=t}build(){var t;const e=new eJ(this.data).build();return new HI({context:yn.extractContext(this.data),type:yn.extracType(this.data),id:yn.extractId(this.data),viewingDirection:yn.extractViewingDirection(this.data),label:yn.extractLanguageValue(this.data.label),metadata:new XQ(this.data.metadata).build(),license:this.data.rights,logo:yn.extractLogo(this.data.provider),attribution:yn.extractLanguageValue(null===(t=this.data.requiredStatement)||void 0===t?void 0:t.value),service:new np(this.data.service).build(),sequences:e,structures:new tJ(this.data.structures,e).build(),tileSource:new nJ(this.data.items).build(),viewingHint:yn.extractViewingHint(this.data.behavior)})}}let Zi=(()=>{class n{constructor(e,i,r){this.intl=e,this.http=i,this.spinnerService=r,this._currentManifest=new ui(null),this._errorMessage=new ui(null)}get currentManifest(){return this._currentManifest.asObservable().pipe(Xi())}get errorMessage(){return this._errorMessage.asObservable()}load(e){return new B(i=>{0===e.length?(this._errorMessage.next(this.intl.manifestUriMissingLabel),i.next(!1)):(this.spinnerService.show(),this.http.get(e).pipe(Xf(()=>this.spinnerService.hide()),hn(1)).subscribe(r=>{const s=this.extractData(r);this.isManifestValid(s)?(this._currentManifest.next(s),i.next(!0)):(this._errorMessage.next(this.intl.manifestNotValidLabel),i.next(!1))},r=>{this._errorMessage.next(this.handleError(r)),i.next(!1)}))})}destroy(){this.resetCurrentManifest(),this.resetErrorMessage()}resetCurrentManifest(){this._currentManifest.next(null)}resetErrorMessage(){this._errorMessage.next(null)}extractData(e){return"Manifest"===e.type?new iJ(e).build():new KQ(e).build()}isManifestValid(e){return e&&void 0!==e.tileSource&&e.tileSource.length>0}handleError(e){let i;return i=e.error instanceof Object?e.message:e.error,i}}return n.\u0275fac=function(e){return new(e||n)(se(Ti),se(Ol),se(ep))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),Ss=(()=>{class n{constructor(e){this.mimeDomHelper=e,this.resizeSubject=new gu,this.dimensions=new Es}set el(e){this._el=e}get el(){return this._el}get onResize(){return this.resizeSubject.asObservable()}markForCheck(){if(!this.el)throw new Error("No element!");const e=this.mimeDomHelper.getBoundingClientRect(this.el);(this.dimensions.bottom!==e.bottom||this.dimensions.height!==e.height||this.dimensions.left!==e.left||this.dimensions.right!==e.right||this.dimensions.top!==e.top||this.dimensions.width!==e.width)&&(this.dimensions=e,this.resizeSubject.next(Object.assign({},this.dimensions)))}}return n.\u0275fac=function(e){return new(e||n)(se(Ds))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();function rJ(n,t){if(1&n&&(ie(0,"div",3),ie(1,"div",4),Ke(2),re(),ze(3,"span",5),re()),2&n){const e=t.$implicit;ue(2),Qt(e.label),ue(1),de("innerHTML",e.value,jn)}}function sJ(n,t){if(1&n&&(ie(0,"div"),ie(1,"div",4),Ke(2),re(),ze(3,"span",6),re()),2&n){const e=Fe(2);ue(2),Qt(e.intl.attributionLabel),ue(1),de("innerHTML",e.manifest.attribution,jn)}}function oJ(n,t){if(1&n&&(ie(0,"div"),ie(1,"div",4),Ke(2),re(),ie(3,"span",7),ie(4,"a",8),Ke(5),re(),re(),re()),2&n){const e=Fe(2);ue(2),Qt(e.intl.licenseLabel),ue(2),de("href",e.manifest.license,Sd),ue(1),Qt(e.manifest.license)}}function aJ(n,t){if(1&n&&(ie(0,"div"),ie(1,"span"),ze(2,"img",9),re(),re()),2&n){const e=Fe(2);ue(2),de("src",e.manifest.logo,Sd)}}function lJ(n,t){if(1&n&&($n(0),ie(1,"div",1),Le(2,rJ,4,2,"div",2),Le(3,sJ,4,2,"div",0),Le(4,oJ,6,3,"div",0),Le(5,aJ,3,1,"div",0),re(),ei()),2&n){const e=Fe();ue(2),de("ngForOf",e.manifest.metadata),ue(1),de("ngIf",e.manifest.attribution),ue(1),de("ngIf",e.manifest.license),ue(1),de("ngIf",e.manifest.logo)}}let cJ=(()=>{class n{constructor(e,i,r){this.intl=e,this.changeDetectorRef=i,this.iiifManifestService=r,this.manifest=null,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(e=>{this.manifest=e,this.changeDetectorRef.markForCheck()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(I(Ti),I(Jt),I(Zi))},n.\u0275cmp=Mt({type:n,selectors:[["mime-metadata"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"ngx-mime-metadata-container"],["class","metadata",4,"ngFor","ngForOf"],[1,"metadata"],[1,"title"],[1,"content",3,"innerHTML"],[1,"content","attribution",3,"innerHTML"],[1,"content","license"],["target","_blank",3,"href"],[1,"content","logo",3,"src"]],template:function(e,i){1&e&&Le(0,lJ,6,4,"ng-container",0),2&e&&de("ngIf",i.manifest)},directives:[ci,su],styles:[".title[_ngcontent-%COMP%]{font-size:14px!important;font-weight:400;margin-bottom:4px}.content[_ngcontent-%COMP%]{display:block;font-size:12px;word-break:break-all;margin-bottom:8px}.logo[_ngcontent-%COMP%]{max-width:300px;max-height:64px}"],changeDetection:0}),n})();class dJ{constructor(t){this.notifier=t}call(t,e){const i=new hJ(t),r=e.subscribe(i);return r.add(_n(i,this.notifier)),r}}class hJ extends ri{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(t,e,i,r,s){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}var fJ=Vi(414);class pJ{withStringXml(t){return this.stringXml=t,this}build(){return this.stringXml?this.stringXml.filter(t=>!t.$.SUBS_CONTENT||"HypPart1"===t.$.SUBS_TYPE).map(t=>({content:t.$.SUBS_CONTENT||t.$.CONTENT})):[]}}class mJ{constructor(){this.stringBuilder=new pJ}withTextLinesXml(t){return this.textLinesXml=t,this}build(){return this.textLinesXml?this.textLinesXml.map(t=>({strings:this.stringBuilder.withStringXml(t.String).build()})):[]}}class gJ{constructor(){this.textLinesBuilder=new mJ}withTextBlocksXml(t){return this.textBlocksXml=t,this}withTextStyles(t){return this.textStyles=t,this}build(){return this.textBlocksXml?this.textBlocksXml.map(t=>{var e;const i=null===(e=t.$.STYLEREFS)||void 0===e?void 0:e.split(" ");let r;return i&&this.textStyles&&(r=this.textStyles.get(i[0])),{textLines:this.textLinesBuilder.withTextLinesXml(t.TextLine).build(),textStyle:{fontStyle:null==r?void 0:r.fontStyle}}}):[]}}class yJ{withPrintSpaceXml(t){return this.printSpaceXml=t,this}withTextStyles(t){return this.textStyles=t,this}build(){let t=[];return this.printSpaceXml.$$&&(t=this.extractTextBlocks(this.printSpaceXml.$$)),{textBlocks:(new gJ).withTextBlocksXml(t).withTextStyles(this.textStyles).build()}}extractTextBlocks(t){let e=[];return t.forEach(i=>{this.isTextBlock(i)?e=[...e,i]:this.isComposedBlock(i)&&i.$$&&(e=[...e,...this.extractTextBlocks(i.$$)])}),e}isTextBlock(t){return t["#name"]&&"TextBlock"===t["#name"]}isComposedBlock(t){return t["#name"]&&"ComposedBlock"===t["#name"]}}class vJ{constructor(){this.printSpaceBuilder=new yJ}withPageXml(t){return this.pageXml=t,this}withTextStyles(t){return this.printSpaceBuilder.withTextStyles(t),this}build(){return{topMargin:this.printSpaceBuilder.withPrintSpaceXml(this.pageXml.TopMargin[0]).build(),leftMargin:this.printSpaceBuilder.withPrintSpaceXml(this.pageXml.LeftMargin[0]).build(),rightMargin:this.printSpaceBuilder.withPrintSpaceXml(this.pageXml.RightMargin[0]).build(),bottomMargin:this.printSpaceBuilder.withPrintSpaceXml(this.pageXml.BottomMargin[0]).build(),printSpace:this.printSpaceBuilder.withPrintSpaceXml(this.pageXml.PrintSpace[0]).build()}}}class _J{constructor(){this.pageBuilder=new vJ}withLayoutXml(t){return this.pageBuilder.withPageXml(t.Page[0]),this}withTextStyles(t){return this.pageBuilder.withTextStyles(t),this}build(){return{page:this.pageBuilder.build()}}}class bJ{constructor(t){this.stylesXml=t}build(){const t=new Map;return this.stylesXml.TextStyle&&this.stylesXml.TextStyle.forEach(e=>{t.set(e.$.ID,{fontStyle:e.$.FONTSTYLE})}),t}}class wJ{constructor(){this.layoutBuilder=new _J}withAltoXml(t){return this.altoXml=t,this}build(){return this.altoXml.Styles&&this.layoutBuilder.withTextStyles(new bJ(this.altoXml.Styles[0]).build()),this.layoutBuilder.withLayoutXml(this.altoXml.Layout[0]),{layout:this.layoutBuilder.build()}}}class CJ{constructor(t,e){this.sanitizer=t,this.hits=e}altoToHtml(t){const e=t.layout.page;let i="",r=[];return e.topMargin.textBlocks&&(r=[...r,...e.topMargin.textBlocks]),e.leftMargin.textBlocks&&(r=[...r,...e.leftMargin.textBlocks]),e.printSpace.textBlocks&&(r=[...r,...e.printSpace.textBlocks]),e.bottomMargin.textBlocks&&(r=[...r,...e.bottomMargin.textBlocks]),r.forEach(s=>{var o;let a=[];s.textLines.forEach(u=>{u.strings.forEach(p=>{a.push(p.content)})});const c=[];"bold"===(null===(o=null==s?void 0:s.textStyle)||void 0===o?void 0:o.fontStyle)&&c.push("font-weight: bold"),i+="<p",c&&c.length>0&&(i+=` style="${c.join(";")}"`),i+=`>${this.transform(a.join(" "))}<p/>`}),this.sanitizer.bypassSecurityTrustHtml(i)}transform(t){if(this.hits&&this.hits.length>0)for(const i of this.hits)t=this.highlight(t+" ","\\b"+this.escapeSpecialCharacters(i.match));return t.trim()}highlight(t,e){return t.replace(new RegExp(e,"gi"),i=>`<mark>${i}</mark>`)}escapeSpecialCharacters(t){const i=/[-[\]{}()*"+?.,\\^$|#\s]/g;return'"'===t.charAt(0)?t.substr(1).replace(i,"\\$&"):t.replace(i,"\\$&")}}class ip{constructor(){this.canvasGroupRects=[],this.canvasRects=[],this.canvasesPerCanvasGroup=[]}add(t){this.canvasGroupRects.push(t)}addRange(t){this.canvasGroupRects=t}get(t){return Object.assign({},this.canvasGroupRects[t])}findClosestIndex(t){let i,e=0;return null===t?-1:(this.canvasGroupRects.some(function(r,s){const o=Math.abs(t.x-r.centerX);return o>=i||(e=s,i=o,!1)}),e)}length(){return this.canvasGroupRects.length}}class $s{constructor(t){this.x=0,this.y=0,this.width=0,this.height=0,this.centerX=0,this.centerY=0,t&&(this.x=t.x||this.x,this.y=t.y||this.y,this.width=t.width||this.width,this.height=t.height||this.height,this.centerX=this.x+this.width/2,this.centerY=this.y+this.height/2)}}class xJ{constructor(){this.addAll=t=>{const e=new ip;e.addRange(t),e.canvasRects=t;for(let i=0;i<t.length;i++)e.canvasesPerCanvasGroup.push([i]);return e}}}class EJ{constructor(){this.addAll=t=>{const e=new ip;e.add(t[0]),e.canvasRects=t,e.canvasesPerCanvasGroup.push([0]);for(let i=1;i<t.length;i+=2)if(i+1<t.length){const r=t[i],s=t[i+1],o=new $s({x:Math.min(r.x,s.x),y:Math.min(r.y,s.y),height:Math.max(r.height,s.height),width:r.width+s.width});e.add(o),e.canvasesPerCanvasGroup.push([i,i+1])}else e.add(t[i]),e.canvasesPerCanvasGroup.push([i]);return e}}}let Lr=(()=>{class n{constructor(){this._currentNumberOfCanvasGroups=new ui(0),this._currentCanvasGroupIndex=new ui(0),this.canvasGroups=new ip,this._numberOfCanvases=0}addAll(e,i){this.numberOfCanvases=e.length;const r=class{static create(t){return t===En.ONE_PAGE?new xJ:new EJ}}.create(i);this.canvasGroups=r.addAll(e),this._currentNumberOfCanvasGroups.next(this.canvasGroups.length())}reset(){this.numberOfCanvases=0,this._currentCanvasGroupIndex.next(0),this.canvasGroups=new ip}get onCanvasGroupIndexChange(){return this._currentCanvasGroupIndex.asObservable().pipe(Xi())}get onNumberOfCanvasGroupsChange(){return this._currentNumberOfCanvasGroups.asObservable().pipe(Xi())}set currentCanvasGroupIndex(e){!this.isWithinBounds(e)||this._currentCanvasGroupIndex.next(e)}get currentCanvasGroupIndex(){return this._currentCanvasGroupIndex.value}get numberOfCanvases(){return this._numberOfCanvases}set numberOfCanvases(e){this._numberOfCanvases=e}get numberOfCanvasGroups(){return this.canvasGroups.length()}get currentCanvasIndex(){const e=this.canvasGroups.canvasesPerCanvasGroup[this.currentCanvasGroupIndex];return e&&e.length>=1?e[0]:0}isWithinBounds(e){return e>-1&&e<=this.numberOfCanvasGroups-1}isCurrentCanvasGroupValid(){return this.isWithinBounds(this.currentCanvasGroupIndex)}getNextCanvasGroupIndex(){return this.isWithinBounds(this.currentCanvasGroupIndex+1)?(this.currentCanvasGroupIndex++,this.currentCanvasGroupIndex):-1}getPrevCanvasGroupIndex(){return this.isWithinBounds(this.currentCanvasGroupIndex-1)?(this.currentCanvasGroupIndex--,this.currentCanvasGroupIndex):-1}constrainToRange(e){return e<0?0:e>=this.numberOfCanvasGroups-1?this.numberOfCanvasGroups-1:e}findClosestCanvasGroupIndex(e){return this.canvasGroups.findClosestIndex(e)}findCanvasGroupByCanvasIndex(e){return this.canvasGroups.canvasesPerCanvasGroup.findIndex(function(i){return i.indexOf(e)>=0})}findCanvasByCanvasIndex(e){return 0===this.canvasGroups.canvasesPerCanvasGroup.length?-1:this.canvasGroups.canvasesPerCanvasGroup[e][0]}getCanvasGroupLabel(e){if(!this.canvasGroups.canvasGroupRects||0===this.canvasGroups.canvasesPerCanvasGroup.length)return"1";const i=this.canvasGroups.canvasesPerCanvasGroup[e];let r=""+(i[0]+1);return i.length>1&&(r=r+"-"+(i[i.length-1]+1)),r}getCanvasesPerCanvasGroup(e){return this.canvasGroups.canvasGroupRects?this.canvasGroups.canvasesPerCanvasGroup[e]:[0]}getCanvasRect(e){return this.canvasGroups.canvasRects[e]}getCurrentCanvasGroupRect(){return this.getCanvasGroupRect(this.currentCanvasGroupIndex)}getCanvasGroupRect(e){return this.canvasGroups.get(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),$l=(()=>{class n{constructor(e,i,r,s,o){this.intl=e,this.http=i,this.iiifManifestService=r,this.canvasService=s,this.sanitizer=o,this.altos=[],this.recognizedTextContentToggle=new ui(!1),this.isLoading=new ui(!1),this.textContentReady=new R,this.textError=new R,this.manifest=null,this.subscriptions=new h,this.altoBuilder=new wJ}get onRecognizedTextContentToggleChange$(){return this.recognizedTextContentToggle.asObservable()}get onTextContentReady$(){return this.textContentReady.asObservable()}get isLoading$(){return this.isLoading.asObservable()}get hasErrors$(){return this.textError.asObservable()}get onRecognizedTextContentToggle(){return this.recognizedTextContentToggle.value}set onRecognizedTextContentToggle(e){this.recognizedTextContentToggle.next(e)}initialize(e){this.htmlFormatter=new CJ(this.sanitizer,e),this.subscriptions=new h,this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(i=>{this.manifest=i,this.clearCache()})),this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.pipe(Pl(200)).subscribe(i=>{this.textError.next(void 0);const r=[],s=this.canvasService.getCanvasesPerCanvasGroup(i);this.addAltoSource(s[0],r),2===s.length&&this.addAltoSource(s[1],r),this.isLoading.next(!0),Xv(r).pipe(hn(1),Xf(()=>this.isLoading.next(!1))).subscribe()}))}destroy(){this.subscriptions.unsubscribe(),this.clearCache()}toggle(){this.onRecognizedTextContentToggle=!this.recognizedTextContentToggle.getValue()}getHtml(e){return this.altos&&this.altos.length>=e+1?this.altos[e]:void 0}clearCache(){this.altos=[]}addAltoSource(e,i){if(this.manifest&&this.manifest.sequences){const r=this.manifest.sequences[0];if(r.canvases){const s=r.canvases[e];s&&s.altoUrl&&i.push(this.add(e,s.altoUrl))}}}add(e,i){return new B(r=>{this.isInCache(e)?this.done(r):this.load(r,e,i)})}isInCache(e){return this.altos[e]}load(e,i,r){this.http.get(r,{headers:(new ys).set("Content-Type","text/xml"),responseType:"text"}).pipe(hn(1),W1(s=>Ki({isError:!0,error:s}))).subscribe(s=>{try{if(s.isError)throw s.err;(0,fJ.parseString)(s,{explicitChildren:!0,preserveChildrenOrder:!0},(o,a)=>{const c=this.altoBuilder.withAltoXml(a.alto).build();this.addToCache(i,c),this.done(e)})}catch(o){this.error(e)}})}addToCache(e,i){this.altos[e]=this.htmlFormatter.altoToHtml(i)}done(e){this.textContentReady.next(),this.complete(e)}error(e){this.textError.next(this.intl.textContentErrorLabel),this.complete(e)}complete(e){e.next(),e.complete()}}return n.\u0275fac=function(e){return new(e||n)(se(Ti),se(Ol),se(Zi),se(Lr),se(aa))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fn_zoom_zoomFactor=1.15,fn_zoom_dblClickZoomFactor=2.7,fn_zoom_pinchZoomThreshold=3,fn_pan_swipeDirectionThreshold=70,fn_transitions_toolbarsEaseInTime=400,fn_transitions_toolbarsEaseOutTime=500,fn_transitions_OSDAnimationTime=600,fn_overlays_canvasGroupMarginInDashboardView=300,fn_overlays_canvasGroupMarginInPageView=20,fn_padding_header=80,fn_padding_footer=80;class Ea{static numbersAreClose(t,e,i){return Math.abs(t-e)<=i}static shortenDecimals(t,e){const i=Number(t).toPrecision(e);return Number(i)}static getScaleFactor(t,e=!1){return e?1:400*(t||1)}}const YI=(n,t,e,i)=>{var r,s;let o={};const a=Ea.getScaleFactor(null===(s=null===(r=t.canvasSource.service)||void 0===r?void 0:r.service)||void 0===s?void 0:s.physicalScale,i);return o=90===n||270===n?{height:Math.trunc(t.canvasSource.width*a),width:Math.trunc(t.canvasSource.height*a),x:e,y:-1*Math.trunc(t.canvasSource.width*a/2)}:{height:Math.trunc(t.canvasSource.height*a),width:Math.trunc(t.canvasSource.width*a),x:e,y:-1*Math.trunc(t.canvasSource.height*a/2)},new $s(o)};class SJ{constructor(t){this.config=t}calculateCanvasGroupPosition(t,e=0){let i;return i=t.canvasGroupIndex?t.viewingDirection===Hn.LTR?this.calculateLtrX(t):this.calculateRtlX(t):90===e||270===e?t.canvasSource.height/2*-1:t.canvasSource.width/2*-1,YI(e,t,i,this.config.ignorePhysicalScale)}calculateLtrX(t){return t.previousCanvasGroupPosition.x+t.previousCanvasGroupPosition.width+fn_overlays_canvasGroupMarginInDashboardView}calculateRtlX(t){return t.previousCanvasGroupPosition.x-t.previousCanvasGroupPosition.width-fn_overlays_canvasGroupMarginInDashboardView}}class TJ{constructor(t){this.config=t}calculateCanvasGroupPosition(t,e=0){let i;return i=t.canvasGroupIndex?t.canvasGroupIndex%2?t.viewingDirection===Hn.LTR?this.calculateEvenLtrX(t):this.calculateEvenRtlX(t):t.viewingDirection===Hn.LTR?this.calculateOddLtrX(t):this.calculateOddRtlX(t):0,YI(e,t,i,this.config.ignorePhysicalScale)}calculateEvenLtrX(t){return t.previousCanvasGroupPosition.x+t.previousCanvasGroupPosition.width+fn_overlays_canvasGroupMarginInDashboardView}calculateOddLtrX(t){return t.previousCanvasGroupPosition.x+t.previousCanvasGroupPosition.width}calculateEvenRtlX(t){return t.previousCanvasGroupPosition.x-t.canvasSource.width-fn_overlays_canvasGroupMarginInDashboardView}calculateOddRtlX(t){return t.previousCanvasGroupPosition.x-t.canvasSource.width}}class ko{static isManifestPaged(t){return ko.isManifestViewingHintPaged(t)||ko.isSequenceViewingHintPaged(t)}static isManifestViewingHintPaged(t){return t&&"paged"===t.viewingHint}static isSequenceViewingHintPaged(t){let e=null;return t&&t.sequences&&t.sequences.length>0&&(e=t.sequences[0]),!!e&&"paged"===e.viewingHint}static hasRecognizedTextContent(t){if(t.sequences&&t.sequences.length>0){const e=t.sequences[0];if(e.canvases&&e.canvases.length>0)return void 0!==e.canvases.find(i=>i.altoUrl)}return!1}}class IJ{constructor(){this.active=!1,this.previousGestureId=0,this.shouldStop=!1}}var eo=(()=>(function(n){n[n.LEFT=0]="LEFT",n[n.RIGHT=1]="RIGHT",n[n.TOP=2]="TOP",n[n.BOTTOM=3]="BOTTOM"}(eo||(eo={})),eo))(),Yi=(()=>(function(n){n[n.UNDEFINED=0]="UNDEFINED",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n[n.UP=3]="UP",n[n.DOWN=4]="DOWN",n[n.NEXT=5]="NEXT",n[n.PREVIOUS=6]="PREVIOUS"}(Yi||(Yi={})),Yi))();class RJ{calculateNextCanvasGroup(t){let r=1;return r=t.direction===Yi.NEXT?r:-1*r,r=t.currentCanvasGroupIndex+r,r}}class OJ{calculateNextCanvasGroup(t){const i=t.direction,r=t.currentCanvasGroupIndex,s=t.currentCanvasGroupCenter;let o,a=this.calculateNumberOfCanvasGroupsToGo(t.speed);return 0===a?o=s:(a=i===Yi.LEFT?a:-1*a,o=t.viewingDirection===Hn.LTR?r+a:r-a),o}calculateNumberOfCanvasGroupsToGo(t){let e=10;return void 0!==t&&(t<500?e=0:t>=500&&t<1500?e=1:t>=1500&&t<2500?e=3:t>=2500&&t<3500&&(e=5)),e}}class FJ{calculateNextCanvasGroup(t){const i=t.speed;let s=t.currentCanvasGroupIndex;if(i&&i>=200){const o=t.direction===Yi.LEFT?1:-1;s=t.viewingDirection===Hn.LTR?t.currentCanvasGroupIndex+o:t.currentCanvasGroupIndex-o}else t.currentCanvasGroupIndex!==t.currentCanvasGroupCenter&&(s=t.currentCanvasGroupCenter);return s}}class PJ{calculateNextCanvasGroup(t){const i=t.currentCanvasGroupIndex;let s=t.canvasGroupEndHitCountReached?1:0;return s=t.direction===Yi.LEFT?s:-1*s,s=t.viewingDirection===Hn.LTR?i+s:i-s,s}}class G_{static create(t){return t===lt.DASHBOARD?new OJ:t===lt.PAGE?new FJ:t===lt.PAGE_ZOOMED?new PJ:new RJ}}class kJ{constructor(t,e){this.styleService=e,this.canvasGroupRect=new $s,this.disableResize=!1,this.animationHandler=()=>{this.resize()},this.resizeHandler=()=>{this.setCenter(),this.resize()},this.canvasGroupPinchHandler=()=>{this.disableResize=!1},this.canvasGroupDragHandler=i=>{(i.delta.x||i.delta.y)&&i.speed>0&&0!==i.direction&&(this.disableResize=!0)},this.canvasGroupDragEndHandler=()=>{this.disableResize=!1,this.resize()},this.viewer=t}initialize(t,e){this.unsubscribe(),this.subscriptions=new h,this.subscriptions.add(this.styleService.onChange.subscribe(i=>{this.backgroundColor=i,this.leftMask&&this.leftMask.style("fill",this.backgroundColor),this.rightMask&&this.rightMask.style("fill",this.backgroundColor)})),this.canvasGroupRect=t,this.addCanvasGroupMask(),this.setCenter(),this.resize(),e?this.show():this.hide()}destroy(){this.unsubscribe()}changeCanvasGroup(t){this.canvasGroupRect=t,this.resize()}show(){this.addHandlers(),this.leftMask&&this.rightMask&&(this.setCenter(),this.resize(),this.leftMask.attr("height","100%"),this.rightMask.attr("height","100%"))}hide(){this.removeHandlers(),this.leftMask&&this.rightMask&&(this.leftMask.attr("height","0"),this.rightMask.attr("height","0"))}addHandlers(){this.viewer.addHandler("animation",this.animationHandler),this.viewer.addHandler("resize",this.resizeHandler),this.viewer.addHandler("canvas-pinch",this.canvasGroupPinchHandler),this.viewer.addHandler("canvas-drag",this.canvasGroupDragHandler),this.viewer.addHandler("canvas-drag-end",this.canvasGroupDragEndHandler)}removeHandlers(){this.viewer.removeHandler("animation",this.animationHandler),this.viewer.removeHandler("resize",this.resizeHandler),this.viewer.removeHandler("canvas-pinch",this.canvasGroupPinchHandler),this.viewer.removeHandler("canvas-drag",this.canvasGroupDragHandler),this.viewer.removeHandler("canvas-drag-end",this.canvasGroupDragEndHandler)}addCanvasGroupMask(){const e=Ru(this.viewer.svgOverlay().node().parentNode).append("g").attr("id","page-mask");this.leftMask=e.append("rect").attr("id","mime-left-page-mask").attr("height","100%").attr("y",0).style("fill",this.backgroundColor),this.rightMask=e.append("rect").attr("id","mime-right-page-mask").attr("height","100%").attr("y",0).style("fill",this.backgroundColor)}setCenter(){this.center=new Kl.Point(this.viewer.viewport._containerInnerSize.x/2,this.viewer.viewport._containerInnerSize.y/2)}resize(){if(this.disableResize||!this.leftMask||!this.rightMask)return;const t=this.getLeftMaskRect(),e=this.getRightMaskRect();this.leftMask.attr("width",t.width).attr("x",t.x),this.rightMask.attr("width",e.width).attr("x",Math.round(e.x))}getLeftMaskRect(){const t=new Kl.Rect(this.canvasGroupRect.x,this.canvasGroupRect.y,this.canvasGroupRect.width,this.canvasGroupRect.height);let i=this.viewer.viewport.viewportToViewerElementCoordinates(t.getTopLeft()).x-fn_overlays_canvasGroupMarginInPageView;return i<0&&(i=0),new $s({x:0,width:i})}getRightMaskRect(){const t=new Kl.Rect(this.canvasGroupRect.x,this.canvasGroupRect.y,this.canvasGroupRect.width,this.canvasGroupRect.height),e=this.viewer.viewport.viewportToViewerElementCoordinates(t.getTopRight());let i=this.viewer.viewport._containerInnerSize.x-e.x;const r=this.viewer.viewport._containerInnerSize.x-i+fn_overlays_canvasGroupMarginInPageView;return i<0&&(i=0),new $s({x:r,width:i})}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}}class LJ{constructor(t,e,i,r,s,o){this.viewer=t,this.zoomStrategy=e,this.canvasService=i,this.modeService=r,this.config=s,this.viewingDirection=o}goToCanvasGroup(t){const e=this.canvasService.currentCanvasGroupIndex;this.canvasService.currentCanvasGroupIndex=this.canvasService.constrainToRange(t.canvasGroupIndex);const i=this.canvasService.getCanvasGroupRect(this.canvasService.currentCanvasGroupIndex);if(this.modeService.isPageZoomed()&&this.config.preserveZoomOnCanvasGroupChange){let r;if(e>t.canvasGroupIndex)if(this.config.startOnTopOnCanvasGroupChange){const o=this.canvasService.getCanvasesPerCanvasGroup(t.canvasGroupIndex),c=this.canvasService.getCanvasRect(o[o.length-1]);r=this.viewingDirection===Hn.LTR?this.leftX(c):this.rightX(i)}else r=this.viewingDirection===Hn.LTR?this.rightX(i):this.leftX(i);else r=this.viewingDirection===Hn.LTR?this.leftX(i):this.rightX(i);const s=this.config.startOnTopOnCanvasGroupChange&&e!==t.canvasGroupIndex?i.y+this.getViewportBounds().height/2-this.viewer.collectionTileMargin:this.getViewportCenter().y;this.panTo(r,s,t.immediately)}else if(this.modeService.isPageZoomed()){const r=this.canvasService.getCanvasGroupRect(e);this.panToCenter(r,t.immediately),this.zoomStrategy.goToHomeZoom(),setTimeout(()=>{this.panToCenter(i,t.immediately),this.modeService.mode=lt.PAGE},fn_transitions_OSDAnimationTime)}else this.panToCenter(i,t.immediately)}goToPreviousCanvasGroup(t){if(this.canvasService.currentCanvasGroupIndex>0){const e=this.getViewportCenter(),i=this.canvasService.findClosestCanvasGroupIndex(e),s=G_.create(lt.NAVIGATOR).calculateNextCanvasGroup({direction:Yi.PREVIOUS,currentCanvasGroupIndex:i,currentCanvasGroupCenter:t,viewingDirection:this.viewingDirection});this.goToCanvasGroup({canvasGroupIndex:s,immediately:!1})}}goToNextCanvasGroup(t){if(this.canvasService.currentCanvasGroupIndex<this.canvasService.numberOfCanvasGroups){const e=this.getViewportCenter(),i=this.canvasService.findClosestCanvasGroupIndex(e),s=G_.create(lt.NAVIGATOR).calculateNextCanvasGroup({direction:Yi.NEXT,currentCanvasGroupIndex:i,currentCanvasGroupCenter:t,viewingDirection:this.viewingDirection});this.goToCanvasGroup({canvasGroupIndex:s,immediately:!1})}}centerCurrentCanvas(){const e=this.canvasService.getCanvasGroupRect(this.canvasService.currentCanvasGroupIndex);this.panToCenter(e,!1)}leftX(t){return t.x+this.getViewportBounds().width/2}rightX(t){return t.x+t.width-this.getViewportBounds().width/2}panToCenter(t,e=!1){this.panTo(t.centerX,t.centerY,e)}panTo(t,e,i=!1){this.viewer.viewport.panTo({x:t,y:e},i)}getViewportCenter(){return this.viewer.viewport.getCenter(!0)}getViewportBounds(){return this.viewer.viewport.getBounds(!0)}}class BJ{constructor(){this.leftCount=0,this.rightCount=0,this.reset()}reset(){this.leftCount=0,this.rightCount=0}addHit(t,e){null!==t&&this.incrementSide(t),null!==e&&this.clearOppositeSideOfDragDirection(e)}hitCountReached(){return this.leftCount>=2||this.rightCount>=2}incrementSide(t){t===eo.LEFT?(this.leftCount++,this.rightCount=0):t===eo.RIGHT&&(this.rightCount++,this.leftCount=0)}clearOppositeSideOfDragDirection(t){t===Yi.LEFT?this.leftCount=0:t===Yi.RIGHT&&(this.rightCount=0)}}class Ku{static getSwipeDirection(t,e,i){let r=Math.abs(t.x-e.x);const s=Math.abs(t.y-e.y);return r=i?r-fn_pan_swipeDirectionThreshold:r,t.x>e.x&&r>=s?Yi.LEFT:t.x<e.x&&r>=s?Yi.RIGHT:Yi.UNDEFINED}static getSideIfPanningPastEndOfCanvasGroup(t,e){return this.isPanningOutsideLeft(t,e)?eo.LEFT:this.isPanningOutsideRight(t,e)?eo.RIGHT:null}static isPanningOutsideCanvasGroup(t,e){return this.isPanningOutsideLeft(t,e)||this.isPanningOutsideRight(t,e)}static isPanningOutsideLeft(t,e){return e.x<t.x}static isPanningOutsideRight(t,e){return e.x+e.width>t.x+t.width}static isDirectionInRightSemicircle(t){return t>-Math.PI/2&&t<Math.PI/2}static isDirectionInLeftSemicircle(t){return!this.isDirectionInRightSemicircle(t)||0===t}}class VJ{getTileSource(t){var e;let i;return(null===(e=null==t?void 0:t.service)||void 0===e?void 0:e.service)?(i=t.service,i.tileOverlap=.1):(i=t.service["@id"],i||(i=t["@id"]),i=i&&i.startsWith("//")?`${location.protocol}${i}`:i,i=i&&!i.endsWith("/info.json")?`${i}/info.json`:i),i}}class HJ{getTileSource(t){return t.service.id}}class GJ{getTileSource(t){return{type:"image",url:t["@id"]||t.id}}}class z_{static constrainPositionToCanvasGroup(t,e){return t.x<e.x?t.x=e.x:t.x>e.x+e.width&&(t.x=e.x+e.width),t}static constraintZoomFactor(t,e,i){const r=e*t;return r>i?i/r*t:t}}class UJ extends class{constructor(t,e,i,r){this.viewer=t,this.canvasService=e,this.modeService=i,this.viewerLayoutService=r}setMinZoom(t){this.viewer.viewport.minZoomLevel=this.getHomeZoomLevel(t)}getMinZoom(){return Ea.shortenDecimals(this.viewer.viewport.getMinZoom(),5)}getMaxZoom(){return Ea.shortenDecimals(this.viewer.viewport.getMaxZoom(),5)}getZoom(){return Ea.shortenDecimals(this.viewer.viewport.getZoom(!0),5)}goToHomeZoom(){this.zoomTo(this.getHomeZoomLevel(this.modeService.mode)),this.modeService.isPageZoomed()&&(this.modeService.mode=lt.PAGE)}zoomTo(t,e){this.viewer.viewport.zoomTo(t,e)}getHomeZoomLevel(t){if(!this.viewer||!this.canvasService||!this.viewer.container)return 1;let e,i,r;const s=this.canvasService.getCurrentCanvasGroupRect();return e=s.height,i=s.width,r=t===lt.DASHBOARD?this.getDashboardViewportBounds():this.viewer.viewport.getBounds(),this.getFittedZoomLevel(r,e,i)}zoomIn(t,e){t||(t=fn_zoom_zoomFactor),e&&(e=this.viewer.viewport.pointFromPixel(e))&&(e=z_.constrainPositionToCanvasGroup(e,this.canvasService.getCurrentCanvasGroupRect())),this.modeService.mode!==lt.PAGE_ZOOMED&&(this.modeService.mode=lt.PAGE_ZOOMED),this.zoomBy(t,e)}zoomOut(t,e){t||(t=Math.pow(fn_zoom_zoomFactor,-1)),e&&(e=this.viewer.viewport.pointFromPixel(e))&&(e=z_.constrainPositionToCanvasGroup(e,this.canvasService.getCurrentCanvasGroupRect())),this.isViewportLargerThanCanvasGroup()?this.modeService.mode=lt.PAGE:this.zoomBy(t,e)}getDashboardViewportBounds(){const t=this.getHomeZoomFactor(),e=new Es(Ru(this.viewer.container.parentNode.parentNode).node().getBoundingClientRect()),s=this.viewer.viewport.deltaPointsFromPixels(new Kl.Point(e.width*t,e.height-fn_padding_header-fn_padding_footer));return new Kl.Rect(0,0,s.x,s.y)}getFittedZoomLevel(t,e,i){const r=this.viewer.viewport.getZoom(),s=t.height/e;return Ea.shortenDecimals(s*i<=t.width?s*r:t.width/i*r,5)}zoomBy(t,e){const i=this.viewer.viewport.getZoom(!1);t=z_.constraintZoomFactor(t,i,this.getMaxZoom()),this.viewer.viewport.zoomBy(t,e)}isViewportLargerThanCanvasGroup(){const t=this.canvasService.getCurrentCanvasGroupRect(),e=this.viewer.viewport.getBounds(),i=Math.round(t.width),r=Math.round(t.height),s=Math.round(e.width);return Math.round(e.height)>=r||s>=i}getHomeZoomFactor(){return this.modeService.mode===lt.DASHBOARD?this.getDashboardZoomHomeFactor():1}getDashboardZoomHomeFactor(){return this.viewerLayoutService.layout===En.ONE_PAGE?.85:.66}}{constructor(t,e,i,r){super(t,e,i,r)}}let QI=(()=>{class n{constructor(){this.singleClickHandlers=[],this.doubleClickHandlers=[],this.clickCount=0,this.click=e=>{e.preventDefaultAction=!0,e.quick&&(this.clickCount++,1===this.clickCount?this.dblClickTimeOut=setTimeout(()=>{this.clickCount=0,this.triggerSingleClick(e)},e.tracker.dblClickTimeThreshold):2===this.clickCount&&(clearTimeout(this.dblClickTimeOut),this.clickCount=0,this.triggerDoubleClick(e)))}}reset(){this.singleClickHandlers=[],this.doubleClickHandlers=[]}addSingleClickHandler(e){this.singleClickHandlers.push(e)}addDoubleClickHandler(e){this.doubleClickHandlers.push(e)}triggerSingleClick(e){this.singleClickHandlers.forEach(i=>{i(e)})}triggerDoubleClick(e){this.doubleClickHandlers.forEach(i=>{i(e)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class JI{constructor(t){t&&(this.currentValue=t.currentValue||this.currentValue,this.previousValue=t.previousValue||this.previousValue)}}let rp=(()=>{class n{constructor(){this.modeChanges=new JI;const e=new pf;this.toggleModeSubject=new ui(new JI),this._initialMode=e.initViewerMode,this._mode=this._initialMode}get onChange(){return this.toggleModeSubject.asObservable().pipe(Xi())}set mode(e){this._mode=e,this.change()}get mode(){return this._mode}set initialMode(e){this._initialMode=e,this.mode=e}get initialMode(){return this._initialMode}toggleMode(){this.mode===lt.DASHBOARD?this.mode=lt.PAGE:(this.mode===lt.PAGE||this.mode===lt.PAGE_ZOOMED)&&(this.mode=lt.DASHBOARD)}isPageZoomed(){return this.mode===lt.PAGE_ZOOMED}destroy(){this.mode=this._initialMode}change(){this.modeChanges.previousValue=this.modeChanges.currentValue,this.modeChanges.currentValue=this._mode,this.toggleModeSubject.next(Object.assign({},this.modeChanges))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),sp=(()=>{class n{constructor(e){this.mediaObserver=e,this.mimeConfig=new pf,this.subject=new ui(this.mimeConfig.initViewerLayout)}init(e){this.mimeConfig.initViewerLayout===En.TWO_PAGE&&e&&!this.isMobile()?(this._layout=En.TWO_PAGE,this.change()):(this._layout=En.ONE_PAGE,this.change())}get onChange(){return this.subject.asObservable().pipe(Xi())}get layout(){return this._layout}setLayout(e){this._layout=e,this.change()}toggle(){this._layout===En.TWO_PAGE?this.setLayout(En.ONE_PAGE):this._layout===En.ONE_PAGE&&this.setLayout(En.TWO_PAGE)}change(){this.subject.next(this._layout)}isMobile(){return this.mediaObserver.isActive("lt-md")}}return n.\u0275fac=function(e){return new(e||n)(se(Eo))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();class $I{constructor(t){this.id=0,this.index=0,this.label="",this.match="",this.before="",this.after="",this.rects=[],t&&(this.id=t.id||this.id,this.index=t.index||this.index,this.label=t.label||this.label,this.match=t.match||this.match,this.before=t.before||this.before,this.after=t.after||this.after,this.rects=t.rects||this.rects)}}class Xu{constructor(t){this.q="",this.hits=[],t&&(this.q=t.q||this.q,this.hits=t.hits||this.hits)}add(t){this.hits.push(t)}get(t){return new $I(Object.assign({},this.hits[t]))}size(){return this.hits.length}last(){return this.get(this.size()-1)}}class WJ{constructor(t,e,i,r){this.q=t,this.manifest=e,this.iiifSearchResult=i,this.config=r}build(){const t=new Xu;return t.q=this.q,this.iiifSearchResult&&this.iiifSearchResult.hits&&this.iiifSearchResult.hits.forEach((e,i)=>{const r=i;let o,s=-1;const a=[];if(this.manifest.sequences&&this.manifest.sequences[0].canvases){const c=this.findResources(e);for(const u of c){s=this.findSequenceIndex(u),o=this.findLabel(s);const p=u.on;if(p){const x=this.getScale(s),A=p.substring(p.indexOf("=")+1).split(","),k=new $s({x:this.scaleValue(A[0],x),y:this.scaleValue(A[1],x),width:this.scaleValue(A[2],x),height:this.scaleValue(A[3],x)});a.push(k)}}}t.add(new $I({id:r,index:s,label:o,match:e.match,before:e.before,after:e.after,rects:a}))}),t}findResources(t){const e=[];if(t.annotations)for(const i of t.annotations)if(this.iiifSearchResult.resources){const r=this.iiifSearchResult.resources.find(s=>s["@id"]===i);r&&e.push(r)}return e}findSequenceIndex(t){if(!this.manifest.sequences)throw new Error("No sequences found!");const e=this.getFirstSequence(),i=t.on;if(i&&e&&e.canvases){const r=i.substring(0,i.indexOf("#"));return e.canvases.findIndex(s=>s.id===r)}return-1}findLabel(t){if(-1!==t){const e=this.getFirstSequenceCanvas(t);return e?e.label:void 0}}getFirstSequence(){const t=this.manifest.sequences;return t?t[0]:void 0}getFirstSequenceCanvas(t){const e=this.getFirstSequence();return e&&void 0!==e.canvases?e.canvases[t]:void 0}getScale(t){const e=this.getPhysicalScale(t);return Ea.getScaleFactor(e,this.config.ignorePhysicalScale)}getPhysicalScale(t){var e,i,r,s;const o=this.getFirstSequenceCanvas(t);return null===(s=null===(r=null===(i=null===(e=null==o?void 0:o.images)||void 0===e?void 0:e[0].resource)||void 0===i?void 0:i.service)||void 0===r?void 0:r.service)||void 0===s?void 0:s.physicalScale}scaleValue(t,e){return Math.trunc(parseInt(t,10)*e)}}let to=(()=>{class n{constructor(e){this.http=e,this._currentSearchResult=new ui(new Xu({})),this._searching=new ui(!1),this._currentQ=new ui(""),this._selected=new ui(null)}destroy(){this._currentSearchResult.next(new Xu({})),this._searching.next(!1),this._currentQ.next(""),this._selected.next(null)}get onQChange(){return this._currentQ.asObservable().pipe(Xi())}get onChange(){return this._currentSearchResult.asObservable()}get isSearching(){return this._searching.asObservable()}get onSelected(){return this._selected.asObservable()}search(e,i){this._currentQ.next(i),this._selected.next(null),0!==i.length?!e.service||null===e.service||(this._searching.next(!0),this.http.get(`${e.service.id}?q=${i}`).pipe(Xf(()=>this._searching.next(!1)),hn(1)).subscribe(r=>this._currentSearchResult.next(this.extractData(i,e,r)),r=>this.handleError)):this._currentSearchResult.next(new Xu)}selected(e){this._selected.next(e)}setConfig(e){this.config=e}extractData(e,i,r){return new WJ(e,i,r,this.config).build()}handleError(e){let i;return i=e.error instanceof Error?e.error.message:e.error,zy(i)}}return n.\u0275fac=function(e){return new(e||n)(se(Ol))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),Zu=(()=>{class n{constructor(e){this.zone=e,this.colorSubject=new gu}get onChange(){return this.colorSubject.asObservable().pipe(Vn(e=>null!==e),Xi())}initialize(){this.subscriptions=new h,this.zone.runOutsideAngular(()=>{this.subscriptions.add(qu(1e3).pipe(Fl(()=>{const e=this.currentRgbColor,i=this.getComputedBackgroundColor(1);e!==i&&(this.currentRgbColor=i,this.colorSubject.next(i))})).subscribe())})}destroy(){this.subscriptions.unsubscribe()}convertToRgba(e,i){return e.replace(/rgb/i,"rgba").replace(/\)/i,`,${i})`)}getComputedBackgroundColor(e){const i=document.getElementsByClassName("mat-app-background"),r=document.getElementsByTagName("mat-sidenav-container");return i.length>0?this.getComputedStyle(i[0],"background-color"):r.length>0?this.getComputedStyle(r[0],"background-color"):void 0}getComputedStyle(e,i){return window.getComputedStyle(e,null).getPropertyValue(i)}}return n.\u0275fac=function(e){return new(e||n)(se(mt))},n.\u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Da=(()=>{class n{constructor(e,i,r,s,o,a,c,u){this.zone=e,this.clickService=i,this.canvasService=r,this.modeService=s,this.viewerLayoutService=o,this.iiifContentSearchService=a,this.styleService=c,this.altoService=u,this.overlays=[],this.tileSources=[],this.isCanvasPressed=new ui(!1),this.currentCenter=new R,this.currentCanvasIndex=new ui(0),this.currentHit=new R,this.osdIsReady=new ui(!1),this.swipeDragEndCounter=new BJ,this.pinchStatus=new IJ,this.isManifestPaged=!1,this.currentSearch=null,this.rotation=new ui(0),this.dragStatus=!1,this.scrollHandler=p=>{const x=Math.pow(fn_zoom_zoomFactor,p.scroll);p.scroll>0?this.zoomInGesture(p.position,x):p.scroll<0&&this.zoomOutGesture(p.position,x)},this.pinchHandler=p=>{this.pinchStatus.active=!0;const x=p.distance/p.lastDistance;p.distance>p.lastDistance+fn_zoom_pinchZoomThreshold?this.zoomInPinchGesture(p,x):p.distance+fn_zoom_pinchZoomThreshold<p.lastDistance&&this.zoomOutPinchGesture(p,x)},this.singleClickHandler=p=>{var x;const A=this.getOverlayIndexFromClickEvent(p),k=this.canvasService.findCanvasGroupByCanvasIndex(A);-1!==k?this.canvasService.currentCanvasGroupIndex=k:this.calculateCurrentCanvasGroup(null===(x=this.viewer)||void 0===x?void 0:x.viewport.getCenter(!0)),this.modeService.toggleMode()},this.dblClickHandler=p=>{var x;if(this.modeService.mode===lt.PAGE)this.modeService.mode=lt.PAGE_ZOOMED,this.zoomStrategy.zoomIn(fn_zoom_dblClickZoomFactor,p.position);else{this.modeService.mode=lt.PAGE;const A=this.getOverlayIndexFromClickEvent(p),k=this.canvasService.findCanvasGroupByCanvasIndex(A);k>=0?this.canvasService.currentCanvasGroupIndex=k:this.calculateCurrentCanvasGroup(null===(x=this.viewer)||void 0===x?void 0:x.viewport.getCenter(!0))}},this.dragHandler=p=>{if(this.viewer.panHorizontal=!0,this.modeService.isPageZoomed()){const x=this.canvasService.getCurrentCanvasGroupRect(),A=this.getViewportBounds(),k=Ku.getSideIfPanningPastEndOfCanvasGroup(x,A),G=p.direction;(k===eo.LEFT&&Ku.isDirectionInRightSemicircle(G)||k===eo.RIGHT&&Ku.isDirectionInLeftSemicircle(G))&&(this.viewer.panHorizontal=!1)}}}get onRotationChange(){return this.rotation.asObservable().pipe(Xi())}get onCenterChange(){return this.currentCenter.asObservable()}get onCanvasGroupIndexChange(){return this.currentCanvasIndex.asObservable().pipe(Xi())}get onHitChange(){return this.currentHit.asObservable().pipe(Xi())}get onOsdReadyChange(){return this.osdIsReady.asObservable().pipe(Xi())}initialize(){this.unsubscribe(),this.subscriptions=new h}getViewer(){return this.viewer}getTilesources(){return this.tileSources}getOverlays(){return this.overlays}getZoom(){return this.zoomStrategy.getZoom()}getMinZoom(){return this.zoomStrategy.getMinZoom()}getMaxZoom(){return this.zoomStrategy.getMaxZoom()}home(){!this.osdIsReady.getValue()||(this.zoomStrategy.setMinZoom(this.modeService.mode),this.goToCanvasGroupStrategy.centerCurrentCanvas(),this.zoomStrategy.goToHomeZoom())}goToPreviousCanvasGroup(){this.goToCanvasGroupStrategy.goToPreviousCanvasGroup(this.currentCanvasIndex.getValue())}goToNextCanvasGroup(){this.goToCanvasGroupStrategy.goToNextCanvasGroup(this.currentCanvasIndex.getValue())}goToCanvasGroup(e,i){this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:e,immediately:i})}goToCanvas(e,i){const r=this.canvasService.findCanvasGroupByCanvasIndex(e);this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:r,immediately:i})}highlight(e){if(this.clearHightlight(),this.viewer){e.q&&(this.currentSearch=e);const i=this.rotation.getValue();for(const r of e.hits)for(const s of r.rects){const o=this.canvasService.getCanvasRect(r.index);if(o){let a=s.width,c=s.height,u=o.x,p=o.y;switch(i){case 0:u+=s.x,p+=s.y;break;case 90:u+=o.width-s.y-s.height,p+=s.x,a=s.height,c=s.width;break;case 180:u+=o.width-(s.x+s.width),p+=o.height-(s.y+s.height);break;case 270:u+=s.y,p+=o.height-s.x-s.width,a=s.height,c=s.width}this.svgNode.append("rect").attr("mimeHitIndex",r.id).attr("x",u).attr("y",p).attr("width",a).attr("height",c).attr("class","hit")}}}}highlightCurrentHit(e){this.svgNode.selectAll("g > rect.selected").attr("class","hit"),this.svgNode.selectAll(`g > rect[mimeHitIndex='${e.id}']`).attr("class","hit selected")}clearHightlight(){this.svgNode&&(this.svgNode.selectAll(".hit").remove(),this.currentSearch=null)}setUpViewer(e,i){this.config=i,this.iiifContentSearchService.setConfig(this.config),e&&e.tileSource&&(this.tileSources=e.tileSource,this.zone.runOutsideAngular(()=>{this.manifest=e,this.isManifestPaged=ko.isManifestPaged(this.manifest),this.viewer=new OpenSeadragon.Viewer(class{static create(t){let e=Kl.DEFAULT_SETTINGS;return Object.assign(Object.assign({},e),{id:"openseadragon",useCanvas:this.canUseCanvas(),panVertical:!0,minZoomImageRatio:1,maxZoomPixelRatio:5,smoothTileEdgesMinZoom:1,preserveImageSizeOnResize:!0,visibilityRatio:0,showNavigationControl:!1,animationTime:fn_transitions_OSDAnimationTime/1e3,ajaxWithCredentials:t.withCredentials,loadTilesWithAjax:t.loadTilesWithAjax,crossOriginPolicy:t.crossOriginPolicy,ajaxHeaders:t.ajaxHeaders,gestureSettingsMouse:Object.assign(Object.assign({},e.gestureSettingsMouse),{scrollToZoom:!1,clickToZoom:!1}),gestureSettingsTouch:Object.assign(Object.assign({},e.gestureSettingsTouch),{dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1}),gestureSettingsPen:Object.assign(Object.assign({},e.gestureSettingsPen),{clickToZoom:!1}),gestureSettingsUnknown:Object.assign(Object.assign({},e.gestureSettingsUnknown),{scrollToZoom:!1,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1})})}static canUseCanvas(){if("object"!=typeof navigator)return!1;const t=navigator.userAgent;return"string"==typeof t&&!(-1!==t.indexOf("iPhone")||-1!==t.indexOf("iPad")||-1!==t.indexOf("iPod")||-1!==t.indexOf("Macintosh"))}}.create(this.config)),function(){if(!OpenSeadragon)return void console.error("[openseadragon-svg-overlay] requires OpenSeadragon");const n="http://www.w3.org/2000/svg";class t{constructor(i){const r=this;this._viewer=i,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(n,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(n,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){r.resize()}),this._viewer.addHandler("open",function(){r.resize()}),this._viewer.addHandler("rotate",function(s){r.resize()}),this._viewer.addHandler("resize",function(){r.resize()}),this.resize()}node(){return this._node}resize(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));const i=this._viewer.viewport.pixelFromPoint(new OpenSeadragon.Point(0,0),!0),r=this._viewer.viewport.getZoom(!0),s=this._viewer.viewport.getRotation();this._node.setAttribute("transform","translate("+i.x+","+i.y+") scale("+this._viewer.viewport._containerInnerSize.x*r+") rotate("+s+")")}onClick(i,r){new OpenSeadragon.MouseTracker({element:i,clickHandler:r}).setTracking(!0)}}OpenSeadragon.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new t(this)),this._svgOverlayInfo}}(),this.zoomStrategy=new UJ(this.viewer,this.canvasService,this.modeService,this.viewerLayoutService),this.goToCanvasGroupStrategy=new LJ(this.viewer,this.zoomStrategy,this.canvasService,this.modeService,this.config,this.manifest.viewingDirection),this.defaultKeyDownHandler=this.viewer.innerTracker.keyDownHandler,this.disableKeyDownHandler(),this.viewer.innerTracker.keyHandler=null,this.canvasService.reset(),this.canvasGroupMask=new kJ(this.viewer,this.styleService)}),this.addToWindow(),this.setupOverlays(),this.createOverlays(),this.addEvents(),this.addSubscriptions())}addSubscriptions(){this.initialize(),this.subscriptions.add(this.modeService.onChange.subscribe(e=>{this.modeChanged(e)})),this.zone.runOutsideAngular(()=>{this.subscriptions.add(this.onCenterChange.pipe(function(n){return t=>t.lift(new dJ(n))}(qu(500))).subscribe(e=>{this.calculateCurrentCanvasGroup(e),e&&null!==e&&this.osdIsReady.next(!0)}))}),this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe(e=>{this.swipeDragEndCounter.reset(),-1!==e&&(this.canvasGroupMask.changeCanvasGroup(this.canvasService.getCanvasGroupRect(e)),(this.modeService.mode===lt.PAGE||this.modeService.mode===lt.DASHBOARD)&&this.zoomStrategy.goToHomeZoom())})),this.subscriptions.add(this.onOsdReadyChange.subscribe(e=>{var i;e&&(this.initialCanvasGroupLoaded(),this.currentCenter.next(null===(i=this.viewer)||void 0===i?void 0:i.viewport.getCenter(!0)))})),this.subscriptions.add(this.viewerLayoutService.onChange.subscribe(e=>{this.layoutPages()})),this.subscriptions.add(this.iiifContentSearchService.onSelected.subscribe(e=>{e&&(this.highlightCurrentHit(e),this.goToCanvas(e.index,!1))})),this.subscriptions.add(this.onRotationChange.subscribe(e=>{this.layoutPages()}))}layoutPages(){if(this.osdIsReady.getValue()){const e=this.canvasService.currentCanvasIndex;this.destroy(!0),this.setUpViewer(this.manifest,this.config),this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:this.canvasService.findCanvasGroupByCanvasIndex(e),immediately:!1}),this.currentSearch&&this.highlight(this.currentSearch)}}addToWindow(){window.openSeadragonViewer=this.viewer}setupOverlays(){this.svgOverlay=this.viewer.svgOverlay(),this.svgNode=Ru(this.svgOverlay.node())}disableKeyDownHandler(){this.viewer.innerTracker.keyDownHandler=null}resetKeyDownHandler(){this.viewer.innerTracker.keyDownHandler=this.defaultKeyDownHandler}destroy(e){this.osdIsReady.next(!1),this.currentCenter.next(void 0),null!=this.viewer&&this.viewer.isOpen()&&(null!=this.viewer.container&&Ru(this.viewer.container.parentNode).style("opacity","0"),this.viewer.destroy(),this.viewer=null),this.overlays=[],this.canvasService.reset(),this.canvasGroupMask&&this.canvasGroupMask.destroy(),e||(this.altoService.destroy(),this.currentSearch=null,this.iiifContentSearchService.destroy(),this.rotation.next(0),this.modeService.destroy(),this.unsubscribe())}addEvents(){this.clickService.reset(),this.clickService.addSingleClickHandler(this.singleClickHandler),this.clickService.addDoubleClickHandler(this.dblClickHandler),this.viewer.addHandler("animation-finish",()=>{var e;this.currentCenter.next(null===(e=this.viewer)||void 0===e?void 0:e.viewport.getCenter(!0))}),this.viewer.addHandler("canvas-click",this.clickService.click),this.viewer.addHandler("canvas-double-click",e=>e.preventDefaultAction=!0),this.viewer.addHandler("canvas-press",e=>{this.pinchStatus.active=!1,this.dragStartPosition=e.position,this.isCanvasPressed.next(!0)}),this.viewer.addHandler("canvas-release",()=>this.isCanvasPressed.next(!1)),this.viewer.addHandler("canvas-scroll",this.scrollHandler),this.viewer.addHandler("canvas-pinch",this.pinchHandler),this.viewer.addHandler("canvas-drag",e=>{this.dragStatus=!0,this.dragHandler(e)}),this.viewer.addHandler("canvas-drag-end",e=>{this.dragStatus&&(this.constraintCanvas(),this.swipeToCanvasGroup(e)),this.dragStatus=!1}),this.viewer.addHandler("animation",e=>{var i;this.currentCenter.next(null===(i=this.viewer)||void 0===i?void 0:i.viewport.getCenter(!0))})}zoomIn(e,i){this.zoomStrategy.zoomIn(e,i)}zoomOut(e,i){this.zoomStrategy.zoomOut(e,i)}rotate(){this.osdIsReady.getValue()&&this.rotation.next((this.rotation.getValue()+90)%360)}modeChanged(e){!this.viewer||(e.currentValue===lt.DASHBOARD?(this.viewer.panVertical=!1,this.toggleToDashboard(),this.disableKeyDownHandler()):e.currentValue===lt.PAGE?(this.viewer.panVertical=!1,this.toggleToPage(),this.disableKeyDownHandler()):e.currentValue===lt.PAGE_ZOOMED&&(this.viewer.panVertical=!0,this.resetKeyDownHandler()))}toggleToDashboard(){!this.canvasService.isCurrentCanvasGroupValid()||(this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:this.canvasService.currentCanvasGroupIndex,immediately:!1}),this.canvasGroupMask.hide(),this.zoomStrategy.setMinZoom(lt.DASHBOARD),this.zoomStrategy.goToHomeZoom())}toggleToPage(){!this.canvasService.isCurrentCanvasGroupValid()||(this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:this.canvasService.currentCanvasGroupIndex,immediately:!1}),this.canvasGroupMask.show(),this.zoomStrategy.setMinZoom(lt.PAGE),this.zoomStrategy.goToHomeZoom())}zoomInGesture(e,i){this.modeService.mode===lt.DASHBOARD?this.modeService.mode=lt.PAGE:e?this.zoomStrategy.zoomIn(i,e):this.zoomStrategy.zoomIn()}zoomOutGesture(e,i){this.modeService.isPageZoomed()?this.zoomStrategy.zoomOut(i,e):this.modeService.mode===lt.PAGE&&(this.modeService.mode=lt.DASHBOARD)}zoomInPinchGesture(e,i){this.modeService.mode===lt.DASHBOARD?this.modeService.mode=lt.PAGE:this.zoomIn(i,this.dragStartPosition||e.center)}zoomOutPinchGesture(e,i){const r=e.gesturePoints[0].id;this.modeService.isPageZoomed()?(this.pinchStatus.shouldStop=!0,this.zoomStrategy.zoomOut(i,e.center)):this.modeService.mode===lt.PAGE&&((!this.pinchStatus.shouldStop||r===this.pinchStatus.previousGestureId+2)&&(this.pinchStatus.shouldStop=!1,this.modeService.toggleMode()),this.pinchStatus.previousGestureId=r)}goToHomeZoom(){this.zoomStrategy.goToHomeZoom()}isCanvasGroupHit(e){return e instanceof SVGRectElement}createOverlays(){this.overlays=[];const e=[],i=class{static create(t,e,i){return t!==En.ONE_PAGE&&e?new TJ(i):new SJ(i)}}.create(this.viewerLayoutService.layout,this.isManifestPaged,this.config),r=this.viewerLayoutService.layout===En.TWO_PAGE,s=this.rotation.getValue();let o=this.svgNode.append("g").attr("class","page-group");this.tileSources.forEach((c,u)=>{const p=i.calculateCanvasGroupPosition({canvasGroupIndex:u,canvasSource:c,previousCanvasGroupPosition:e[u-1],viewingDirection:this.manifest.viewingDirection},s);e.push(p);const A=class{static create(t){return t.service?"Image"===t.type?new HJ:new VJ:new GJ}}.create(c).getTileSource(c);this.zone.runOutsideAngular(()=>{let W;W=90===s||270===s?new OpenSeadragon.Rect(p.x+(p.width-p.height)/2,p.y-(p.width-p.height)/2,p.height,p.width):new OpenSeadragon.Rect(p.x,p.y,p.width,p.height),this.viewer.addTiledImage({index:u,tileSource:A,fitBounds:W,degrees:s})}),r&&u%2!=0&&(o=this.svgNode.append("g").attr("class","page-group"));const k=o.append("rect").attr("x",p.x).attr("y",p.y).attr("width",p.width).attr("height",p.height).attr("class","tile");if(r)if(u%2==0&&0!==u){const ne=Number(2*p.width+p.height)+", "+2*p.width;k.style("stroke-dasharray",ne)}else if(u%2!=0&&0!==u){const ne=p.width+", "+p.height+", "+Number(2*p.width+p.height);k.style("stroke-dasharray",ne)}const G=k.node();this.overlays[u]=G}),this.canvasService.addAll(e,this.viewerLayoutService.layout!==En.ONE_PAGE&&this.isManifestPaged?En.TWO_PAGE:En.ONE_PAGE)}initialCanvasGroupLoaded(){this.home(),this.canvasGroupMask.initialize(this.canvasService.getCurrentCanvasGroupRect(),this.modeService.mode!==lt.DASHBOARD),this.viewer&&Ru(this.viewer.container.parentNode).transition().duration(fn_transitions_OSDAnimationTime).style("opacity","1")}getOverlayIndexFromClickEvent(e){const i=this.getOriginalTarget(e);if(this.isCanvasGroupHit(i)){const r=this.overlays.indexOf(i);if(r>=0)return r}return-1}calculateCurrentCanvasGroup(e){if(e){const i=this.canvasService.findClosestCanvasGroupIndex(e);this.currentCanvasIndex.next(i)}}constraintCanvas(){if(this.modeService.isPageZoomed()){const e=this.getViewportBounds(),i=this.getCurrentCanvasBounds();this.isCanvasOutsideViewport(e,i)?this.constraintCanvasOutsideViewport(e,i):this.constraintCanvasInsideViewport(e)}}getCurrentCanvasBounds(){return this.viewer.world.getItemAt(this.canvasService.currentCanvasGroupIndex).getBounds()}isCanvasOutsideViewport(e,i){return e.height<i.height}constraintCanvasOutsideViewport(e,i){let r;this.isCanvasBelowViewportTop(e,i)?r=new $s({x:e.x+e.width/2,y:i.y+e.height/2}):this.isCanvasAboveViewportBottom(e,i)&&(r=new $s({x:e.x+e.width/2,y:i.y+i.height-e.height/2})),this.panTo(r,!0)}constraintCanvasInsideViewport(e){const i=this.canvasService.getCanvasGroupRect(this.canvasService.currentCanvasGroupIndex),r=new $s({x:e.x+e.width/2,y:i.centerY});this.panTo(r,!0)}isCanvasBelowViewportTop(e,i){return e.y<i.y}isCanvasAboveViewportBottom(e,i){return i.y+i.height<e.y+e.height}swipeToCanvasGroup(e){if(this.pinchStatus.active)return;const i=e.speed,r=e.position,s=this.canvasService.getCurrentCanvasGroupRect(),o=this.getViewportBounds(),a=Ku.getSwipeDirection(this.dragStartPosition,r,this.modeService.isPageZoomed()),c=this.canvasService.currentCanvasGroupIndex,u=G_.create(this.modeService.mode);let p,x=!1;this.modeService.isPageZoomed()&&(p=Ku.getSideIfPanningPastEndOfCanvasGroup(s,o),this.swipeDragEndCounter.addHit(p,a),x=this.swipeDragEndCounter.hitCountReached());const A=this.canvasService.constrainToRange(u.calculateNextCanvasGroup({currentCanvasGroupCenter:this.currentCanvasIndex.getValue(),speed:i,direction:a,currentCanvasGroupIndex:c,canvasGroupEndHitCountReached:x,viewingDirection:this.manifest.viewingDirection}));(this.modeService.mode===lt.DASHBOARD||this.modeService.mode===lt.PAGE||x&&a)&&this.goToCanvasGroupStrategy.goToCanvasGroup({canvasGroupIndex:A,immediately:!1,direction:a})}getViewportBounds(){var e;return null===(e=this.viewer)||void 0===e?void 0:e.viewport.getBounds()}getOriginalTarget(e){return e.originalTarget?e.originalTarget:e.originalEvent.target}panTo(e,i=!1){e&&this.viewer.viewport.panTo({x:e.x,y:e.y},i)}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(se(mt),se(QI),se(Lr),se(rp),se(sp),se(to),se(Zu),se($l))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();function qJ(n,t){if(1&n){const e=wn();ie(0,"div"),ie(1,"a",2),Xe("click",function(r){const o=en(e).$implicit;return Fe().goToCanvas(r,o.canvasIndex)}),ie(2,"span",3),Ke(3),re(),ie(4,"span",4),Ke(5),re(),re(),re()}if(2&n){const e=t.$implicit,i=Fe();ue(1),Vt("currentCanvasGroup",i.currentCanvasGroupIndex===e.canvasIndex),ue(2),Qt(e.label),ue(2),Qt(e.canvasIndex+1)}}let KJ=(()=>{class n{constructor(e,i,r,s,o){this.intl=e,this.changeDetectorRef=i,this.iiifManifestService=r,this.viewerService=s,this.canvasService=o,this.canvasChanged=new Ct,this.manifest=null,this.currentCanvasGroupIndex=0,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(e=>{this.manifest=e,this.currentCanvasGroupIndex=this.canvasService.currentCanvasGroupIndex,this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.viewerService.onCanvasGroupIndexChange.subscribe(e=>{this.currentCanvasGroupIndex=e,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}goToCanvas(e,i){void 0!==i&&(e.preventDefault(),this.viewerService.goToCanvas(i,!1),this.canvasChanged.emit(i))}}return n.\u0275fac=function(e){return new(e||n)(I(Ti),I(Jt),I(Zi),I(Da),I(Lr))},n.\u0275cmp=Mt({type:n,selectors:[["mime-toc"]],outputs:{canvasChanged:"canvasChanged"},decls:2,vars:1,consts:[[1,"ngx-mime-toc-container"],[4,"ngFor","ngForOf"],["href","","fxLayout","row","fxLayoutAlign","space-between center",1,"toc-link",3,"click"],[1,"label"],[1,"canvasGroupIndex"]],template:function(e,i){1&e&&(ie(0,"div",0),Le(1,qJ,6,4,"div",1),re()),2&e&&(ue(1),de("ngForOf",null==i.manifest?null:i.manifest.structures))},directives:[su,cr,ur],styles:[".toc-link[_ngcontent-%COMP%]{text-decoration:none;font-size:14px!important;font-weight:400;margin-bottom:8px}.currentCanvasGroup[_ngcontent-%COMP%]{font-weight:bold}"],changeDetection:0}),n})();function XJ(n,t){if(1&n&&($n(0),ie(1,"mat-toolbar",9),ie(2,"div",10),ie(3,"button",11),ie(4,"mat-icon"),Ke(5,"close"),re(),re(),ie(6,"h1",12),Ke(7),re(),re(),re(),ei()),2&n){const e=Fe();ue(3),de("aria-label",e.intl.closeLabel)("matTooltip",e.intl.closeLabel)("matDialogClose",!0),ue(4),Qt(e.intl.contentsLabel)}}function ZJ(n,t){if(1&n&&($n(0),ie(1,"mat-toolbar",13),ie(2,"div",14),ie(3,"h1",12),Ke(4),re(),ie(5,"button",11),ie(6,"mat-icon"),Ke(7,"close"),re(),re(),re(),re(),ei()),2&n){const e=Fe();ue(4),Qt(e.intl.contentsLabel),ue(1),de("aria-label",e.intl.closeLabel)("matTooltip",e.intl.closeLabel)("matDialogClose",!0)}}function YJ(n,t){if(1&n){const e=wn();ie(0,"mat-tab",6),ie(1,"div",7),ie(2,"mime-toc",15),Xe("canvasChanged",function(){return en(e),Fe().onCanvasChanged()}),re(),re(),re()}if(2&n){const e=Fe();de("label",e.intl.tocLabel),ue(1),de("ngStyle",e.tabHeight)}}let QJ=(()=>{class n{constructor(e,i,r,s,o,a,c,u){this.intl=e,this.mediaObserver=i,this.dialogRef=r,this.el=s,this.mimeDomHelper=o,this.changeDetectorRef=a,this.iiifManifestService=c,this.manifest=null,this.tabHeight={},this.showToc=!1,this.selectedIndex=0,this.mimeHeight=0,this.subscriptions=new h,this.subscriptions.add(u.onResize.subscribe(p=>{this.mimeHeight=p.height,this.resizeTabHeight()}))}ngOnInit(){this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(e=>{this.manifest=e,this.showToc=null!==this.manifest&&void 0!==this.manifest.structures&&this.manifest.structures.length>0,this.changeDetectorRef.detectChanges()})),this.resizeTabHeight()}ngOnDestroy(){this.subscriptions.unsubscribe()}onResize(e){this.resizeTabHeight()}onCanvasChanged(){this.mediaObserver.isActive("lt-md")&&this.dialogRef.close()}resizeTabHeight(){this.mimeDomHelper.getBoundingClientRect(this.el);let i=this.mimeHeight;this.mediaObserver.isActive("lt-md")?(i-=104,this.tabHeight={maxHeight:window.innerHeight-128+"px"}):(i-=278,this.tabHeight={maxHeight:i+"px"})}}return n.\u0275fac=function(e){return new(e||n)(I(Ti),I(Eo),I(Yl),I(Be),I(Ds),I(Jt),I(Zi),I(Ss))},n.\u0275cmp=Mt({type:n,selectors:[["mime-contents"]],hostBindings:function(e,i){1&e&&Xe("resize",function(s){return i.onResize(s)},!1,Ad)},decls:10,vars:6,consts:[[1,"contents-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mat-dialog-content",""],[3,"selectedIndex","selectedIndexChange"],[3,"label"],[1,"tab-container",3,"ngStyle"],[3,"label",4,"ngIf"],["color","primary","data-test-id","mobile-toolbar"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",3,"aria-label","matTooltip","matDialogClose"],["mat-dialog-title",""],["data-test-id","desktop-toolbar"],["fxLayout","row","fxLayoutAlign","space-between center","fxFlex",""],[3,"canvasChanged"]],template:function(e,i){1&e&&(ie(0,"div",0),$n(1,1),Le(2,XJ,8,4,"ng-container",2),Le(3,ZJ,8,4,"ng-container",3),ei(),ie(4,"div",4),ie(5,"mat-tab-group",5),Xe("selectedIndexChange",function(s){return i.selectedIndex=s}),ie(6,"mat-tab",6),ie(7,"div",7),ze(8,"mime-metadata"),re(),re(),Le(9,YJ,3,2,"mat-tab",8),re(),re(),re()),2&e&&(ue(1),de("ngSwitch",i.mediaObserver.isActive("lt-md")),ue(1),de("ngSwitchCase",!0),ue(3),de("selectedIndex",i.selectedIndex),ue(1),de("label",i.intl.metadataLabel),ue(1),de("ngStyle",i.tabHeight),ue(2),de("ngIf",i.showToc))},directives:[Vs,sa,Sh,k_,vQ,II,Hs,vu,cJ,ci,Po,cr,ur,xs,xa,ju,Fo,Kf,Ws,KJ],styles:[".label[_ngcontent-%COMP%]{text-decoration:underline}  .contents-panel{max-width:none!important}  .contents-panel>.mat-dialog-container{padding:0!important;overflow:initial}  .contents-container>div>div>.mat-toolbar{padding:0!important}.tab-container[_ngcontent-%COMP%]{overflow:auto;padding:8px 16px}.mat-dialog-content[_ngcontent-%COMP%]{max-height:none}"],changeDetection:0}),n})();class JJ{getConfig(t){return{hasBackdrop:!1,disableClose:!1,width:"100%",height:"100%",panelClass:"contents-panel"}}}let $J=(()=>{class n{constructor(e){this.mimeDomHelper=e}getConfig(e){const i=this.getPosition(e);return{hasBackdrop:!1,disableClose:!1,width:`${n.dialogWidth}px`,position:{top:i.top+"px",left:i.left+"px"},panelClass:"contents-panel"}}getPosition(e){const i=this.mimeDomHelper.getBoundingClientRect(e);return new Es({top:i.top+64,left:i.right-n.dialogWidth-n.paddingRight})}}return n.dialogWidth=350,n.paddingRight=20,n})(),eR=(()=>{class n{constructor(e,i){this.mediaObserver=e,this.mimeDomHelper=i}create(){return this.mediaObserver.isActive("lt-md")?new JJ:new $J(this.mimeDomHelper)}}return n.\u0275fac=function(e){return new(e||n)(se(Eo),se(Ds))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),op=(()=>{class n{constructor(e,i,r){this.dialog=e,this.contentsDialogConfigStrategyFactory=i,this.mimeResizeService=r,this._el=null,this.isContentsDialogOpen=!1,this.dialogRef=null}initialize(){this.subscriptions=new h,this.subscriptions.add(this.mimeResizeService.onResize.subscribe(e=>{if(this.isContentsDialogOpen){const i=this.getDialogConfig();this.dialogRef&&(this.dialogRef.updatePosition(i.position),this.dialogRef.updateSize(i.width,i.height))}}))}destroy(){this.close(),this.unsubscribe()}set el(e){this._el=e}open(e){if(!this.isContentsDialogOpen){const i=this.getDialogConfig();this.dialogRef=this.dialog.open(QJ,i),e&&(this.dialogRef.componentInstance.selectedIndex=e),this.dialogRef.afterClosed().pipe(hn(1)).subscribe(r=>{this.isContentsDialogOpen=!1}),this.isContentsDialogOpen=!0}}close(){this.dialogRef&&(this.dialogRef.close(),this.isContentsDialogOpen=!1),this.isContentsDialogOpen=!1}toggle(){this.isContentsDialogOpen?this.close():this.open()}isOpen(){return this.isContentsDialogOpen}getSelectedIndex(){return this.dialogRef&&this.dialogRef.componentInstance?this.dialogRef.componentInstance.selectedIndex:0}getDialogConfig(){if(!this._el)throw new Error("No element");return this.contentsDialogConfigStrategyFactory.create().getConfig(this._el)}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(se(Oo),se(eR),se(Ss))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),Mi=(()=>{class n{constructor(e){this.altKey=!1,this.shiftKey=!1,this.ctrlkey=!1,this.keyCode=e.keyCode,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.ctrlkey=e.ctrlKey}isArrowRightKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.ARROWRIGHT)}isArrowLeftKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.ARROWLEFT)}isPageUpKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.PAGEUP)}isPageDownKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.PAGEDOWN)}isFirstCanvasGroupKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.firstCanvasGroupCodes)}isLastCanvasGroupKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.lastCanvasGroupCodes)}isSliderKeys(){return this.isArrowLeftKeys()||this.isArrowRightKeys()||this.isPageDownKeys()||this.isPageUpKeys()||this.isFirstCanvasGroupKeys()||this.isLastCanvasGroupKeys()}isZoomInKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.zoomInCodes)}isZoomOutKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.zoomOutCodes)}isZoomHomeKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.zoomHomeCodes)}isNextHitKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.nextHit)}isPreviousHitKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.previousHit)}isSearchDialogKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.toggleSearchDialogCodes)}isContentsDialogKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.toggleContentsDialogCodes)}isFullscreenKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.toggleFullscreenCodes)}isResetSearchKeys(){return this.isShiftPressed()&&this.arrayContainsKeys(n.resetSearch)}isRotateKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.rotateCwCodes)}isRecognizedTextContentKeys(){return!this.isMultiKeys()&&this.arrayContainsKeys(n.recognizedTextContentCodes)}isMultiKeys(){return this.altKey||this.shiftKey||this.ctrlkey}arrayContainsKeys(e){return e.indexOf(this.keyCode)>-1}isShiftPressed(){return this.shiftKey}}return n.PAGEDOWN=[34],n.PAGEUP=[33],n.ARROWRIGHT=[39],n.ARROWLEFT=[37],n.firstCanvasGroupCodes=[36],n.lastCanvasGroupCodes=[35],n.zoomInCodes=[107,187,171],n.zoomOutCodes=[109,189,173],n.zoomHomeCodes=[96,48],n.nextHit=[78],n.previousHit=[80],n.toggleSearchDialogCodes=[83],n.toggleContentsDialogCodes=[67],n.toggleFullscreenCodes=[70],n.resetSearch=[83],n.rotateCwCodes=[82],n.recognizedTextContentCodes=[84],n})();const e$=["contentSearchResult"],t$=["query"],n$=["hitButton"];function i$(n,t){if(1&n&&(ie(0,"div"),ie(1,"mat-toolbar",16),ie(2,"div",17),ie(3,"button",18),ie(4,"mat-icon"),Ke(5,"close"),re(),re(),ie(6,"h1",19),Ke(7),re(),re(),re(),re()),2&n){const e=Fe();ue(3),de("aria-label",e.intl.closeLabel)("matTooltip",e.intl.closeLabel)("matDialogClose",!0),ue(4),Qt(e.intl.searchLabel)}}function r$(n,t){if(1&n&&(ie(0,"div"),ie(1,"mat-toolbar"),ie(2,"div",20),ie(3,"h1",21),Ke(4),re(),ie(5,"button",18),ie(6,"mat-icon"),Ke(7,"close"),re(),re(),re(),re(),re()),2&n){const e=Fe();ue(4),Qt(e.intl.searchLabel),ue(1),de("aria-label",e.intl.closeLabel)("matTooltip",e.intl.closeLabel)("matDialogClose",!0)}}function s$(n,t){if(1&n){const e=wn();ie(0,"button",22),Xe("click",function(){return en(e),Fe().clear()}),ie(1,"mat-icon",9),Ke(2,"clear"),re(),re()}if(2&n){const e=Fe();de("matTooltip",e.intl.clearSearchLabel),$e("aria-label",e.intl.clearSearchLabel)}}function o$(n,t){if(1&n&&ze(0,"div",28),2&n){const e=Fe(3);de("innerHTML",e.intl.resultsFoundLabel(e.numberOfHits,e.currentSearch),jn)}}function a$(n,t){if(1&n&&ze(0,"div",28),2&n){const e=Fe(3);de("innerHTML",e.intl.noResultsFoundLabel(e.currentSearch),jn)}}function l$(n,t){if(1&n&&(ie(0,"div"),Le(1,o$,1,1,"div",27),Le(2,a$,1,1,"div",27),re()),2&n){const e=Fe(2);ue(1),de("ngIf",e.numberOfHits>0),ue(1),de("ngIf",0===e.numberOfHits)}}function c$(n,t){1&n&&ze(0,"mat-divider")}function u$(n,t){if(1&n){const e=wn();$n(0),ie(1,"button",29,30),Xe("click",function(){const s=en(e).$implicit;return Fe(2).goToHit(s)})("keyup.enter",function(){const s=en(e).$implicit;return Fe(2).goToHit(s)}),ie(3,"div",31),ie(4,"div",32),Ke(5),ie(6,"em"),Ke(7),re(),Ke(8),re(),ie(9,"div",33),Ke(10),re(),re(),re(),Le(11,c$,1,0,"mat-divider",25),ei()}if(2&n){const e=t.$implicit,i=t.last,r=Fe(2);ue(1),de("color",r.currentHit&&e.id===r.currentHit.id?"accent":null)("ngClass","hit"),ue(4),Pc(" ",e.before," "),ue(2),Qt(e.match),ue(1),Pc(" ",e.after," "),ue(2),Qt(e.index+1),ue(1),de("ngIf",!i)}}function d$(n,t){if(1&n&&(ie(0,"div",23),ze(1,"input",24),Le(2,l$,3,2,"div",25),Le(3,u$,12,7,"ng-container",26),re()),2&n){const e=Fe();ue(1),de("value",e.numberOfHits),ue(1),de("ngIf",e.currentSearch&&e.currentSearch.length>0),ue(1),de("ngForOf",e.hits)}}function h$(n,t){1&n&&(ie(0,"div",23),ze(1,"mat-progress-bar",34),re())}let f$=(()=>{class n{constructor(e,i,r,s,o,a){this.dialogRef=e,this.intl=i,this.mediaObserver=r,this.mimeResizeService=s,this.iiifManifestService=o,this.iiifContentSearchService=a,this.q="",this.hits=[],this.currentHit=null,this.currentSearch=null,this.numberOfHits=0,this.isSearching=!1,this.tabHeight={},this.manifest=null,this.mimeHeight=0,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.mimeResizeService.onResize.subscribe(e=>{this.mimeHeight=e.height,this.resizeTabHeight()})),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(e=>{this.manifest=e})),this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(e=>{this.hits=e.hits,this.currentSearch=e.q?e.q:"",this.q=e.q,this.numberOfHits=e.size(),null!==this.resultContainer&&this.numberOfHits>0?this.resultContainer.nativeElement.focus():(0===this.q.length||0===this.numberOfHits)&&this.qEl.nativeElement.focus()})),this.subscriptions.add(this.iiifContentSearchService.isSearching.subscribe(e=>{this.isSearching=e})),this.subscriptions.add(this.iiifContentSearchService.onSelected.subscribe(e=>{null===e?this.currentHit=e:(!this.currentHit||this.currentHit.id!==e.id)&&(this.currentHit=e,this.scrollCurrentHitIntoView())})),this.resizeTabHeight()}ngAfterViewInit(){this.scrollCurrentHitIntoView()}ngOnDestroy(){this.subscriptions.unsubscribe()}onResize(e){this.resizeTabHeight()}onSubmit(e){e.preventDefault(),this.search()}clear(){this.q="",this.search()}goToHit(e){this.currentHit=e,this.iiifContentSearchService.selected(e),this.mediaObserver.isActive("lt-md")&&this.dialogRef.close()}search(){this.currentSearch=this.q,this.manifest&&this.iiifContentSearchService.search(this.manifest,this.q)}resizeTabHeight(){let e=this.mimeHeight;this.mediaObserver.isActive("lt-md")?this.tabHeight={maxHeight:window.innerHeight-128+"px"}:(e-=272,this.tabHeight={maxHeight:e+"px"})}scrollCurrentHitIntoView(){this.iiifContentSearchService.onSelected.pipe(hn(1)).subscribe(e=>{if(null!==e){const i=this.findSelected(e);i&&i.nativeElement.focus()}})}findSelected(e){if(this.hitList){const i=this.hitList.filter((r,s)=>s===e.id);return i.length>0?i[0]:null}return null}}return n.\u0275fac=function(e){return new(e||n)(I(Yl),I(Ti),I(Eo),I(Ss),I(Zi),I(to))},n.\u0275cmp=Mt({type:n,selectors:[["mime-search"]],viewQuery:function(e,i){if(1&e&&(Kt(e$,7),Kt(t$,7),Kt(n$,5,Be)),2&e){let r;ht(r=ft())&&(i.resultContainer=r.first),ht(r=ft())&&(i.qEl=r.first),ht(r=ft())&&(i.hitList=r)}},hostBindings:function(e,i){1&e&&Xe("resize",function(s){return i.onResize(s)},!1,Ad)},decls:19,vars:10,consts:[[1,"content-search-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"content-search-form"],[3,"ngSubmit"],["searchForm","ngForm"],[1,"content-search-box"],["type","submit","matPrefix","","mat-icon-button","",3,"matTooltip"],[1,"icon"],["cdkFocusInitial","","matInput","","name","q","autocomplete","off",1,"content-search-input",3,"ngModel","ngModelChange"],["query",""],["type","button","class","clearSearchButton","matSuffix","","mat-icon-button","",3,"matTooltip","click",4,"ngIf"],[1,"content-search-result-container",3,"ngStyle"],["contentSearchResult",""],["class","content-search-result","fxLayout","column",4,"ngIf"],["color","primary"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",1,"close-content-search-dialog-button",3,"aria-label","matTooltip","matDialogClose"],["mat-dialog-title","",1,"heading"],["fxLayout","row","fxLayoutAlign","space-between center","fxFlex",""],["mat-dialog-title","",1,"heading","heading-desktop"],["type","button","matSuffix","","mat-icon-button","",1,"clearSearchButton",3,"matTooltip","click"],["fxLayout","column",1,"content-search-result"],["type","hidden",1,"numberOfHits",3,"value"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],["mat-button","",3,"color","ngClass","click","keyup.enter"],["hitButton",""],["fxLayout","row","fxLayoutAlign","space-between start"],["fxFlex","",1,"summary"],["fxFlex","40px",1,"canvasGroup"],["mode","indeterminate"]],template:function(e,i){1&e&&(ie(0,"div",0),ie(1,"div",1),Le(2,i$,8,4,"div",2),Le(3,r$,8,4,"div",3),re(),ie(4,"mat-dialog-content"),ie(5,"div",4),ie(6,"form",5,6),Xe("ngSubmit",function(s){return i.onSubmit(s)}),ie(8,"mat-form-field",7),ie(9,"button",8),ie(10,"mat-icon",9),Ke(11,"search"),re(),re(),ie(12,"input",10,11),Xe("ngModelChange",function(s){return i.q=s}),re(),Le(14,s$,3,2,"button",12),re(),re(),re(),ie(15,"div",13,14),Le(17,d$,4,3,"div",15),Le(18,h$,2,0,"div",15),re(),re(),re()),2&e&&(ue(1),de("ngSwitch",i.mediaObserver.isActive("lt-md")),ue(1),de("ngSwitchCase",!0),ue(7),de("matTooltip",i.intl.searchLabel),$e("aria-label",i.intl.searchLabel),ue(3),de("ngModel",i.q),$e("aria-label",i.intl.searchLabel),ue(2),de("ngIf",i.q),ue(1),de("ngStyle",i.tabHeight),ue(2),de("ngIf",!i.isSearching),ue(1),de("ngIf",i.isSearching))},directives:[Vs,sa,Sh,k_,d_,$v,Vu,oI,xs,dZ,xa,Fo,lI,Ou,Jv,u_,ci,Hs,vu,Po,cr,ur,ju,Kf,Ws,hZ,su,ra,qh,wZ,jZ],styles:['.label[_ngcontent-%COMP%]{text-decoration:underline}.content-search-form[_ngcontent-%COMP%]{padding:0 16px}.content-search-box[_ngcontent-%COMP%]{width:100%}.content-search-input[_ngcontent-%COMP%]{font-size:20px}.content-search-result-container[_ngcontent-%COMP%]{font-family:Roboto,"Helvetica Neue",sans-serif;overflow:auto;margin-bottom:8px}.content-search-result[_ngcontent-%COMP%]{padding:8px 16px}.content-search-result[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{line-height:initial;white-space:initial;word-wrap:initial;max-width:none;padding:8px;text-align:left;font-size:14px}  .content-search-container .current-content-search{font-weight:700}em[_ngcontent-%COMP%]{font-weight:700}.canvasGroupLabel[_ngcontent-%COMP%]{text-align:right;opacity:.54}  .content-search-panel{max-width:none!important}.mat-dialog-content[_ngcontent-%COMP%]{max-height:none}  .content-search-panel>.mat-dialog-container{padding:0!important;overflow:initial}input[_ngcontent-%COMP%]{font-family:Roboto,"Helvetica Neue",sans-serif}.icon[_ngcontent-%COMP%]{font-size:22px!important}']}),n})();class p${getConfig(t){return{hasBackdrop:!1,disableClose:!1,autoFocus:!1,width:"100%",height:"100%",panelClass:"content-search-panel"}}}let m$=(()=>{class n{constructor(e){this.mimeDomHelper=e}getConfig(e){const i=this.getPosition(e);return{hasBackdrop:!1,disableClose:!1,autoFocus:!1,width:`${n.dialogWidth}px`,position:{top:i.top+"px",left:i.left+"px"},panelClass:"content-search-panel"}}getPosition(e){const i=this.mimeDomHelper.getBoundingClientRect(e);return new Es({top:i.top+64,left:i.right-n.dialogWidth-n.paddingRight})}}return n.dialogWidth=350,n.paddingRight=20,n})(),tR=(()=>{class n{constructor(e,i){this.mediaObserver=e,this.mimeDomHelper=i}create(){return this.mediaObserver.isActive("lt-md")?new p$:new m$(this.mimeDomHelper)}}return n.\u0275fac=function(e){return new(e||n)(se(Eo),se(Ds))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),ap=(()=>{class n{constructor(e,i,r){this.dialog=e,this.contentSearchDialogConfigStrategyFactory=i,this.mimeResizeService=r,this._el=null,this.isContentSearchDialogOpen=!1}initialize(){this.subscriptions=new h,this.subscriptions.add(this.mimeResizeService.onResize.subscribe(e=>{if(this.isContentSearchDialogOpen){const i=this.getDialogConfig();this.dialogRef.updatePosition(i.position),this.dialogRef.updateSize(i.width,i.height)}}))}destroy(){this.close(),this.unsubscribe()}set el(e){this._el=e}open(){if(!this.isContentSearchDialogOpen){const e=this.getDialogConfig();this.dialogRef=this.dialog.open(f$,e),this.dialogRef.afterClosed().pipe(hn(1)).subscribe(i=>{this.isContentSearchDialogOpen=!1}),this.isContentSearchDialogOpen=!0}}close(){this.dialogRef&&this.dialogRef.close(),this.isContentSearchDialogOpen=!1}toggle(){this.isContentSearchDialogOpen?this.close():this.open()}isOpen(){return this.isContentSearchDialogOpen}getDialogConfig(){return this.contentSearchDialogConfigStrategyFactory.create().getConfig(this._el)}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(se(Oo),se(tR),se(Ss))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),j_=(()=>{class n{constructor(e,i){this.canvasService=e,this.iiifContentSearchService=i,this.currentIndex=0,this.isHitOnActiveCanvasGroup=!1,this._isFirstHitOnCanvasGroup=!1,this._isLastHitOnCanvasGroup=!1,this.canvasesPerCanvasGroup=[-1],this.searchResult=null,this.initialize()}initialize(){this.subscriptions=new h,this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(e=>{this.searchResult=e}))}destroy(){this.subscriptions.unsubscribe()}update(e){this.canvasesPerCanvasGroup=this.canvasService.getCanvasesPerCanvasGroup(e),this.currentIndex=this.findCurrentHitIndex(this.canvasesPerCanvasGroup),this.isHitOnActiveCanvasGroup=this.findHitOnActiveCanvasGroup(),this._isFirstHitOnCanvasGroup=this.isFirstHitOnCanvasGroup(),this._isLastHitOnCanvasGroup=this.findLastHitOnCanvasGroup()}getCurrentIndex(){return this.currentIndex}getHitOnActiveCanvasGroup(){return this.isHitOnActiveCanvasGroup}getFirstHitCanvasGroup(){return this._isFirstHitOnCanvasGroup}getLastHitCanvasGroup(){return this._isLastHitOnCanvasGroup}goToNextCanvasGroupHit(){if(this.searchResult&&!this._isLastHitOnCanvasGroup){let e;if(-1===this.currentIndex)e=this.searchResult.get(0);else{const i=this.searchResult.get(this.currentIndex),r=this.canvasService.findCanvasGroupByCanvasIndex(i.index),s=this.canvasService.getCanvasesPerCanvasGroup(r),o=this.getLastCanvasGroupIndex(s);e=this.searchResult.hits.find(a=>a.index>o)}e&&this.goToCanvasIndex(e)}}goToPreviousCanvasGroupHit(){const i=this.findFirstHitOnCanvasGroup(this.isHitOnActiveCanvasGroup?this.currentIndex-1:this.currentIndex);i&&this.goToCanvasIndex(i)}goToCanvasIndex(e){this.currentIndex=this.findCurrentHitIndex([e.index]),this.iiifContentSearchService.selected(e)}findLastHitOnCanvasGroup(){if(!this.searchResult)return!1;const e=this.searchResult.get(this.searchResult.size()-1).index;return this.searchResult.get(this.currentIndex).index===e}findFirstHitOnCanvasGroup(e){if(!this.searchResult)return;let i=this.searchResult.get(e);const r=this.canvasService.findCanvasGroupByCanvasIndex(i.index),s=this.canvasService.getCanvasesPerCanvasGroup(r),o=s[0],a=this.searchResult.hits.find(c=>c.index===o);if(a)i=a;else if(2===s.length){const c=s[1];i=this.searchResult.hits.find(u=>u.index===c)}return i}findHitOnActiveCanvasGroup(){return!!this.searchResult&&this.canvasesPerCanvasGroup.indexOf(this.searchResult.get(this.currentIndex).index)>=0}findCurrentHitIndex(e){if(!this.searchResult)return-1;for(let i=0;i<this.searchResult.size();i++){const r=this.searchResult.get(i);if(e.indexOf(r.index)>=0)return i;if(r.index>=e[e.length-1]){if(0===i)return-1;{const s=this.searchResult.get(i-1);return this.searchResult.hits.findIndex(o=>o.index===s.index)}}}return this.searchResult.size()-1}isFirstHitOnCanvasGroup(){return this.currentIndex<=0}getLastCanvasGroupIndex(e){return 1===e.length?e[0]:e[1]}}return n.\u0275fac=function(e){return new(e||n)(se(Lr),se(to))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),U_=(()=>{class n{constructor(e,i,r,s,o,a,c,u,p,x){this.viewerService=e,this.canvasService=i,this.modeService=r,this.iiifManifestService=s,this.iiifContentSearchService=o,this.contentSearchDialogService=a,this.contentsDialogService=c,this.mimeDomHelper=u,this.contentSearchNavigationService=p,this.altoService=x,this.isSearchable=!1,this.hasHits=!1,this.disabledKeys=[],this.subscriptions=new h,this.invert=!1}initialize(){this.subscriptions=new h,this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(e=>{e&&(this.isSearchable=this.isManifestSearchable(e),this.invert=e.viewingDirection===Hn.RTL)})),this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(e=>{this.hasHits=e.hits.length>0}))}destroy(){this.unsubscribe()}handleKeyEvents(e){const i=new Mi(e);this.isKeyDisabled(e.keyCode)||(i.isArrowLeftKeys()?this.isZoomedIn()||(this.invert?this.goToNextCanvasGroup():this.goToPreviousCanvasGroup()):i.isArrowRightKeys()?this.isZoomedIn()||(this.invert?this.goToPreviousCanvasGroup():this.goToNextCanvasGroup()):i.isFirstCanvasGroupKeys()?this.goToFirstCanvasGroup():i.isLastCanvasGroupKeys()?this.goToLastCanvasGroup():i.isNextHitKeys()&&this.hasHits?this.goToNextHit():i.isPreviousHitKeys()&&this.hasHits?this.goToPreviousHit():i.isFullscreenKeys()?this.toggleFullscreen():i.isSearchDialogKeys()&&this.isSearchable?this.toggleSearchDialog():i.isContentsDialogKeys()?this.toggleContentsDialog():i.isResetSearchKeys()?this.resetSearch():i.isPageDownKeys()?this.goToNextCanvasGroup():i.isPageUpKeys()?this.goToPreviousCanvasGroup():i.isZoomInKeys()?this.zoomIn():i.isZoomOutKeys()?this.zoomOut():i.isZoomHomeKeys()?this.zoomHome():i.isRotateKeys()?this.rotateClockWise():i.isRecognizedTextContentKeys()&&this.toggleRecognizedTextContent())}goToNextCanvasGroup(){this.viewerService.goToNextCanvasGroup()}goToPreviousCanvasGroup(){this.viewerService.goToPreviousCanvasGroup()}goToFirstCanvasGroup(){this.viewerService.goToCanvasGroup(0,!1)}goToLastCanvasGroup(){this.viewerService.goToCanvasGroup(this.canvasService.numberOfCanvasGroups-1,!1)}rotateClockWise(){this.viewerService.rotate(),this.mimeDomHelper.setFocusOnViewer()}toggleRecognizedTextContent(){this.altoService.toggle()}goToNextHit(){this.contentSearchNavigationService.goToNextCanvasGroupHit()}goToPreviousHit(){this.contentSearchNavigationService.goToPreviousCanvasGroupHit()}zoomIn(){this.modeService.mode===lt.DASHBOARD?this.modeService.toggleMode():this.viewerService.zoomIn()}zoomOut(){this.modeService.mode===lt.PAGE?this.modeService.toggleMode():this.modeService.isPageZoomed()&&this.viewerService.zoomOut()}zoomHome(){this.modeService.isPageZoomed()&&this.viewerService.home()}toggleSearchDialog(){this.modeService.mode===lt.PAGE||this.modeService.isPageZoomed()?(this.modeService.mode=lt.DASHBOARD,this.contentSearchDialogService.open()):this.contentSearchDialogService.isOpen()?this.contentSearchDialogService.close():this.contentSearchDialogService.open(),this.contentsDialogService.close()}toggleContentsDialog(){this.modeService.mode===lt.PAGE||this.modeService.isPageZoomed()?(this.modeService.mode=lt.DASHBOARD,this.contentsDialogService.open()):this.contentsDialogService.isOpen()?this.contentsDialogService.close():this.contentsDialogService.open(),this.contentSearchDialogService.close()}toggleFullscreen(){this.mimeDomHelper.toggleFullscreen(),this.mimeDomHelper.setFocusOnViewer()}resetSearch(){this.iiifContentSearchService.destroy()}isManifestSearchable(e){return!!e.service}isZoomedIn(){return this.modeService.isPageZoomed()}updateDisabledKeys(){this.resetDisabledKeys(),this.contentsDialogService.isOpen()?this.disableKeysForContentDialog():this.contentSearchDialogService.isOpen()&&this.diableKeysForContentSearchDialog()}disableKeysForContentDialog(){this.disabledKeys=this.disabledKeys.concat(Mi.ARROWLEFT).concat(Mi.ARROWRIGHT)}diableKeysForContentSearchDialog(){this.disabledKeys=this.disabledKeys.concat(Mi.ARROWLEFT).concat(Mi.ARROWRIGHT).concat(Mi.firstCanvasGroupCodes).concat(Mi.lastCanvasGroupCodes).concat(Mi.zoomInCodes).concat(Mi.zoomOutCodes).concat(Mi.zoomHomeCodes).concat(Mi.nextHit).concat(Mi.previousHit).concat(Mi.toggleSearchDialogCodes).concat(Mi.toggleContentsDialogCodes).concat(Mi.toggleFullscreenCodes)}resetDisabledKeys(){this.disabledKeys=[]}isKeyDisabled(e){return this.updateDisabledKeys(),this.disabledKeys.indexOf(e)>-1}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(se(Da),se(Lr),se(rp),se(Zi),se(to),se(ap),se(op),se(Ds),se(j_),se($l))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),W_=(()=>{class n{constructor(e){this.mimeDomHelper=e,this._el=null,this.resizeSubject=new gu,this.dimensions=new Es}set el(e){this._el=e}get el(){return this._el}get onResize(){return this.resizeSubject.asObservable()}markForCheck(){if(this.el){const e=this.mimeDomHelper.getBoundingClientRect(this.el);(this.dimensions.bottom!==e.bottom||this.dimensions.height!==e.height||this.dimensions.left!==e.left||this.dimensions.right!==e.right||this.dimensions.top!==e.top||this.dimensions.width!==e.width)&&(this.dimensions=e,this.resizeSubject.next(Object.assign({},this.dimensions)))}}}return n.\u0275fac=function(e){return new(e||n)(se(Ds))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})();const g$=["container"];let y$=(()=>{class n{constructor(e,i,r,s,o,a,c,u){this.intl=e,this.renderer=i,this.el=r,this.changeDetectorRef=s,this.iiifManifestService=o,this.attributionDialogResizeService=a,this.styleService=c,this.accessKeysHandlerService=u,this.manifest=null,this.subscriptions=new h,a.el=r}ngOnInit(){this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(e=>{this.manifest=e,this.changeDetectorRef.markForCheck()}))}ngAfterViewInit(){this.subscriptions.add(this.styleService.onChange.subscribe(e=>{var i;const r=this.styleService.convertToRgba(e,.3);this.renderer.setStyle(null===(i=this.container)||void 0===i?void 0:i.nativeElement,"background-color",r)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}handleKeys(e){this.accessKeysHandlerService.handleKeyEvents(e)}onResize(e){this.attributionDialogResizeService.markForCheck()}ngAfterViewChecked(){this.attributionDialogResizeService.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(I(Ti),I(Kr),I(Be),I(Jt),I(Zi),I(W_),I(Zu),I(U_))},n.\u0275cmp=Mt({type:n,selectors:[["ng-component"]],viewQuery:function(e,i){if(1&e&&Kt(g$,7),2&e){let r;ht(r=ft())&&(i.container=r.first)}},hostBindings:function(e,i){1&e&&Xe("keyup",function(s){return i.handleKeys(s)})("resize",function(s){return i.onResize(s)},!1,Ad)},decls:10,vars:5,consts:[[1,"attribution-container"],["container",""],[1,"attribution-toolbar"],["fxLayout","row","fxLayoutAlign","space-between center","fxFlex",""],["mat-dialog-title",""],["mat-icon-button","",3,"aria-label","matTooltip","matDialogClose"],["mat-dialog-content","",3,"innerHTML"]],template:function(e,i){1&e&&(ie(0,"div",0,1),ie(2,"mat-toolbar",2),ie(3,"div",3),ie(4,"h1",4),Ke(5),re(),ie(6,"button",5),ie(7,"mat-icon"),Ke(8,"close"),re(),re(),re(),re(),ze(9,"p",6),re()),2&e&&(ue(5),Qt(i.intl.attributionLabel),ue(1),de("aria-label",i.intl.attributonCloseAriaLabel)("matTooltip",i.intl.closeLabel)("matDialogClose",!0),ue(3),de("innerHTML",null==i.manifest?null:i.manifest.attribution,jn))},directives:[Po,cr,ur,Ws,Kf,xs,xa,ju,Fo,k_],styles:['.attribution-toolbar[_ngcontent-%COMP%]{font-size:14px;background:transparent;min-height:20px!important;padding:8px}.mat-dialog-title[_ngcontent-%COMP%]{font-size:16px}.mat-dialog-content[_ngcontent-%COMP%]{padding:8px;margin:0}  .attribution-panel{font-family:Roboto,"Helvetica Neue",sans-serif}  .attribution-panel>.mat-dialog-container{background:transparent!important;font-size:11px;padding:0}  .attribution-toolbar>.mat-toolbar-layout>.mat-toolbar-row{height:20px}'],changeDetection:0}),n})(),nR=(()=>{class n{constructor(e,i,r,s){this.dialog=e,this.mimeResizeService=i,this.attributionDialogResizeService=r,this.mimeDomHelper=s,this.isAttributionDialogOpen=!1,this.dialogRef=null,this._el=null,this.attributionDialogHeight=0}initialize(){this.subscriptions=new h,this.subscriptions.add(this.mimeResizeService.onResize.subscribe(e=>{if(this.dialogRef&&this.isAttributionDialogOpen){const i=this.getDialogConfig();this.dialogRef.updatePosition(i.position)}})),this.subscriptions.add(this.attributionDialogResizeService.onResize.subscribe(e=>{if(this.dialogRef&&this.isAttributionDialogOpen){this.attributionDialogHeight=e.height;const i=this.getDialogConfig();this.dialogRef.updatePosition(i.position)}}))}destroy(){this.close(),this.unsubscribe()}set el(e){this._el=e}open(e){this.isAttributionDialogOpen||qu(1e3).pipe(hn(1)).subscribe(()=>{const i=this.getDialogConfig();this.dialogRef=this.dialog.open(y$,i),this.dialogRef.afterClosed().pipe(hn(1)).subscribe(r=>{this.isAttributionDialogOpen=!1,this.mimeDomHelper.setFocusOnViewer()}),this.isAttributionDialogOpen=!0,this.closeDialogAfter(e)})}close(){this.dialogRef&&(this.dialogRef.close(),this.isAttributionDialogOpen=!1)}toggle(){this.isAttributionDialogOpen?this.close():this.open()}closeDialogAfter(e){e&&e>0&&qu(1e3*e).pipe(hn(1)).subscribe(()=>{this.close()})}getDialogConfig(){const e=this.getPosition();return{hasBackdrop:!1,width:"180px",panelClass:"attribution-panel",position:{top:e.top+"px",left:e.left+"px"},autoFocus:!0,restoreFocus:!1}}getPosition(){if(!this._el)throw new Error("Could not find position because element is missing");const i=this.mimeDomHelper.getBoundingClientRect(this._el);return new Es({top:i.top+i.height-this.attributionDialogHeight-68,left:i.left+20})}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(se(Oo),se(Ss),se(W_),se(Ds))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),v$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[nR,W_,Ds],imports:[[Jl]]}),n})();function _$(n,t){if(1&n&&(ie(0,"mat-error"),Ke(1),re()),2&n){const e=Fe();ue(1),Qt(e.intl.pageDoesNotExists)}}let b$=(()=>{class n{constructor(e,i,r,s,o,a){this.dialogRef=e,this.fb=i,this.viewerService=r,this.canvasService=s,this.intl=o,this.changeDetectorRef=a,this.subscriptions=new h,this.numberOfCanvases=this.canvasService.numberOfCanvases,this.createForm()}createForm(){this.canvasGroupControl=new ba("",[Of.required,Of.min(1),Of.max(this.numberOfCanvases)]),this.canvasGroupForm=this.fb.group({canvasGroupControl:this.canvasGroupControl})}ngOnInit(){this.subscriptions.add(this.intl.changes.subscribe(()=>this.changeDetectorRef.markForCheck()))}ngOnDestroy(){this.subscriptions.unsubscribe()}onSubmit(){this.canvasGroupForm.valid&&(this.viewerService.goToCanvasGroup(this.canvasService.findCanvasGroupByCanvasIndex(this.canvasGroupControl.value-1),!1),this.dialogRef.close())}}return n.\u0275fac=function(e){return new(e||n)(I(Yl),I(rK),I(Da),I(Lr),I(Ti),I(Jt))},n.\u0275cmp=Mt({type:n,selectors:[["ng-component"]],decls:12,vars:6,consts:[["fxLayout","column"],[1,"canvas-group-dialog-title"],["novalidate","","autocomplete","off",3,"formGroup","ngSubmit"],[3,"floatLabel"],["type","number","matInput","","min","1","formControlName","canvasGroupControl",1,"go-to-canvas-group-input",3,"placeholder"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["type","button","mat-button","","matDialogClose",""],["type","submit","mat-button","",3,"disabled"]],template:function(e,i){1&e&&(ie(0,"div",0),ie(1,"h1",1),Ke(2),re(),ie(3,"form",2),Xe("ngSubmit",function(){return i.onSubmit()}),ie(4,"mat-form-field",3),ze(5,"input",4),Le(6,_$,2,1,"mat-error",5),re(),ie(7,"div",6),ie(8,"button",7),Ke(9," CANCEL "),re(),ie(10,"button",8),Ke(11," OK "),re(),re(),re(),re()),2&e&&(ue(2),Qt(i.intl.goToPageLabel),ue(1),de("formGroup",i.canvasGroupForm),ue(1),de("floatLabel","always"),ue(1),de("placeholder",i.intl.enterPageNumber),ue(1),de("ngIf",null==i.canvasGroupControl.errors?null:i.canvasGroupControl.errors.max),ue(4),de("disabled",i.canvasGroupForm.pristine||i.canvasGroupForm.invalid))},directives:[cr,d_,$v,Hu,oI,__,h_,lI,Ou,Jv,g_,ci,ur,xs,ju,aZ],styles:[".canvas-group-dialog-title[_ngcontent-%COMP%]{margin:0 0 20px;display:block}"],changeDetection:0}),n})(),iR=(()=>{class n{constructor(e){this.dialog=e,this.isCanvasGroupDialogOpen=!1,this.dialogRef=null}initialize(){}destroy(){this.close()}open(e){if(!this.isCanvasGroupDialogOpen){const i=this.getDialogConfig();this.dialogRef=this.dialog.open(b$,i),this.dialogRef.afterClosed().pipe(hn(1)).subscribe(r=>{this.isCanvasGroupDialogOpen=!1}),this.isCanvasGroupDialogOpen=!0}}close(){this.dialogRef&&(this.dialogRef.close(),this.isCanvasGroupDialogOpen=!1)}toggle(){this.isCanvasGroupDialogOpen?this.close():this.open()}getDialogConfig(){return{hasBackdrop:!1,disableClose:!0,panelClass:"canvas-group-panel"}}}return n.\u0275fac=function(e){return new(e||n)(se(Oo))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),w$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[iR],imports:[[Jl]]}),n})(),C$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[ap,tR],imports:[[Jl]]}),n})(),x$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[op,eR,{provide:I_,useClass:JK}],imports:[[Jl]]}),n})(),E$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[Ti,Zi,to,Ss,H_,Da,QI,Lr,rp,ep,U_,sp,j_,Zu,$l]}),n})();function D$(n,t){if(1&n&&(ie(0,"div"),ie(1,"mat-toolbar",6),ie(2,"div",7),ie(3,"button",8),ie(4,"mat-icon"),Ke(5,"close"),re(),re(),ie(6,"h1",9),Ke(7),re(),re(),re(),re()),2&n){const e=Fe();ue(3),de("matDialogClose",!0),ue(4),Qt(e.intl.help.helpLabel)}}function S$(n,t){if(1&n&&(ie(0,"div"),ie(1,"mat-toolbar"),ie(2,"div",10),ie(3,"h1",11),Ke(4),re(),ie(5,"button",8),ie(6,"mat-icon"),Ke(7,"close"),re(),re(),re(),re(),re()),2&n){const e=Fe();ue(4),Qt(e.intl.help.helpLabel),ue(1),de("matDialogClose",!0)}}let T$=(()=>{class n{constructor(e,i,r){this.mediaObserver=e,this.intl=i,this.mimeResizeService=r,this.tabHeight={},this.mimeHeight=0,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.mimeResizeService.onResize.subscribe(e=>{this.mimeHeight=e.height,this.resizeTabHeight()})),this.resizeTabHeight()}ngOnDestroy(){this.subscriptions.unsubscribe()}resizeTabHeight(){let e=this.mimeHeight;this.mediaObserver.isActive("lt-md")?this.tabHeight={maxHeight:window.innerHeight-128+"px"}:(e-=272,this.tabHeight={maxHeight:e+"px"})}}return n.\u0275fac=function(e){return new(e||n)(I(Eo),I(Ti),I(Ss))},n.\u0275cmp=Mt({type:n,selectors:[["mime-help"]],decls:16,vars:14,consts:[[1,"help-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"help-content",3,"ngStyle"],[3,"innerHTML"],["color","primary"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",3,"matDialogClose"],["mat-dialog-title",""],["fxLayout","row","fxLayoutAlign","space-between center","fxFlex",""],["mat-dialog-title","",1,"heading-desktop"]],template:function(e,i){1&e&&(ie(0,"div",0),ie(1,"div",1),Le(2,D$,8,2,"div",2),Le(3,S$,8,2,"div",3),re(),ie(4,"div",4),ze(5,"p",5),ze(6,"p",5),ze(7,"p",5),ze(8,"p",5),ze(9,"p",5),ze(10,"p",5),ze(11,"p",5),ze(12,"p",5),ze(13,"p",5),ze(14,"p",5),ze(15,"p",5),re(),re()),2&e&&(ue(1),de("ngSwitch",i.mediaObserver.isActive("lt-md")),ue(1),de("ngSwitchCase",!0),ue(2),de("ngStyle",i.tabHeight),ue(1),de("innerHTML",i.intl.help.line1,jn),ue(1),de("innerHTML",i.intl.help.line2,jn),ue(1),de("innerHTML",i.intl.help.line3,jn),ue(1),de("innerHTML",i.intl.help.line4,jn),ue(1),de("innerHTML",i.intl.help.line5,jn),ue(1),de("innerHTML",i.intl.help.line6,jn),ue(1),de("innerHTML",i.intl.help.line7,jn),ue(1),de("innerHTML",i.intl.help.line8,jn),ue(1),de("innerHTML",i.intl.help.line9,jn),ue(1),de("innerHTML",i.intl.help.line10,jn),ue(1),de("innerHTML",i.intl.help.line11,jn))},directives:[Vs,sa,Sh,Hs,vu,Po,cr,ur,xs,ju,Fo,Kf,Ws],styles:['.help-container[_ngcontent-%COMP%]{font-family:Roboto,"Helvetica Neue",sans-serif;font-size:14px}.help-content[_ngcontent-%COMP%]{padding:16px;overflow:auto}  .help-panel{max-width:none!important}  .help-panel>.mat-dialog-container{padding:0!important;overflow:initial}']}),n})();class M${getConfig(t){return{hasBackdrop:!1,disableClose:!1,autoFocus:!1,width:"100%",height:"100%",panelClass:"help-panel"}}}let A$=(()=>{class n{constructor(e){this.mimeDomHelper=e}getConfig(e){const i=this.getPosition(e);return{hasBackdrop:!1,disableClose:!1,autoFocus:!1,width:`${n.dialogWidth}px`,position:{top:i.top+"px",left:i.left+"px"},panelClass:"help-panel"}}getPosition(e){const i=this.mimeDomHelper.getBoundingClientRect(e);return new Es({top:i.top+64,left:i.right-n.dialogWidth-n.paddingRight})}}return n.dialogWidth=350,n.paddingRight=20,n})(),rR=(()=>{class n{constructor(e,i){this.mediaObserver=e,this.mimeDomHelper=i}create(){return this.mediaObserver.isActive("lt-md")?new M$:new A$(this.mimeDomHelper)}}return n.\u0275fac=function(e){return new(e||n)(se(Eo),se(Ds))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),q_=(()=>{class n{constructor(e,i,r){this.dialog=e,this.helpDialogConfigStrategyFactory=i,this.mimeResizeService=r,this._el=null,this.isHelpDialogOpen=!1}initialize(){this.subscriptions=new h,this.subscriptions.add(this.mimeResizeService.onResize.subscribe(()=>{if(this.isHelpDialogOpen){const e=this.getDialogConfig();this.dialogRef.updatePosition(e.position),this.dialogRef.updateSize(e.width,e.height)}}))}destroy(){this.close(),this.unsubscribe()}set el(e){this._el=e}open(){if(!this.isHelpDialogOpen){const e=this.getDialogConfig();this.dialogRef=this.dialog.open(T$,e),this.dialogRef.afterClosed().pipe(hn(1)).subscribe(()=>{this.isHelpDialogOpen=!1}),this.isHelpDialogOpen=!0}}close(){this.dialogRef&&this.dialogRef.close(),this.isHelpDialogOpen=!1}toggle(){this.isHelpDialogOpen?this.close():this.open()}isOpen(){return this.isHelpDialogOpen}getDialogConfig(){return this._el?this.helpDialogConfigStrategyFactory.create().getConfig(this._el):{}}unsubscribe(){this.subscriptions&&this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(se(Oo),se(rR),se(Ss))},n.\u0275prov=be({token:n,factory:n.\u0275fac}),n})(),I$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[q_,rR],imports:[[Jl]]}),n})(),R$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[E$,Jl,x$,v$,I$,C$,w$]]}),n})();const O$={leading:!0,trailing:!1};class P${constructor(t,e,i){this.durationSelector=t,this.leading=e,this.trailing=i}call(t,e){return e.subscribe(new k$(t,this.durationSelector,this.leading,this.trailing))}}class k$ extends ri{constructor(t,e,i,r){super(t),this.destination=t,this.durationSelector=e,this._leading=i,this._trailing=r,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=_n(this,e))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=null,e&&this.send()}notifyNext(t,e,i,r,s){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}class L${constructor(t){this.isOpen=!1,this.selectedIndex=0,t&&(this.isOpen=void 0!==t.isOpen?t.isOpen:this.isOpen,this.selectedIndex=void 0!==t.selectedIndex?t.selectedIndex:this.selectedIndex)}}class N${constructor(t){this.isOpen=!1,t&&(this.isOpen=void 0!==t.isOpen?t.isOpen:this.isOpen)}}class B${constructor(t){this.isOpen=!1,t&&(this.isOpen=void 0!==t.isOpen?t.isOpen:this.isOpen)}}class sR{constructor(t){this.contentDialogState=new L$,this.contentsSearchDialogState=new N$,this.helpDialogState=new B$,t&&(this.contentDialogState=t.contentDialogState?t.contentDialogState:this.contentDialogState,this.contentsSearchDialogState=t.contentsSearchDialogState?t.contentsSearchDialogState:this.contentsSearchDialogState,this.helpDialogState=t.helpDialogState?t.helpDialogState:this.helpDialogState)}}const V$=["container"];function H$(n,t){if(1&n){const e=wn();$n(0),ie(1,"button",10),Xe("click",function(){return en(e),Fe().goToPreviousCanvasGroup()}),ie(2,"mat-icon"),Ke(3,"navigate_before"),re(),re(),ei()}if(2&n){const e=Fe();ue(1),de("matTooltip",e.intl.previousPageLabel)("disabled",e.isFirstCanvasGroup),$e("aria-label",e.intl.previousPageLabel)}}function G$(n,t){if(1&n){const e=wn();$n(0),ie(1,"button",11),Xe("click",function(){return en(e),Fe().goToNextCanvasGroup()}),ie(2,"mat-icon"),Ke(3,"navigate_before"),re(),re(),ei()}if(2&n){const e=Fe();ue(1),de("matTooltip",e.intl.nextPageLabel)("disabled",e.isLastCanvasGroup),$e("aria-label",e.intl.nextPageLabel)}}function z$(n,t){if(1&n){const e=wn();$n(0),ie(1,"button",11),Xe("click",function(){return en(e),Fe().goToNextCanvasGroup()}),ie(2,"mat-icon"),Ke(3,"navigate_next"),re(),re(),ei()}if(2&n){const e=Fe();ue(1),de("matTooltip",e.intl.nextPageLabel)("disabled",e.isLastCanvasGroup),$e("aria-label",e.intl.nextPageLabel)}}function j$(n,t){if(1&n){const e=wn();$n(0),ie(1,"button",10),Xe("click",function(){return en(e),Fe().goToPreviousCanvasGroup()}),ie(2,"mat-icon"),Ke(3,"navigate_next"),re(),re(),ei()}if(2&n){const e=Fe();ue(1),de("matTooltip",e.intl.previousPageLabel)("disabled",e.isFirstCanvasGroup),$e("aria-label",e.intl.previousPageLabel)}}let U$=(()=>{class n{constructor(e,i,r,s,o,a,c,u){this.intl=e,this.renderer=i,this.changeDetectorRef=r,this.mimeService=s,this.viewerService=o,this.canvasService=a,this.styleService=c,this.iiifManifestService=u,this.osdToolbarStyle={},this.numberOfCanvasGroups=0,this.isFirstCanvasGroup=!1,this.isLastCanvasGroup=!1,this.state="hide",this.invert=!1,this.subscriptions=new h}get osdToolbarState(){return this.state}ngOnInit(){this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(e=>{e&&(this.invert=e.viewingDirection===Hn.LTR,this.changeDetectorRef.detectChanges())})),this.subscriptions.add(this.mimeService.onResize.subscribe(e=>{this.osdToolbarStyle={top:e.top+110+"px"},this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.viewerService.onCanvasGroupIndexChange.subscribe(e=>{this.numberOfCanvasGroups=this.canvasService.numberOfCanvasGroups,this.isFirstCanvasGroup=this.isOnFirstCanvasGroup(e),this.isLastCanvasGroup=this.isOnLastCanvasGroup(e),this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.intl.changes.subscribe(()=>this.changeDetectorRef.markForCheck()))}ngAfterViewInit(){this.subscriptions.add(this.styleService.onChange.subscribe(e=>{const i=this.styleService.convertToRgba(e,.3);this.renderer.setStyle(this.container.nativeElement,"background-color",i)}))}zoomIn(){this.viewerService.zoomIn()}zoomOut(){this.viewerService.zoomOut()}home(){this.viewerService.home()}rotate(){this.viewerService.rotate()}ngOnDestroy(){this.subscriptions.unsubscribe()}goToPreviousCanvasGroup(){this.viewerService.goToPreviousCanvasGroup()}goToNextCanvasGroup(){this.viewerService.goToNextCanvasGroup()}isOnFirstCanvasGroup(e){return 0===e}isOnLastCanvasGroup(e){return e===this.numberOfCanvasGroups-1}}return n.\u0275fac=function(e){return new(e||n)(I(Ti),I(Kr),I(Jt),I(Ss),I(Da),I(Lr),I(Zu),I(Zi))},n.\u0275cmp=Mt({type:n,selectors:[["mime-osd-toolbar"]],viewQuery:function(e,i){if(1&e&&Kt(V$,7),2&e){let r;ht(r=ft())&&(i.container=r.first)}},hostVars:1,hostBindings:function(e,i){2&e&&po("@osdToolbarState",i.osdToolbarState)},decls:23,vars:13,consts:[[1,"osd-toolbar",3,"ngStyle"],["container",""],["fxHide","","fxShow.gt-sm","true"],["fxLayout","column","fxLayoutAlign","center center",1,"osd-toolbar-container"],[1,"osd-toolbar-row"],[4,"ngIf"],["id","homeButton","mat-icon-button","",3,"matTooltip","click"],["id","zoomInButton","mat-icon-button","",3,"matTooltip","click"],["id","rotateButton","mat-icon-button","",3,"matTooltip","click"],["id","zoomOutButton","mat-icon-button","",3,"matTooltip","click"],["id","navigateBeforeButton","mat-icon-button","",3,"matTooltip","disabled","click"],["id","navigateNextButton","mat-icon-button","",3,"matTooltip","disabled","click"]],template:function(e,i){1&e&&(ie(0,"div",0,1),ie(2,"div",2),ie(3,"div",3),ze(4,"div",4),ie(5,"div",4),Le(6,H$,4,3,"ng-container",5),Le(7,G$,4,3,"ng-container",5),ie(8,"button",6),Xe("click",function(){return i.home()}),ie(9,"mat-icon"),Ke(10,"home"),re(),re(),Le(11,z$,4,3,"ng-container",5),Le(12,j$,4,3,"ng-container",5),re(),ie(13,"div",4),ie(14,"button",7),Xe("click",function(){return i.zoomIn()}),ie(15,"mat-icon"),Ke(16,"zoom_in"),re(),re(),ie(17,"button",8),Xe("click",function(){return i.rotate()}),ie(18,"mat-icon"),Ke(19,"rotate_right"),re(),re(),ie(20,"button",9),Xe("click",function(){return i.zoomOut()}),ie(21,"mat-icon"),Ke(22,"zoom_out"),re(),re(),re(),re(),re(),re()),2&e&&(de("ngStyle",i.osdToolbarStyle),ue(6),de("ngIf",i.invert),ue(1),de("ngIf",!i.invert),ue(1),de("matTooltip",i.intl.homeLabel),$e("aria-label",i.intl.homeLabel),ue(3),de("ngIf",i.invert),ue(1),de("ngIf",!i.invert),ue(2),de("matTooltip",i.intl.zoomInLabel),$e("aria-label",i.intl.zoomInLabel),ue(3),de("matTooltip",i.intl.rotateCwLabel),$e("aria-label",i.intl.rotateCwLabel),ue(3),de("matTooltip",i.intl.zoomOutLabel),$e("aria-label",i.intl.zoomOutLabel))},directives:[Hs,vu,QS,cr,ur,ci,xs,xa,Fo],styles:["[_nghost-%COMP%]{z-index:2}  .osd-toolbar-row>.mat-toolbar-row{height:40px}.osd-toolbar[_ngcontent-%COMP%]{position:absolute;background:transparent;width:auto;border-radius:8px;margin-left:16px}"],data:{animation:[Ks("osdToolbarState",[hi("hide",tn({transform:"translate(-120px, 0)",display:"none"})),hi("show",tn({transform:"translate(0px, 0px)",display:"block"})),fi("hide => show",[c6([tn({display:"block"}),di(`${fn_transitions_toolbarsEaseInTime}ms ease-out`)])]),fi("show => hide",di(`${fn_transitions_toolbarsEaseOutTime}ms ease-in`))])]},changeDetection:0}),n})();function W$(n,t){if(1&n){const e=wn();$n(0),ie(1,"button",9),Xe("click",function(){return en(e),Fe().goToPreviousCanvasGroup()}),ie(2,"mat-icon"),Ke(3,"navigate_before"),re(),re(),ie(4,"button",10),Xe("click",function(){return en(e),Fe().goToNextCanvasGroup()}),ie(5,"mat-icon"),Ke(6,"navigate_next"),re(),re(),ei()}if(2&n){const e=Fe();ue(1),de("matTooltip",e.intl.previousPageLabel)("disabled",e.isFirstCanvasGroup),$e("aria-label",e.intl.previousPageLabel),ue(3),de("matTooltip",e.intl.nextPageLabel)("disabled",e.isLastCanvasGroup),$e("aria-label",e.intl.nextPageLabel)}}function q$(n,t){if(1&n){const e=wn();$n(0),ie(1,"button",10),Xe("click",function(){return en(e),Fe().goToNextCanvasGroup()}),ie(2,"mat-icon"),Ke(3,"navigate_before"),re(),re(),ie(4,"button",9),Xe("click",function(){return en(e),Fe().goToPreviousCanvasGroup()}),ie(5,"mat-icon"),Ke(6,"navigate_next"),re(),re(),ei()}if(2&n){const e=Fe();ue(1),de("matTooltip",e.intl.nextPageLabel)("disabled",e.isLastCanvasGroup),$e("aria-label",e.intl.nextPageLabel),ue(3),de("matTooltip",e.intl.previousPageLabel)("disabled",e.isFirstCanvasGroup),$e("aria-label",e.intl.previousPageLabel)}}let K$=(()=>{class n{constructor(e,i,r,s,o,a){this.intl=e,this.changeDetectorRef=i,this.viewerService=r,this.canvasService=s,this.pageDialogService=o,this.iiifManifestService=a,this.numberOfCanvases=0,this.canvasGroupLabel="",this.numberOfCanvasGroups=0,this.currentCanvasGroupIndex=-1,this.isFirstCanvasGroup=!1,this.isLastCanvasGroup=!1,this.invert=!1,this.currentSliderCanvasGroupIndex=-1,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(e=>{e&&(this.invert=e.viewingDirection===Hn.LTR,this.changeDetectorRef.detectChanges())})),this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe(e=>{-1!==this.currentSliderCanvasGroupIndex&&this.currentSliderCanvasGroupIndex===e?this.currentSliderCanvasGroupIndex=-1:-1===this.currentSliderCanvasGroupIndex&&(this.currentCanvasGroupIndex=e,this.canvasGroupLabel=this.canvasService.getCanvasGroupLabel(this.currentCanvasGroupIndex)),this.isFirstCanvasGroup=this.isOnFirstCanvasGroup(e),this.isLastCanvasGroup=this.isOnLastCanvasGroup(e),this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.canvasService.onNumberOfCanvasGroupsChange.subscribe(e=>{this.numberOfCanvasGroups=e,this.numberOfCanvases=this.canvasService.numberOfCanvases,null!==this.currentCanvasGroupIndex&&(this.isFirstCanvasGroup=this.isOnFirstCanvasGroup(this.currentCanvasGroupIndex),this.isLastCanvasGroup=this.isOnLastCanvasGroup(this.currentCanvasGroupIndex)),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}goToPreviousCanvasGroup(){this.viewerService.goToPreviousCanvasGroup()}goToNextCanvasGroup(){this.viewerService.goToNextCanvasGroup()}onSliderChange(e){this.currentSliderCanvasGroupIndex=e.value,this.currentCanvasGroupIndex=e.value,null!==this.currentCanvasGroupIndex&&(this.canvasGroupLabel=this.canvasService.getCanvasGroupLabel(this.currentCanvasGroupIndex),this.viewerService.goToCanvasGroup(this.currentCanvasGroupIndex,!1)),this.changeDetectorRef.detectChanges()}onSliderHotKey(e){new Mi(e).isSliderKeys()&&e.stopPropagation()}openCanvasGroupDialog(){this.pageDialogService.toggle()}isOnFirstCanvasGroup(e){return 0===e}isOnLastCanvasGroup(e){return e===this.numberOfCanvasGroups-1}}return n.\u0275fac=function(e){return new(e||n)(I(Ti),I(Jt),I(Da),I(Lr),I(iR),I(Zi))},n.\u0275cmp=Mt({type:n,selectors:[["mime-page-navigator"]],inputs:{searchResult:"searchResult"},decls:15,vars:8,consts:[["fxLayout","row","fxFlex","","fxLayoutAlign","start center"],["fxFlex",""],["fxFlex","",1,"navigation-slider",3,"invert","max","value","input","keyup"],["mat-button","",1,"canvasGroups",3,"click"],["fxLayout","row","fxLayoutGap","1px"],["id","currentCanvasGroupLabel"],["id","numOfCanvasGroups"],[1,"navigation-buttons"],[4,"ngIf"],["id","footerNavigateBeforeButton","mat-icon-button","","matTooltipPosition","above",3,"matTooltip","disabled","click"],["id","footerNavigateNextButton","mat-icon-button","","matTooltipPosition","above",3,"matTooltip","disabled","click"]],template:function(e,i){1&e&&(ie(0,"mat-toolbar"),ie(1,"div",0),ie(2,"div",1),ie(3,"mat-slider",2),Xe("input",function(s){return i.onSliderChange(s)})("keyup",function(s){return i.onSliderHotKey(s)}),re(),re(),ie(4,"button",3),Xe("click",function(){return i.openCanvasGroupDialog()}),ie(5,"div",4),ie(6,"span",5),Ke(7),re(),ie(8,"span"),Ke(9,"/"),re(),ie(10,"span",6),Ke(11),re(),re(),re(),ie(12,"div",7),Le(13,W$,7,6,"ng-container",8),Le(14,q$,7,6,"ng-container",8),re(),re(),re()),2&e&&(ue(3),de("invert",!i.invert)("max",i.numberOfCanvasGroups-1)("value",i.currentCanvasGroupIndex),$e("aria-label",i.intl.currentPageLabel),ue(4),Qt(i.canvasGroupLabel),ue(4),Qt(i.numberOfCanvases),ue(2),de("ngIf",i.invert),ue(1),de("ngIf",!i.invert))},directives:[Po,cr,Ws,ur,vI,xs,sT,ci,xa,Fo],styles:[".canvasGroups[_ngcontent-%COMP%]{font-size:13px;text-align:center;cursor:pointer}.navigation-slider[_ngcontent-%COMP%]{width:100%}"]}),n})();function X$(n,t){if(1&n){const e=wn();$n(0),ie(1,"button",7),Xe("click",function(){return en(e),Fe(2).goToPreviousCanvasGroupHit()}),ie(2,"mat-icon"),Ke(3,"navigate_before"),re(),re(),ie(4,"button",8),Xe("click",function(){return en(e),Fe(2).goToNextCanvasGroupHit()}),ie(5,"mat-icon"),Ke(6,"navigate_next"),re(),re(),ei()}if(2&n){const e=Fe(2);ue(1),de("matTooltip",e.intl.previousHitLabel)("disabled",e.isFirstCanvasGroupHit),$e("aria-label",e.intl.previousHitLabel),ue(3),de("matTooltip",e.intl.nextHitLabel)("disabled",e.isLastCanvasGroupHit),$e("aria-label",e.intl.nextHitLabel)}}function Z$(n,t){if(1&n){const e=wn();$n(0),ie(1,"button",8),Xe("click",function(){return en(e),Fe(2).goToNextCanvasGroupHit()}),ie(2,"mat-icon"),Ke(3,"navigate_before"),re(),re(),ie(4,"button",7),Xe("click",function(){return en(e),Fe(2).goToPreviousCanvasGroupHit()}),ie(5,"mat-icon"),Ke(6,"navigate_next"),re(),re(),ei()}if(2&n){const e=Fe(2);ue(1),de("matTooltip",e.intl.nextHitLabel)("disabled",e.isLastCanvasGroupHit),$e("aria-label",e.intl.nextHitLabel),ue(3),de("matTooltip",e.intl.previousHitLabel)("disabled",e.isFirstCanvasGroupHit),$e("aria-label",e.intl.previousHitLabel)}}const Y$=function(n){return{"not-on-page":n}};function Q$(n,t){if(1&n){const e=wn();ie(0,"div",2),ie(1,"div"),ie(2,"button",3),Xe("click",function(){return en(e),Fe().clear()}),ie(3,"mat-icon"),Ke(4,"close"),re(),re(),re(),ze(5,"div",4),ie(6,"div",5),Le(7,X$,7,6,"ng-container",6),Le(8,Z$,7,6,"ng-container",6),re(),re()}if(2&n){const e=Fe();ue(2),de("matTooltip",e.intl.closeLabel),$e("aria-label",e.intl.closeLabel),ue(3),de("ngClass",Qd(6,Y$,!e.isHitOnActiveCanvasGroup))("innerHTML",e.intl.currentHitLabel(e.currentIndex+1,e.searchResult.size()),jn),ue(2),de("ngIf",e.invert),ue(1),de("ngIf",!e.invert)}}let J$=(()=>{class n{constructor(e,i,r,s,o,a){this.intl=e,this.changeDetectorRef=i,this.canvasService=r,this.iiifContentSearchService=s,this.contentSearchNavigationService=o,this.iiifManifestService=a,this.isHitOnActiveCanvasGroup=!1,this.isFirstCanvasGroupHit=!1,this.isLastCanvasGroupHit=!1,this.currentIndex=0,this.invert=!1,this.subscriptions=new h}ngOnInit(){this.contentSearchNavigationService.initialize(),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(e=>{e&&(this.invert=e.viewingDirection===Hn.LTR,this.changeDetectorRef.detectChanges())})),this.subscriptions.add(this.intl.changes.subscribe(()=>this.changeDetectorRef.markForCheck())),this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe(e=>{this.contentSearchNavigationService.update(e),this.currentIndex=this.contentSearchNavigationService.getCurrentIndex(),this.isHitOnActiveCanvasGroup=this.contentSearchNavigationService.getHitOnActiveCanvasGroup(),this.isFirstCanvasGroupHit=this.contentSearchNavigationService.getFirstHitCanvasGroup(),this.isLastCanvasGroupHit=this.contentSearchNavigationService.getLastHitCanvasGroup(),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.contentSearchNavigationService.destroy()}clear(){this.iiifContentSearchService.destroy()}goToPreviousCanvasGroupHit(){this.contentSearchNavigationService.goToPreviousCanvasGroupHit()}goToNextCanvasGroupHit(){this.contentSearchNavigationService.goToNextCanvasGroupHit()}}return n.\u0275fac=function(e){return new(e||n)(I(Ti),I(Jt),I(Lr),I(to),I(j_),I(Zi))},n.\u0275cmp=Mt({type:n,selectors:[["mime-content-search-navigator"]],inputs:{searchResult:"searchResult"},decls:2,vars:1,consts:[["color","primary",1,"content-search-navigator-toolbar"],["fxLayout","row","fxFlex","","fxLayoutAlign","space-between center",4,"ngIf"],["fxLayout","row","fxFlex","","fxLayoutAlign","space-between center"],["id","footerNavigateCloseHitsButton","mat-icon-button","","matTooltipPosition","above",3,"matTooltip","click"],["fxFlex","","fxFlex","",1,"current-hit-label",3,"ngClass","innerHTML"],[1,"navigation-buttons"],[4,"ngIf"],["id","footerNavigatePreviousHitButton","mat-icon-button","","matTooltipPosition","above",3,"matTooltip","disabled","click"],["id","footerNavigateNextHitButton","mat-icon-button","","matTooltipPosition","above",3,"matTooltip","disabled","click"]],template:function(e,i){1&e&&(ie(0,"mat-toolbar",0),Le(1,Q$,9,8,"div",1),re()),2&e&&(ue(1),de("ngIf",i.searchResult))},directives:[Po,ci,cr,Ws,ur,xs,xa,Fo,ra,qh],styles:[".current-hit-label[_ngcontent-%COMP%]{font-size:13px;text-align:center}.not-on-page[_ngcontent-%COMP%]{opacity:.6}"],changeDetection:0}),n})();const $$=["mimeFooterBefore"],eee=["mimeFooterAfter"];function tee(n,t){}function nee(n,t){1&n&&ze(0,"mime-content-search-navigator",5),2&n&&de("searchResult",Fe(2).searchResult)}function iee(n,t){if(1&n&&(ie(0,"div",7),Le(1,nee,1,1,"mime-content-search-navigator",8),re()),2&n){const e=Fe();ue(1),de("ngIf",e.showContentSearchNavigator)}}function ree(n,t){}let see=(()=>{class n{constructor(e,i,r){this.iiifContentSearchService=e,this.mediaObserver=i,this.changeDetectorRef=r,this.state="hide",this.showNavigationToolbar=!0,this.searchResult=new Xu,this.showPageNavigator=!0,this.showContentSearchNavigator=!1,this.subscriptions=new h}get footerState(){return this.state}ngOnInit(){this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(e=>{this.searchResult=e,this.showContentSearchNavigator=this.searchResult.size()>0,this.showPageNavigator=0===this.searchResult.size()||!this.isMobile(),this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.mediaObserver.asObservable().subscribe(e=>{this.showPageNavigator=0===this.searchResult.size()||!this.isMobile(),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}isMobile(){return this.mediaObserver.isActive("lt-md")}}return n.\u0275fac=function(e){return new(e||n)(I(to),I(Eo),I(Jt))},n.\u0275cmp=Mt({type:n,selectors:[["mime-viewer-footer"]],viewQuery:function(e,i){if(1&e&&(Kt($$,7,oi),Kt(eee,7,oi)),2&e){let r;ht(r=ft())&&(i.mimeFooterBefore=r.first),ht(r=ft())&&(i.mimeFooterAfter=r.first)}},hostVars:1,hostBindings:function(e,i){2&e&&po("@footerState",i.footerState)},decls:11,vars:3,consts:[[1,"footer-toolbar"],["fxLayout","row","fxFlex","","fxLayoutAlign","start center"],["mimeFooterBefore",""],["fxFlex","250px","fxFlex.lt-md","100%",4,"ngIf"],["fxFlex","",3,"hidden"],[3,"searchResult"],["mimeFooterAfter",""],["fxFlex","250px","fxFlex.lt-md","100%"],[3,"searchResult",4,"ngIf"]],template:function(e,i){1&e&&(ie(0,"mat-toolbar",0),ie(1,"div",1),ie(2,"div"),Le(3,tee,0,0,"ng-template",null,2,zc),re(),Le(5,iee,2,1,"div",3),ie(6,"div",4),ze(7,"mime-page-navigator",5),re(),re(),ie(8,"div"),Le(9,ree,0,0,"ng-template",null,6,zc),re(),re()),2&e&&(ue(5),de("ngIf",i.searchResult.size()>0),ue(1),de("hidden",!i.showPageNavigator),ue(1),de("searchResult",i.searchResult))},directives:[Po,cr,Ws,ur,ci,K$,J$],styles:["[_nghost-%COMP%]{display:block;width:100%;-webkit-user-select:none;user-select:none}.footer-toolbar[_ngcontent-%COMP%]{padding:0}[hidden][_ngcontent-%COMP%]{display:none}"],data:{animation:[Ks("footerState",[hi("hide",tn({transform:"translate(0, 100%)"})),hi("show",tn({transform:"translate(0, 0)"})),fi("hide => show",di(fn_transitions_toolbarsEaseInTime+"ms ease-in")),fi("show => hide",di(fn_transitions_toolbarsEaseOutTime+"ms ease-out"))])]}}),n})();function oee(n,t){1&n&&($n(0),ie(1,"div",2),os(),ie(2,"svg",3),ie(3,"style",4),Ke(4," .st0 { clip-path: url(#SVGID_2_); } "),re(),ie(5,"g"),ie(6,"defs"),ze(7,"rect",5),re(),ie(8,"clipPath",6),ze(9,"use",7),re(),ze(10,"path",8),re(),re(),re(),ei())}function aee(n,t){1&n&&($n(0),os(),ie(1,"svg",3),ie(2,"style",4),Ke(3," .st0 { clip-path: url(#SVGID_2_); } "),re(),ie(4,"g"),ie(5,"defs"),ze(6,"rect",5),re(),ie(7,"clipPath",6),ze(8,"use",7),re(),ze(9,"path",9),ze(10,"path",10),re(),re(),ei())}let lee=(()=>{class n{constructor(){this.iconName=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Mt({type:n,selectors:[["mime-icon"]],inputs:{iconName:"iconName"},decls:3,vars:2,consts:[[1,"mat-icon"],[4,"ngIf"],[1,"single-page-display"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 90 90","preserveAspectRatio","xMidYMin slice"],["type","text/css"],["id","SVGID_1_","width","100%","height","100%"],["id","SVGID_2_"],[0,"xlink","href","#SVGID_1_",2,"overflow","visible"],["d","M21.7,25.2H8.3v2.7h13.4V25.2z M21.7,18.1H8.3v2.7h13.4V18.1z M26.1,31.8H4V4.1h13.6v8.4h8.5V31.8z M30,31.6\n          V11.4L18.7,0H4.3C4.3,0,0,0,0,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C25.8,35.9,30,35.9,30,31.6",1,"st0"],["d","M52.5,25.2H39.1v2.7h13.4V25.2z M52.5,18.1H39.1v2.7h13.4V18.1z M56.8,31.8H34.7V4.1h13.6v8.4h8.5V31.8z\n        M60.8,31.6V11.4L49.4,0H35c0,0-4.3,0-4.3,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C56.6,35.9,60.8,35.9,60.8,31.6",1,"st0"],["d","M21.7,25.2H8.3v2.7h13.4V25.2z M21.7,18.1H8.3v2.7h13.4V18.1z M21.7,11.1H8.3v2.7h13.4V11.1z M26.1,31.8H4V4.1\n       h22.1V31.8z M30,31.6V4.3c0,0,0-4.3-4.3-4.3H4.3C4.3,0,0,0,0,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C25.8,35.9,30,35.9,30,31.6",1,"st0"]],template:function(e,i){1&e&&(ie(0,"div",0),Le(1,oee,11,0,"ng-container",1),Le(2,aee,11,0,"ng-container",1),re()),2&e&&(ue(1),de("ngIf","single_page_display"===i.iconName),ue(1),de("ngIf","two_page_display"===i.iconName))},directives:[ci],styles:[".mat-icon[_ngcontent-%COMP%]{position:absolute;top:12px;left:7px;vertical-align:middle}.single-page-display[_ngcontent-%COMP%]{margin-left:5px}svg[_ngcontent-%COMP%]{height:40px;width:40px}"],changeDetection:0}),n})();const cee=["mimeHeaderBefore"],uee=["mimeHeaderAfter"];function dee(n,t){}function hee(n,t){if(1&n&&(ie(0,"div",12),Ke(1),re()),2&n){const e=Fe();de("matTooltip",e.manifest.label),ue(1),Qt(e.manifest.label)}}function fee(n,t){if(1&n){const e=wn();ie(0,"button",13),Xe("click",function(){return en(e),Fe().toggleRecognizedTextContent()}),ie(1,"mat-icon"),Ke(2,"notes"),re(),re()}if(2&n){const e=Fe();de("matTooltip",e.intl.recognizedTextContentLabel),$e("aria-label",e.intl.recognizedTextContentLabel)}}function pee(n,t){if(1&n){const e=wn();ie(0,"button",14),Xe("click",function(){return en(e),Fe().toggleViewerLayout()}),ze(1,"mime-icon",15),re()}if(2&n){const e=Fe();de("id",e.viewerLayout===e.ViewerLayout.ONE_PAGE?"toggleTwoPageViewButton":"toggleSinglePageViewButton")("matTooltip",e.viewerLayout===e.ViewerLayout.ONE_PAGE?e.intl.twoPageViewLabel:e.intl.singlePageViewLabel),$e("aria-label",e.viewerLayout===e.ViewerLayout.ONE_PAGE?e.intl.twoPageViewLabel:e.intl.singlePageViewLabel),ue(1),de("iconName",e.viewerLayout===e.ViewerLayout.ONE_PAGE?"two_page_display":"single_page_display")}}function mee(n,t){if(1&n){const e=wn();ie(0,"button",16),Xe("click",function(){return en(e),Fe().toggleSearch()}),ie(1,"mat-icon",7),Ke(2,"search"),re(),re()}if(2&n){const e=Fe();de("matTooltip",e.intl.searchLabel),$e("aria-label",e.intl.searchLabel)}}function gee(n,t){1&n&&(ie(0,"mat-icon",7),Ke(1,"fullscreen_exit"),re())}function yee(n,t){1&n&&(ie(0,"mat-icon",7),Ke(1,"fullscreen"),re())}function vee(n,t){if(1&n){const e=wn();ie(0,"button",17),Xe("click",function(){return en(e),Fe().toggleFullscreen()}),Le(1,gee,2,0,"mat-icon",18),Le(2,yee,2,0,"mat-icon",18),re()}if(2&n){const e=Fe();de("matTooltip",e.fullscreenLabel),$e("aria-label",e.fullscreenLabel),ue(1),de("ngIf",e.isInFullScreen),ue(1),de("ngIf",!e.isInFullScreen)}}function _ee(n,t){}let bee=(()=>{class n{constructor(e,i,r,s,o,a,c,u,p,x,A){this.intl=e,this.changeDetectorRef=i,this.contentsDialogService=r,this.contentSearchDialogService=s,this.helpDialogService=o,this.iiifManifestService=a,this.fullscreenService=c,this.mimeDomHelper=u,this.viewerLayoutService=p,this.altoService=x,this.manifest=null,this.state="hide",this.isContentSearchEnabled=!1,this.isFullscreenEnabled=!1,this.isInFullscreen=!1,this.fullscreenLabel=this.intl.fullScreenLabel,this.isPagedManifest=!1,this.hasRecognizedTextContent=!1,this.viewerLayout=En.ONE_PAGE,this.ViewerLayout=En,this.subscriptions=new h,r.el=A,s.el=A,o.el=A}get headerState(){return this.state}ngOnInit(){this.isFullscreenEnabled=this.fullscreenService.isEnabled(),this.subscriptions.add(this.intl.changes.subscribe(()=>this.changeDetectorRef.markForCheck())),this.subscriptions.add(this.fullscreenService.onChange.subscribe(()=>{this.isInFullscreen=this.fullscreenService.isFullscreen(),this.fullscreenLabel=this.isInFullscreen?this.intl.exitFullScreenLabel:this.intl.fullScreenLabel,this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(e=>{this.manifest=e,this.isContentSearchEnabled=!(!e||!e.service),this.isPagedManifest=!!e&&ko.isManifestPaged(e),this.hasRecognizedTextContent=!!e&&ko.hasRecognizedTextContent(e),this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.viewerLayoutService.onChange.subscribe(e=>{this.viewerLayout=e}))}ngOnDestroy(){this.subscriptions.unsubscribe()}toggleRecognizedTextContent(){this.altoService.toggle()}toggleContents(){this.contentSearchDialogService.close(),this.helpDialogService.close(),this.contentsDialogService.toggle()}toggleSearch(){this.contentsDialogService.close(),this.helpDialogService.close(),this.contentSearchDialogService.toggle()}toggleHelp(){this.contentsDialogService.close(),this.contentSearchDialogService.close(),this.helpDialogService.toggle()}toggleFullscreen(){return this.mimeDomHelper.toggleFullscreen()}isInFullScreen(){return this.fullscreenService.isFullscreen()}toggleViewerLayout(){this.viewerLayoutService.toggle()}setLayoutOnePage(){this.viewerLayoutService.setLayout(En.ONE_PAGE)}setLayoutTwoPage(){this.viewerLayoutService.setLayout(En.TWO_PAGE)}}return n.\u0275fac=function(e){return new(e||n)(I(Ti),I(Jt),I(op),I(ap),I(q_),I(Zi),I(H_),I(Ds),I(sp),I($l),I(Be))},n.\u0275cmp=Mt({type:n,selectors:[["mime-viewer-header"]],viewQuery:function(e,i){if(1&e&&(Kt(cee,7,oi),Kt(uee,7,oi)),2&e){let r;ht(r=ft())&&(i.mimeHeaderBefore=r.first),ht(r=ft())&&(i.mimeHeaderAfter=r.first)}},hostVars:1,hostBindings:function(e,i){2&e&&po("@headerState",i.headerState)},decls:20,vars:9,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"header-container"],["mimeHeaderBefore",""],["fxFlexOffset","16px","class","label",3,"matTooltip",4,"ngIf"],["fxFlex","noshrink","fxLayout","row","fxLayoutAlign","end center",1,"buttons-container"],["mat-icon-button","","data-test-id","ngx-mimeRecognizedTextContentButton",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"id","matTooltip","click",4,"ngIf"],["id","ngx-mimeContentsDialogButton","mat-icon-button","",3,"matTooltip","click"],["aria-hidden","true"],["id","ngx-mimeContentSearchDialogButton","mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["id","ngx-mimeHelpDialogButton","mat-icon-button","",3,"matTooltip","click"],["id","ngx-mimeFullscreenButton","mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["mimeHeaderAfter",""],["fxFlexOffset","16px",1,"label",3,"matTooltip"],["mat-icon-button","","data-test-id","ngx-mimeRecognizedTextContentButton",3,"matTooltip","click"],["mat-icon-button","",3,"id","matTooltip","click"],[3,"iconName"],["id","ngx-mimeContentSearchDialogButton","mat-icon-button","",3,"matTooltip","click"],["id","ngx-mimeFullscreenButton","mat-icon-button","",3,"matTooltip","click"],["aria-hidden","true",4,"ngIf"]],template:function(e,i){1&e&&(ie(0,"mat-toolbar"),ie(1,"div",0),ie(2,"div"),Le(3,dee,0,0,"ng-template",null,1,zc),re(),Le(5,hee,2,2,"div",2),ie(6,"div",3),Le(7,fee,3,2,"button",4),Le(8,pee,2,4,"button",5),ie(9,"button",6),Xe("click",function(){return i.toggleContents()}),ie(10,"mat-icon",7),Ke(11,"list"),re(),re(),Le(12,mee,3,2,"button",8),ie(13,"button",9),Xe("click",function(){return i.toggleHelp()}),ie(14,"mat-icon",7),Ke(15,"help"),re(),re(),Le(16,vee,3,4,"button",10),re(),ie(17,"div"),Le(18,_ee,0,0,"ng-template",null,11,zc),re(),re(),re()),2&e&&(ue(5),de("ngIf",i.manifest),ue(2),de("ngIf",i.hasRecognizedTextContent),ue(1),de("ngIf",i.isPagedManifest),ue(1),de("matTooltip",i.intl.contentsLabel),$e("aria-label",i.intl.contentsLabel),ue(3),de("ngIf",i.isContentSearchEnabled),ue(1),de("matTooltip",i.intl.help.helpLabel),$e("aria-label",i.intl.help.helpLabel),ue(3),de("ngIf",i.isFullscreenEnabled))},directives:[Po,cr,ur,ci,Ws,xs,xa,Fo,aT,lee],styles:["[_nghost-%COMP%]{max-height:64px}.header-container[_ngcontent-%COMP%]{width:100%}.label[_ngcontent-%COMP%]{font-size:17px;overflow:hidden;text-overflow:ellipsis}mat-toolbar[_ngcontent-%COMP%]{padding:0}.buttons-container[_ngcontent-%COMP%]{padding:0 16px}"],data:{animation:[Ks("headerState",[hi("hide",tn({transform:"translate(0, -100%)"})),hi("show",tn({transform:"translate(0px, 0px)"})),fi("hide => show",di(fn_transitions_toolbarsEaseInTime+"ms ease-in")),fi("show => hide",di(fn_transitions_toolbarsEaseOutTime+"ms ease-out"))])]}}),n})(),wee=(()=>{class n{constructor(e,i){this.spinnerService=e,this.changeDetectorRef=i,this.visible=!1,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.spinnerService.spinnerState.subscribe(e=>{this.visible=e.show,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(I(ep),I(Jt))},n.\u0275cmp=Mt({type:n,selectors:[["mime-spinner"]],decls:2,vars:2,consts:[[1,"mime-spinner"]],template:function(e,i){1&e&&(ie(0,"div",0),ze(1,"mat-spinner"),re()),2&e&&Vt("mime-spinner--active",i.visible)},directives:[eY],styles:[".mime-spinner[_ngcontent-%COMP%]{display:none;position:absolute;left:50%;top:45%;transform:translate(-50%);z-index:9999}.mime-spinner--active[_ngcontent-%COMP%]{display:block}"]}),n})();const Cee=["recognizedTextContentContainer"];function xee(n,t){if(1&n&&(ie(0,"div",4),Ke(1),re()),2&n){const e=Fe();ue(1),Qt(e.error)}}function Eee(n,t){1&n&&ze(0,"div",7),2&n&&de("innerHTML",Fe(2).firstCanvasRecognizedTextContent,jn)}function Dee(n,t){1&n&&ze(0,"div",8),2&n&&de("innerHTML",Fe(2).secondCanvasRecognizedTextContent,jn)}function See(n,t){if(1&n&&(ie(0,"div"),Le(1,Eee,1,1,"div",5),Le(2,Dee,1,1,"div",6),re()),2&n){const e=Fe();ue(1),de("ngIf",e.firstCanvasRecognizedTextContent),ue(1),de("ngIf",e.secondCanvasRecognizedTextContent)}}function Tee(n,t){if(1&n&&(ie(0,"div"),Ke(1),re()),2&n){const e=Fe();ue(1),Qt(e.intl.loading)}}let Mee=(()=>{class n{constructor(e,i,r,s,o,a){this.intl=e,this.cdr=i,this.canvasService=r,this.altoService=s,this.iiifManifestService=o,this.iiifContentSearchService=a,this.isLoading=!1,this.error=void 0,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(e=>{this.altoService.initialize(e.hits)})),this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(()=>{this.clearRecognizedText(),this.cdr.detectChanges()})),this.subscriptions.add(this.altoService.onTextContentReady$.subscribe(()=>{this.clearRecognizedText(),this.scrollToTop(),this.updateRecognizedText(),this.cdr.detectChanges()})),this.subscriptions.add(this.altoService.isLoading$.subscribe(e=>{this.isLoading=e,this.cdr.detectChanges()})),this.subscriptions.add(this.altoService.hasErrors$.subscribe(e=>{this.error=e,this.cdr.detectChanges()}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.altoService.destroy()}clearRecognizedText(){this.firstCanvasRecognizedTextContent="",this.secondCanvasRecognizedTextContent=""}scrollToTop(){this.recognizedTextContentContainer.nativeElement.scrollTop=0}updateRecognizedText(){const e=this.canvasService.getCanvasesPerCanvasGroup(this.canvasService.currentCanvasGroupIndex);this.firstCanvasRecognizedTextContent=this.altoService.getHtml(e[0]),2===e.length&&(this.secondCanvasRecognizedTextContent=this.altoService.getHtml(e[1]))}}return n.\u0275fac=function(e){return new(e||n)(I(Ti),I(Jt),I(Lr),I($l),I(Zi),I(to))},n.\u0275cmp=Mt({type:n,selectors:[["mime-recognized-text-content"]],viewQuery:function(e,i){if(1&e&&Kt(Cee,5,Be),2&e){let r;ht(r=ft())&&(i.recognizedTextContentContainer=r.first)}},decls:5,vars:3,consts:[["aria-live","polite",1,"recognized-text-content-container"],["recognizedTextContentContainer",""],["data-test-id","error",4,"ngIf"],[4,"ngIf"],["data-test-id","error"],["data-test-id","firstCanvasRecognizedTextContent",3,"innerHTML",4,"ngIf"],["data-test-id","secondCanvasRecognizedTextContent",3,"innerHTML",4,"ngIf"],["data-test-id","firstCanvasRecognizedTextContent",3,"innerHTML"],["data-test-id","secondCanvasRecognizedTextContent",3,"innerHTML"]],template:function(e,i){1&e&&(ie(0,"div",0,1),Le(2,xee,2,1,"div",2),Le(3,See,3,2,"div",3),Le(4,Tee,2,1,"div",3),re()),2&e&&(ue(2),de("ngIf",i.error),ue(1),de("ngIf",!i.isLoading),ue(1),de("ngIf",i.isLoading))},directives:[ci],styles:[".recognized-text-content-container[_ngcontent-%COMP%]{height:100%;overflow:auto}.recognized-text-content-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1em}"],changeDetection:0}),n})();const Aee=["mimeHeader"],Iee=["mimeFooter"],Ree=["mimeOsdToolbar"];function Oee(n,t){1&n&&ze(0,"mime-osd-toolbar",null,10)}function Fee(n,t){1&n&&ze(0,"mime-recognized-text-content")}function Pee(n,t){if(1&n&&(ie(0,"div",11),ie(1,"span"),Ke(2),re(),re()),2&n){const e=Fe();ue(2),Qt(e.intl.somethingHasGoneWrongLabel)}}const kee=function(n){return{open:n}};let Lee=(()=>{class n{constructor(e,i,r,s,o,a,c,u,p,x,A,k,G,ne,W,ee,ae,ve,De){this.snackBar=e,this.intl=i,this.el=r,this.iiifManifestService=s,this.contentsDialogService=o,this.attributionDialogService=a,this.contentSearchDialogService=c,this.helpDialogService=u,this.viewerService=p,this.resizeService=x,this.changeDetectorRef=A,this.modeService=k,this.iiifContentSearchService=G,this.accessKeysHandlerService=ne,this.canvasService=W,this.viewerLayoutService=ee,this.styleService=ae,this.altoService=ve,this.zone=De,this.canvasIndex=0,this.config=new pf,this.tabIndex=0,this.viewerModeChanged=new Ct,this.canvasChanged=new Ct,this.qChanged=new Ct,this.manifestChanged=new Ct,this.recognizedTextContentToggleChanged=new Ct,this.subscriptions=new h,this.isCanvasPressed=!1,this.viewerLayout=null,this.viewerState=new sR,this.isRecognizedTextContentToggled=!1,this.showHeaderAndFooterState="hide",this.errorMessage=null,o.el=r,a.el=r,c.el=r,u.el=r,x.el=r}get mimeHeaderBeforeRef(){return this.header.mimeHeaderBefore}get mimeHeaderAfterRef(){return this.header.mimeHeaderAfter}get mimeFooterBeforeRef(){return this.footer.mimeFooterBefore}get mimeFooterAfterRef(){return this.footer.mimeFooterAfter}ngOnInit(){this.styleService.initialize(),this.modeService.initialMode=this.config.initViewerMode,this.altoService.onRecognizedTextContentToggle=this.config.initRecognizedTextContentToggle,this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(e=>{e&&(this.initialize(),this.currentManifest=e,this.manifestChanged.next(e),this.viewerLayoutService.init(ko.isManifestPaged(e)),this.isRecognizedTextContentToggled=!(!this.altoService.onRecognizedTextContentToggle||!e)&&ko.hasRecognizedTextContent(e),this.changeDetectorRef.detectChanges(),this.viewerService.setUpViewer(e,this.config),this.config.attributionDialogEnabled&&e.attribution&&this.attributionDialogService.open(this.config.attributionDialogHideTimeout),this.q&&this.iiifContentSearchService.search(e,this.q))})),this.subscriptions.add(this.viewerService.onOsdReadyChange.subscribe(e=>{e&&this.canvasIndex&&!this.canvasService.currentCanvasGroupIndex&&this.viewerService.goToCanvas(this.canvasIndex,!1)})),this.subscriptions.add(this.iiifManifestService.errorMessage.subscribe(e=>{this.resetCurrentManifest(),this.errorMessage=e,this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.iiifContentSearchService.onQChange.subscribe(e=>{this.qChanged.emit(e)})),this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe(e=>{this.viewerService.highlight(e)})),this.subscriptions.add(this.viewerService.isCanvasPressed.subscribe(e=>{this.isCanvasPressed=e,this.changeDetectorRef.detectChanges()})),this.subscriptions.add(this.modeService.onChange.subscribe(e=>{void 0!==e.currentValue&&this.toggleToolbarsState(e.currentValue),e.previousValue===lt.DASHBOARD&&e.currentValue===lt.PAGE&&(this.viewerState.contentDialogState.isOpen=this.contentsDialogService.isOpen(),this.viewerState.contentDialogState.selectedIndex=this.contentsDialogService.getSelectedIndex(),this.viewerState.contentsSearchDialogState.isOpen=this.contentSearchDialogService.isOpen(),this.viewerState.helpDialogState.isOpen=this.helpDialogService.isOpen(),this.zone.run(()=>{this.contentsDialogService.close(),this.contentSearchDialogService.close(),this.helpDialogService.close()})),e.currentValue===lt.DASHBOARD&&this.zone.run(()=>{this.viewerState.contentDialogState.isOpen&&this.contentsDialogService.open(this.viewerState.contentDialogState.selectedIndex),this.viewerState.contentsSearchDialogState.isOpen&&this.contentSearchDialogService.open(),this.viewerState.helpDialogState.isOpen&&this.helpDialogService.open()}),this.viewerModeChanged.emit(e.currentValue)})),this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe(e=>{const i=this.canvasService.findCanvasByCanvasIndex(e);-1!==i&&this.canvasChanged.emit(i)})),this.subscriptions.add(this.resizeService.onResize.pipe(function(n,t=O$){return e=>e.lift(new P$(n,t.leading,t.trailing))}(e=>qu(fn_transitions_OSDAnimationTime))).subscribe(()=>{setTimeout(()=>{this.viewerService.home()},fn_transitions_OSDAnimationTime)})),this.subscriptions.add(this.viewerLayoutService.onChange.subscribe(e=>{this.viewerLayout=e})),this.subscriptions.add(this.altoService.onRecognizedTextContentToggleChange$.subscribe(e=>{this.isRecognizedTextContentToggled=e,this.recognizedTextContentToggleChanged.emit(e),this.changeDetectorRef.markForCheck()})),this.loadManifest()}ngOnChanges(e){let i=!1,r=!1,s=!1;if(e.q){const o=e.q;!o.isFirstChange()&&o.currentValue!==o.firstChange&&(this.q=o.currentValue,r=!0)}if(e.canvasIndex){const o=e.canvasIndex;!o.isFirstChange()&&o.currentValue!==o.firstChange&&(this.canvasIndex=o.currentValue,s=!0)}if(e.manifestUri){const o=e.manifestUri;o.isFirstChange()||this.cleanup(),!o.isFirstChange()&&o.currentValue!==o.previousValue&&(this.modeService.mode=this.config.initViewerMode,this.manifestUri=o.currentValue,i=!0)}i?this.loadManifest():(r&&this.currentManifest&&this.iiifContentSearchService.search(this.currentManifest,this.q),s&&this.viewerService.goToCanvas(this.canvasIndex,!0))}handleKeys(e){this.accessKeysHandlerService.handleKeyEvents(e)}onDrop(e){if(e.preventDefault(),e.stopPropagation(),this.config.isDropEnabled){const i=e.dataTransfer.getData("URL"),r=new URL(i).searchParams,s=r.get("manifest"),o=r.get("canvas");s&&(this.manifestUri=s.startsWith("//")?`${location.protocol}${s}`:s,this.cleanup(),this.loadManifest(),o&&this.manifestChanged.pipe(hn(1)).subscribe(a=>{var c,u;const p=a.sequences?null===(u=null===(c=a.sequences[0])||void 0===c?void 0:c.canvases)||void 0===u?void 0:u.findIndex(x=>x.id===o):-1;p&&-1!==p&&setTimeout(()=>{this.viewerService.goToCanvas(p,!0)},0)}))}else this.snackBar.open(this.intl.dropDisabled,void 0,{duration:3e3})}onDragOver(e){e.preventDefault(),e.stopPropagation()}onDragLeave(e){e.preventDefault(),e.stopPropagation()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup(),this.iiifManifestService.destroy(),this.iiifContentSearchService.destroy(),this.styleService.destroy()}toggleToolbarsState(e){if(this.header&&this.footer){switch(e){case lt.DASHBOARD:this.showHeaderAndFooterState=this.header.state=this.footer.state="show",this.config.navigationControlEnabled&&this.osdToolbar&&(this.osdToolbar.state="hide");break;case lt.PAGE:this.showHeaderAndFooterState=this.header.state=this.footer.state="hide",this.config.navigationControlEnabled&&this.osdToolbar&&(this.osdToolbar.state="show")}this.changeDetectorRef.detectChanges()}}ngAfterViewChecked(){this.resizeService.markForCheck()}loadManifest(){this.iiifManifestService.load(this.manifestUri).pipe(hn(1)).subscribe()}initialize(){this.accessKeysHandlerService.initialize(),this.attributionDialogService.initialize(),this.contentsDialogService.initialize(),this.contentSearchDialogService.initialize(),this.helpDialogService.initialize(),this.viewerService.initialize()}cleanup(){this.viewerState=new sR,this.accessKeysHandlerService.destroy(),this.attributionDialogService.destroy(),this.contentsDialogService.destroy(),this.contentSearchDialogService.destroy(),this.helpDialogService.destroy(),this.viewerService.destroy(),this.resetErrorMessage()}resetCurrentManifest(){this.currentManifest=null}resetErrorMessage(){this.errorMessage=null}goToHomeZoom(){this.viewerService.goToHomeZoom()}setClasses(){return{"mode-page":this.modeService.mode===lt.PAGE,"mode-page-zoomed":this.modeService.isPageZoomed(),"mode-dashboard":this.modeService.mode===lt.DASHBOARD,"layout-one-page":this.viewerLayout===En.ONE_PAGE,"layout-two-page":this.viewerLayout===En.TWO_PAGE,"canvas-pressed":this.isCanvasPressed}}}return n.\u0275fac=function(e){return new(e||n)(I(LY),I(Ti),I(Be),I(Zi),I(op),I(nR),I(ap),I(q_),I(Da),I(Ss),I(Jt),I(rp),I(to),I(U_),I(Lr),I(sp),I(Zu),I($l),I(mt))},n.\u0275cmp=Mt({type:n,selectors:[["mime-viewer"]],viewQuery:function(e,i){if(1&e&&(Kt(Aee,7),Kt(Iee,7),Kt(Ree,5)),2&e){let r;ht(r=ft())&&(i.header=r.first),ht(r=ft())&&(i.footer=r.first),ht(r=ft())&&(i.osdToolbar=r.first)}},hostBindings:function(e,i){1&e&&Xe("keyup",function(s){return i.handleKeys(s)})("drop",function(s){return i.onDrop(s)})("dragover",function(s){return i.onDragOver(s)})("dragleave",function(s){return i.onDragLeave(s)})},inputs:{manifestUri:"manifestUri",q:"q",canvasIndex:"canvasIndex",config:"config",tabIndex:"tabIndex"},outputs:{viewerModeChanged:"viewerModeChanged",canvasChanged:"canvasChanged",qChanged:"qChanged",manifestChanged:"manifestChanged",recognizedTextContentToggleChanged:"recognizedTextContentToggleChanged"},features:[Gn],decls:13,vars:10,consts:[["id","ngx-mime-mimeViewer",1,"viewer-container",3,"ngClass","hidden","tabIndex"],[1,"navbar","navbar-header"],["mimeHeader",""],[4,"ngIf"],[1,"viewer-drawer-container"],["mode","side","position","end",3,"opened","ngClass","openedChange"],["id","openseadragon"],[1,"navbar","navbar-footer"],["mimeFooter",""],["class","error-container","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["mimeOsdToolbar",""],["fxLayout","column","fxLayoutAlign","center center",1,"error-container"]],template:function(e,i){1&e&&(ie(0,"div",0),ze(1,"mime-spinner"),ze(2,"mime-viewer-header",1,2),Le(4,Oee,2,0,"mime-osd-toolbar",3),ie(5,"mat-drawer-container",4),ie(6,"mat-drawer",5),Xe("openedChange",function(){return i.goToHomeZoom()}),Le(7,Fee,1,0,"mime-recognized-text-content",3),re(),ie(8,"mat-drawer-content"),ze(9,"div",6),re(),re(),ze(10,"mime-viewer-footer",7,8),re(),Le(12,Pee,3,1,"div",9)),2&e&&(de("ngClass",i.setClasses())("hidden",null!==i.errorMessage)("tabIndex",i.tabIndex),ue(4),de("ngIf",null==i.config?null:i.config.navigationControlEnabled),ue(2),de("opened",i.isRecognizedTextContentToggled)("ngClass",Qd(8,kee,"show"===i.showHeaderAndFooterState)),ue(1),de("ngIf",i.isRecognizedTextContentToggled),ue(5),de("ngIf",i.errorMessage))},directives:[ra,qh,wee,bee,ci,yI,gI,Jf,see,U$,Mee,cr,ur],styles:[".viewer-container[_ngcontent-%COMP%]{overflow:hidden;box-sizing:border-box;position:relative;width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]  .openseadragon-container{flex-grow:1}[_nghost-%COMP%]  .openseadragon-canvas:focus{outline:none}.viewer-drawer-container[_ngcontent-%COMP%]{width:100%;height:100%}mat-drawer[_ngcontent-%COMP%]{width:25%}@media only screen and (max-width: 599px){mat-drawer[_ngcontent-%COMP%]{width:33%}}#openseadragon[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-direction:column;opacity:0;width:100%;height:100%}  .viewer-container.mode-page-zoomed .tile:hover{cursor:-webkit-grab}.viewer-container.canvas-pressed[_ngcontent-%COMP%], .viewer-container.canvas-pressed[_ngcontent-%COMP%]  .tile:hover{cursor:grabbing;cursor:-webkit-grabbing}  .viewer-container .tile{cursor:pointer;fill-opacity:0}  .viewer-container.mode-dashboard.layout-one-page .tile,   .viewer-container.mode-dashboard.layout-two-page .page-group .tile{stroke:#00000026;stroke-width:8;transition:.25s ease stroke}  .viewer-container.mode-dashboard.layout-one-page .tile:hover,   .viewer-container.mode-dashboard.layout-two-page .page-group:hover .tile{stroke:#00000073}  .viewer-container .hit{fill:#ff09}  .viewer-container .selected{fill:#ffe10099}.navbar[_ngcontent-%COMP%]{position:absolute;width:100%;overflow:hidden;z-index:2}.navbar-header[_ngcontent-%COMP%]{top:0;width:100%}.navbar-footer[_ngcontent-%COMP%]{bottom:0}  .cdk-overlay-container{z-index:2147483647}.error-container[_ngcontent-%COMP%]{width:100%;height:100%}[hidden][_ngcontent-%COMP%]{display:none}.open[_ngcontent-%COMP%]{height:calc(100% - 128px)!important;top:64px}@media only screen and (max-width: 599px){.open[_ngcontent-%COMP%]{height:calc(100% - 112px)!important;top:56px}}"],changeDetection:0}),n})(),Nee=(()=>{class n{constructor(){this.mimeConfig=new pf}ngOnInit(){this.config&&(this.mimeConfig=Object.assign(this.mimeConfig,JSON.parse(this.config)))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Mt({type:n,selectors:[["nationallibraryofnorway-root"]],inputs:{manifestUri:"manifestUri",config:"config"},decls:1,vars:2,consts:[["tabindex","0",3,"manifestUri","config"]],template:function(e,i){1&e&&ze(0,"mime-viewer",0),2&e&&de("manifestUri",i.manifestUri)("config",i.mimeConfig)},directives:[Lee],styles:[""]}),n})(),Bee=(()=>{class n{constructor(e){this.injector=e,this.name="app-mime-viewer"}ngDoBootstrap(){if(!customElements.get(this.name)){const e=function(n,t){const e=function(n,t){return t.get(qr).resolveComponentFactory(n).inputs}(n,t.injector),i=t.strategyFactory||new K8(n,t.injector),r=function(n){const t={};return n.forEach(({propName:e,templateName:i})=>{t[function(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(i)]=e}),t}(e);class s extends Z8{constructor(a){super(),this.injector=a}get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=i.create(this.injector||t.injector);e.forEach(({propName:c})=>{if(!this.hasOwnProperty(c))return;const u=this[c];delete this[c],a.setInputValue(c,u)})}return this._ngElementStrategy}attributeChangedCallback(a,c,u,p){this.ngElementStrategy.setInputValue(r[a],u)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const c=function(n,t,e){if("function"!=typeof CustomEvent){const s=n.createEvent("CustomEvent");return s.initCustomEvent(t,!1,!1,e),s}return new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:e})}(this.ownerDocument,a.name,a.value);this.dispatchEvent(c)})}}return s.observedAttributes=Object.keys(r),e.forEach(({propName:o})=>{Object.defineProperty(s.prototype,o,{get(){return this.ngElementStrategy.getInputValue(o)},set(a){this.ngElementStrategy.setInputValue(o,a)},configurable:!0,enumerable:!0})}),s}(Nee,{injector:this.injector});customElements.define(this.name,e)}}}return n.\u0275fac=function(e){return new(e||n)(se(jt))},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[{provide:pu,useClass:d8}],imports:[[eS,L4,S8,Qy,R$]]}),n})();(function(){if(bE)throw new Error("Cannot enable prod mode after platform setup.");_E=!1})(),l3().bootstrapModule(Bee).catch(n=>console.error(n))})()})();