import { Rect } from '../models/rect';
import { Utils } from '../utils';
export const canvasRectFromCriteria = (rotation, criteria, x, ignorePhysicalScale) => {
    let rect = {};
    const scale = Utils.getScaleFactor(criteria.canvasSource.service?.service?.physicalScale, ignorePhysicalScale);
    if (rotation === 90 || rotation === 270) {
        rect = {
            height: Math.trunc(criteria.canvasSource.width * scale),
            width: Math.trunc(criteria.canvasSource.height * scale),
            x: x,
            y: Math.trunc((criteria.canvasSource.width * scale) / 2) * -1,
        };
    }
    else {
        rect = {
            height: Math.trunc(criteria.canvasSource.height * scale),
            width: Math.trunc(criteria.canvasSource.width * scale),
            x: x,
            y: Math.trunc((criteria.canvasSource.height * scale) / 2) * -1,
        };
    }
    return new Rect(rect);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsY3VsYXRlLWNhbnZhcy1ncm91cC1wb3NpdGlvbi11dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2NhbnZhcy1ncm91cC1wb3NpdGlvbi9jYWxjdWxhdGUtY2FudmFzLWdyb3VwLXBvc2l0aW9uLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN0QyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBR2pDLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLENBQ3BDLFFBQWdCLEVBQ2hCLFFBQXFDLEVBQ3JDLENBQVMsRUFDVCxtQkFBNEIsRUFDNUIsRUFBRTtJQUNGLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUNkLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQ2hDLFFBQVEsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQ3JELG1CQUFtQixDQUNwQixDQUFDO0lBQ0YsSUFBSSxRQUFRLEtBQUssRUFBRSxJQUFJLFFBQVEsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUN4QyxJQUFJLEdBQUc7WUFDTCxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDdkQsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3ZELENBQUMsRUFBRSxDQUFDO1lBQ0osQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDOUQsQ0FBQztJQUNKLENBQUM7U0FBTSxDQUFDO1FBQ04sSUFBSSxHQUFHO1lBQ0wsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3hELEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUN0RCxDQUFDLEVBQUUsQ0FBQztZQUNKLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQy9ELENBQUM7SUFDSixDQUFDO0lBQ0QsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN4QixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWN0IH0gZnJvbSAnLi4vbW9kZWxzL3JlY3QnO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBDYW52YXNHcm91cFBvc2l0aW9uQ3JpdGVyaWEgfSBmcm9tICcuL2NhbGN1bGF0ZS1jYW52YXMtZ3JvdXAtcG9zaXRpb24tc3RyYXRlZ3knO1xuXG5leHBvcnQgY29uc3QgY2FudmFzUmVjdEZyb21Dcml0ZXJpYSA9IChcbiAgcm90YXRpb246IG51bWJlcixcbiAgY3JpdGVyaWE6IENhbnZhc0dyb3VwUG9zaXRpb25Dcml0ZXJpYSxcbiAgeDogbnVtYmVyLFxuICBpZ25vcmVQaHlzaWNhbFNjYWxlOiBib29sZWFuXG4pID0+IHtcbiAgbGV0IHJlY3QgPSB7fTtcbiAgY29uc3Qgc2NhbGUgPSBVdGlscy5nZXRTY2FsZUZhY3RvcihcbiAgICBjcml0ZXJpYS5jYW52YXNTb3VyY2Uuc2VydmljZT8uc2VydmljZT8ucGh5c2ljYWxTY2FsZSxcbiAgICBpZ25vcmVQaHlzaWNhbFNjYWxlXG4gICk7XG4gIGlmIChyb3RhdGlvbiA9PT0gOTAgfHwgcm90YXRpb24gPT09IDI3MCkge1xuICAgIHJlY3QgPSB7XG4gICAgICBoZWlnaHQ6IE1hdGgudHJ1bmMoY3JpdGVyaWEuY2FudmFzU291cmNlLndpZHRoICogc2NhbGUpLFxuICAgICAgd2lkdGg6IE1hdGgudHJ1bmMoY3JpdGVyaWEuY2FudmFzU291cmNlLmhlaWdodCAqIHNjYWxlKSxcbiAgICAgIHg6IHgsXG4gICAgICB5OiBNYXRoLnRydW5jKChjcml0ZXJpYS5jYW52YXNTb3VyY2Uud2lkdGggKiBzY2FsZSkgLyAyKSAqIC0xLFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmVjdCA9IHtcbiAgICAgIGhlaWdodDogTWF0aC50cnVuYyhjcml0ZXJpYS5jYW52YXNTb3VyY2UuaGVpZ2h0ICogc2NhbGUpLFxuICAgICAgd2lkdGg6IE1hdGgudHJ1bmMoY3JpdGVyaWEuY2FudmFzU291cmNlLndpZHRoICogc2NhbGUpLFxuICAgICAgeDogeCxcbiAgICAgIHk6IE1hdGgudHJ1bmMoKGNyaXRlcmlhLmNhbnZhc1NvdXJjZS5oZWlnaHQgKiBzY2FsZSkgLyAyKSAqIC0xLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG5ldyBSZWN0KHJlY3QpO1xufTtcbiJdfQ==