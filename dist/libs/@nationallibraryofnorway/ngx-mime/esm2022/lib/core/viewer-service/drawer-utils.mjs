export var DrawerType;
(function (DrawerType) {
    DrawerType["HTML"] = "html";
    DrawerType["CANVAS"] = "canvas";
    DrawerType["WEBGL"] = "webgl";
})(DrawerType || (DrawerType = {}));
export function getDrawerType() {
    const userAgent = navigator.userAgent ?? '';
    const platform = navigator.userAgentData?.platform ?? navigator.platform ?? '';
    const touch = isTouchDevice();
    if (isIOS(userAgent, platform, touch)) {
        return DrawerType.HTML;
    }
    else if (isMacDesktop(platform, touch)) {
        return DrawerType.CANVAS;
    }
    else {
        // Temporary workaround: force Canvas rendering until OpenSeadragon has full WebGL support.
        // See: https://github.com/openseadragon/openseadragon/issues/2604
        return DrawerType.CANVAS;
    }
}
function isTouchDevice() {
    return 'ontouchstart' in window || navigator.maxTouchPoints > 1;
}
function isIOS(userAgent, platform, touch) {
    return (/iPhone|iPad|iPod/.test(userAgent) ||
        platform.includes('iOS') ||
        (platform === 'MacIntel' && touch));
}
function isMacDesktop(platform, touch) {
    return platform.includes('macOS') || (platform === 'MacIntel' && !touch);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJhd2VyLXV0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvdmlld2VyLXNlcnZpY2UvZHJhd2VyLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBTixJQUFZLFVBSVg7QUFKRCxXQUFZLFVBQVU7SUFDcEIsMkJBQWEsQ0FBQTtJQUNiLCtCQUFpQixDQUFBO0lBQ2pCLDZCQUFlLENBQUE7QUFDakIsQ0FBQyxFQUpXLFVBQVUsS0FBVixVQUFVLFFBSXJCO0FBRUQsTUFBTSxVQUFVLGFBQWE7SUFDM0IsTUFBTSxTQUFTLEdBQUcsU0FBUyxDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUM7SUFDNUMsTUFBTSxRQUFRLEdBQ1gsU0FBaUIsQ0FBQyxhQUFhLEVBQUUsUUFBUSxJQUFJLFNBQVMsQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFDO0lBQ3pFLE1BQU0sS0FBSyxHQUFHLGFBQWEsRUFBRSxDQUFDO0lBRTlCLElBQUksS0FBSyxDQUFDLFNBQVMsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUN0QyxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUM7SUFDekIsQ0FBQztTQUFNLElBQUksWUFBWSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ3pDLE9BQU8sVUFBVSxDQUFDLE1BQU0sQ0FBQztJQUMzQixDQUFDO1NBQU0sQ0FBQztRQUNOLDJGQUEyRjtRQUMzRixrRUFBa0U7UUFDbEUsT0FBTyxVQUFVLENBQUMsTUFBTSxDQUFDO0lBQzNCLENBQUM7QUFDSCxDQUFDO0FBRUQsU0FBUyxhQUFhO0lBQ3BCLE9BQU8sY0FBYyxJQUFJLE1BQU0sSUFBSSxTQUFTLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQztBQUNsRSxDQUFDO0FBRUQsU0FBUyxLQUFLLENBQUMsU0FBaUIsRUFBRSxRQUFnQixFQUFFLEtBQWM7SUFDaEUsT0FBTyxDQUNMLGtCQUFrQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDbEMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDeEIsQ0FBQyxRQUFRLEtBQUssVUFBVSxJQUFJLEtBQUssQ0FBQyxDQUNuQyxDQUFDO0FBQ0osQ0FBQztBQUVELFNBQVMsWUFBWSxDQUFDLFFBQWdCLEVBQUUsS0FBYztJQUNwRCxPQUFPLFFBQVEsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLEtBQUssVUFBVSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDM0UsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIERyYXdlclR5cGUge1xuICBIVE1MID0gJ2h0bWwnLFxuICBDQU5WQVMgPSAnY2FudmFzJyxcbiAgV0VCR0wgPSAnd2ViZ2wnLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHJhd2VyVHlwZSgpOiBEcmF3ZXJUeXBlIHtcbiAgY29uc3QgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudCA/PyAnJztcbiAgY29uc3QgcGxhdGZvcm0gPVxuICAgIChuYXZpZ2F0b3IgYXMgYW55KS51c2VyQWdlbnREYXRhPy5wbGF0Zm9ybSA/PyBuYXZpZ2F0b3IucGxhdGZvcm0gPz8gJyc7XG4gIGNvbnN0IHRvdWNoID0gaXNUb3VjaERldmljZSgpO1xuXG4gIGlmIChpc0lPUyh1c2VyQWdlbnQsIHBsYXRmb3JtLCB0b3VjaCkpIHtcbiAgICByZXR1cm4gRHJhd2VyVHlwZS5IVE1MO1xuICB9IGVsc2UgaWYgKGlzTWFjRGVza3RvcChwbGF0Zm9ybSwgdG91Y2gpKSB7XG4gICAgcmV0dXJuIERyYXdlclR5cGUuQ0FOVkFTO1xuICB9IGVsc2Uge1xuICAgIC8vIFRlbXBvcmFyeSB3b3JrYXJvdW5kOiBmb3JjZSBDYW52YXMgcmVuZGVyaW5nIHVudGlsIE9wZW5TZWFkcmFnb24gaGFzIGZ1bGwgV2ViR0wgc3VwcG9ydC5cbiAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuc2VhZHJhZ29uL29wZW5zZWFkcmFnb24vaXNzdWVzLzI2MDRcbiAgICByZXR1cm4gRHJhd2VyVHlwZS5DQU5WQVM7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNUb3VjaERldmljZSgpOiBib29sZWFuIHtcbiAgcmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxO1xufVxuXG5mdW5jdGlvbiBpc0lPUyh1c2VyQWdlbnQ6IHN0cmluZywgcGxhdGZvcm06IHN0cmluZywgdG91Y2g6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICAvaVBob25lfGlQYWR8aVBvZC8udGVzdCh1c2VyQWdlbnQpIHx8XG4gICAgcGxhdGZvcm0uaW5jbHVkZXMoJ2lPUycpIHx8XG4gICAgKHBsYXRmb3JtID09PSAnTWFjSW50ZWwnICYmIHRvdWNoKVxuICApO1xufVxuXG5mdW5jdGlvbiBpc01hY0Rlc2t0b3AocGxhdGZvcm06IHN0cmluZywgdG91Y2g6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgcmV0dXJuIHBsYXRmb3JtLmluY2x1ZGVzKCdtYWNPUycpIHx8IChwbGF0Zm9ybSA9PT0gJ01hY0ludGVsJyAmJiAhdG91Y2gpO1xufVxuIl19