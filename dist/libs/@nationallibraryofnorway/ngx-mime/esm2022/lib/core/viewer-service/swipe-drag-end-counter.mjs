import { Direction } from '../models/direction';
import { Side } from '../models/side';
export class SwipeDragEndCounter {
    constructor() {
        this.leftCount = 0;
        this.rightCount = 0;
        this.reset();
    }
    reset() {
        this.leftCount = 0;
        this.rightCount = 0;
    }
    /**
     * @param direction of swipe / pan
     * @param side hit by swipe
     */
    addHit(side, dir) {
        if (side !== null) {
            this.incrementSide(side);
        }
        if (dir !== null) {
            this.clearOppositeSideOfDragDirection(dir);
        }
    }
    hitCountReached() {
        return this.leftCount >= 2 || this.rightCount >= 2;
    }
    incrementSide(side) {
        if (side === Side.LEFT) {
            this.leftCount++;
            this.rightCount = 0;
        }
        else if (side === Side.RIGHT) {
            this.rightCount++;
            this.leftCount = 0;
        }
    }
    /**
     * Clear opposite side if swiping in the other direction
     * @param Direction of swipe / pan
     */
    clearOppositeSideOfDragDirection(dir) {
        if (dir === Direction.LEFT) {
            this.leftCount = 0;
        }
        else if (dir === Direction.RIGHT) {
            this.rightCount = 0;
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpcGUtZHJhZy1lbmQtY291bnRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL3ZpZXdlci1zZXJ2aWNlL3N3aXBlLWRyYWctZW5kLWNvdW50ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN0QyxNQUFNLE9BQU8sbUJBQW1CO0lBSTlCO1FBSE8sY0FBUyxHQUFHLENBQUMsQ0FBQztRQUNkLGVBQVUsR0FBRyxDQUFDLENBQUM7UUFHcEIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUVNLEtBQUs7UUFDVixJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztRQUNuQixJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksTUFBTSxDQUFDLElBQWlCLEVBQUUsR0FBcUI7UUFDcEQsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDbEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMzQixDQUFDO1FBQ0QsSUFBSSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDakIsSUFBSSxDQUFDLGdDQUFnQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdDLENBQUM7SUFDSCxDQUFDO0lBRU0sZUFBZTtRQUNwQixPQUFPLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFTyxhQUFhLENBQUMsSUFBVTtRQUM5QixJQUFJLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ3RCLENBQUM7YUFBTSxJQUFJLElBQUksS0FBSyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2xCLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLENBQUM7SUFDSCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ssZ0NBQWdDLENBQUMsR0FBYztRQUNyRCxJQUFJLEdBQUcsS0FBSyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDckIsQ0FBQzthQUFNLElBQUksR0FBRyxLQUFLLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNuQyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztRQUN0QixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlyZWN0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL2RpcmVjdGlvbic7XG5pbXBvcnQgeyBTaWRlIH0gZnJvbSAnLi4vbW9kZWxzL3NpZGUnO1xuZXhwb3J0IGNsYXNzIFN3aXBlRHJhZ0VuZENvdW50ZXIge1xuICBwdWJsaWMgbGVmdENvdW50ID0gMDtcbiAgcHVibGljIHJpZ2h0Q291bnQgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcbiAgICB0aGlzLmxlZnRDb3VudCA9IDA7XG4gICAgdGhpcy5yaWdodENvdW50ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gZGlyZWN0aW9uIG9mIHN3aXBlIC8gcGFuXG4gICAqIEBwYXJhbSBzaWRlIGhpdCBieSBzd2lwZVxuICAgKi9cbiAgcHVibGljIGFkZEhpdChzaWRlOiBTaWRlIHwgbnVsbCwgZGlyOiBEaXJlY3Rpb24gfCBudWxsKTogdm9pZCB7XG4gICAgaWYgKHNpZGUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuaW5jcmVtZW50U2lkZShzaWRlKTtcbiAgICB9XG4gICAgaWYgKGRpciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5jbGVhck9wcG9zaXRlU2lkZU9mRHJhZ0RpcmVjdGlvbihkaXIpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBoaXRDb3VudFJlYWNoZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubGVmdENvdW50ID49IDIgfHwgdGhpcy5yaWdodENvdW50ID49IDI7XG4gIH1cblxuICBwcml2YXRlIGluY3JlbWVudFNpZGUoc2lkZTogU2lkZSk6IHZvaWQge1xuICAgIGlmIChzaWRlID09PSBTaWRlLkxFRlQpIHtcbiAgICAgIHRoaXMubGVmdENvdW50Kys7XG4gICAgICB0aGlzLnJpZ2h0Q291bnQgPSAwO1xuICAgIH0gZWxzZSBpZiAoc2lkZSA9PT0gU2lkZS5SSUdIVCkge1xuICAgICAgdGhpcy5yaWdodENvdW50Kys7XG4gICAgICB0aGlzLmxlZnRDb3VudCA9IDA7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIG9wcG9zaXRlIHNpZGUgaWYgc3dpcGluZyBpbiB0aGUgb3RoZXIgZGlyZWN0aW9uXG4gICAqIEBwYXJhbSBEaXJlY3Rpb24gb2Ygc3dpcGUgLyBwYW5cbiAgICovXG4gIHByaXZhdGUgY2xlYXJPcHBvc2l0ZVNpZGVPZkRyYWdEaXJlY3Rpb24oZGlyOiBEaXJlY3Rpb24pOiB2b2lkIHtcbiAgICBpZiAoZGlyID09PSBEaXJlY3Rpb24uTEVGVCkge1xuICAgICAgdGhpcy5sZWZ0Q291bnQgPSAwO1xuICAgIH0gZWxzZSBpZiAoZGlyID09PSBEaXJlY3Rpb24uUklHSFQpIHtcbiAgICAgIHRoaXMucmlnaHRDb3VudCA9IDA7XG4gICAgfVxuICB9XG59XG4iXX0=