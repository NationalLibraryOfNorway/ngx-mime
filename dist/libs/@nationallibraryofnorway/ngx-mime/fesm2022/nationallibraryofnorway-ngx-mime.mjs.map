{"version":3,"file":"nationallibraryofnorway-ngx-mime.mjs","sources":["../tmp-esm2022/lib/core/intl/locales.enum.js","../tmp-esm2022/lib/core/intl/help-intl.js","../tmp-esm2022/lib/core/intl/viewer-intl.js","../tmp-esm2022/lib/core/intl/help-intl.lt.js","../tmp-esm2022/lib/core/intl/viewer-intl.lt.js","../tmp-esm2022/lib/core/intl/help-intl.no_nb.js","../tmp-esm2022/lib/core/intl/viewer-intl.no_nb.js","../tmp-esm2022/lib/core/intl/viewer-intl.provider.js","../tmp-esm2022/lib/core/models/mode-changes.js","../tmp-esm2022/lib/core/models/recognized-text-mode.js","../tmp-esm2022/lib/core/models/viewer-mode.js","../tmp-esm2022/lib/core/models/viewer-layout.js","../tmp-esm2022/lib/core/mime-viewer-config.js","../tmp-esm2022/lib/core/models/viewing-direction.js","../tmp-esm2022/lib/core/models/manifest.js","../tmp-esm2022/lib/core/fullscreen-service/fullscreen.service.js","../tmp-esm2022/lib/core/models/dimensions.js","../tmp-esm2022/lib/core/builders/alto/strings.builder.js","../tmp-esm2022/lib/core/builders/alto/text-lines.builder.js","../tmp-esm2022/lib/core/builders/alto/text-blocks.builder.js","../tmp-esm2022/lib/core/builders/alto/print-space.builder.js","../tmp-esm2022/lib/core/builders/alto/page.builder.js","../tmp-esm2022/lib/core/builders/alto/layout.builder.js","../tmp-esm2022/lib/core/builders/alto/styles.builder.js","../tmp-esm2022/lib/core/builders/alto/alto.builder.js","../tmp-esm2022/lib/core/viewer-layout-service/viewer-layout-service.js","../tmp-esm2022/lib/core/viewer-service/iiif-tile-source-strategy.js","../tmp-esm2022/lib/core/viewer-service/iiif-v3-tile-source-strategy.js","../tmp-esm2022/lib/core/viewer-service/static-image-tile-source-strategy.js","../tmp-esm2022/lib/core/viewer-service/tile-source-strategy-factory.js","../tmp-esm2022/lib/core/models/canvas-groups.js","../tmp-esm2022/lib/core/models/viewer-options.js","../tmp-esm2022/lib/core/models/rect.js","../tmp-esm2022/lib/core/utils.js","../tmp-esm2022/lib/core/canvas-group-position/calculate-canvas-group-position-utils.js","../tmp-esm2022/lib/core/canvas-group-position/one-page-calculate-page-position-strategy.js","../tmp-esm2022/lib/core/canvas-service/one-canvas-per-canvas-group-strategy.js","../tmp-esm2022/lib/core/canvas-group-position/two-page-calculate-page-position-strategy.js","../tmp-esm2022/lib/core/canvas-service/two-canvas-per-canvas-group-strategy.js","../tmp-esm2022/lib/core/canvas-service/canvas-groups-strategy.factory.js","../tmp-esm2022/lib/core/canvas-service/canvas-service.js","../tmp-esm2022/lib/core/highlight-service/highlight.service.js","../tmp-esm2022/lib/core/builders/iiif/v2/builder-utils.js","../tmp-esm2022/lib/core/builders/iiif/v2/metadata.builder.js","../tmp-esm2022/lib/core/builders/iiif/v2/sizes.builder.js","../tmp-esm2022/lib/core/builders/iiif/v2/tiles.builder.js","../tmp-esm2022/lib/core/builders/iiif/v2/service.builder.js","../tmp-esm2022/lib/core/builders/iiif/v2/resource.builder.js","../tmp-esm2022/lib/core/builders/iiif/v2/images.builder.js","../tmp-esm2022/lib/core/builders/iiif/v2/canvas.builder.js","../tmp-esm2022/lib/core/builders/iiif/v2/sequence.builder.js","../tmp-esm2022/lib/core/builders/iiif/v2/structure.builder.js","../tmp-esm2022/lib/core/builders/iiif/v2/tile-source.builder.js","../tmp-esm2022/lib/core/builders/iiif/v2/manifest.builder.js","../tmp-esm2022/lib/core/builders/iiif/v3/builder-utils.js","../tmp-esm2022/lib/core/builders/iiif/v3/metadata.builder.js","../tmp-esm2022/lib/core/builders/iiif/v3/sizes.builder.js","../tmp-esm2022/lib/core/builders/iiif/v3/tiles.builder.js","../tmp-esm2022/lib/core/builders/iiif/v3/service.builder.js","../tmp-esm2022/lib/core/builders/iiif/v3/resource.builder.js","../tmp-esm2022/lib/core/builders/iiif/v3/images.builder.js","../tmp-esm2022/lib/core/builders/iiif/v3/canvas.builder.js","../tmp-esm2022/lib/core/builders/iiif/v3/sequence.builder.js","../tmp-esm2022/lib/core/builders/iiif/v3/structure.builder.js","../tmp-esm2022/lib/core/builders/iiif/v3/tile-source.builder.js","../tmp-esm2022/lib/core/builders/iiif/v3/manifest.builder.js","../tmp-esm2022/lib/core/spinner-service/spinner.service.js","../tmp-esm2022/lib/core/iiif-manifest-service/iiif-manifest-service.js","../tmp-esm2022/lib/core/alto-service/html.formatter.js","../tmp-esm2022/lib/core/alto-service/alto.service.js","../tmp-esm2022/lib/core/click-service/click.service.js","../tmp-esm2022/lib/core/ext/svg-overlay.js","../tmp-esm2022/lib/core/models/highlight-rect.js","../tmp-esm2022/lib/core/models/hit.js","../tmp-esm2022/lib/core/models/search-result.js","../tmp-esm2022/lib/core/builders/iiif/search-result.builder.js","../tmp-esm2022/lib/core/iiif-content-search-service/iiif-content-search.service.js","../tmp-esm2022/lib/core/iiif-manifest-service/iiif-manifest-utils.js","../tmp-esm2022/lib/core/mode-service/mode.service.js","../tmp-esm2022/lib/core/models/pinchStatus.js","../tmp-esm2022/lib/core/models/side.js","../tmp-esm2022/lib/core/style-service/style.service.js","../tmp-esm2022/lib/core/models/direction.js","../tmp-esm2022/lib/core/viewer-service/navigator-calculate-next-canvas-group-strategy.js","../tmp-esm2022/lib/core/viewer-service/dashboard-mode-calculate-next-canvas-group-strategy.js","../tmp-esm2022/lib/core/viewer-service/page-mode-calculate-next-canvas-group-strategy.js","../tmp-esm2022/lib/core/viewer-service/page-zoomed-mode-calculate-next-canvas-group-strategy.js","../tmp-esm2022/lib/core/viewer-service/calculate-next-canvas-group-factory.js","../tmp-esm2022/lib/core/viewer-service/canvas-group-mask.js","../tmp-esm2022/lib/core/viewer-service/go-to-canvas-group-strategy.js","../tmp-esm2022/lib/core/viewer-service/drawer-utils.js","../tmp-esm2022/lib/core/viewer-service/options.factory.js","../tmp-esm2022/lib/core/viewer-service/swipe-drag-end-counter.js","../tmp-esm2022/lib/core/viewer-service/swipe-utils.js","../tmp-esm2022/lib/core/viewer-service/zoom-utils.js","../tmp-esm2022/lib/core/viewer-service/zoom-strategy.js","../tmp-esm2022/lib/core/viewer-service/viewer.service.js","../tmp-esm2022/lib/core/mime-dom-helper.js","../tmp-esm2022/lib/core/mime-resize-service/mime-resize.service.js","../tmp-esm2022/lib/attribution-dialog/attribution-dialog-resize.service.js","../tmp-esm2022/lib/content-search-dialog/content-search-dialog-config-strategy.js","../tmp-esm2022/lib/content-search-dialog/content-search-dialog-config-strategy-factory.js","../tmp-esm2022/lib/core/navigation/content-search-navigation-service/content-search-navigation.service.js","../tmp-esm2022/lib/content-search-dialog/content-search-dialog.component.js","../tmp-esm2022/lib/content-search-dialog/content-search-dialog.service.js","../tmp-esm2022/lib/information-dialog/information-dialog-config-strategy.js","../tmp-esm2022/lib/information-dialog/information-dialog-config-strategy-factory.js","../tmp-esm2022/lib/information-dialog/metadata/metadata.component.js","../tmp-esm2022/lib/information-dialog/table-of-contents/table-of-contents.component.js","../tmp-esm2022/lib/information-dialog/information-dialog.component.js","../tmp-esm2022/lib/information-dialog/information-dialog.service.js","../tmp-esm2022/lib/view-dialog/view-dialog-config-strategy.js","../tmp-esm2022/lib/view-dialog/view-dialog-config-strategy-factory.js","../tmp-esm2022/lib/view-dialog/icon/icon.component.js","../tmp-esm2022/lib/view-dialog/view-dialog.component.js","../tmp-esm2022/lib/view-dialog/view-dialog.service.js","../tmp-esm2022/lib/core/models/AccessKeys.js","../tmp-esm2022/lib/core/access-keys-handler-service/access-keys.service.js","../tmp-esm2022/lib/attribution-dialog/attribution-dialog.component.js","../tmp-esm2022/lib/attribution-dialog/attribution-dialog.service.js","../tmp-esm2022/lib/canvas-group-dialog/canvas-group-dialog.component.js","../tmp-esm2022/lib/canvas-group-dialog/canvas-group-dialog.service.js","../tmp-esm2022/lib/core/models/content-dialog-state.js","../tmp-esm2022/lib/core/models/contents-search-dialog-state.js","../tmp-esm2022/lib/core/models/help-dialog-state.js","../tmp-esm2022/lib/core/models/view-dialog-state.js","../tmp-esm2022/lib/core/models/viewerState.js","../tmp-esm2022/lib/help-dialog/help-dialog-config-strategy.js","../tmp-esm2022/lib/help-dialog/help-dialog-config-strategy-factory.js","../tmp-esm2022/lib/help-dialog/help-dialog.component.js","../tmp-esm2022/lib/help-dialog/help-dialog.service.js","../tmp-esm2022/lib/viewer/osd-toolbar/osd-toolbar.component.js","../tmp-esm2022/lib/viewer/recognized-text-content/recognized-text-content.component.js","../tmp-esm2022/lib/viewer/viewer-footer/canvas-group-navigator/canvas-group-navigator.component.js","../tmp-esm2022/lib/viewer/viewer-footer/content-search-navigator/content-search-navigator.component.js","../tmp-esm2022/lib/viewer/viewer-footer/viewer-footer.component.js","../tmp-esm2022/lib/viewer/viewer-header/viewer-header.component.js","../tmp-esm2022/lib/viewer/viewer-spinner/viewer-spinner.component.js","../tmp-esm2022/lib/viewer/viewer.providers.js","../tmp-esm2022/lib/viewer/viewer.component.js","../tmp-esm2022/lib/ngx-mime.module.js","../tmp-esm2022/nationallibraryofnorway-ngx-mime.js"],"sourcesContent":["export var Locales;\n(function (Locales) {\n    Locales[\"ENGLISH\"] = \"en\";\n    Locales[\"NORWEGIAN\"] = \"nb\";\n    Locales[\"LITHUANIAN\"] = \"lt\";\n})(Locales || (Locales = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9jYWxlcy5lbnVtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvaW50bC9sb2NhbGVzLmVudW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFOLElBQVksT0FJWDtBQUpELFdBQVksT0FBTztJQUNqQix5QkFBYyxDQUFBO0lBQ2QsMkJBQWdCLENBQUE7SUFDaEIsNEJBQWlCLENBQUE7QUFDbkIsQ0FBQyxFQUpXLE9BQU8sS0FBUCxPQUFPLFFBSWxCIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gTG9jYWxlcyB7XG4gIEVOR0xJU0ggPSAnZW4nLFxuICBOT1JXRUdJQU4gPSAnbmInLFxuICBMSVRIVUFOSUFOID0gJ2x0Jyxcbn1cbiJdfQ==","export class HelpIntl {\n    constructor() {\n        this.helpLabel = 'Help';\n        this.line1 = '<strong>ARROW LEFT</strong> or <strong>PAGE UP</strong>: Previous page';\n        this.line2 = '<strong>ARROW RIGHT</strong> or <strong>PAGE DOWN</strong>: Next page';\n        this.line3 = '<strong>HOME</strong>: Go to first page';\n        this.line4 = '<strong>END</strong>: Go to last page';\n        this.line5 = '<strong>C</strong>: Show more information about the object. (Close with <strong>ESC</strong>.)';\n        this.line6 = '<strong>S</strong>: Search inside the object. (Close with <strong>ESC</strong>.)';\n        this.line7 = '<strong>N</strong>: Next result';\n        this.line8 = '<strong>P</strong>: Previous result';\n        this.line9 = '<strong>F</strong>: Fullscreen on/off (Close with <strong>F</strong> or <strong>ESC</strong>.)';\n        this.line10 = '<strong>R</strong>: Rotate 90°';\n        this.line11 = '<strong>T</strong>:  Show/hide optically recognized text (for content that can be displayed).';\n        this.line12 = '<strong>Shift-S</strong>: Clear text search';\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscC1pbnRsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvaW50bC9oZWxwLWludGwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxPQUFPLFFBQVE7SUFBckI7UUFDRSxjQUFTLEdBQUcsTUFBTSxDQUFDO1FBQ25CLFVBQUssR0FDSCx3RUFBd0UsQ0FBQztRQUMzRSxVQUFLLEdBQ0gsdUVBQXVFLENBQUM7UUFDMUUsVUFBSyxHQUFHLHlDQUF5QyxDQUFDO1FBQ2xELFVBQUssR0FBRyx1Q0FBdUMsQ0FBQztRQUNoRCxVQUFLLEdBQ0gsZ0dBQWdHLENBQUM7UUFDbkcsVUFBSyxHQUNILGtGQUFrRixDQUFDO1FBQ3JGLFVBQUssR0FBRyxpQ0FBaUMsQ0FBQztRQUMxQyxVQUFLLEdBQUcscUNBQXFDLENBQUM7UUFDOUMsVUFBSyxHQUNILGdHQUFnRyxDQUFDO1FBQ25HLFdBQU0sR0FBRyxnQ0FBZ0MsQ0FBQztRQUMxQyxXQUFNLEdBQ0osK0ZBQStGLENBQUM7UUFDbEcsV0FBTSxHQUFHLDZDQUE2QyxDQUFDO0lBQ3pELENBQUM7Q0FBQSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBIZWxwSW50bCB7XG4gIGhlbHBMYWJlbCA9ICdIZWxwJztcbiAgbGluZTEgPVxuICAgICc8c3Ryb25nPkFSUk9XIExFRlQ8L3N0cm9uZz4gb3IgPHN0cm9uZz5QQUdFIFVQPC9zdHJvbmc+OiBQcmV2aW91cyBwYWdlJztcbiAgbGluZTIgPVxuICAgICc8c3Ryb25nPkFSUk9XIFJJR0hUPC9zdHJvbmc+IG9yIDxzdHJvbmc+UEFHRSBET1dOPC9zdHJvbmc+OiBOZXh0IHBhZ2UnO1xuICBsaW5lMyA9ICc8c3Ryb25nPkhPTUU8L3N0cm9uZz46IEdvIHRvIGZpcnN0IHBhZ2UnO1xuICBsaW5lNCA9ICc8c3Ryb25nPkVORDwvc3Ryb25nPjogR28gdG8gbGFzdCBwYWdlJztcbiAgbGluZTUgPVxuICAgICc8c3Ryb25nPkM8L3N0cm9uZz46IFNob3cgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb2JqZWN0LiAoQ2xvc2Ugd2l0aCA8c3Ryb25nPkVTQzwvc3Ryb25nPi4pJztcbiAgbGluZTYgPVxuICAgICc8c3Ryb25nPlM8L3N0cm9uZz46IFNlYXJjaCBpbnNpZGUgdGhlIG9iamVjdC4gKENsb3NlIHdpdGggPHN0cm9uZz5FU0M8L3N0cm9uZz4uKSc7XG4gIGxpbmU3ID0gJzxzdHJvbmc+Tjwvc3Ryb25nPjogTmV4dCByZXN1bHQnO1xuICBsaW5lOCA9ICc8c3Ryb25nPlA8L3N0cm9uZz46IFByZXZpb3VzIHJlc3VsdCc7XG4gIGxpbmU5ID1cbiAgICAnPHN0cm9uZz5GPC9zdHJvbmc+OiBGdWxsc2NyZWVuIG9uL29mZiAoQ2xvc2Ugd2l0aCA8c3Ryb25nPkY8L3N0cm9uZz4gb3IgPHN0cm9uZz5FU0M8L3N0cm9uZz4uKSc7XG4gIGxpbmUxMCA9ICc8c3Ryb25nPlI8L3N0cm9uZz46IFJvdGF0ZSA5MMKwJztcbiAgbGluZTExID1cbiAgICAnPHN0cm9uZz5UPC9zdHJvbmc+OiAgU2hvdy9oaWRlIG9wdGljYWxseSByZWNvZ25pemVkIHRleHQgKGZvciBjb250ZW50IHRoYXQgY2FuIGJlIGRpc3BsYXllZCkuJztcbiAgbGluZTEyID0gJzxzdHJvbmc+U2hpZnQtUzwvc3Ryb25nPjogQ2xlYXIgdGV4dCBzZWFyY2gnO1xufVxuIl19","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { HelpIntl } from './help-intl';\nimport * as i0 from \"@angular/core\";\nexport class MimeViewerIntl {\n    constructor() {\n        this.changes = new Subject();\n        this.help = new HelpIntl();\n        this.closeLabel = 'Close';\n        this.attributionLabel = 'Attribution';\n        this.attributonCloseAriaLabel = 'Close attribution dialog';\n        this.helpCloseAriaLabel = 'Close help dialog';\n        this.informationLabel = 'Information';\n        this.layoutMenuLabel = 'View';\n        this.pageLayoutLabel = 'Page layout';\n        this.singlePageViewLabel = 'Single pages';\n        this.twoPageViewLabel = 'Two pages';\n        this.digitalTextLabel = 'Digital text';\n        this.recognizedTextContentCloseLabel = 'None';\n        this.recognizedTextContentInSplitViewLabel = 'Split';\n        this.showRecognizedTextContentLabel = 'Digital text only';\n        this.metadataLabel = 'Metadata';\n        this.licenseLabel = 'License';\n        this.tocLabel = 'Table of Contents';\n        this.fullScreenLabel = 'Full screen';\n        this.exitFullScreenLabel = 'Exit full screen';\n        this.openOsdControlPanelLabel = 'Open control panel';\n        this.closeOsdControlPanelLabel = 'Close control panel';\n        this.zoomInLabel = 'Zoom in';\n        this.zoomOutLabel = 'Zoom out';\n        this.resetZoomLabel = 'Reset zoom';\n        this.previousPageLabel = 'Previous Page';\n        this.nextPageLabel = 'Next Page';\n        this.rotateCwLabel = 'Rotate 90°';\n        this.searchLabel = 'Search';\n        this.clearSearchLabel = 'Clear';\n        this.previousHitLabel = 'Previous Hit';\n        this.nextHitLabel = 'Next Hit';\n        this.goToPageLabel = 'Go to page';\n        this.currentPageLabel = 'Current page';\n        this.enterPageNumber = 'Enter page number';\n        this.dropDisabled = 'Sorry, but drag and drop is disabled';\n        this.loading = 'Loading ...';\n        this.rotationIsNotSupported = 'Rotation is not supported by your device';\n        // ERRORS\n        this.somethingHasGoneWrongLabel = 'Oh dear, something has gone terribly wrong...';\n        this.manifestUriMissingLabel = 'ManifestUri is missing';\n        this.manifestNotValidLabel = 'Manifest is not valid';\n        this.pageDoesNotExists = 'Sorry, that page does not exist';\n        this.textContentErrorLabel = `Oh dear, i can't find the text for you`;\n        this.noResultsFoundLabel = (q) => {\n            return `No results found for <em class=\"current-search\">${q}</em>`;\n        };\n        this.resultsFoundLabel = (numberOfHits, q) => {\n            return `${numberOfHits} results found for <em class=\"current-search\">${q}</em>`;\n        };\n        this.currentHitLabel = (currentHit, numberOfHits) => {\n            return `${currentHit} of ${numberOfHits} hits`;\n        };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeViewerIntl, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeViewerIntl }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeViewerIntl, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLWludGwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9pbnRsL3ZpZXdlci1pbnRsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUMvQixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDOztBQUd2QyxNQUFNLE9BQU8sY0FBYztJQUQzQjtRQUVFLFlBQU8sR0FBa0IsSUFBSSxPQUFPLEVBQVEsQ0FBQztRQUU3QyxTQUFJLEdBQWEsSUFBSSxRQUFRLEVBQUUsQ0FBQztRQUNoQyxlQUFVLEdBQUcsT0FBTyxDQUFDO1FBQ3JCLHFCQUFnQixHQUFHLGFBQWEsQ0FBQztRQUNqQyw2QkFBd0IsR0FBRywwQkFBMEIsQ0FBQztRQUN0RCx1QkFBa0IsR0FBRyxtQkFBbUIsQ0FBQztRQUN6QyxxQkFBZ0IsR0FBRyxhQUFhLENBQUM7UUFDakMsb0JBQWUsR0FBRyxNQUFNLENBQUM7UUFDekIsb0JBQWUsR0FBRyxhQUFhLENBQUM7UUFDaEMsd0JBQW1CLEdBQUcsY0FBYyxDQUFDO1FBQ3JDLHFCQUFnQixHQUFHLFdBQVcsQ0FBQztRQUMvQixxQkFBZ0IsR0FBRyxjQUFjLENBQUM7UUFDbEMsb0NBQStCLEdBQUcsTUFBTSxDQUFDO1FBQ3pDLDBDQUFxQyxHQUFHLE9BQU8sQ0FBQztRQUNoRCxtQ0FBOEIsR0FBRyxtQkFBbUIsQ0FBQztRQUNyRCxrQkFBYSxHQUFHLFVBQVUsQ0FBQztRQUMzQixpQkFBWSxHQUFHLFNBQVMsQ0FBQztRQUN6QixhQUFRLEdBQUcsbUJBQW1CLENBQUM7UUFDL0Isb0JBQWUsR0FBRyxhQUFhLENBQUM7UUFDaEMsd0JBQW1CLEdBQUcsa0JBQWtCLENBQUM7UUFDekMsNkJBQXdCLEdBQUcsb0JBQW9CLENBQUM7UUFDaEQsOEJBQXlCLEdBQUcscUJBQXFCLENBQUM7UUFDbEQsZ0JBQVcsR0FBRyxTQUFTLENBQUM7UUFDeEIsaUJBQVksR0FBRyxVQUFVLENBQUM7UUFDMUIsbUJBQWMsR0FBRyxZQUFZLENBQUM7UUFDOUIsc0JBQWlCLEdBQUcsZUFBZSxDQUFDO1FBQ3BDLGtCQUFhLEdBQUcsV0FBVyxDQUFDO1FBQzVCLGtCQUFhLEdBQUcsWUFBWSxDQUFDO1FBQzdCLGdCQUFXLEdBQUcsUUFBUSxDQUFDO1FBQ3ZCLHFCQUFnQixHQUFHLE9BQU8sQ0FBQztRQUMzQixxQkFBZ0IsR0FBRyxjQUFjLENBQUM7UUFDbEMsaUJBQVksR0FBRyxVQUFVLENBQUM7UUFDMUIsa0JBQWEsR0FBRyxZQUFZLENBQUM7UUFDN0IscUJBQWdCLEdBQUcsY0FBYyxDQUFDO1FBQ2xDLG9CQUFlLEdBQUcsbUJBQW1CLENBQUM7UUFDdEMsaUJBQVksR0FBRyxzQ0FBc0MsQ0FBQztRQUN0RCxZQUFPLEdBQUcsYUFBYSxDQUFDO1FBQ3hCLDJCQUFzQixHQUFHLDBDQUEwQyxDQUFDO1FBRXBFLFNBQVM7UUFDVCwrQkFBMEIsR0FBRywrQ0FBK0MsQ0FBQztRQUM3RSw0QkFBdUIsR0FBRyx3QkFBd0IsQ0FBQztRQUNuRCwwQkFBcUIsR0FBRyx1QkFBdUIsQ0FBQztRQUNoRCxzQkFBaUIsR0FBRyxpQ0FBaUMsQ0FBQztRQUN0RCwwQkFBcUIsR0FBRyx3Q0FBd0MsQ0FBQztRQUVqRSx3QkFBbUIsR0FBRyxDQUFDLENBQVMsRUFBRSxFQUFFO1lBQ2xDLE9BQU8sbURBQW1ELENBQUMsT0FBTyxDQUFDO1FBQ3JFLENBQUMsQ0FBQztRQUVGLHNCQUFpQixHQUFHLENBQUMsWUFBb0IsRUFBRSxDQUFTLEVBQUUsRUFBRTtZQUN0RCxPQUFPLEdBQUcsWUFBWSxpREFBaUQsQ0FBQyxPQUFPLENBQUM7UUFDbEYsQ0FBQyxDQUFDO1FBRUYsb0JBQWUsR0FBRyxDQUFDLFVBQWtCLEVBQUUsWUFBb0IsRUFBRSxFQUFFO1lBQzdELE9BQU8sR0FBRyxVQUFVLE9BQU8sWUFBWSxPQUFPLENBQUM7UUFDakQsQ0FBQyxDQUFDO0tBQ0g7OEdBM0RZLGNBQWM7a0hBQWQsY0FBYzs7MkZBQWQsY0FBYztrQkFEMUIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEhlbHBJbnRsIH0gZnJvbSAnLi9oZWxwLWludGwnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTWltZVZpZXdlckludGwge1xuICBjaGFuZ2VzOiBTdWJqZWN0PHZvaWQ+ID0gbmV3IFN1YmplY3Q8dm9pZD4oKTtcblxuICBoZWxwOiBIZWxwSW50bCA9IG5ldyBIZWxwSW50bCgpO1xuICBjbG9zZUxhYmVsID0gJ0Nsb3NlJztcbiAgYXR0cmlidXRpb25MYWJlbCA9ICdBdHRyaWJ1dGlvbic7XG4gIGF0dHJpYnV0b25DbG9zZUFyaWFMYWJlbCA9ICdDbG9zZSBhdHRyaWJ1dGlvbiBkaWFsb2cnO1xuICBoZWxwQ2xvc2VBcmlhTGFiZWwgPSAnQ2xvc2UgaGVscCBkaWFsb2cnO1xuICBpbmZvcm1hdGlvbkxhYmVsID0gJ0luZm9ybWF0aW9uJztcbiAgbGF5b3V0TWVudUxhYmVsID0gJ1ZpZXcnO1xuICBwYWdlTGF5b3V0TGFiZWwgPSAnUGFnZSBsYXlvdXQnO1xuICBzaW5nbGVQYWdlVmlld0xhYmVsID0gJ1NpbmdsZSBwYWdlcyc7XG4gIHR3b1BhZ2VWaWV3TGFiZWwgPSAnVHdvIHBhZ2VzJztcbiAgZGlnaXRhbFRleHRMYWJlbCA9ICdEaWdpdGFsIHRleHQnO1xuICByZWNvZ25pemVkVGV4dENvbnRlbnRDbG9zZUxhYmVsID0gJ05vbmUnO1xuICByZWNvZ25pemVkVGV4dENvbnRlbnRJblNwbGl0Vmlld0xhYmVsID0gJ1NwbGl0JztcbiAgc2hvd1JlY29nbml6ZWRUZXh0Q29udGVudExhYmVsID0gJ0RpZ2l0YWwgdGV4dCBvbmx5JztcbiAgbWV0YWRhdGFMYWJlbCA9ICdNZXRhZGF0YSc7XG4gIGxpY2Vuc2VMYWJlbCA9ICdMaWNlbnNlJztcbiAgdG9jTGFiZWwgPSAnVGFibGUgb2YgQ29udGVudHMnO1xuICBmdWxsU2NyZWVuTGFiZWwgPSAnRnVsbCBzY3JlZW4nO1xuICBleGl0RnVsbFNjcmVlbkxhYmVsID0gJ0V4aXQgZnVsbCBzY3JlZW4nO1xuICBvcGVuT3NkQ29udHJvbFBhbmVsTGFiZWwgPSAnT3BlbiBjb250cm9sIHBhbmVsJztcbiAgY2xvc2VPc2RDb250cm9sUGFuZWxMYWJlbCA9ICdDbG9zZSBjb250cm9sIHBhbmVsJztcbiAgem9vbUluTGFiZWwgPSAnWm9vbSBpbic7XG4gIHpvb21PdXRMYWJlbCA9ICdab29tIG91dCc7XG4gIHJlc2V0Wm9vbUxhYmVsID0gJ1Jlc2V0IHpvb20nO1xuICBwcmV2aW91c1BhZ2VMYWJlbCA9ICdQcmV2aW91cyBQYWdlJztcbiAgbmV4dFBhZ2VMYWJlbCA9ICdOZXh0IFBhZ2UnO1xuICByb3RhdGVDd0xhYmVsID0gJ1JvdGF0ZSA5MMKwJztcbiAgc2VhcmNoTGFiZWwgPSAnU2VhcmNoJztcbiAgY2xlYXJTZWFyY2hMYWJlbCA9ICdDbGVhcic7XG4gIHByZXZpb3VzSGl0TGFiZWwgPSAnUHJldmlvdXMgSGl0JztcbiAgbmV4dEhpdExhYmVsID0gJ05leHQgSGl0JztcbiAgZ29Ub1BhZ2VMYWJlbCA9ICdHbyB0byBwYWdlJztcbiAgY3VycmVudFBhZ2VMYWJlbCA9ICdDdXJyZW50IHBhZ2UnO1xuICBlbnRlclBhZ2VOdW1iZXIgPSAnRW50ZXIgcGFnZSBudW1iZXInO1xuICBkcm9wRGlzYWJsZWQgPSAnU29ycnksIGJ1dCBkcmFnIGFuZCBkcm9wIGlzIGRpc2FibGVkJztcbiAgbG9hZGluZyA9ICdMb2FkaW5nIC4uLic7XG4gIHJvdGF0aW9uSXNOb3RTdXBwb3J0ZWQgPSAnUm90YXRpb24gaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGRldmljZSc7XG5cbiAgLy8gRVJST1JTXG4gIHNvbWV0aGluZ0hhc0dvbmVXcm9uZ0xhYmVsID0gJ09oIGRlYXIsIHNvbWV0aGluZyBoYXMgZ29uZSB0ZXJyaWJseSB3cm9uZy4uLic7XG4gIG1hbmlmZXN0VXJpTWlzc2luZ0xhYmVsID0gJ01hbmlmZXN0VXJpIGlzIG1pc3NpbmcnO1xuICBtYW5pZmVzdE5vdFZhbGlkTGFiZWwgPSAnTWFuaWZlc3QgaXMgbm90IHZhbGlkJztcbiAgcGFnZURvZXNOb3RFeGlzdHMgPSAnU29ycnksIHRoYXQgcGFnZSBkb2VzIG5vdCBleGlzdCc7XG4gIHRleHRDb250ZW50RXJyb3JMYWJlbCA9IGBPaCBkZWFyLCBpIGNhbid0IGZpbmQgdGhlIHRleHQgZm9yIHlvdWA7XG5cbiAgbm9SZXN1bHRzRm91bmRMYWJlbCA9IChxOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gYE5vIHJlc3VsdHMgZm91bmQgZm9yIDxlbSBjbGFzcz1cImN1cnJlbnQtc2VhcmNoXCI+JHtxfTwvZW0+YDtcbiAgfTtcblxuICByZXN1bHRzRm91bmRMYWJlbCA9IChudW1iZXJPZkhpdHM6IG51bWJlciwgcTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGAke251bWJlck9mSGl0c30gcmVzdWx0cyBmb3VuZCBmb3IgPGVtIGNsYXNzPVwiY3VycmVudC1zZWFyY2hcIj4ke3F9PC9lbT5gO1xuICB9O1xuXG4gIGN1cnJlbnRIaXRMYWJlbCA9IChjdXJyZW50SGl0OiBudW1iZXIsIG51bWJlck9mSGl0czogbnVtYmVyKSA9PiB7XG4gICAgcmV0dXJuIGAke2N1cnJlbnRIaXR9IG9mICR7bnVtYmVyT2ZIaXRzfSBoaXRzYDtcbiAgfTtcbn1cbiJdfQ==","import { HelpIntl } from './help-intl';\nexport class HelpIntlLt extends HelpIntl {\n    constructor() {\n        super(...arguments);\n        this.helpLabel = 'Pagalba';\n        this.line1 = '<strong>RODYKLĖ KAIRĖN</strong> arba <strong>PAGE UP</strong>: Buvęs puslapis';\n        this.line2 = '<strong>RODYKLĖ DEŠINĖN</strong> arba <strong>PAGE DOWN</strong>: Kitas puslapis';\n        this.line3 = '<strong>HOME</strong>: Pirmas puslapis';\n        this.line4 = '<strong>END</strong>: Paskutinis puslapis';\n        this.line5 = '<strong>C</strong>: Rodyti daugiau informacijos apie objektą. (Uždarykite su <strong>ESC</strong>.)';\n        this.line6 = '<strong>S</strong>: Paieška objekto viduje. (Uždarykite su <strong>ESC</strong>.)';\n        this.line7 = '<strong>N</strong>: Kitas rezultatas';\n        this.line8 = '<strong>P</strong>: Buvęs rezultatas';\n        this.line9 = '<strong>F</strong>: Pilno ekrano režimas (Uždarykite su <strong>F</strong> arba <strong>ESC</strong>.)';\n        this.line10 = '<strong>R</strong>: Pasukti 90 laipsnių';\n        this.line11 = '<strong>T</strong>:  Rodyti/slėpti optiškai atpažįstamą tekstą (turiniui, kurį galima rodyti).';\n        this.line12 = '<strong>Shift-S</strong>: Ištuštinkite teksto paiešką';\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscC1pbnRsLmx0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvaW50bC9oZWxwLWludGwubHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUV2QyxNQUFNLE9BQU8sVUFBVyxTQUFRLFFBQVE7SUFBeEM7O1FBQ1csY0FBUyxHQUFHLFNBQVMsQ0FBQztRQUN0QixVQUFLLEdBQ1osK0VBQStFLENBQUM7UUFDekUsVUFBSyxHQUNaLGtGQUFrRixDQUFDO1FBQzVFLFVBQUssR0FBRyx3Q0FBd0MsQ0FBQztRQUNqRCxVQUFLLEdBQUcsMkNBQTJDLENBQUM7UUFDcEQsVUFBSyxHQUNaLHFHQUFxRyxDQUFDO1FBQy9GLFVBQUssR0FDWixtRkFBbUYsQ0FBQztRQUM3RSxVQUFLLEdBQUcsc0NBQXNDLENBQUM7UUFDL0MsVUFBSyxHQUFHLHNDQUFzQyxDQUFDO1FBQy9DLFVBQUssR0FDWix3R0FBd0csQ0FBQztRQUNsRyxXQUFNLEdBQUcseUNBQXlDLENBQUM7UUFDbkQsV0FBTSxHQUNiLGdHQUFnRyxDQUFDO1FBQzFGLFdBQU0sR0FBRyx1REFBdUQsQ0FBQztJQUM1RSxDQUFDO0NBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIZWxwSW50bCB9IGZyb20gJy4vaGVscC1pbnRsJztcblxuZXhwb3J0IGNsYXNzIEhlbHBJbnRsTHQgZXh0ZW5kcyBIZWxwSW50bCB7XG4gIG92ZXJyaWRlIGhlbHBMYWJlbCA9ICdQYWdhbGJhJztcbiAgb3ZlcnJpZGUgbGluZTEgPVxuICAgICc8c3Ryb25nPlJPRFlLTMSWIEtBSVLElk48L3N0cm9uZz4gYXJiYSA8c3Ryb25nPlBBR0UgVVA8L3N0cm9uZz46IEJ1dsSZcyBwdXNsYXBpcyc7XG4gIG92ZXJyaWRlIGxpbmUyID1cbiAgICAnPHN0cm9uZz5ST0RZS0zEliBERcWgSU7Elk48L3N0cm9uZz4gYXJiYSA8c3Ryb25nPlBBR0UgRE9XTjwvc3Ryb25nPjogS2l0YXMgcHVzbGFwaXMnO1xuICBvdmVycmlkZSBsaW5lMyA9ICc8c3Ryb25nPkhPTUU8L3N0cm9uZz46IFBpcm1hcyBwdXNsYXBpcyc7XG4gIG92ZXJyaWRlIGxpbmU0ID0gJzxzdHJvbmc+RU5EPC9zdHJvbmc+OiBQYXNrdXRpbmlzIHB1c2xhcGlzJztcbiAgb3ZlcnJpZGUgbGluZTUgPVxuICAgICc8c3Ryb25nPkM8L3N0cm9uZz46IFJvZHl0aSBkYXVnaWF1IGluZm9ybWFjaWpvcyBhcGllIG9iamVrdMSFLiAoVcW+ZGFyeWtpdGUgc3UgPHN0cm9uZz5FU0M8L3N0cm9uZz4uKSc7XG4gIG92ZXJyaWRlIGxpbmU2ID1cbiAgICAnPHN0cm9uZz5TPC9zdHJvbmc+OiBQYWllxaFrYSBvYmpla3RvIHZpZHVqZS4gKFXFvmRhcnlraXRlIHN1IDxzdHJvbmc+RVNDPC9zdHJvbmc+LiknO1xuICBvdmVycmlkZSBsaW5lNyA9ICc8c3Ryb25nPk48L3N0cm9uZz46IEtpdGFzIHJlenVsdGF0YXMnO1xuICBvdmVycmlkZSBsaW5lOCA9ICc8c3Ryb25nPlA8L3N0cm9uZz46IEJ1dsSZcyByZXp1bHRhdGFzJztcbiAgb3ZlcnJpZGUgbGluZTkgPVxuICAgICc8c3Ryb25nPkY8L3N0cm9uZz46IFBpbG5vIGVrcmFubyByZcW+aW1hcyAoVcW+ZGFyeWtpdGUgc3UgPHN0cm9uZz5GPC9zdHJvbmc+IGFyYmEgPHN0cm9uZz5FU0M8L3N0cm9uZz4uKSc7XG4gIG92ZXJyaWRlIGxpbmUxMCA9ICc8c3Ryb25nPlI8L3N0cm9uZz46IFBhc3VrdGkgOTAgbGFpcHNuacWzJztcbiAgb3ZlcnJpZGUgbGluZTExID1cbiAgICAnPHN0cm9uZz5UPC9zdHJvbmc+OiAgUm9keXRpL3NsxJdwdGkgb3B0acWha2FpIGF0cGHFvsSvc3RhbcSFIHRla3N0xIUgKHR1cmluaXVpLCBrdXLEryBnYWxpbWEgcm9keXRpKS4nO1xuICBvdmVycmlkZSBsaW5lMTIgPSAnPHN0cm9uZz5TaGlmdC1TPC9zdHJvbmc+OiBJxaF0dcWhdGlua2l0ZSB0ZWtzdG8gcGFpZcWha8SFJztcbn1cbiJdfQ==","import { Injectable } from '@angular/core';\nimport { HelpIntlLt } from './help-intl.lt';\nimport { MimeViewerIntl } from './viewer-intl';\nimport * as i0 from \"@angular/core\";\nexport class MimeViewerIntlLt extends MimeViewerIntl {\n    constructor() {\n        super(...arguments);\n        this.help = new HelpIntlLt();\n        this.closeLabel = 'Uždaryti';\n        this.attributionLabel = 'Teisių priskyrimas';\n        this.attributonCloseAriaLabel = 'Uždaryti teisių priskyrimo langą';\n        this.helpCloseAriaLabel = 'Uždaryti pagalbos dialogo langą';\n        this.informationLabel = 'Informacija';\n        this.layoutMenuLabel = 'Žiūrėti';\n        this.pageLayoutLabel = 'Puslapio išdėstymas';\n        this.singlePageViewLabel = 'Atvaizduoti po vieną puslapį';\n        this.twoPageViewLabel = 'Atvaizduoti po du puslapius';\n        this.digitalTextLabel = 'Skaitmeninis tekstas';\n        this.recognizedTextContentCloseLabel = 'Nė vienas';\n        this.recognizedTextContentInSplitViewLabel = 'Suskaidytas';\n        this.showRecognizedTextContentLabel = 'Tik skaitmeninis tekstas';\n        this.metadataLabel = 'Metaduomenys';\n        this.licenseLabel = 'Licencija';\n        this.tocLabel = 'Turinys';\n        this.fullScreenLabel = 'Pilno ekrano režimas';\n        this.exitFullScreenLabel = 'Išeiti iš pilno ekrano režimo';\n        this.openOsdControlPanelLabel = 'Atidarykite valdymo skydelį';\n        this.closeOsdControlPanelLabel = 'Uždarykite valdymo skydelį';\n        this.zoomInLabel = 'Priartinti';\n        this.zoomOutLabel = 'Atitolinti';\n        this.resetZoomLabel = 'iš naujo nustatykite skalę';\n        this.previousPageLabel = 'Buvęs puslapis';\n        this.nextPageLabel = 'Kitas puslapis';\n        this.rotateCwLabel = 'Pasukti 90°';\n        this.searchLabel = 'Paieška';\n        this.clearSearchLabel = 'Išvalyti';\n        this.previousHitLabel = 'Buvęs rezultatas';\n        this.nextHitLabel = 'Kitas rezultatas';\n        this.goToPageLabel = 'Persikelti į puslapį';\n        this.currentPageLabel = 'Dabartinis puslapis';\n        this.enterPageNumber = 'Įveskite puslapio numerį';\n        this.dropDisabled = 'Atleiskite, bet veiksmas negalimas';\n        this.loading = 'Pakrovimas ...';\n        this.rotationIsNotSupported = 'Sukimas jūsų įrenginyje nepalaikomas';\n        // ERRORS\n        this.somethingHasGoneWrongLabel = 'Objekto atvaizduoti nepavyko...';\n        this.manifestUriMissingLabel = 'Nerastas objektų sąrašo identifikatorius (ManifestUri)';\n        this.manifestNotValidLabel = 'Netinkamas objektų sąrašas (Manifest)';\n        this.pageDoesNotExists = 'Nepavyko rasti šio paslapio';\n        this.textContentErrorLabel = 'Atsiprašau, bet nerandu jums teksto';\n        this.noResultsFoundLabel = (q) => {\n            return `Objekte nerasta atitikmenų <em class=\"current-search\">${q}</em>`;\n        };\n        this.resultsFoundLabel = (numberOfHits, q) => {\n            return `${numberOfHits} rezultata${numberOfHits === 1 ? 's' : 'i'} su <em class=\"current-search\">${q}</em>`;\n        };\n        this.currentHitLabel = (currentHit, numberOfHits) => {\n            return `${currentHit} iš ${numberOfHits} atitikmenų`;\n        };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeViewerIntlLt, deps: null, target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeViewerIntlLt }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeViewerIntlLt, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLWludGwubHQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9pbnRsL3ZpZXdlci1pbnRsLmx0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxlQUFlLENBQUM7O0FBRy9DLE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxjQUFjO0lBRHBEOztRQUVXLFNBQUksR0FBRyxJQUFJLFVBQVUsRUFBRSxDQUFDO1FBQ3hCLGVBQVUsR0FBRyxVQUFVLENBQUM7UUFDeEIscUJBQWdCLEdBQUcsb0JBQW9CLENBQUM7UUFDeEMsNkJBQXdCLEdBQUcsa0NBQWtDLENBQUM7UUFDOUQsdUJBQWtCLEdBQUcsaUNBQWlDLENBQUM7UUFDdkQscUJBQWdCLEdBQUcsYUFBYSxDQUFDO1FBQ2pDLG9CQUFlLEdBQUcsU0FBUyxDQUFDO1FBQzVCLG9CQUFlLEdBQUcscUJBQXFCLENBQUM7UUFDeEMsd0JBQW1CLEdBQUcsOEJBQThCLENBQUM7UUFDckQscUJBQWdCLEdBQUcsNkJBQTZCLENBQUM7UUFDakQscUJBQWdCLEdBQUcsc0JBQXNCLENBQUM7UUFDMUMsb0NBQStCLEdBQUcsV0FBVyxDQUFDO1FBQzlDLDBDQUFxQyxHQUFHLGFBQWEsQ0FBQztRQUN0RCxtQ0FBOEIsR0FBRywwQkFBMEIsQ0FBQztRQUM1RCxrQkFBYSxHQUFHLGNBQWMsQ0FBQztRQUMvQixpQkFBWSxHQUFHLFdBQVcsQ0FBQztRQUMzQixhQUFRLEdBQUcsU0FBUyxDQUFDO1FBQ3JCLG9CQUFlLEdBQUcsc0JBQXNCLENBQUM7UUFDekMsd0JBQW1CLEdBQUcsK0JBQStCLENBQUM7UUFDdEQsNkJBQXdCLEdBQUcsNkJBQTZCLENBQUM7UUFDekQsOEJBQXlCLEdBQUcsNEJBQTRCLENBQUM7UUFDekQsZ0JBQVcsR0FBRyxZQUFZLENBQUM7UUFDM0IsaUJBQVksR0FBRyxZQUFZLENBQUM7UUFDNUIsbUJBQWMsR0FBRyw0QkFBNEIsQ0FBQztRQUM5QyxzQkFBaUIsR0FBRyxnQkFBZ0IsQ0FBQztRQUNyQyxrQkFBYSxHQUFHLGdCQUFnQixDQUFDO1FBQ2pDLGtCQUFhLEdBQUcsYUFBYSxDQUFDO1FBQzlCLGdCQUFXLEdBQUcsU0FBUyxDQUFDO1FBQ3hCLHFCQUFnQixHQUFHLFVBQVUsQ0FBQztRQUM5QixxQkFBZ0IsR0FBRyxrQkFBa0IsQ0FBQztRQUN0QyxpQkFBWSxHQUFHLGtCQUFrQixDQUFDO1FBQ2xDLGtCQUFhLEdBQUcsc0JBQXNCLENBQUM7UUFDdkMscUJBQWdCLEdBQUcscUJBQXFCLENBQUM7UUFDekMsb0JBQWUsR0FBRywwQkFBMEIsQ0FBQztRQUM3QyxpQkFBWSxHQUFHLG9DQUFvQyxDQUFDO1FBQ3BELFlBQU8sR0FBRyxnQkFBZ0IsQ0FBQztRQUMzQiwyQkFBc0IsR0FBRyxzQ0FBc0MsQ0FBQztRQUV6RSxTQUFTO1FBQ0EsK0JBQTBCLEdBQUcsaUNBQWlDLENBQUM7UUFDL0QsNEJBQXVCLEdBQzlCLHdEQUF3RCxDQUFDO1FBQ2xELDBCQUFxQixHQUFHLHVDQUF1QyxDQUFDO1FBQ2hFLHNCQUFpQixHQUFHLDZCQUE2QixDQUFDO1FBQ2xELDBCQUFxQixHQUFHLHFDQUFxQyxDQUFDO1FBRTlELHdCQUFtQixHQUFHLENBQUMsQ0FBUyxFQUFFLEVBQUU7WUFDM0MsT0FBTyx5REFBeUQsQ0FBQyxPQUFPLENBQUM7UUFDM0UsQ0FBQyxDQUFDO1FBRU8sc0JBQWlCLEdBQUcsQ0FBQyxZQUFvQixFQUFFLENBQVMsRUFBRSxFQUFFO1lBQy9ELE9BQU8sR0FBRyxZQUFZLGFBQ3BCLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FDN0Isa0NBQWtDLENBQUMsT0FBTyxDQUFDO1FBQzdDLENBQUMsQ0FBQztRQUNPLG9CQUFlLEdBQUcsQ0FBQyxVQUFrQixFQUFFLFlBQW9CLEVBQUUsRUFBRTtZQUN0RSxPQUFPLEdBQUcsVUFBVSxPQUFPLFlBQVksYUFBYSxDQUFDO1FBQ3ZELENBQUMsQ0FBQztLQUNIOzhHQTNEWSxnQkFBZ0I7a0hBQWhCLGdCQUFnQjs7MkZBQWhCLGdCQUFnQjtrQkFENUIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEhlbHBJbnRsTHQgfSBmcm9tICcuL2hlbHAtaW50bC5sdCc7XG5pbXBvcnQgeyBNaW1lVmlld2VySW50bCB9IGZyb20gJy4vdmlld2VyLWludGwnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTWltZVZpZXdlckludGxMdCBleHRlbmRzIE1pbWVWaWV3ZXJJbnRsIHtcbiAgb3ZlcnJpZGUgaGVscCA9IG5ldyBIZWxwSW50bEx0KCk7XG4gIG92ZXJyaWRlIGNsb3NlTGFiZWwgPSAnVcW+ZGFyeXRpJztcbiAgb3ZlcnJpZGUgYXR0cmlidXRpb25MYWJlbCA9ICdUZWlzacWzIHByaXNreXJpbWFzJztcbiAgb3ZlcnJpZGUgYXR0cmlidXRvbkNsb3NlQXJpYUxhYmVsID0gJ1XFvmRhcnl0aSB0ZWlzacWzIHByaXNreXJpbW8gbGFuZ8SFJztcbiAgb3ZlcnJpZGUgaGVscENsb3NlQXJpYUxhYmVsID0gJ1XFvmRhcnl0aSBwYWdhbGJvcyBkaWFsb2dvIGxhbmfEhSc7XG4gIG92ZXJyaWRlIGluZm9ybWF0aW9uTGFiZWwgPSAnSW5mb3JtYWNpamEnO1xuICBvdmVycmlkZSBsYXlvdXRNZW51TGFiZWwgPSAnxb1pxatyxJd0aSc7XG4gIG92ZXJyaWRlIHBhZ2VMYXlvdXRMYWJlbCA9ICdQdXNsYXBpbyBpxaFkxJdzdHltYXMnO1xuICBvdmVycmlkZSBzaW5nbGVQYWdlVmlld0xhYmVsID0gJ0F0dmFpemR1b3RpIHBvIHZpZW7EhSBwdXNsYXDEryc7XG4gIG92ZXJyaWRlIHR3b1BhZ2VWaWV3TGFiZWwgPSAnQXR2YWl6ZHVvdGkgcG8gZHUgcHVzbGFwaXVzJztcbiAgb3ZlcnJpZGUgZGlnaXRhbFRleHRMYWJlbCA9ICdTa2FpdG1lbmluaXMgdGVrc3Rhcyc7XG4gIG92ZXJyaWRlIHJlY29nbml6ZWRUZXh0Q29udGVudENsb3NlTGFiZWwgPSAnTsSXIHZpZW5hcyc7XG4gIG92ZXJyaWRlIHJlY29nbml6ZWRUZXh0Q29udGVudEluU3BsaXRWaWV3TGFiZWwgPSAnU3Vza2FpZHl0YXMnO1xuICBvdmVycmlkZSBzaG93UmVjb2duaXplZFRleHRDb250ZW50TGFiZWwgPSAnVGlrIHNrYWl0bWVuaW5pcyB0ZWtzdGFzJztcbiAgb3ZlcnJpZGUgbWV0YWRhdGFMYWJlbCA9ICdNZXRhZHVvbWVueXMnO1xuICBvdmVycmlkZSBsaWNlbnNlTGFiZWwgPSAnTGljZW5jaWphJztcbiAgb3ZlcnJpZGUgdG9jTGFiZWwgPSAnVHVyaW55cyc7XG4gIG92ZXJyaWRlIGZ1bGxTY3JlZW5MYWJlbCA9ICdQaWxubyBla3Jhbm8gcmXFvmltYXMnO1xuICBvdmVycmlkZSBleGl0RnVsbFNjcmVlbkxhYmVsID0gJ0nFoWVpdGkgacWhIHBpbG5vIGVrcmFubyByZcW+aW1vJztcbiAgb3ZlcnJpZGUgb3Blbk9zZENvbnRyb2xQYW5lbExhYmVsID0gJ0F0aWRhcnlraXRlIHZhbGR5bW8gc2t5ZGVsxK8nO1xuICBvdmVycmlkZSBjbG9zZU9zZENvbnRyb2xQYW5lbExhYmVsID0gJ1XFvmRhcnlraXRlIHZhbGR5bW8gc2t5ZGVsxK8nO1xuICBvdmVycmlkZSB6b29tSW5MYWJlbCA9ICdQcmlhcnRpbnRpJztcbiAgb3ZlcnJpZGUgem9vbU91dExhYmVsID0gJ0F0aXRvbGludGknO1xuICBvdmVycmlkZSByZXNldFpvb21MYWJlbCA9ICdpxaEgbmF1am8gbnVzdGF0eWtpdGUgc2thbMSZJztcbiAgb3ZlcnJpZGUgcHJldmlvdXNQYWdlTGFiZWwgPSAnQnV2xJlzIHB1c2xhcGlzJztcbiAgb3ZlcnJpZGUgbmV4dFBhZ2VMYWJlbCA9ICdLaXRhcyBwdXNsYXBpcyc7XG4gIG92ZXJyaWRlIHJvdGF0ZUN3TGFiZWwgPSAnUGFzdWt0aSA5MMKwJztcbiAgb3ZlcnJpZGUgc2VhcmNoTGFiZWwgPSAnUGFpZcWha2EnO1xuICBvdmVycmlkZSBjbGVhclNlYXJjaExhYmVsID0gJ0nFoXZhbHl0aSc7XG4gIG92ZXJyaWRlIHByZXZpb3VzSGl0TGFiZWwgPSAnQnV2xJlzIHJlenVsdGF0YXMnO1xuICBvdmVycmlkZSBuZXh0SGl0TGFiZWwgPSAnS2l0YXMgcmV6dWx0YXRhcyc7XG4gIG92ZXJyaWRlIGdvVG9QYWdlTGFiZWwgPSAnUGVyc2lrZWx0aSDEryBwdXNsYXDEryc7XG4gIG92ZXJyaWRlIGN1cnJlbnRQYWdlTGFiZWwgPSAnRGFiYXJ0aW5pcyBwdXNsYXBpcyc7XG4gIG92ZXJyaWRlIGVudGVyUGFnZU51bWJlciA9ICfErnZlc2tpdGUgcHVzbGFwaW8gbnVtZXLEryc7XG4gIG92ZXJyaWRlIGRyb3BEaXNhYmxlZCA9ICdBdGxlaXNraXRlLCBiZXQgdmVpa3NtYXMgbmVnYWxpbWFzJztcbiAgb3ZlcnJpZGUgbG9hZGluZyA9ICdQYWtyb3ZpbWFzIC4uLic7XG4gIG92ZXJyaWRlIHJvdGF0aW9uSXNOb3RTdXBwb3J0ZWQgPSAnU3VraW1hcyBqxatzxbMgxK9yZW5naW55amUgbmVwYWxhaWtvbWFzJztcblxuICAvLyBFUlJPUlNcbiAgb3ZlcnJpZGUgc29tZXRoaW5nSGFzR29uZVdyb25nTGFiZWwgPSAnT2JqZWt0byBhdHZhaXpkdW90aSBuZXBhdnlrby4uLic7XG4gIG92ZXJyaWRlIG1hbmlmZXN0VXJpTWlzc2luZ0xhYmVsID1cbiAgICAnTmVyYXN0YXMgb2JqZWt0xbMgc8SFcmHFoW8gaWRlbnRpZmlrYXRvcml1cyAoTWFuaWZlc3RVcmkpJztcbiAgb3ZlcnJpZGUgbWFuaWZlc3ROb3RWYWxpZExhYmVsID0gJ05ldGlua2FtYXMgb2JqZWt0xbMgc8SFcmHFoWFzIChNYW5pZmVzdCknO1xuICBvdmVycmlkZSBwYWdlRG9lc05vdEV4aXN0cyA9ICdOZXBhdnlrbyByYXN0aSDFoWlvIHBhc2xhcGlvJztcbiAgb3ZlcnJpZGUgdGV4dENvbnRlbnRFcnJvckxhYmVsID0gJ0F0c2lwcmHFoWF1LCBiZXQgbmVyYW5kdSBqdW1zIHRla3N0byc7XG5cbiAgb3ZlcnJpZGUgbm9SZXN1bHRzRm91bmRMYWJlbCA9IChxOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gYE9iamVrdGUgbmVyYXN0YSBhdGl0aWttZW7FsyA8ZW0gY2xhc3M9XCJjdXJyZW50LXNlYXJjaFwiPiR7cX08L2VtPmA7XG4gIH07XG5cbiAgb3ZlcnJpZGUgcmVzdWx0c0ZvdW5kTGFiZWwgPSAobnVtYmVyT2ZIaXRzOiBudW1iZXIsIHE6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBgJHtudW1iZXJPZkhpdHN9IHJlenVsdGF0YSR7XG4gICAgICBudW1iZXJPZkhpdHMgPT09IDEgPyAncycgOiAnaSdcbiAgICB9IHN1IDxlbSBjbGFzcz1cImN1cnJlbnQtc2VhcmNoXCI+JHtxfTwvZW0+YDtcbiAgfTtcbiAgb3ZlcnJpZGUgY3VycmVudEhpdExhYmVsID0gKGN1cnJlbnRIaXQ6IG51bWJlciwgbnVtYmVyT2ZIaXRzOiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4gYCR7Y3VycmVudEhpdH0gacWhICR7bnVtYmVyT2ZIaXRzfSBhdGl0aWttZW7Fs2A7XG4gIH07XG59XG4iXX0=","import { HelpIntl } from './help-intl';\nexport class HelpIntlNoNb extends HelpIntl {\n    constructor() {\n        super(...arguments);\n        this.helpLabel = 'Hjelp';\n        this.line1 = '<strong>PIL VENSTRE</strong> eller <strong>PAGE UP</strong>: Gå til forrige side';\n        this.line2 = '<strong>PIL HØYRE</strong> eller <strong>PAGE DOWN</strong>: Gå til neste side';\n        this.line3 = '<strong>HOME</strong>: Gå til første side';\n        this.line4 = '<strong>END</strong>: Gå til siste side';\n        this.line5 = '<strong>C</strong>: Vis flere opplysninger om materialet. (Lukk med <strong>ESC</strong>.)';\n        this.line6 = '<strong>S</strong>: Åpner søkefeltet for søk i objektet. (Lukk med <strong>ESC</strong>.)';\n        this.line7 = '<strong>N</strong>: Går til neste treff i objektet';\n        this.line8 = '<strong>P</strong>: Går til forrige treff i objektet';\n        this.line9 = '<strong>F</strong>: Fullskjerm av og på (Lukk med <strong>F</strong> eller <strong>ESC</strong>.)';\n        this.line10 = '<strong>R</strong>: Rotér 90°';\n        this.line11 = '<strong>T</strong>: Vis/skjul optisk gjenkjent tekst (for innhold som kan vises).';\n        this.line12 = '<strong>Shift-S</strong>: Tøm søk i tekst';\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscC1pbnRsLm5vX25iLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvaW50bC9oZWxwLWludGwubm9fbmIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUV2QyxNQUFNLE9BQU8sWUFBYSxTQUFRLFFBQVE7SUFBMUM7O1FBQ1csY0FBUyxHQUFHLE9BQU8sQ0FBQztRQUNwQixVQUFLLEdBQ1osa0ZBQWtGLENBQUM7UUFDNUUsVUFBSyxHQUNaLGdGQUFnRixDQUFDO1FBQzFFLFVBQUssR0FBRywyQ0FBMkMsQ0FBQztRQUNwRCxVQUFLLEdBQUcseUNBQXlDLENBQUM7UUFDbEQsVUFBSyxHQUNaLDRGQUE0RixDQUFDO1FBQ3RGLFVBQUssR0FDWiwyRkFBMkYsQ0FBQztRQUNyRixVQUFLLEdBQUcsb0RBQW9ELENBQUM7UUFDN0QsVUFBSyxHQUFHLHNEQUFzRCxDQUFDO1FBQy9ELFVBQUssR0FDWixtR0FBbUcsQ0FBQztRQUM3RixXQUFNLEdBQUcsK0JBQStCLENBQUM7UUFDekMsV0FBTSxHQUNiLG1GQUFtRixDQUFDO1FBQzdFLFdBQU0sR0FBRywyQ0FBMkMsQ0FBQztJQUNoRSxDQUFDO0NBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIZWxwSW50bCB9IGZyb20gJy4vaGVscC1pbnRsJztcblxuZXhwb3J0IGNsYXNzIEhlbHBJbnRsTm9OYiBleHRlbmRzIEhlbHBJbnRsIHtcbiAgb3ZlcnJpZGUgaGVscExhYmVsID0gJ0hqZWxwJztcbiAgb3ZlcnJpZGUgbGluZTEgPVxuICAgICc8c3Ryb25nPlBJTCBWRU5TVFJFPC9zdHJvbmc+IGVsbGVyIDxzdHJvbmc+UEFHRSBVUDwvc3Ryb25nPjogR8OlIHRpbCBmb3JyaWdlIHNpZGUnO1xuICBvdmVycmlkZSBsaW5lMiA9XG4gICAgJzxzdHJvbmc+UElMIEjDmFlSRTwvc3Ryb25nPiBlbGxlciA8c3Ryb25nPlBBR0UgRE9XTjwvc3Ryb25nPjogR8OlIHRpbCBuZXN0ZSBzaWRlJztcbiAgb3ZlcnJpZGUgbGluZTMgPSAnPHN0cm9uZz5IT01FPC9zdHJvbmc+OiBHw6UgdGlsIGbDuHJzdGUgc2lkZSc7XG4gIG92ZXJyaWRlIGxpbmU0ID0gJzxzdHJvbmc+RU5EPC9zdHJvbmc+OiBHw6UgdGlsIHNpc3RlIHNpZGUnO1xuICBvdmVycmlkZSBsaW5lNSA9XG4gICAgJzxzdHJvbmc+Qzwvc3Ryb25nPjogVmlzIGZsZXJlIG9wcGx5c25pbmdlciBvbSBtYXRlcmlhbGV0LiAoTHVrayBtZWQgPHN0cm9uZz5FU0M8L3N0cm9uZz4uKSc7XG4gIG92ZXJyaWRlIGxpbmU2ID1cbiAgICAnPHN0cm9uZz5TPC9zdHJvbmc+OiDDhXBuZXIgc8O4a2VmZWx0ZXQgZm9yIHPDuGsgaSBvYmpla3RldC4gKEx1a2sgbWVkIDxzdHJvbmc+RVNDPC9zdHJvbmc+LiknO1xuICBvdmVycmlkZSBsaW5lNyA9ICc8c3Ryb25nPk48L3N0cm9uZz46IEfDpXIgdGlsIG5lc3RlIHRyZWZmIGkgb2JqZWt0ZXQnO1xuICBvdmVycmlkZSBsaW5lOCA9ICc8c3Ryb25nPlA8L3N0cm9uZz46IEfDpXIgdGlsIGZvcnJpZ2UgdHJlZmYgaSBvYmpla3RldCc7XG4gIG92ZXJyaWRlIGxpbmU5ID1cbiAgICAnPHN0cm9uZz5GPC9zdHJvbmc+OiBGdWxsc2tqZXJtIGF2IG9nIHDDpSAoTHVrayBtZWQgPHN0cm9uZz5GPC9zdHJvbmc+IGVsbGVyIDxzdHJvbmc+RVNDPC9zdHJvbmc+LiknO1xuICBvdmVycmlkZSBsaW5lMTAgPSAnPHN0cm9uZz5SPC9zdHJvbmc+OiBSb3TDqXIgOTDCsCc7XG4gIG92ZXJyaWRlIGxpbmUxMSA9XG4gICAgJzxzdHJvbmc+VDwvc3Ryb25nPjogVmlzL3NranVsIG9wdGlzayBnamVua2plbnQgdGVrc3QgKGZvciBpbm5ob2xkIHNvbSBrYW4gdmlzZXMpLic7XG4gIG92ZXJyaWRlIGxpbmUxMiA9ICc8c3Ryb25nPlNoaWZ0LVM8L3N0cm9uZz46IFTDuG0gc8O4ayBpIHRla3N0Jztcbn1cbiJdfQ==","import { Injectable } from '@angular/core';\nimport { HelpIntlNoNb } from './help-intl.no_nb';\nimport { MimeViewerIntl } from './viewer-intl';\nimport * as i0 from \"@angular/core\";\nexport class MimeViewerIntlNoNb extends MimeViewerIntl {\n    constructor() {\n        super(...arguments);\n        this.help = new HelpIntlNoNb();\n        this.closeLabel = 'Lukk';\n        this.attributionLabel = 'Tillatelse';\n        this.attributonCloseAriaLabel = 'Steng tillatelse dialog';\n        this.helpCloseAriaLabel = 'Steng hjelp dialog';\n        this.informationLabel = 'Opplysninger';\n        this.layoutMenuLabel = 'Visning';\n        this.pageLayoutLabel = 'Sideoppsett';\n        this.singlePageViewLabel = 'Enkeltsider';\n        this.digitalTextLabel = 'Digital tekst';\n        this.twoPageViewLabel = 'To sider';\n        this.recognizedTextContentCloseLabel = 'Ingen';\n        this.recognizedTextContentInSplitViewLabel = 'Delt';\n        this.showRecognizedTextContentLabel = 'Kun digital tekst';\n        this.metadataLabel = 'Metadata';\n        this.licenseLabel = 'Lisens';\n        this.tocLabel = 'Innholdsfortegnelse';\n        this.fullScreenLabel = 'Fullskjerm';\n        this.exitFullScreenLabel = 'Avslutt fullskjerm';\n        this.openOsdControlPanelLabel = 'Åpne kontrollpanel';\n        this.closeOsdControlPanelLabel = 'Lukk kontrollpanel';\n        this.zoomInLabel = 'Zoom inn';\n        this.zoomOutLabel = 'Zoom ut';\n        this.resetZoomLabel = 'Nullstill zoom';\n        this.previousPageLabel = 'Forrige side';\n        this.nextPageLabel = 'Neste side';\n        this.rotateCwLabel = 'Rotér 90°';\n        this.searchLabel = 'Søk';\n        this.clearSearchLabel = 'Tøm';\n        this.previousHitLabel = 'Forrige treff';\n        this.nextHitLabel = 'Neste treff';\n        this.goToPageLabel = 'Gå til side';\n        this.currentPageLabel = 'Nåværende side';\n        this.enterPageNumber = 'Skriv inn sidenummer';\n        this.dropDisabled = 'Beklager, men drag and drop er ikke aktivert';\n        this.loading = 'Laster ...';\n        this.rotationIsNotSupported = 'Rotasjon støttes ikke av enheten din';\n        // ERRORS\n        this.somethingHasGoneWrongLabel = 'Å nei! Noe har gått galt...';\n        this.manifestUriMissingLabel = 'Lenke til manifest mangler';\n        this.manifestNotValidLabel = 'Manifestet er ikke gyldig';\n        this.pageDoesNotExists = 'Beklager, men den siden finnes ikke';\n        this.textContentErrorLabel = 'Beklager, men jeg finner ikke teksten for deg';\n        this.noResultsFoundLabel = (q) => {\n            return `Ingen treff funnet for <em class=\"current-search\">${q}</em>`;\n        };\n        this.resultsFoundLabel = (numberOfHits, q) => {\n            return `${numberOfHits} treff funnet for <em class=\"current-search\">${q}</em>`;\n        };\n        this.currentHitLabel = (currentHit, numberOfHits) => {\n            return `${currentHit} av ${numberOfHits} treff`;\n        };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeViewerIntlNoNb, deps: null, target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeViewerIntlNoNb }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeViewerIntlNoNb, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLWludGwubm9fbmIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9pbnRsL3ZpZXdlci1pbnRsLm5vX25iLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxlQUFlLENBQUM7O0FBRy9DLE1BQU0sT0FBTyxrQkFBbUIsU0FBUSxjQUFjO0lBRHREOztRQUVXLFNBQUksR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQzFCLGVBQVUsR0FBRyxNQUFNLENBQUM7UUFDcEIscUJBQWdCLEdBQUcsWUFBWSxDQUFDO1FBQ2hDLDZCQUF3QixHQUFHLHlCQUF5QixDQUFDO1FBQ3JELHVCQUFrQixHQUFHLG9CQUFvQixDQUFDO1FBQzFDLHFCQUFnQixHQUFHLGNBQWMsQ0FBQztRQUNsQyxvQkFBZSxHQUFHLFNBQVMsQ0FBQztRQUM1QixvQkFBZSxHQUFHLGFBQWEsQ0FBQztRQUNoQyx3QkFBbUIsR0FBRyxhQUFhLENBQUM7UUFDcEMscUJBQWdCLEdBQUcsZUFBZSxDQUFDO1FBQ25DLHFCQUFnQixHQUFHLFVBQVUsQ0FBQztRQUM5QixvQ0FBK0IsR0FBRyxPQUFPLENBQUM7UUFDMUMsMENBQXFDLEdBQUcsTUFBTSxDQUFDO1FBQy9DLG1DQUE4QixHQUFHLG1CQUFtQixDQUFDO1FBQ3JELGtCQUFhLEdBQUcsVUFBVSxDQUFDO1FBQzNCLGlCQUFZLEdBQUcsUUFBUSxDQUFDO1FBQ3hCLGFBQVEsR0FBRyxxQkFBcUIsQ0FBQztRQUNqQyxvQkFBZSxHQUFHLFlBQVksQ0FBQztRQUMvQix3QkFBbUIsR0FBRyxvQkFBb0IsQ0FBQztRQUMzQyw2QkFBd0IsR0FBRyxvQkFBb0IsQ0FBQztRQUNoRCw4QkFBeUIsR0FBRyxvQkFBb0IsQ0FBQztRQUNqRCxnQkFBVyxHQUFHLFVBQVUsQ0FBQztRQUN6QixpQkFBWSxHQUFHLFNBQVMsQ0FBQztRQUN6QixtQkFBYyxHQUFHLGdCQUFnQixDQUFDO1FBQ2xDLHNCQUFpQixHQUFHLGNBQWMsQ0FBQztRQUNuQyxrQkFBYSxHQUFHLFlBQVksQ0FBQztRQUM3QixrQkFBYSxHQUFHLFdBQVcsQ0FBQztRQUM1QixnQkFBVyxHQUFHLEtBQUssQ0FBQztRQUNwQixxQkFBZ0IsR0FBRyxLQUFLLENBQUM7UUFDekIscUJBQWdCLEdBQUcsZUFBZSxDQUFDO1FBQ25DLGlCQUFZLEdBQUcsYUFBYSxDQUFDO1FBQzdCLGtCQUFhLEdBQUcsYUFBYSxDQUFDO1FBQzlCLHFCQUFnQixHQUFHLGdCQUFnQixDQUFDO1FBQ3BDLG9CQUFlLEdBQUcsc0JBQXNCLENBQUM7UUFDekMsaUJBQVksR0FBRyw4Q0FBOEMsQ0FBQztRQUM5RCxZQUFPLEdBQUcsWUFBWSxDQUFDO1FBQ3ZCLDJCQUFzQixHQUFHLHNDQUFzQyxDQUFDO1FBRXpFLFNBQVM7UUFDQSwrQkFBMEIsR0FBRyw2QkFBNkIsQ0FBQztRQUMzRCw0QkFBdUIsR0FBRyw0QkFBNEIsQ0FBQztRQUN2RCwwQkFBcUIsR0FBRywyQkFBMkIsQ0FBQztRQUNwRCxzQkFBaUIsR0FBRyxxQ0FBcUMsQ0FBQztRQUMxRCwwQkFBcUIsR0FDNUIsK0NBQStDLENBQUM7UUFFekMsd0JBQW1CLEdBQUcsQ0FBQyxDQUFTLEVBQUUsRUFBRTtZQUMzQyxPQUFPLHFEQUFxRCxDQUFDLE9BQU8sQ0FBQztRQUN2RSxDQUFDLENBQUM7UUFFTyxzQkFBaUIsR0FBRyxDQUFDLFlBQW9CLEVBQUUsQ0FBUyxFQUFFLEVBQUU7WUFDL0QsT0FBTyxHQUFHLFlBQVksZ0RBQWdELENBQUMsT0FBTyxDQUFDO1FBQ2pGLENBQUMsQ0FBQztRQUVPLG9CQUFlLEdBQUcsQ0FBQyxVQUFrQixFQUFFLFlBQW9CLEVBQUUsRUFBRTtZQUN0RSxPQUFPLEdBQUcsVUFBVSxPQUFPLFlBQVksUUFBUSxDQUFDO1FBQ2xELENBQUMsQ0FBQztLQUNIOzhHQTFEWSxrQkFBa0I7a0hBQWxCLGtCQUFrQjs7MkZBQWxCLGtCQUFrQjtrQkFEOUIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEhlbHBJbnRsTm9OYiB9IGZyb20gJy4vaGVscC1pbnRsLm5vX25iJztcbmltcG9ydCB7IE1pbWVWaWV3ZXJJbnRsIH0gZnJvbSAnLi92aWV3ZXItaW50bCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBNaW1lVmlld2VySW50bE5vTmIgZXh0ZW5kcyBNaW1lVmlld2VySW50bCB7XG4gIG92ZXJyaWRlIGhlbHAgPSBuZXcgSGVscEludGxOb05iKCk7XG4gIG92ZXJyaWRlIGNsb3NlTGFiZWwgPSAnTHVrayc7XG4gIG92ZXJyaWRlIGF0dHJpYnV0aW9uTGFiZWwgPSAnVGlsbGF0ZWxzZSc7XG4gIG92ZXJyaWRlIGF0dHJpYnV0b25DbG9zZUFyaWFMYWJlbCA9ICdTdGVuZyB0aWxsYXRlbHNlIGRpYWxvZyc7XG4gIG92ZXJyaWRlIGhlbHBDbG9zZUFyaWFMYWJlbCA9ICdTdGVuZyBoamVscCBkaWFsb2cnO1xuICBvdmVycmlkZSBpbmZvcm1hdGlvbkxhYmVsID0gJ09wcGx5c25pbmdlcic7XG4gIG92ZXJyaWRlIGxheW91dE1lbnVMYWJlbCA9ICdWaXNuaW5nJztcbiAgb3ZlcnJpZGUgcGFnZUxheW91dExhYmVsID0gJ1NpZGVvcHBzZXR0JztcbiAgb3ZlcnJpZGUgc2luZ2xlUGFnZVZpZXdMYWJlbCA9ICdFbmtlbHRzaWRlcic7XG4gIG92ZXJyaWRlIGRpZ2l0YWxUZXh0TGFiZWwgPSAnRGlnaXRhbCB0ZWtzdCc7XG4gIG92ZXJyaWRlIHR3b1BhZ2VWaWV3TGFiZWwgPSAnVG8gc2lkZXInO1xuICBvdmVycmlkZSByZWNvZ25pemVkVGV4dENvbnRlbnRDbG9zZUxhYmVsID0gJ0luZ2VuJztcbiAgb3ZlcnJpZGUgcmVjb2duaXplZFRleHRDb250ZW50SW5TcGxpdFZpZXdMYWJlbCA9ICdEZWx0JztcbiAgb3ZlcnJpZGUgc2hvd1JlY29nbml6ZWRUZXh0Q29udGVudExhYmVsID0gJ0t1biBkaWdpdGFsIHRla3N0JztcbiAgb3ZlcnJpZGUgbWV0YWRhdGFMYWJlbCA9ICdNZXRhZGF0YSc7XG4gIG92ZXJyaWRlIGxpY2Vuc2VMYWJlbCA9ICdMaXNlbnMnO1xuICBvdmVycmlkZSB0b2NMYWJlbCA9ICdJbm5ob2xkc2ZvcnRlZ25lbHNlJztcbiAgb3ZlcnJpZGUgZnVsbFNjcmVlbkxhYmVsID0gJ0Z1bGxza2plcm0nO1xuICBvdmVycmlkZSBleGl0RnVsbFNjcmVlbkxhYmVsID0gJ0F2c2x1dHQgZnVsbHNramVybSc7XG4gIG92ZXJyaWRlIG9wZW5Pc2RDb250cm9sUGFuZWxMYWJlbCA9ICfDhXBuZSBrb250cm9sbHBhbmVsJztcbiAgb3ZlcnJpZGUgY2xvc2VPc2RDb250cm9sUGFuZWxMYWJlbCA9ICdMdWtrIGtvbnRyb2xscGFuZWwnO1xuICBvdmVycmlkZSB6b29tSW5MYWJlbCA9ICdab29tIGlubic7XG4gIG92ZXJyaWRlIHpvb21PdXRMYWJlbCA9ICdab29tIHV0JztcbiAgb3ZlcnJpZGUgcmVzZXRab29tTGFiZWwgPSAnTnVsbHN0aWxsIHpvb20nO1xuICBvdmVycmlkZSBwcmV2aW91c1BhZ2VMYWJlbCA9ICdGb3JyaWdlIHNpZGUnO1xuICBvdmVycmlkZSBuZXh0UGFnZUxhYmVsID0gJ05lc3RlIHNpZGUnO1xuICBvdmVycmlkZSByb3RhdGVDd0xhYmVsID0gJ1JvdMOpciA5MMKwJztcbiAgb3ZlcnJpZGUgc2VhcmNoTGFiZWwgPSAnU8O4ayc7XG4gIG92ZXJyaWRlIGNsZWFyU2VhcmNoTGFiZWwgPSAnVMO4bSc7XG4gIG92ZXJyaWRlIHByZXZpb3VzSGl0TGFiZWwgPSAnRm9ycmlnZSB0cmVmZic7XG4gIG92ZXJyaWRlIG5leHRIaXRMYWJlbCA9ICdOZXN0ZSB0cmVmZic7XG4gIG92ZXJyaWRlIGdvVG9QYWdlTGFiZWwgPSAnR8OlIHRpbCBzaWRlJztcbiAgb3ZlcnJpZGUgY3VycmVudFBhZ2VMYWJlbCA9ICdOw6V2w6ZyZW5kZSBzaWRlJztcbiAgb3ZlcnJpZGUgZW50ZXJQYWdlTnVtYmVyID0gJ1Nrcml2IGlubiBzaWRlbnVtbWVyJztcbiAgb3ZlcnJpZGUgZHJvcERpc2FibGVkID0gJ0Jla2xhZ2VyLCBtZW4gZHJhZyBhbmQgZHJvcCBlciBpa2tlIGFrdGl2ZXJ0JztcbiAgb3ZlcnJpZGUgbG9hZGluZyA9ICdMYXN0ZXIgLi4uJztcbiAgb3ZlcnJpZGUgcm90YXRpb25Jc05vdFN1cHBvcnRlZCA9ICdSb3Rhc2pvbiBzdMO4dHRlcyBpa2tlIGF2IGVuaGV0ZW4gZGluJztcblxuICAvLyBFUlJPUlNcbiAgb3ZlcnJpZGUgc29tZXRoaW5nSGFzR29uZVdyb25nTGFiZWwgPSAnw4UgbmVpISBOb2UgaGFyIGfDpXR0IGdhbHQuLi4nO1xuICBvdmVycmlkZSBtYW5pZmVzdFVyaU1pc3NpbmdMYWJlbCA9ICdMZW5rZSB0aWwgbWFuaWZlc3QgbWFuZ2xlcic7XG4gIG92ZXJyaWRlIG1hbmlmZXN0Tm90VmFsaWRMYWJlbCA9ICdNYW5pZmVzdGV0IGVyIGlra2UgZ3lsZGlnJztcbiAgb3ZlcnJpZGUgcGFnZURvZXNOb3RFeGlzdHMgPSAnQmVrbGFnZXIsIG1lbiBkZW4gc2lkZW4gZmlubmVzIGlra2UnO1xuICBvdmVycmlkZSB0ZXh0Q29udGVudEVycm9yTGFiZWwgPVxuICAgICdCZWtsYWdlciwgbWVuIGplZyBmaW5uZXIgaWtrZSB0ZWtzdGVuIGZvciBkZWcnO1xuXG4gIG92ZXJyaWRlIG5vUmVzdWx0c0ZvdW5kTGFiZWwgPSAocTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGBJbmdlbiB0cmVmZiBmdW5uZXQgZm9yIDxlbSBjbGFzcz1cImN1cnJlbnQtc2VhcmNoXCI+JHtxfTwvZW0+YDtcbiAgfTtcblxuICBvdmVycmlkZSByZXN1bHRzRm91bmRMYWJlbCA9IChudW1iZXJPZkhpdHM6IG51bWJlciwgcTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGAke251bWJlck9mSGl0c30gdHJlZmYgZnVubmV0IGZvciA8ZW0gY2xhc3M9XCJjdXJyZW50LXNlYXJjaFwiPiR7cX08L2VtPmA7XG4gIH07XG5cbiAgb3ZlcnJpZGUgY3VycmVudEhpdExhYmVsID0gKGN1cnJlbnRIaXQ6IG51bWJlciwgbnVtYmVyT2ZIaXRzOiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4gYCR7Y3VycmVudEhpdH0gYXYgJHtudW1iZXJPZkhpdHN9IHRyZWZmYDtcbiAgfTtcbn1cbiJdfQ==","import { makeEnvironmentProviders, } from '@angular/core';\nimport { Locales } from './locales.enum';\nimport { MimeViewerIntl } from './viewer-intl';\nimport { MimeViewerIntlLt } from './viewer-intl.lt';\nimport { MimeViewerIntlNoNb } from './viewer-intl.no_nb';\nexport const provideMimeViewerIntl = (options) => {\n    const providers = [\n        {\n            provide: MimeViewerIntl,\n            useClass: getMimeViewerIntl(options?.locale),\n        },\n    ];\n    return makeEnvironmentProviders(providers);\n};\nconst getMimeViewerIntl = (locale) => {\n    switch (locale) {\n        case Locales.NORWEGIAN:\n            return MimeViewerIntlNoNb;\n        case Locales.LITHUANIAN:\n            return MimeViewerIntlLt;\n        case Locales.ENGLISH:\n            return MimeViewerIntl;\n        default:\n            return MimeViewerIntl;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLWludGwucHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9pbnRsL3ZpZXdlci1pbnRsLnByb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFTCx3QkFBd0IsR0FHekIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDL0MsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFekQsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsQ0FBQyxPQUVyQyxFQUF3QixFQUFFO0lBQ3pCLE1BQU0sU0FBUyxHQUFlO1FBQzVCO1lBQ0UsT0FBTyxFQUFFLGNBQWM7WUFDdkIsUUFBUSxFQUFFLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUM7U0FDN0M7S0FDRixDQUFDO0lBRUYsT0FBTyx3QkFBd0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM3QyxDQUFDLENBQUM7QUFFRixNQUFNLGlCQUFpQixHQUFHLENBQ3hCLE1BQTJCLEVBQ21DLEVBQUU7SUFDaEUsUUFBUSxNQUFNLEVBQUUsQ0FBQztRQUNmLEtBQUssT0FBTyxDQUFDLFNBQVM7WUFDcEIsT0FBTyxrQkFBa0IsQ0FBQztRQUM1QixLQUFLLE9BQU8sQ0FBQyxVQUFVO1lBQ3JCLE9BQU8sZ0JBQWdCLENBQUM7UUFDMUIsS0FBSyxPQUFPLENBQUMsT0FBTztZQUNsQixPQUFPLGNBQWMsQ0FBQztRQUN4QjtZQUNFLE9BQU8sY0FBYyxDQUFDO0lBQzFCLENBQUM7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBFbnZpcm9ubWVudFByb3ZpZGVycyxcbiAgbWFrZUVudmlyb25tZW50UHJvdmlkZXJzLFxuICBQcm92aWRlcixcbiAgVHlwZSxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBMb2NhbGVzIH0gZnJvbSAnLi9sb2NhbGVzLmVudW0nO1xuaW1wb3J0IHsgTWltZVZpZXdlckludGwgfSBmcm9tICcuL3ZpZXdlci1pbnRsJztcbmltcG9ydCB7IE1pbWVWaWV3ZXJJbnRsTHQgfSBmcm9tICcuL3ZpZXdlci1pbnRsLmx0JztcbmltcG9ydCB7IE1pbWVWaWV3ZXJJbnRsTm9OYiB9IGZyb20gJy4vdmlld2VyLWludGwubm9fbmInO1xuXG5leHBvcnQgY29uc3QgcHJvdmlkZU1pbWVWaWV3ZXJJbnRsID0gKG9wdGlvbnM/OiB7XG4gIGxvY2FsZT86IExvY2FsZXM7XG59KTogRW52aXJvbm1lbnRQcm92aWRlcnMgPT4ge1xuICBjb25zdCBwcm92aWRlcnM6IFByb3ZpZGVyW10gPSBbXG4gICAge1xuICAgICAgcHJvdmlkZTogTWltZVZpZXdlckludGwsXG4gICAgICB1c2VDbGFzczogZ2V0TWltZVZpZXdlckludGwob3B0aW9ucz8ubG9jYWxlKSxcbiAgICB9LFxuICBdO1xuXG4gIHJldHVybiBtYWtlRW52aXJvbm1lbnRQcm92aWRlcnMocHJvdmlkZXJzKTtcbn07XG5cbmNvbnN0IGdldE1pbWVWaWV3ZXJJbnRsID0gKFxuICBsb2NhbGU6IExvY2FsZXMgfCB1bmRlZmluZWQsXG4pOiBUeXBlPE1pbWVWaWV3ZXJJbnRsIHwgTWltZVZpZXdlckludGxOb05iIHwgTWltZVZpZXdlckludGxMdD4gPT4ge1xuICBzd2l0Y2ggKGxvY2FsZSkge1xuICAgIGNhc2UgTG9jYWxlcy5OT1JXRUdJQU46XG4gICAgICByZXR1cm4gTWltZVZpZXdlckludGxOb05iO1xuICAgIGNhc2UgTG9jYWxlcy5MSVRIVUFOSUFOOlxuICAgICAgcmV0dXJuIE1pbWVWaWV3ZXJJbnRsTHQ7XG4gICAgY2FzZSBMb2NhbGVzLkVOR0xJU0g6XG4gICAgICByZXR1cm4gTWltZVZpZXdlckludGw7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBNaW1lVmlld2VySW50bDtcbiAgfVxufTtcbiJdfQ==","export class ModeChanges {\n    constructor(fields) {\n        if (fields) {\n            this.currentValue = fields.currentValue || this.currentValue;\n            this.previousValue = fields.previousValue || this.previousValue;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZS1jaGFuZ2VzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvbW9kZWxzL21vZGUtY2hhbmdlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLE9BQU8sV0FBVztJQUl0QixZQUFZLE1BR1g7UUFDQyxJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsSUFBSSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDN0QsSUFBSSxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUM7UUFDbEUsQ0FBQztJQUNILENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZpZXdlck1vZGUgfSBmcm9tICcuL3ZpZXdlci1tb2RlJztcblxuZXhwb3J0IGNsYXNzIE1vZGVDaGFuZ2VzIHtcbiAgcHVibGljIGN1cnJlbnRWYWx1ZT86IFZpZXdlck1vZGU7XG4gIHB1YmxpYyBwcmV2aW91c1ZhbHVlPzogVmlld2VyTW9kZTtcblxuICBjb25zdHJ1Y3RvcihmaWVsZHM/OiB7XG4gICAgY3VycmVudFZhbHVlPzogVmlld2VyTW9kZTtcbiAgICBwcmV2aW91c1ZhbHVlPzogVmlld2VyTW9kZTtcbiAgfSkge1xuICAgIGlmIChmaWVsZHMpIHtcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gZmllbGRzLmN1cnJlbnRWYWx1ZSB8fCB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICAgIHRoaXMucHJldmlvdXNWYWx1ZSA9IGZpZWxkcy5wcmV2aW91c1ZhbHVlIHx8IHRoaXMucHJldmlvdXNWYWx1ZTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","export var RecognizedTextMode;\n(function (RecognizedTextMode) {\n    RecognizedTextMode[\"NONE\"] = \"NONE\";\n    RecognizedTextMode[\"ONLY\"] = \"ONLY\";\n    RecognizedTextMode[\"SPLIT\"] = \"SPLIT\";\n})(RecognizedTextMode || (RecognizedTextMode = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVjb2duaXplZC10ZXh0LW1vZGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9tb2RlbHMvcmVjb2duaXplZC10ZXh0LW1vZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFOLElBQVksa0JBSVg7QUFKRCxXQUFZLGtCQUFrQjtJQUM1QixtQ0FBYSxDQUFBO0lBQ2IsbUNBQWEsQ0FBQTtJQUNiLHFDQUFlLENBQUE7QUFDakIsQ0FBQyxFQUpXLGtCQUFrQixLQUFsQixrQkFBa0IsUUFJN0IiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBSZWNvZ25pemVkVGV4dE1vZGUge1xuICBOT05FID0gJ05PTkUnLFxuICBPTkxZID0gJ09OTFknLFxuICBTUExJVCA9ICdTUExJVCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVjb2duaXplZFRleHRNb2RlQ2hhbmdlcyB7XG4gIGN1cnJlbnRWYWx1ZTogUmVjb2duaXplZFRleHRNb2RlO1xuICBwcmV2aW91c1ZhbHVlPzogUmVjb2duaXplZFRleHRNb2RlO1xufVxuIl19","export var ViewerMode;\n(function (ViewerMode) {\n    ViewerMode[ViewerMode[\"DASHBOARD\"] = 0] = \"DASHBOARD\";\n    ViewerMode[ViewerMode[\"PAGE\"] = 1] = \"PAGE\";\n    ViewerMode[ViewerMode[\"PAGE_ZOOMED\"] = 2] = \"PAGE_ZOOMED\";\n    ViewerMode[ViewerMode[\"NAVIGATOR\"] = 3] = \"NAVIGATOR\";\n})(ViewerMode || (ViewerMode = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLW1vZGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9tb2RlbHMvdmlld2VyLW1vZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFOLElBQVksVUFLWDtBQUxELFdBQVksVUFBVTtJQUNwQixxREFBUyxDQUFBO0lBQ1QsMkNBQUksQ0FBQTtJQUNKLHlEQUFXLENBQUE7SUFDWCxxREFBUyxDQUFBO0FBQ1gsQ0FBQyxFQUxXLFVBQVUsS0FBVixVQUFVLFFBS3JCIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gVmlld2VyTW9kZSB7XG4gIERBU0hCT0FSRCxcbiAgUEFHRSxcbiAgUEFHRV9aT09NRUQsXG4gIE5BVklHQVRPUixcbn1cbiJdfQ==","export var ViewerLayout;\n(function (ViewerLayout) {\n    ViewerLayout[ViewerLayout[\"ONE_PAGE\"] = 0] = \"ONE_PAGE\";\n    ViewerLayout[ViewerLayout[\"TWO_PAGE\"] = 1] = \"TWO_PAGE\";\n})(ViewerLayout || (ViewerLayout = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLWxheW91dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL21vZGVscy92aWV3ZXItbGF5b3V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBTixJQUFZLFlBR1g7QUFIRCxXQUFZLFlBQVk7SUFDdEIsdURBQVEsQ0FBQTtJQUNSLHVEQUFRLENBQUE7QUFDVixDQUFDLEVBSFcsWUFBWSxLQUFaLFlBQVksUUFHdkIiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBWaWV3ZXJMYXlvdXQge1xuICBPTkVfUEFHRSxcbiAgVFdPX1BBR0UsXG59XG4iXX0=","import { RecognizedTextMode, ViewerMode } from './models';\nimport { ViewerLayout } from './models/viewer-layout';\nexport class MimeViewerConfig {\n    constructor(fields) {\n        this.attributionDialogEnabled = true;\n        this.attributionDialogHideTimeout = -1;\n        this.navigationControlEnabled = true;\n        this.initViewerMode = ViewerMode.PAGE;\n        this.initViewerLayout = ViewerLayout.TWO_PAGE;\n        this.withCredentials = false;\n        this.loadTilesWithAjax = false;\n        this.crossOriginPolicy = false;\n        this.ajaxHeaders = null;\n        this.preserveZoomOnCanvasGroupChange = false;\n        this.startOnTopOnCanvasGroupChange = false;\n        this.isDropEnabled = false;\n        this.initRecognizedTextContentMode = RecognizedTextMode.NONE;\n        this.ignorePhysicalScale = false;\n        if (fields) {\n            this.attributionDialogEnabled =\n                fields.attributionDialogEnabled !== undefined\n                    ? fields.attributionDialogEnabled\n                    : this.attributionDialogEnabled;\n            this.attributionDialogHideTimeout =\n                fields.attributionDialogHideTimeout ||\n                    this.attributionDialogHideTimeout;\n            this.navigationControlEnabled =\n                fields.navigationControlEnabled !== undefined\n                    ? fields.navigationControlEnabled\n                    : this.navigationControlEnabled;\n            this.initViewerMode =\n                fields.initViewerMode !== undefined\n                    ? fields.initViewerMode\n                    : this.initViewerMode;\n            this.initViewerLayout =\n                fields.initViewerLayout !== undefined\n                    ? fields.initViewerLayout\n                    : this.initViewerLayout;\n            this.withCredentials =\n                fields.withCredentials !== undefined\n                    ? fields.withCredentials\n                    : this.withCredentials;\n            this.loadTilesWithAjax =\n                fields.loadTilesWithAjax !== undefined\n                    ? fields.loadTilesWithAjax\n                    : this.loadTilesWithAjax;\n            this.crossOriginPolicy =\n                fields.crossOriginPolicy !== undefined\n                    ? fields.crossOriginPolicy\n                    : this.crossOriginPolicy;\n            this.ajaxHeaders =\n                fields.ajaxHeaders !== undefined\n                    ? fields.ajaxHeaders\n                    : this.ajaxHeaders;\n            this.preserveZoomOnCanvasGroupChange =\n                fields.preserveZoomOnCanvasGroupChange !== undefined\n                    ? fields.preserveZoomOnCanvasGroupChange\n                    : this.preserveZoomOnCanvasGroupChange;\n            this.startOnTopOnCanvasGroupChange =\n                fields.startOnTopOnCanvasGroupChange !== undefined\n                    ? fields.startOnTopOnCanvasGroupChange\n                    : this.startOnTopOnCanvasGroupChange;\n            this.isDropEnabled =\n                fields.isDropEnabled !== undefined\n                    ? fields.isDropEnabled\n                    : this.isDropEnabled;\n            this.initRecognizedTextContentMode =\n                fields.initRecognizedTextContentMode !== undefined\n                    ? fields.initRecognizedTextContentMode\n                    : this.initRecognizedTextContentMode;\n            this.ignorePhysicalScale =\n                fields.ignorePhysicalScale !== undefined\n                    ? fields.ignorePhysicalScale\n                    : this.ignorePhysicalScale;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWltZS12aWV3ZXItY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvbWltZS12aWV3ZXItY29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxVQUFVLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDMUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRXRELE1BQU0sT0FBTyxnQkFBZ0I7SUFvQjNCLFlBQVksTUFlWDtRQWxDTSw2QkFBd0IsR0FBSSxJQUFJLENBQUM7UUFDakMsaUNBQTRCLEdBQUksQ0FBQyxDQUFDLENBQUM7UUFDbkMsNkJBQXdCLEdBQUksSUFBSSxDQUFDO1FBQ2pDLG1CQUFjLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQztRQUNqQyxxQkFBZ0IsR0FBRyxZQUFZLENBQUMsUUFBUSxDQUFDO1FBQ3pDLG9CQUFlLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLHNCQUFpQixHQUFHLEtBQUssQ0FBQztRQUMxQixzQkFBaUIsR0FJUixLQUFLLENBQUM7UUFDZixnQkFBVyxHQUFRLElBQUksQ0FBQztRQUN4QixvQ0FBK0IsR0FBRyxLQUFLLENBQUM7UUFDeEMsa0NBQTZCLEdBQUcsS0FBSyxDQUFDO1FBQ3RDLGtCQUFhLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLGtDQUE2QixHQUFHLGtCQUFrQixDQUFDLElBQUksQ0FBQztRQUN4RCx3QkFBbUIsR0FBRyxLQUFLLENBQUM7UUFrQmpDLElBQUksTUFBTSxFQUFFLENBQUM7WUFDWCxJQUFJLENBQUMsd0JBQXdCO2dCQUMzQixNQUFNLENBQUMsd0JBQXdCLEtBQUssU0FBUztvQkFDM0MsQ0FBQyxDQUFDLE1BQU0sQ0FBQyx3QkFBd0I7b0JBQ2pDLENBQUMsQ0FBQyxJQUFJLENBQUMsd0JBQXdCLENBQUM7WUFFcEMsSUFBSSxDQUFDLDRCQUE0QjtnQkFDL0IsTUFBTSxDQUFDLDRCQUE0QjtvQkFDbkMsSUFBSSxDQUFDLDRCQUE0QixDQUFDO1lBRXBDLElBQUksQ0FBQyx3QkFBd0I7Z0JBQzNCLE1BQU0sQ0FBQyx3QkFBd0IsS0FBSyxTQUFTO29CQUMzQyxDQUFDLENBQUMsTUFBTSxDQUFDLHdCQUF3QjtvQkFDakMsQ0FBQyxDQUFDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQztZQUVwQyxJQUFJLENBQUMsY0FBYztnQkFDakIsTUFBTSxDQUFDLGNBQWMsS0FBSyxTQUFTO29CQUNqQyxDQUFDLENBQUMsTUFBTSxDQUFDLGNBQWM7b0JBQ3ZCLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO1lBRTFCLElBQUksQ0FBQyxnQkFBZ0I7Z0JBQ25CLE1BQU0sQ0FBQyxnQkFBZ0IsS0FBSyxTQUFTO29CQUNuQyxDQUFDLENBQUMsTUFBTSxDQUFDLGdCQUFnQjtvQkFDekIsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztZQUU1QixJQUFJLENBQUMsZUFBZTtnQkFDbEIsTUFBTSxDQUFDLGVBQWUsS0FBSyxTQUFTO29CQUNsQyxDQUFDLENBQUMsTUFBTSxDQUFDLGVBQWU7b0JBQ3hCLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDO1lBRTNCLElBQUksQ0FBQyxpQkFBaUI7Z0JBQ3BCLE1BQU0sQ0FBQyxpQkFBaUIsS0FBSyxTQUFTO29CQUNwQyxDQUFDLENBQUMsTUFBTSxDQUFDLGlCQUFpQjtvQkFDMUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztZQUU3QixJQUFJLENBQUMsaUJBQWlCO2dCQUNwQixNQUFNLENBQUMsaUJBQWlCLEtBQUssU0FBUztvQkFDcEMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUI7b0JBQzFCLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7WUFFN0IsSUFBSSxDQUFDLFdBQVc7Z0JBQ2QsTUFBTSxDQUFDLFdBQVcsS0FBSyxTQUFTO29CQUM5QixDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVc7b0JBQ3BCLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBRXZCLElBQUksQ0FBQywrQkFBK0I7Z0JBQ2xDLE1BQU0sQ0FBQywrQkFBK0IsS0FBSyxTQUFTO29CQUNsRCxDQUFDLENBQUMsTUFBTSxDQUFDLCtCQUErQjtvQkFDeEMsQ0FBQyxDQUFDLElBQUksQ0FBQywrQkFBK0IsQ0FBQztZQUUzQyxJQUFJLENBQUMsNkJBQTZCO2dCQUNoQyxNQUFNLENBQUMsNkJBQTZCLEtBQUssU0FBUztvQkFDaEQsQ0FBQyxDQUFDLE1BQU0sQ0FBQyw2QkFBNkI7b0JBQ3RDLENBQUMsQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUM7WUFFekMsSUFBSSxDQUFDLGFBQWE7Z0JBQ2hCLE1BQU0sQ0FBQyxhQUFhLEtBQUssU0FBUztvQkFDaEMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxhQUFhO29CQUN0QixDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQztZQUV6QixJQUFJLENBQUMsNkJBQTZCO2dCQUNoQyxNQUFNLENBQUMsNkJBQTZCLEtBQUssU0FBUztvQkFDaEQsQ0FBQyxDQUFDLE1BQU0sQ0FBQyw2QkFBNkI7b0JBQ3RDLENBQUMsQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUM7WUFFekMsSUFBSSxDQUFDLG1CQUFtQjtnQkFDdEIsTUFBTSxDQUFDLG1CQUFtQixLQUFLLFNBQVM7b0JBQ3RDLENBQUMsQ0FBQyxNQUFNLENBQUMsbUJBQW1CO29CQUM1QixDQUFDLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDO1FBQ2pDLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWNvZ25pemVkVGV4dE1vZGUsIFZpZXdlck1vZGUgfSBmcm9tICcuL21vZGVscyc7XG5pbXBvcnQgeyBWaWV3ZXJMYXlvdXQgfSBmcm9tICcuL21vZGVscy92aWV3ZXItbGF5b3V0JztcblxuZXhwb3J0IGNsYXNzIE1pbWVWaWV3ZXJDb25maWcge1xuICBwdWJsaWMgYXR0cmlidXRpb25EaWFsb2dFbmFibGVkPyA9IHRydWU7XG4gIHB1YmxpYyBhdHRyaWJ1dGlvbkRpYWxvZ0hpZGVUaW1lb3V0PyA9IC0xO1xuICBwdWJsaWMgbmF2aWdhdGlvbkNvbnRyb2xFbmFibGVkPyA9IHRydWU7XG4gIHB1YmxpYyBpbml0Vmlld2VyTW9kZSA9IFZpZXdlck1vZGUuUEFHRTtcbiAgcHVibGljIGluaXRWaWV3ZXJMYXlvdXQgPSBWaWV3ZXJMYXlvdXQuVFdPX1BBR0U7XG4gIHB1YmxpYyB3aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTtcbiAgcHVibGljIGxvYWRUaWxlc1dpdGhBamF4ID0gZmFsc2U7XG4gIHB1YmxpYyBjcm9zc09yaWdpblBvbGljeTpcbiAgICB8ICdBbm9ueW1vdXMnXG4gICAgfCAndXNlLWNyZWRlbnRpYWxzJ1xuICAgIHwgZmFsc2VcbiAgICB8IHVuZGVmaW5lZCA9IGZhbHNlO1xuICBwdWJsaWMgYWpheEhlYWRlcnM6IGFueSA9IG51bGw7XG4gIHB1YmxpYyBwcmVzZXJ2ZVpvb21PbkNhbnZhc0dyb3VwQ2hhbmdlID0gZmFsc2U7XG4gIHB1YmxpYyBzdGFydE9uVG9wT25DYW52YXNHcm91cENoYW5nZSA9IGZhbHNlO1xuICBwdWJsaWMgaXNEcm9wRW5hYmxlZCA9IGZhbHNlO1xuICBwdWJsaWMgaW5pdFJlY29nbml6ZWRUZXh0Q29udGVudE1vZGUgPSBSZWNvZ25pemVkVGV4dE1vZGUuTk9ORTtcbiAgcHVibGljIGlnbm9yZVBoeXNpY2FsU2NhbGUgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihmaWVsZHM/OiB7XG4gICAgYXR0cmlidXRpb25EaWFsb2dFbmFibGVkPzogYm9vbGVhbjtcbiAgICBhdHRyaWJ1dGlvbkRpYWxvZ0hpZGVUaW1lb3V0PzogbnVtYmVyO1xuICAgIG5hdmlnYXRpb25Db250cm9sRW5hYmxlZD86IGJvb2xlYW47XG4gICAgaW5pdFZpZXdlck1vZGU/OiBWaWV3ZXJNb2RlO1xuICAgIGluaXRWaWV3ZXJMYXlvdXQ/OiBWaWV3ZXJMYXlvdXQ7XG4gICAgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjtcbiAgICBsb2FkVGlsZXNXaXRoQWpheD86IGJvb2xlYW47XG4gICAgY3Jvc3NPcmlnaW5Qb2xpY3k/OiAnQW5vbnltb3VzJyB8ICd1c2UtY3JlZGVudGlhbHMnIHwgZmFsc2UgfCB1bmRlZmluZWQ7XG4gICAgYWpheEhlYWRlcnM/OiBhbnk7XG4gICAgcHJlc2VydmVab29tT25DYW52YXNHcm91cENoYW5nZT86IGJvb2xlYW47XG4gICAgc3RhcnRPblRvcE9uQ2FudmFzR3JvdXBDaGFuZ2U/OiBib29sZWFuO1xuICAgIGlzRHJvcEVuYWJsZWQ/OiBib29sZWFuO1xuICAgIGluaXRSZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlPzogUmVjb2duaXplZFRleHRNb2RlO1xuICAgIGlnbm9yZVBoeXNpY2FsU2NhbGU/OiBib29sZWFuO1xuICB9KSB7XG4gICAgaWYgKGZpZWxkcykge1xuICAgICAgdGhpcy5hdHRyaWJ1dGlvbkRpYWxvZ0VuYWJsZWQgPVxuICAgICAgICBmaWVsZHMuYXR0cmlidXRpb25EaWFsb2dFbmFibGVkICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGZpZWxkcy5hdHRyaWJ1dGlvbkRpYWxvZ0VuYWJsZWRcbiAgICAgICAgICA6IHRoaXMuYXR0cmlidXRpb25EaWFsb2dFbmFibGVkO1xuXG4gICAgICB0aGlzLmF0dHJpYnV0aW9uRGlhbG9nSGlkZVRpbWVvdXQgPVxuICAgICAgICBmaWVsZHMuYXR0cmlidXRpb25EaWFsb2dIaWRlVGltZW91dCB8fFxuICAgICAgICB0aGlzLmF0dHJpYnV0aW9uRGlhbG9nSGlkZVRpbWVvdXQ7XG5cbiAgICAgIHRoaXMubmF2aWdhdGlvbkNvbnRyb2xFbmFibGVkID1cbiAgICAgICAgZmllbGRzLm5hdmlnYXRpb25Db250cm9sRW5hYmxlZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBmaWVsZHMubmF2aWdhdGlvbkNvbnRyb2xFbmFibGVkXG4gICAgICAgICAgOiB0aGlzLm5hdmlnYXRpb25Db250cm9sRW5hYmxlZDtcblxuICAgICAgdGhpcy5pbml0Vmlld2VyTW9kZSA9XG4gICAgICAgIGZpZWxkcy5pbml0Vmlld2VyTW9kZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBmaWVsZHMuaW5pdFZpZXdlck1vZGVcbiAgICAgICAgICA6IHRoaXMuaW5pdFZpZXdlck1vZGU7XG5cbiAgICAgIHRoaXMuaW5pdFZpZXdlckxheW91dCA9XG4gICAgICAgIGZpZWxkcy5pbml0Vmlld2VyTGF5b3V0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGZpZWxkcy5pbml0Vmlld2VyTGF5b3V0XG4gICAgICAgICAgOiB0aGlzLmluaXRWaWV3ZXJMYXlvdXQ7XG5cbiAgICAgIHRoaXMud2l0aENyZWRlbnRpYWxzID1cbiAgICAgICAgZmllbGRzLndpdGhDcmVkZW50aWFscyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBmaWVsZHMud2l0aENyZWRlbnRpYWxzXG4gICAgICAgICAgOiB0aGlzLndpdGhDcmVkZW50aWFscztcblxuICAgICAgdGhpcy5sb2FkVGlsZXNXaXRoQWpheCA9XG4gICAgICAgIGZpZWxkcy5sb2FkVGlsZXNXaXRoQWpheCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBmaWVsZHMubG9hZFRpbGVzV2l0aEFqYXhcbiAgICAgICAgICA6IHRoaXMubG9hZFRpbGVzV2l0aEFqYXg7XG5cbiAgICAgIHRoaXMuY3Jvc3NPcmlnaW5Qb2xpY3kgPVxuICAgICAgICBmaWVsZHMuY3Jvc3NPcmlnaW5Qb2xpY3kgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gZmllbGRzLmNyb3NzT3JpZ2luUG9saWN5XG4gICAgICAgICAgOiB0aGlzLmNyb3NzT3JpZ2luUG9saWN5O1xuXG4gICAgICB0aGlzLmFqYXhIZWFkZXJzID1cbiAgICAgICAgZmllbGRzLmFqYXhIZWFkZXJzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGZpZWxkcy5hamF4SGVhZGVyc1xuICAgICAgICAgIDogdGhpcy5hamF4SGVhZGVycztcblxuICAgICAgdGhpcy5wcmVzZXJ2ZVpvb21PbkNhbnZhc0dyb3VwQ2hhbmdlID1cbiAgICAgICAgZmllbGRzLnByZXNlcnZlWm9vbU9uQ2FudmFzR3JvdXBDaGFuZ2UgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gZmllbGRzLnByZXNlcnZlWm9vbU9uQ2FudmFzR3JvdXBDaGFuZ2VcbiAgICAgICAgICA6IHRoaXMucHJlc2VydmVab29tT25DYW52YXNHcm91cENoYW5nZTtcblxuICAgICAgdGhpcy5zdGFydE9uVG9wT25DYW52YXNHcm91cENoYW5nZSA9XG4gICAgICAgIGZpZWxkcy5zdGFydE9uVG9wT25DYW52YXNHcm91cENoYW5nZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBmaWVsZHMuc3RhcnRPblRvcE9uQ2FudmFzR3JvdXBDaGFuZ2VcbiAgICAgICAgICA6IHRoaXMuc3RhcnRPblRvcE9uQ2FudmFzR3JvdXBDaGFuZ2U7XG5cbiAgICAgIHRoaXMuaXNEcm9wRW5hYmxlZCA9XG4gICAgICAgIGZpZWxkcy5pc0Ryb3BFbmFibGVkICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGZpZWxkcy5pc0Ryb3BFbmFibGVkXG4gICAgICAgICAgOiB0aGlzLmlzRHJvcEVuYWJsZWQ7XG5cbiAgICAgIHRoaXMuaW5pdFJlY29nbml6ZWRUZXh0Q29udGVudE1vZGUgPVxuICAgICAgICBmaWVsZHMuaW5pdFJlY29nbml6ZWRUZXh0Q29udGVudE1vZGUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gZmllbGRzLmluaXRSZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlXG4gICAgICAgICAgOiB0aGlzLmluaXRSZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlO1xuXG4gICAgICB0aGlzLmlnbm9yZVBoeXNpY2FsU2NhbGUgPVxuICAgICAgICBmaWVsZHMuaWdub3JlUGh5c2ljYWxTY2FsZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBmaWVsZHMuaWdub3JlUGh5c2ljYWxTY2FsZVxuICAgICAgICAgIDogdGhpcy5pZ25vcmVQaHlzaWNhbFNjYWxlO1xuICAgIH1cbiAgfVxufVxuIl19","export var ViewingDirection;\n(function (ViewingDirection) {\n    ViewingDirection[\"LTR\"] = \"ltr\";\n    ViewingDirection[\"RTL\"] = \"rtl\";\n})(ViewingDirection || (ViewingDirection = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2luZy1kaXJlY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9tb2RlbHMvdmlld2luZy1kaXJlY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFOLElBQVksZ0JBR1g7QUFIRCxXQUFZLGdCQUFnQjtJQUMxQiwrQkFBVyxDQUFBO0lBQ1gsK0JBQVcsQ0FBQTtBQUNiLENBQUMsRUFIVyxnQkFBZ0IsS0FBaEIsZ0JBQWdCLFFBRzNCIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gVmlld2luZ0RpcmVjdGlvbiB7XG4gIExUUiA9ICdsdHInLFxuICBSVEwgPSAncnRsJyxcbn1cbiJdfQ==","import { ViewingDirection } from './viewing-direction';\nexport class Manifest {\n    constructor(fields) {\n        this.viewingDirection = ViewingDirection.LTR;\n        this.label = '';\n        this.structures = [];\n        if (fields) {\n            this.context = fields.context || this.context;\n            this.type = fields.type || this.type;\n            this.id = fields.id || this.id;\n            this.viewingDirection = fields.viewingDirection || this.viewingDirection;\n            this.label = fields.label || this.label;\n            this.metadata = fields.metadata || this.metadata;\n            this.license = fields.license || this.license;\n            this.logo = fields.logo || this.logo;\n            this.attribution = fields.attribution || this.attribution;\n            this.service = fields.service || this.service;\n            this.sequences = fields.sequences || this.sequences;\n            this.structures = fields.structures || this.structures;\n            this.tileSource = fields.tileSource || this.tileSource;\n            this.viewingHint = fields.viewingHint || this.viewingHint;\n        }\n    }\n}\nexport class Metadata {\n    constructor(label, value) {\n        this.label = label;\n        this.value = value;\n    }\n}\nexport class Sequence {\n    constructor(fields) {\n        if (fields) {\n            this.id = fields.id || this.id;\n            this.type = fields.type || this.type;\n            this.label = fields.label || this.label;\n            this.viewingHint = fields.viewingHint || this.viewingHint;\n            this.canvases = fields.canvases || this.canvases;\n        }\n    }\n}\nexport class Canvas {\n    constructor(fields) {\n        if (fields) {\n            this.id = fields.id || this.id;\n            this.type = fields.type || this.type;\n            this.label = fields.label || this.label;\n            this.thumbnail = fields.thumbnail || this.thumbnail;\n            this.height = fields.height || this.height;\n            this.width = fields.width || this.width;\n            this.images = fields.images || this.images;\n            this.altoUrl = fields.altoUrl || this.altoUrl;\n        }\n    }\n}\nexport class Images {\n    constructor(fields) {\n        if (fields) {\n            this.id = fields.id || this.id;\n            this.type = fields.type || this.type;\n            this.motivation = fields.motivation || this.motivation;\n            this.resource = fields.resource || this.resource;\n            this.on = fields.on || this.on;\n        }\n    }\n}\nexport class Resource {\n    constructor(fields) {\n        this.height = 0;\n        this.width = 0;\n        this.tileOverlap = 0;\n        if (fields) {\n            this.id = fields.id;\n            this.type = fields.type || this.type;\n            this.format = fields.format || this.format;\n            this.service = fields.service || this.service;\n            this.height = fields.height || this.height;\n            this.width = fields.width || this.width;\n            this.tileOverlap = fields.tileOverlap || this.tileOverlap;\n        }\n    }\n}\nexport class Service {\n    constructor(fields) {\n        this.width = 0;\n        this.height = 0;\n        if (fields) {\n            this.context = fields.context || this.context;\n            this.id = fields.id || this.id;\n            this.protocol = fields.protocol || this.protocol;\n            this.width = fields.width || this.width;\n            this.height = fields.height || this.height;\n            this.sizes = fields.sizes || this.sizes;\n            this.tiles = fields.tiles || this.tiles;\n            this.profile = fields.profile || this.profile;\n            this.physicalScale = fields.physicalScale || this.physicalScale;\n            this.physicalUnits = fields.physicalUnits || this.physicalUnits;\n            this.service = fields.service || this.service;\n        }\n    }\n}\nexport class Size {\n    constructor(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n}\nexport class Tile {\n    constructor(fields) {\n        if (fields) {\n            this.width = fields.width || this.width;\n            this.scaleFactors = fields.scaleFactors || this.scaleFactors;\n        }\n    }\n}\nexport class Structure {\n    constructor(fields) {\n        this.type = '';\n        this.canvases = [];\n        this.canvasIndex = 0;\n        if (fields) {\n            this.id = fields.id || this.id;\n            this.type = fields.type || this.type;\n            this.label = fields.label || this.label;\n            this.canvases = fields.canvases || this.canvases;\n            this.canvasIndex = fields.canvasIndex;\n        }\n    }\n}\nexport class TileSource {\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFuaWZlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9tb2RlbHMvbWFuaWZlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFdkQsTUFBTSxPQUFPLFFBQVE7SUFnQm5CLFlBQVksTUFlWDtRQTNCTSxxQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUM7UUFDeEMsVUFBSyxHQUFHLEVBQUUsQ0FBQztRQU9YLGVBQVUsR0FBaUIsRUFBRSxDQUFDO1FBb0JuQyxJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDOUMsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDckMsSUFBSSxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUM7WUFDekUsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDeEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDakQsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDOUMsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDckMsSUFB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SSxNQUFNLEVBQUUsQ0FBQztZQUNYLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQy9ELENBQUM7SUFDSCxDQUFDO0NBQ0Y7QUFFRCxNQUFNLE9BQU8sU0FBUztJQU9wQixZQUFZLE1BTVg7UUFYTSxTQUFJLEdBQUcsRUFBRSxDQUFDO1FBRVYsYUFBUSxHQUFhLEVBQUUsQ0FBQztRQUN4QixnQkFBVyxHQUFHLENBQUMsQ0FBQztRQVNyQixJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsSUFBSSxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDckMsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDeEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDakQsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO1FBQ3hDLENBQUM7SUFDSCxDQUFDO0NBQ0Y7QUFFRCxNQUFNLE9BQU8sVUFBVTtDQUFHIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmlld2luZ0RpcmVjdGlvbiB9IGZyb20gJy4vdmlld2luZy1kaXJlY3Rpb24nO1xuXG5leHBvcnQgY2xhc3MgTWFuaWZlc3Qge1xuICBwdWJsaWMgY29udGV4dD86IHN0cmluZztcbiAgcHVibGljIHR5cGU/OiBzdHJpbmc7XG4gIHB1YmxpYyBpZD86IHN0cmluZztcbiAgcHVibGljIHZpZXdpbmdEaXJlY3Rpb24gPSBWaWV3aW5nRGlyZWN0aW9uLkxUUjtcbiAgcHVibGljIGxhYmVsID0gJyc7XG4gIHB1YmxpYyBtZXRhZGF0YT86IE1ldGFkYXRhW107XG4gIHB1YmxpYyBsaWNlbnNlPzogc3RyaW5nO1xuICBwdWJsaWMgbG9nbz86IHN0cmluZztcbiAgcHVibGljIGF0dHJpYnV0aW9uPzogc3RyaW5nO1xuICBwdWJsaWMgc2VydmljZT86IFNlcnZpY2U7XG4gIHB1YmxpYyBzZXF1ZW5jZXM/OiBTZXF1ZW5jZVtdO1xuICBwdWJsaWMgc3RydWN0dXJlcz86IFN0cnVjdHVyZVtdID0gW107XG4gIHB1YmxpYyB0aWxlU291cmNlPzogUmVzb3VyY2VbXTtcbiAgcHVibGljIHZpZXdpbmdIaW50Pzogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGZpZWxkcz86IHtcbiAgICBjb250ZXh0Pzogc3RyaW5nO1xuICAgIHR5cGU/OiBzdHJpbmc7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgdmlld2luZ0RpcmVjdGlvbj86IFZpZXdpbmdEaXJlY3Rpb247XG4gICAgbGFiZWw/OiBzdHJpbmc7XG4gICAgbWV0YWRhdGE/OiBNZXRhZGF0YVtdO1xuICAgIGxpY2Vuc2U/OiBzdHJpbmc7XG4gICAgbG9nbz86IHN0cmluZztcbiAgICBhdHRyaWJ1dGlvbj86IHN0cmluZztcbiAgICBzZXJ2aWNlPzogU2VydmljZTtcbiAgICBzZXF1ZW5jZXM/OiBTZXF1ZW5jZVtdO1xuICAgIHN0cnVjdHVyZXM/OiBTdHJ1Y3R1cmVbXTtcbiAgICB0aWxlU291cmNlPzogUmVzb3VyY2VbXTtcbiAgICB2aWV3aW5nSGludD86IHN0cmluZztcbiAgfSkge1xuICAgIGlmIChmaWVsZHMpIHtcbiAgICAgIHRoaXMuY29udGV4dCA9IGZpZWxkcy5jb250ZXh0IHx8IHRoaXMuY29udGV4dDtcbiAgICAgIHRoaXMudHlwZSA9IGZpZWxkcy50eXBlIHx8IHRoaXMudHlwZTtcbiAgICAgIHRoaXMuaWQgPSBmaWVsZHMuaWQgfHwgdGhpcy5pZDtcbiAgICAgIHRoaXMudmlld2luZ0RpcmVjdGlvbiA9IGZpZWxkcy52aWV3aW5nRGlyZWN0aW9uIHx8IHRoaXMudmlld2luZ0RpcmVjdGlvbjtcbiAgICAgIHRoaXMubGFiZWwgPSBmaWVsZHMubGFiZWwgfHwgdGhpcy5sYWJlbDtcbiAgICAgIHRoaXMubWV0YWRhdGEgPSBmaWVsZHMubWV0YWRhdGEgfHwgdGhpcy5tZXRhZGF0YTtcbiAgICAgIHRoaXMubGljZW5zZSA9IGZpZWxkcy5saWNlbnNlIHx8IHRoaXMubGljZW5zZTtcbiAgICAgIHRoaXMubG9nbyA9IGZpZWxkcy5sb2dvIHx8IHRoaXMubG9nbztcbiAgICAgIHRoaXMuYXR0cmlidXRpb24gPSBmaWVsZHMuYXR0cmlidXRpb24gfHwgdGhpcy5hdHRyaWJ1dGlvbjtcbiAgICAgIHRoaXMuc2VydmljZSA9IGZpZWxkcy5zZXJ2aWNlIHx8IHRoaXMuc2VydmljZTtcbiAgICAgIHRoaXMuc2VxdWVuY2VzID0gZmllbGRzLnNlcXVlbmNlcyB8fCB0aGlzLnNlcXVlbmNlcztcbiAgICAgIHRoaXMuc3RydWN0dXJlcyA9IGZpZWxkcy5zdHJ1Y3R1cmVzIHx8IHRoaXMuc3RydWN0dXJlcztcbiAgICAgIHRoaXMudGlsZVNvdXJjZSA9IGZpZWxkcy50aWxlU291cmNlIHx8IHRoaXMudGlsZVNvdXJjZTtcbiAgICAgIHRoaXMudmlld2luZ0hpbnQgPSBmaWVsZHMudmlld2luZ0hpbnQgfHwgdGhpcy52aWV3aW5nSGludDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1ldGFkYXRhIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGxhYmVsOiBzdHJpbmcsXG4gICAgcHVibGljIHZhbHVlOiBzdHJpbmcgfCBudW1iZXIsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIFNlcXVlbmNlIHtcbiAgcHVibGljIGlkPzogc3RyaW5nO1xuICBwdWJsaWMgdHlwZT86IHN0cmluZztcbiAgcHVibGljIGxhYmVsPzogc3RyaW5nO1xuICBwdWJsaWMgdmlld2luZ0hpbnQ/OiBzdHJpbmc7XG4gIHB1YmxpYyBjYW52YXNlcz86IENhbnZhc1tdO1xuXG4gIGNvbnN0cnVjdG9yKGZpZWxkcz86IHtcbiAgICBpZD86IHN0cmluZztcbiAgICB0eXBlPzogc3RyaW5nO1xuICAgIGxhYmVsPzogc3RyaW5nO1xuICAgIHZpZXdpbmdIaW50Pzogc3RyaW5nO1xuICAgIGNhbnZhc2VzPzogQ2FudmFzW107XG4gIH0pIHtcbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICB0aGlzLmlkID0gZmllbGRzLmlkIHx8IHRoaXMuaWQ7XG4gICAgICB0aGlzLnR5cGUgPSBmaWVsZHMudHlwZSB8fCB0aGlzLnR5cGU7XG4gICAgICB0aGlzLmxhYmVsID0gZmllbGRzLmxhYmVsIHx8IHRoaXMubGFiZWw7XG4gICAgICB0aGlzLnZpZXdpbmdIaW50ID0gZmllbGRzLnZpZXdpbmdIaW50IHx8IHRoaXMudmlld2luZ0hpbnQ7XG4gICAgICB0aGlzLmNhbnZhc2VzID0gZmllbGRzLmNhbnZhc2VzIHx8IHRoaXMuY2FudmFzZXM7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDYW52YXMge1xuICBwdWJsaWMgaWQ/OiBzdHJpbmc7XG4gIHB1YmxpYyB0eXBlPzogc3RyaW5nO1xuICBwdWJsaWMgbGFiZWw/OiBzdHJpbmc7XG4gIHB1YmxpYyB0aHVtYm5haWw/OiBzdHJpbmc7XG4gIHB1YmxpYyBoZWlnaHQ/OiBudW1iZXI7XG4gIHB1YmxpYyB3aWR0aD86IG51bWJlcjtcbiAgcHVibGljIGltYWdlcz86IEltYWdlc1tdO1xuICBwdWJsaWMgYWx0b1VybD86IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihmaWVsZHM/OiB7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgdHlwZT86IHN0cmluZztcbiAgICBsYWJlbD86IHN0cmluZztcbiAgICB0aHVtYm5haWw/OiBzdHJpbmc7XG4gICAgaGVpZ2h0PzogbnVtYmVyO1xuICAgIHdpZHRoPzogbnVtYmVyO1xuICAgIGltYWdlcz86IEltYWdlc1tdO1xuICAgIGFsdG9Vcmw/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICB0aGlzLmlkID0gZmllbGRzLmlkIHx8IHRoaXMuaWQ7XG4gICAgICB0aGlzLnR5cGUgPSBmaWVsZHMudHlwZSB8fCB0aGlzLnR5cGU7XG4gICAgICB0aGlzLmxhYmVsID0gZmllbGRzLmxhYmVsIHx8IHRoaXMubGFiZWw7XG4gICAgICB0aGlzLnRodW1ibmFpbCA9IGZpZWxkcy50aHVtYm5haWwgfHwgdGhpcy50aHVtYm5haWw7XG4gICAgICB0aGlzLmhlaWdodCA9IGZpZWxkcy5oZWlnaHQgfHwgdGhpcy5oZWlnaHQ7XG4gICAgICB0aGlzLndpZHRoID0gZmllbGRzLndpZHRoIHx8IHRoaXMud2lkdGg7XG4gICAgICB0aGlzLmltYWdlcyA9IGZpZWxkcy5pbWFnZXMgfHwgdGhpcy5pbWFnZXM7XG4gICAgICB0aGlzLmFsdG9VcmwgPSBmaWVsZHMuYWx0b1VybCB8fCB0aGlzLmFsdG9Vcmw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbWFnZXMge1xuICBwdWJsaWMgaWQ/OiBzdHJpbmc7XG4gIHB1YmxpYyB0eXBlPzogc3RyaW5nO1xuICBwdWJsaWMgbW90aXZhdGlvbj86IHN0cmluZztcbiAgcHVibGljIHJlc291cmNlPzogUmVzb3VyY2U7XG4gIHB1YmxpYyBvbj86IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihmaWVsZHM/OiB7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgdHlwZT86IHN0cmluZztcbiAgICBtb3RpdmF0aW9uPzogc3RyaW5nO1xuICAgIHJlc291cmNlPzogUmVzb3VyY2U7XG4gICAgb24/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICB0aGlzLmlkID0gZmllbGRzLmlkIHx8IHRoaXMuaWQ7XG4gICAgICB0aGlzLnR5cGUgPSBmaWVsZHMudHlwZSB8fCB0aGlzLnR5cGU7XG4gICAgICB0aGlzLm1vdGl2YXRpb24gPSBmaWVsZHMubW90aXZhdGlvbiB8fCB0aGlzLm1vdGl2YXRpb247XG4gICAgICB0aGlzLnJlc291cmNlID0gZmllbGRzLnJlc291cmNlIHx8IHRoaXMucmVzb3VyY2U7XG4gICAgICB0aGlzLm9uID0gZmllbGRzLm9uIHx8IHRoaXMub247XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZSB7XG4gIHB1YmxpYyBpZCE6IHN0cmluZztcbiAgcHVibGljIHR5cGU/OiBzdHJpbmc7XG4gIHB1YmxpYyBmb3JtYXQ/OiBzdHJpbmc7XG4gIHB1YmxpYyBzZXJ2aWNlPzogU2VydmljZTtcbiAgcHVibGljIGhlaWdodCA9IDA7XG4gIHB1YmxpYyB3aWR0aCA9IDA7XG4gIHB1YmxpYyB0aWxlT3ZlcmxhcCA9IDA7XG5cbiAgY29uc3RydWN0b3IoZmllbGRzPzoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgdHlwZT86IHN0cmluZztcbiAgICBmb3JtYXQ/OiBzdHJpbmc7XG4gICAgc2VydmljZT86IFNlcnZpY2U7XG4gICAgaGVpZ2h0PzogbnVtYmVyO1xuICAgIHdpZHRoPzogbnVtYmVyO1xuICAgIHRpbGVPdmVybGFwPzogbnVtYmVyO1xuICB9KSB7XG4gICAgaWYgKGZpZWxkcykge1xuICAgICAgdGhpcy5pZCA9IGZpZWxkcy5pZDtcbiAgICAgIHRoaXMudHlwZSA9IGZpZWxkcy50eXBlIHx8IHRoaXMudHlwZTtcbiAgICAgIHRoaXMuZm9ybWF0ID0gZmllbGRzLmZvcm1hdCB8fCB0aGlzLmZvcm1hdDtcbiAgICAgIHRoaXMuc2VydmljZSA9IGZpZWxkcy5zZXJ2aWNlIHx8IHRoaXMuc2VydmljZTtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gZmllbGRzLmhlaWdodCB8fCB0aGlzLmhlaWdodDtcbiAgICAgIHRoaXMud2lkdGggPSBmaWVsZHMud2lkdGggfHwgdGhpcy53aWR0aDtcbiAgICAgIHRoaXMudGlsZU92ZXJsYXAgPSBmaWVsZHMudGlsZU92ZXJsYXAgfHwgdGhpcy50aWxlT3ZlcmxhcDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNlcnZpY2Uge1xuICBwdWJsaWMgY29udGV4dD86IHN0cmluZztcbiAgcHVibGljIGlkPzogc3RyaW5nO1xuICBwdWJsaWMgcHJvdG9jb2w/OiBzdHJpbmc7XG4gIHB1YmxpYyB3aWR0aCA9IDA7XG4gIHB1YmxpYyBoZWlnaHQgPSAwO1xuICBwdWJsaWMgc2l6ZXM/OiBTaXplW107XG4gIHB1YmxpYyB0aWxlcz86IFRpbGVbXTtcbiAgcHVibGljIHByb2ZpbGU/OiBzdHJpbmc7XG4gIHB1YmxpYyBwaHlzaWNhbFNjYWxlPzogbnVtYmVyO1xuICBwdWJsaWMgcGh5c2ljYWxVbml0cz86IHN0cmluZztcbiAgcHVibGljIHNlcnZpY2U/OiBTZXJ2aWNlO1xuXG4gIGNvbnN0cnVjdG9yKGZpZWxkcz86IHtcbiAgICBjb250ZXh0Pzogc3RyaW5nO1xuICAgIGlkPzogc3RyaW5nO1xuICAgIHByb3RvY29sPzogc3RyaW5nO1xuICAgIHdpZHRoPzogbnVtYmVyO1xuICAgIGhlaWdodD86IG51bWJlcjtcbiAgICBzaXplcz86IFNpemVbXTtcbiAgICB0aWxlcz86IFRpbGVbXTtcbiAgICBwcm9maWxlPzogc3RyaW5nO1xuICAgIHBoeXNpY2FsU2NhbGU/OiBudW1iZXI7XG4gICAgcGh5c2ljYWxVbml0cz86IHN0cmluZztcbiAgICBzZXJ2aWNlPzogU2VydmljZTtcbiAgfSkge1xuICAgIGlmIChmaWVsZHMpIHtcbiAgICAgIHRoaXMuY29udGV4dCA9IGZpZWxkcy5jb250ZXh0IHx8IHRoaXMuY29udGV4dDtcbiAgICAgIHRoaXMuaWQgPSBmaWVsZHMuaWQgfHwgdGhpcy5pZDtcbiAgICAgIHRoaXMucHJvdG9jb2wgPSBmaWVsZHMucHJvdG9jb2wgfHwgdGhpcy5wcm90b2NvbDtcbiAgICAgIHRoaXMud2lkdGggPSBmaWVsZHMud2lkdGggfHwgdGhpcy53aWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gZmllbGRzLmhlaWdodCB8fCB0aGlzLmhlaWdodDtcbiAgICAgIHRoaXMuc2l6ZXMgPSBmaWVsZHMuc2l6ZXMgfHwgdGhpcy5zaXplcztcbiAgICAgIHRoaXMudGlsZXMgPSBmaWVsZHMudGlsZXMgfHwgdGhpcy50aWxlcztcbiAgICAgIHRoaXMucHJvZmlsZSA9IGZpZWxkcy5wcm9maWxlIHx8IHRoaXMucHJvZmlsZTtcbiAgICAgIHRoaXMucGh5c2ljYWxTY2FsZSA9IGZpZWxkcy5waHlzaWNhbFNjYWxlIHx8IHRoaXMucGh5c2ljYWxTY2FsZTtcbiAgICAgIHRoaXMucGh5c2ljYWxVbml0cyA9IGZpZWxkcy5waHlzaWNhbFVuaXRzIHx8IHRoaXMucGh5c2ljYWxVbml0cztcbiAgICAgIHRoaXMuc2VydmljZSA9IGZpZWxkcy5zZXJ2aWNlIHx8IHRoaXMuc2VydmljZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNpemUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcixcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXIsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIFRpbGUge1xuICBwdWJsaWMgd2lkdGg/OiBudW1iZXI7XG4gIHB1YmxpYyBzY2FsZUZhY3RvcnM/OiBudW1iZXJbXTtcblxuICBjb25zdHJ1Y3RvcihmaWVsZHM/OiB7IHdpZHRoPzogbnVtYmVyOyBzY2FsZUZhY3RvcnM/OiBudW1iZXJbXSB9KSB7XG4gICAgaWYgKGZpZWxkcykge1xuICAgICAgdGhpcy53aWR0aCA9IGZpZWxkcy53aWR0aCB8fCB0aGlzLndpZHRoO1xuICAgICAgdGhpcy5zY2FsZUZhY3RvcnMgPSBmaWVsZHMuc2NhbGVGYWN0b3JzIHx8IHRoaXMuc2NhbGVGYWN0b3JzO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RydWN0dXJlIHtcbiAgcHVibGljIGlkPzogc3RyaW5nO1xuICBwdWJsaWMgdHlwZSA9ICcnO1xuICBwdWJsaWMgbGFiZWw/OiBzdHJpbmc7XG4gIHB1YmxpYyBjYW52YXNlczogc3RyaW5nW10gPSBbXTtcbiAgcHVibGljIGNhbnZhc0luZGV4ID0gMDtcblxuICBjb25zdHJ1Y3RvcihmaWVsZHM/OiB7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgdHlwZT86IHN0cmluZztcbiAgICBsYWJlbD86IHN0cmluZztcbiAgICBjYW52YXNlcz86IHN0cmluZ1tdO1xuICAgIGNhbnZhc0luZGV4OiBudW1iZXI7XG4gIH0pIHtcbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICB0aGlzLmlkID0gZmllbGRzLmlkIHx8IHRoaXMuaWQ7XG4gICAgICB0aGlzLnR5cGUgPSBmaWVsZHMudHlwZSB8fCB0aGlzLnR5cGU7XG4gICAgICB0aGlzLmxhYmVsID0gZmllbGRzLmxhYmVsIHx8IHRoaXMubGFiZWw7XG4gICAgICB0aGlzLmNhbnZhc2VzID0gZmllbGRzLmNhbnZhc2VzIHx8IHRoaXMuY2FudmFzZXM7XG4gICAgICB0aGlzLmNhbnZhc0luZGV4ID0gZmllbGRzLmNhbnZhc0luZGV4O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGlsZVNvdXJjZSB7fVxuIl19","import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class FullscreenService {\n    constructor() {\n        this.changeSubject = new ReplaySubject();\n        this.onchange();\n    }\n    get onChange() {\n        return this.changeSubject.asObservable();\n    }\n    isEnabled() {\n        const d = document;\n        return (d.fullscreenEnabled ||\n            d.webkitFullscreenEnabled ||\n            d.mozFullScreenEnabled ||\n            d.msFullscreenEnabled);\n    }\n    isFullscreen() {\n        const d = document;\n        return (d.fullscreenElement ||\n            d.webkitFullscreenElement ||\n            d.mozFullScreenElement ||\n            d.msFullscreenElement);\n    }\n    toggle(el) {\n        this.isFullscreen() ? this.closeFullscreen(el) : this.openFullscreen(el);\n    }\n    onchange() {\n        const d = document;\n        const func = () => {\n            this.changeSubject.next(true);\n        };\n        if (d.fullscreenEnabled) {\n            document.addEventListener('fullscreenchange', func);\n        }\n        else if (d.webkitFullscreenEnabled) {\n            document.addEventListener('webkitfullscreenchange', func);\n        }\n        else if (d.mozFullScreenEnabled) {\n            document.addEventListener('mozfullscreenchange', func);\n        }\n        else if (d.msFullscreenEnabled) {\n            document.addEventListener('msfullscreenchange', func);\n        }\n    }\n    openFullscreen(elem) {\n        if (elem.requestFullscreen) {\n            elem.requestFullscreen();\n        }\n        else if (elem.mozRequestFullScreen) {\n            elem.mozRequestFullScreen();\n        }\n        else if (elem.webkitRequestFullscreen) {\n            elem.webkitRequestFullscreen();\n        }\n        else if (elem.msRequestFullscreen) {\n            elem.msRequestFullscreen();\n        }\n    }\n    closeFullscreen(elem) {\n        const d = document;\n        if (d.exitFullscreen) {\n            d.exitFullscreen();\n        }\n        else if (d.mozCancelFullScreen) {\n            d.mozCancelFullScreen();\n        }\n        else if (d.webkitExitFullscreen) {\n            d.webkitExitFullscreen();\n        }\n        else if (d.msExitFullscreen) {\n            d.msExitFullscreen();\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: FullscreenService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: FullscreenService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: FullscreenService, decorators: [{\n            type: Injectable\n        }], ctorParameters: () => [] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnVsbHNjcmVlbi5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvZnVsbHNjcmVlbi1zZXJ2aWNlL2Z1bGxzY3JlZW4uc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBYyxhQUFhLEVBQUUsTUFBTSxNQUFNLENBQUM7O0FBR2pELE1BQU0sT0FBTyxpQkFBaUI7SUFHNUI7UUFGaUIsa0JBQWEsR0FBMkIsSUFBSSxhQUFhLEVBQUUsQ0FBQztRQUczRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELElBQUksUUFBUTtRQUNWLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUMzQyxDQUFDO0lBRU0sU0FBUztRQUNkLE1BQU0sQ0FBQyxHQUFRLFFBQVEsQ0FBQztRQUN4QixPQUFPLENBQ0wsQ0FBQyxDQUFDLGlCQUFpQjtZQUNuQixDQUFDLENBQUMsdUJBQXVCO1lBQ3pCLENBQUMsQ0FBQyxvQkFBb0I7WUFDdEIsQ0FBQyxDQUFDLG1CQUFtQixDQUN0QixDQUFDO0lBQ0osQ0FBQztJQUVNLFlBQVk7UUFDakIsTUFBTSxDQUFDLEdBQVEsUUFBUSxDQUFDO1FBQ3hCLE9BQU8sQ0FDTCxDQUFDLENBQUMsaUJBQWlCO1lBQ25CLENBQUMsQ0FBQyx1QkFBdUI7WUFDekIsQ0FBQyxDQUFDLG9CQUFvQjtZQUN0QixDQUFDLENBQUMsbUJBQW1CLENBQ3RCLENBQUM7SUFDSixDQUFDO0lBRU0sTUFBTSxDQUFDLEVBQWU7UUFDM0IsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFFTSxRQUFRO1FBQ2IsTUFBTSxDQUFDLEdBQVEsUUFBUSxDQUFDO1FBRXhCLE1BQU0sSUFBSSxHQUFHLEdBQUcsRUFBRTtZQUNoQixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoQyxDQUFDLENBQUM7UUFFRixJQUFJLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3hCLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RCxDQUFDO2FBQU0sSUFBSSxDQUFDLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztZQUNyQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsd0JBQXdCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUQsQ0FBQzthQUFNLElBQUksQ0FBQyxDQUFDLG9CQUFvQixFQUFFLENBQUM7WUFDbEMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pELENBQUM7YUFBTSxJQUFJLENBQUMsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQ2pDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4RCxDQUFDO0lBQ0gsQ0FBQztJQUVPLGNBQWMsQ0FBQyxJQUFTO1FBQzlCLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDM0IsQ0FBQzthQUFNLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7WUFDckMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDOUIsQ0FBQzthQUFNLElBQUksSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7WUFDeEMsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFDakMsQ0FBQzthQUFNLElBQUksSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7WUFDcEMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDN0IsQ0FBQztJQUNILENBQUM7SUFFTyxlQUFlLENBQUMsSUFBUztRQUMvQixNQUFNLENBQUMsR0FBUSxRQUFRLENBQUM7UUFDeEIsSUFBSSxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDckIsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3JCLENBQUM7YUFBTSxJQUFJLENBQUMsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQ2pDLENBQUMsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzFCLENBQUM7YUFBTSxJQUFJLENBQUMsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1lBQ2xDLENBQUMsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQzNCLENBQUM7YUFBTSxJQUFJLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQzlCLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ3ZCLENBQUM7SUFDSCxDQUFDOzhHQTVFVSxpQkFBaUI7a0hBQWpCLGlCQUFpQjs7MkZBQWpCLGlCQUFpQjtrQkFEN0IsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIFJlcGxheVN1YmplY3QgfSBmcm9tICdyeGpzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEZ1bGxzY3JlZW5TZXJ2aWNlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBjaGFuZ2VTdWJqZWN0OiBSZXBsYXlTdWJqZWN0PGJvb2xlYW4+ID0gbmV3IFJlcGxheVN1YmplY3QoKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm9uY2hhbmdlKCk7XG4gIH1cblxuICBnZXQgb25DaGFuZ2UoKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIHB1YmxpYyBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZDogYW55ID0gZG9jdW1lbnQ7XG4gICAgcmV0dXJuIChcbiAgICAgIGQuZnVsbHNjcmVlbkVuYWJsZWQgfHxcbiAgICAgIGQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQgfHxcbiAgICAgIGQubW96RnVsbFNjcmVlbkVuYWJsZWQgfHxcbiAgICAgIGQubXNGdWxsc2NyZWVuRW5hYmxlZFxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgaXNGdWxsc2NyZWVuKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGQ6IGFueSA9IGRvY3VtZW50O1xuICAgIHJldHVybiAoXG4gICAgICBkLmZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICBkLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICBkLm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8XG4gICAgICBkLm1zRnVsbHNjcmVlbkVsZW1lbnRcbiAgICApO1xuICB9XG5cbiAgcHVibGljIHRvZ2dsZShlbDogSFRNTEVsZW1lbnQpIHtcbiAgICB0aGlzLmlzRnVsbHNjcmVlbigpID8gdGhpcy5jbG9zZUZ1bGxzY3JlZW4oZWwpIDogdGhpcy5vcGVuRnVsbHNjcmVlbihlbCk7XG4gIH1cblxuICBwdWJsaWMgb25jaGFuZ2UoKSB7XG4gICAgY29uc3QgZDogYW55ID0gZG9jdW1lbnQ7XG5cbiAgICBjb25zdCBmdW5jID0gKCkgPT4ge1xuICAgICAgdGhpcy5jaGFuZ2VTdWJqZWN0Lm5leHQodHJ1ZSk7XG4gICAgfTtcblxuICAgIGlmIChkLmZ1bGxzY3JlZW5FbmFibGVkKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgZnVuYyk7XG4gICAgfSBlbHNlIGlmIChkLndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgZnVuYyk7XG4gICAgfSBlbHNlIGlmIChkLm1vekZ1bGxTY3JlZW5FbmFibGVkKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3pmdWxsc2NyZWVuY2hhbmdlJywgZnVuYyk7XG4gICAgfSBlbHNlIGlmIChkLm1zRnVsbHNjcmVlbkVuYWJsZWQpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21zZnVsbHNjcmVlbmNoYW5nZScsIGZ1bmMpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb3BlbkZ1bGxzY3JlZW4oZWxlbTogYW55KSB7XG4gICAgaWYgKGVsZW0ucmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgIGVsZW0ucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0ubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgIGVsZW0ubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0ud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgIGVsZW0ud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0ubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgZWxlbS5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjbG9zZUZ1bGxzY3JlZW4oZWxlbTogYW55KSB7XG4gICAgY29uc3QgZCA9IDxhbnk+ZG9jdW1lbnQ7XG4gICAgaWYgKGQuZXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgIGQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKGQubW96Q2FuY2VsRnVsbFNjcmVlbikge1xuICAgICAgZC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgfSBlbHNlIGlmIChkLndlYmtpdEV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICBkLndlYmtpdEV4aXRGdWxsc2NyZWVuKCk7XG4gICAgfSBlbHNlIGlmIChkLm1zRXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgIGQubXNFeGl0RnVsbHNjcmVlbigpO1xuICAgIH1cbiAgfVxufVxuIl19","export class Dimensions {\n    constructor(fields) {\n        this.bottom = 0;\n        this.height = 0;\n        this.left = 0;\n        this.right = 0;\n        this.top = 0;\n        this.width = 0;\n        if (fields) {\n            this.bottom = fields.bottom || this.bottom;\n            this.height = fields.height || this.height;\n            this.left = fields.left || this.left;\n            this.right = fields.right || this.right;\n            this.top = fields.top || this.top;\n            this.width = fields.width || this.width;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGltZW5zaW9ucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL21vZGVscy9kaW1lbnNpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sT0FBTyxVQUFVO0lBUXJCLFlBQVksTUFPWDtRQWRELFdBQU0sR0FBRyxDQUFDLENBQUM7UUFDWCxXQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsU0FBSSxHQUFHLENBQUMsQ0FBQztRQUNULFVBQUssR0FBRyxDQUFDLENBQUM7UUFDVixRQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ1IsVUFBSyxHQUFHLENBQUMsQ0FBQztRQVVSLElBQUksTUFBTSxFQUFFLENBQUM7WUFDWCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUMzQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUMzQyxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQztZQUNyQyxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN4QyxJQUFJLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQztZQUNsQyxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQztRQUMxQyxDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIERpbWVuc2lvbnMge1xuICBib3R0b20gPSAwO1xuICBoZWlnaHQgPSAwO1xuICBsZWZ0ID0gMDtcbiAgcmlnaHQgPSAwO1xuICB0b3AgPSAwO1xuICB3aWR0aCA9IDA7XG5cbiAgY29uc3RydWN0b3IoZmllbGRzPzoge1xuICAgIGJvdHRvbT86IG51bWJlcjtcbiAgICBoZWlnaHQ/OiBudW1iZXI7XG4gICAgbGVmdD86IG51bWJlcjtcbiAgICByaWdodD86IG51bWJlcjtcbiAgICB0b3A/OiBudW1iZXI7XG4gICAgd2lkdGg/OiBudW1iZXI7XG4gIH0pIHtcbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICB0aGlzLmJvdHRvbSA9IGZpZWxkcy5ib3R0b20gfHwgdGhpcy5ib3R0b207XG4gICAgICB0aGlzLmhlaWdodCA9IGZpZWxkcy5oZWlnaHQgfHwgdGhpcy5oZWlnaHQ7XG4gICAgICB0aGlzLmxlZnQgPSBmaWVsZHMubGVmdCB8fCB0aGlzLmxlZnQ7XG4gICAgICB0aGlzLnJpZ2h0ID0gZmllbGRzLnJpZ2h0IHx8IHRoaXMucmlnaHQ7XG4gICAgICB0aGlzLnRvcCA9IGZpZWxkcy50b3AgfHwgdGhpcy50b3A7XG4gICAgICB0aGlzLndpZHRoID0gZmllbGRzLndpZHRoIHx8IHRoaXMud2lkdGg7XG4gICAgfVxuICB9XG59XG4iXX0=","export class StringsBuilder {\n    withStringXml(stringXml) {\n        this.stringXml = stringXml;\n        return this;\n    }\n    build() {\n        return this.stringXml\n            ? this.stringXml\n                .filter((string) => !string.$.SUBS_CONTENT || string.$.SUBS_TYPE === 'HypPart1')\n                .map((string) => {\n                return { content: string.$.SUBS_CONTENT || string.$.CONTENT };\n            })\n            : [];\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyaW5ncy5idWlsZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvYnVpbGRlcnMvYWx0by9zdHJpbmdzLmJ1aWxkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxPQUFPLGNBQWM7SUFHekIsYUFBYSxDQUFDLFNBQWM7UUFDMUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsS0FBSztRQUNILE9BQU8sSUFBSSxDQUFDLFNBQVM7WUFDbkIsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTO2lCQUNYLE1BQU0sQ0FDTCxDQUFDLE1BQVcsRUFBRSxFQUFFLENBQ2QsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFlBQVksSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLFNBQVMsS0FBSyxVQUFVLENBQzlEO2lCQUNBLEdBQUcsQ0FBQyxDQUFDLE1BQVcsRUFBRSxFQUFFO2dCQUNuQixPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsWUFBWSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDaEUsQ0FBQyxDQUFDO1lBQ04sQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNULENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0cmluZyB9IGZyb20gJy4uLy4uL2FsdG8tc2VydmljZS9hbHRvLm1vZGVsJztcblxuZXhwb3J0IGNsYXNzIFN0cmluZ3NCdWlsZGVyIHtcbiAgcHJpdmF0ZSBzdHJpbmdYbWw6IGFueSB8IHVuZGVmaW5lZDtcblxuICB3aXRoU3RyaW5nWG1sKHN0cmluZ1htbDogYW55KTogU3RyaW5nc0J1aWxkZXIge1xuICAgIHRoaXMuc3RyaW5nWG1sID0gc3RyaW5nWG1sO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYnVpbGQoKTogU3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLnN0cmluZ1htbFxuICAgICAgPyB0aGlzLnN0cmluZ1htbFxuICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAoc3RyaW5nOiBhbnkpID0+XG4gICAgICAgICAgICAgICFzdHJpbmcuJC5TVUJTX0NPTlRFTlQgfHwgc3RyaW5nLiQuU1VCU19UWVBFID09PSAnSHlwUGFydDEnLFxuICAgICAgICAgIClcbiAgICAgICAgICAubWFwKChzdHJpbmc6IGFueSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgY29udGVudDogc3RyaW5nLiQuU1VCU19DT05URU5UIHx8IHN0cmluZy4kLkNPTlRFTlQgfTtcbiAgICAgICAgICB9KVxuICAgICAgOiBbXTtcbiAgfVxufVxuIl19","import { StringsBuilder } from './strings.builder';\nexport class TextLinesBuilder {\n    constructor() {\n        this.stringBuilder = new StringsBuilder();\n    }\n    withTextLinesXml(textLinesXml) {\n        this.textLinesXml = textLinesXml;\n        return this;\n    }\n    build() {\n        return this.textLinesXml\n            ? this.textLinesXml.map((textLine) => {\n                return {\n                    strings: this.stringBuilder.withStringXml(textLine.String).build(),\n                };\n            })\n            : [];\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGV4dC1saW5lcy5idWlsZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvYnVpbGRlcnMvYWx0by90ZXh0LWxpbmVzLmJ1aWxkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRW5ELE1BQU0sT0FBTyxnQkFBZ0I7SUFBN0I7UUFDVSxrQkFBYSxHQUFHLElBQUksY0FBYyxFQUFFLENBQUM7SUFpQi9DLENBQUM7SUFkQyxnQkFBZ0IsQ0FBQyxZQUFpQjtRQUNoQyxJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUNqQyxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxLQUFLO1FBQ0gsT0FBTyxJQUFJLENBQUMsWUFBWTtZQUN0QixDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFhLEVBQUUsRUFBRTtnQkFDdEMsT0FBTztvQkFDTCxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRTtpQkFDbkUsQ0FBQztZQUNKLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDVCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXh0TGluZSB9IGZyb20gJy4uLy4uL2FsdG8tc2VydmljZS9hbHRvLm1vZGVsJztcbmltcG9ydCB7IFN0cmluZ3NCdWlsZGVyIH0gZnJvbSAnLi9zdHJpbmdzLmJ1aWxkZXInO1xuXG5leHBvcnQgY2xhc3MgVGV4dExpbmVzQnVpbGRlciB7XG4gIHByaXZhdGUgc3RyaW5nQnVpbGRlciA9IG5ldyBTdHJpbmdzQnVpbGRlcigpO1xuICBwcml2YXRlIHRleHRMaW5lc1htbDogYW55IHwgdW5kZWZpbmVkO1xuXG4gIHdpdGhUZXh0TGluZXNYbWwodGV4dExpbmVzWG1sOiBhbnkpIHtcbiAgICB0aGlzLnRleHRMaW5lc1htbCA9IHRleHRMaW5lc1htbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGJ1aWxkKCk6IFRleHRMaW5lW10ge1xuICAgIHJldHVybiB0aGlzLnRleHRMaW5lc1htbFxuICAgICAgPyB0aGlzLnRleHRMaW5lc1htbC5tYXAoKHRleHRMaW5lOiBhbnkpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RyaW5nczogdGhpcy5zdHJpbmdCdWlsZGVyLndpdGhTdHJpbmdYbWwodGV4dExpbmUuU3RyaW5nKS5idWlsZCgpLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICA6IFtdO1xuICB9XG59XG4iXX0=","import { TextLinesBuilder } from './text-lines.builder';\nexport class TextBlocksBuilder {\n    constructor() {\n        this.textLinesBuilder = new TextLinesBuilder();\n    }\n    withTextBlocksXml(textBlocksXml) {\n        this.textBlocksXml = textBlocksXml;\n        return this;\n    }\n    withTextStyles(textStyles) {\n        this.textStyles = textStyles;\n        return this;\n    }\n    build() {\n        return this.textBlocksXml\n            ? this.textBlocksXml.map((textBlock) => {\n                const styleRef = textBlock.$.STYLEREFS?.split(' ');\n                let textStyle = undefined;\n                if (styleRef && this.textStyles) {\n                    textStyle = this.textStyles.get(styleRef[0]);\n                }\n                return {\n                    textLines: this.textLinesBuilder\n                        .withTextLinesXml(textBlock.TextLine)\n                        .build(),\n                    textStyle: {\n                        fontStyle: textStyle?.fontStyle,\n                    },\n                };\n            })\n            : [];\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGV4dC1ibG9ja3MuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2FsdG8vdGV4dC1ibG9ja3MuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUV4RCxNQUFNLE9BQU8saUJBQWlCO0lBQTlCO1FBQ1UscUJBQWdCLEdBQUcsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO0lBbUNwRCxDQUFDO0lBL0JDLGlCQUFpQixDQUFDLGFBQWtCO1FBQ2xDLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDO1FBQ25DLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELGNBQWMsQ0FDWixVQUE4QztRQUU5QyxJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUM3QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxLQUFLO1FBQ0gsT0FBTyxJQUFJLENBQUMsYUFBYTtZQUN2QixDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFjLEVBQUUsRUFBRTtnQkFDeEMsTUFBTSxRQUFRLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNuRCxJQUFJLFNBQVMsR0FBRyxTQUFTLENBQUM7Z0JBQzFCLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztvQkFDaEMsU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMvQyxDQUFDO2dCQUNELE9BQU87b0JBQ0wsU0FBUyxFQUFFLElBQUksQ0FBQyxnQkFBZ0I7eUJBQzdCLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7eUJBQ3BDLEtBQUssRUFBRTtvQkFDVixTQUFTLEVBQUU7d0JBQ1QsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTO3FCQUNoQztpQkFDRixDQUFDO1lBQ0osQ0FBQyxDQUFDO1lBQ0osQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNULENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRleHRCbG9jaywgVGV4dFN0eWxlIH0gZnJvbSAnLi4vLi4vYWx0by1zZXJ2aWNlL2FsdG8ubW9kZWwnO1xuaW1wb3J0IHsgVGV4dExpbmVzQnVpbGRlciB9IGZyb20gJy4vdGV4dC1saW5lcy5idWlsZGVyJztcblxuZXhwb3J0IGNsYXNzIFRleHRCbG9ja3NCdWlsZGVyIHtcbiAgcHJpdmF0ZSB0ZXh0TGluZXNCdWlsZGVyID0gbmV3IFRleHRMaW5lc0J1aWxkZXIoKTtcbiAgcHJpdmF0ZSB0ZXh0U3R5bGVzOiBNYXA8c3RyaW5nLCBUZXh0U3R5bGU+IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHRleHRCbG9ja3NYbWw6IGFueSB8IHVuZGVmaW5lZDtcblxuICB3aXRoVGV4dEJsb2Nrc1htbCh0ZXh0QmxvY2tzWG1sOiBhbnkpIHtcbiAgICB0aGlzLnRleHRCbG9ja3NYbWwgPSB0ZXh0QmxvY2tzWG1sO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgd2l0aFRleHRTdHlsZXMoXG4gICAgdGV4dFN0eWxlczogTWFwPHN0cmluZywgVGV4dFN0eWxlPiB8IHVuZGVmaW5lZCxcbiAgKTogVGV4dEJsb2Nrc0J1aWxkZXIge1xuICAgIHRoaXMudGV4dFN0eWxlcyA9IHRleHRTdHlsZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBidWlsZCgpOiBUZXh0QmxvY2tbXSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dEJsb2Nrc1htbFxuICAgICAgPyB0aGlzLnRleHRCbG9ja3NYbWwubWFwKCh0ZXh0QmxvY2s6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0eWxlUmVmID0gdGV4dEJsb2NrLiQuU1RZTEVSRUZTPy5zcGxpdCgnICcpO1xuICAgICAgICAgIGxldCB0ZXh0U3R5bGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKHN0eWxlUmVmICYmIHRoaXMudGV4dFN0eWxlcykge1xuICAgICAgICAgICAgdGV4dFN0eWxlID0gdGhpcy50ZXh0U3R5bGVzLmdldChzdHlsZVJlZlswXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXh0TGluZXM6IHRoaXMudGV4dExpbmVzQnVpbGRlclxuICAgICAgICAgICAgICAud2l0aFRleHRMaW5lc1htbCh0ZXh0QmxvY2suVGV4dExpbmUpXG4gICAgICAgICAgICAgIC5idWlsZCgpLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7XG4gICAgICAgICAgICAgIGZvbnRTdHlsZTogdGV4dFN0eWxlPy5mb250U3R5bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICA6IFtdO1xuICB9XG59XG4iXX0=","import { TextBlocksBuilder } from './text-blocks.builder';\nexport class PrintSpaceBuilder {\n    withPrintSpaceXml(printSpaceXml) {\n        this.printSpaceXml = printSpaceXml;\n        return this;\n    }\n    withTextStyles(textStyles) {\n        this.textStyles = textStyles;\n        return this;\n    }\n    build() {\n        let textBlocks = [];\n        if (this.printSpaceXml?.$$) {\n            textBlocks = this.extractTextBlocks(this.printSpaceXml.$$);\n        }\n        return {\n            textBlocks: new TextBlocksBuilder()\n                .withTextBlocksXml(textBlocks)\n                .withTextStyles(this.textStyles)\n                .build(),\n        };\n    }\n    extractTextBlocks(node) {\n        let blocks = [];\n        node.forEach((n) => {\n            if (this.isTextBlock(n)) {\n                blocks = [...blocks, n];\n            }\n            else if (this.isComposedBlock(n)) {\n                if (n.$$) {\n                    blocks = [...blocks, ...this.extractTextBlocks(n.$$)];\n                }\n            }\n        });\n        return blocks;\n    }\n    isTextBlock(n) {\n        return n['#name'] && n['#name'] === 'TextBlock';\n    }\n    isComposedBlock(n) {\n        return n['#name'] && n['#name'] === 'ComposedBlock';\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpbnQtc3BhY2UuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2FsdG8vcHJpbnQtc3BhY2UuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUUxRCxNQUFNLE9BQU8saUJBQWlCO0lBSTVCLGlCQUFpQixDQUFDLGFBQWtCO1FBQ2xDLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDO1FBQ25DLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELGNBQWMsQ0FDWixVQUE4QztRQUU5QyxJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUM3QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxLQUFLO1FBQ0gsSUFBSSxVQUFVLEdBQVUsRUFBRSxDQUFDO1FBRTNCLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUMzQixVQUFVLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDN0QsQ0FBQztRQUNELE9BQU87WUFDTCxVQUFVLEVBQUUsSUFBSSxpQkFBaUIsRUFBRTtpQkFDaEMsaUJBQWlCLENBQUMsVUFBVSxDQUFDO2lCQUM3QixjQUFjLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztpQkFDL0IsS0FBSyxFQUFFO1NBQ1gsQ0FBQztJQUNKLENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxJQUFTO1FBQ2pDLElBQUksTUFBTSxHQUFVLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBTSxFQUFFLEVBQUU7WUFDdEIsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ3hCLE1BQU0sR0FBRyxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzFCLENBQUM7aUJBQU0sSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO29CQUNULE1BQU0sR0FBRyxDQUFDLEdBQUcsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN4RCxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVPLFdBQVcsQ0FBQyxDQUFNO1FBQ3hCLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxXQUFXLENBQUM7SUFDbEQsQ0FBQztJQUVPLGVBQWUsQ0FBQyxDQUFNO1FBQzVCLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxlQUFlLENBQUM7SUFDdEQsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpbnRTcGFjZSwgVGV4dFN0eWxlIH0gZnJvbSAnLi4vLi4vYWx0by1zZXJ2aWNlL2FsdG8ubW9kZWwnO1xuaW1wb3J0IHsgVGV4dEJsb2Nrc0J1aWxkZXIgfSBmcm9tICcuL3RleHQtYmxvY2tzLmJ1aWxkZXInO1xuXG5leHBvcnQgY2xhc3MgUHJpbnRTcGFjZUJ1aWxkZXIge1xuICBwcml2YXRlIHRleHRTdHlsZXM6IE1hcDxzdHJpbmcsIFRleHRTdHlsZT4gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgcHJpbnRTcGFjZVhtbDogYW55IHwgdW5kZWZpbmVkO1xuXG4gIHdpdGhQcmludFNwYWNlWG1sKHByaW50U3BhY2VYbWw6IGFueSkge1xuICAgIHRoaXMucHJpbnRTcGFjZVhtbCA9IHByaW50U3BhY2VYbWw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB3aXRoVGV4dFN0eWxlcyhcbiAgICB0ZXh0U3R5bGVzOiBNYXA8c3RyaW5nLCBUZXh0U3R5bGU+IHwgdW5kZWZpbmVkLFxuICApOiBQcmludFNwYWNlQnVpbGRlciB7XG4gICAgdGhpcy50ZXh0U3R5bGVzID0gdGV4dFN0eWxlcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGJ1aWxkKCk6IFByaW50U3BhY2Uge1xuICAgIGxldCB0ZXh0QmxvY2tzOiBhbnlbXSA9IFtdO1xuXG4gICAgaWYgKHRoaXMucHJpbnRTcGFjZVhtbD8uJCQpIHtcbiAgICAgIHRleHRCbG9ja3MgPSB0aGlzLmV4dHJhY3RUZXh0QmxvY2tzKHRoaXMucHJpbnRTcGFjZVhtbC4kJCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0ZXh0QmxvY2tzOiBuZXcgVGV4dEJsb2Nrc0J1aWxkZXIoKVxuICAgICAgICAud2l0aFRleHRCbG9ja3NYbWwodGV4dEJsb2NrcylcbiAgICAgICAgLndpdGhUZXh0U3R5bGVzKHRoaXMudGV4dFN0eWxlcylcbiAgICAgICAgLmJ1aWxkKCksXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdFRleHRCbG9ja3Mobm9kZTogYW55KTogYW55W10ge1xuICAgIGxldCBibG9ja3M6IGFueVtdID0gW107XG4gICAgbm9kZS5mb3JFYWNoKChuOiBhbnkpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzVGV4dEJsb2NrKG4pKSB7XG4gICAgICAgIGJsb2NrcyA9IFsuLi5ibG9ja3MsIG5dO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzQ29tcG9zZWRCbG9jayhuKSkge1xuICAgICAgICBpZiAobi4kJCkge1xuICAgICAgICAgIGJsb2NrcyA9IFsuLi5ibG9ja3MsIC4uLnRoaXMuZXh0cmFjdFRleHRCbG9ja3Mobi4kJCldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGJsb2NrcztcbiAgfVxuXG4gIHByaXZhdGUgaXNUZXh0QmxvY2sobjogYW55KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG5bJyNuYW1lJ10gJiYgblsnI25hbWUnXSA9PT0gJ1RleHRCbG9jayc7XG4gIH1cblxuICBwcml2YXRlIGlzQ29tcG9zZWRCbG9jayhuOiBhbnkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gblsnI25hbWUnXSAmJiBuWycjbmFtZSddID09PSAnQ29tcG9zZWRCbG9jayc7XG4gIH1cbn1cbiJdfQ==","import { PrintSpaceBuilder } from './print-space.builder';\nexport class PageBuilder {\n    constructor() {\n        this.printSpaceBuilder = new PrintSpaceBuilder();\n    }\n    withPageXml(pageXml) {\n        this.pageXml = pageXml;\n        return this;\n    }\n    withTextStyles(textStyles) {\n        this.printSpaceBuilder.withTextStyles(textStyles);\n        return this;\n    }\n    build() {\n        const topMargin = this.getFirstPrintSpace(this.pageXml.TopMargin);\n        const leftMargin = this.getFirstPrintSpace(this.pageXml.LeftMargin);\n        const rightMargin = this.getFirstPrintSpace(this.pageXml.RightMargin);\n        const bottomMargin = this.getFirstPrintSpace(this.pageXml.BottomMargin);\n        const printSpace = this.getFirstPrintSpace(this.pageXml.PrintSpace);\n        return {\n            topMargin: this.printSpaceBuilder.withPrintSpaceXml(topMargin).build(),\n            leftMargin: this.printSpaceBuilder.withPrintSpaceXml(leftMargin).build(),\n            rightMargin: this.printSpaceBuilder\n                .withPrintSpaceXml(rightMargin)\n                .build(),\n            bottomMargin: this.printSpaceBuilder\n                .withPrintSpaceXml(bottomMargin)\n                .build(),\n            printSpace: this.printSpaceBuilder.withPrintSpaceXml(printSpace).build(),\n        };\n    }\n    getFirstPrintSpace(printSpace) {\n        return printSpace ? printSpace[0] : undefined;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS5idWlsZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvYnVpbGRlcnMvYWx0by9wYWdlLmJ1aWxkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFMUQsTUFBTSxPQUFPLFdBQVc7SUFBeEI7UUFDVSxzQkFBaUIsR0FBRyxJQUFJLGlCQUFpQixFQUFFLENBQUM7SUFvQ3RELENBQUM7SUFqQ0MsV0FBVyxDQUFDLE9BQVk7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsY0FBYyxDQUFDLFVBQThDO1FBQzNELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbEQsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsS0FBSztRQUNILE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xFLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3BFLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3RFLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3hFLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRXBFLE9BQU87WUFDTCxTQUFTLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssRUFBRTtZQUN0RSxVQUFVLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssRUFBRTtZQUN4RSxXQUFXLEVBQUUsSUFBSSxDQUFDLGlCQUFpQjtpQkFDaEMsaUJBQWlCLENBQUMsV0FBVyxDQUFDO2lCQUM5QixLQUFLLEVBQUU7WUFDVixZQUFZLEVBQUUsSUFBSSxDQUFDLGlCQUFpQjtpQkFDakMsaUJBQWlCLENBQUMsWUFBWSxDQUFDO2lCQUMvQixLQUFLLEVBQUU7WUFDVixVQUFVLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssRUFBRTtTQUN6RSxDQUFDO0lBQ0osQ0FBQztJQUVPLGtCQUFrQixDQUFDLFVBQWlCO1FBQzFDLE9BQU8sVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztJQUNoRCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlLCBUZXh0U3R5bGUgfSBmcm9tICcuLi8uLi9hbHRvLXNlcnZpY2UvYWx0by5tb2RlbCc7XG5pbXBvcnQgeyBQcmludFNwYWNlQnVpbGRlciB9IGZyb20gJy4vcHJpbnQtc3BhY2UuYnVpbGRlcic7XG5cbmV4cG9ydCBjbGFzcyBQYWdlQnVpbGRlciB7XG4gIHByaXZhdGUgcHJpbnRTcGFjZUJ1aWxkZXIgPSBuZXcgUHJpbnRTcGFjZUJ1aWxkZXIoKTtcbiAgcHJpdmF0ZSBwYWdlWG1sOiBhbnkgfCB1bmRlZmluZWQ7XG5cbiAgd2l0aFBhZ2VYbWwocGFnZVhtbDogYW55KSB7XG4gICAgdGhpcy5wYWdlWG1sID0gcGFnZVhtbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHdpdGhUZXh0U3R5bGVzKHRleHRTdHlsZXM6IE1hcDxzdHJpbmcsIFRleHRTdHlsZT4gfCB1bmRlZmluZWQpOiBQYWdlQnVpbGRlciB7XG4gICAgdGhpcy5wcmludFNwYWNlQnVpbGRlci53aXRoVGV4dFN0eWxlcyh0ZXh0U3R5bGVzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGJ1aWxkKCk6IFBhZ2Uge1xuICAgIGNvbnN0IHRvcE1hcmdpbiA9IHRoaXMuZ2V0Rmlyc3RQcmludFNwYWNlKHRoaXMucGFnZVhtbC5Ub3BNYXJnaW4pO1xuICAgIGNvbnN0IGxlZnRNYXJnaW4gPSB0aGlzLmdldEZpcnN0UHJpbnRTcGFjZSh0aGlzLnBhZ2VYbWwuTGVmdE1hcmdpbik7XG4gICAgY29uc3QgcmlnaHRNYXJnaW4gPSB0aGlzLmdldEZpcnN0UHJpbnRTcGFjZSh0aGlzLnBhZ2VYbWwuUmlnaHRNYXJnaW4pO1xuICAgIGNvbnN0IGJvdHRvbU1hcmdpbiA9IHRoaXMuZ2V0Rmlyc3RQcmludFNwYWNlKHRoaXMucGFnZVhtbC5Cb3R0b21NYXJnaW4pO1xuICAgIGNvbnN0IHByaW50U3BhY2UgPSB0aGlzLmdldEZpcnN0UHJpbnRTcGFjZSh0aGlzLnBhZ2VYbWwuUHJpbnRTcGFjZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9wTWFyZ2luOiB0aGlzLnByaW50U3BhY2VCdWlsZGVyLndpdGhQcmludFNwYWNlWG1sKHRvcE1hcmdpbikuYnVpbGQoKSxcbiAgICAgIGxlZnRNYXJnaW46IHRoaXMucHJpbnRTcGFjZUJ1aWxkZXIud2l0aFByaW50U3BhY2VYbWwobGVmdE1hcmdpbikuYnVpbGQoKSxcbiAgICAgIHJpZ2h0TWFyZ2luOiB0aGlzLnByaW50U3BhY2VCdWlsZGVyXG4gICAgICAgIC53aXRoUHJpbnRTcGFjZVhtbChyaWdodE1hcmdpbilcbiAgICAgICAgLmJ1aWxkKCksXG4gICAgICBib3R0b21NYXJnaW46IHRoaXMucHJpbnRTcGFjZUJ1aWxkZXJcbiAgICAgICAgLndpdGhQcmludFNwYWNlWG1sKGJvdHRvbU1hcmdpbilcbiAgICAgICAgLmJ1aWxkKCksXG4gICAgICBwcmludFNwYWNlOiB0aGlzLnByaW50U3BhY2VCdWlsZGVyLndpdGhQcmludFNwYWNlWG1sKHByaW50U3BhY2UpLmJ1aWxkKCksXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Rmlyc3RQcmludFNwYWNlKHByaW50U3BhY2U6IGFueVtdKTogYW55IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gcHJpbnRTcGFjZSA/IHByaW50U3BhY2VbMF0gOiB1bmRlZmluZWQ7XG4gIH1cbn1cbiJdfQ==","import { PageBuilder } from './page.builder';\nexport class LayoutBuilder {\n    constructor() {\n        this.pageBuilder = new PageBuilder();\n    }\n    withLayoutXml(layoutXml) {\n        this.pageBuilder.withPageXml(layoutXml.Page[0]);\n        return this;\n    }\n    withTextStyles(textStyles) {\n        this.pageBuilder.withTextStyles(textStyles);\n        return this;\n    }\n    build() {\n        return {\n            page: this.pageBuilder.build(),\n        };\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5b3V0LmJ1aWxkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9idWlsZGVycy9hbHRvL2xheW91dC5idWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUU3QyxNQUFNLE9BQU8sYUFBYTtJQUExQjtRQUNVLGdCQUFXLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQztJQW1CMUMsQ0FBQztJQWpCQyxhQUFhLENBQUMsU0FBYztRQUMxQixJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEQsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsY0FBYyxDQUNaLFVBQThDO1FBRTlDLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELEtBQUs7UUFDSCxPQUFPO1lBQ0wsSUFBSSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFO1NBQy9CLENBQUM7SUFDSixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMYXlvdXQsIFRleHRTdHlsZSB9IGZyb20gJy4uLy4uL2FsdG8tc2VydmljZS9hbHRvLm1vZGVsJztcbmltcG9ydCB7IFBhZ2VCdWlsZGVyIH0gZnJvbSAnLi9wYWdlLmJ1aWxkZXInO1xuXG5leHBvcnQgY2xhc3MgTGF5b3V0QnVpbGRlciB7XG4gIHByaXZhdGUgcGFnZUJ1aWxkZXIgPSBuZXcgUGFnZUJ1aWxkZXIoKTtcblxuICB3aXRoTGF5b3V0WG1sKGxheW91dFhtbDogYW55KTogTGF5b3V0QnVpbGRlciB7XG4gICAgdGhpcy5wYWdlQnVpbGRlci53aXRoUGFnZVhtbChsYXlvdXRYbWwuUGFnZVswXSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB3aXRoVGV4dFN0eWxlcyhcbiAgICB0ZXh0U3R5bGVzOiBNYXA8c3RyaW5nLCBUZXh0U3R5bGU+IHwgdW5kZWZpbmVkLFxuICApOiBMYXlvdXRCdWlsZGVyIHtcbiAgICB0aGlzLnBhZ2VCdWlsZGVyLndpdGhUZXh0U3R5bGVzKHRleHRTdHlsZXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYnVpbGQoKTogTGF5b3V0IHtcbiAgICByZXR1cm4ge1xuICAgICAgcGFnZTogdGhpcy5wYWdlQnVpbGRlci5idWlsZCgpLFxuICAgIH07XG4gIH1cbn1cbiJdfQ==","export class StylesBuilder {\n    constructor(stylesXml) {\n        this.stylesXml = stylesXml;\n    }\n    build() {\n        const textStyles = new Map();\n        if (this.stylesXml.TextStyle) {\n            this.stylesXml.TextStyle.forEach((textStyle) => {\n                textStyles.set(textStyle.$.ID, {\n                    fontStyle: textStyle.$.FONTSTYLE,\n                });\n            });\n        }\n        return textStyles;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGVzLmJ1aWxkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9idWlsZGVycy9hbHRvL3N0eWxlcy5idWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxhQUFhO0lBQ3hCLFlBQW9CLFNBQWM7UUFBZCxjQUFTLEdBQVQsU0FBUyxDQUFLO0lBQUcsQ0FBQztJQUV0QyxLQUFLO1FBQ0gsTUFBTSxVQUFVLEdBQTJCLElBQUksR0FBRyxFQUFFLENBQUM7UUFDckQsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQzdCLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFNBQWMsRUFBRSxFQUFFO2dCQUNsRCxVQUFVLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO29CQUM3QixTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTO2lCQUNqQyxDQUFDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXh0U3R5bGUgfSBmcm9tICcuLi8uLi9hbHRvLXNlcnZpY2UvYWx0by5tb2RlbCc7XG5cbmV4cG9ydCBjbGFzcyBTdHlsZXNCdWlsZGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBzdHlsZXNYbWw6IGFueSkge31cblxuICBidWlsZCgpOiBNYXA8c3RyaW5nLCBUZXh0U3R5bGU+IHtcbiAgICBjb25zdCB0ZXh0U3R5bGVzOiBNYXA8c3RyaW5nLCBUZXh0U3R5bGU+ID0gbmV3IE1hcCgpO1xuICAgIGlmICh0aGlzLnN0eWxlc1htbC5UZXh0U3R5bGUpIHtcbiAgICAgIHRoaXMuc3R5bGVzWG1sLlRleHRTdHlsZS5mb3JFYWNoKCh0ZXh0U3R5bGU6IGFueSkgPT4ge1xuICAgICAgICB0ZXh0U3R5bGVzLnNldCh0ZXh0U3R5bGUuJC5JRCwge1xuICAgICAgICAgIGZvbnRTdHlsZTogdGV4dFN0eWxlLiQuRk9OVFNUWUxFLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dFN0eWxlcztcbiAgfVxufVxuIl19","import { LayoutBuilder } from './layout.builder';\nimport { StylesBuilder } from './styles.builder';\nexport class AltoBuilder {\n    constructor() {\n        this.layoutBuilder = new LayoutBuilder();\n    }\n    withAltoXml(altoXml) {\n        this.altoXml = altoXml;\n        return this;\n    }\n    build() {\n        if (this.altoXml.Styles) {\n            this.layoutBuilder.withTextStyles(new StylesBuilder(this.altoXml.Styles[0]).build());\n        }\n        this.layoutBuilder.withLayoutXml(this.altoXml.Layout[0]);\n        return {\n            layout: this.layoutBuilder.build(),\n        };\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWx0by5idWlsZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvYnVpbGRlcnMvYWx0by9hbHRvLmJ1aWxkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRCxNQUFNLE9BQU8sV0FBVztJQUF4QjtRQUNVLGtCQUFhLEdBQUcsSUFBSSxhQUFhLEVBQUUsQ0FBQztJQW9COUMsQ0FBQztJQWpCQyxXQUFXLENBQUMsT0FBWTtRQUN0QixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxLQUFLO1FBQ0gsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ3hCLElBQUksQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUMvQixJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUNsRCxDQUFDO1FBQ0osQ0FBQztRQUNELElBQUksQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFekQsT0FBTztZQUNMLE1BQU0sRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRTtTQUNuQyxDQUFDO0lBQ0osQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWx0byB9IGZyb20gJy4uLy4uL2FsdG8tc2VydmljZS9hbHRvLm1vZGVsJztcbmltcG9ydCB7IExheW91dEJ1aWxkZXIgfSBmcm9tICcuL2xheW91dC5idWlsZGVyJztcbmltcG9ydCB7IFN0eWxlc0J1aWxkZXIgfSBmcm9tICcuL3N0eWxlcy5idWlsZGVyJztcblxuZXhwb3J0IGNsYXNzIEFsdG9CdWlsZGVyIHtcbiAgcHJpdmF0ZSBsYXlvdXRCdWlsZGVyID0gbmV3IExheW91dEJ1aWxkZXIoKTtcbiAgcHJpdmF0ZSBhbHRvWG1sOiBhbnkgfCB1bmRlZmluZWQ7XG5cbiAgd2l0aEFsdG9YbWwoYWx0b1htbDogYW55KTogQWx0b0J1aWxkZXIge1xuICAgIHRoaXMuYWx0b1htbCA9IGFsdG9YbWw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBidWlsZCgpOiBBbHRvIHtcbiAgICBpZiAodGhpcy5hbHRvWG1sLlN0eWxlcykge1xuICAgICAgdGhpcy5sYXlvdXRCdWlsZGVyLndpdGhUZXh0U3R5bGVzKFxuICAgICAgICBuZXcgU3R5bGVzQnVpbGRlcih0aGlzLmFsdG9YbWwuU3R5bGVzWzBdKS5idWlsZCgpLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5sYXlvdXRCdWlsZGVyLndpdGhMYXlvdXRYbWwodGhpcy5hbHRvWG1sLkxheW91dFswXSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGF5b3V0OiB0aGlzLmxheW91dEJ1aWxkZXIuYnVpbGQoKSxcbiAgICB9O1xuICB9XG59XG4iXX0=","import { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { inject, Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { MimeViewerConfig } from '../mime-viewer-config';\nimport { ViewerLayout } from '../models/viewer-layout';\nimport * as i0 from \"@angular/core\";\nexport class ViewerLayoutService {\n    constructor() {\n        this.breakpointObserver = inject(BreakpointObserver);\n        this.config = new MimeViewerConfig();\n        this.subject = new BehaviorSubject(this.config.initViewerLayout);\n    }\n    get onChange() {\n        return this.subject.asObservable().pipe(distinctUntilChanged());\n    }\n    get layout() {\n        return this._layout;\n    }\n    init(isPagedManifest) {\n        if (this.config.initViewerLayout === ViewerLayout.TWO_PAGE &&\n            isPagedManifest &&\n            !this.isHandsetOrTabletInPortrait()) {\n            this._layout = ViewerLayout.TWO_PAGE;\n            this.change();\n        }\n        else {\n            this._layout = ViewerLayout.ONE_PAGE;\n            this.change();\n        }\n    }\n    setConfig(config) {\n        this.config = config;\n    }\n    setLayout(viewerLayout) {\n        this._layout = viewerLayout;\n        this.change();\n    }\n    toggle() {\n        if (this._layout === ViewerLayout.TWO_PAGE) {\n            this.setLayout(ViewerLayout.ONE_PAGE);\n        }\n        else if (this._layout === ViewerLayout.ONE_PAGE) {\n            this.setLayout(ViewerLayout.TWO_PAGE);\n        }\n    }\n    change() {\n        this.subject.next(this._layout);\n    }\n    isHandsetOrTabletInPortrait() {\n        return this.breakpointObserver.isMatched([\n            Breakpoints.Handset,\n            Breakpoints.TabletPortrait,\n        ]);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerLayoutService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerLayoutService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerLayoutService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLWxheW91dC1zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvdmlld2VyLWxheW91dC1zZXJ2aWNlL3ZpZXdlci1sYXlvdXQtc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsV0FBVyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDdEUsT0FBTyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbkQsT0FBTyxFQUFFLGVBQWUsRUFBYyxNQUFNLE1BQU0sQ0FBQztBQUNuRCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN0RCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0seUJBQXlCLENBQUM7O0FBR3ZELE1BQU0sT0FBTyxtQkFBbUI7SUFEaEM7UUFFbUIsdUJBQWtCLEdBQUcsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDekQsV0FBTSxHQUFHLElBQUksZ0JBQWdCLEVBQUUsQ0FBQztRQUV2QixZQUFPLEdBQ3RCLElBQUksZUFBZSxDQUFlLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztLQW1EbkU7SUFqREMsSUFBSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUVELElBQUksTUFBTTtRQUNSLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxDQUFDLGVBQXlCO1FBQzVCLElBQ0UsSUFBSSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsS0FBSyxZQUFZLENBQUMsUUFBUTtZQUN0RCxlQUFlO1lBQ2YsQ0FBQyxJQUFJLENBQUMsMkJBQTJCLEVBQUUsRUFDbkMsQ0FBQztZQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQztZQUNyQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDaEIsQ0FBQzthQUFNLENBQUM7WUFDTixJQUFJLENBQUMsT0FBTyxHQUFHLFlBQVksQ0FBQyxRQUFRLENBQUM7WUFDckMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2hCLENBQUM7SUFDSCxDQUFDO0lBRUQsU0FBUyxDQUFDLE1BQXdCO1FBQ2hDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxTQUFTLENBQUMsWUFBMEI7UUFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxZQUFZLENBQUM7UUFDNUIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxNQUFNO1FBQ0osSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLFlBQVksQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUMzQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4QyxDQUFDO2FBQU0sSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLFlBQVksQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNsRCxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4QyxDQUFDO0lBQ0gsQ0FBQztJQUVPLE1BQU07UUFDWixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVPLDJCQUEyQjtRQUNqQyxPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUM7WUFDdkMsV0FBVyxDQUFDLE9BQU87WUFDbkIsV0FBVyxDQUFDLGNBQWM7U0FDM0IsQ0FBQyxDQUFDO0lBQ0wsQ0FBQzs4R0F2RFUsbUJBQW1CO2tIQUFuQixtQkFBbUI7OzJGQUFuQixtQkFBbUI7a0JBRC9CLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCcmVha3BvaW50T2JzZXJ2ZXIsIEJyZWFrcG9pbnRzIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2xheW91dCc7XG5pbXBvcnQgeyBpbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBNaW1lVmlld2VyQ29uZmlnIH0gZnJvbSAnLi4vbWltZS12aWV3ZXItY29uZmlnJztcbmltcG9ydCB7IFZpZXdlckxheW91dCB9IGZyb20gJy4uL21vZGVscy92aWV3ZXItbGF5b3V0JztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFZpZXdlckxheW91dFNlcnZpY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IGJyZWFrcG9pbnRPYnNlcnZlciA9IGluamVjdChCcmVha3BvaW50T2JzZXJ2ZXIpO1xuICBwcml2YXRlIGNvbmZpZyA9IG5ldyBNaW1lVmlld2VyQ29uZmlnKCk7XG4gIHByaXZhdGUgX2xheW91dCE6IFZpZXdlckxheW91dDtcbiAgcHJpdmF0ZSByZWFkb25seSBzdWJqZWN0OiBCZWhhdmlvclN1YmplY3Q8Vmlld2VyTGF5b3V0PiA9XG4gICAgbmV3IEJlaGF2aW9yU3ViamVjdDxWaWV3ZXJMYXlvdXQ+KHRoaXMuY29uZmlnLmluaXRWaWV3ZXJMYXlvdXQpO1xuXG4gIGdldCBvbkNoYW5nZSgpOiBPYnNlcnZhYmxlPFZpZXdlckxheW91dD4ge1xuICAgIHJldHVybiB0aGlzLnN1YmplY3QuYXNPYnNlcnZhYmxlKCkucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbiAgfVxuXG4gIGdldCBsYXlvdXQoKTogVmlld2VyTGF5b3V0IHtcbiAgICByZXR1cm4gdGhpcy5fbGF5b3V0O1xuICB9XG5cbiAgaW5pdChpc1BhZ2VkTWFuaWZlc3Q/OiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5jb25maWcuaW5pdFZpZXdlckxheW91dCA9PT0gVmlld2VyTGF5b3V0LlRXT19QQUdFICYmXG4gICAgICBpc1BhZ2VkTWFuaWZlc3QgJiZcbiAgICAgICF0aGlzLmlzSGFuZHNldE9yVGFibGV0SW5Qb3J0cmFpdCgpXG4gICAgKSB7XG4gICAgICB0aGlzLl9sYXlvdXQgPSBWaWV3ZXJMYXlvdXQuVFdPX1BBR0U7XG4gICAgICB0aGlzLmNoYW5nZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sYXlvdXQgPSBWaWV3ZXJMYXlvdXQuT05FX1BBR0U7XG4gICAgICB0aGlzLmNoYW5nZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldENvbmZpZyhjb25maWc6IE1pbWVWaWV3ZXJDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuXG4gIHNldExheW91dCh2aWV3ZXJMYXlvdXQ6IFZpZXdlckxheW91dCkge1xuICAgIHRoaXMuX2xheW91dCA9IHZpZXdlckxheW91dDtcbiAgICB0aGlzLmNoYW5nZSgpO1xuICB9XG5cbiAgdG9nZ2xlKCkge1xuICAgIGlmICh0aGlzLl9sYXlvdXQgPT09IFZpZXdlckxheW91dC5UV09fUEFHRSkge1xuICAgICAgdGhpcy5zZXRMYXlvdXQoVmlld2VyTGF5b3V0Lk9ORV9QQUdFKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2xheW91dCA9PT0gVmlld2VyTGF5b3V0Lk9ORV9QQUdFKSB7XG4gICAgICB0aGlzLnNldExheW91dChWaWV3ZXJMYXlvdXQuVFdPX1BBR0UpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2hhbmdlKCkge1xuICAgIHRoaXMuc3ViamVjdC5uZXh0KHRoaXMuX2xheW91dCk7XG4gIH1cblxuICBwcml2YXRlIGlzSGFuZHNldE9yVGFibGV0SW5Qb3J0cmFpdCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5icmVha3BvaW50T2JzZXJ2ZXIuaXNNYXRjaGVkKFtcbiAgICAgIEJyZWFrcG9pbnRzLkhhbmRzZXQsXG4gICAgICBCcmVha3BvaW50cy5UYWJsZXRQb3J0cmFpdCxcbiAgICBdKTtcbiAgfVxufVxuIl19","export class IiifTileSourceStrategy {\n    getTileSource(resource) {\n        let tileSource;\n        if (resource?.service?.service) {\n            tileSource = resource.service;\n        }\n        else {\n            tileSource = resource.service['@id'];\n            if (!tileSource) {\n                tileSource = resource['@id'];\n            }\n            tileSource =\n                tileSource && tileSource.startsWith('//')\n                    ? `${location.protocol}${tileSource}`\n                    : tileSource;\n            tileSource =\n                tileSource && !tileSource.endsWith('/info.json')\n                    ? `${tileSource}/info.json`\n                    : tileSource;\n        }\n        return tileSource;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWlpZi10aWxlLXNvdXJjZS1zdHJhdGVneS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL3ZpZXdlci1zZXJ2aWNlL2lpaWYtdGlsZS1zb3VyY2Utc3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsTUFBTSxPQUFPLHNCQUFzQjtJQUMxQixhQUFhLENBQUMsUUFBa0I7UUFDckMsSUFBSSxVQUFlLENBQUM7UUFDcEIsSUFBSSxRQUFRLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDO1lBQy9CLFVBQVUsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDO1FBQ2hDLENBQUM7YUFBTSxDQUFDO1lBQ04sVUFBVSxHQUFTLFFBQVEsQ0FBQyxPQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO2dCQUNoQixVQUFVLEdBQVMsUUFBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3RDLENBQUM7WUFFRCxVQUFVO2dCQUNSLFVBQVUsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQztvQkFDdkMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLFFBQVEsR0FBRyxVQUFVLEVBQUU7b0JBQ3JDLENBQUMsQ0FBQyxVQUFVLENBQUM7WUFDakIsVUFBVTtnQkFDUixVQUFVLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQztvQkFDOUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxZQUFZO29CQUMzQixDQUFDLENBQUMsVUFBVSxDQUFDO1FBQ25CLENBQUM7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBUaWxlU291cmNlU3RyYXRlZ3kgfSBmcm9tICcuL3RpbGUtc291cmNlLXN0cmF0ZWd5JztcblxuZXhwb3J0IGNsYXNzIElpaWZUaWxlU291cmNlU3RyYXRlZ3kgaW1wbGVtZW50cyBUaWxlU291cmNlU3RyYXRlZ3kge1xuICBwdWJsaWMgZ2V0VGlsZVNvdXJjZShyZXNvdXJjZTogUmVzb3VyY2UpOiBhbnkge1xuICAgIGxldCB0aWxlU291cmNlOiBhbnk7XG4gICAgaWYgKHJlc291cmNlPy5zZXJ2aWNlPy5zZXJ2aWNlKSB7XG4gICAgICB0aWxlU291cmNlID0gcmVzb3VyY2Uuc2VydmljZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGlsZVNvdXJjZSA9ICg8YW55PnJlc291cmNlLnNlcnZpY2UpWydAaWQnXTtcbiAgICAgIGlmICghdGlsZVNvdXJjZSkge1xuICAgICAgICB0aWxlU291cmNlID0gKDxhbnk+cmVzb3VyY2UpWydAaWQnXTtcbiAgICAgIH1cblxuICAgICAgdGlsZVNvdXJjZSA9XG4gICAgICAgIHRpbGVTb3VyY2UgJiYgdGlsZVNvdXJjZS5zdGFydHNXaXRoKCcvLycpXG4gICAgICAgICAgPyBgJHtsb2NhdGlvbi5wcm90b2NvbH0ke3RpbGVTb3VyY2V9YFxuICAgICAgICAgIDogdGlsZVNvdXJjZTtcbiAgICAgIHRpbGVTb3VyY2UgPVxuICAgICAgICB0aWxlU291cmNlICYmICF0aWxlU291cmNlLmVuZHNXaXRoKCcvaW5mby5qc29uJylcbiAgICAgICAgICA/IGAke3RpbGVTb3VyY2V9L2luZm8uanNvbmBcbiAgICAgICAgICA6IHRpbGVTb3VyY2U7XG4gICAgfVxuICAgIHJldHVybiB0aWxlU291cmNlO1xuICB9XG59XG4iXX0=","export class IiifV3TileSourceStrategy {\n    getTileSource(resource) {\n        return resource.service.id;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWlpZi12My10aWxlLXNvdXJjZS1zdHJhdGVneS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL3ZpZXdlci1zZXJ2aWNlL2lpaWYtdjMtdGlsZS1zb3VyY2Utc3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxPQUFPLHdCQUF3QjtJQUM1QixhQUFhLENBQUMsUUFBYTtRQUNoQyxPQUFPLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO0lBQzdCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRpbGVTb3VyY2VTdHJhdGVneSB9IGZyb20gJy4vdGlsZS1zb3VyY2Utc3RyYXRlZ3knO1xuXG5leHBvcnQgY2xhc3MgSWlpZlYzVGlsZVNvdXJjZVN0cmF0ZWd5IGltcGxlbWVudHMgVGlsZVNvdXJjZVN0cmF0ZWd5IHtcbiAgcHVibGljIGdldFRpbGVTb3VyY2UocmVzb3VyY2U6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHJlc291cmNlLnNlcnZpY2UuaWQ7XG4gIH1cbn1cbiJdfQ==","export class StaticImageTileSourceStrategy {\n    getTileSource(resource) {\n        return {\n            type: 'image',\n            url: resource['@id'] || resource['id'],\n        };\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGljLWltYWdlLXRpbGUtc291cmNlLXN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvdmlld2VyLXNlcnZpY2Uvc3RhdGljLWltYWdlLXRpbGUtc291cmNlLXN0cmF0ZWd5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE1BQU0sT0FBTyw2QkFBNkI7SUFDakMsYUFBYSxDQUFDLFFBQXVCO1FBQzFDLE9BQU87WUFDTCxJQUFJLEVBQUUsT0FBTztZQUNiLEdBQUcsRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQztTQUN2QyxDQUFDO0lBQ0osQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VydmljZSB9IGZyb20gJy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBUaWxlU291cmNlU3RyYXRlZ3kgfSBmcm9tICcuL3RpbGUtc291cmNlLXN0cmF0ZWd5JztcblxuZXhwb3J0IGNsYXNzIFN0YXRpY0ltYWdlVGlsZVNvdXJjZVN0cmF0ZWd5IGltcGxlbWVudHMgVGlsZVNvdXJjZVN0cmF0ZWd5IHtcbiAgcHVibGljIGdldFRpbGVTb3VyY2UocmVzb3VyY2U6IFNlcnZpY2UgfCBhbnkpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgdXJsOiByZXNvdXJjZVsnQGlkJ10gfHwgcmVzb3VyY2VbJ2lkJ10sXG4gICAgfTtcbiAgfVxufVxuIl19","import { IiifTileSourceStrategy } from './iiif-tile-source-strategy';\nimport { IiifV3TileSourceStrategy } from './iiif-v3-tile-source-strategy';\nimport { StaticImageTileSourceStrategy } from './static-image-tile-source-strategy';\nexport class TileSourceStrategyFactory {\n    static create(resource) {\n        if (resource.service) {\n            if (resource.type === 'Image') {\n                return new IiifV3TileSourceStrategy();\n            }\n            else {\n                return new IiifTileSourceStrategy();\n            }\n        }\n        else {\n            return new StaticImageTileSourceStrategy();\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGlsZS1zb3VyY2Utc3RyYXRlZ3ktZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL3ZpZXdlci1zZXJ2aWNlL3RpbGUtc291cmNlLXN0cmF0ZWd5LWZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDckUsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDMUUsT0FBTyxFQUFFLDZCQUE2QixFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFHcEYsTUFBTSxPQUFPLHlCQUF5QjtJQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLFFBQWtCO1FBQ3JDLElBQUksUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3JCLElBQUksUUFBUSxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUUsQ0FBQztnQkFDOUIsT0FBTyxJQUFJLHdCQUF3QixFQUFFLENBQUM7WUFDeEMsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLE9BQU8sSUFBSSxzQkFBc0IsRUFBRSxDQUFDO1lBQ3RDLENBQUM7UUFDSCxDQUFDO2FBQU0sQ0FBQztZQUNOLE9BQU8sSUFBSSw2QkFBNkIsRUFBRSxDQUFDO1FBQzdDLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBJaWlmVGlsZVNvdXJjZVN0cmF0ZWd5IH0gZnJvbSAnLi9paWlmLXRpbGUtc291cmNlLXN0cmF0ZWd5JztcbmltcG9ydCB7IElpaWZWM1RpbGVTb3VyY2VTdHJhdGVneSB9IGZyb20gJy4vaWlpZi12My10aWxlLXNvdXJjZS1zdHJhdGVneSc7XG5pbXBvcnQgeyBTdGF0aWNJbWFnZVRpbGVTb3VyY2VTdHJhdGVneSB9IGZyb20gJy4vc3RhdGljLWltYWdlLXRpbGUtc291cmNlLXN0cmF0ZWd5JztcbmltcG9ydCB7IFRpbGVTb3VyY2VTdHJhdGVneSB9IGZyb20gJy4vdGlsZS1zb3VyY2Utc3RyYXRlZ3knO1xuXG5leHBvcnQgY2xhc3MgVGlsZVNvdXJjZVN0cmF0ZWd5RmFjdG9yeSB7XG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHJlc291cmNlOiBSZXNvdXJjZSk6IFRpbGVTb3VyY2VTdHJhdGVneSB7XG4gICAgaWYgKHJlc291cmNlLnNlcnZpY2UpIHtcbiAgICAgIGlmIChyZXNvdXJjZS50eXBlID09PSAnSW1hZ2UnKSB7XG4gICAgICAgIHJldHVybiBuZXcgSWlpZlYzVGlsZVNvdXJjZVN0cmF0ZWd5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IElpaWZUaWxlU291cmNlU3RyYXRlZ3koKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBTdGF0aWNJbWFnZVRpbGVTb3VyY2VTdHJhdGVneSgpO1xuICAgIH1cbiAgfVxufVxuIl19","export class CanvasGroups {\n    constructor() {\n        this.canvasGroups = [];\n        this.tileSourceAndRects = [];\n        this.canvasesPerCanvasGroup = [];\n    }\n    add(canvasGroup) {\n        this.canvasGroups.push(canvasGroup);\n        if (canvasGroup.tileSourceAndRects) {\n            canvasGroup.tileSourceAndRects.forEach((tileSourceAndRect, i) => {\n                this.tileSourceAndRects.push(tileSourceAndRect);\n            });\n        }\n    }\n    addRange(canvasGroups) {\n        this.canvasGroups = [...canvasGroups];\n    }\n    get(index) {\n        return { ...this.canvasGroups[index] };\n    }\n    findClosestIndex(point) {\n        let i = 0;\n        let lastDelta;\n        if (point === null) {\n            return -1;\n        }\n        this.canvasGroups.some(function (canvasGroup, index) {\n            const delta = Math.abs(point.x - canvasGroup.rect.centerX);\n            if (delta >= lastDelta) {\n                return true;\n            }\n            i = index;\n            lastDelta = delta;\n            return false;\n        });\n        return i;\n    }\n    length() {\n        return this.canvasGroups.length;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FudmFzLWdyb3Vwcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL21vZGVscy9jYW52YXMtZ3JvdXBzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU1BLE1BQU0sT0FBTyxZQUFZO0lBQXpCO1FBQ0UsaUJBQVksR0FBa0IsRUFBRSxDQUFDO1FBQ2pDLHVCQUFrQixHQUF3QixFQUFFLENBQUM7UUFDN0MsMkJBQXNCLEdBQWUsRUFBRSxDQUFDO0lBNEMxQyxDQUFDO0lBMUNRLEdBQUcsQ0FBQyxXQUF3QjtRQUNqQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUVwQyxJQUFJLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQ25DLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQ3BDLENBQUMsaUJBQW9DLEVBQUUsQ0FBUyxFQUFFLEVBQUU7Z0JBQ2xELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUNsRCxDQUFDLENBQ0YsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDO0lBRU0sUUFBUSxDQUFDLFlBQXdDO1FBQ3RELElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxHQUFHLFlBQVksQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFTSxHQUFHLENBQUMsS0FBYTtRQUN0QixPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7SUFDekMsQ0FBQztJQUVNLGdCQUFnQixDQUFDLEtBQVk7UUFDbEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsSUFBSSxTQUFjLENBQUM7UUFFbkIsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDbkIsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNaLENBQUM7UUFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLFdBQXdCLEVBQUUsS0FBYTtZQUN0RSxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUMzRCxJQUFJLEtBQUssSUFBSSxTQUFTLEVBQUUsQ0FBQztnQkFDdkIsT0FBTyxJQUFJLENBQUM7WUFDZCxDQUFDO1lBQ0QsQ0FBQyxHQUFHLEtBQUssQ0FBQztZQUNWLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFDbEIsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sQ0FBQyxDQUFDO0lBQ1gsQ0FBQztJQUVNLE1BQU07UUFDWCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDO0lBQ2xDLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENhbnZhc0dyb3VwLFxuICBUaWxlU291cmNlQW5kUmVjdCxcbn0gZnJvbSAnLi4vY2FudmFzLXNlcnZpY2UvdGlsZS1zb3VyY2UtYW5kLXJlY3QubW9kZWwnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuL3BvaW50JztcblxuZXhwb3J0IGNsYXNzIENhbnZhc0dyb3VwcyB7XG4gIGNhbnZhc0dyb3VwczogQ2FudmFzR3JvdXBbXSA9IFtdO1xuICB0aWxlU291cmNlQW5kUmVjdHM6IFRpbGVTb3VyY2VBbmRSZWN0W10gPSBbXTtcbiAgY2FudmFzZXNQZXJDYW52YXNHcm91cDogbnVtYmVyW11bXSA9IFtdO1xuXG4gIHB1YmxpYyBhZGQoY2FudmFzR3JvdXA6IENhbnZhc0dyb3VwKTogdm9pZCB7XG4gICAgdGhpcy5jYW52YXNHcm91cHMucHVzaChjYW52YXNHcm91cCk7XG5cbiAgICBpZiAoY2FudmFzR3JvdXAudGlsZVNvdXJjZUFuZFJlY3RzKSB7XG4gICAgICBjYW52YXNHcm91cC50aWxlU291cmNlQW5kUmVjdHMuZm9yRWFjaChcbiAgICAgICAgKHRpbGVTb3VyY2VBbmRSZWN0OiBUaWxlU291cmNlQW5kUmVjdCwgaTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgdGhpcy50aWxlU291cmNlQW5kUmVjdHMucHVzaCh0aWxlU291cmNlQW5kUmVjdCk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhZGRSYW5nZShjYW52YXNHcm91cHM6IFJlYWRvbmx5QXJyYXk8Q2FudmFzR3JvdXA+KTogdm9pZCB7XG4gICAgdGhpcy5jYW52YXNHcm91cHMgPSBbLi4uY2FudmFzR3JvdXBzXTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQoaW5kZXg6IG51bWJlcik6IENhbnZhc0dyb3VwIHtcbiAgICByZXR1cm4geyAuLi50aGlzLmNhbnZhc0dyb3Vwc1tpbmRleF0gfTtcbiAgfVxuXG4gIHB1YmxpYyBmaW5kQ2xvc2VzdEluZGV4KHBvaW50OiBQb2ludCk6IG51bWJlciB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsYXN0RGVsdGE6IGFueTtcblxuICAgIGlmIChwb2ludCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICB0aGlzLmNhbnZhc0dyb3Vwcy5zb21lKGZ1bmN0aW9uIChjYW52YXNHcm91cDogQ2FudmFzR3JvdXAsIGluZGV4OiBudW1iZXIpIHtcbiAgICAgIGNvbnN0IGRlbHRhID0gTWF0aC5hYnMocG9pbnQueCAtIGNhbnZhc0dyb3VwLnJlY3QuY2VudGVyWCk7XG4gICAgICBpZiAoZGVsdGEgPj0gbGFzdERlbHRhKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaSA9IGluZGV4O1xuICAgICAgbGFzdERlbHRhID0gZGVsdGE7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgcmV0dXJuIGk7XG4gIH1cblxuICBwdWJsaWMgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzR3JvdXBzLmxlbmd0aDtcbiAgfVxufVxuIl19","/****************************************************************\n * MIME-viewer options\n ****************************************************************/\nexport const ViewerOptions = {\n    zoom: {\n        zoomFactor: 1.15,\n        dblClickZoomFactor: 2.7,\n        // How many pixels since lastDistance before it is considered a pinch\n        pinchZoomThreshold: 3,\n    },\n    pan: {\n        // Sensitivity when determining swipe-direction.\n        // Higher threshold means that swipe must be more focused in\n        // x-direction before the gesture is recognized as \"left\" or \"right\"\n        swipeDirectionThreshold: 70,\n    },\n    // All transition times in milliseconds\n    transitions: {\n        toolbarsEaseInTime: 400,\n        toolbarsEaseOutTime: 500,\n        OSDAnimationTime: 600, // Animation-time for OSD-animations\n    },\n    overlays: {\n        // Margin between canvas groups in Dashboard View in OpenSeadragon viewport-coordinates\n        canvasGroupMarginInDashboardView: 300,\n        // Margin between canvas groups in Page View in OpenSeadragon viewport-coordinates\n        canvasGroupMarginInPageView: 20,\n    },\n    padding: {\n        // Padding in viewer container in pixels\n        header: 80, // Placeholder above viewer for header in Dashboard View\n        footer: 80, // Placeholder below viewer for footer in Dashboard View\n    },\n    colors: {\n        canvasGroupBackgroundColor: '#fafafa',\n    },\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLW9wdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9tb2RlbHMvdmlld2VyLW9wdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O2tFQUVrRTtBQUVsRSxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUc7SUFDM0IsSUFBSSxFQUFFO1FBQ0osVUFBVSxFQUFFLElBQUk7UUFDaEIsa0JBQWtCLEVBQUUsR0FBRztRQUN2QixxRUFBcUU7UUFDckUsa0JBQWtCLEVBQUUsQ0FBQztLQUN0QjtJQUVELEdBQUcsRUFBRTtRQUNILGdEQUFnRDtRQUNoRCw0REFBNEQ7UUFDNUQsb0VBQW9FO1FBQ3BFLHVCQUF1QixFQUFFLEVBQUU7S0FDNUI7SUFFRCx1Q0FBdUM7SUFDdkMsV0FBVyxFQUFFO1FBQ1gsa0JBQWtCLEVBQUUsR0FBRztRQUN2QixtQkFBbUIsRUFBRSxHQUFHO1FBQ3hCLGdCQUFnQixFQUFFLEdBQUcsRUFBRSxvQ0FBb0M7S0FDNUQ7SUFFRCxRQUFRLEVBQUU7UUFDUix1RkFBdUY7UUFDdkYsZ0NBQWdDLEVBQUUsR0FBRztRQUNyQyxrRkFBa0Y7UUFDbEYsMkJBQTJCLEVBQUUsRUFBRTtLQUNoQztJQUVELE9BQU8sRUFBRTtRQUNQLHdDQUF3QztRQUN4QyxNQUFNLEVBQUUsRUFBRSxFQUFFLHdEQUF3RDtRQUNwRSxNQUFNLEVBQUUsRUFBRSxFQUFFLHdEQUF3RDtLQUNyRTtJQUVELE1BQU0sRUFBRTtRQUNOLDBCQUEwQixFQUFFLFNBQVM7S0FDdEM7Q0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIE1JTUUtdmlld2VyIG9wdGlvbnNcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5leHBvcnQgY29uc3QgVmlld2VyT3B0aW9ucyA9IHtcbiAgem9vbToge1xuICAgIHpvb21GYWN0b3I6IDEuMTUsXG4gICAgZGJsQ2xpY2tab29tRmFjdG9yOiAyLjcsXG4gICAgLy8gSG93IG1hbnkgcGl4ZWxzIHNpbmNlIGxhc3REaXN0YW5jZSBiZWZvcmUgaXQgaXMgY29uc2lkZXJlZCBhIHBpbmNoXG4gICAgcGluY2hab29tVGhyZXNob2xkOiAzLFxuICB9LFxuXG4gIHBhbjoge1xuICAgIC8vIFNlbnNpdGl2aXR5IHdoZW4gZGV0ZXJtaW5pbmcgc3dpcGUtZGlyZWN0aW9uLlxuICAgIC8vIEhpZ2hlciB0aHJlc2hvbGQgbWVhbnMgdGhhdCBzd2lwZSBtdXN0IGJlIG1vcmUgZm9jdXNlZCBpblxuICAgIC8vIHgtZGlyZWN0aW9uIGJlZm9yZSB0aGUgZ2VzdHVyZSBpcyByZWNvZ25pemVkIGFzIFwibGVmdFwiIG9yIFwicmlnaHRcIlxuICAgIHN3aXBlRGlyZWN0aW9uVGhyZXNob2xkOiA3MCxcbiAgfSxcblxuICAvLyBBbGwgdHJhbnNpdGlvbiB0aW1lcyBpbiBtaWxsaXNlY29uZHNcbiAgdHJhbnNpdGlvbnM6IHtcbiAgICB0b29sYmFyc0Vhc2VJblRpbWU6IDQwMCxcbiAgICB0b29sYmFyc0Vhc2VPdXRUaW1lOiA1MDAsXG4gICAgT1NEQW5pbWF0aW9uVGltZTogNjAwLCAvLyBBbmltYXRpb24tdGltZSBmb3IgT1NELWFuaW1hdGlvbnNcbiAgfSxcblxuICBvdmVybGF5czoge1xuICAgIC8vIE1hcmdpbiBiZXR3ZWVuIGNhbnZhcyBncm91cHMgaW4gRGFzaGJvYXJkIFZpZXcgaW4gT3BlblNlYWRyYWdvbiB2aWV3cG9ydC1jb29yZGluYXRlc1xuICAgIGNhbnZhc0dyb3VwTWFyZ2luSW5EYXNoYm9hcmRWaWV3OiAzMDAsXG4gICAgLy8gTWFyZ2luIGJldHdlZW4gY2FudmFzIGdyb3VwcyBpbiBQYWdlIFZpZXcgaW4gT3BlblNlYWRyYWdvbiB2aWV3cG9ydC1jb29yZGluYXRlc1xuICAgIGNhbnZhc0dyb3VwTWFyZ2luSW5QYWdlVmlldzogMjAsXG4gIH0sXG5cbiAgcGFkZGluZzoge1xuICAgIC8vIFBhZGRpbmcgaW4gdmlld2VyIGNvbnRhaW5lciBpbiBwaXhlbHNcbiAgICBoZWFkZXI6IDgwLCAvLyBQbGFjZWhvbGRlciBhYm92ZSB2aWV3ZXIgZm9yIGhlYWRlciBpbiBEYXNoYm9hcmQgVmlld1xuICAgIGZvb3RlcjogODAsIC8vIFBsYWNlaG9sZGVyIGJlbG93IHZpZXdlciBmb3IgZm9vdGVyIGluIERhc2hib2FyZCBWaWV3XG4gIH0sXG5cbiAgY29sb3JzOiB7XG4gICAgY2FudmFzR3JvdXBCYWNrZ3JvdW5kQ29sb3I6ICcjZmFmYWZhJyxcbiAgfSxcbn07XG4iXX0=","export class Rect {\n    constructor(fields) {\n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.height = 0;\n        this.centerX = 0;\n        this.centerY = 0;\n        if (fields) {\n            this.x = fields.x || this.x;\n            this.y = fields.y || this.y;\n            this.width = fields.width || this.width;\n            this.height = fields.height || this.height;\n            this.centerX = this.x + this.width / 2;\n            this.centerY = this.y + this.height / 2;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL21vZGVscy9yZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sT0FBTyxJQUFJO0lBUWYsWUFBWSxNQUtYO1FBWk0sTUFBQyxHQUFHLENBQUMsQ0FBQztRQUNOLE1BQUMsR0FBRyxDQUFDLENBQUM7UUFDTixVQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsV0FBTSxHQUFHLENBQUMsQ0FBQztRQUNYLFlBQU8sR0FBRyxDQUFDLENBQUM7UUFDWixZQUFPLEdBQUcsQ0FBQyxDQUFDO1FBUWpCLElBQUksTUFBTSxFQUFFLENBQUM7WUFDWCxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM1QixJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM1QixJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN4QyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUMzQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDdkMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgUmVjdCB7XG4gIHB1YmxpYyB4ID0gMDtcbiAgcHVibGljIHkgPSAwO1xuICBwdWJsaWMgd2lkdGggPSAwO1xuICBwdWJsaWMgaGVpZ2h0ID0gMDtcbiAgcHVibGljIGNlbnRlclggPSAwO1xuICBwdWJsaWMgY2VudGVyWSA9IDA7XG5cbiAgY29uc3RydWN0b3IoZmllbGRzPzoge1xuICAgIHg/OiBudW1iZXI7XG4gICAgeT86IG51bWJlcjtcbiAgICB3aWR0aD86IG51bWJlcjtcbiAgICBoZWlnaHQ/OiBudW1iZXI7XG4gIH0pIHtcbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICB0aGlzLnggPSBmaWVsZHMueCB8fCB0aGlzLng7XG4gICAgICB0aGlzLnkgPSBmaWVsZHMueSB8fCB0aGlzLnk7XG4gICAgICB0aGlzLndpZHRoID0gZmllbGRzLndpZHRoIHx8IHRoaXMud2lkdGg7XG4gICAgICB0aGlzLmhlaWdodCA9IGZpZWxkcy5oZWlnaHQgfHwgdGhpcy5oZWlnaHQ7XG4gICAgICB0aGlzLmNlbnRlclggPSB0aGlzLnggKyB0aGlzLndpZHRoIC8gMjtcbiAgICAgIHRoaXMuY2VudGVyWSA9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC8gMjtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","export class Utils {\n    static numbersAreClose(thing, realThing, epsilon) {\n        return Math.abs(thing - realThing) <= epsilon;\n    }\n    static shortenDecimals(zoom, precision) {\n        const short = Number(zoom).toPrecision(precision);\n        return Number(short);\n    }\n    static getScaleFactor(physicalScale, ignorePhysicalScale = false) {\n        return ignorePhysicalScale ? 1 : (physicalScale ? physicalScale : 1) * 400;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS91dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLE9BQU8sS0FBSztJQUNoQixNQUFNLENBQUMsZUFBZSxDQUNwQixLQUFhLEVBQ2IsU0FBaUIsRUFDakIsT0FBZTtRQUVmLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLElBQUksT0FBTyxDQUFDO0lBQ2hELENBQUM7SUFDRCxNQUFNLENBQUMsZUFBZSxDQUFDLElBQVMsRUFBRSxTQUFpQjtRQUNqRCxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xELE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxNQUFNLENBQUMsY0FBYyxDQUNuQixhQUFpQyxFQUNqQyxtQkFBbUIsR0FBRyxLQUFLO1FBRTNCLE9BQU8sbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBQzdFLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBVdGlscyB7XG4gIHN0YXRpYyBudW1iZXJzQXJlQ2xvc2UoXG4gICAgdGhpbmc6IG51bWJlcixcbiAgICByZWFsVGhpbmc6IG51bWJlcixcbiAgICBlcHNpbG9uOiBudW1iZXIsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBNYXRoLmFicyh0aGluZyAtIHJlYWxUaGluZykgPD0gZXBzaWxvbjtcbiAgfVxuICBzdGF0aWMgc2hvcnRlbkRlY2ltYWxzKHpvb206IGFueSwgcHJlY2lzaW9uOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IHNob3J0ID0gTnVtYmVyKHpvb20pLnRvUHJlY2lzaW9uKHByZWNpc2lvbik7XG4gICAgcmV0dXJuIE51bWJlcihzaG9ydCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0U2NhbGVGYWN0b3IoXG4gICAgcGh5c2ljYWxTY2FsZTogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICAgIGlnbm9yZVBoeXNpY2FsU2NhbGUgPSBmYWxzZSxcbiAgKTogbnVtYmVyIHtcbiAgICByZXR1cm4gaWdub3JlUGh5c2ljYWxTY2FsZSA/IDEgOiAocGh5c2ljYWxTY2FsZSA/IHBoeXNpY2FsU2NhbGUgOiAxKSAqIDQwMDtcbiAgfVxufVxuIl19","import { Rect } from '../models/rect';\nimport { Utils } from '../utils';\nexport const canvasRectFromCriteria = (rotation, criteria, x, ignorePhysicalScale) => {\n    let rect = {};\n    const scale = Utils.getScaleFactor(criteria.canvasSource.service?.service?.physicalScale, ignorePhysicalScale);\n    if (rotation === 90 || rotation === 270) {\n        rect = {\n            height: Math.trunc(criteria.canvasSource.width * scale),\n            width: Math.trunc(criteria.canvasSource.height * scale),\n            x: x,\n            y: Math.trunc((criteria.canvasSource.width * scale) / 2) * -1,\n        };\n    }\n    else {\n        rect = {\n            height: Math.trunc(criteria.canvasSource.height * scale),\n            width: Math.trunc(criteria.canvasSource.width * scale),\n            x: x,\n            y: Math.trunc((criteria.canvasSource.height * scale) / 2) * -1,\n        };\n    }\n    return new Rect(rect);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsY3VsYXRlLWNhbnZhcy1ncm91cC1wb3NpdGlvbi11dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2NhbnZhcy1ncm91cC1wb3NpdGlvbi9jYWxjdWxhdGUtY2FudmFzLWdyb3VwLXBvc2l0aW9uLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN0QyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBR2pDLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLENBQ3BDLFFBQWdCLEVBQ2hCLFFBQXFDLEVBQ3JDLENBQVMsRUFDVCxtQkFBNEIsRUFDNUIsRUFBRTtJQUNGLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUNkLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQ2hDLFFBQVEsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQ3JELG1CQUFtQixDQUNwQixDQUFDO0lBQ0YsSUFBSSxRQUFRLEtBQUssRUFBRSxJQUFJLFFBQVEsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUN4QyxJQUFJLEdBQUc7WUFDTCxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDdkQsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3ZELENBQUMsRUFBRSxDQUFDO1lBQ0osQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDOUQsQ0FBQztJQUNKLENBQUM7U0FBTSxDQUFDO1FBQ04sSUFBSSxHQUFHO1lBQ0wsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3hELEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUN0RCxDQUFDLEVBQUUsQ0FBQztZQUNKLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQy9ELENBQUM7SUFDSixDQUFDO0lBQ0QsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN4QixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWN0IH0gZnJvbSAnLi4vbW9kZWxzL3JlY3QnO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBDYW52YXNHcm91cFBvc2l0aW9uQ3JpdGVyaWEgfSBmcm9tICcuL2NhbGN1bGF0ZS1jYW52YXMtZ3JvdXAtcG9zaXRpb24tc3RyYXRlZ3knO1xuXG5leHBvcnQgY29uc3QgY2FudmFzUmVjdEZyb21Dcml0ZXJpYSA9IChcbiAgcm90YXRpb246IG51bWJlcixcbiAgY3JpdGVyaWE6IENhbnZhc0dyb3VwUG9zaXRpb25Dcml0ZXJpYSxcbiAgeDogbnVtYmVyLFxuICBpZ25vcmVQaHlzaWNhbFNjYWxlOiBib29sZWFuLFxuKSA9PiB7XG4gIGxldCByZWN0ID0ge307XG4gIGNvbnN0IHNjYWxlID0gVXRpbHMuZ2V0U2NhbGVGYWN0b3IoXG4gICAgY3JpdGVyaWEuY2FudmFzU291cmNlLnNlcnZpY2U/LnNlcnZpY2U/LnBoeXNpY2FsU2NhbGUsXG4gICAgaWdub3JlUGh5c2ljYWxTY2FsZSxcbiAgKTtcbiAgaWYgKHJvdGF0aW9uID09PSA5MCB8fCByb3RhdGlvbiA9PT0gMjcwKSB7XG4gICAgcmVjdCA9IHtcbiAgICAgIGhlaWdodDogTWF0aC50cnVuYyhjcml0ZXJpYS5jYW52YXNTb3VyY2Uud2lkdGggKiBzY2FsZSksXG4gICAgICB3aWR0aDogTWF0aC50cnVuYyhjcml0ZXJpYS5jYW52YXNTb3VyY2UuaGVpZ2h0ICogc2NhbGUpLFxuICAgICAgeDogeCxcbiAgICAgIHk6IE1hdGgudHJ1bmMoKGNyaXRlcmlhLmNhbnZhc1NvdXJjZS53aWR0aCAqIHNjYWxlKSAvIDIpICogLTEsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZWN0ID0ge1xuICAgICAgaGVpZ2h0OiBNYXRoLnRydW5jKGNyaXRlcmlhLmNhbnZhc1NvdXJjZS5oZWlnaHQgKiBzY2FsZSksXG4gICAgICB3aWR0aDogTWF0aC50cnVuYyhjcml0ZXJpYS5jYW52YXNTb3VyY2Uud2lkdGggKiBzY2FsZSksXG4gICAgICB4OiB4LFxuICAgICAgeTogTWF0aC50cnVuYygoY3JpdGVyaWEuY2FudmFzU291cmNlLmhlaWdodCAqIHNjYWxlKSAvIDIpICogLTEsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbmV3IFJlY3QocmVjdCk7XG59O1xuIl19","import { ViewerOptions } from '../models/viewer-options';\nimport { ViewingDirection } from '../models/viewing-direction';\nimport { canvasRectFromCriteria } from './calculate-canvas-group-position-utils';\nexport class OnePageCalculatePagePositionStrategy {\n    constructor(config) {\n        this.config = config;\n    }\n    calculateCanvasGroupPosition(criteria, rotation = 0) {\n        let x;\n        if (!criteria.canvasGroupIndex) {\n            if (rotation === 90 || rotation === 270) {\n                x = (criteria.canvasSource.height / 2) * -1;\n            }\n            else {\n                x = (criteria.canvasSource.width / 2) * -1;\n            }\n        }\n        else {\n            x =\n                criteria.viewingDirection === ViewingDirection.LTR\n                    ? this.calculateLtrX(criteria)\n                    : this.calculateRtlX(criteria);\n        }\n        return canvasRectFromCriteria(rotation, criteria, x, this.config.ignorePhysicalScale);\n    }\n    calculateLtrX(criteria) {\n        return (criteria.previousCanvasGroupPosition.x +\n            criteria.previousCanvasGroupPosition.width +\n            ViewerOptions.overlays.canvasGroupMarginInDashboardView);\n    }\n    calculateRtlX(criteria) {\n        return (criteria.previousCanvasGroupPosition.x -\n            criteria.previousCanvasGroupPosition.width -\n            ViewerOptions.overlays.canvasGroupMarginInDashboardView);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib25lLXBhZ2UtY2FsY3VsYXRlLXBhZ2UtcG9zaXRpb24tc3RyYXRlZ3kuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9jYW52YXMtZ3JvdXAtcG9zaXRpb24vb25lLXBhZ2UtY2FsY3VsYXRlLXBhZ2UtcG9zaXRpb24tc3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBSy9ELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBRWpGLE1BQU0sT0FBTyxvQ0FBb0M7SUFHL0MsWUFBb0IsTUFBd0I7UUFBeEIsV0FBTSxHQUFOLE1BQU0sQ0FBa0I7SUFBRyxDQUFDO0lBRWhELDRCQUE0QixDQUMxQixRQUFxQyxFQUNyQyxRQUFRLEdBQUcsQ0FBQztRQUVaLElBQUksQ0FBUyxDQUFDO1FBQ2QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQy9CLElBQUksUUFBUSxLQUFLLEVBQUUsSUFBSSxRQUFRLEtBQUssR0FBRyxFQUFFLENBQUM7Z0JBQ3hDLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzlDLENBQUM7aUJBQU0sQ0FBQztnQkFDTixDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUM3QyxDQUFDO1FBQ0gsQ0FBQzthQUFNLENBQUM7WUFDTixDQUFDO2dCQUNDLFFBQVEsQ0FBQyxnQkFBZ0IsS0FBSyxnQkFBZ0IsQ0FBQyxHQUFHO29CQUNoRCxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7b0JBQzlCLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JDLENBQUM7UUFDRCxPQUFPLHNCQUFzQixDQUMzQixRQUFRLEVBQ1IsUUFBUSxFQUNSLENBQUMsRUFDRCxJQUFJLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUNoQyxDQUFDO0lBQ0osQ0FBQztJQUVPLGFBQWEsQ0FBQyxRQUFxQztRQUN6RCxPQUFPLENBQ0wsUUFBUSxDQUFDLDJCQUEyQixDQUFDLENBQUM7WUFDdEMsUUFBUSxDQUFDLDJCQUEyQixDQUFDLEtBQUs7WUFDMUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxnQ0FBZ0MsQ0FDeEQsQ0FBQztJQUNKLENBQUM7SUFFTyxhQUFhLENBQUMsUUFBcUM7UUFDekQsT0FBTyxDQUNMLFFBQVEsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1lBQ3RDLFFBQVEsQ0FBQywyQkFBMkIsQ0FBQyxLQUFLO1lBQzFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsZ0NBQWdDLENBQ3hELENBQUM7SUFDSixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNaW1lVmlld2VyQ29uZmlnIH0gZnJvbSAnLi4vbWltZS12aWV3ZXItY29uZmlnJztcbmltcG9ydCB7IFJlY3QgfSBmcm9tICcuLi9tb2RlbHMvcmVjdCc7XG5pbXBvcnQgeyBWaWV3ZXJPcHRpb25zIH0gZnJvbSAnLi4vbW9kZWxzL3ZpZXdlci1vcHRpb25zJztcbmltcG9ydCB7IFZpZXdpbmdEaXJlY3Rpb24gfSBmcm9tICcuLi9tb2RlbHMvdmlld2luZy1kaXJlY3Rpb24nO1xuaW1wb3J0IHtcbiAgQ2FsY3VsYXRlQ2FudmFzR3JvdXBQb3NpdGlvblN0cmF0ZWd5LFxuICBDYW52YXNHcm91cFBvc2l0aW9uQ3JpdGVyaWEsXG59IGZyb20gJy4vY2FsY3VsYXRlLWNhbnZhcy1ncm91cC1wb3NpdGlvbi1zdHJhdGVneSc7XG5pbXBvcnQgeyBjYW52YXNSZWN0RnJvbUNyaXRlcmlhIH0gZnJvbSAnLi9jYWxjdWxhdGUtY2FudmFzLWdyb3VwLXBvc2l0aW9uLXV0aWxzJztcblxuZXhwb3J0IGNsYXNzIE9uZVBhZ2VDYWxjdWxhdGVQYWdlUG9zaXRpb25TdHJhdGVneVxuICBpbXBsZW1lbnRzIENhbGN1bGF0ZUNhbnZhc0dyb3VwUG9zaXRpb25TdHJhdGVneVxue1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbmZpZzogTWltZVZpZXdlckNvbmZpZykge31cblxuICBjYWxjdWxhdGVDYW52YXNHcm91cFBvc2l0aW9uKFxuICAgIGNyaXRlcmlhOiBDYW52YXNHcm91cFBvc2l0aW9uQ3JpdGVyaWEsXG4gICAgcm90YXRpb24gPSAwLFxuICApOiBSZWN0IHtcbiAgICBsZXQgeDogbnVtYmVyO1xuICAgIGlmICghY3JpdGVyaWEuY2FudmFzR3JvdXBJbmRleCkge1xuICAgICAgaWYgKHJvdGF0aW9uID09PSA5MCB8fCByb3RhdGlvbiA9PT0gMjcwKSB7XG4gICAgICAgIHggPSAoY3JpdGVyaWEuY2FudmFzU291cmNlLmhlaWdodCAvIDIpICogLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4ID0gKGNyaXRlcmlhLmNhbnZhc1NvdXJjZS53aWR0aCAvIDIpICogLTE7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHggPVxuICAgICAgICBjcml0ZXJpYS52aWV3aW5nRGlyZWN0aW9uID09PSBWaWV3aW5nRGlyZWN0aW9uLkxUUlxuICAgICAgICAgID8gdGhpcy5jYWxjdWxhdGVMdHJYKGNyaXRlcmlhKVxuICAgICAgICAgIDogdGhpcy5jYWxjdWxhdGVSdGxYKGNyaXRlcmlhKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbnZhc1JlY3RGcm9tQ3JpdGVyaWEoXG4gICAgICByb3RhdGlvbixcbiAgICAgIGNyaXRlcmlhLFxuICAgICAgeCxcbiAgICAgIHRoaXMuY29uZmlnLmlnbm9yZVBoeXNpY2FsU2NhbGUsXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlTHRyWChjcml0ZXJpYTogQ2FudmFzR3JvdXBQb3NpdGlvbkNyaXRlcmlhKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGNyaXRlcmlhLnByZXZpb3VzQ2FudmFzR3JvdXBQb3NpdGlvbi54ICtcbiAgICAgIGNyaXRlcmlhLnByZXZpb3VzQ2FudmFzR3JvdXBQb3NpdGlvbi53aWR0aCArXG4gICAgICBWaWV3ZXJPcHRpb25zLm92ZXJsYXlzLmNhbnZhc0dyb3VwTWFyZ2luSW5EYXNoYm9hcmRWaWV3XG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlUnRsWChjcml0ZXJpYTogQ2FudmFzR3JvdXBQb3NpdGlvbkNyaXRlcmlhKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGNyaXRlcmlhLnByZXZpb3VzQ2FudmFzR3JvdXBQb3NpdGlvbi54IC1cbiAgICAgIGNyaXRlcmlhLnByZXZpb3VzQ2FudmFzR3JvdXBQb3NpdGlvbi53aWR0aCAtXG4gICAgICBWaWV3ZXJPcHRpb25zLm92ZXJsYXlzLmNhbnZhc0dyb3VwTWFyZ2luSW5EYXNoYm9hcmRWaWV3XG4gICAgKTtcbiAgfVxufVxuIl19","import { OnePageCalculatePagePositionStrategy } from '../canvas-group-position/one-page-calculate-page-position-strategy';\nimport { CanvasGroups } from '../models/canvas-groups';\nimport { Rect } from '../models/rect';\nexport class OneCanvasPerCanvasGroupStrategy {\n    constructor(config, viewingDirection, rotation) {\n        this.config = config;\n        this.viewingDirection = viewingDirection;\n        this.rotation = rotation;\n        this.positionStrategy = new OnePageCalculatePagePositionStrategy(this.config);\n    }\n    addAll(tileSources) {\n        const canvasGroups = new CanvasGroups();\n        tileSources.forEach((tileSource, index) => {\n            const previousCanvasGroup = this.getPreviousCanvasGroup(canvasGroups, index);\n            const position = this.calculatePosition(tileSource, index, previousCanvasGroup);\n            const newCanvasGroup = this.createCanvasGroup(tileSource, position);\n            canvasGroups.add(newCanvasGroup);\n            canvasGroups.canvasesPerCanvasGroup.push([index]);\n        });\n        return canvasGroups;\n    }\n    getPreviousCanvasGroup(canvasGroups, index) {\n        return index === 0\n            ? undefined\n            : canvasGroups.canvasGroups[canvasGroups.canvasGroups.length - 1];\n    }\n    calculatePosition(tileSource, index, previousCanvasGroup) {\n        return this.positionStrategy.calculateCanvasGroupPosition({\n            canvasGroupIndex: index,\n            canvasSource: tileSource,\n            previousCanvasGroupPosition: previousCanvasGroup\n                ? previousCanvasGroup.rect\n                : new Rect(),\n            viewingDirection: this.viewingDirection,\n        }, this.rotation);\n    }\n    createCanvasGroup(tileSource, position) {\n        const tileSourceAndRect = { tileSource, rect: position };\n        return { tileSourceAndRects: [tileSourceAndRect], rect: position };\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib25lLWNhbnZhcy1wZXItY2FudmFzLWdyb3VwLXN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvY2FudmFzLXNlcnZpY2Uvb25lLWNhbnZhcy1wZXItY2FudmFzLWdyb3VwLXN0cmF0ZWd5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxvQ0FBb0MsRUFBRSxNQUFNLG9FQUFvRSxDQUFDO0FBRTFILE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFLdEMsTUFBTSxPQUFPLCtCQUErQjtJQUsxQyxZQUNVLE1BQXdCLEVBQ3hCLGdCQUFrQyxFQUNsQyxRQUFnQjtRQUZoQixXQUFNLEdBQU4sTUFBTSxDQUFrQjtRQUN4QixxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO1FBQ2xDLGFBQVEsR0FBUixRQUFRLENBQVE7UUFFeEIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksb0NBQW9DLENBQzlELElBQUksQ0FBQyxNQUFNLENBQ1osQ0FBQztJQUNKLENBQUM7SUFFRCxNQUFNLENBQUMsV0FBK0I7UUFDcEMsTUFBTSxZQUFZLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUV4QyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQ3hDLE1BQU0sbUJBQW1CLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUNyRCxZQUFZLEVBQ1osS0FBSyxDQUNOLENBQUM7WUFDRixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQ3JDLFVBQVUsRUFDVixLQUFLLEVBQ0wsbUJBQW1CLENBQ3BCLENBQUM7WUFDRixNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBRXBFLFlBQVksQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDakMsWUFBWSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDcEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxPQUFPLFlBQVksQ0FBQztJQUN0QixDQUFDO0lBRU8sc0JBQXNCLENBQzVCLFlBQTBCLEVBQzFCLEtBQWE7UUFFYixPQUFPLEtBQUssS0FBSyxDQUFDO1lBQ2hCLENBQUMsQ0FBQyxTQUFTO1lBQ1gsQ0FBQyxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVPLGlCQUFpQixDQUN2QixVQUFlLEVBQ2YsS0FBYSxFQUNiLG1CQUFpQztRQUVqQyxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyw0QkFBNEIsQ0FDdkQ7WUFDRSxnQkFBZ0IsRUFBRSxLQUFLO1lBQ3ZCLFlBQVksRUFBRSxVQUFVO1lBQ3hCLDJCQUEyQixFQUFFLG1CQUFtQjtnQkFDOUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLElBQUk7Z0JBQzFCLENBQUMsQ0FBQyxJQUFJLElBQUksRUFBRTtZQUNkLGdCQUFnQixFQUFFLElBQUksQ0FBQyxnQkFBZ0I7U0FDeEMsRUFDRCxJQUFJLENBQUMsUUFBUSxDQUNkLENBQUM7SUFDSixDQUFDO0lBRU8saUJBQWlCLENBQUMsVUFBZSxFQUFFLFFBQWM7UUFDdkQsTUFBTSxpQkFBaUIsR0FBc0IsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDO1FBQzVFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDO0lBQ3JFLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9uZVBhZ2VDYWxjdWxhdGVQYWdlUG9zaXRpb25TdHJhdGVneSB9IGZyb20gJy4uL2NhbnZhcy1ncm91cC1wb3NpdGlvbi9vbmUtcGFnZS1jYWxjdWxhdGUtcGFnZS1wb3NpdGlvbi1zdHJhdGVneSc7XG5pbXBvcnQgeyBNaW1lVmlld2VyQ29uZmlnIH0gZnJvbSAnLi4vbWltZS12aWV3ZXItY29uZmlnJztcbmltcG9ydCB7IENhbnZhc0dyb3VwcyB9IGZyb20gJy4uL21vZGVscy9jYW52YXMtZ3JvdXBzJztcbmltcG9ydCB7IFJlY3QgfSBmcm9tICcuLi9tb2RlbHMvcmVjdCc7XG5pbXBvcnQgeyBWaWV3aW5nRGlyZWN0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL3ZpZXdpbmctZGlyZWN0aW9uJztcbmltcG9ydCB7IEFic3RyYWN0Q2FudmFzR3JvdXBTdHJhdGVneSB9IGZyb20gJy4vY2FudmFzLWdyb3VwLnN0cmF0ZWd5JztcbmltcG9ydCB7IENhbnZhc0dyb3VwLCBUaWxlU291cmNlQW5kUmVjdCB9IGZyb20gJy4vdGlsZS1zb3VyY2UtYW5kLXJlY3QubW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgT25lQ2FudmFzUGVyQ2FudmFzR3JvdXBTdHJhdGVneVxuICBpbXBsZW1lbnRzIEFic3RyYWN0Q2FudmFzR3JvdXBTdHJhdGVneVxue1xuICBwcml2YXRlIHBvc2l0aW9uU3RyYXRlZ3k6IE9uZVBhZ2VDYWxjdWxhdGVQYWdlUG9zaXRpb25TdHJhdGVneTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGNvbmZpZzogTWltZVZpZXdlckNvbmZpZyxcbiAgICBwcml2YXRlIHZpZXdpbmdEaXJlY3Rpb246IFZpZXdpbmdEaXJlY3Rpb24sXG4gICAgcHJpdmF0ZSByb3RhdGlvbjogbnVtYmVyLFxuICApIHtcbiAgICB0aGlzLnBvc2l0aW9uU3RyYXRlZ3kgPSBuZXcgT25lUGFnZUNhbGN1bGF0ZVBhZ2VQb3NpdGlvblN0cmF0ZWd5KFxuICAgICAgdGhpcy5jb25maWcsXG4gICAgKTtcbiAgfVxuXG4gIGFkZEFsbCh0aWxlU291cmNlczogUmVhZG9ubHlBcnJheTxhbnk+KTogQ2FudmFzR3JvdXBzIHtcbiAgICBjb25zdCBjYW52YXNHcm91cHMgPSBuZXcgQ2FudmFzR3JvdXBzKCk7XG5cbiAgICB0aWxlU291cmNlcy5mb3JFYWNoKCh0aWxlU291cmNlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlvdXNDYW52YXNHcm91cCA9IHRoaXMuZ2V0UHJldmlvdXNDYW52YXNHcm91cChcbiAgICAgICAgY2FudmFzR3JvdXBzLFxuICAgICAgICBpbmRleCxcbiAgICAgICk7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuY2FsY3VsYXRlUG9zaXRpb24oXG4gICAgICAgIHRpbGVTb3VyY2UsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBwcmV2aW91c0NhbnZhc0dyb3VwLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IG5ld0NhbnZhc0dyb3VwID0gdGhpcy5jcmVhdGVDYW52YXNHcm91cCh0aWxlU291cmNlLCBwb3NpdGlvbik7XG5cbiAgICAgIGNhbnZhc0dyb3Vwcy5hZGQobmV3Q2FudmFzR3JvdXApO1xuICAgICAgY2FudmFzR3JvdXBzLmNhbnZhc2VzUGVyQ2FudmFzR3JvdXAucHVzaChbaW5kZXhdKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBjYW52YXNHcm91cHM7XG4gIH1cblxuICBwcml2YXRlIGdldFByZXZpb3VzQ2FudmFzR3JvdXAoXG4gICAgY2FudmFzR3JvdXBzOiBDYW52YXNHcm91cHMsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKTogQ2FudmFzR3JvdXAgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiBpbmRleCA9PT0gMFxuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDogY2FudmFzR3JvdXBzLmNhbnZhc0dyb3Vwc1tjYW52YXNHcm91cHMuY2FudmFzR3JvdXBzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVQb3NpdGlvbihcbiAgICB0aWxlU291cmNlOiBhbnksXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBwcmV2aW91c0NhbnZhc0dyb3VwPzogQ2FudmFzR3JvdXAsXG4gICk6IFJlY3Qge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uU3RyYXRlZ3kuY2FsY3VsYXRlQ2FudmFzR3JvdXBQb3NpdGlvbihcbiAgICAgIHtcbiAgICAgICAgY2FudmFzR3JvdXBJbmRleDogaW5kZXgsXG4gICAgICAgIGNhbnZhc1NvdXJjZTogdGlsZVNvdXJjZSxcbiAgICAgICAgcHJldmlvdXNDYW52YXNHcm91cFBvc2l0aW9uOiBwcmV2aW91c0NhbnZhc0dyb3VwXG4gICAgICAgICAgPyBwcmV2aW91c0NhbnZhc0dyb3VwLnJlY3RcbiAgICAgICAgICA6IG5ldyBSZWN0KCksXG4gICAgICAgIHZpZXdpbmdEaXJlY3Rpb246IHRoaXMudmlld2luZ0RpcmVjdGlvbixcbiAgICAgIH0sXG4gICAgICB0aGlzLnJvdGF0aW9uLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNhbnZhc0dyb3VwKHRpbGVTb3VyY2U6IGFueSwgcG9zaXRpb246IFJlY3QpOiBDYW52YXNHcm91cCB7XG4gICAgY29uc3QgdGlsZVNvdXJjZUFuZFJlY3Q6IFRpbGVTb3VyY2VBbmRSZWN0ID0geyB0aWxlU291cmNlLCByZWN0OiBwb3NpdGlvbiB9O1xuICAgIHJldHVybiB7IHRpbGVTb3VyY2VBbmRSZWN0czogW3RpbGVTb3VyY2VBbmRSZWN0XSwgcmVjdDogcG9zaXRpb24gfTtcbiAgfVxufVxuIl19","import { ViewerOptions } from '../models/viewer-options';\nimport { ViewingDirection } from '../models/viewing-direction';\nimport { canvasRectFromCriteria } from './calculate-canvas-group-position-utils';\nexport class TwoPageCalculateCanvasGroupPositionStrategy {\n    constructor(config) {\n        this.config = config;\n    }\n    calculateCanvasGroupPosition(criteria, rotation = 0) {\n        let x;\n        if (!criteria.canvasGroupIndex) {\n            // First page\n            x = 0;\n        }\n        else if (criteria.canvasGroupIndex % 2) {\n            // Even page numbers\n            x =\n                criteria.viewingDirection === ViewingDirection.LTR\n                    ? this.calculateEvenLtrX(criteria)\n                    : this.calculateEvenRtlX(criteria);\n        }\n        else {\n            // Odd page numbers\n            x =\n                criteria.viewingDirection === ViewingDirection.LTR\n                    ? this.calculateOddLtrX(criteria)\n                    : this.calculateOddRtlX(criteria);\n        }\n        return canvasRectFromCriteria(rotation, criteria, x, this.config.ignorePhysicalScale);\n    }\n    calculateEvenLtrX(criteria) {\n        return (criteria.previousCanvasGroupPosition.x +\n            criteria.previousCanvasGroupPosition.width +\n            ViewerOptions.overlays.canvasGroupMarginInDashboardView);\n    }\n    calculateOddLtrX(criteria) {\n        return (criteria.previousCanvasGroupPosition.x +\n            criteria.previousCanvasGroupPosition.width);\n    }\n    calculateEvenRtlX(criteria) {\n        return (criteria.previousCanvasGroupPosition.x -\n            criteria.canvasSource.width -\n            ViewerOptions.overlays.canvasGroupMarginInDashboardView);\n    }\n    calculateOddRtlX(criteria) {\n        return criteria.previousCanvasGroupPosition.x - criteria.canvasSource.width;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHdvLXBhZ2UtY2FsY3VsYXRlLXBhZ2UtcG9zaXRpb24tc3RyYXRlZ3kuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9jYW52YXMtZ3JvdXAtcG9zaXRpb24vdHdvLXBhZ2UtY2FsY3VsYXRlLXBhZ2UtcG9zaXRpb24tc3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBSy9ELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBRWpGLE1BQU0sT0FBTywyQ0FBMkM7SUFHdEQsWUFBb0IsTUFBd0I7UUFBeEIsV0FBTSxHQUFOLE1BQU0sQ0FBa0I7SUFBRyxDQUFDO0lBRWhELDRCQUE0QixDQUMxQixRQUFxQyxFQUNyQyxRQUFRLEdBQUcsQ0FBQztRQUVaLElBQUksQ0FBUyxDQUFDO1FBRWQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQy9CLGFBQWE7WUFDYixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1IsQ0FBQzthQUFNLElBQUksUUFBUSxDQUFDLGdCQUFnQixHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3pDLG9CQUFvQjtZQUNwQixDQUFDO2dCQUNDLFFBQVEsQ0FBQyxnQkFBZ0IsS0FBSyxnQkFBZ0IsQ0FBQyxHQUFHO29CQUNoRCxDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQztvQkFDbEMsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN6QyxDQUFDO2FBQU0sQ0FBQztZQUNOLG1CQUFtQjtZQUNuQixDQUFDO2dCQUNDLFFBQVEsQ0FBQyxnQkFBZ0IsS0FBSyxnQkFBZ0IsQ0FBQyxHQUFHO29CQUNoRCxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQztvQkFDakMsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4QyxDQUFDO1FBRUQsT0FBTyxzQkFBc0IsQ0FDM0IsUUFBUSxFQUNSLFFBQVEsRUFDUixDQUFDLEVBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FDaEMsQ0FBQztJQUNKLENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxRQUFxQztRQUM3RCxPQUFPLENBQ0wsUUFBUSxDQUFDLDJCQUEyQixDQUFDLENBQUM7WUFDdEMsUUFBUSxDQUFDLDJCQUEyQixDQUFDLEtBQUs7WUFDMUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxnQ0FBZ0MsQ0FDeEQsQ0FBQztJQUNKLENBQUM7SUFFTyxnQkFBZ0IsQ0FBQyxRQUFxQztRQUM1RCxPQUFPLENBQ0wsUUFBUSxDQUFDLDJCQUEyQixDQUFDLENBQUM7WUFDdEMsUUFBUSxDQUFDLDJCQUEyQixDQUFDLEtBQUssQ0FDM0MsQ0FBQztJQUNKLENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxRQUFxQztRQUM3RCxPQUFPLENBQ0wsUUFBUSxDQUFDLDJCQUEyQixDQUFDLENBQUM7WUFDdEMsUUFBUSxDQUFDLFlBQVksQ0FBQyxLQUFLO1lBQzNCLGFBQWEsQ0FBQyxRQUFRLENBQUMsZ0NBQWdDLENBQ3hELENBQUM7SUFDSixDQUFDO0lBRU8sZ0JBQWdCLENBQUMsUUFBcUM7UUFDNUQsT0FBTyxRQUFRLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO0lBQzlFLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1pbWVWaWV3ZXJDb25maWcgfSBmcm9tICcuLi9taW1lLXZpZXdlci1jb25maWcnO1xuaW1wb3J0IHsgUmVjdCB9IGZyb20gJy4uL21vZGVscy9yZWN0JztcbmltcG9ydCB7IFZpZXdlck9wdGlvbnMgfSBmcm9tICcuLi9tb2RlbHMvdmlld2VyLW9wdGlvbnMnO1xuaW1wb3J0IHsgVmlld2luZ0RpcmVjdGlvbiB9IGZyb20gJy4uL21vZGVscy92aWV3aW5nLWRpcmVjdGlvbic7XG5pbXBvcnQge1xuICBDYWxjdWxhdGVDYW52YXNHcm91cFBvc2l0aW9uU3RyYXRlZ3ksXG4gIENhbnZhc0dyb3VwUG9zaXRpb25Dcml0ZXJpYSxcbn0gZnJvbSAnLi9jYWxjdWxhdGUtY2FudmFzLWdyb3VwLXBvc2l0aW9uLXN0cmF0ZWd5JztcbmltcG9ydCB7IGNhbnZhc1JlY3RGcm9tQ3JpdGVyaWEgfSBmcm9tICcuL2NhbGN1bGF0ZS1jYW52YXMtZ3JvdXAtcG9zaXRpb24tdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgVHdvUGFnZUNhbGN1bGF0ZUNhbnZhc0dyb3VwUG9zaXRpb25TdHJhdGVneVxuICBpbXBsZW1lbnRzIENhbGN1bGF0ZUNhbnZhc0dyb3VwUG9zaXRpb25TdHJhdGVneVxue1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbmZpZzogTWltZVZpZXdlckNvbmZpZykge31cblxuICBjYWxjdWxhdGVDYW52YXNHcm91cFBvc2l0aW9uKFxuICAgIGNyaXRlcmlhOiBDYW52YXNHcm91cFBvc2l0aW9uQ3JpdGVyaWEsXG4gICAgcm90YXRpb24gPSAwLFxuICApOiBSZWN0IHtcbiAgICBsZXQgeDogbnVtYmVyO1xuXG4gICAgaWYgKCFjcml0ZXJpYS5jYW52YXNHcm91cEluZGV4KSB7XG4gICAgICAvLyBGaXJzdCBwYWdlXG4gICAgICB4ID0gMDtcbiAgICB9IGVsc2UgaWYgKGNyaXRlcmlhLmNhbnZhc0dyb3VwSW5kZXggJSAyKSB7XG4gICAgICAvLyBFdmVuIHBhZ2UgbnVtYmVyc1xuICAgICAgeCA9XG4gICAgICAgIGNyaXRlcmlhLnZpZXdpbmdEaXJlY3Rpb24gPT09IFZpZXdpbmdEaXJlY3Rpb24uTFRSXG4gICAgICAgICAgPyB0aGlzLmNhbGN1bGF0ZUV2ZW5MdHJYKGNyaXRlcmlhKVxuICAgICAgICAgIDogdGhpcy5jYWxjdWxhdGVFdmVuUnRsWChjcml0ZXJpYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9kZCBwYWdlIG51bWJlcnNcbiAgICAgIHggPVxuICAgICAgICBjcml0ZXJpYS52aWV3aW5nRGlyZWN0aW9uID09PSBWaWV3aW5nRGlyZWN0aW9uLkxUUlxuICAgICAgICAgID8gdGhpcy5jYWxjdWxhdGVPZGRMdHJYKGNyaXRlcmlhKVxuICAgICAgICAgIDogdGhpcy5jYWxjdWxhdGVPZGRSdGxYKGNyaXRlcmlhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FudmFzUmVjdEZyb21Dcml0ZXJpYShcbiAgICAgIHJvdGF0aW9uLFxuICAgICAgY3JpdGVyaWEsXG4gICAgICB4LFxuICAgICAgdGhpcy5jb25maWcuaWdub3JlUGh5c2ljYWxTY2FsZSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVFdmVuTHRyWChjcml0ZXJpYTogQ2FudmFzR3JvdXBQb3NpdGlvbkNyaXRlcmlhKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGNyaXRlcmlhLnByZXZpb3VzQ2FudmFzR3JvdXBQb3NpdGlvbi54ICtcbiAgICAgIGNyaXRlcmlhLnByZXZpb3VzQ2FudmFzR3JvdXBQb3NpdGlvbi53aWR0aCArXG4gICAgICBWaWV3ZXJPcHRpb25zLm92ZXJsYXlzLmNhbnZhc0dyb3VwTWFyZ2luSW5EYXNoYm9hcmRWaWV3XG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlT2RkTHRyWChjcml0ZXJpYTogQ2FudmFzR3JvdXBQb3NpdGlvbkNyaXRlcmlhKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGNyaXRlcmlhLnByZXZpb3VzQ2FudmFzR3JvdXBQb3NpdGlvbi54ICtcbiAgICAgIGNyaXRlcmlhLnByZXZpb3VzQ2FudmFzR3JvdXBQb3NpdGlvbi53aWR0aFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZUV2ZW5SdGxYKGNyaXRlcmlhOiBDYW52YXNHcm91cFBvc2l0aW9uQ3JpdGVyaWEpIHtcbiAgICByZXR1cm4gKFxuICAgICAgY3JpdGVyaWEucHJldmlvdXNDYW52YXNHcm91cFBvc2l0aW9uLnggLVxuICAgICAgY3JpdGVyaWEuY2FudmFzU291cmNlLndpZHRoIC1cbiAgICAgIFZpZXdlck9wdGlvbnMub3ZlcmxheXMuY2FudmFzR3JvdXBNYXJnaW5JbkRhc2hib2FyZFZpZXdcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVPZGRSdGxYKGNyaXRlcmlhOiBDYW52YXNHcm91cFBvc2l0aW9uQ3JpdGVyaWEpIHtcbiAgICByZXR1cm4gY3JpdGVyaWEucHJldmlvdXNDYW52YXNHcm91cFBvc2l0aW9uLnggLSBjcml0ZXJpYS5jYW52YXNTb3VyY2Uud2lkdGg7XG4gIH1cbn1cbiJdfQ==","import { TwoPageCalculateCanvasGroupPositionStrategy } from '../canvas-group-position/two-page-calculate-page-position-strategy';\nimport { CanvasGroups } from '../models/canvas-groups';\nimport { Rect } from '../models/rect';\nexport class TwoCanvasPerCanvasGroupStrategy {\n    constructor(config, viewingDirection, rotation) {\n        this.config = config;\n        this.viewingDirection = viewingDirection;\n        this.rotation = rotation;\n        this.positionStrategy = new TwoPageCalculateCanvasGroupPositionStrategy(this.config);\n    }\n    addAll(tileSources) {\n        const canvasGroups = new CanvasGroups();\n        // Add first single page\n        this.addSinglePage(canvasGroups, tileSources[0], 0, new Rect());\n        for (let i = 1; i < tileSources.length; i += 2) {\n            if (this.hasNextPage(tileSources, i)) {\n                this.addPairedPages(canvasGroups, tileSources, i);\n            }\n            else {\n                this.addSinglePage(canvasGroups, tileSources[i], i, this.getLastRect(canvasGroups));\n            }\n        }\n        return canvasGroups;\n    }\n    addSinglePage(canvasGroups, tileSource, index, previousRect) {\n        const position = this.calculatePosition(tileSource, index, previousRect);\n        const tileSourceAndRect = { tileSource, rect: position };\n        const newCanvasGroup = {\n            tileSourceAndRects: [tileSourceAndRect],\n            rect: position,\n        };\n        canvasGroups.add(newCanvasGroup);\n        canvasGroups.canvasesPerCanvasGroup.push([index]);\n    }\n    addPairedPages(canvasGroups, tileSources, index) {\n        const previousCanvasGroup = this.getLastCanvasGroup(canvasGroups);\n        const firstTileSourceAndRect = this.createTileSourceAndRect(tileSources[index], index, previousCanvasGroup.rect);\n        const secondTileSourceAndRect = this.createTileSourceAndRect(tileSources[index + 1], index + 1, firstTileSourceAndRect.rect);\n        const newCanvasGroup = {\n            tileSourceAndRects: [firstTileSourceAndRect, secondTileSourceAndRect],\n            rect: this.combineRects(firstTileSourceAndRect.rect, secondTileSourceAndRect.rect),\n        };\n        canvasGroups.add(newCanvasGroup);\n        canvasGroups.canvasesPerCanvasGroup.push([index, index + 1]);\n    }\n    hasNextPage(tileSources, index) {\n        return index + 1 < tileSources.length;\n    }\n    createTileSourceAndRect(tileSource, index, previousRect) {\n        return {\n            tileSource,\n            rect: this.calculatePosition(tileSource, index, previousRect),\n        };\n    }\n    calculatePosition(tileSource, index, previousRect) {\n        return this.positionStrategy.calculateCanvasGroupPosition({\n            canvasGroupIndex: index,\n            canvasSource: tileSource,\n            previousCanvasGroupPosition: previousRect,\n            viewingDirection: this.viewingDirection,\n        }, this.rotation);\n    }\n    getLastCanvasGroup(canvasGroups) {\n        return canvasGroups.canvasGroups[canvasGroups.canvasGroups.length - 1];\n    }\n    getLastRect(canvasGroups) {\n        const lastCanvasGroup = this.getLastCanvasGroup(canvasGroups);\n        return lastCanvasGroup.rect;\n    }\n    combineRects(rect1, rect2) {\n        return new Rect({\n            x: Math.min(rect1.x, rect2.x),\n            y: Math.min(rect1.y, rect2.y),\n            height: Math.max(rect1.height, rect2.height),\n            width: rect1.width + rect2.width,\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHdvLWNhbnZhcy1wZXItY2FudmFzLWdyb3VwLXN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvY2FudmFzLXNlcnZpY2UvdHdvLWNhbnZhcy1wZXItY2FudmFzLWdyb3VwLXN0cmF0ZWd5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSwyQ0FBMkMsRUFBRSxNQUFNLG9FQUFvRSxDQUFDO0FBRWpJLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFLdEMsTUFBTSxPQUFPLCtCQUErQjtJQUsxQyxZQUNVLE1BQXdCLEVBQ3hCLGdCQUFrQyxFQUNsQyxRQUFnQjtRQUZoQixXQUFNLEdBQU4sTUFBTSxDQUFrQjtRQUN4QixxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO1FBQ2xDLGFBQVEsR0FBUixRQUFRLENBQVE7UUFFeEIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksMkNBQTJDLENBQ3JFLElBQUksQ0FBQyxNQUFNLENBQ1osQ0FBQztJQUNKLENBQUM7SUFFRCxNQUFNLENBQUMsV0FBK0I7UUFDcEMsTUFBTSxZQUFZLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUV4Qyx3QkFBd0I7UUFDeEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUM7UUFFaEUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQy9DLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLEVBQUUs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LE9BQU8sWUFBWSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBRU8sV0FBVyxDQUFDLFlBQTBCO1FBQzVDLE1BQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM5RCxPQUFPLGVBQWUsQ0FBQyxJQUFJLENBQUM7SUFDOUIsQ0FBQztJQUVPLFlBQVksQ0FBQyxLQUFXLEVBQUUsS0FBVztRQUMzQyxPQUFPLElBQUksSUFBSSxDQUFDO1lBQ2QsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQzdCLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUM3QixNQUFNLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFDNUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUs7U0FDakMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHdvUGFnZUNhbGN1bGF0ZUNhbnZhc0dyb3VwUG9zaXRpb25TdHJhdGVneSB9IGZyb20gJy4uL2NhbnZhcy1ncm91cC1wb3NpdGlvbi90d28tcGFnZS1jYWxjdWxhdGUtcGFnZS1wb3NpdGlvbi1zdHJhdGVneSc7XG5pbXBvcnQgeyBNaW1lVmlld2VyQ29uZmlnIH0gZnJvbSAnLi4vbWltZS12aWV3ZXItY29uZmlnJztcbmltcG9ydCB7IENhbnZhc0dyb3VwcyB9IGZyb20gJy4uL21vZGVscy9jYW52YXMtZ3JvdXBzJztcbmltcG9ydCB7IFJlY3QgfSBmcm9tICcuLi9tb2RlbHMvcmVjdCc7XG5pbXBvcnQgeyBWaWV3aW5nRGlyZWN0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL3ZpZXdpbmctZGlyZWN0aW9uJztcbmltcG9ydCB7IEFic3RyYWN0Q2FudmFzR3JvdXBTdHJhdGVneSB9IGZyb20gJy4vY2FudmFzLWdyb3VwLnN0cmF0ZWd5JztcbmltcG9ydCB7IENhbnZhc0dyb3VwLCBUaWxlU291cmNlQW5kUmVjdCB9IGZyb20gJy4vdGlsZS1zb3VyY2UtYW5kLXJlY3QubW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgVHdvQ2FudmFzUGVyQ2FudmFzR3JvdXBTdHJhdGVneVxuICBpbXBsZW1lbnRzIEFic3RyYWN0Q2FudmFzR3JvdXBTdHJhdGVneVxue1xuICBwcml2YXRlIHBvc2l0aW9uU3RyYXRlZ3k6IFR3b1BhZ2VDYWxjdWxhdGVDYW52YXNHcm91cFBvc2l0aW9uU3RyYXRlZ3k7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBjb25maWc6IE1pbWVWaWV3ZXJDb25maWcsXG4gICAgcHJpdmF0ZSB2aWV3aW5nRGlyZWN0aW9uOiBWaWV3aW5nRGlyZWN0aW9uLFxuICAgIHByaXZhdGUgcm90YXRpb246IG51bWJlcixcbiAgKSB7XG4gICAgdGhpcy5wb3NpdGlvblN0cmF0ZWd5ID0gbmV3IFR3b1BhZ2VDYWxjdWxhdGVDYW52YXNHcm91cFBvc2l0aW9uU3RyYXRlZ3koXG4gICAgICB0aGlzLmNvbmZpZyxcbiAgICApO1xuICB9XG5cbiAgYWRkQWxsKHRpbGVTb3VyY2VzOiBSZWFkb25seUFycmF5PGFueT4pOiBDYW52YXNHcm91cHMge1xuICAgIGNvbnN0IGNhbnZhc0dyb3VwcyA9IG5ldyBDYW52YXNHcm91cHMoKTtcblxuICAgIC8vIEFkZCBmaXJzdCBzaW5nbGUgcGFnZVxuICAgIHRoaXMuYWRkU2luZ2xlUGFnZShjYW52YXNHcm91cHMsIHRpbGVTb3VyY2VzWzBdLCAwLCBuZXcgUmVjdCgpKTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGlsZVNvdXJjZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGlmICh0aGlzLmhhc05leHRQYWdlKHRpbGVTb3VyY2VzLCBpKSkge1xuICAgICAgICB0aGlzLmFkZFBhaXJlZFBhZ2VzKGNhbnZhc0dyb3VwcywgdGlsZVNvdXJjZXMsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRTaW5nbGVQYWdlKFxuICAgICAgICAgIGNhbnZhc0dyb3VwcyxcbiAgICAgICAgICB0aWxlU291cmNlc1tpXSxcbiAgICAgICAgICBpLFxuICAgICAgICAgIHRoaXMuZ2V0TGFzdFJlY3QoY2FudmFzR3JvdXBzKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY2FudmFzR3JvdXBzO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRTaW5nbGVQYWdlKFxuICAgIGNhbnZhc0dyb3VwczogQ2FudmFzR3JvdXBzLFxuICAgIHRpbGVTb3VyY2U6IGFueSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHByZXZpb3VzUmVjdDogUmVjdCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKHRpbGVTb3VyY2UsIGluZGV4LCBwcmV2aW91c1JlY3QpO1xuICAgIGNvbnN0IHRpbGVTb3VyY2VBbmRSZWN0OiBUaWxlU291cmNlQW5kUmVjdCA9IHsgdGlsZVNvdXJjZSwgcmVjdDogcG9zaXRpb24gfTtcbiAgICBjb25zdCBuZXdDYW52YXNHcm91cDogQ2FudmFzR3JvdXAgPSB7XG4gICAgICB0aWxlU291cmNlQW5kUmVjdHM6IFt0aWxlU291cmNlQW5kUmVjdF0sXG4gICAgICByZWN0OiBwb3NpdGlvbixcbiAgICB9O1xuXG4gICAgY2FudmFzR3JvdXBzLmFkZChuZXdDYW52YXNHcm91cCk7XG4gICAgY2FudmFzR3JvdXBzLmNhbnZhc2VzUGVyQ2FudmFzR3JvdXAucHVzaChbaW5kZXhdKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkUGFpcmVkUGFnZXMoXG4gICAgY2FudmFzR3JvdXBzOiBDYW52YXNHcm91cHMsXG4gICAgdGlsZVNvdXJjZXM6IFJlYWRvbmx5QXJyYXk8YW55PixcbiAgICBpbmRleDogbnVtYmVyLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwcmV2aW91c0NhbnZhc0dyb3VwID0gdGhpcy5nZXRMYXN0Q2FudmFzR3JvdXAoY2FudmFzR3JvdXBzKTtcbiAgICBjb25zdCBmaXJzdFRpbGVTb3VyY2VBbmRSZWN0ID0gdGhpcy5jcmVhdGVUaWxlU291cmNlQW5kUmVjdChcbiAgICAgIHRpbGVTb3VyY2VzW2luZGV4XSxcbiAgICAgIGluZGV4LFxuICAgICAgcHJldmlvdXNDYW52YXNHcm91cC5yZWN0LFxuICAgICk7XG4gICAgY29uc3Qgc2Vjb25kVGlsZVNvdXJjZUFuZFJlY3QgPSB0aGlzLmNyZWF0ZVRpbGVTb3VyY2VBbmRSZWN0KFxuICAgICAgdGlsZVNvdXJjZXNbaW5kZXggKyAxXSxcbiAgICAgIGluZGV4ICsgMSxcbiAgICAgIGZpcnN0VGlsZVNvdXJjZUFuZFJlY3QucmVjdCxcbiAgICApO1xuXG4gICAgY29uc3QgbmV3Q2FudmFzR3JvdXA6IENhbnZhc0dyb3VwID0ge1xuICAgICAgdGlsZVNvdXJjZUFuZFJlY3RzOiBbZmlyc3RUaWxlU291cmNlQW5kUmVjdCwgc2Vjb25kVGlsZVNvdXJjZUFuZFJlY3RdLFxuICAgICAgcmVjdDogdGhpcy5jb21iaW5lUmVjdHMoXG4gICAgICAgIGZpcnN0VGlsZVNvdXJjZUFuZFJlY3QucmVjdCxcbiAgICAgICAgc2Vjb25kVGlsZVNvdXJjZUFuZFJlY3QucmVjdCxcbiAgICAgICksXG4gICAgfTtcblxuICAgIGNhbnZhc0dyb3Vwcy5hZGQobmV3Q2FudmFzR3JvdXApO1xuICAgIGNhbnZhc0dyb3Vwcy5jYW52YXNlc1BlckNhbnZhc0dyb3VwLnB1c2goW2luZGV4LCBpbmRleCArIDFdKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFzTmV4dFBhZ2UodGlsZVNvdXJjZXM6IFJlYWRvbmx5QXJyYXk8YW55PiwgaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBpbmRleCArIDEgPCB0aWxlU291cmNlcy5sZW5ndGg7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVRpbGVTb3VyY2VBbmRSZWN0KFxuICAgIHRpbGVTb3VyY2U6IGFueSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHByZXZpb3VzUmVjdDogUmVjdCxcbiAgKTogVGlsZVNvdXJjZUFuZFJlY3Qge1xuICAgIHJldHVybiB7XG4gICAgICB0aWxlU291cmNlLFxuICAgICAgcmVjdDogdGhpcy5jYWxjdWxhdGVQb3NpdGlvbih0aWxlU291cmNlLCBpbmRleCwgcHJldmlvdXNSZWN0KSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVQb3NpdGlvbihcbiAgICB0aWxlU291cmNlOiBhbnksXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBwcmV2aW91c1JlY3Q6IFJlY3QsXG4gICk6IFJlY3Qge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uU3RyYXRlZ3kuY2FsY3VsYXRlQ2FudmFzR3JvdXBQb3NpdGlvbihcbiAgICAgIHtcbiAgICAgICAgY2FudmFzR3JvdXBJbmRleDogaW5kZXgsXG4gICAgICAgIGNhbnZhc1NvdXJjZTogdGlsZVNvdXJjZSxcbiAgICAgICAgcHJldmlvdXNDYW52YXNHcm91cFBvc2l0aW9uOiBwcmV2aW91c1JlY3QsXG4gICAgICAgIHZpZXdpbmdEaXJlY3Rpb246IHRoaXMudmlld2luZ0RpcmVjdGlvbixcbiAgICAgIH0sXG4gICAgICB0aGlzLnJvdGF0aW9uLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGdldExhc3RDYW52YXNHcm91cChjYW52YXNHcm91cHM6IENhbnZhc0dyb3Vwcyk6IENhbnZhc0dyb3VwIHtcbiAgICByZXR1cm4gY2FudmFzR3JvdXBzLmNhbnZhc0dyb3Vwc1tjYW52YXNHcm91cHMuY2FudmFzR3JvdXBzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRMYXN0UmVjdChjYW52YXNHcm91cHM6IENhbnZhc0dyb3Vwcyk6IFJlY3Qge1xuICAgIGNvbnN0IGxhc3RDYW52YXNHcm91cCA9IHRoaXMuZ2V0TGFzdENhbnZhc0dyb3VwKGNhbnZhc0dyb3Vwcyk7XG4gICAgcmV0dXJuIGxhc3RDYW52YXNHcm91cC5yZWN0O1xuICB9XG5cbiAgcHJpdmF0ZSBjb21iaW5lUmVjdHMocmVjdDE6IFJlY3QsIHJlY3QyOiBSZWN0KTogUmVjdCB7XG4gICAgcmV0dXJuIG5ldyBSZWN0KHtcbiAgICAgIHg6IE1hdGgubWluKHJlY3QxLngsIHJlY3QyLngpLFxuICAgICAgeTogTWF0aC5taW4ocmVjdDEueSwgcmVjdDIueSksXG4gICAgICBoZWlnaHQ6IE1hdGgubWF4KHJlY3QxLmhlaWdodCwgcmVjdDIuaGVpZ2h0KSxcbiAgICAgIHdpZHRoOiByZWN0MS53aWR0aCArIHJlY3QyLndpZHRoLFxuICAgIH0pO1xuICB9XG59XG4iXX0=","import { ViewerLayout } from '../models/viewer-layout';\nimport { OneCanvasPerCanvasGroupStrategy } from './one-canvas-per-canvas-group-strategy';\nimport { TwoCanvasPerCanvasGroupStrategy } from './two-canvas-per-canvas-group-strategy';\nexport class CanvasGroupStrategyFactory {\n    static create(layout, config, viewingDirection, rotation) {\n        if (layout === ViewerLayout.ONE_PAGE) {\n            return new OneCanvasPerCanvasGroupStrategy(config, viewingDirection, rotation);\n        }\n        else {\n            return new TwoCanvasPerCanvasGroupStrategy(config, viewingDirection, rotation);\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FudmFzLWdyb3Vwcy1zdHJhdGVneS5mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvY2FudmFzLXNlcnZpY2UvY2FudmFzLWdyb3Vwcy1zdHJhdGVneS5mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUV2RCxPQUFPLEVBQUUsK0JBQStCLEVBQUUsTUFBTSx3Q0FBd0MsQ0FBQztBQUN6RixPQUFPLEVBQUUsK0JBQStCLEVBQUUsTUFBTSx3Q0FBd0MsQ0FBQztBQUV6RixNQUFNLE9BQU8sMEJBQTBCO0lBQzlCLE1BQU0sQ0FBQyxNQUFNLENBQ2xCLE1BQW9CLEVBQ3BCLE1BQXdCLEVBQ3hCLGdCQUFrQyxFQUNsQyxRQUFnQjtRQUVoQixJQUFJLE1BQU0sS0FBSyxZQUFZLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDckMsT0FBTyxJQUFJLCtCQUErQixDQUN4QyxNQUFNLEVBQ04sZ0JBQWdCLEVBQ2hCLFFBQVEsQ0FDVCxDQUFDO1FBQ0osQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPLElBQUksK0JBQStCLENBQ3hDLE1BQU0sRUFDTixnQkFBZ0IsRUFDaEIsUUFBUSxDQUNULENBQUM7UUFDSixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWltZVZpZXdlckNvbmZpZyB9IGZyb20gJy4uL21pbWUtdmlld2VyLWNvbmZpZyc7XG5pbXBvcnQgeyBWaWV3ZXJMYXlvdXQgfSBmcm9tICcuLi9tb2RlbHMvdmlld2VyLWxheW91dCc7XG5pbXBvcnQgeyBWaWV3aW5nRGlyZWN0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL3ZpZXdpbmctZGlyZWN0aW9uJztcbmltcG9ydCB7IE9uZUNhbnZhc1BlckNhbnZhc0dyb3VwU3RyYXRlZ3kgfSBmcm9tICcuL29uZS1jYW52YXMtcGVyLWNhbnZhcy1ncm91cC1zdHJhdGVneSc7XG5pbXBvcnQgeyBUd29DYW52YXNQZXJDYW52YXNHcm91cFN0cmF0ZWd5IH0gZnJvbSAnLi90d28tY2FudmFzLXBlci1jYW52YXMtZ3JvdXAtc3RyYXRlZ3knO1xuXG5leHBvcnQgY2xhc3MgQ2FudmFzR3JvdXBTdHJhdGVneUZhY3Rvcnkge1xuICBwdWJsaWMgc3RhdGljIGNyZWF0ZShcbiAgICBsYXlvdXQ6IFZpZXdlckxheW91dCxcbiAgICBjb25maWc6IE1pbWVWaWV3ZXJDb25maWcsXG4gICAgdmlld2luZ0RpcmVjdGlvbjogVmlld2luZ0RpcmVjdGlvbixcbiAgICByb3RhdGlvbjogbnVtYmVyLFxuICApIHtcbiAgICBpZiAobGF5b3V0ID09PSBWaWV3ZXJMYXlvdXQuT05FX1BBR0UpIHtcbiAgICAgIHJldHVybiBuZXcgT25lQ2FudmFzUGVyQ2FudmFzR3JvdXBTdHJhdGVneShcbiAgICAgICAgY29uZmlnLFxuICAgICAgICB2aWV3aW5nRGlyZWN0aW9uLFxuICAgICAgICByb3RhdGlvbixcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgVHdvQ2FudmFzUGVyQ2FudmFzR3JvdXBTdHJhdGVneShcbiAgICAgICAgY29uZmlnLFxuICAgICAgICB2aWV3aW5nRGlyZWN0aW9uLFxuICAgICAgICByb3RhdGlvbixcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iXX0=","import { inject, Injectable } from '@angular/core';\nimport * as OpenSeadragon from 'openseadragon';\nimport { BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { MimeViewerConfig } from '../mime-viewer-config';\nimport { ViewerLayout } from '../models/viewer-layout';\nimport { ViewingDirection } from '../models/viewing-direction';\nimport { ViewerLayoutService } from '../viewer-layout-service/viewer-layout-service';\nimport { TileSourceStrategyFactory } from '../viewer-service/tile-source-strategy-factory';\nimport { CanvasGroups } from './../models/canvas-groups';\nimport { CanvasGroupStrategyFactory } from './canvas-groups-strategy.factory';\nimport * as i0 from \"@angular/core\";\nexport class CanvasService {\n    constructor() {\n        this._currentNumberOfCanvasGroups = new BehaviorSubject(0);\n        this._currentCanvasGroupIndex = new BehaviorSubject(0);\n        this.canvasGroups = new CanvasGroups();\n        this._numberOfCanvases = 0;\n        this.viewerLayoutService = inject(ViewerLayoutService);\n        this.config = new MimeViewerConfig();\n        this.tileSources = [];\n        this.viewer = undefined;\n        this.rotation = 0;\n        this.viewingDirection = ViewingDirection.LTR;\n        this._overlays = [];\n    }\n    get overlays() {\n        return this._overlays;\n    }\n    get onCanvasGroupIndexChange() {\n        return this._currentCanvasGroupIndex\n            .asObservable()\n            .pipe(distinctUntilChanged());\n    }\n    get onNumberOfCanvasGroupsChange() {\n        return this._currentNumberOfCanvasGroups\n            .asObservable()\n            .pipe(distinctUntilChanged());\n    }\n    get numberOfCanvasGroups() {\n        return this.canvasGroups.length();\n    }\n    get currentCanvasIndex() {\n        const canvases = this.canvasGroups.canvasesPerCanvasGroup[this.currentCanvasGroupIndex];\n        return canvases && canvases.length >= 1 ? canvases[0] : 0;\n    }\n    get currentCanvasGroupIndex() {\n        return this._currentCanvasGroupIndex.value;\n    }\n    set currentCanvasGroupIndex(currentCanvasGroupIndex) {\n        if (!this.isWithinBounds(currentCanvasGroupIndex)) {\n            return;\n        }\n        this._currentCanvasGroupIndex.next(currentCanvasGroupIndex);\n    }\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    get numberOfCanvases() {\n        return this._numberOfCanvases;\n    }\n    set numberOfCanvases(numberOfCanvases) {\n        this._numberOfCanvases = numberOfCanvases;\n    }\n    setViewer(viewer) {\n        this.viewer = viewer;\n    }\n    setConfig(config) {\n        this.config = config;\n    }\n    setSvgNode(svgNode) {\n        this.svgNode = svgNode;\n    }\n    setRotation(rotation) {\n        this.rotation = rotation;\n    }\n    setViewingDirection(viewingDirection) {\n        this.viewingDirection = viewingDirection;\n    }\n    addTileSources(tileSources) {\n        this.tileSources = tileSources;\n    }\n    updateViewer() {\n        this.createCanvasGroups();\n        this.createAndAppendCanvasGroups();\n    }\n    isWithinBounds(canvasGroupIndex) {\n        return (canvasGroupIndex > -1 && canvasGroupIndex <= this.numberOfCanvasGroups - 1);\n    }\n    isCurrentCanvasGroupValid() {\n        return this.isWithinBounds(this.currentCanvasGroupIndex);\n    }\n    // Returns -1 if next canvas index is out of bounds\n    getNextCanvasGroupIndex() {\n        if (!this.isWithinBounds(this.currentCanvasGroupIndex + 1)) {\n            return -1;\n        }\n        this.currentCanvasGroupIndex++;\n        return this.currentCanvasGroupIndex;\n    }\n    // Returns -1 if previous canvas index is out of bounds\n    getPrevCanvasGroupIndex() {\n        if (!this.isWithinBounds(this.currentCanvasGroupIndex - 1)) {\n            return -1;\n        }\n        this.currentCanvasGroupIndex--;\n        return this.currentCanvasGroupIndex;\n    }\n    constrainToRange(canvasGroupsIndex) {\n        if (canvasGroupsIndex < 0) {\n            return 0;\n        }\n        else if (canvasGroupsIndex >= this.numberOfCanvasGroups - 1) {\n            return this.numberOfCanvasGroups - 1;\n        }\n        else {\n            return canvasGroupsIndex;\n        }\n    }\n    findClosestCanvasGroupIndex(point) {\n        return this.canvasGroups.findClosestIndex(point);\n    }\n    findCanvasGroupByCanvasIndex(canvasIndex) {\n        return this.canvasGroups.canvasesPerCanvasGroup.findIndex(function (canvasForCanvasGroup) {\n            return canvasForCanvasGroup.indexOf(canvasIndex) >= 0;\n        });\n    }\n    findCanvasByCanvasIndex(canvasIndex) {\n        return this.canvasGroups.canvasesPerCanvasGroup.length === 0\n            ? -1\n            : this.canvasGroups.canvasesPerCanvasGroup[canvasIndex][0];\n    }\n    getCanvasGroupLabel(canvasGroupIndex) {\n        if (!this.canvasGroups.canvasGroups ||\n            this.canvasGroups.canvasesPerCanvasGroup.length === 0) {\n            return '1';\n        }\n        const canvasGroup = this.canvasGroups.canvasesPerCanvasGroup[canvasGroupIndex];\n        let canvasGroupLabel = '' + (canvasGroup[0] + 1);\n        if (canvasGroup.length > 1) {\n            canvasGroupLabel =\n                canvasGroupLabel + '-' + (canvasGroup[canvasGroup.length - 1] + 1);\n        }\n        return canvasGroupLabel;\n    }\n    getCanvasesPerCanvasGroup(canvasIndex) {\n        return !this.canvasGroups.canvasGroups\n            ? [0]\n            : this.canvasGroups.canvasesPerCanvasGroup[canvasIndex];\n    }\n    getCanvasRect(canvasIndex) {\n        return this.canvasGroups.tileSourceAndRects[canvasIndex].rect;\n    }\n    getCurrentCanvasGroupRect() {\n        return this.getCanvasGroupRect(this.currentCanvasGroupIndex);\n    }\n    getCanvasGroupRect(canvasGroupIndex) {\n        return this.canvasGroups.get(canvasGroupIndex).rect;\n    }\n    reset() {\n        this.viewer = undefined;\n        this._overlays = [];\n        this.numberOfCanvases = 0;\n        this._currentCanvasGroupIndex.next(0);\n        this.canvasGroups = new CanvasGroups();\n    }\n    createTile(tile) {\n        const position = tile.rect;\n        const rotated = this.rotation === 90 || this.rotation === 270;\n        let bounds;\n        /* Because image scaling is performed before rotation,\n         * we must invert width & height and translate position so that tile rotation ends up correct\n         */\n        if (rotated) {\n            bounds = new OpenSeadragon.Rect(position.x + (position.width - position.height) / 2, position.y - (position.width - position.height) / 2, position.height, position.width);\n        }\n        else {\n            bounds = new OpenSeadragon.Rect(position.x, position.y, position.width, position.height);\n        }\n        const tileSourcesStrategy = TileSourceStrategyFactory.create(tile.tileSource);\n        const tileSource = tileSourcesStrategy.getTileSource(tile.tileSource);\n        this.viewer?.addTiledImage({\n            tileSource: tileSource,\n            fitBounds: bounds,\n            degrees: this.rotation,\n        });\n    }\n    createAndAppendCanvasGroups() {\n        let index = 0;\n        this.canvasGroups.canvasGroups.forEach((canvasGroup) => {\n            const group = this.appendPageGroup();\n            canvasGroup.tileSourceAndRects.forEach((tileSourceAndRect) => {\n                this.createTile(tileSourceAndRect);\n                this.createOverlay(group, tileSourceAndRect, index);\n                index++;\n            });\n        });\n    }\n    appendPageGroup() {\n        return this.svgNode.append('g').attr('class', 'page-group');\n    }\n    createOverlay(group, tile, i) {\n        const position = tile.rect;\n        const currentOverlay = this.createRectangle(group, position);\n        // Make custom borders if current layout is two-paged\n        if (this.viewerLayoutService.layout === ViewerLayout.TWO_PAGE) {\n            this.applyCustomBorders(i, position, currentOverlay);\n        }\n        const currentOverlayNode = currentOverlay.node();\n        this._overlays[i] = currentOverlayNode;\n    }\n    createCanvasGroups() {\n        this.numberOfCanvases = this.tileSources.length;\n        const canvasGroupStrategy = CanvasGroupStrategyFactory.create(this.viewerLayoutService.layout, this.config, this.viewingDirection, this.rotation);\n        this.canvasGroups = canvasGroupStrategy.addAll(this.tileSources);\n        this._currentNumberOfCanvasGroups.next(this.canvasGroups.length());\n    }\n    applyCustomBorders(i, position, currentOverlay) {\n        if (i % 2 === 0 && i !== 0) {\n            const noLeftStrokeStyle = Number(position.width * 2 + position.height) +\n                ', ' +\n                position.width * 2;\n            currentOverlay.style('stroke-dasharray', noLeftStrokeStyle);\n        }\n        else if (i % 2 !== 0 && i !== 0) {\n            const noRightStrokeStyle = position.width +\n                ', ' +\n                position.height +\n                ', ' +\n                Number(position.width * 2 + position.height);\n            currentOverlay.style('stroke-dasharray', noRightStrokeStyle);\n        }\n    }\n    createRectangle(group, position) {\n        return group\n            .append('rect')\n            .attr('x', position.x)\n            .attr('y', position.y)\n            .attr('width', position.width)\n            .attr('height', position.height)\n            .attr('class', 'tile');\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: CanvasService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: CanvasService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: CanvasService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FudmFzLXNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9jYW52YXMtc2VydmljZS9jYW52YXMtc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEtBQUssYUFBYSxNQUFNLGVBQWUsQ0FBQztBQUUvQyxPQUFPLEVBQUUsZUFBZSxFQUFjLE1BQU0sTUFBTSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBRXpELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxnREFBZ0QsQ0FBQztBQUNyRixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxnREFBZ0QsQ0FBQztBQUMzRixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFHekQsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7O0FBSTlFLE1BQU0sT0FBTyxhQUFhO0lBRDFCO1FBRVksaUNBQTRCLEdBQ3BDLElBQUksZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsNkJBQXdCLEdBQ2hDLElBQUksZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsaUJBQVksR0FBaUIsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNoRCxzQkFBaUIsR0FBRyxDQUFDLENBQUM7UUFDZix3QkFBbUIsR0FBRyxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUMzRCxX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LFFBQVEsQ0FBQyxNQUFNLENBQUM7YUFDL0IsSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUMzQixDQUFDOzhHQTVTVSxhQUFhO2tIQUFiLGFBQWE7OzJGQUFiLGFBQWE7a0JBRHpCLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIE9wZW5TZWFkcmFnb24gZnJvbSAnb3BlbnNlYWRyYWdvbic7XG5pbXBvcnQgeyBWaWV3ZXIgfSBmcm9tICdvcGVuc2VhZHJhZ29uJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBNaW1lVmlld2VyQ29uZmlnIH0gZnJvbSAnLi4vbWltZS12aWV3ZXItY29uZmlnJztcbmltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAnLi4vbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IFZpZXdlckxheW91dCB9IGZyb20gJy4uL21vZGVscy92aWV3ZXItbGF5b3V0JztcbmltcG9ydCB7IFZpZXdpbmdEaXJlY3Rpb24gfSBmcm9tICcuLi9tb2RlbHMvdmlld2luZy1kaXJlY3Rpb24nO1xuaW1wb3J0IHsgVmlld2VyTGF5b3V0U2VydmljZSB9IGZyb20gJy4uL3ZpZXdlci1sYXlvdXQtc2VydmljZS92aWV3ZXItbGF5b3V0LXNlcnZpY2UnO1xuaW1wb3J0IHsgVGlsZVNvdXJjZVN0cmF0ZWd5RmFjdG9yeSB9IGZyb20gJy4uL3ZpZXdlci1zZXJ2aWNlL3RpbGUtc291cmNlLXN0cmF0ZWd5LWZhY3RvcnknO1xuaW1wb3J0IHsgQ2FudmFzR3JvdXBzIH0gZnJvbSAnLi8uLi9tb2RlbHMvY2FudmFzLWdyb3Vwcyc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4vLi4vbW9kZWxzL3BvaW50JztcbmltcG9ydCB7IFJlY3QgfSBmcm9tICcuLy4uL21vZGVscy9yZWN0JztcbmltcG9ydCB7IENhbnZhc0dyb3VwU3RyYXRlZ3lGYWN0b3J5IH0gZnJvbSAnLi9jYW52YXMtZ3JvdXBzLXN0cmF0ZWd5LmZhY3RvcnknO1xuaW1wb3J0IHsgVGlsZVNvdXJjZUFuZFJlY3QgfSBmcm9tICcuL3RpbGUtc291cmNlLWFuZC1yZWN0Lm1vZGVsJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENhbnZhc1NlcnZpY2Uge1xuICBwcm90ZWN0ZWQgX2N1cnJlbnROdW1iZXJPZkNhbnZhc0dyb3VwczogQmVoYXZpb3JTdWJqZWN0PG51bWJlcj4gPVxuICAgIG5ldyBCZWhhdmlvclN1YmplY3QoMCk7XG4gIHByb3RlY3RlZCBfY3VycmVudENhbnZhc0dyb3VwSW5kZXg6IEJlaGF2aW9yU3ViamVjdDxudW1iZXI+ID1cbiAgICBuZXcgQmVoYXZpb3JTdWJqZWN0KDApO1xuICBwcm90ZWN0ZWQgY2FudmFzR3JvdXBzOiBDYW52YXNHcm91cHMgPSBuZXcgQ2FudmFzR3JvdXBzKCk7XG4gIHByb3RlY3RlZCBfbnVtYmVyT2ZDYW52YXNlcyA9IDA7XG4gIHByaXZhdGUgcmVhZG9ubHkgdmlld2VyTGF5b3V0U2VydmljZSA9IGluamVjdChWaWV3ZXJMYXlvdXRTZXJ2aWNlKTtcbiAgcHJpdmF0ZSBjb25maWcgPSBuZXcgTWltZVZpZXdlckNvbmZpZygpO1xuICBwcml2YXRlIHRpbGVTb3VyY2VzOiBhbnlbXSA9IFtdO1xuICBwcml2YXRlIHZpZXdlcjogVmlld2VyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIHJvdGF0aW9uID0gMDtcbiAgcHJpdmF0ZSB2aWV3aW5nRGlyZWN0aW9uID0gVmlld2luZ0RpcmVjdGlvbi5MVFI7XG4gIHByaXZhdGUgc3ZnTm9kZTogYW55O1xuICBwcml2YXRlIF9vdmVybGF5czogU1ZHUmVjdEVsZW1lbnRbXSA9IFtdO1xuXG4gIGdldCBvdmVybGF5cygpOiBSZWFkb25seUFycmF5PFNWR1JlY3RFbGVtZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuX292ZXJsYXlzO1xuICB9XG5cbiAgZ2V0IG9uQ2FudmFzR3JvdXBJbmRleENoYW5nZSgpOiBPYnNlcnZhYmxlPG51bWJlcj4ge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50Q2FudmFzR3JvdXBJbmRleFxuICAgICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbiAgfVxuXG4gIGdldCBvbk51bWJlck9mQ2FudmFzR3JvdXBzQ2hhbmdlKCk6IE9ic2VydmFibGU8bnVtYmVyPiB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnROdW1iZXJPZkNhbnZhc0dyb3Vwc1xuICAgICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbiAgfVxuXG4gIGdldCBudW1iZXJPZkNhbnZhc0dyb3VwcygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhbnZhc0dyb3Vwcy5sZW5ndGgoKTtcbiAgfVxuXG4gIGdldCBjdXJyZW50Q2FudmFzSW5kZXgoKTogbnVtYmVyIHtcbiAgICBjb25zdCBjYW52YXNlcyA9XG4gICAgICB0aGlzLmNhbnZhc0dyb3Vwcy5jYW52YXNlc1BlckNhbnZhc0dyb3VwW3RoaXMuY3VycmVudENhbnZhc0dyb3VwSW5kZXhdO1xuICAgIHJldHVybiBjYW52YXNlcyAmJiBjYW52YXNlcy5sZW5ndGggPj0gMSA/IGNhbnZhc2VzWzBdIDogMDtcbiAgfVxuXG4gIGdldCBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50Q2FudmFzR3JvdXBJbmRleC52YWx1ZTtcbiAgfVxuXG4gIHNldCBjdXJyZW50Q2FudmFzR3JvdXBJbmRleChjdXJyZW50Q2FudmFzR3JvdXBJbmRleDogbnVtYmVyKSB7XG4gICAgaWYgKCF0aGlzLmlzV2l0aGluQm91bmRzKGN1cnJlbnRDYW52YXNHcm91cEluZGV4KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9jdXJyZW50Q2FudmFzR3JvdXBJbmRleC5uZXh0KGN1cnJlbnRDYW52YXNHcm91cEluZGV4KTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbWVtYmVyLW9yZGVyaW5nXG4gIGdldCBudW1iZXJPZkNhbnZhc2VzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX251bWJlck9mQ2FudmFzZXM7XG4gIH1cblxuICBzZXQgbnVtYmVyT2ZDYW52YXNlcyhudW1iZXJPZkNhbnZhc2VzOiBudW1iZXIpIHtcbiAgICB0aGlzLl9udW1iZXJPZkNhbnZhc2VzID0gbnVtYmVyT2ZDYW52YXNlcztcbiAgfVxuXG4gIHNldFZpZXdlcih2aWV3ZXI6IGFueSk6IHZvaWQge1xuICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xuICB9XG5cbiAgc2V0Q29uZmlnKGNvbmZpZzogTWltZVZpZXdlckNvbmZpZyk6IHZvaWQge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgc2V0U3ZnTm9kZShzdmdOb2RlOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLnN2Z05vZGUgPSBzdmdOb2RlO1xuICB9XG5cbiAgc2V0Um90YXRpb24ocm90YXRpb246IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgfVxuXG4gIHNldFZpZXdpbmdEaXJlY3Rpb24odmlld2luZ0RpcmVjdGlvbjogVmlld2luZ0RpcmVjdGlvbik6IHZvaWQge1xuICAgIHRoaXMudmlld2luZ0RpcmVjdGlvbiA9IHZpZXdpbmdEaXJlY3Rpb247XG4gIH1cblxuICBhZGRUaWxlU291cmNlcyh0aWxlU291cmNlczogUmVzb3VyY2VbXSk6IHZvaWQge1xuICAgIHRoaXMudGlsZVNvdXJjZXMgPSB0aWxlU291cmNlcztcbiAgfVxuXG4gIHVwZGF0ZVZpZXdlcigpOiB2b2lkIHtcbiAgICB0aGlzLmNyZWF0ZUNhbnZhc0dyb3VwcygpO1xuICAgIHRoaXMuY3JlYXRlQW5kQXBwZW5kQ2FudmFzR3JvdXBzKCk7XG4gIH1cblxuICBpc1dpdGhpbkJvdW5kcyhjYW52YXNHcm91cEluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgY2FudmFzR3JvdXBJbmRleCA+IC0xICYmIGNhbnZhc0dyb3VwSW5kZXggPD0gdGhpcy5udW1iZXJPZkNhbnZhc0dyb3VwcyAtIDFcbiAgICApO1xuICB9XG5cbiAgaXNDdXJyZW50Q2FudmFzR3JvdXBWYWxpZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc1dpdGhpbkJvdW5kcyh0aGlzLmN1cnJlbnRDYW52YXNHcm91cEluZGV4KTtcbiAgfVxuXG4gIC8vIFJldHVybnMgLTEgaWYgbmV4dCBjYW52YXMgaW5kZXggaXMgb3V0IG9mIGJvdW5kc1xuICBnZXROZXh0Q2FudmFzR3JvdXBJbmRleCgpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5pc1dpdGhpbkJvdW5kcyh0aGlzLmN1cnJlbnRDYW52YXNHcm91cEluZGV4ICsgMSkpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50Q2FudmFzR3JvdXBJbmRleCsrO1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRDYW52YXNHcm91cEluZGV4O1xuICB9XG5cbiAgLy8gUmV0dXJucyAtMSBpZiBwcmV2aW91cyBjYW52YXMgaW5kZXggaXMgb3V0IG9mIGJvdW5kc1xuICBnZXRQcmV2Q2FudmFzR3JvdXBJbmRleCgpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5pc1dpdGhpbkJvdW5kcyh0aGlzLmN1cnJlbnRDYW52YXNHcm91cEluZGV4IC0gMSkpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50Q2FudmFzR3JvdXBJbmRleC0tO1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRDYW52YXNHcm91cEluZGV4O1xuICB9XG5cbiAgY29uc3RyYWluVG9SYW5nZShjYW52YXNHcm91cHNJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAoY2FudmFzR3JvdXBzSW5kZXggPCAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IGVsc2UgaWYgKGNhbnZhc0dyb3Vwc0luZGV4ID49IHRoaXMubnVtYmVyT2ZDYW52YXNHcm91cHMgLSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5udW1iZXJPZkNhbnZhc0dyb3VwcyAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYW52YXNHcm91cHNJbmRleDtcbiAgICB9XG4gIH1cblxuICBmaW5kQ2xvc2VzdENhbnZhc0dyb3VwSW5kZXgocG9pbnQ6IFBvaW50KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXNHcm91cHMuZmluZENsb3Nlc3RJbmRleChwb2ludCk7XG4gIH1cblxuICBmaW5kQ2FudmFzR3JvdXBCeUNhbnZhc0luZGV4KGNhbnZhc0luZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhbnZhc0dyb3Vwcy5jYW52YXNlc1BlckNhbnZhc0dyb3VwLmZpbmRJbmRleChmdW5jdGlvbiAoXG4gICAgICBjYW52YXNGb3JDYW52YXNHcm91cDogbnVtYmVyW10sXG4gICAgKSB7XG4gICAgICByZXR1cm4gY2FudmFzRm9yQ2FudmFzR3JvdXAuaW5kZXhPZihjYW52YXNJbmRleCkgPj0gMDtcbiAgICB9KTtcbiAgfVxuXG4gIGZpbmRDYW52YXNCeUNhbnZhc0luZGV4KGNhbnZhc0luZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhbnZhc0dyb3Vwcy5jYW52YXNlc1BlckNhbnZhc0dyb3VwLmxlbmd0aCA9PT0gMFxuICAgICAgPyAtMVxuICAgICAgOiB0aGlzLmNhbnZhc0dyb3Vwcy5jYW52YXNlc1BlckNhbnZhc0dyb3VwW2NhbnZhc0luZGV4XVswXTtcbiAgfVxuXG4gIGdldENhbnZhc0dyb3VwTGFiZWwoY2FudmFzR3JvdXBJbmRleDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5jYW52YXNHcm91cHMuY2FudmFzR3JvdXBzIHx8XG4gICAgICB0aGlzLmNhbnZhc0dyb3Vwcy5jYW52YXNlc1BlckNhbnZhc0dyb3VwLmxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgcmV0dXJuICcxJztcbiAgICB9XG5cbiAgICBjb25zdCBjYW52YXNHcm91cCA9XG4gICAgICB0aGlzLmNhbnZhc0dyb3Vwcy5jYW52YXNlc1BlckNhbnZhc0dyb3VwW2NhbnZhc0dyb3VwSW5kZXhdO1xuICAgIGxldCBjYW52YXNHcm91cExhYmVsID0gJycgKyAoY2FudmFzR3JvdXBbMF0gKyAxKTtcblxuICAgIGlmIChjYW52YXNHcm91cC5sZW5ndGggPiAxKSB7XG4gICAgICBjYW52YXNHcm91cExhYmVsID1cbiAgICAgICAgY2FudmFzR3JvdXBMYWJlbCArICctJyArIChjYW52YXNHcm91cFtjYW52YXNHcm91cC5sZW5ndGggLSAxXSArIDEpO1xuICAgIH1cblxuICAgIHJldHVybiBjYW52YXNHcm91cExhYmVsO1xuICB9XG5cbiAgZ2V0Q2FudmFzZXNQZXJDYW52YXNHcm91cChjYW52YXNJbmRleDogbnVtYmVyKTogbnVtYmVyW10ge1xuICAgIHJldHVybiAhdGhpcy5jYW52YXNHcm91cHMuY2FudmFzR3JvdXBzXG4gICAgICA/IFswXVxuICAgICAgOiB0aGlzLmNhbnZhc0dyb3Vwcy5jYW52YXNlc1BlckNhbnZhc0dyb3VwW2NhbnZhc0luZGV4XTtcbiAgfVxuXG4gIGdldENhbnZhc1JlY3QoY2FudmFzSW5kZXg6IG51bWJlcik6IFJlY3Qge1xuICAgIHJldHVybiB0aGlzLmNhbnZhc0dyb3Vwcy50aWxlU291cmNlQW5kUmVjdHNbY2FudmFzSW5kZXhdLnJlY3Q7XG4gIH1cblxuICBnZXRDdXJyZW50Q2FudmFzR3JvdXBSZWN0KCk6IFJlY3Qge1xuICAgIHJldHVybiB0aGlzLmdldENhbnZhc0dyb3VwUmVjdCh0aGlzLmN1cnJlbnRDYW52YXNHcm91cEluZGV4KTtcbiAgfVxuXG4gIGdldENhbnZhc0dyb3VwUmVjdChjYW52YXNHcm91cEluZGV4OiBudW1iZXIpOiBSZWN0IHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXNHcm91cHMuZ2V0KGNhbnZhc0dyb3VwSW5kZXgpLnJlY3Q7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnZpZXdlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9vdmVybGF5cyA9IFtdO1xuICAgIHRoaXMubnVtYmVyT2ZDYW52YXNlcyA9IDA7XG4gICAgdGhpcy5fY3VycmVudENhbnZhc0dyb3VwSW5kZXgubmV4dCgwKTtcbiAgICB0aGlzLmNhbnZhc0dyb3VwcyA9IG5ldyBDYW52YXNHcm91cHMoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVGlsZSh0aWxlOiBUaWxlU291cmNlQW5kUmVjdCk6IHZvaWQge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGlsZS5yZWN0O1xuICAgIGNvbnN0IHJvdGF0ZWQgPSB0aGlzLnJvdGF0aW9uID09PSA5MCB8fCB0aGlzLnJvdGF0aW9uID09PSAyNzA7XG5cbiAgICBsZXQgYm91bmRzO1xuXG4gICAgLyogQmVjYXVzZSBpbWFnZSBzY2FsaW5nIGlzIHBlcmZvcm1lZCBiZWZvcmUgcm90YXRpb24sXG4gICAgICogd2UgbXVzdCBpbnZlcnQgd2lkdGggJiBoZWlnaHQgYW5kIHRyYW5zbGF0ZSBwb3NpdGlvbiBzbyB0aGF0IHRpbGUgcm90YXRpb24gZW5kcyB1cCBjb3JyZWN0XG4gICAgICovXG4gICAgaWYgKHJvdGF0ZWQpIHtcbiAgICAgIGJvdW5kcyA9IG5ldyBPcGVuU2VhZHJhZ29uLlJlY3QoXG4gICAgICAgIHBvc2l0aW9uLnggKyAocG9zaXRpb24ud2lkdGggLSBwb3NpdGlvbi5oZWlnaHQpIC8gMixcbiAgICAgICAgcG9zaXRpb24ueSAtIChwb3NpdGlvbi53aWR0aCAtIHBvc2l0aW9uLmhlaWdodCkgLyAyLFxuICAgICAgICBwb3NpdGlvbi5oZWlnaHQsXG4gICAgICAgIHBvc2l0aW9uLndpZHRoLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYm91bmRzID0gbmV3IE9wZW5TZWFkcmFnb24uUmVjdChcbiAgICAgICAgcG9zaXRpb24ueCxcbiAgICAgICAgcG9zaXRpb24ueSxcbiAgICAgICAgcG9zaXRpb24ud2lkdGgsXG4gICAgICAgIHBvc2l0aW9uLmhlaWdodCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgdGlsZVNvdXJjZXNTdHJhdGVneSA9IFRpbGVTb3VyY2VTdHJhdGVneUZhY3RvcnkuY3JlYXRlKFxuICAgICAgdGlsZS50aWxlU291cmNlLFxuICAgICk7XG4gICAgY29uc3QgdGlsZVNvdXJjZSA9IHRpbGVTb3VyY2VzU3RyYXRlZ3kuZ2V0VGlsZVNvdXJjZSh0aWxlLnRpbGVTb3VyY2UpO1xuICAgIHRoaXMudmlld2VyPy5hZGRUaWxlZEltYWdlKHtcbiAgICAgIHRpbGVTb3VyY2U6IHRpbGVTb3VyY2UsXG4gICAgICBmaXRCb3VuZHM6IGJvdW5kcyxcbiAgICAgIGRlZ3JlZXM6IHRoaXMucm90YXRpb24sXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUFuZEFwcGVuZENhbnZhc0dyb3VwcygpOiB2b2lkIHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIHRoaXMuY2FudmFzR3JvdXBzLmNhbnZhc0dyb3Vwcy5mb3JFYWNoKChjYW52YXNHcm91cCkgPT4ge1xuICAgICAgY29uc3QgZ3JvdXA6IGFueSA9IHRoaXMuYXBwZW5kUGFnZUdyb3VwKCk7XG4gICAgICBjYW52YXNHcm91cC50aWxlU291cmNlQW5kUmVjdHMuZm9yRWFjaCgodGlsZVNvdXJjZUFuZFJlY3QpID0+IHtcbiAgICAgICAgdGhpcy5jcmVhdGVUaWxlKHRpbGVTb3VyY2VBbmRSZWN0KTtcbiAgICAgICAgdGhpcy5jcmVhdGVPdmVybGF5KGdyb3VwLCB0aWxlU291cmNlQW5kUmVjdCwgaW5kZXgpO1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFwcGVuZFBhZ2VHcm91cCgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLnN2Z05vZGUuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAncGFnZS1ncm91cCcpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVPdmVybGF5KGdyb3VwOiBhbnksIHRpbGU6IFRpbGVTb3VyY2VBbmRSZWN0LCBpOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRpbGUucmVjdDtcbiAgICBjb25zdCBjdXJyZW50T3ZlcmxheSA9IHRoaXMuY3JlYXRlUmVjdGFuZ2xlKGdyb3VwLCBwb3NpdGlvbik7XG5cbiAgICAvLyBNYWtlIGN1c3RvbSBib3JkZXJzIGlmIGN1cnJlbnQgbGF5b3V0IGlzIHR3by1wYWdlZFxuICAgIGlmICh0aGlzLnZpZXdlckxheW91dFNlcnZpY2UubGF5b3V0ID09PSBWaWV3ZXJMYXlvdXQuVFdPX1BBR0UpIHtcbiAgICAgIHRoaXMuYXBwbHlDdXN0b21Cb3JkZXJzKGksIHBvc2l0aW9uLCBjdXJyZW50T3ZlcmxheSk7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudE92ZXJsYXlOb2RlOiBTVkdSZWN0RWxlbWVudCA9IGN1cnJlbnRPdmVybGF5Lm5vZGUoKTtcbiAgICB0aGlzLl9vdmVybGF5c1tpXSA9IGN1cnJlbnRPdmVybGF5Tm9kZTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQ2FudmFzR3JvdXBzKCk6IHZvaWQge1xuICAgIHRoaXMubnVtYmVyT2ZDYW52YXNlcyA9IHRoaXMudGlsZVNvdXJjZXMubGVuZ3RoO1xuICAgIGNvbnN0IGNhbnZhc0dyb3VwU3RyYXRlZ3kgPSBDYW52YXNHcm91cFN0cmF0ZWd5RmFjdG9yeS5jcmVhdGUoXG4gICAgICB0aGlzLnZpZXdlckxheW91dFNlcnZpY2UubGF5b3V0LFxuICAgICAgdGhpcy5jb25maWcsXG4gICAgICB0aGlzLnZpZXdpbmdEaXJlY3Rpb24sXG4gICAgICB0aGlzLnJvdGF0aW9uLFxuICAgICk7XG4gICAgdGhpcy5jYW52YXNHcm91cHMgPSBjYW52YXNHcm91cFN0cmF0ZWd5LmFkZEFsbCh0aGlzLnRpbGVTb3VyY2VzKTtcbiAgICB0aGlzLl9jdXJyZW50TnVtYmVyT2ZDYW52YXNHcm91cHMubmV4dCh0aGlzLmNhbnZhc0dyb3Vwcy5sZW5ndGgoKSk7XG4gIH1cblxuICBwcml2YXRlIGFwcGx5Q3VzdG9tQm9yZGVycyhcbiAgICBpOiBudW1iZXIsXG4gICAgcG9zaXRpb246IGFueSxcbiAgICBjdXJyZW50T3ZlcmxheTogYW55LFxuICApOiB2b2lkIHtcbiAgICBpZiAoaSAlIDIgPT09IDAgJiYgaSAhPT0gMCkge1xuICAgICAgY29uc3Qgbm9MZWZ0U3Ryb2tlU3R5bGUgPVxuICAgICAgICBOdW1iZXIocG9zaXRpb24ud2lkdGggKiAyICsgcG9zaXRpb24uaGVpZ2h0KSArXG4gICAgICAgICcsICcgK1xuICAgICAgICBwb3NpdGlvbi53aWR0aCAqIDI7XG4gICAgICBjdXJyZW50T3ZlcmxheS5zdHlsZSgnc3Ryb2tlLWRhc2hhcnJheScsIG5vTGVmdFN0cm9rZVN0eWxlKTtcbiAgICB9IGVsc2UgaWYgKGkgJSAyICE9PSAwICYmIGkgIT09IDApIHtcbiAgICAgIGNvbnN0IG5vUmlnaHRTdHJva2VTdHlsZSA9XG4gICAgICAgIHBvc2l0aW9uLndpZHRoICtcbiAgICAgICAgJywgJyArXG4gICAgICAgIHBvc2l0aW9uLmhlaWdodCArXG4gICAgICAgICcsICcgK1xuICAgICAgICBOdW1iZXIocG9zaXRpb24ud2lkdGggKiAyICsgcG9zaXRpb24uaGVpZ2h0KTtcbiAgICAgIGN1cnJlbnRPdmVybGF5LnN0eWxlKCdzdHJva2UtZGFzaGFycmF5Jywgbm9SaWdodFN0cm9rZVN0eWxlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVJlY3RhbmdsZShncm91cDogYW55LCBwb3NpdGlvbjogUmVjdCk6IGFueSB7XG4gICAgcmV0dXJuIGdyb3VwXG4gICAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCd4JywgcG9zaXRpb24ueClcbiAgICAgIC5hdHRyKCd5JywgcG9zaXRpb24ueSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHBvc2l0aW9uLndpZHRoKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIHBvc2l0aW9uLmhlaWdodClcbiAgICAgIC5hdHRyKCdjbGFzcycsICd0aWxlJyk7XG4gIH1cbn1cbiJdfQ==","import { Injectable } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class HighlightService {\n    highlightSelectedHit(id) {\n        document.querySelector('.selectedHit')?.removeAttribute('class');\n        document\n            .querySelector(`mark[data-id='${id}']`)\n            ?.setAttribute('class', 'selectedHit');\n    }\n    highlight(html, currentIndex, hits) {\n        if (hits && hits.length > 0) {\n            for (const hit of hits) {\n                if (hit.index === currentIndex) {\n                    html = this.markHtml(html, hit.match, hit.id);\n                }\n            }\n        }\n        return html;\n    }\n    markHtml(html, pattern, id) {\n        const wordBoundary = '\\\\b';\n        return html?.replace(new RegExp(wordBoundary + this.escapeSpecialCharacters(pattern) + '(?!<)'), `<mark data-id=\"${id}\">$&</mark>`);\n    }\n    /*\n      \"escapeAndRegexMatch\" \"\\\\\" Is a escape character used to escape special\n      characters in the regexPattern, \"$&\" is a back reference to the whole match.\n  \n      \"searchValuePattern\" is a list of special characters to be escaped,\n      everything inside /[ ... ] including \\s (whitespace) is to be escaped.\n  \n      text.substring(1) removes the first character of a string if the character is \",\n      this is a special case in order to highlight all words.\n    */\n    escapeSpecialCharacters(text) {\n        const escapeAndRegexMatch = '\\\\$&';\n        const searchValuePattern = /[-[\\]{}()*\"+?.,\\\\^$|#\\s]/g;\n        return text.charAt(0) === '\"'\n            ? text.substring(1).replace(searchValuePattern, escapeAndRegexMatch)\n            : text.replace(searchValuePattern, escapeAndRegexMatch);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: HighlightService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: HighlightService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: HighlightService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGlnaGxpZ2h0LnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9oaWdobGlnaHQtc2VydmljZS9oaWdobGlnaHQuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDOztBQUkzQyxNQUFNLE9BQU8sZ0JBQWdCO0lBQzNCLG9CQUFvQixDQUFDLEVBQVU7UUFDN0IsUUFBUSxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsRUFBRSxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakUsUUFBUTthQUNMLGFBQWEsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUM7WUFDdkMsRUFBRSxZQUFZLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxTQUFTLENBQ1AsSUFBWSxFQUNaLFlBQW9CLEVBQ3BCLElBQXdCO1FBRXhCLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDNUIsS0FBSyxNQUFNLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDdkIsSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLFlBQVksRUFBRSxDQUFDO29CQUMvQixJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ2hELENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVPLFFBQVEsQ0FBQyxJQUFZLEVBQUUsT0FBZSxFQUFFLEVBQVc7UUFDekQsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDO1FBQzNCLE9BQU8sSUFBSSxFQUFFLE9BQU8sQ0FDbEIsSUFBSSxNQUFNLENBQ1IsWUFBWSxHQUFHLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLENBQUMsR0FBRyxPQUFPLENBQy9ELEVBQ0Qsa0JBQWtCLEVBQUUsYUFBYSxDQUNsQyxDQUFDO0lBQ0osQ0FBQztJQUVEOzs7Ozs7Ozs7TUFTRTtJQUNNLHVCQUF1QixDQUFDLElBQVk7UUFDMUMsTUFBTSxtQkFBbUIsR0FBRyxNQUFNLENBQUM7UUFDbkMsTUFBTSxrQkFBa0IsR0FBRywyQkFBMkIsQ0FBQztRQUN2RCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRztZQUMzQixDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLEVBQUUsbUJBQW1CLENBQUM7WUFDcEUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztJQUM1RCxDQUFDOzhHQWpEVSxnQkFBZ0I7a0hBQWhCLGdCQUFnQjs7MkZBQWhCLGdCQUFnQjtrQkFENUIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEhpdCB9IGZyb20gJy4vLi4vLi4vY29yZS9tb2RlbHMvaGl0JztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEhpZ2hsaWdodFNlcnZpY2Uge1xuICBoaWdobGlnaHRTZWxlY3RlZEhpdChpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkSGl0Jyk/LnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoYG1hcmtbZGF0YS1pZD0nJHtpZH0nXWApXG4gICAgICA/LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnc2VsZWN0ZWRIaXQnKTtcbiAgfVxuXG4gIGhpZ2hsaWdodChcbiAgICBodG1sOiBzdHJpbmcsXG4gICAgY3VycmVudEluZGV4OiBudW1iZXIsXG4gICAgaGl0cz86IEhpdFtdIHwgdW5kZWZpbmVkLFxuICApOiBzdHJpbmcge1xuICAgIGlmIChoaXRzICYmIGhpdHMubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChjb25zdCBoaXQgb2YgaGl0cykge1xuICAgICAgICBpZiAoaGl0LmluZGV4ID09PSBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICBodG1sID0gdGhpcy5tYXJrSHRtbChodG1sLCBoaXQubWF0Y2gsIGhpdC5pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGh0bWw7XG4gIH1cblxuICBwcml2YXRlIG1hcmtIdG1sKGh0bWw6IHN0cmluZywgcGF0dGVybjogc3RyaW5nLCBpZD86IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3Qgd29yZEJvdW5kYXJ5ID0gJ1xcXFxiJztcbiAgICByZXR1cm4gaHRtbD8ucmVwbGFjZShcbiAgICAgIG5ldyBSZWdFeHAoXG4gICAgICAgIHdvcmRCb3VuZGFyeSArIHRoaXMuZXNjYXBlU3BlY2lhbENoYXJhY3RlcnMocGF0dGVybikgKyAnKD8hPCknLFxuICAgICAgKSxcbiAgICAgIGA8bWFyayBkYXRhLWlkPVwiJHtpZH1cIj4kJjwvbWFyaz5gLFxuICAgICk7XG4gIH1cblxuICAvKlxuICAgIFwiZXNjYXBlQW5kUmVnZXhNYXRjaFwiIFwiXFxcXFwiIElzIGEgZXNjYXBlIGNoYXJhY3RlciB1c2VkIHRvIGVzY2FwZSBzcGVjaWFsXG4gICAgY2hhcmFjdGVycyBpbiB0aGUgcmVnZXhQYXR0ZXJuLCBcIiQmXCIgaXMgYSBiYWNrIHJlZmVyZW5jZSB0byB0aGUgd2hvbGUgbWF0Y2guXG5cbiAgICBcInNlYXJjaFZhbHVlUGF0dGVyblwiIGlzIGEgbGlzdCBvZiBzcGVjaWFsIGNoYXJhY3RlcnMgdG8gYmUgZXNjYXBlZCxcbiAgICBldmVyeXRoaW5nIGluc2lkZSAvWyAuLi4gXSBpbmNsdWRpbmcgXFxzICh3aGl0ZXNwYWNlKSBpcyB0byBiZSBlc2NhcGVkLlxuXG4gICAgdGV4dC5zdWJzdHJpbmcoMSkgcmVtb3ZlcyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc3RyaW5nIGlmIHRoZSBjaGFyYWN0ZXIgaXMgXCIsXG4gICAgdGhpcyBpcyBhIHNwZWNpYWwgY2FzZSBpbiBvcmRlciB0byBoaWdobGlnaHQgYWxsIHdvcmRzLlxuICAqL1xuICBwcml2YXRlIGVzY2FwZVNwZWNpYWxDaGFyYWN0ZXJzKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZXNjYXBlQW5kUmVnZXhNYXRjaCA9ICdcXFxcJCYnO1xuICAgIGNvbnN0IHNlYXJjaFZhbHVlUGF0dGVybiA9IC9bLVtcXF17fSgpKlwiKz8uLFxcXFxeJHwjXFxzXS9nO1xuICAgIHJldHVybiB0ZXh0LmNoYXJBdCgwKSA9PT0gJ1wiJ1xuICAgICAgPyB0ZXh0LnN1YnN0cmluZygxKS5yZXBsYWNlKHNlYXJjaFZhbHVlUGF0dGVybiwgZXNjYXBlQW5kUmVnZXhNYXRjaClcbiAgICAgIDogdGV4dC5yZXBsYWNlKHNlYXJjaFZhbHVlUGF0dGVybiwgZXNjYXBlQW5kUmVnZXhNYXRjaCk7XG4gIH1cbn1cbiJdfQ==","import { ViewingDirection } from '../../../models/viewing-direction';\nexport class BuilderUtils {\n    static extractId(value) {\n        return value['@id'];\n    }\n    static extracType(value) {\n        return value['@type'];\n    }\n    static extractContext(value) {\n        return value['@context'];\n    }\n    static extractViewingDirection(value) {\n        if (value['viewingDirection'] === 'right-to-left') {\n            return ViewingDirection.RTL;\n        }\n        else {\n            return ViewingDirection.LTR;\n        }\n    }\n    static findCanvasIndex(canvases, sequences) {\n        let index = -1;\n        if (sequences[0] && sequences[0].canvases && canvases[0]) {\n            index = sequences[0].canvases.findIndex((canvas) => canvas.id === canvases[0]);\n        }\n        return index;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGRlci11dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjIvYnVpbGRlci11dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUVyRSxNQUFNLE9BQU8sWUFBWTtJQUN2QixNQUFNLENBQUMsU0FBUyxDQUFDLEtBQVU7UUFDekIsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBVTtRQUMxQixPQUFPLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBRUQsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFVO1FBQzlCLE9BQU8sS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRCxNQUFNLENBQUMsdUJBQXVCLENBQUMsS0FBVTtRQUN2QyxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLGVBQWUsRUFBRSxDQUFDO1lBQ2xELE9BQU8sZ0JBQWdCLENBQUMsR0FBRyxDQUFDO1FBQzlCLENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUM7UUFDOUIsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsZUFBZSxDQUFDLFFBQWtCLEVBQUUsU0FBcUI7UUFDOUQsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDZixJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ3pELEtBQUssR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FDckMsQ0FBQyxNQUFjLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUM5QyxDQUFDO1FBQ0osQ0FBQztRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FudmFzLCBTZXF1ZW5jZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBWaWV3aW5nRGlyZWN0aW9uIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3ZpZXdpbmctZGlyZWN0aW9uJztcblxuZXhwb3J0IGNsYXNzIEJ1aWxkZXJVdGlscyB7XG4gIHN0YXRpYyBleHRyYWN0SWQodmFsdWU6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZhbHVlWydAaWQnXTtcbiAgfVxuXG4gIHN0YXRpYyBleHRyYWNUeXBlKHZhbHVlOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2YWx1ZVsnQHR5cGUnXTtcbiAgfVxuXG4gIHN0YXRpYyBleHRyYWN0Q29udGV4dCh2YWx1ZTogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmFsdWVbJ0Bjb250ZXh0J107XG4gIH1cblxuICBzdGF0aWMgZXh0cmFjdFZpZXdpbmdEaXJlY3Rpb24odmFsdWU6IGFueSk6IFZpZXdpbmdEaXJlY3Rpb24ge1xuICAgIGlmICh2YWx1ZVsndmlld2luZ0RpcmVjdGlvbiddID09PSAncmlnaHQtdG8tbGVmdCcpIHtcbiAgICAgIHJldHVybiBWaWV3aW5nRGlyZWN0aW9uLlJUTDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFZpZXdpbmdEaXJlY3Rpb24uTFRSO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBmaW5kQ2FudmFzSW5kZXgoY2FudmFzZXM6IHN0cmluZ1tdLCBzZXF1ZW5jZXM6IFNlcXVlbmNlW10pOiBudW1iZXIge1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGlmIChzZXF1ZW5jZXNbMF0gJiYgc2VxdWVuY2VzWzBdLmNhbnZhc2VzICYmIGNhbnZhc2VzWzBdKSB7XG4gICAgICBpbmRleCA9IHNlcXVlbmNlc1swXS5jYW52YXNlcy5maW5kSW5kZXgoXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gY2FudmFzLmlkID09PSBjYW52YXNlc1swXSxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxufVxuIl19","import { Metadata } from '../../../models/manifest';\nexport class MetadataBuilder {\n    constructor(metadatas) {\n        this.metadatas = metadatas;\n    }\n    build() {\n        const metadatas = [];\n        if (this.metadatas) {\n            for (let i = 0; i < this.metadatas.length; i++) {\n                const data = this.metadatas[i];\n                metadatas.push(new Metadata(data.label, data.value));\n            }\n        }\n        return metadatas;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0YWRhdGEuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjIvbWV0YWRhdGEuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFcEQsTUFBTSxPQUFPLGVBQWU7SUFDMUIsWUFBb0IsU0FBYztRQUFkLGNBQVMsR0FBVCxTQUFTLENBQUs7SUFBRyxDQUFDO0lBRXRDLEtBQUs7UUFDSCxNQUFNLFNBQVMsR0FBZSxFQUFFLENBQUM7UUFDakMsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDbkIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQy9DLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQy9CLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUN2RCxDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1ldGFkYXRhIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL21hbmlmZXN0JztcblxuZXhwb3J0IGNsYXNzIE1ldGFkYXRhQnVpbGRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbWV0YWRhdGFzOiBhbnkpIHt9XG5cbiAgYnVpbGQoKTogTWV0YWRhdGFbXSB7XG4gICAgY29uc3QgbWV0YWRhdGFzOiBNZXRhZGF0YVtdID0gW107XG4gICAgaWYgKHRoaXMubWV0YWRhdGFzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWV0YWRhdGFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLm1ldGFkYXRhc1tpXTtcbiAgICAgICAgbWV0YWRhdGFzLnB1c2gobmV3IE1ldGFkYXRhKGRhdGEubGFiZWwsIGRhdGEudmFsdWUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1ldGFkYXRhcztcbiAgfVxufVxuIl19","import { Size } from '../../../models/manifest';\nexport class SizesBuilder {\n    constructor(sizes) {\n        this.sizes = sizes;\n    }\n    build() {\n        const sizes = [];\n        if (this.sizes) {\n            for (let i = 0; i < this.sizes.length; i++) {\n                const size = this.sizes[i];\n                sizes.push(new Size(size.width, size.height));\n            }\n        }\n        return sizes;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2l6ZXMuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjIvc2l6ZXMuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFaEQsTUFBTSxPQUFPLFlBQVk7SUFDdkIsWUFBb0IsS0FBWTtRQUFaLFVBQUssR0FBTCxLQUFLLENBQU87SUFBRyxDQUFDO0lBRXBDLEtBQUs7UUFDSCxNQUFNLEtBQUssR0FBVyxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDZixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDM0MsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ2hELENBQUM7UUFDSCxDQUFDO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTaXplIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL21hbmlmZXN0JztcblxuZXhwb3J0IGNsYXNzIFNpemVzQnVpbGRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc2l6ZXM6IGFueVtdKSB7fVxuXG4gIGJ1aWxkKCk6IFNpemVbXSB7XG4gICAgY29uc3Qgc2l6ZXM6IFNpemVbXSA9IFtdO1xuICAgIGlmICh0aGlzLnNpemVzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2l6ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZXNbaV07XG4gICAgICAgIHNpemVzLnB1c2gobmV3IFNpemUoc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpemVzO1xuICB9XG59XG4iXX0=","import { Tile } from '../../../models/manifest';\nexport class TilesBuilder {\n    constructor(tiles) {\n        this.tiles = tiles;\n    }\n    build() {\n        const tiles = [];\n        if (this.tiles) {\n            for (let i = 0; i < this.tiles.length; i++) {\n                const tile = this.tiles[i];\n                tiles.push(new Tile({\n                    width: tile.width,\n                    scaleFactors: tile.scaleFactors,\n                }));\n            }\n        }\n        return tiles;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGlsZXMuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjIvdGlsZXMuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFaEQsTUFBTSxPQUFPLFlBQVk7SUFDdkIsWUFBb0IsS0FBWTtRQUFaLFVBQUssR0FBTCxLQUFLLENBQU87SUFBRyxDQUFDO0lBRXBDLEtBQUs7UUFDSCxNQUFNLEtBQUssR0FBVyxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDZixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDM0MsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsS0FBSyxDQUFDLElBQUksQ0FDUixJQUFJLElBQUksQ0FBQztvQkFDUCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7b0JBQ2pCLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWTtpQkFDaEMsQ0FBQyxDQUNILENBQUM7WUFDSixDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGlsZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9tYW5pZmVzdCc7XG5cbmV4cG9ydCBjbGFzcyBUaWxlc0J1aWxkZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRpbGVzOiBhbnlbXSkge31cblxuICBidWlsZCgpOiBUaWxlW10ge1xuICAgIGNvbnN0IHRpbGVzOiBUaWxlW10gPSBbXTtcbiAgICBpZiAodGhpcy50aWxlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLnRpbGVzW2ldO1xuICAgICAgICB0aWxlcy5wdXNoKFxuICAgICAgICAgIG5ldyBUaWxlKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aWxlLndpZHRoLFxuICAgICAgICAgICAgc2NhbGVGYWN0b3JzOiB0aWxlLnNjYWxlRmFjdG9ycyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRpbGVzO1xuICB9XG59XG4iXX0=","import { Service } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { SizesBuilder } from './sizes.builder';\nimport { TilesBuilder } from './tiles.builder';\nexport class ServiceBuilder {\n    constructor(service) {\n        this.service = service;\n    }\n    build() {\n        if (!this.service) {\n            return undefined;\n        }\n        else {\n            return new Service({\n                id: BuilderUtils.extractId(this.service),\n                context: BuilderUtils.extractContext(this.service),\n                protocol: this.service.protocol,\n                width: this.service.width,\n                height: this.service.height,\n                sizes: new SizesBuilder(this.service.sizes).build(),\n                tiles: new TilesBuilder(this.service.tiles).build(),\n                profile: this.service.profile,\n                physicalScale: this.service.physicalScale,\n                physicalUnits: this.service.physicalUnits,\n                service: new ServiceBuilder(this.service.service).build(),\n            });\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmljZS5idWlsZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvYnVpbGRlcnMvaWlpZi92Mi9zZXJ2aWNlLmJ1aWxkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRS9DLE1BQU0sT0FBTyxjQUFjO0lBQ3pCLFlBQW9CLE9BQVk7UUFBWixZQUFPLEdBQVAsT0FBTyxDQUFLO0lBQUcsQ0FBQztJQUVwQyxLQUFLO1FBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNsQixPQUFPLFNBQVMsQ0FBQztRQUNuQixDQUFDO2FBQU0sQ0FBQztZQUNOLE9BQU8sSUFBSSxPQUFPLENBQUM7Z0JBQ2pCLEVBQUUsRUFBRSxZQUFZLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQ3hDLE9BQU8sRUFBRSxZQUFZLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7Z0JBQ2xELFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVE7Z0JBQy9CLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUs7Z0JBQ3pCLE1BQU0sRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU07Z0JBQzNCLEtBQUssRUFBRSxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssRUFBRTtnQkFDbkQsS0FBSyxFQUFFLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxFQUFFO2dCQUNuRCxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPO2dCQUM3QixhQUFhLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhO2dCQUN6QyxhQUFhLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhO2dCQUN6QyxPQUFPLEVBQUUsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUU7YUFDMUQsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztJQUNILENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvbWFuaWZlc3QnO1xuaW1wb3J0IHsgQnVpbGRlclV0aWxzIH0gZnJvbSAnLi9idWlsZGVyLXV0aWxzJztcbmltcG9ydCB7IFNpemVzQnVpbGRlciB9IGZyb20gJy4vc2l6ZXMuYnVpbGRlcic7XG5pbXBvcnQgeyBUaWxlc0J1aWxkZXIgfSBmcm9tICcuL3RpbGVzLmJ1aWxkZXInO1xuXG5leHBvcnQgY2xhc3MgU2VydmljZUJ1aWxkZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNlcnZpY2U6IGFueSkge31cblxuICBidWlsZCgpOiBTZXJ2aWNlIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoIXRoaXMuc2VydmljZSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBTZXJ2aWNlKHtcbiAgICAgICAgaWQ6IEJ1aWxkZXJVdGlscy5leHRyYWN0SWQodGhpcy5zZXJ2aWNlKSxcbiAgICAgICAgY29udGV4dDogQnVpbGRlclV0aWxzLmV4dHJhY3RDb250ZXh0KHRoaXMuc2VydmljZSksXG4gICAgICAgIHByb3RvY29sOiB0aGlzLnNlcnZpY2UucHJvdG9jb2wsXG4gICAgICAgIHdpZHRoOiB0aGlzLnNlcnZpY2Uud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5zZXJ2aWNlLmhlaWdodCxcbiAgICAgICAgc2l6ZXM6IG5ldyBTaXplc0J1aWxkZXIodGhpcy5zZXJ2aWNlLnNpemVzKS5idWlsZCgpLFxuICAgICAgICB0aWxlczogbmV3IFRpbGVzQnVpbGRlcih0aGlzLnNlcnZpY2UudGlsZXMpLmJ1aWxkKCksXG4gICAgICAgIHByb2ZpbGU6IHRoaXMuc2VydmljZS5wcm9maWxlLFxuICAgICAgICBwaHlzaWNhbFNjYWxlOiB0aGlzLnNlcnZpY2UucGh5c2ljYWxTY2FsZSxcbiAgICAgICAgcGh5c2ljYWxVbml0czogdGhpcy5zZXJ2aWNlLnBoeXNpY2FsVW5pdHMsXG4gICAgICAgIHNlcnZpY2U6IG5ldyBTZXJ2aWNlQnVpbGRlcih0aGlzLnNlcnZpY2Uuc2VydmljZSkuYnVpbGQoKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIl19","import { Resource } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { ServiceBuilder } from './service.builder';\nexport class ResourceBuilder {\n    constructor(resource) {\n        this.resource = resource;\n    }\n    build() {\n        if (!this.resource) {\n            throw new Error('No resource');\n        }\n        return new Resource({\n            id: BuilderUtils.extractId(this.resource),\n            type: BuilderUtils.extracType(this.resource),\n            format: this.resource.format,\n            service: new ServiceBuilder(this.resource.service).build(),\n            height: this.resource.height,\n            width: this.resource.width,\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb3VyY2UuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjIvcmVzb3VyY2UuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDcEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVuRCxNQUFNLE9BQU8sZUFBZTtJQUMxQixZQUFvQixRQUFhO1FBQWIsYUFBUSxHQUFSLFFBQVEsQ0FBSztJQUFHLENBQUM7SUFFckMsS0FBSztRQUNILElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNqQyxDQUFDO1FBQ0QsT0FBTyxJQUFJLFFBQVEsQ0FBQztZQUNsQixFQUFFLEVBQUUsWUFBWSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3pDLElBQUksRUFBRSxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDNUMsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTTtZQUM1QixPQUFPLEVBQUUsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUU7WUFDMUQsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTTtZQUM1QixLQUFLLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLO1NBQzNCLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IEJ1aWxkZXJVdGlscyB9IGZyb20gJy4vYnVpbGRlci11dGlscyc7XG5pbXBvcnQgeyBTZXJ2aWNlQnVpbGRlciB9IGZyb20gJy4vc2VydmljZS5idWlsZGVyJztcblxuZXhwb3J0IGNsYXNzIFJlc291cmNlQnVpbGRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVzb3VyY2U6IGFueSkge31cblxuICBidWlsZCgpOiBSZXNvdXJjZSB7XG4gICAgaWYgKCF0aGlzLnJlc291cmNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlc291cmNlJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVzb3VyY2Uoe1xuICAgICAgaWQ6IEJ1aWxkZXJVdGlscy5leHRyYWN0SWQodGhpcy5yZXNvdXJjZSksXG4gICAgICB0eXBlOiBCdWlsZGVyVXRpbHMuZXh0cmFjVHlwZSh0aGlzLnJlc291cmNlKSxcbiAgICAgIGZvcm1hdDogdGhpcy5yZXNvdXJjZS5mb3JtYXQsXG4gICAgICBzZXJ2aWNlOiBuZXcgU2VydmljZUJ1aWxkZXIodGhpcy5yZXNvdXJjZS5zZXJ2aWNlKS5idWlsZCgpLFxuICAgICAgaGVpZ2h0OiB0aGlzLnJlc291cmNlLmhlaWdodCxcbiAgICAgIHdpZHRoOiB0aGlzLnJlc291cmNlLndpZHRoLFxuICAgIH0pO1xuICB9XG59XG4iXX0=","import { Images } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { ResourceBuilder } from './resource.builder';\nexport class ImagesBuilder {\n    constructor(images) {\n        this.images = images;\n    }\n    build() {\n        const images = [];\n        if (this.images) {\n            for (let i = 0; i < this.images.length; i++) {\n                const image = this.images[i];\n                images.push(new Images({\n                    id: BuilderUtils.extractId(image),\n                    type: BuilderUtils.extracType(image),\n                    motivation: image.motivation,\n                    resource: new ResourceBuilder(image.resource).build(),\n                    on: image.on,\n                }));\n            }\n        }\n        return images;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1hZ2VzLmJ1aWxkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9idWlsZGVycy9paWlmL3YyL2ltYWdlcy5idWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNsRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRXJELE1BQU0sT0FBTyxhQUFhO0lBQ3hCLFlBQW9CLE1BQWE7UUFBYixXQUFNLEdBQU4sTUFBTSxDQUFPO0lBQUcsQ0FBQztJQUVyQyxLQUFLO1FBQ0gsTUFBTSxNQUFNLEdBQWEsRUFBRSxDQUFDO1FBQzVCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUM1QyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixNQUFNLENBQUMsSUFBSSxDQUNULElBQUksTUFBTSxDQUFDO29CQUNULEVBQUUsRUFBRSxZQUFZLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztvQkFDakMsSUFBSSxFQUFFLFlBQVksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO29CQUNwQyxVQUFVLEVBQUUsS0FBSyxDQUFDLFVBQVU7b0JBQzVCLFFBQVEsRUFBRSxJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxFQUFFO29CQUNyRCxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUU7aUJBQ2IsQ0FBQyxDQUNILENBQUM7WUFDSixDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEltYWdlcyB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBCdWlsZGVyVXRpbHMgfSBmcm9tICcuL2J1aWxkZXItdXRpbHMnO1xuaW1wb3J0IHsgUmVzb3VyY2VCdWlsZGVyIH0gZnJvbSAnLi9yZXNvdXJjZS5idWlsZGVyJztcblxuZXhwb3J0IGNsYXNzIEltYWdlc0J1aWxkZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGltYWdlczogYW55W10pIHt9XG5cbiAgYnVpbGQoKTogSW1hZ2VzW10ge1xuICAgIGNvbnN0IGltYWdlczogSW1hZ2VzW10gPSBbXTtcbiAgICBpZiAodGhpcy5pbWFnZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLmltYWdlc1tpXTtcbiAgICAgICAgaW1hZ2VzLnB1c2goXG4gICAgICAgICAgbmV3IEltYWdlcyh7XG4gICAgICAgICAgICBpZDogQnVpbGRlclV0aWxzLmV4dHJhY3RJZChpbWFnZSksXG4gICAgICAgICAgICB0eXBlOiBCdWlsZGVyVXRpbHMuZXh0cmFjVHlwZShpbWFnZSksXG4gICAgICAgICAgICBtb3RpdmF0aW9uOiBpbWFnZS5tb3RpdmF0aW9uLFxuICAgICAgICAgICAgcmVzb3VyY2U6IG5ldyBSZXNvdXJjZUJ1aWxkZXIoaW1hZ2UucmVzb3VyY2UpLmJ1aWxkKCksXG4gICAgICAgICAgICBvbjogaW1hZ2Uub24sXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbWFnZXM7XG4gIH1cbn1cbiJdfQ==","import { Canvas } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { ImagesBuilder } from './images.builder';\nexport class CanvasBuilder {\n    constructor(canvases) {\n        this.canvases = canvases;\n    }\n    build() {\n        const canvases = [];\n        if (this.canvases) {\n            for (let i = 0; i < this.canvases.length; i++) {\n                const canvas = this.canvases[i];\n                const seeAlso = canvas.seeAlso ? canvas.seeAlso : [];\n                if (canvas['@seeAlso']) {\n                    seeAlso.push(canvas['@seeAlso']);\n                }\n                canvases.push(new Canvas({\n                    id: BuilderUtils.extractId(canvas),\n                    type: BuilderUtils.extracType(canvas),\n                    label: canvas.label,\n                    thumbnail: canvas.thumbnail,\n                    height: canvas.height,\n                    width: canvas.width,\n                    images: new ImagesBuilder(canvas.images).build(),\n                    altoUrl: this.extractAltoUrl(seeAlso),\n                }));\n            }\n        }\n        return canvases;\n    }\n    extractAltoUrl(seeAlso) {\n        if (!seeAlso) {\n            return undefined;\n        }\n        const altoService = seeAlso.find((s) => s.format === 'application/alto+xml');\n        return altoService ? BuilderUtils.extractId(altoService) : undefined;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FudmFzLmJ1aWxkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9idWlsZGVycy9paWlmL3YyL2NhbnZhcy5idWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNsRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRWpELE1BQU0sT0FBTyxhQUFhO0lBQ3hCLFlBQW9CLFFBQWU7UUFBZixhQUFRLEdBQVIsUUFBUSxDQUFPO0lBQUcsQ0FBQztJQUV2QyxLQUFLO1FBQ0gsTUFBTSxRQUFRLEdBQWEsRUFBRSxDQUFDO1FBQzlCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2xCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUM5QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNoQyxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ3JELElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUM7b0JBQ3ZCLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7Z0JBQ25DLENBQUM7Z0JBRUQsUUFBUSxDQUFDLElBQUksQ0FDWCxJQUFJLE1BQU0sQ0FBQztvQkFDVCxFQUFFLEVBQUUsWUFBWSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7b0JBQ2xDLElBQUksRUFBRSxZQUFZLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQztvQkFDckMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLO29CQUNuQixTQUFTLEVBQUUsTUFBTSxDQUFDLFNBQVM7b0JBQzNCLE1BQU0sRUFBRSxNQUFNLENBQUMsTUFBTTtvQkFDckIsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLO29CQUNuQixNQUFNLEVBQUUsSUFBSSxhQUFhLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRTtvQkFDaEQsT0FBTyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDO2lCQUN0QyxDQUFDLENBQ0gsQ0FBQztZQUNKLENBQUM7UUFDSCxDQUFDO1FBQ0QsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQztJQUVPLGNBQWMsQ0FBQyxPQUFjO1FBQ25DLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNiLE9BQU8sU0FBUyxDQUFDO1FBQ25CLENBQUM7UUFFRCxNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUM5QixDQUFDLENBQU0sRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxzQkFBc0IsQ0FDaEQsQ0FBQztRQUNGLE9BQU8sV0FBVyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDdkUsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IEJ1aWxkZXJVdGlscyB9IGZyb20gJy4vYnVpbGRlci11dGlscyc7XG5pbXBvcnQgeyBJbWFnZXNCdWlsZGVyIH0gZnJvbSAnLi9pbWFnZXMuYnVpbGRlcic7XG5cbmV4cG9ydCBjbGFzcyBDYW52YXNCdWlsZGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjYW52YXNlczogYW55W10pIHt9XG5cbiAgYnVpbGQoKTogQ2FudmFzW10ge1xuICAgIGNvbnN0IGNhbnZhc2VzOiBDYW52YXNbXSA9IFtdO1xuICAgIGlmICh0aGlzLmNhbnZhc2VzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FudmFzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXNlc1tpXTtcbiAgICAgICAgY29uc3Qgc2VlQWxzbyA9IGNhbnZhcy5zZWVBbHNvID8gY2FudmFzLnNlZUFsc28gOiBbXTtcbiAgICAgICAgaWYgKGNhbnZhc1snQHNlZUFsc28nXSkge1xuICAgICAgICAgIHNlZUFsc28ucHVzaChjYW52YXNbJ0BzZWVBbHNvJ10pO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzZXMucHVzaChcbiAgICAgICAgICBuZXcgQ2FudmFzKHtcbiAgICAgICAgICAgIGlkOiBCdWlsZGVyVXRpbHMuZXh0cmFjdElkKGNhbnZhcyksXG4gICAgICAgICAgICB0eXBlOiBCdWlsZGVyVXRpbHMuZXh0cmFjVHlwZShjYW52YXMpLFxuICAgICAgICAgICAgbGFiZWw6IGNhbnZhcy5sYWJlbCxcbiAgICAgICAgICAgIHRodW1ibmFpbDogY2FudmFzLnRodW1ibmFpbCxcbiAgICAgICAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICAgICAgICBpbWFnZXM6IG5ldyBJbWFnZXNCdWlsZGVyKGNhbnZhcy5pbWFnZXMpLmJ1aWxkKCksXG4gICAgICAgICAgICBhbHRvVXJsOiB0aGlzLmV4dHJhY3RBbHRvVXJsKHNlZUFsc28pLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FudmFzZXM7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RBbHRvVXJsKHNlZUFsc286IGFueVtdKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoIXNlZUFsc28pIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgYWx0b1NlcnZpY2UgPSBzZWVBbHNvLmZpbmQoXG4gICAgICAoczogYW55KSA9PiBzLmZvcm1hdCA9PT0gJ2FwcGxpY2F0aW9uL2FsdG8reG1sJyxcbiAgICApO1xuICAgIHJldHVybiBhbHRvU2VydmljZSA/IEJ1aWxkZXJVdGlscy5leHRyYWN0SWQoYWx0b1NlcnZpY2UpIDogdW5kZWZpbmVkO1xuICB9XG59XG4iXX0=","import { Sequence } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { CanvasBuilder } from './canvas.builder';\nexport class SequenceBuilder {\n    constructor(sequences) {\n        this.sequences = sequences;\n    }\n    build() {\n        const sequences = [];\n        if (this.sequences) {\n            for (let i = 0; i < this.sequences.length; i++) {\n                const seq = this.sequences[i];\n                sequences.push(new Sequence({\n                    id: BuilderUtils.extractId(seq),\n                    type: BuilderUtils.extracType(seq),\n                    label: seq.label,\n                    viewingHint: seq.viewingHint,\n                    canvases: new CanvasBuilder(seq.canvases).build(),\n                }));\n            }\n        }\n        return sequences;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VxdWVuY2UuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjIvc2VxdWVuY2UuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDcEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRCxNQUFNLE9BQU8sZUFBZTtJQUMxQixZQUFvQixTQUFnQjtRQUFoQixjQUFTLEdBQVQsU0FBUyxDQUFPO0lBQUcsQ0FBQztJQUV4QyxLQUFLO1FBQ0gsTUFBTSxTQUFTLEdBQWUsRUFBRSxDQUFDO1FBQ2pDLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ25CLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUMvQyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM5QixTQUFTLENBQUMsSUFBSSxDQUNaLElBQUksUUFBUSxDQUFDO29CQUNYLEVBQUUsRUFBRSxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQztvQkFDL0IsSUFBSSxFQUFFLFlBQVksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDO29CQUNsQyxLQUFLLEVBQUUsR0FBRyxDQUFDLEtBQUs7b0JBQ2hCLFdBQVcsRUFBRSxHQUFHLENBQUMsV0FBVztvQkFDNUIsUUFBUSxFQUFFLElBQUksYUFBYSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLEVBQUU7aUJBQ2xELENBQUMsQ0FDSCxDQUFDO1lBQ0osQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXF1ZW5jZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBCdWlsZGVyVXRpbHMgfSBmcm9tICcuL2J1aWxkZXItdXRpbHMnO1xuaW1wb3J0IHsgQ2FudmFzQnVpbGRlciB9IGZyb20gJy4vY2FudmFzLmJ1aWxkZXInO1xuXG5leHBvcnQgY2xhc3MgU2VxdWVuY2VCdWlsZGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBzZXF1ZW5jZXM6IGFueVtdKSB7fVxuXG4gIGJ1aWxkKCk6IFNlcXVlbmNlW10ge1xuICAgIGNvbnN0IHNlcXVlbmNlczogU2VxdWVuY2VbXSA9IFtdO1xuICAgIGlmICh0aGlzLnNlcXVlbmNlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlcXVlbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzZXEgPSB0aGlzLnNlcXVlbmNlc1tpXTtcbiAgICAgICAgc2VxdWVuY2VzLnB1c2goXG4gICAgICAgICAgbmV3IFNlcXVlbmNlKHtcbiAgICAgICAgICAgIGlkOiBCdWlsZGVyVXRpbHMuZXh0cmFjdElkKHNlcSksXG4gICAgICAgICAgICB0eXBlOiBCdWlsZGVyVXRpbHMuZXh0cmFjVHlwZShzZXEpLFxuICAgICAgICAgICAgbGFiZWw6IHNlcS5sYWJlbCxcbiAgICAgICAgICAgIHZpZXdpbmdIaW50OiBzZXEudmlld2luZ0hpbnQsXG4gICAgICAgICAgICBjYW52YXNlczogbmV3IENhbnZhc0J1aWxkZXIoc2VxLmNhbnZhc2VzKS5idWlsZCgpLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VxdWVuY2VzO1xuICB9XG59XG4iXX0=","import { Structure } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nexport class StructureBuilder {\n    constructor(structures, sequences) {\n        this.structures = structures;\n        this.sequences = sequences;\n    }\n    build() {\n        const structures = [];\n        if (this.structures) {\n            for (let i = 0; i < this.structures.length; i++) {\n                const structure = this.structures[i];\n                structures.push(new Structure({\n                    id: BuilderUtils.extractId(structure),\n                    type: BuilderUtils.extracType(structure),\n                    label: structure.label,\n                    canvases: structure.canvases,\n                    canvasIndex: BuilderUtils.findCanvasIndex(structure.canvases, this.sequences),\n                }));\n            }\n        }\n        return structures;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RydWN0dXJlLmJ1aWxkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9idWlsZGVycy9paWlmL3YyL3N0cnVjdHVyZS5idWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBWSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFL0MsTUFBTSxPQUFPLGdCQUFnQjtJQUMzQixZQUNVLFVBQWlCLEVBQ2pCLFNBQXFCO1FBRHJCLGVBQVUsR0FBVixVQUFVLENBQU87UUFDakIsY0FBUyxHQUFULFNBQVMsQ0FBWTtJQUM1QixDQUFDO0lBRUosS0FBSztRQUNILE1BQU0sVUFBVSxHQUFnQixFQUFFLENBQUM7UUFDbkMsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDcEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQ2hELE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDLFVBQVUsQ0FBQyxJQUFJLENBQ2IsSUFBSSxTQUFTLENBQUM7b0JBQ1osRUFBRSxFQUFFLFlBQVksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUNyQyxJQUFJLEVBQUUsWUFBWSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUM7b0JBQ3hDLEtBQUssRUFBRSxTQUFTLENBQUMsS0FBSztvQkFDdEIsUUFBUSxFQUFFLFNBQVMsQ0FBQyxRQUFRO29CQUM1QixXQUFXLEVBQUUsWUFBWSxDQUFDLGVBQWUsQ0FDdkMsU0FBUyxDQUFDLFFBQVEsRUFDbEIsSUFBSSxDQUFDLFNBQVMsQ0FDZjtpQkFDRixDQUFDLENBQ0gsQ0FBQztZQUNKLENBQUM7UUFDSCxDQUFDO1FBQ0QsT0FBTyxVQUFVLENBQUM7SUFDcEIsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VxdWVuY2UsIFN0cnVjdHVyZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBCdWlsZGVyVXRpbHMgfSBmcm9tICcuL2J1aWxkZXItdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgU3RydWN0dXJlQnVpbGRlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgc3RydWN0dXJlczogYW55W10sXG4gICAgcHJpdmF0ZSBzZXF1ZW5jZXM6IFNlcXVlbmNlW10sXG4gICkge31cblxuICBidWlsZCgpOiBTdHJ1Y3R1cmVbXSB7XG4gICAgY29uc3Qgc3RydWN0dXJlczogU3RydWN0dXJlW10gPSBbXTtcbiAgICBpZiAodGhpcy5zdHJ1Y3R1cmVzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RydWN0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdHJ1Y3R1cmUgPSB0aGlzLnN0cnVjdHVyZXNbaV07XG4gICAgICAgIHN0cnVjdHVyZXMucHVzaChcbiAgICAgICAgICBuZXcgU3RydWN0dXJlKHtcbiAgICAgICAgICAgIGlkOiBCdWlsZGVyVXRpbHMuZXh0cmFjdElkKHN0cnVjdHVyZSksXG4gICAgICAgICAgICB0eXBlOiBCdWlsZGVyVXRpbHMuZXh0cmFjVHlwZShzdHJ1Y3R1cmUpLFxuICAgICAgICAgICAgbGFiZWw6IHN0cnVjdHVyZS5sYWJlbCxcbiAgICAgICAgICAgIGNhbnZhc2VzOiBzdHJ1Y3R1cmUuY2FudmFzZXMsXG4gICAgICAgICAgICBjYW52YXNJbmRleDogQnVpbGRlclV0aWxzLmZpbmRDYW52YXNJbmRleChcbiAgICAgICAgICAgICAgc3RydWN0dXJlLmNhbnZhc2VzLFxuICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlcyxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHJ1Y3R1cmVzO1xuICB9XG59XG4iXX0=","export class TileSourceBuilder {\n    constructor(sequences) {\n        this.sequences = sequences;\n    }\n    build() {\n        const tilesources = [];\n        if (this.sequences && this.sequences.length > 0) {\n            const canvases = this.sequences[0].canvases;\n            for (let i = 0; canvases && i < canvases.length; i++) {\n                const canvas = canvases[i];\n                if (canvas) {\n                    if (canvas.images && canvas.images.length >= 0) {\n                        const resource = canvas.images[0].resource;\n                        if (resource) {\n                            tilesources.push(resource);\n                        }\n                    }\n                }\n            }\n        }\n        return tilesources;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGlsZS1zb3VyY2UuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjIvdGlsZS1zb3VyY2UuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLE9BQU8saUJBQWlCO0lBQzVCLFlBQW9CLFNBQXFCO1FBQXJCLGNBQVMsR0FBVCxTQUFTLENBQVk7SUFBRyxDQUFDO0lBRTdDLEtBQUs7UUFDSCxNQUFNLFdBQVcsR0FBZSxFQUFFLENBQUM7UUFDbkMsSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ2hELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO1lBQzVDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLFFBQVEsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUNyRCxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNCLElBQUksTUFBTSxFQUFFLENBQUM7b0JBQ1gsSUFBSSxNQUFNLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDO3dCQUMvQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQzt3QkFDM0MsSUFBSSxRQUFRLEVBQUUsQ0FBQzs0QkFDYixXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUM3QixDQUFDO29CQUNILENBQUM7Z0JBQ0gsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDO1FBQ0QsT0FBTyxXQUFXLENBQUM7SUFDckIsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzb3VyY2UsIFNlcXVlbmNlIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL21hbmlmZXN0JztcblxuZXhwb3J0IGNsYXNzIFRpbGVTb3VyY2VCdWlsZGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBzZXF1ZW5jZXM6IFNlcXVlbmNlW10pIHt9XG5cbiAgYnVpbGQoKTogUmVzb3VyY2VbXSB7XG4gICAgY29uc3QgdGlsZXNvdXJjZXM6IFJlc291cmNlW10gPSBbXTtcbiAgICBpZiAodGhpcy5zZXF1ZW5jZXMgJiYgdGhpcy5zZXF1ZW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY2FudmFzZXMgPSB0aGlzLnNlcXVlbmNlc1swXS5jYW52YXNlcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBjYW52YXNlcyAmJiBpIDwgY2FudmFzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzZXNbaV07XG4gICAgICAgIGlmIChjYW52YXMpIHtcbiAgICAgICAgICBpZiAoY2FudmFzLmltYWdlcyAmJiBjYW52YXMuaW1hZ2VzLmxlbmd0aCA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZSA9IGNhbnZhcy5pbWFnZXNbMF0ucmVzb3VyY2U7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgdGlsZXNvdXJjZXMucHVzaChyZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aWxlc291cmNlcztcbiAgfVxufVxuIl19","import { Manifest } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { MetadataBuilder } from './metadata.builder';\nimport { SequenceBuilder } from './sequence.builder';\nimport { ServiceBuilder } from './service.builder';\nimport { StructureBuilder } from './structure.builder';\nimport { TileSourceBuilder } from './tile-source.builder';\nexport class ManifestBuilder {\n    constructor(data) {\n        this.data = data;\n    }\n    build() {\n        const sequences = new SequenceBuilder(this.data.sequences).build();\n        return new Manifest({\n            context: BuilderUtils.extractContext(this.data),\n            type: BuilderUtils.extracType(this.data),\n            id: BuilderUtils.extractId(this.data),\n            viewingDirection: BuilderUtils.extractViewingDirection(this.data),\n            label: this.data.label,\n            metadata: new MetadataBuilder(this.data.metadata).build(),\n            license: this.data.license,\n            logo: this.data.logo,\n            attribution: this.data.attribution,\n            service: new ServiceBuilder(this.data.service).build(),\n            sequences: sequences,\n            structures: new StructureBuilder(this.data.structures, sequences).build(),\n            tileSource: new TileSourceBuilder(this.data.sequences).build(),\n            viewingHint: this.data.viewingHint,\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFuaWZlc3QuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjIvbWFuaWZlc3QuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFZLE1BQU0sMEJBQTBCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNyRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDckQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBRTFELE1BQU0sT0FBTyxlQUFlO0lBQzFCLFlBQW9CLElBQVM7UUFBVCxTQUFJLEdBQUosSUFBSSxDQUFLO0lBQUcsQ0FBQztJQUVqQyxLQUFLO1FBQ0gsTUFBTSxTQUFTLEdBQWUsSUFBSSxlQUFlLENBQy9DLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUNwQixDQUFDLEtBQUssRUFBRSxDQUFDO1FBRVYsT0FBTyxJQUFJLFFBQVEsQ0FBQztZQUNsQixPQUFPLEVBQUUsWUFBWSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQy9DLElBQUksRUFBRSxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDeEMsRUFBRSxFQUFFLFlBQVksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztZQUNyQyxnQkFBZ0IsRUFBRSxZQUFZLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztZQUNqRSxLQUFLLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLO1lBQ3RCLFFBQVEsRUFBRSxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssRUFBRTtZQUN6RCxPQUFPLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPO1lBQzFCLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUk7WUFDcEIsV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVztZQUNsQyxPQUFPLEVBQUUsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUU7WUFDdEQsU0FBUyxFQUFFLFNBQVM7WUFDcEIsVUFBVSxFQUFFLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUMsS0FBSyxFQUFFO1lBQ3pFLFVBQVUsRUFBRSxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBSyxFQUFFO1lBQzlELFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVc7U0FDbkMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWFuaWZlc3QsIFNlcXVlbmNlIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IEJ1aWxkZXJVdGlscyB9IGZyb20gJy4vYnVpbGRlci11dGlscyc7XG5pbXBvcnQgeyBNZXRhZGF0YUJ1aWxkZXIgfSBmcm9tICcuL21ldGFkYXRhLmJ1aWxkZXInO1xuaW1wb3J0IHsgU2VxdWVuY2VCdWlsZGVyIH0gZnJvbSAnLi9zZXF1ZW5jZS5idWlsZGVyJztcbmltcG9ydCB7IFNlcnZpY2VCdWlsZGVyIH0gZnJvbSAnLi9zZXJ2aWNlLmJ1aWxkZXInO1xuaW1wb3J0IHsgU3RydWN0dXJlQnVpbGRlciB9IGZyb20gJy4vc3RydWN0dXJlLmJ1aWxkZXInO1xuaW1wb3J0IHsgVGlsZVNvdXJjZUJ1aWxkZXIgfSBmcm9tICcuL3RpbGUtc291cmNlLmJ1aWxkZXInO1xuXG5leHBvcnQgY2xhc3MgTWFuaWZlc3RCdWlsZGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBkYXRhOiBhbnkpIHt9XG5cbiAgYnVpbGQoKTogTWFuaWZlc3Qge1xuICAgIGNvbnN0IHNlcXVlbmNlczogU2VxdWVuY2VbXSA9IG5ldyBTZXF1ZW5jZUJ1aWxkZXIoXG4gICAgICB0aGlzLmRhdGEuc2VxdWVuY2VzLFxuICAgICkuYnVpbGQoKTtcblxuICAgIHJldHVybiBuZXcgTWFuaWZlc3Qoe1xuICAgICAgY29udGV4dDogQnVpbGRlclV0aWxzLmV4dHJhY3RDb250ZXh0KHRoaXMuZGF0YSksXG4gICAgICB0eXBlOiBCdWlsZGVyVXRpbHMuZXh0cmFjVHlwZSh0aGlzLmRhdGEpLFxuICAgICAgaWQ6IEJ1aWxkZXJVdGlscy5leHRyYWN0SWQodGhpcy5kYXRhKSxcbiAgICAgIHZpZXdpbmdEaXJlY3Rpb246IEJ1aWxkZXJVdGlscy5leHRyYWN0Vmlld2luZ0RpcmVjdGlvbih0aGlzLmRhdGEpLFxuICAgICAgbGFiZWw6IHRoaXMuZGF0YS5sYWJlbCxcbiAgICAgIG1ldGFkYXRhOiBuZXcgTWV0YWRhdGFCdWlsZGVyKHRoaXMuZGF0YS5tZXRhZGF0YSkuYnVpbGQoKSxcbiAgICAgIGxpY2Vuc2U6IHRoaXMuZGF0YS5saWNlbnNlLFxuICAgICAgbG9nbzogdGhpcy5kYXRhLmxvZ28sXG4gICAgICBhdHRyaWJ1dGlvbjogdGhpcy5kYXRhLmF0dHJpYnV0aW9uLFxuICAgICAgc2VydmljZTogbmV3IFNlcnZpY2VCdWlsZGVyKHRoaXMuZGF0YS5zZXJ2aWNlKS5idWlsZCgpLFxuICAgICAgc2VxdWVuY2VzOiBzZXF1ZW5jZXMsXG4gICAgICBzdHJ1Y3R1cmVzOiBuZXcgU3RydWN0dXJlQnVpbGRlcih0aGlzLmRhdGEuc3RydWN0dXJlcywgc2VxdWVuY2VzKS5idWlsZCgpLFxuICAgICAgdGlsZVNvdXJjZTogbmV3IFRpbGVTb3VyY2VCdWlsZGVyKHRoaXMuZGF0YS5zZXF1ZW5jZXMpLmJ1aWxkKCksXG4gICAgICB2aWV3aW5nSGludDogdGhpcy5kYXRhLnZpZXdpbmdIaW50LFxuICAgIH0pO1xuICB9XG59XG4iXX0=","import { ViewingDirection } from '../../../models/viewing-direction';\nexport class BuilderUtils {\n    static extractId(value) {\n        return value['id'];\n    }\n    static extracType(value) {\n        return value['type'];\n    }\n    static extractContext(value) {\n        return value['@context'];\n    }\n    static extractViewingDirection(value) {\n        if (value['viewingDirection'] === 'right-to-left') {\n            return ViewingDirection.RTL;\n        }\n        else {\n            return ViewingDirection.LTR;\n        }\n    }\n    static extractViewingHint(value) {\n        if (Array.isArray(value)) {\n            return value[0];\n        }\n        return undefined;\n    }\n    static findCanvasIndex(canvases, sequences) {\n        let index = -1;\n        if (canvases[0]) {\n            index = sequences[0].canvases.findIndex((canvas) => canvas.id === canvases[0].id);\n        }\n        return index;\n    }\n    static extractLogo(provider) {\n        let logo;\n        if (Array.isArray(provider)) {\n            logo = this.extractId(provider[0].logo[0]);\n        }\n        return logo;\n    }\n    static extractLanguageValue(data, preferredLanguage) {\n        if (!data) {\n            return '';\n        }\n        const key = preferredLanguage && data[preferredLanguage]\n            ? preferredLanguage\n            : this.extractDefaultLanguage(data);\n        return data[key][0];\n    }\n    static extractDefaultLanguage(data) {\n        return Object.keys(data)[0];\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGRlci11dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjMvYnVpbGRlci11dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUVyRSxNQUFNLE9BQU8sWUFBWTtJQUN2QixNQUFNLENBQUMsU0FBUyxDQUFDLEtBQVU7UUFDekIsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckIsQ0FBQztJQUVELE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBVTtRQUMxQixPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBRUQsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFVO1FBQzlCLE9BQU8sS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRCxNQUFNLENBQUMsdUJBQXVCLENBQUMsS0FBVTtRQUN2QyxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLGVBQWUsRUFBRSxDQUFDO1lBQ2xELE9BQU8sZ0JBQWdCLENBQUMsR0FBRyxDQUFDO1FBQzlCLENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUM7UUFDOUIsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsa0JBQWtCLENBQUMsS0FBVTtRQUNsQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUN6QixPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixDQUFDO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztJQUVELE1BQU0sQ0FBQyxlQUFlLENBQUMsUUFBZSxFQUFFLFNBQWdCO1FBQ3RELElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNoQixLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQ3JDLENBQUMsTUFBYyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQ2pELENBQUM7UUFDSixDQUFDO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxRQUEyQjtRQUM1QyxJQUFJLElBQUksQ0FBQztRQUNULElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQzVCLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QyxDQUFDO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsTUFBTSxDQUFDLG9CQUFvQixDQUN6QixJQUE4QixFQUM5QixpQkFBMEI7UUFFMUIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ1YsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDO1FBQ0QsTUFBTSxHQUFHLEdBQ1AsaUJBQWlCLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDO1lBQzFDLENBQUMsQ0FBQyxpQkFBaUI7WUFDbkIsQ0FBQyxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBRUQsTUFBTSxDQUFDLHNCQUFzQixDQUFDLElBQThCO1FBQzFELE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5QixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYW52YXMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvbWFuaWZlc3QnO1xuaW1wb3J0IHsgVmlld2luZ0RpcmVjdGlvbiB9IGZyb20gJy4uLy4uLy4uL21vZGVscy92aWV3aW5nLWRpcmVjdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBCdWlsZGVyVXRpbHMge1xuICBzdGF0aWMgZXh0cmFjdElkKHZhbHVlOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2YWx1ZVsnaWQnXTtcbiAgfVxuXG4gIHN0YXRpYyBleHRyYWNUeXBlKHZhbHVlOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2YWx1ZVsndHlwZSddO1xuICB9XG5cbiAgc3RhdGljIGV4dHJhY3RDb250ZXh0KHZhbHVlOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2YWx1ZVsnQGNvbnRleHQnXTtcbiAgfVxuXG4gIHN0YXRpYyBleHRyYWN0Vmlld2luZ0RpcmVjdGlvbih2YWx1ZTogYW55KTogVmlld2luZ0RpcmVjdGlvbiB7XG4gICAgaWYgKHZhbHVlWyd2aWV3aW5nRGlyZWN0aW9uJ10gPT09ICdyaWdodC10by1sZWZ0Jykge1xuICAgICAgcmV0dXJuIFZpZXdpbmdEaXJlY3Rpb24uUlRMO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVmlld2luZ0RpcmVjdGlvbi5MVFI7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGV4dHJhY3RWaWV3aW5nSGludCh2YWx1ZTogYW55KTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHN0YXRpYyBmaW5kQ2FudmFzSW5kZXgoY2FudmFzZXM6IGFueVtdLCBzZXF1ZW5jZXM6IGFueVtdKTogbnVtYmVyIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBpZiAoY2FudmFzZXNbMF0pIHtcbiAgICAgIGluZGV4ID0gc2VxdWVuY2VzWzBdLmNhbnZhc2VzLmZpbmRJbmRleChcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiBjYW52YXMuaWQgPT09IGNhbnZhc2VzWzBdLmlkLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgc3RhdGljIGV4dHJhY3RMb2dvKHByb3ZpZGVyOiBhbnlbXSB8IHVuZGVmaW5lZCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgbGV0IGxvZ287XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvdmlkZXIpKSB7XG4gICAgICBsb2dvID0gdGhpcy5leHRyYWN0SWQocHJvdmlkZXJbMF0ubG9nb1swXSk7XG4gICAgfVxuICAgIHJldHVybiBsb2dvO1xuICB9XG5cbiAgc3RhdGljIGV4dHJhY3RMYW5ndWFnZVZhbHVlKFxuICAgIGRhdGE6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPixcbiAgICBwcmVmZXJyZWRMYW5ndWFnZT86IHN0cmluZyxcbiAgKTogc3RyaW5nIHtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3Qga2V5ID1cbiAgICAgIHByZWZlcnJlZExhbmd1YWdlICYmIGRhdGFbcHJlZmVycmVkTGFuZ3VhZ2VdXG4gICAgICAgID8gcHJlZmVycmVkTGFuZ3VhZ2VcbiAgICAgICAgOiB0aGlzLmV4dHJhY3REZWZhdWx0TGFuZ3VhZ2UoZGF0YSk7XG4gICAgcmV0dXJuIGRhdGFba2V5XVswXTtcbiAgfVxuXG4gIHN0YXRpYyBleHRyYWN0RGVmYXVsdExhbmd1YWdlKGRhdGE6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPik6IHN0cmluZyB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGRhdGEpWzBdO1xuICB9XG59XG4iXX0=","import { Metadata } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nexport class MetadataBuilder {\n    constructor(metadatas) {\n        this.metadatas = metadatas;\n    }\n    build() {\n        const metadatas = [];\n        if (this.metadatas) {\n            for (let i = 0; i < this.metadatas.length; i++) {\n                const data = this.metadatas[i];\n                metadatas.push(new Metadata(BuilderUtils.extractLanguageValue(data.label), BuilderUtils.extractLanguageValue(data.value)));\n            }\n        }\n        return metadatas;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0YWRhdGEuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjMvbWV0YWRhdGEuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDcEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRS9DLE1BQU0sT0FBTyxlQUFlO0lBQzFCLFlBQW9CLFNBQWM7UUFBZCxjQUFTLEdBQVQsU0FBUyxDQUFLO0lBQUcsQ0FBQztJQUV0QyxLQUFLO1FBQ0gsTUFBTSxTQUFTLEdBQWUsRUFBRSxDQUFDO1FBQ2pDLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ25CLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUMvQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMvQixTQUFTLENBQUMsSUFBSSxDQUNaLElBQUksUUFBUSxDQUNWLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQzdDLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQzlDLENBQ0YsQ0FBQztZQUNKLENBQUM7UUFDSCxDQUFDO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWV0YWRhdGEgfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvbWFuaWZlc3QnO1xuaW1wb3J0IHsgQnVpbGRlclV0aWxzIH0gZnJvbSAnLi9idWlsZGVyLXV0aWxzJztcblxuZXhwb3J0IGNsYXNzIE1ldGFkYXRhQnVpbGRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbWV0YWRhdGFzOiBhbnkpIHt9XG5cbiAgYnVpbGQoKTogTWV0YWRhdGFbXSB7XG4gICAgY29uc3QgbWV0YWRhdGFzOiBNZXRhZGF0YVtdID0gW107XG4gICAgaWYgKHRoaXMubWV0YWRhdGFzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWV0YWRhdGFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLm1ldGFkYXRhc1tpXTtcbiAgICAgICAgbWV0YWRhdGFzLnB1c2goXG4gICAgICAgICAgbmV3IE1ldGFkYXRhKFxuICAgICAgICAgICAgQnVpbGRlclV0aWxzLmV4dHJhY3RMYW5ndWFnZVZhbHVlKGRhdGEubGFiZWwpLFxuICAgICAgICAgICAgQnVpbGRlclV0aWxzLmV4dHJhY3RMYW5ndWFnZVZhbHVlKGRhdGEudmFsdWUpLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXRhZGF0YXM7XG4gIH1cbn1cbiJdfQ==","import { Size } from '../../../models/manifest';\nexport class SizesBuilder {\n    constructor(sizes) {\n        this.sizes = sizes;\n    }\n    build() {\n        const sizes = [];\n        if (this.sizes) {\n            for (let i = 0; i < this.sizes.length; i++) {\n                const size = this.sizes[i];\n                sizes.push(new Size(size.width, size.height));\n            }\n        }\n        return sizes;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2l6ZXMuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjMvc2l6ZXMuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFaEQsTUFBTSxPQUFPLFlBQVk7SUFDdkIsWUFBb0IsS0FBWTtRQUFaLFVBQUssR0FBTCxLQUFLLENBQU87SUFBRyxDQUFDO0lBRXBDLEtBQUs7UUFDSCxNQUFNLEtBQUssR0FBVyxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDZixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDM0MsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ2hELENBQUM7UUFDSCxDQUFDO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTaXplIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL21hbmlmZXN0JztcblxuZXhwb3J0IGNsYXNzIFNpemVzQnVpbGRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc2l6ZXM6IGFueVtdKSB7fVxuXG4gIGJ1aWxkKCk6IFNpemVbXSB7XG4gICAgY29uc3Qgc2l6ZXM6IFNpemVbXSA9IFtdO1xuICAgIGlmICh0aGlzLnNpemVzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2l6ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZXNbaV07XG4gICAgICAgIHNpemVzLnB1c2gobmV3IFNpemUoc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpemVzO1xuICB9XG59XG4iXX0=","import { Tile } from '../../../models/manifest';\nexport class TilesBuilder {\n    constructor(tiles) {\n        this.tiles = tiles;\n    }\n    build() {\n        const tiles = [];\n        if (this.tiles) {\n            for (let i = 0; i < this.tiles.length; i++) {\n                const tile = this.tiles[i];\n                tiles.push(new Tile({\n                    width: tile.width,\n                    scaleFactors: tile.scaleFactors,\n                }));\n            }\n        }\n        return tiles;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGlsZXMuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjMvdGlsZXMuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFaEQsTUFBTSxPQUFPLFlBQVk7SUFDdkIsWUFBb0IsS0FBWTtRQUFaLFVBQUssR0FBTCxLQUFLLENBQU87SUFBRyxDQUFDO0lBRXBDLEtBQUs7UUFDSCxNQUFNLEtBQUssR0FBVyxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDZixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDM0MsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsS0FBSyxDQUFDLElBQUksQ0FDUixJQUFJLElBQUksQ0FBQztvQkFDUCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7b0JBQ2pCLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWTtpQkFDaEMsQ0FBQyxDQUNILENBQUM7WUFDSixDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGlsZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9tYW5pZmVzdCc7XG5cbmV4cG9ydCBjbGFzcyBUaWxlc0J1aWxkZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRpbGVzOiBhbnlbXSkge31cblxuICBidWlsZCgpOiBUaWxlW10ge1xuICAgIGNvbnN0IHRpbGVzOiBUaWxlW10gPSBbXTtcbiAgICBpZiAodGhpcy50aWxlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLnRpbGVzW2ldO1xuICAgICAgICB0aWxlcy5wdXNoKFxuICAgICAgICAgIG5ldyBUaWxlKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aWxlLndpZHRoLFxuICAgICAgICAgICAgc2NhbGVGYWN0b3JzOiB0aWxlLnNjYWxlRmFjdG9ycyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRpbGVzO1xuICB9XG59XG4iXX0=","import { Service } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { SizesBuilder } from './sizes.builder';\nimport { TilesBuilder } from './tiles.builder';\nexport class ServiceBuilder {\n    constructor(service) {\n        this.service = service;\n    }\n    build() {\n        if (!Array.isArray(this.service) || this.service.length < 1) {\n            return undefined;\n        }\n        else {\n            const service = this.service[0];\n            return new Service({\n                id: BuilderUtils.extractId(service),\n                context: BuilderUtils.extractContext(service),\n                protocol: service.protocol,\n                width: service.width,\n                height: service.height,\n                sizes: new SizesBuilder(service.sizes).build(),\n                tiles: new TilesBuilder(service.tiles).build(),\n                profile: service.profile,\n                physicalScale: service.physicalScale,\n                physicalUnits: service.physicalUnits,\n                service: new ServiceBuilder(service.service).build(),\n            });\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmljZS5idWlsZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvYnVpbGRlcnMvaWlpZi92My9zZXJ2aWNlLmJ1aWxkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRS9DLE1BQU0sT0FBTyxjQUFjO0lBQ3pCLFlBQW9CLE9BQVk7UUFBWixZQUFPLEdBQVAsT0FBTyxDQUFLO0lBQUcsQ0FBQztJQUVwQyxLQUFLO1FBQ0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzVELE9BQU8sU0FBUyxDQUFDO1FBQ25CLENBQUM7YUFBTSxDQUFDO1lBQ04sTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoQyxPQUFPLElBQUksT0FBTyxDQUFDO2dCQUNqQixFQUFFLEVBQUUsWUFBWSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUM7Z0JBQ25DLE9BQU8sRUFBRSxZQUFZLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQztnQkFDN0MsUUFBUSxFQUFFLE9BQU8sQ0FBQyxRQUFRO2dCQUMxQixLQUFLLEVBQUUsT0FBTyxDQUFDLEtBQUs7Z0JBQ3BCLE1BQU0sRUFBRSxPQUFPLENBQUMsTUFBTTtnQkFDdEIsS0FBSyxFQUFFLElBQUksWUFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLEVBQUU7Z0JBQzlDLEtBQUssRUFBRSxJQUFJLFlBQVksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxFQUFFO2dCQUM5QyxPQUFPLEVBQUUsT0FBTyxDQUFDLE9BQU87Z0JBQ3hCLGFBQWEsRUFBRSxPQUFPLENBQUMsYUFBYTtnQkFDcEMsYUFBYSxFQUFFLE9BQU8sQ0FBQyxhQUFhO2dCQUNwQyxPQUFPLEVBQUUsSUFBSSxjQUFjLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRTthQUNyRCxDQUFDLENBQUM7UUFDTCxDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBCdWlsZGVyVXRpbHMgfSBmcm9tICcuL2J1aWxkZXItdXRpbHMnO1xuaW1wb3J0IHsgU2l6ZXNCdWlsZGVyIH0gZnJvbSAnLi9zaXplcy5idWlsZGVyJztcbmltcG9ydCB7IFRpbGVzQnVpbGRlciB9IGZyb20gJy4vdGlsZXMuYnVpbGRlcic7XG5cbmV4cG9ydCBjbGFzcyBTZXJ2aWNlQnVpbGRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc2VydmljZTogYW55KSB7fVxuXG4gIGJ1aWxkKCk6IFNlcnZpY2UgfCB1bmRlZmluZWQge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnNlcnZpY2UpIHx8IHRoaXMuc2VydmljZS5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5zZXJ2aWNlWzBdO1xuICAgICAgcmV0dXJuIG5ldyBTZXJ2aWNlKHtcbiAgICAgICAgaWQ6IEJ1aWxkZXJVdGlscy5leHRyYWN0SWQoc2VydmljZSksXG4gICAgICAgIGNvbnRleHQ6IEJ1aWxkZXJVdGlscy5leHRyYWN0Q29udGV4dChzZXJ2aWNlKSxcbiAgICAgICAgcHJvdG9jb2w6IHNlcnZpY2UucHJvdG9jb2wsXG4gICAgICAgIHdpZHRoOiBzZXJ2aWNlLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHNlcnZpY2UuaGVpZ2h0LFxuICAgICAgICBzaXplczogbmV3IFNpemVzQnVpbGRlcihzZXJ2aWNlLnNpemVzKS5idWlsZCgpLFxuICAgICAgICB0aWxlczogbmV3IFRpbGVzQnVpbGRlcihzZXJ2aWNlLnRpbGVzKS5idWlsZCgpLFxuICAgICAgICBwcm9maWxlOiBzZXJ2aWNlLnByb2ZpbGUsXG4gICAgICAgIHBoeXNpY2FsU2NhbGU6IHNlcnZpY2UucGh5c2ljYWxTY2FsZSxcbiAgICAgICAgcGh5c2ljYWxVbml0czogc2VydmljZS5waHlzaWNhbFVuaXRzLFxuICAgICAgICBzZXJ2aWNlOiBuZXcgU2VydmljZUJ1aWxkZXIoc2VydmljZS5zZXJ2aWNlKS5idWlsZCgpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iXX0=","import { Resource } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { ServiceBuilder } from './service.builder';\nexport class ResourceBuilder {\n    constructor(resource) {\n        this.resource = resource;\n    }\n    build() {\n        if (!this.resource) {\n            throw new Error('No resource');\n        }\n        return new Resource({\n            id: BuilderUtils.extractId(this.resource),\n            type: BuilderUtils.extracType(this.resource),\n            format: this.resource.format,\n            service: new ServiceBuilder(this.resource.service).build(),\n            height: this.resource.height,\n            width: this.resource.width,\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb3VyY2UuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjMvcmVzb3VyY2UuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDcEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVuRCxNQUFNLE9BQU8sZUFBZTtJQUMxQixZQUFvQixRQUFhO1FBQWIsYUFBUSxHQUFSLFFBQVEsQ0FBSztJQUFHLENBQUM7SUFFckMsS0FBSztRQUNILElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNqQyxDQUFDO1FBQ0QsT0FBTyxJQUFJLFFBQVEsQ0FBQztZQUNsQixFQUFFLEVBQUUsWUFBWSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3pDLElBQUksRUFBRSxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDNUMsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTTtZQUM1QixPQUFPLEVBQUUsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUU7WUFDMUQsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTTtZQUM1QixLQUFLLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLO1NBQzNCLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IEJ1aWxkZXJVdGlscyB9IGZyb20gJy4vYnVpbGRlci11dGlscyc7XG5pbXBvcnQgeyBTZXJ2aWNlQnVpbGRlciB9IGZyb20gJy4vc2VydmljZS5idWlsZGVyJztcblxuZXhwb3J0IGNsYXNzIFJlc291cmNlQnVpbGRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVzb3VyY2U6IGFueSkge31cblxuICBidWlsZCgpOiBSZXNvdXJjZSB7XG4gICAgaWYgKCF0aGlzLnJlc291cmNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlc291cmNlJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVzb3VyY2Uoe1xuICAgICAgaWQ6IEJ1aWxkZXJVdGlscy5leHRyYWN0SWQodGhpcy5yZXNvdXJjZSksXG4gICAgICB0eXBlOiBCdWlsZGVyVXRpbHMuZXh0cmFjVHlwZSh0aGlzLnJlc291cmNlKSxcbiAgICAgIGZvcm1hdDogdGhpcy5yZXNvdXJjZS5mb3JtYXQsXG4gICAgICBzZXJ2aWNlOiBuZXcgU2VydmljZUJ1aWxkZXIodGhpcy5yZXNvdXJjZS5zZXJ2aWNlKS5idWlsZCgpLFxuICAgICAgaGVpZ2h0OiB0aGlzLnJlc291cmNlLmhlaWdodCxcbiAgICAgIHdpZHRoOiB0aGlzLnJlc291cmNlLndpZHRoLFxuICAgIH0pO1xuICB9XG59XG4iXX0=","import { Images } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { ResourceBuilder } from './resource.builder';\nexport class ImagesBuilder {\n    constructor(images) {\n        this.images = images;\n    }\n    build() {\n        const images = [];\n        if (this.images) {\n            this.images.forEach((i) => {\n                if (i.items) {\n                    i.items.forEach((image) => {\n                        images.push(new Images({\n                            id: BuilderUtils.extractId(image),\n                            type: BuilderUtils.extracType(image),\n                            resource: new ResourceBuilder(image.body).build(),\n                            motivation: image.motivation,\n                            on: image.target,\n                        }));\n                    });\n                }\n            });\n        }\n        return images;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1hZ2VzLmJ1aWxkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9idWlsZGVycy9paWlmL3YzL2ltYWdlcy5idWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNsRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRXJELE1BQU0sT0FBTyxhQUFhO0lBQ3hCLFlBQW9CLE1BQWE7UUFBYixXQUFNLEdBQU4sTUFBTSxDQUFPO0lBQUcsQ0FBQztJQUVyQyxLQUFLO1FBQ0gsTUFBTSxNQUFNLEdBQWEsRUFBRSxDQUFDO1FBRTVCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2hCLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUNaLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBVSxFQUFFLEVBQUU7d0JBQzdCLE1BQU0sQ0FBQyxJQUFJLENBQ1QsSUFBSSxNQUFNLENBQUM7NEJBQ1QsRUFBRSxFQUFFLFlBQVksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDOzRCQUNqQyxJQUFJLEVBQUUsWUFBWSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUM7NEJBQ3BDLFFBQVEsRUFBRSxJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFOzRCQUNqRCxVQUFVLEVBQUUsS0FBSyxDQUFDLFVBQVU7NEJBQzVCLEVBQUUsRUFBRSxLQUFLLENBQUMsTUFBTTt5QkFDakIsQ0FBQyxDQUNILENBQUM7b0JBQ0osQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsQ0FBQztZQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEltYWdlcyB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBCdWlsZGVyVXRpbHMgfSBmcm9tICcuL2J1aWxkZXItdXRpbHMnO1xuaW1wb3J0IHsgUmVzb3VyY2VCdWlsZGVyIH0gZnJvbSAnLi9yZXNvdXJjZS5idWlsZGVyJztcblxuZXhwb3J0IGNsYXNzIEltYWdlc0J1aWxkZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGltYWdlczogYW55W10pIHt9XG5cbiAgYnVpbGQoKTogSW1hZ2VzW10ge1xuICAgIGNvbnN0IGltYWdlczogSW1hZ2VzW10gPSBbXTtcblxuICAgIGlmICh0aGlzLmltYWdlcykge1xuICAgICAgdGhpcy5pbWFnZXMuZm9yRWFjaCgoaSkgPT4ge1xuICAgICAgICBpZiAoaS5pdGVtcykge1xuICAgICAgICAgIGkuaXRlbXMuZm9yRWFjaCgoaW1hZ2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgaW1hZ2VzLnB1c2goXG4gICAgICAgICAgICAgIG5ldyBJbWFnZXMoe1xuICAgICAgICAgICAgICAgIGlkOiBCdWlsZGVyVXRpbHMuZXh0cmFjdElkKGltYWdlKSxcbiAgICAgICAgICAgICAgICB0eXBlOiBCdWlsZGVyVXRpbHMuZXh0cmFjVHlwZShpbWFnZSksXG4gICAgICAgICAgICAgICAgcmVzb3VyY2U6IG5ldyBSZXNvdXJjZUJ1aWxkZXIoaW1hZ2UuYm9keSkuYnVpbGQoKSxcbiAgICAgICAgICAgICAgICBtb3RpdmF0aW9uOiBpbWFnZS5tb3RpdmF0aW9uLFxuICAgICAgICAgICAgICAgIG9uOiBpbWFnZS50YXJnZXQsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBpbWFnZXM7XG4gIH1cbn1cbiJdfQ==","import { Canvas } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { ImagesBuilder } from './images.builder';\nexport class CanvasBuilder {\n    constructor(canvases) {\n        this.canvases = canvases;\n    }\n    build() {\n        const canvases = [];\n        if (this.canvases) {\n            for (let i = 0; i < this.canvases.length; i++) {\n                const canvas = this.canvases[i];\n                let seeAlso = [];\n                if (canvas.seeAlso) {\n                    seeAlso = seeAlso.concat(canvas.seeAlso);\n                }\n                canvases.push(new Canvas({\n                    id: BuilderUtils.extractId(canvas),\n                    type: BuilderUtils.extracType(canvas),\n                    label: canvas.label,\n                    height: canvas.height,\n                    width: canvas.width,\n                    images: new ImagesBuilder(canvas.items).build(),\n                    altoUrl: this.extractAltoUrl(seeAlso),\n                }));\n            }\n        }\n        return canvases;\n    }\n    extractAltoUrl(seeAlso) {\n        if (!seeAlso) {\n            return undefined;\n        }\n        const altoService = seeAlso.find((s) => s?.format === 'application/alto+xml');\n        return altoService ? BuilderUtils.extractId(altoService) : undefined;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FudmFzLmJ1aWxkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9idWlsZGVycy9paWlmL3YzL2NhbnZhcy5idWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNsRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRWpELE1BQU0sT0FBTyxhQUFhO0lBQ3hCLFlBQW9CLFFBQWU7UUFBZixhQUFRLEdBQVIsUUFBUSxDQUFPO0lBQUcsQ0FBQztJQUV2QyxLQUFLO1FBQ0gsTUFBTSxRQUFRLEdBQWEsRUFBRSxDQUFDO1FBQzlCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2xCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUM5QyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNoQyxJQUFJLE9BQU8sR0FBVSxFQUFFLENBQUM7Z0JBRXhCLElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO29CQUNuQixPQUFPLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzNDLENBQUM7Z0JBRUQsUUFBUSxDQUFDLElBQUksQ0FDWCxJQUFJLE1BQU0sQ0FBQztvQkFDVCxFQUFFLEVBQUUsWUFBWSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7b0JBQ2xDLElBQUksRUFBRSxZQUFZLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQztvQkFDckMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLO29CQUNuQixNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU07b0JBQ3JCLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSztvQkFDbkIsTUFBTSxFQUFFLElBQUksYUFBYSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLEVBQUU7b0JBQy9DLE9BQU8sRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQztpQkFDdEMsQ0FBQyxDQUNILENBQUM7WUFDSixDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUFFTyxjQUFjLENBQUMsT0FBYztRQUNuQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDYixPQUFPLFNBQVMsQ0FBQztRQUNuQixDQUFDO1FBRUQsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FDOUIsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxNQUFNLEtBQUssc0JBQXNCLENBQzVDLENBQUM7UUFDRixPQUFPLFdBQVcsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQ3ZFLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENhbnZhcyB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBCdWlsZGVyVXRpbHMgfSBmcm9tICcuL2J1aWxkZXItdXRpbHMnO1xuaW1wb3J0IHsgSW1hZ2VzQnVpbGRlciB9IGZyb20gJy4vaW1hZ2VzLmJ1aWxkZXInO1xuXG5leHBvcnQgY2xhc3MgQ2FudmFzQnVpbGRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY2FudmFzZXM6IGFueVtdKSB7fVxuXG4gIGJ1aWxkKCk6IENhbnZhc1tdIHtcbiAgICBjb25zdCBjYW52YXNlczogQ2FudmFzW10gPSBbXTtcbiAgICBpZiAodGhpcy5jYW52YXNlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNhbnZhc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzZXNbaV07XG4gICAgICAgIGxldCBzZWVBbHNvOiBhbnlbXSA9IFtdO1xuXG4gICAgICAgIGlmIChjYW52YXMuc2VlQWxzbykge1xuICAgICAgICAgIHNlZUFsc28gPSBzZWVBbHNvLmNvbmNhdChjYW52YXMuc2VlQWxzbyk7XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXNlcy5wdXNoKFxuICAgICAgICAgIG5ldyBDYW52YXMoe1xuICAgICAgICAgICAgaWQ6IEJ1aWxkZXJVdGlscy5leHRyYWN0SWQoY2FudmFzKSxcbiAgICAgICAgICAgIHR5cGU6IEJ1aWxkZXJVdGlscy5leHRyYWNUeXBlKGNhbnZhcyksXG4gICAgICAgICAgICBsYWJlbDogY2FudmFzLmxhYmVsLFxuICAgICAgICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgIGltYWdlczogbmV3IEltYWdlc0J1aWxkZXIoY2FudmFzLml0ZW1zKS5idWlsZCgpLFxuICAgICAgICAgICAgYWx0b1VybDogdGhpcy5leHRyYWN0QWx0b1VybChzZWVBbHNvKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNhbnZhc2VzO1xuICB9XG5cbiAgcHJpdmF0ZSBleHRyYWN0QWx0b1VybChzZWVBbHNvOiBhbnlbXSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKCFzZWVBbHNvKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGNvbnN0IGFsdG9TZXJ2aWNlID0gc2VlQWxzby5maW5kKFxuICAgICAgKHMpID0+IHM/LmZvcm1hdCA9PT0gJ2FwcGxpY2F0aW9uL2FsdG8reG1sJyxcbiAgICApO1xuICAgIHJldHVybiBhbHRvU2VydmljZSA/IEJ1aWxkZXJVdGlscy5leHRyYWN0SWQoYWx0b1NlcnZpY2UpIDogdW5kZWZpbmVkO1xuICB9XG59XG4iXX0=","import { Sequence } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { CanvasBuilder } from './canvas.builder';\nexport class SequenceBuilder {\n    constructor(data) {\n        this.data = data;\n    }\n    build() {\n        const sequences = [];\n        if (this.data) {\n            sequences.push(new Sequence({\n                id: BuilderUtils.extractId(this.data),\n                type: 'Sequence',\n                label: 'Current Page Order',\n                viewingHint: BuilderUtils.extractViewingHint(this.data.behavior),\n                canvases: new CanvasBuilder(this.data.items).build(),\n            }));\n        }\n        return sequences;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VxdWVuY2UuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjMvc2VxdWVuY2UuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDcEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRCxNQUFNLE9BQU8sZUFBZTtJQUMxQixZQUFvQixJQUFTO1FBQVQsU0FBSSxHQUFKLElBQUksQ0FBSztJQUFHLENBQUM7SUFFakMsS0FBSztRQUNILE1BQU0sU0FBUyxHQUFlLEVBQUUsQ0FBQztRQUNqQyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNkLFNBQVMsQ0FBQyxJQUFJLENBQ1osSUFBSSxRQUFRLENBQUM7Z0JBQ1gsRUFBRSxFQUFFLFlBQVksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDckMsSUFBSSxFQUFFLFVBQVU7Z0JBQ2hCLEtBQUssRUFBRSxvQkFBb0I7Z0JBQzNCLFdBQVcsRUFBRSxZQUFZLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7Z0JBQ2hFLFFBQVEsRUFBRSxJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssRUFBRTthQUNyRCxDQUFDLENBQ0gsQ0FBQztRQUNKLENBQUM7UUFFRCxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXF1ZW5jZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBCdWlsZGVyVXRpbHMgfSBmcm9tICcuL2J1aWxkZXItdXRpbHMnO1xuaW1wb3J0IHsgQ2FudmFzQnVpbGRlciB9IGZyb20gJy4vY2FudmFzLmJ1aWxkZXInO1xuXG5leHBvcnQgY2xhc3MgU2VxdWVuY2VCdWlsZGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBkYXRhOiBhbnkpIHt9XG5cbiAgYnVpbGQoKTogU2VxdWVuY2VbXSB7XG4gICAgY29uc3Qgc2VxdWVuY2VzOiBTZXF1ZW5jZVtdID0gW107XG4gICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgc2VxdWVuY2VzLnB1c2goXG4gICAgICAgIG5ldyBTZXF1ZW5jZSh7XG4gICAgICAgICAgaWQ6IEJ1aWxkZXJVdGlscy5leHRyYWN0SWQodGhpcy5kYXRhKSxcbiAgICAgICAgICB0eXBlOiAnU2VxdWVuY2UnLFxuICAgICAgICAgIGxhYmVsOiAnQ3VycmVudCBQYWdlIE9yZGVyJyxcbiAgICAgICAgICB2aWV3aW5nSGludDogQnVpbGRlclV0aWxzLmV4dHJhY3RWaWV3aW5nSGludCh0aGlzLmRhdGEuYmVoYXZpb3IpLFxuICAgICAgICAgIGNhbnZhc2VzOiBuZXcgQ2FudmFzQnVpbGRlcih0aGlzLmRhdGEuaXRlbXMpLmJ1aWxkKCksXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VxdWVuY2VzO1xuICB9XG59XG4iXX0=","import { Structure } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nexport class StructureBuilder {\n    constructor(structures, sequences) {\n        this.structures = structures;\n        this.sequences = sequences;\n    }\n    build() {\n        const structures = [];\n        if (this.structures) {\n            for (let i = 0; i < this.structures.length; i++) {\n                const structure = this.structures[i];\n                structures.push(new Structure({\n                    id: BuilderUtils.extractId(structure),\n                    type: BuilderUtils.extracType(structure),\n                    label: BuilderUtils.extractLanguageValue(structure.label),\n                    canvases: structure.items,\n                    canvasIndex: BuilderUtils.findCanvasIndex(structure.items, this.sequences),\n                }));\n            }\n        }\n        return structures;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RydWN0dXJlLmJ1aWxkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9idWlsZGVycy9paWlmL3YzL3N0cnVjdHVyZS5idWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBWSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFL0MsTUFBTSxPQUFPLGdCQUFnQjtJQUMzQixZQUNVLFVBQWlCLEVBQ2pCLFNBQXFCO1FBRHJCLGVBQVUsR0FBVixVQUFVLENBQU87UUFDakIsY0FBUyxHQUFULFNBQVMsQ0FBWTtJQUM1QixDQUFDO0lBRUosS0FBSztRQUNILE1BQU0sVUFBVSxHQUFnQixFQUFFLENBQUM7UUFDbkMsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDcEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQ2hELE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDLFVBQVUsQ0FBQyxJQUFJLENBQ2IsSUFBSSxTQUFTLENBQUM7b0JBQ1osRUFBRSxFQUFFLFlBQVksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDO29CQUNyQyxJQUFJLEVBQUUsWUFBWSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUM7b0JBQ3hDLEtBQUssRUFBRSxZQUFZLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztvQkFDekQsUUFBUSxFQUFFLFNBQVMsQ0FBQyxLQUFLO29CQUN6QixXQUFXLEVBQUUsWUFBWSxDQUFDLGVBQWUsQ0FDdkMsU0FBUyxDQUFDLEtBQUssRUFDZixJQUFJLENBQUMsU0FBUyxDQUNmO2lCQUNGLENBQUMsQ0FDSCxDQUFDO1lBQ0osQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXF1ZW5jZSwgU3RydWN0dXJlIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IEJ1aWxkZXJVdGlscyB9IGZyb20gJy4vYnVpbGRlci11dGlscyc7XG5cbmV4cG9ydCBjbGFzcyBTdHJ1Y3R1cmVCdWlsZGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBzdHJ1Y3R1cmVzOiBhbnlbXSxcbiAgICBwcml2YXRlIHNlcXVlbmNlczogU2VxdWVuY2VbXSxcbiAgKSB7fVxuXG4gIGJ1aWxkKCk6IFN0cnVjdHVyZVtdIHtcbiAgICBjb25zdCBzdHJ1Y3R1cmVzOiBTdHJ1Y3R1cmVbXSA9IFtdO1xuICAgIGlmICh0aGlzLnN0cnVjdHVyZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdHJ1Y3R1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0cnVjdHVyZSA9IHRoaXMuc3RydWN0dXJlc1tpXTtcbiAgICAgICAgc3RydWN0dXJlcy5wdXNoKFxuICAgICAgICAgIG5ldyBTdHJ1Y3R1cmUoe1xuICAgICAgICAgICAgaWQ6IEJ1aWxkZXJVdGlscy5leHRyYWN0SWQoc3RydWN0dXJlKSxcbiAgICAgICAgICAgIHR5cGU6IEJ1aWxkZXJVdGlscy5leHRyYWNUeXBlKHN0cnVjdHVyZSksXG4gICAgICAgICAgICBsYWJlbDogQnVpbGRlclV0aWxzLmV4dHJhY3RMYW5ndWFnZVZhbHVlKHN0cnVjdHVyZS5sYWJlbCksXG4gICAgICAgICAgICBjYW52YXNlczogc3RydWN0dXJlLml0ZW1zLFxuICAgICAgICAgICAgY2FudmFzSW5kZXg6IEJ1aWxkZXJVdGlscy5maW5kQ2FudmFzSW5kZXgoXG4gICAgICAgICAgICAgIHN0cnVjdHVyZS5pdGVtcyxcbiAgICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZXMsXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RydWN0dXJlcztcbiAgfVxufVxuIl19","export class TileSourceBuilder {\n    constructor(items) {\n        this.items = items;\n    }\n    build() {\n        const tilesources = [];\n        if (this.items && this.items.length > 0) {\n            this.items.forEach((canvas) => {\n                if (canvas.type === 'Canvas') {\n                    canvas.items.forEach((annotationPage) => {\n                        if (annotationPage.type === 'AnnotationPage') {\n                            annotationPage.items.forEach((annotation) => {\n                                if (annotation.type === 'Annotation') {\n                                    let body = annotation.body;\n                                    if (body) {\n                                        body.service = this.flattenService(body.service);\n                                        tilesources.push(body);\n                                    }\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n        }\n        return tilesources;\n    }\n    flattenService(service) {\n        if (Array.isArray(service) && service.length === 1) {\n            return {\n                ...service[0],\n                service: this.flattenService(service[0].service),\n            };\n        }\n        return service;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGlsZS1zb3VyY2UuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjMvdGlsZS1zb3VyY2UuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLE9BQU8saUJBQWlCO0lBQzVCLFlBQW9CLEtBQVk7UUFBWixVQUFLLEdBQUwsS0FBSyxDQUFPO0lBQUcsQ0FBQztJQUVwQyxLQUFLO1FBQ0gsTUFBTSxXQUFXLEdBQWUsRUFBRSxDQUFDO1FBQ25DLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUN4QyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO2dCQUM1QixJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssUUFBUSxFQUFFLENBQUM7b0JBQzdCLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsY0FBbUIsRUFBRSxFQUFFO3dCQUMzQyxJQUFJLGNBQWMsQ0FBQyxJQUFJLEtBQUssZ0JBQWdCLEVBQUUsQ0FBQzs0QkFDN0MsY0FBYyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFlLEVBQUUsRUFBRTtnQ0FDL0MsSUFBSSxVQUFVLENBQUMsSUFBSSxLQUFLLFlBQVksRUFBRSxDQUFDO29DQUNyQyxJQUFJLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO29DQUMzQixJQUFJLElBQUksRUFBRSxDQUFDO3dDQUNULElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7d0NBQ2pELFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7b0NBQ3pCLENBQUM7Z0NBQ0gsQ0FBQzs0QkFDSCxDQUFDLENBQUMsQ0FBQzt3QkFDTCxDQUFDO29CQUNILENBQUMsQ0FBQyxDQUFDO2dCQUNMLENBQUM7WUFDSCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxPQUFPLFdBQVcsQ0FBQztJQUNyQixDQUFDO0lBRU8sY0FBYyxDQUFDLE9BQVk7UUFDakMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDbkQsT0FBTztnQkFDTCxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ2IsT0FBTyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQzthQUNqRCxDQUFDO1FBQ0osQ0FBQztRQUNELE9BQU8sT0FBTyxDQUFDO0lBQ2pCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL21hbmlmZXN0JztcblxuZXhwb3J0IGNsYXNzIFRpbGVTb3VyY2VCdWlsZGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBpdGVtczogYW55W10pIHt9XG5cbiAgYnVpbGQoKTogUmVzb3VyY2VbXSB7XG4gICAgY29uc3QgdGlsZXNvdXJjZXM6IFJlc291cmNlW10gPSBbXTtcbiAgICBpZiAodGhpcy5pdGVtcyAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoY2FudmFzKSA9PiB7XG4gICAgICAgIGlmIChjYW52YXMudHlwZSA9PT0gJ0NhbnZhcycpIHtcbiAgICAgICAgICBjYW52YXMuaXRlbXMuZm9yRWFjaCgoYW5ub3RhdGlvblBhZ2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGFubm90YXRpb25QYWdlLnR5cGUgPT09ICdBbm5vdGF0aW9uUGFnZScpIHtcbiAgICAgICAgICAgICAgYW5ub3RhdGlvblBhZ2UuaXRlbXMuZm9yRWFjaCgoYW5ub3RhdGlvbjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFubm90YXRpb24udHlwZSA9PT0gJ0Fubm90YXRpb24nKSB7XG4gICAgICAgICAgICAgICAgICBsZXQgYm9keSA9IGFubm90YXRpb24uYm9keTtcbiAgICAgICAgICAgICAgICAgIGlmIChib2R5KSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkuc2VydmljZSA9IHRoaXMuZmxhdHRlblNlcnZpY2UoYm9keS5zZXJ2aWNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGlsZXNvdXJjZXMucHVzaChib2R5KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRpbGVzb3VyY2VzO1xuICB9XG5cbiAgcHJpdmF0ZSBmbGF0dGVuU2VydmljZShzZXJ2aWNlOiBhbnkpOiBhbnkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNlcnZpY2UpICYmIHNlcnZpY2UubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXJ2aWNlWzBdLFxuICAgICAgICBzZXJ2aWNlOiB0aGlzLmZsYXR0ZW5TZXJ2aWNlKHNlcnZpY2VbMF0uc2VydmljZSksXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gc2VydmljZTtcbiAgfVxufVxuIl19","import { Manifest } from '../../../models/manifest';\nimport { BuilderUtils } from './builder-utils';\nimport { MetadataBuilder } from './metadata.builder';\nimport { SequenceBuilder } from './sequence.builder';\nimport { ServiceBuilder } from './service.builder';\nimport { StructureBuilder } from './structure.builder';\nimport { TileSourceBuilder } from './tile-source.builder';\nexport class ManifestBuilder {\n    constructor(data) {\n        this.data = data;\n    }\n    build() {\n        const sequences = new SequenceBuilder(this.data).build();\n        const manifest = new Manifest({\n            context: BuilderUtils.extractContext(this.data),\n            type: BuilderUtils.extracType(this.data),\n            id: BuilderUtils.extractId(this.data),\n            viewingDirection: BuilderUtils.extractViewingDirection(this.data),\n            label: BuilderUtils.extractLanguageValue(this.data.label),\n            metadata: new MetadataBuilder(this.data.metadata).build(),\n            license: this.data.rights,\n            logo: BuilderUtils.extractLogo(this.data.provider),\n            attribution: BuilderUtils.extractLanguageValue(this.data.requiredStatement?.value),\n            service: new ServiceBuilder(this.data.service).build(),\n            sequences: sequences,\n            structures: new StructureBuilder(this.data.structures, sequences).build(),\n            tileSource: new TileSourceBuilder(this.data.items).build(),\n            viewingHint: BuilderUtils.extractViewingHint(this.data.behavior),\n        });\n        return manifest;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFuaWZlc3QuYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2J1aWxkZXJzL2lpaWYvdjMvbWFuaWZlc3QuYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFZLE1BQU0sMEJBQTBCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNyRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDckQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBRTFELE1BQU0sT0FBTyxlQUFlO0lBQzFCLFlBQW9CLElBQVM7UUFBVCxTQUFJLEdBQUosSUFBSSxDQUFLO0lBQUcsQ0FBQztJQUVqQyxLQUFLO1FBQ0gsTUFBTSxTQUFTLEdBQWUsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBRXJFLE1BQU0sUUFBUSxHQUFHLElBQUksUUFBUSxDQUFDO1lBQzVCLE9BQU8sRUFBRSxZQUFZLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDL0MsSUFBSSxFQUFFLFlBQVksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztZQUN4QyxFQUFFLEVBQUUsWUFBWSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQ3JDLGdCQUFnQixFQUFFLFlBQVksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQ2pFLEtBQUssRUFBRSxZQUFZLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDekQsUUFBUSxFQUFFLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxFQUFFO1lBQ3pELE9BQU8sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU07WUFDekIsSUFBSSxFQUFFLFlBQVksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDbEQsV0FBVyxFQUFFLFlBQVksQ0FBQyxvQkFBb0IsQ0FDNUMsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxLQUFLLENBQ25DO1lBQ0QsT0FBTyxFQUFFLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFO1lBQ3RELFNBQVMsRUFBRSxTQUFTO1lBQ3BCLFVBQVUsRUFBRSxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxDQUFDLEtBQUssRUFBRTtZQUN6RSxVQUFVLEVBQUUsSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssRUFBRTtZQUMxRCxXQUFXLEVBQUUsWUFBWSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1NBQ2pFLENBQUMsQ0FBQztRQUVILE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hbmlmZXN0LCBTZXF1ZW5jZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBCdWlsZGVyVXRpbHMgfSBmcm9tICcuL2J1aWxkZXItdXRpbHMnO1xuaW1wb3J0IHsgTWV0YWRhdGFCdWlsZGVyIH0gZnJvbSAnLi9tZXRhZGF0YS5idWlsZGVyJztcbmltcG9ydCB7IFNlcXVlbmNlQnVpbGRlciB9IGZyb20gJy4vc2VxdWVuY2UuYnVpbGRlcic7XG5pbXBvcnQgeyBTZXJ2aWNlQnVpbGRlciB9IGZyb20gJy4vc2VydmljZS5idWlsZGVyJztcbmltcG9ydCB7IFN0cnVjdHVyZUJ1aWxkZXIgfSBmcm9tICcuL3N0cnVjdHVyZS5idWlsZGVyJztcbmltcG9ydCB7IFRpbGVTb3VyY2VCdWlsZGVyIH0gZnJvbSAnLi90aWxlLXNvdXJjZS5idWlsZGVyJztcblxuZXhwb3J0IGNsYXNzIE1hbmlmZXN0QnVpbGRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0YTogYW55KSB7fVxuXG4gIGJ1aWxkKCk6IE1hbmlmZXN0IHtcbiAgICBjb25zdCBzZXF1ZW5jZXM6IFNlcXVlbmNlW10gPSBuZXcgU2VxdWVuY2VCdWlsZGVyKHRoaXMuZGF0YSkuYnVpbGQoKTtcblxuICAgIGNvbnN0IG1hbmlmZXN0ID0gbmV3IE1hbmlmZXN0KHtcbiAgICAgIGNvbnRleHQ6IEJ1aWxkZXJVdGlscy5leHRyYWN0Q29udGV4dCh0aGlzLmRhdGEpLFxuICAgICAgdHlwZTogQnVpbGRlclV0aWxzLmV4dHJhY1R5cGUodGhpcy5kYXRhKSxcbiAgICAgIGlkOiBCdWlsZGVyVXRpbHMuZXh0cmFjdElkKHRoaXMuZGF0YSksXG4gICAgICB2aWV3aW5nRGlyZWN0aW9uOiBCdWlsZGVyVXRpbHMuZXh0cmFjdFZpZXdpbmdEaXJlY3Rpb24odGhpcy5kYXRhKSxcbiAgICAgIGxhYmVsOiBCdWlsZGVyVXRpbHMuZXh0cmFjdExhbmd1YWdlVmFsdWUodGhpcy5kYXRhLmxhYmVsKSxcbiAgICAgIG1ldGFkYXRhOiBuZXcgTWV0YWRhdGFCdWlsZGVyKHRoaXMuZGF0YS5tZXRhZGF0YSkuYnVpbGQoKSxcbiAgICAgIGxpY2Vuc2U6IHRoaXMuZGF0YS5yaWdodHMsXG4gICAgICBsb2dvOiBCdWlsZGVyVXRpbHMuZXh0cmFjdExvZ28odGhpcy5kYXRhLnByb3ZpZGVyKSxcbiAgICAgIGF0dHJpYnV0aW9uOiBCdWlsZGVyVXRpbHMuZXh0cmFjdExhbmd1YWdlVmFsdWUoXG4gICAgICAgIHRoaXMuZGF0YS5yZXF1aXJlZFN0YXRlbWVudD8udmFsdWUsXG4gICAgICApLFxuICAgICAgc2VydmljZTogbmV3IFNlcnZpY2VCdWlsZGVyKHRoaXMuZGF0YS5zZXJ2aWNlKS5idWlsZCgpLFxuICAgICAgc2VxdWVuY2VzOiBzZXF1ZW5jZXMsXG4gICAgICBzdHJ1Y3R1cmVzOiBuZXcgU3RydWN0dXJlQnVpbGRlcih0aGlzLmRhdGEuc3RydWN0dXJlcywgc2VxdWVuY2VzKS5idWlsZCgpLFxuICAgICAgdGlsZVNvdXJjZTogbmV3IFRpbGVTb3VyY2VCdWlsZGVyKHRoaXMuZGF0YS5pdGVtcykuYnVpbGQoKSxcbiAgICAgIHZpZXdpbmdIaW50OiBCdWlsZGVyVXRpbHMuZXh0cmFjdFZpZXdpbmdIaW50KHRoaXMuZGF0YS5iZWhhdmlvciksXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWFuaWZlc3Q7XG4gIH1cbn1cbiJdfQ==","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class SpinnerService {\n    constructor() {\n        this.spinnerSubject = new Subject();\n    }\n    get spinnerState() {\n        return this.spinnerSubject.asObservable();\n    }\n    show() {\n        this.spinnerSubject.next({ show: true });\n    }\n    hide() {\n        this.spinnerSubject.next({ show: false });\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: SpinnerService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: SpinnerService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: SpinnerService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Bpbm5lci5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvc3Bpbm5lci1zZXJ2aWNlL3NwaW5uZXIuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBYyxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7O0FBTzNDLE1BQU0sT0FBTyxjQUFjO0lBRDNCO1FBRW1CLG1CQUFjLEdBQUcsSUFBSSxPQUFPLEVBQWdCLENBQUM7S0FhL0Q7SUFYQyxJQUFJLFlBQVk7UUFDZCxPQUFPLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDNUMsQ0FBQztJQUVELElBQUk7UUFDRixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBZSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFFRCxJQUFJO1FBQ0YsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQWUsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUMxRCxDQUFDOzhHQWJVLGNBQWM7a0hBQWQsY0FBYzs7MkZBQWQsY0FBYztrQkFEMUIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGludGVyZmFjZSBTcGlubmVyU3RhdGUge1xuICBzaG93OiBib29sZWFuO1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgU3Bpbm5lclNlcnZpY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IHNwaW5uZXJTdWJqZWN0ID0gbmV3IFN1YmplY3Q8U3Bpbm5lclN0YXRlPigpO1xuXG4gIGdldCBzcGlubmVyU3RhdGUoKTogT2JzZXJ2YWJsZTxTcGlubmVyU3RhdGU+IHtcbiAgICByZXR1cm4gdGhpcy5zcGlubmVyU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIHNob3coKSB7XG4gICAgdGhpcy5zcGlubmVyU3ViamVjdC5uZXh0KDxTcGlubmVyU3RhdGU+eyBzaG93OiB0cnVlIH0pO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICB0aGlzLnNwaW5uZXJTdWJqZWN0Lm5leHQoPFNwaW5uZXJTdGF0ZT57IHNob3c6IGZhbHNlIH0pO1xuICB9XG59XG4iXX0=","import { HttpClient } from '@angular/common/http';\nimport { inject, Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { distinctUntilChanged, finalize, take } from 'rxjs/operators';\nimport { ManifestBuilder as IiifV2ManifestBuilder } from '../builders/iiif/v2/manifest.builder';\nimport { ManifestBuilder as IiifV3ManifestBuilder } from '../builders/iiif/v3/manifest.builder';\nimport { MimeViewerIntl } from '../intl';\nimport { SpinnerService } from '../spinner-service/spinner.service';\nimport * as i0 from \"@angular/core\";\nexport class IiifManifestService {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this._currentManifest = new BehaviorSubject(null);\n        this._errorMessage = new BehaviorSubject(null);\n        this.http = inject(HttpClient);\n        this.spinnerService = inject(SpinnerService);\n    }\n    get currentManifest() {\n        return this._currentManifest.asObservable().pipe(distinctUntilChanged());\n    }\n    get errorMessage() {\n        return this._errorMessage.asObservable();\n    }\n    load(manifestUri) {\n        return new Observable((observer) => {\n            if (!manifestUri || manifestUri.length === 0) {\n                this._errorMessage.next(this.intl.manifestUriMissingLabel);\n                observer.next(false);\n            }\n            else {\n                this.spinnerService.show();\n                this.http\n                    .get(manifestUri)\n                    .pipe(finalize(() => this.spinnerService.hide()), take(1))\n                    .subscribe((response) => {\n                    const manifest = this.extractData(response);\n                    if (this.isManifestValid(manifest)) {\n                        this._currentManifest.next(manifest);\n                        observer.next(true);\n                    }\n                    else {\n                        this._errorMessage.next(this.intl.manifestNotValidLabel);\n                        observer.next(false);\n                    }\n                }, (err) => {\n                    this._errorMessage.next(this.handleError(err));\n                    observer.next(false);\n                });\n            }\n        });\n    }\n    destroy() {\n        this.resetCurrentManifest();\n        this.resetErrorMessage();\n    }\n    resetCurrentManifest() {\n        this._currentManifest.next(null);\n    }\n    resetErrorMessage() {\n        this._errorMessage.next(null);\n    }\n    extractData(response) {\n        if (response.type === 'Manifest') {\n            return new IiifV3ManifestBuilder(response).build();\n        }\n        else {\n            return new IiifV2ManifestBuilder(response).build();\n        }\n    }\n    isManifestValid(manifest) {\n        return (manifest &&\n            manifest.tileSource !== undefined &&\n            manifest.tileSource.length > 0);\n    }\n    handleError(err) {\n        let errMsg;\n        if (err.error instanceof Object) {\n            errMsg = err.message;\n        }\n        else {\n            errMsg = err.error;\n        }\n        return errMsg;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: IiifManifestService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: IiifManifestService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: IiifManifestService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWlpZi1tYW5pZmVzdC1zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvaWlpZi1tYW5pZmVzdC1zZXJ2aWNlL2lpaWYtbWFuaWZlc3Qtc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFxQixNQUFNLHNCQUFzQixDQUFDO0FBQ3JFLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxlQUFlLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdEUsT0FBTyxFQUFFLGVBQWUsSUFBSSxxQkFBcUIsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQ2hHLE9BQU8sRUFBRSxlQUFlLElBQUkscUJBQXFCLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUNoRyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBRXpDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQzs7QUFHcEUsTUFBTSxPQUFPLG1CQUFtQjtJQURoQztRQUVFLFNBQUksR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDcEIscUJBQWdCLEdBQUcsSUFBSSxlQUFlLENBQWtCLElBQUksQ0FBQyxDQUFDO1FBQzlELGtCQUFhLEdBQUcsSUFBSSxlQUFlLENBQWdCLElBQUksQ0FBQyxDQUFDO1FBQ2xELFNBQUksR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDMUIsbUJBQWMsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7S0FpRjFEO0lBL0VDLElBQUksZUFBZTtRQUNqQixPQUFPLElBQUksQ0FBQyxnQkFB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QUM7SUFFTyxXQUFXLENBQUMsR0FBc0I7UUFDeEMsSUFBSSxNQUFjLENBQUM7UUFDbkIsSUFBSSxHQUFHLENBQUMsS0FBSyxZQUFZLE1BQU0sRUFBRSxDQUFDO1lBQ2hDLE1BQU0sR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDO1FBQ3ZCLENBQUM7YUFBTSxDQUFDO1lBQ04sTUFBTSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDckIsQ0FBQztRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7OEdBckZVLG1CQUFtQjtrSEFBbkIsbUJBQW1COzsyRkFBbkIsbUJBQW1CO2tCQUQvQixVQUFVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cEVycm9yUmVzcG9uc2UgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBpbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQsIGZpbmFsaXplLCB0YWtlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgTWFuaWZlc3RCdWlsZGVyIGFzIElpaWZWMk1hbmlmZXN0QnVpbGRlciB9IGZyb20gJy4uL2J1aWxkZXJzL2lpaWYvdjIvbWFuaWZlc3QuYnVpbGRlcic7XG5pbXBvcnQgeyBNYW5pZmVzdEJ1aWxkZXIgYXMgSWlpZlYzTWFuaWZlc3RCdWlsZGVyIH0gZnJvbSAnLi4vYnVpbGRlcnMvaWlpZi92My9tYW5pZmVzdC5idWlsZGVyJztcbmltcG9ydCB7IE1pbWVWaWV3ZXJJbnRsIH0gZnJvbSAnLi4vaW50bCc7XG5pbXBvcnQgeyBNYW5pZmVzdCB9IGZyb20gJy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBTcGlubmVyU2VydmljZSB9IGZyb20gJy4uL3NwaW5uZXItc2VydmljZS9zcGlubmVyLnNlcnZpY2UnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSWlpZk1hbmlmZXN0U2VydmljZSB7XG4gIGludGwgPSBpbmplY3QoTWltZVZpZXdlckludGwpO1xuICBwcm90ZWN0ZWQgX2N1cnJlbnRNYW5pZmVzdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8TWFuaWZlc3QgfCBudWxsPihudWxsKTtcbiAgcHJvdGVjdGVkIF9lcnJvck1lc3NhZ2UgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBwcml2YXRlIHJlYWRvbmx5IGh0dHAgPSBpbmplY3QoSHR0cENsaWVudCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3Bpbm5lclNlcnZpY2UgPSBpbmplY3QoU3Bpbm5lclNlcnZpY2UpO1xuXG4gIGdldCBjdXJyZW50TWFuaWZlc3QoKTogT2JzZXJ2YWJsZTxNYW5pZmVzdCB8IG51bGw+IHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudE1hbmlmZXN0LmFzT2JzZXJ2YWJsZSgpLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gIH1cblxuICBnZXQgZXJyb3JNZXNzYWdlKCk6IE9ic2VydmFibGU8c3RyaW5nIHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLl9lcnJvck1lc3NhZ2UuYXNPYnNlcnZhYmxlKCk7XG4gIH1cblxuICBsb2FkKG1hbmlmZXN0VXJpOiBzdHJpbmcgfCBudWxsKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgICAgaWYgKCFtYW5pZmVzdFVyaSB8fCBtYW5pZmVzdFVyaS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5fZXJyb3JNZXNzYWdlLm5leHQodGhpcy5pbnRsLm1hbmlmZXN0VXJpTWlzc2luZ0xhYmVsKTtcbiAgICAgICAgb2JzZXJ2ZXIubmV4dChmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNwaW5uZXJTZXJ2aWNlLnNob3coKTtcbiAgICAgICAgdGhpcy5odHRwXG4gICAgICAgICAgLmdldDxSZXNwb25zZT4obWFuaWZlc3RVcmkpXG4gICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICBmaW5hbGl6ZSgoKSA9PiB0aGlzLnNwaW5uZXJTZXJ2aWNlLmhpZGUoKSksXG4gICAgICAgICAgICB0YWtlKDEpLFxuICAgICAgICAgIClcbiAgICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICAgKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBtYW5pZmVzdCA9IHRoaXMuZXh0cmFjdERhdGEocmVzcG9uc2UpO1xuICAgICAgICAgICAgICBpZiAodGhpcy5pc01hbmlmZXN0VmFsaWQobWFuaWZlc3QpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudE1hbmlmZXN0Lm5leHQobWFuaWZlc3QpO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3JNZXNzYWdlLm5leHQodGhpcy5pbnRsLm1hbmlmZXN0Tm90VmFsaWRMYWJlbCk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyOiBIdHRwRXJyb3JSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLl9lcnJvck1lc3NhZ2UubmV4dCh0aGlzLmhhbmRsZUVycm9yKGVycikpO1xuICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZXNldEN1cnJlbnRNYW5pZmVzdCgpO1xuICAgIHRoaXMucmVzZXRFcnJvck1lc3NhZ2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzZXRDdXJyZW50TWFuaWZlc3QoKSB7XG4gICAgdGhpcy5fY3VycmVudE1hbmlmZXN0Lm5leHQobnVsbCk7XG4gIH1cblxuICBwcml2YXRlIHJlc2V0RXJyb3JNZXNzYWdlKCkge1xuICAgIHRoaXMuX2Vycm9yTWVzc2FnZS5uZXh0KG51bGwpO1xuICB9XG5cbiAgcHJpdmF0ZSBleHRyYWN0RGF0YShyZXNwb25zZTogYW55KSB7XG4gICAgaWYgKHJlc3BvbnNlLnR5cGUgPT09ICdNYW5pZmVzdCcpIHtcbiAgICAgIHJldHVybiBuZXcgSWlpZlYzTWFuaWZlc3RCdWlsZGVyKHJlc3BvbnNlKS5idWlsZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IElpaWZWMk1hbmlmZXN0QnVpbGRlcihyZXNwb25zZSkuYnVpbGQoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzTWFuaWZlc3RWYWxpZChtYW5pZmVzdDogTWFuaWZlc3QpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgbWFuaWZlc3QgJiZcbiAgICAgIG1hbmlmZXN0LnRpbGVTb3VyY2UgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgbWFuaWZlc3QudGlsZVNvdXJjZS5sZW5ndGggPiAwXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyOiBIdHRwRXJyb3JSZXNwb25zZSk6IHN0cmluZyB7XG4gICAgbGV0IGVyck1zZzogc3RyaW5nO1xuICAgIGlmIChlcnIuZXJyb3IgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgIGVyck1zZyA9IGVyci5tZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlcnJNc2cgPSBlcnIuZXJyb3I7XG4gICAgfVxuICAgIHJldHVybiBlcnJNc2c7XG4gIH1cbn1cbiJdfQ==","export class HtmlFormatter {\n    altoToHtml(alto) {\n        const page = alto.layout.page;\n        let html = '';\n        let textBlocks = [];\n        if (page.topMargin.textBlocks) {\n            textBlocks = [...textBlocks, ...page.topMargin.textBlocks];\n        }\n        if (page.leftMargin.textBlocks) {\n            textBlocks = [...textBlocks, ...page.leftMargin.textBlocks];\n        }\n        if (page.printSpace.textBlocks) {\n            textBlocks = [...textBlocks, ...page.printSpace.textBlocks];\n        }\n        if (page.bottomMargin.textBlocks) {\n            textBlocks = [...textBlocks, ...page.bottomMargin.textBlocks];\n        }\n        textBlocks.forEach((textBlock) => {\n            let words = [];\n            textBlock.textLines.forEach((textLine) => {\n                textLine.strings.forEach((string) => {\n                    words.push(string.content);\n                });\n            });\n            const styles = [];\n            if (textBlock?.textStyle?.fontStyle === 'bold') {\n                styles.push('font-weight: bold');\n            }\n            html += '<p';\n            if (styles && styles.length > 0) {\n                html += ` style=\"${styles.join(';')}\"`;\n            }\n            html += `>${words.join(' ')}<p/>`;\n        });\n        return html;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbC5mb3JtYXR0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9hbHRvLXNlcnZpY2UvaHRtbC5mb3JtYXR0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxPQUFPLGFBQWE7SUFDeEIsVUFBVSxDQUFDLElBQVU7UUFDbkIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDOUIsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxVQUFVLEdBQVUsRUFBRSxDQUFDO1FBRTNCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUM5QixVQUFVLEdBQUcsQ0FBQyxHQUFHLFVBQVUsRUFBRSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDN0QsQ0FBQztRQUNELElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUMvQixVQUFVLEdBQUcsQ0FBQyxHQUFHLFVBQVUsRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDOUQsQ0FBQztRQUNELElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUMvQixVQUFVLEdBQUcsQ0FBQyxHQUFHLFVBQVUsRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDOUQsQ0FBQztRQUNELElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNqQyxVQUFVLEdBQUcsQ0FBQyxHQUFHLFVBQVUsRUFBRSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDaEUsQ0FBQztRQUVELFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTtZQUMvQixJQUFJLEtBQUssR0FBYSxFQUFFLENBQUM7WUFDekIsU0FBUyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFrQixFQUFFLEVBQUU7Z0JBQ2pELFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBYyxFQUFFLEVBQUU7b0JBQzFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUM3QixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxNQUFNLEdBQWEsRUFBRSxDQUFDO1lBQzVCLElBQUksU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEtBQUssTUFBTSxFQUFFLENBQUM7Z0JBQy9DLE1BQU0sQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUNuQyxDQUFDO1lBRUQsSUFBSSxJQUFJLElBQUksQ0FBQztZQUNiLElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ2hDLElBQUksSUFBSSxXQUFXLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztZQUN6QyxDQUFDO1lBQ0QsSUFBSSxJQUFJLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ3BDLENBQUMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbHRvLCBTdHJpbmcsIFRleHRMaW5lIH0gZnJvbSAnLi9hbHRvLm1vZGVsJztcblxuZXhwb3J0IGNsYXNzIEh0bWxGb3JtYXR0ZXIge1xuICBhbHRvVG9IdG1sKGFsdG86IEFsdG8pOiBzdHJpbmcge1xuICAgIGNvbnN0IHBhZ2UgPSBhbHRvLmxheW91dC5wYWdlO1xuICAgIGxldCBodG1sID0gJyc7XG4gICAgbGV0IHRleHRCbG9ja3M6IGFueVtdID0gW107XG5cbiAgICBpZiAocGFnZS50b3BNYXJnaW4udGV4dEJsb2Nrcykge1xuICAgICAgdGV4dEJsb2NrcyA9IFsuLi50ZXh0QmxvY2tzLCAuLi5wYWdlLnRvcE1hcmdpbi50ZXh0QmxvY2tzXTtcbiAgICB9XG4gICAgaWYgKHBhZ2UubGVmdE1hcmdpbi50ZXh0QmxvY2tzKSB7XG4gICAgICB0ZXh0QmxvY2tzID0gWy4uLnRleHRCbG9ja3MsIC4uLnBhZ2UubGVmdE1hcmdpbi50ZXh0QmxvY2tzXTtcbiAgICB9XG4gICAgaWYgKHBhZ2UucHJpbnRTcGFjZS50ZXh0QmxvY2tzKSB7XG4gICAgICB0ZXh0QmxvY2tzID0gWy4uLnRleHRCbG9ja3MsIC4uLnBhZ2UucHJpbnRTcGFjZS50ZXh0QmxvY2tzXTtcbiAgICB9XG4gICAgaWYgKHBhZ2UuYm90dG9tTWFyZ2luLnRleHRCbG9ja3MpIHtcbiAgICAgIHRleHRCbG9ja3MgPSBbLi4udGV4dEJsb2NrcywgLi4ucGFnZS5ib3R0b21NYXJnaW4udGV4dEJsb2Nrc107XG4gICAgfVxuXG4gICAgdGV4dEJsb2Nrcy5mb3JFYWNoKCh0ZXh0QmxvY2spID0+IHtcbiAgICAgIGxldCB3b3Jkczogc3RyaW5nW10gPSBbXTtcbiAgICAgIHRleHRCbG9jay50ZXh0TGluZXMuZm9yRWFjaCgodGV4dExpbmU6IFRleHRMaW5lKSA9PiB7XG4gICAgICAgIHRleHRMaW5lLnN0cmluZ3MuZm9yRWFjaCgoc3RyaW5nOiBTdHJpbmcpID0+IHtcbiAgICAgICAgICB3b3Jkcy5wdXNoKHN0cmluZy5jb250ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHN0eWxlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGlmICh0ZXh0QmxvY2s/LnRleHRTdHlsZT8uZm9udFN0eWxlID09PSAnYm9sZCcpIHtcbiAgICAgICAgc3R5bGVzLnB1c2goJ2ZvbnQtd2VpZ2h0OiBib2xkJyk7XG4gICAgICB9XG5cbiAgICAgIGh0bWwgKz0gJzxwJztcbiAgICAgIGlmIChzdHlsZXMgJiYgc3R5bGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaHRtbCArPSBgIHN0eWxlPVwiJHtzdHlsZXMuam9pbignOycpfVwiYDtcbiAgICAgIH1cbiAgICAgIGh0bWwgKz0gYD4ke3dvcmRzLmpvaW4oJyAnKX08cC8+YDtcbiAgICB9KTtcblxuICAgIHJldHVybiBodG1sO1xuICB9XG59XG4iXX0=","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { inject, Injectable } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { BehaviorSubject, forkJoin, Observable, of, Subject, Subscription, } from 'rxjs';\nimport { catchError, debounceTime, finalize, take } from 'rxjs/operators';\nimport { parseString } from 'xml2js';\nimport { AltoBuilder } from '../builders/alto';\nimport { CanvasService } from '../canvas-service/canvas-service';\nimport { HighlightService } from '../highlight-service/highlight.service';\nimport { IiifManifestService } from '../iiif-manifest-service/iiif-manifest-service';\nimport { MimeViewerIntl } from '../intl';\nimport { RecognizedTextMode } from '../models';\nimport { HtmlFormatter } from './html.formatter';\nimport * as i0 from \"@angular/core\";\nexport class AltoService {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.http = inject(HttpClient);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.highlightService = inject(HighlightService);\n        this.canvasService = inject(CanvasService);\n        this.sanitizer = inject(DomSanitizer);\n        this.altos = [];\n        this.isLoading = new BehaviorSubject(false);\n        this.textContentReady = new Subject();\n        this.textError = new Subject();\n        this.manifest = null;\n        this.subscriptions = new Subscription();\n        this.altoBuilder = new AltoBuilder();\n        this._recognizedTextContentModeChanges = new BehaviorSubject({\n            previousValue: RecognizedTextMode.NONE,\n            currentValue: RecognizedTextMode.NONE,\n        });\n        this.previousRecognizedTextMode = RecognizedTextMode.NONE;\n    }\n    get onRecognizedTextContentModeChange$() {\n        return this._recognizedTextContentModeChanges.asObservable();\n    }\n    get onTextContentReady$() {\n        return this.textContentReady.asObservable();\n    }\n    get isLoading$() {\n        return this.isLoading.asObservable();\n    }\n    get hasErrors$() {\n        return this.textError.asObservable();\n    }\n    get recognizedTextContentMode() {\n        return this._recognizedTextContentModeChanges.value.currentValue;\n    }\n    set recognizedTextContentMode(value) {\n        this._recognizedTextContentModeChanges.next({\n            currentValue: value,\n            previousValue: this.previousRecognizedTextMode,\n        });\n        this.previousRecognizedTextMode = value;\n    }\n    initialize(hits) {\n        this.hits = hits;\n        this.htmlFormatter = new HtmlFormatter();\n        this.subscriptions = new Subscription();\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            this.manifest = manifest;\n            this.clearCache();\n        }));\n        this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange\n            .pipe(debounceTime(200))\n            .subscribe((currentCanvasGroupIndex) => {\n            this.textError.next(undefined);\n            const sources = [];\n            const canvasGroup = this.canvasService.getCanvasesPerCanvasGroup(currentCanvasGroupIndex);\n            if (!canvasGroup || canvasGroup.length === 0) {\n                return;\n            }\n            this.addAltoSource(canvasGroup[0], sources);\n            if (canvasGroup.length === 2) {\n                this.addAltoSource(canvasGroup[1], sources);\n            }\n            this.isLoading.next(true);\n            forkJoin(sources)\n                .pipe(take(1), finalize(() => this.isLoading.next(false)))\n                .subscribe();\n        }));\n    }\n    destroy() {\n        this.recognizedTextContentMode = this.config?.initRecognizedTextContentMode\n            ? this.config?.initRecognizedTextContentMode\n            : RecognizedTextMode.NONE;\n        this.subscriptions.unsubscribe();\n        this.clearCache();\n    }\n    setConfig(config) {\n        this.config = config;\n    }\n    showRecognizedTextContentOnly() {\n        this.recognizedTextContentMode = RecognizedTextMode.ONLY;\n    }\n    showRecognizedTextContentInSplitView() {\n        this.recognizedTextContentMode = RecognizedTextMode.SPLIT;\n    }\n    closeRecognizedTextContent() {\n        this.recognizedTextContentMode = RecognizedTextMode.NONE;\n    }\n    getHtml(index) {\n        return this.altos && this.altos.length >= index + 1\n            ? this.sanitizer.bypassSecurityTrustHtml(this.highlightService.highlight(this.altos[index], index, this.hits))\n            : undefined;\n    }\n    clearCache() {\n        this.altos = [];\n    }\n    addAltoSource(index, sources) {\n        if (this.manifest && this.manifest.sequences) {\n            const seq = this.manifest.sequences[0];\n            if (seq.canvases) {\n                const canvas = seq.canvases[index];\n                if (canvas && canvas.altoUrl) {\n                    sources.push(this.add(index, canvas.altoUrl));\n                }\n            }\n        }\n    }\n    add(index, url) {\n        return new Observable((observer) => {\n            if (this.isInCache(index)) {\n                this.done(observer);\n            }\n            else {\n                this.load(observer, index, url);\n            }\n        });\n    }\n    isInCache(index) {\n        return this.altos[index];\n    }\n    load(observer, index, url) {\n        this.http\n            .get(url, {\n            headers: new HttpHeaders().set('Content-Type', 'text/xml'),\n            responseType: 'text',\n        })\n            .pipe(take(1), catchError((err) => of({ isError: true, error: err })))\n            .subscribe((data) => {\n            try {\n                if (!data.isError) {\n                    parseString(data, { explicitChildren: true, preserveChildrenOrder: true }, (error, result) => {\n                        const alto = this.altoBuilder.withAltoXml(result.alto).build();\n                        this.addToCache(index, alto);\n                        this.done(observer);\n                    });\n                }\n                else {\n                    throw data.err;\n                }\n            }\n            catch {\n                this.error(observer);\n            }\n        });\n    }\n    addToCache(index, alto) {\n        this.altos[index] = this.htmlFormatter.altoToHtml(alto);\n    }\n    done(observer) {\n        this.textContentReady.next();\n        this.complete(observer);\n    }\n    error(observer) {\n        this.textError.next(this.intl.textContentErrorLabel);\n        this.complete(observer);\n    }\n    complete(observer) {\n        observer.next();\n        observer.complete();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AltoService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AltoService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AltoService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWx0by5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvYWx0by1zZXJ2aWNlL2FsdG8uc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQy9ELE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxZQUFZLEVBQVksTUFBTSwyQkFBMkIsQ0FBQztBQUNuRSxPQUFPLEVBQ0wsZUFBZSxFQUNmLFFBQVEsRUFDUixVQUFVLEVBQ1YsRUFBRSxFQUNGLE9BQU8sRUFFUCxZQUFZLEdBQ2IsTUFBTSxNQUFNLENBQUM7QUFDZCxPQUFPLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDMUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUNyQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBQ2pFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHdDQUF3QyxDQUFDO0FBQzFFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBQ3JGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFFekMsT0FBTyxFQUFFLGtCQUFrQixFQUE2QixNQUFNLFdBQVcsQ0FBQztBQUkxRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7O0FBR2pELE1BQU0sT0FBTyxXQUFXO0lBRHhCO1FBRUUsU0FBSSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNiLFNB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QVc7a0hBQVgsV0FBVzs7MkZBQVgsV0FBVztrQkFEdkIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBIZWFkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgaW5qZWN0LCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIsIFNhZmVIdG1sIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5pbXBvcnQge1xuICBCZWhhdmlvclN1YmplY3QsXG4gIGZvcmtKb2luLFxuICBPYnNlcnZhYmxlLFxuICBvZixcbiAgU3ViamVjdCxcbiAgU3Vic2NyaWJlcixcbiAgU3Vic2NyaXB0aW9uLFxufSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGNhdGNoRXJyb3IsIGRlYm91bmNlVGltZSwgZmluYWxpemUsIHRha2UgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBwYXJzZVN0cmluZyB9IGZyb20gJ3htbDJqcyc7XG5pbXBvcnQgeyBBbHRvQnVpbGRlciB9IGZyb20gJy4uL2J1aWxkZXJzL2FsdG8nO1xuaW1wb3J0IHsgQ2FudmFzU2VydmljZSB9IGZyb20gJy4uL2NhbnZhcy1zZXJ2aWNlL2NhbnZhcy1zZXJ2aWNlJztcbmltcG9ydCB7IEhpZ2hsaWdodFNlcnZpY2UgfSBmcm9tICcuLi9oaWdobGlnaHQtc2VydmljZS9oaWdobGlnaHQuc2VydmljZSc7XG5pbXBvcnQgeyBJaWlmTWFuaWZlc3RTZXJ2aWNlIH0gZnJvbSAnLi4vaWlpZi1tYW5pZmVzdC1zZXJ2aWNlL2lpaWYtbWFuaWZlc3Qtc2VydmljZSc7XG5pbXBvcnQgeyBNaW1lVmlld2VySW50bCB9IGZyb20gJy4uL2ludGwnO1xuaW1wb3J0IHsgTWltZVZpZXdlckNvbmZpZyB9IGZyb20gJy4uL21pbWUtdmlld2VyLWNvbmZpZyc7XG5pbXBvcnQgeyBSZWNvZ25pemVkVGV4dE1vZGUsIFJlY29nbml6ZWRUZXh0TW9kZUNoYW5nZXMgfSBmcm9tICcuLi9tb2RlbHMnO1xuaW1wb3J0IHsgSGl0IH0gZnJvbSAnLi4vbW9kZWxzL2hpdCc7XG5pbXBvcnQgeyBNYW5pZmVzdCB9IGZyb20gJy4uL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBBbHRvIH0gZnJvbSAnLi9hbHRvLm1vZGVsJztcbmltcG9ydCB7IEh0bWxGb3JtYXR0ZXIgfSBmcm9tICcuL2h0bWwuZm9ybWF0dGVyJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEFsdG9TZXJ2aWNlIHtcbiAgaW50bCA9IGluamVjdChNaW1lVmlld2VySW50bCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgaHR0cCA9IGluamVjdChIdHRwQ2xpZW50KTtcbiAgcHJpdmF0ZSByZWFkb25seSBpaWlmTWFuaWZlc3RTZXJ2aWNlID0gaW5qZWN0KElpaWZNYW5pZmVzdFNlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGhpZ2hsaWdodFNlcnZpY2UgPSBpbmplY3QoSGlnaGxpZ2h0U2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FudmFzU2VydmljZSA9IGluamVjdChDYW52YXNTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBzYW5pdGl6ZXIgPSBpbmplY3QoRG9tU2FuaXRpemVyKTtcbiAgcHJpdmF0ZSBjb25maWchOiBNaW1lVmlld2VyQ29uZmlnO1xuICBwcml2YXRlIGFsdG9zOiBzdHJpbmdbXSA9IFtdO1xuICBwcml2YXRlIHJlYWRvbmx5IGlzTG9hZGluZyA9IG5ldyBCZWhhdmlvclN1YmplY3QoZmFsc2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IHRleHRDb250ZW50UmVhZHkgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IHRleHRFcnJvciA9IG5ldyBTdWJqZWN0PHN0cmluZyB8IHVuZGVmaW5lZD4oKTtcbiAgcHJpdmF0ZSBtYW5pZmVzdDogTWFuaWZlc3QgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICBwcml2YXRlIHJlYWRvbmx5IGFsdG9CdWlsZGVyID0gbmV3IEFsdG9CdWlsZGVyKCk7XG4gIHByaXZhdGUgaHRtbEZvcm1hdHRlciE6IEh0bWxGb3JtYXR0ZXI7XG4gIHByaXZhdGUgaGl0czogSGl0W10gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3JlY29nbml6ZWRUZXh0Q29udGVudE1vZGVDaGFuZ2VzID1cbiAgICBuZXcgQmVoYXZpb3JTdWJqZWN0PFJlY29nbml6ZWRUZXh0TW9kZUNoYW5nZXM+KHtcbiAgICAgIHByZXZpb3VzVmFsdWU6IFJlY29nbml6ZWRUZXh0TW9kZS5OT05FLFxuICAgICAgY3VycmVudFZhbHVlOiBSZWNvZ25pemVkVGV4dE1vZGUuTk9ORSxcbiAgICB9KTtcbiAgcHJpdmF0ZSBwcmV2aW91c1JlY29nbml6ZWRUZXh0TW9kZSA9IFJlY29nbml6ZWRUZXh0TW9kZS5OT05FO1xuXG4gIGdldCBvblJlY29nbml6ZWRUZXh0Q29udGVudE1vZGVDaGFuZ2UkKCk6IE9ic2VydmFibGU8UmVjb2duaXplZFRleHRNb2RlQ2hhbmdlcz4ge1xuICAgIHJldHVybiB0aGlzLl9yZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlQ2hhbmdlcy5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIGdldCBvblRleHRDb250ZW50UmVhZHkkKCk6IE9ic2VydmFibGU8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnRleHRDb250ZW50UmVhZHkuYXNPYnNlcnZhYmxlKCk7XG4gIH1cblxuICBnZXQgaXNMb2FkaW5nJCgpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5pc0xvYWRpbmcuYXNPYnNlcnZhYmxlKCk7XG4gIH1cblxuICBnZXQgaGFzRXJyb3JzJCgpOiBPYnNlcnZhYmxlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB0aGlzLnRleHRFcnJvci5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIGdldCByZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlKCk6IFJlY29nbml6ZWRUZXh0TW9kZSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlY29nbml6ZWRUZXh0Q29udGVudE1vZGVDaGFuZ2VzLnZhbHVlLmN1cnJlbnRWYWx1ZTtcbiAgfVxuXG4gIHNldCByZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlKHZhbHVlOiBSZWNvZ25pemVkVGV4dE1vZGUpIHtcbiAgICB0aGlzLl9yZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlQ2hhbmdlcy5uZXh0KHtcbiAgICAgIGN1cnJlbnRWYWx1ZTogdmFsdWUsXG4gICAgICBwcmV2aW91c1ZhbHVlOiB0aGlzLnByZXZpb3VzUmVjb2duaXplZFRleHRNb2RlLFxuICAgIH0pO1xuICAgIHRoaXMucHJldmlvdXNSZWNvZ25pemVkVGV4dE1vZGUgPSB2YWx1ZTtcbiAgfVxuXG4gIGluaXRpYWxpemUoaGl0cz86IEhpdFtdKSB7XG4gICAgdGhpcy5oaXRzID0gaGl0cztcbiAgICB0aGlzLmh0bWxGb3JtYXR0ZXIgPSBuZXcgSHRtbEZvcm1hdHRlcigpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmlpaWZNYW5pZmVzdFNlcnZpY2UuY3VycmVudE1hbmlmZXN0LnN1YnNjcmliZShcbiAgICAgICAgKG1hbmlmZXN0OiBNYW5pZmVzdCB8IG51bGwpID0+IHtcbiAgICAgICAgICB0aGlzLm1hbmlmZXN0ID0gbWFuaWZlc3Q7XG4gICAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5jYW52YXNTZXJ2aWNlLm9uQ2FudmFzR3JvdXBJbmRleENoYW5nZVxuICAgICAgICAucGlwZShkZWJvdW5jZVRpbWUoMjAwKSlcbiAgICAgICAgLnN1YnNjcmliZSgoY3VycmVudENhbnZhc0dyb3VwSW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgIHRoaXMudGV4dEVycm9yLm5leHQodW5kZWZpbmVkKTtcbiAgICAgICAgICBjb25zdCBzb3VyY2VzOiBPYnNlcnZhYmxlPHZvaWQ+W10gPSBbXTtcblxuICAgICAgICAgIGNvbnN0IGNhbnZhc0dyb3VwID0gdGhpcy5jYW52YXNTZXJ2aWNlLmdldENhbnZhc2VzUGVyQ2FudmFzR3JvdXAoXG4gICAgICAgICAgICBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKCFjYW52YXNHcm91cCB8fCBjYW52YXNHcm91cC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5hZGRBbHRvU291cmNlKGNhbnZhc0dyb3VwWzBdLCBzb3VyY2VzKTtcbiAgICAgICAgICBpZiAoY2FudmFzR3JvdXAubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEFsdG9Tb3VyY2UoY2FudmFzR3JvdXBbMV0sIHNvdXJjZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmlzTG9hZGluZy5uZXh0KHRydWUpO1xuICAgICAgICAgIGZvcmtKb2luKHNvdXJjZXMpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgdGFrZSgxKSxcbiAgICAgICAgICAgICAgZmluYWxpemUoKCkgPT4gdGhpcy5pc0xvYWRpbmcubmV4dChmYWxzZSkpLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgpO1xuICAgICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlY29nbml6ZWRUZXh0Q29udGVudE1vZGUgPSB0aGlzLmNvbmZpZz8uaW5pdFJlY29nbml6ZWRUZXh0Q29udGVudE1vZGVcbiAgICAgID8gdGhpcy5jb25maWc/LmluaXRSZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlXG4gICAgICA6IFJlY29nbml6ZWRUZXh0TW9kZS5OT05FO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gIH1cblxuICBzZXRDb25maWcoY29uZmlnOiBNaW1lVmlld2VyQ29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gIH1cblxuICBzaG93UmVjb2duaXplZFRleHRDb250ZW50T25seSgpIHtcbiAgICB0aGlzLnJlY29nbml6ZWRUZXh0Q29udGVudE1vZGUgPSBSZWNvZ25pemVkVGV4dE1vZGUuT05MWTtcbiAgfVxuXG4gIHNob3dSZWNvZ25pemVkVGV4dENvbnRlbnRJblNwbGl0VmlldygpIHtcbiAgICB0aGlzLnJlY29nbml6ZWRUZXh0Q29udGVudE1vZGUgPSBSZWNvZ25pemVkVGV4dE1vZGUuU1BMSVQ7XG4gIH1cblxuICBjbG9zZVJlY29nbml6ZWRUZXh0Q29udGVudCgpIHtcbiAgICB0aGlzLnJlY29nbml6ZWRUZXh0Q29udGVudE1vZGUgPSBSZWNvZ25pemVkVGV4dE1vZGUuTk9ORTtcbiAgfVxuXG4gIGdldEh0bWwoaW5kZXg6IG51bWJlcik6IFNhZmVIdG1sIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5hbHRvcyAmJiB0aGlzLmFsdG9zLmxlbmd0aCA+PSBpbmRleCArIDFcbiAgICAgID8gdGhpcy5zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwoXG4gICAgICAgICAgdGhpcy5oaWdobGlnaHRTZXJ2aWNlLmhpZ2hsaWdodCh0aGlzLmFsdG9zW2luZGV4XSwgaW5kZXgsIHRoaXMuaGl0cyksXG4gICAgICAgIClcbiAgICAgIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgY2xlYXJDYWNoZSgpIHtcbiAgICB0aGlzLmFsdG9zID0gW107XG4gIH1cblxuICBwcml2YXRlIGFkZEFsdG9Tb3VyY2UoaW5kZXg6IG51bWJlciwgc291cmNlczogT2JzZXJ2YWJsZTx2b2lkPltdKSB7XG4gICAgaWYgKHRoaXMubWFuaWZlc3QgJiYgdGhpcy5tYW5pZmVzdC5zZXF1ZW5jZXMpIHtcbiAgICAgIGNvbnN0IHNlcSA9IHRoaXMubWFuaWZlc3Quc2VxdWVuY2VzWzBdO1xuICAgICAgaWYgKHNlcS5jYW52YXNlcykge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBzZXEuY2FudmFzZXNbaW5kZXhdO1xuICAgICAgICBpZiAoY2FudmFzICYmIGNhbnZhcy5hbHRvVXJsKSB7XG4gICAgICAgICAgc291cmNlcy5wdXNoKHRoaXMuYWRkKGluZGV4LCBjYW52YXMuYWx0b1VybCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhZGQoaW5kZXg6IG51bWJlciwgdXJsOiBzdHJpbmcpOiBPYnNlcnZhYmxlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc0luQ2FjaGUoaW5kZXgpKSB7XG4gICAgICAgIHRoaXMuZG9uZShvYnNlcnZlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvYWQob2JzZXJ2ZXIsIGluZGV4LCB1cmwpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0luQ2FjaGUoaW5kZXg6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLmFsdG9zW2luZGV4XTtcbiAgfVxuXG4gIHByaXZhdGUgbG9hZChvYnNlcnZlcjogU3Vic2NyaWJlcjx2b2lkPiwgaW5kZXg6IG51bWJlciwgdXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLmh0dHBcbiAgICAgIC5nZXQodXJsLCB7XG4gICAgICAgIGhlYWRlcnM6IG5ldyBIdHRwSGVhZGVycygpLnNldCgnQ29udGVudC1UeXBlJywgJ3RleHQveG1sJyksXG4gICAgICAgIHJlc3BvbnNlVHlwZTogJ3RleHQnLFxuICAgICAgfSlcbiAgICAgIC5waXBlKFxuICAgICAgICB0YWtlKDEpLFxuICAgICAgICBjYXRjaEVycm9yKChlcnIpID0+IG9mKHsgaXNFcnJvcjogdHJ1ZSwgZXJyb3I6IGVyciB9KSksXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKChkYXRhOiBBbHRvIHwgYW55KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFkYXRhLmlzRXJyb3IpIHtcbiAgICAgICAgICAgIHBhcnNlU3RyaW5nKFxuICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICB7IGV4cGxpY2l0Q2hpbGRyZW46IHRydWUsIHByZXNlcnZlQ2hpbGRyZW5PcmRlcjogdHJ1ZSB9LFxuICAgICAgICAgICAgICAoZXJyb3IsIHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsdG8gPSB0aGlzLmFsdG9CdWlsZGVyLndpdGhBbHRvWG1sKHJlc3VsdC5hbHRvKS5idWlsZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9DYWNoZShpbmRleCwgYWx0byk7XG4gICAgICAgICAgICAgICAgdGhpcy5kb25lKG9ic2VydmVyKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGRhdGEuZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgdGhpcy5lcnJvcihvYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRUb0NhY2hlKGluZGV4OiBudW1iZXIsIGFsdG86IEFsdG8pIHtcbiAgICB0aGlzLmFsdG9zW2luZGV4XSA9IHRoaXMuaHRtbEZvcm1hdHRlci5hbHRvVG9IdG1sKGFsdG8pO1xuICB9XG5cbiAgcHJpdmF0ZSBkb25lKG9ic2VydmVyOiBTdWJzY3JpYmVyPHZvaWQ+KSB7XG4gICAgdGhpcy50ZXh0Q29udGVudFJlYWR5Lm5leHQoKTtcbiAgICB0aGlzLmNvbXBsZXRlKG9ic2VydmVyKTtcbiAgfVxuXG4gIHByaXZhdGUgZXJyb3Iob2JzZXJ2ZXI6IFN1YnNjcmliZXI8dm9pZD4pIHtcbiAgICB0aGlzLnRleHRFcnJvci5uZXh0KHRoaXMuaW50bC50ZXh0Q29udGVudEVycm9yTGFiZWwpO1xuICAgIHRoaXMuY29tcGxldGUob2JzZXJ2ZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBjb21wbGV0ZShvYnNlcnZlcjogU3Vic2NyaWJlcjx2b2lkPikge1xuICAgIG9ic2VydmVyLm5leHQoKTtcbiAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICB9XG59XG4iXX0=","import { Injectable } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class ClickService {\n    constructor() {\n        this.singleClickHandlers = [];\n        this.doubleClickHandlers = [];\n        this.clickCount = 0;\n        this.click = (event) => {\n            event.preventDefaultAction = true;\n            if (event.quick) {\n                this.clickCount++;\n                if (this.clickCount === 1) {\n                    this.dblClickTimeOut = setTimeout(() => {\n                        this.clickCount = 0;\n                        this.triggerSingleClick(event);\n                    }, event.tracker.dblClickTimeThreshold);\n                }\n                else if (this.clickCount === 2) {\n                    clearTimeout(this.dblClickTimeOut);\n                    this.clickCount = 0;\n                    this.triggerDoubleClick(event);\n                }\n            }\n        };\n    }\n    reset() {\n        this.singleClickHandlers = [];\n        this.doubleClickHandlers = [];\n    }\n    addSingleClickHandler(singleClickHandler) {\n        this.singleClickHandlers.push(singleClickHandler);\n    }\n    addDoubleClickHandler(doubleClickHandler) {\n        this.doubleClickHandlers.push(doubleClickHandler);\n    }\n    triggerSingleClick(event) {\n        this.singleClickHandlers.forEach((handler) => {\n            handler(event);\n        });\n    }\n    triggerDoubleClick(event) {\n        this.doubleClickHandlers.forEach((handler) => {\n            handler(event);\n        });\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ClickService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ClickService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ClickService, decorators: [{\n            type: Injectable\n        }], ctorParameters: () => [] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpY2suc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2NsaWNrLXNlcnZpY2UvY2xpY2suc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDOztBQUczQyxNQUFNLE9BQU8sWUFBWTtJQU12QjtRQUxRLHdCQUFtQixHQUFnQyxFQUFFLENBQUM7UUFDdEQsd0JBQW1CLEdBQWdDLEVBQUUsQ0FBQztRQUN0RCxlQUFVLEdBQUcsQ0FBQyxDQUFDO1FBa0J2QixVQUFLLEdBQUcsQ0FBQyxLQUFVLEVBQUUsRUFBRTtZQUNyQixLQUFLLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDO1lBQ2xDLElBQUksS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUNoQixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBQ2xCLElBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxDQUFDLEVBQUUsQ0FBQztvQkFDMUIsSUFBSSxDQUFDLGVBQWUsR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFO3dCQUNyQyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQzt3QkFDcEIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUNqQyxDQUFDLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO2dCQUMxQyxDQUFDO3FCQUFNLElBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxDQUFDLEVBQUUsQ0FBQztvQkFDakMsWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztvQkFDbkMsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7b0JBQ3BCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDakMsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDLENBQUM7SUE5QmEsQ0FBQztJQUVoQixLQUFLO1FBQ0gsSUFBSSxDQUFDLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztRQUM5QixJQUFJLENBQUMsbUJBQW1CLEdBQUcsRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxxQkFBcUIsQ0FBQyxrQkFBd0M7UUFDNUQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCxxQkFBcUIsQ0FBQyxrQkFBd0M7UUFDNUQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFtQk8sa0JBQWtCLENBQUMsS0FBVTtRQUNuQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBWSxFQUFFLEVBQUU7WUFDaEQsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2pCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVPLGtCQUFrQixDQUFDLEtBQVU7UUFDbkMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQVksRUFBRSxFQUFFO1lBQ2hELE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNqQixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7OEdBaERVLFlBQVk7a0hBQVosWUFBWTs7MkZBQVosWUFBWTtrQkFEeEIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENsaWNrU2VydmljZSB7XG4gIHByaXZhdGUgc2luZ2xlQ2xpY2tIYW5kbGVyczogQXJyYXk8KGV2ZW50OiBhbnkpID0+IHZvaWQ+ID0gW107XG4gIHByaXZhdGUgZG91YmxlQ2xpY2tIYW5kbGVyczogQXJyYXk8KGV2ZW50OiBhbnkpID0+IHZvaWQ+ID0gW107XG4gIHByaXZhdGUgY2xpY2tDb3VudCA9IDA7XG4gIHByaXZhdGUgZGJsQ2xpY2tUaW1lT3V0OiBhbnk7XG5cbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMuc2luZ2xlQ2xpY2tIYW5kbGVycyA9IFtdO1xuICAgIHRoaXMuZG91YmxlQ2xpY2tIYW5kbGVycyA9IFtdO1xuICB9XG5cbiAgYWRkU2luZ2xlQ2xpY2tIYW5kbGVyKHNpbmdsZUNsaWNrSGFuZGxlcjogKGV2ZW50OiBhbnkpID0+IHZvaWQpIHtcbiAgICB0aGlzLnNpbmdsZUNsaWNrSGFuZGxlcnMucHVzaChzaW5nbGVDbGlja0hhbmRsZXIpO1xuICB9XG5cbiAgYWRkRG91YmxlQ2xpY2tIYW5kbGVyKGRvdWJsZUNsaWNrSGFuZGxlcjogKGV2ZW50OiBhbnkpID0+IHZvaWQpIHtcbiAgICB0aGlzLmRvdWJsZUNsaWNrSGFuZGxlcnMucHVzaChkb3VibGVDbGlja0hhbmRsZXIpO1xuICB9XG5cbiAgY2xpY2sgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uID0gdHJ1ZTtcbiAgICBpZiAoZXZlbnQucXVpY2spIHtcbiAgICAgIHRoaXMuY2xpY2tDb3VudCsrO1xuICAgICAgaWYgKHRoaXMuY2xpY2tDb3VudCA9PT0gMSkge1xuICAgICAgICB0aGlzLmRibENsaWNrVGltZU91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY2xpY2tDb3VudCA9IDA7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyU2luZ2xlQ2xpY2soZXZlbnQpO1xuICAgICAgICB9LCBldmVudC50cmFja2VyLmRibENsaWNrVGltZVRocmVzaG9sZCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2xpY2tDb3VudCA9PT0gMikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kYmxDbGlja1RpbWVPdXQpO1xuICAgICAgICB0aGlzLmNsaWNrQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnRyaWdnZXJEb3VibGVDbGljayhldmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgdHJpZ2dlclNpbmdsZUNsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLnNpbmdsZUNsaWNrSGFuZGxlcnMuZm9yRWFjaCgoaGFuZGxlcjogYW55KSA9PiB7XG4gICAgICBoYW5kbGVyKGV2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgdHJpZ2dlckRvdWJsZUNsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLmRvdWJsZUNsaWNrSGFuZGxlcnMuZm9yRWFjaCgoaGFuZGxlcjogYW55KSA9PiB7XG4gICAgICBoYW5kbGVyKGV2ZW50KTtcbiAgICB9KTtcbiAgfVxufVxuIl19","// OpenSeadragon SVG Overlay plugin 0.0.4\nexport function createSvgOverlay() {\n    if (!OpenSeadragon) {\n        console.error('[openseadragon-svg-overlay] requires OpenSeadragon');\n        return;\n    }\n    const svgNS = 'http://www.w3.org/2000/svg';\n    // ----------\n    class Overlay {\n        constructor(viewer) {\n            const self = this;\n            this._viewer = viewer;\n            this._containerWidth = 0;\n            this._containerHeight = 0;\n            this._svg = document.createElementNS(svgNS, 'svg');\n            this._svg.style.position = 'absolute';\n            this._svg.style.left = 0;\n            this._svg.style.top = 0;\n            this._svg.style.width = '100%';\n            this._svg.style.height = '100%';\n            this._viewer.canvas.appendChild(this._svg);\n            this._node = document.createElementNS(svgNS, 'g');\n            this._svg.appendChild(this._node);\n            this._viewer.addHandler('animation', function () {\n                self.resize();\n            });\n            this._viewer.addHandler('open', function () {\n                self.resize();\n            });\n            this._viewer.addHandler('rotate', function (evt) {\n                self.resize();\n            });\n            this._viewer.addHandler('resize', function () {\n                self.resize();\n            });\n            this.resize();\n        }\n        node() {\n            return this._node;\n        }\n        // ----------\n        resize() {\n            if (this._containerWidth !== this._viewer.container.clientWidth) {\n                this._containerWidth = this._viewer.container.clientWidth;\n                this._svg.setAttribute('width', this._containerWidth);\n            }\n            if (this._containerHeight !== this._viewer.container.clientHeight) {\n                this._containerHeight = this._viewer.container.clientHeight;\n                this._svg.setAttribute('height', this._containerHeight);\n            }\n            const p = this._viewer.viewport.pixelFromPoint(new OpenSeadragon.Point(0, 0), true);\n            const zoom = this._viewer.viewport.getZoom(true);\n            const rotation = this._viewer.viewport.getRotation();\n            // TODO: Expose an accessor for _containerInnerSize in the OSD API so we don't have to use the private variable.\n            const scale = this._viewer.viewport._containerInnerSize.x * zoom;\n            this._node.setAttribute('transform', 'translate(' +\n                p.x +\n                ',' +\n                p.y +\n                ') scale(' +\n                scale +\n                ') rotate(' +\n                rotation +\n                ')');\n        }\n        // ----------\n        onClick(node, handler) {\n            // TODO: Fast click for mobile browsers\n            new OpenSeadragon.MouseTracker({\n                element: node,\n                clickHandler: handler,\n            }).setTracking(true);\n        }\n    }\n    // ----------\n    // ----------\n    OpenSeadragon.Viewer.prototype.svgOverlay = function () {\n        if (this._svgOverlayInfo) {\n            return this._svgOverlayInfo;\n        }\n        this._svgOverlayInfo = new Overlay(this);\n        return this._svgOverlayInfo;\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ZnLW92ZXJsYXkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9leHQvc3ZnLW92ZXJsYXkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEseUNBQXlDO0FBRXpDLE1BQU0sVUFBVSxnQkFBZ0I7SUFDOUIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ25CLE9BQU8sQ0FBQyxLQUFLLENBQUMsb0RBQW9ELENBQUMsQ0FBQztRQUNwRSxPQUFPO0lBQ1QsQ0FBQztJQUVELE1BQU0sS0FBSyxHQUFHLDRCQUE0QixDQUFDO0lBRTNDLGFBQWE7SUFDYixNQUFNLE9BQU87UUFTWCxZQUFZLE1BQVc7WUFDckIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBRWxCLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7WUFFMUIsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNuRCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDO1lBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDO1lBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDaEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUUzQyxJQUFJLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ2xELElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVsQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUU7Z0JBQ25DLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNoQixDQUFDLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRTtnQkFDOUIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2hCLENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLFVBQVUsR0FBUTtnQkFDbEQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2hCLENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFO2dCQUNoQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDaEIsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDaEIsQ0FBQztRQUNELElBQUk7WUFDRixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDcEIsQ0FBQztRQUVELGFBQWE7UUFDYixNQUFNO1lBQ0osSUFBSSxJQUFJLENBQUMsZUFBZSxLQUFLLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUNoRSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQztnQkFDMUQsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUN4RCxDQUFDO1lBRUQsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUM7Z0JBQ2xFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUM7Z0JBQzVELElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUMxRCxDQUFDO1lBRUQsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUM1QyxJQUFJLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUM3QixJQUFJLENBQ0wsQ0FBQztZQUNGLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNqRCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNyRCxnSEFBZ0g7WUFDaEgsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztZQUNqRSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FDckIsV0FBVyxFQUNYLFlBQVk7Z0JBQ1YsQ0FBQyxDQUFDLENBQUM7Z0JBQ0gsR0FBRztnQkFDSCxDQUFDLENBQUMsQ0FBQztnQkFDSCxVQUFVO2dCQUNWLEtBQUs7Z0JBQ0wsV0FBVztnQkFDWCxRQUFRO2dCQUNSLEdBQUcsQ0FDTixDQUFDO1FBQ0osQ0FBQztRQUVELGFBQWE7UUFDYixPQUFPLENBQUMsSUFBUyxFQUFFLE9BQVk7WUFDN0IsdUNBQXVDO1lBRXZDLElBQUksYUFBYSxDQUFDLFlBQVksQ0FBQztnQkFDN0IsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsWUFBWSxFQUFFLE9BQU87YUFDdEIsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QixDQUFDO0tBQ0Y7SUFFRCxhQUFhO0lBRWIsYUFBYTtJQUNiLGFBQWEsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsR0FBRztRQUMxQyxJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN6QixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7UUFDOUIsQ0FBQztRQUVELElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQzlCLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJkZWNsYXJlIGNvbnN0IE9wZW5TZWFkcmFnb246IGFueTtcblxuLy8gT3BlblNlYWRyYWdvbiBTVkcgT3ZlcmxheSBwbHVnaW4gMC4wLjRcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN2Z092ZXJsYXkoKSB7XG4gIGlmICghT3BlblNlYWRyYWdvbikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tvcGVuc2VhZHJhZ29uLXN2Zy1vdmVybGF5XSByZXF1aXJlcyBPcGVuU2VhZHJhZ29uJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuXG4gIC8vIC0tLS0tLS0tLS1cbiAgY2xhc3MgT3ZlcmxheSB7XG4gICAgLy8gLS0tLS0tLS0tLVxuXG4gICAgX3ZpZXdlcjogYW55O1xuICAgIF9jb250YWluZXJXaWR0aDogYW55O1xuICAgIF9jb250YWluZXJIZWlnaHQ6IGFueTtcbiAgICBfc3ZnOiBhbnk7XG4gICAgX25vZGU6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdlcjogYW55KSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgICAgdGhpcy5fdmlld2VyID0gdmlld2VyO1xuICAgICAgdGhpcy5fY29udGFpbmVyV2lkdGggPSAwO1xuICAgICAgdGhpcy5fY29udGFpbmVySGVpZ2h0ID0gMDtcblxuICAgICAgdGhpcy5fc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCAnc3ZnJyk7XG4gICAgICB0aGlzLl9zdmcuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgdGhpcy5fc3ZnLnN0eWxlLmxlZnQgPSAwO1xuICAgICAgdGhpcy5fc3ZnLnN0eWxlLnRvcCA9IDA7XG4gICAgICB0aGlzLl9zdmcuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICB0aGlzLl9zdmcuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgdGhpcy5fdmlld2VyLmNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLl9zdmcpO1xuXG4gICAgICB0aGlzLl9ub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCAnZycpO1xuICAgICAgdGhpcy5fc3ZnLmFwcGVuZENoaWxkKHRoaXMuX25vZGUpO1xuXG4gICAgICB0aGlzLl92aWV3ZXIuYWRkSGFuZGxlcignYW5pbWF0aW9uJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnJlc2l6ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3ZpZXdlci5hZGRIYW5kbGVyKCdvcGVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnJlc2l6ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3ZpZXdlci5hZGRIYW5kbGVyKCdyb3RhdGUnLCBmdW5jdGlvbiAoZXZ0OiBhbnkpIHtcbiAgICAgICAgc2VsZi5yZXNpemUoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl92aWV3ZXIuYWRkSGFuZGxlcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnJlc2l6ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgfVxuICAgIG5vZGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbm9kZTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tXG4gICAgcmVzaXplKCkge1xuICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lcldpZHRoICE9PSB0aGlzLl92aWV3ZXIuY29udGFpbmVyLmNsaWVudFdpZHRoKSB7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lcldpZHRoID0gdGhpcy5fdmlld2VyLmNvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICAgICAgdGhpcy5fc3ZnLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLl9jb250YWluZXJXaWR0aCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9jb250YWluZXJIZWlnaHQgIT09IHRoaXMuX3ZpZXdlci5jb250YWluZXIuY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lckhlaWdodCA9IHRoaXMuX3ZpZXdlci5jb250YWluZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgICB0aGlzLl9zdmcuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCB0aGlzLl9jb250YWluZXJIZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwID0gdGhpcy5fdmlld2VyLnZpZXdwb3J0LnBpeGVsRnJvbVBvaW50KFxuICAgICAgICBuZXcgT3BlblNlYWRyYWdvbi5Qb2ludCgwLCAwKSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICk7XG4gICAgICBjb25zdCB6b29tID0gdGhpcy5fdmlld2VyLnZpZXdwb3J0LmdldFpvb20odHJ1ZSk7XG4gICAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMuX3ZpZXdlci52aWV3cG9ydC5nZXRSb3RhdGlvbigpO1xuICAgICAgLy8gVE9ETzogRXhwb3NlIGFuIGFjY2Vzc29yIGZvciBfY29udGFpbmVySW5uZXJTaXplIGluIHRoZSBPU0QgQVBJIHNvIHdlIGRvbid0IGhhdmUgdG8gdXNlIHRoZSBwcml2YXRlIHZhcmlhYmxlLlxuICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLl92aWV3ZXIudmlld3BvcnQuX2NvbnRhaW5lcklubmVyU2l6ZS54ICogem9vbTtcbiAgICAgIHRoaXMuX25vZGUuc2V0QXR0cmlidXRlKFxuICAgICAgICAndHJhbnNmb3JtJyxcbiAgICAgICAgJ3RyYW5zbGF0ZSgnICtcbiAgICAgICAgICBwLnggK1xuICAgICAgICAgICcsJyArXG4gICAgICAgICAgcC55ICtcbiAgICAgICAgICAnKSBzY2FsZSgnICtcbiAgICAgICAgICBzY2FsZSArXG4gICAgICAgICAgJykgcm90YXRlKCcgK1xuICAgICAgICAgIHJvdGF0aW9uICtcbiAgICAgICAgICAnKScsXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS1cbiAgICBvbkNsaWNrKG5vZGU6IGFueSwgaGFuZGxlcjogYW55KSB7XG4gICAgICAvLyBUT0RPOiBGYXN0IGNsaWNrIGZvciBtb2JpbGUgYnJvd3NlcnNcblxuICAgICAgbmV3IE9wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyKHtcbiAgICAgICAgZWxlbWVudDogbm9kZSxcbiAgICAgICAgY2xpY2tIYW5kbGVyOiBoYW5kbGVyLFxuICAgICAgfSkuc2V0VHJhY2tpbmcodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gLS0tLS0tLS0tLVxuXG4gIC8vIC0tLS0tLS0tLS1cbiAgT3BlblNlYWRyYWdvbi5WaWV3ZXIucHJvdG90eXBlLnN2Z092ZXJsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3N2Z092ZXJsYXlJbmZvKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3ZnT3ZlcmxheUluZm87XG4gICAgfVxuXG4gICAgdGhpcy5fc3ZnT3ZlcmxheUluZm8gPSBuZXcgT3ZlcmxheSh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5fc3ZnT3ZlcmxheUluZm87XG4gIH07XG59XG4iXX0=","import { Rect } from './rect';\nexport class HighlightRect extends Rect {\n    constructor(fields) {\n        super();\n        this.canvasIndex = 0;\n        if (fields) {\n            this.x = fields.x || this.x;\n            this.y = fields.y || this.y;\n            this.width = fields.width || this.width;\n            this.height = fields.height || this.height;\n            this.centerX = this.x + this.width / 2;\n            this.centerY = this.y + this.height / 2;\n            this.canvasIndex = fields.canvasIndex || this.canvasIndex;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGlnaGxpZ2h0LXJlY3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9tb2RlbHMvaGlnaGxpZ2h0LXJlY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUU5QixNQUFNLE9BQU8sYUFBYyxTQUFRLElBQUk7SUFHckMsWUFBWSxNQU1YO1FBQ0MsS0FBSyxFQUFFLENBQUM7UUFUSCxnQkFBVyxHQUFHLENBQUMsQ0FBQztRQVVyQixJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDNUIsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDeEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDM0MsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztZQUN4QyxJQUFJLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUM1RCxDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVjdCB9IGZyb20gJy4vcmVjdCc7XG5cbmV4cG9ydCBjbGFzcyBIaWdobGlnaHRSZWN0IGV4dGVuZHMgUmVjdCB7XG4gIHB1YmxpYyBjYW52YXNJbmRleCA9IDA7XG5cbiAgY29uc3RydWN0b3IoZmllbGRzPzoge1xuICAgIHg/OiBudW1iZXI7XG4gICAgeT86IG51bWJlcjtcbiAgICB3aWR0aD86IG51bWJlcjtcbiAgICBoZWlnaHQ/OiBudW1iZXI7XG4gICAgY2FudmFzSW5kZXg/OiBudW1iZXI7XG4gIH0pIHtcbiAgICBzdXBlcigpO1xuICAgIGlmIChmaWVsZHMpIHtcbiAgICAgIHRoaXMueCA9IGZpZWxkcy54IHx8IHRoaXMueDtcbiAgICAgIHRoaXMueSA9IGZpZWxkcy55IHx8IHRoaXMueTtcbiAgICAgIHRoaXMud2lkdGggPSBmaWVsZHMud2lkdGggfHwgdGhpcy53aWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gZmllbGRzLmhlaWdodCB8fCB0aGlzLmhlaWdodDtcbiAgICAgIHRoaXMuY2VudGVyWCA9IHRoaXMueCArIHRoaXMud2lkdGggLyAyO1xuICAgICAgdGhpcy5jZW50ZXJZID0gdGhpcy55ICsgdGhpcy5oZWlnaHQgLyAyO1xuICAgICAgdGhpcy5jYW52YXNJbmRleCA9IGZpZWxkcy5jYW52YXNJbmRleCB8fCB0aGlzLmNhbnZhc0luZGV4O1xuICAgIH1cbiAgfVxufVxuIl19","export class Hit {\n    constructor(fields) {\n        this.id = 0;\n        this.index = 0;\n        this.label = '';\n        this.match = '';\n        this.before = '';\n        this.after = '';\n        this.highlightRects = [];\n        if (fields) {\n            this.id = fields.id || this.id;\n            this.index = fields.index || this.index;\n            this.label = fields.label || this.label;\n            this.match = fields.match || this.match;\n            this.before = fields.before || this.before;\n            this.after = fields.after || this.after;\n            this.highlightRects = fields.highlightRects || this.highlightRects;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGl0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvbW9kZWxzL2hpdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLE9BQU8sR0FBRztJQVNkLFlBQVksTUFRWDtRQWhCTSxPQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ1AsVUFBSyxHQUFHLENBQUMsQ0FBQztRQUNWLFVBQUssR0FBRyxFQUFFLENBQUM7UUFDWCxVQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ1gsV0FBTSxHQUFHLEVBQUUsQ0FBQztRQUNaLFVBQUssR0FBRyxFQUFFLENBQUM7UUFDWCxtQkFBYyxHQUFvQixFQUFFLENBQUM7UUFXMUMsSUFBSSxNQUFNLEVBQUUsQ0FBQztZQUNYLElBQUksQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQzNDLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDLGNBQWMsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQ3JFLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIaWdobGlnaHRSZWN0IH0gZnJvbSAnLi9oaWdobGlnaHQtcmVjdCc7XG5cbmV4cG9ydCBjbGFzcyBIaXQge1xuICBwdWJsaWMgaWQgPSAwO1xuICBwdWJsaWMgaW5kZXggPSAwO1xuICBwdWJsaWMgbGFiZWwgPSAnJztcbiAgcHVibGljIG1hdGNoID0gJyc7XG4gIHB1YmxpYyBiZWZvcmUgPSAnJztcbiAgcHVibGljIGFmdGVyID0gJyc7XG4gIHB1YmxpYyBoaWdobGlnaHRSZWN0czogSGlnaGxpZ2h0UmVjdFtdID0gW107XG5cbiAgY29uc3RydWN0b3IoZmllbGRzPzoge1xuICAgIGlkPzogbnVtYmVyO1xuICAgIGluZGV4PzogbnVtYmVyO1xuICAgIGxhYmVsPzogc3RyaW5nO1xuICAgIG1hdGNoPzogc3RyaW5nO1xuICAgIGJlZm9yZT86IHN0cmluZztcbiAgICBhZnRlcj86IHN0cmluZztcbiAgICBoaWdobGlnaHRSZWN0cz86IEhpZ2hsaWdodFJlY3RbXTtcbiAgfSkge1xuICAgIGlmIChmaWVsZHMpIHtcbiAgICAgIHRoaXMuaWQgPSBmaWVsZHMuaWQgfHwgdGhpcy5pZDtcbiAgICAgIHRoaXMuaW5kZXggPSBmaWVsZHMuaW5kZXggfHwgdGhpcy5pbmRleDtcbiAgICAgIHRoaXMubGFiZWwgPSBmaWVsZHMubGFiZWwgfHwgdGhpcy5sYWJlbDtcbiAgICAgIHRoaXMubWF0Y2ggPSBmaWVsZHMubWF0Y2ggfHwgdGhpcy5tYXRjaDtcbiAgICAgIHRoaXMuYmVmb3JlID0gZmllbGRzLmJlZm9yZSB8fCB0aGlzLmJlZm9yZTtcbiAgICAgIHRoaXMuYWZ0ZXIgPSBmaWVsZHMuYWZ0ZXIgfHwgdGhpcy5hZnRlcjtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0UmVjdHMgPSBmaWVsZHMuaGlnaGxpZ2h0UmVjdHMgfHwgdGhpcy5oaWdobGlnaHRSZWN0cztcbiAgICB9XG4gIH1cbn1cbiJdfQ==","import { Hit } from './hit';\nexport class SearchResult {\n    constructor(fields) {\n        this.q = '';\n        this.hits = [];\n        if (fields) {\n            this.q = fields.q || this.q;\n            this.hits = fields.hits || this.hits;\n        }\n    }\n    add(hit) {\n        this.hits.push(hit);\n    }\n    get(index) {\n        return new Hit({\n            ...this.hits[index],\n        });\n    }\n    size() {\n        return this.hits.length;\n    }\n    last() {\n        return this.get(this.size() - 1);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLXJlc3VsdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL21vZGVscy9zZWFyY2gtcmVzdWx0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFFNUIsTUFBTSxPQUFPLFlBQVk7SUFJdkIsWUFBWSxNQUFxQztRQUgxQyxNQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ1AsU0FBSSxHQUFVLEVBQUUsQ0FBQztRQUd0QixJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDNUIsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDdkMsQ0FBQztJQUNILENBQUM7SUFFTSxHQUFHLENBQUMsR0FBUTtRQUNqQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBRU0sR0FBRyxDQUFDLEtBQWE7UUFDdEIsT0FBTyxJQUFJLEdBQUcsQ0FBQztZQUNiLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7U0FDcEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVNLElBQUk7UUFDVCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzFCLENBQUM7SUFFTSxJQUFJO1FBQ1QsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNuQyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIaXQgfSBmcm9tICcuL2hpdCc7XG5cbmV4cG9ydCBjbGFzcyBTZWFyY2hSZXN1bHQge1xuICBwdWJsaWMgcSA9ICcnO1xuICBwdWJsaWMgaGl0czogSGl0W10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihmaWVsZHM/OiB7IHE/OiBzdHJpbmc7IGhpdHM/OiBIaXRbXSB9KSB7XG4gICAgaWYgKGZpZWxkcykge1xuICAgICAgdGhpcy5xID0gZmllbGRzLnEgfHwgdGhpcy5xO1xuICAgICAgdGhpcy5oaXRzID0gZmllbGRzLmhpdHMgfHwgdGhpcy5oaXRzO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhZGQoaGl0OiBIaXQpOiB2b2lkIHtcbiAgICB0aGlzLmhpdHMucHVzaChoaXQpO1xuICB9XG5cbiAgcHVibGljIGdldChpbmRleDogbnVtYmVyKTogSGl0IHtcbiAgICByZXR1cm4gbmV3IEhpdCh7XG4gICAgICAuLi50aGlzLmhpdHNbaW5kZXhdLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5oaXRzLmxlbmd0aDtcbiAgfVxuXG4gIHB1YmxpYyBsYXN0KCk6IEhpdCB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuc2l6ZSgpIC0gMSk7XG4gIH1cbn1cbiJdfQ==","import { HighlightRect } from '../../models/highlight-rect';\nimport { Utils } from '../../utils';\nimport { Hit } from './../../models/hit';\nimport { SearchResult } from './../../models/search-result';\nexport class SearchResultBuilder {\n    constructor(q, manifest, iiifSearchResult, config) {\n        this.q = q;\n        this.manifest = manifest;\n        this.iiifSearchResult = iiifSearchResult;\n        this.config = config;\n    }\n    build() {\n        const searchResult = new SearchResult();\n        searchResult.q = this.q;\n        if (this.iiifSearchResult && this.iiifSearchResult.hits) {\n            this.iiifSearchResult.hits.forEach((hit, index) => {\n                const id = index;\n                let startCanvasIndex = -1;\n                let label;\n                const highlightRects = [];\n                if (this.manifest.sequences && this.manifest.sequences[0].canvases) {\n                    const resources = this.findResources(hit);\n                    resources.forEach((resource, index) => {\n                        if (index === 0) {\n                            startCanvasIndex = this.findSequenceIndex(resource);\n                            label = this.findLabel(startCanvasIndex);\n                        }\n                        const canvasIndex = this.findSequenceIndex(resource);\n                        const on = resource.on;\n                        if (on) {\n                            const scale = this.getScale(canvasIndex);\n                            const coords = on.substring(on.indexOf('=') + 1).split(',');\n                            const rect = new HighlightRect({\n                                x: this.scaleValue(coords[0], scale),\n                                y: this.scaleValue(coords[1], scale),\n                                width: this.scaleValue(coords[2], scale),\n                                height: this.scaleValue(coords[3], scale),\n                                canvasIndex,\n                            });\n                            highlightRects.push(rect);\n                        }\n                    });\n                }\n                searchResult.add(new Hit({\n                    id: id,\n                    index: startCanvasIndex,\n                    label: label,\n                    match: hit.match,\n                    before: hit.before,\n                    after: hit.after,\n                    highlightRects,\n                }));\n            });\n        }\n        return searchResult;\n    }\n    findResources(hit) {\n        const resources = [];\n        if (hit.annotations) {\n            for (const annotation of hit.annotations) {\n                if (this.iiifSearchResult.resources) {\n                    const res = this.iiifSearchResult.resources.find((r) => r['@id'] === annotation);\n                    if (res) {\n                        resources.push(res);\n                    }\n                }\n            }\n        }\n        return resources;\n    }\n    findSequenceIndex(resource) {\n        if (!this.manifest.sequences) {\n            throw new Error('No sequences found!');\n        }\n        const firstSequence = this.getFirstSequence();\n        const on = resource.on;\n        if (on && firstSequence && firstSequence.canvases) {\n            const id = on.substring(0, on.indexOf('#'));\n            return firstSequence.canvases.findIndex((c) => c.id === id);\n        }\n        return -1;\n    }\n    findLabel(index) {\n        if (index === -1) {\n            return undefined;\n        }\n        else {\n            const canvas = this.getFirstSequenceCanvas(index);\n            return canvas ? canvas.label : undefined;\n        }\n    }\n    getFirstSequence() {\n        const sequences = this.manifest.sequences;\n        return sequences ? sequences[0] : undefined;\n    }\n    getFirstSequenceCanvas(index) {\n        const firstSequence = this.getFirstSequence();\n        return firstSequence && firstSequence.canvases !== undefined\n            ? firstSequence.canvases[index]\n            : undefined;\n    }\n    getScale(index) {\n        const physicalScale = this.getPhysicalScale(index);\n        return Utils.getScaleFactor(physicalScale, this.config?.ignorePhysicalScale);\n    }\n    getPhysicalScale(index) {\n        const canvas = this.getFirstSequenceCanvas(index);\n        return canvas?.images?.[0].resource?.service?.service?.physicalScale;\n    }\n    scaleValue(value, scale) {\n        return Math.trunc(parseInt(value, 10) * scale);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLXJlc3VsdC5idWlsZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvYnVpbGRlcnMvaWlpZi9zZWFyY2gtcmVzdWx0LmJ1aWxkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQzVELE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDcEMsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBT3pDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUU1RCxNQUFNLE9BQU8sbUJBQW1CO0lBQzlCLFlBQ1UsQ0FBUyxFQUNULFFBQWtCLEVBQ2xCLGdCQUFrQyxFQUNsQyxNQUF3QjtRQUh4QixNQUFDLEdBQUQsQ0FBQyxDQUFRO1FBQ1QsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUNsQixxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO1FBQ2xDLFdBQU0sR0FBTixNQUFNLENBQWtCO0lBQy9CLENBQUM7SUFFRyxLQUFLO1FBQ1YsTUFBTSxZQUFZLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUN4QyxZQUFZLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDeEIsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3hELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBWSxFQUFFLEtBQWEsRUFBRSxFQUFFO2dCQUNqRSxNQUFNLEVBQUUsR0FBVyxLQUFLLENBQUM7Z0JBQ3pCLElBQUksZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLElBQUksS0FBSyxDQUFDO2dCQUNW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LFFBQVEsQ0FBQyxTQUFTLENBQUM7UUFDMUMsT0FBTyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQzlDLENBQUM7SUFFTyxzQkFBc0IsQ0FBQyxLQUFhO1FBQzFDLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQzlDLE9BQU8sYUFBYSxJQUFJLGFBQWEsQ0FBQyxRQUFRLEtBQUssU0FBUztZQUMxRCxDQUFDLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7WUFDL0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQztJQUNoQixDQUFDO0lBRU8sUUFBUSxDQUFDLEtBQWE7UUFDNUIsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25ELE9BQU8sS0FBSyxDQUFDLGNBQWMsQ0FDekIsYUFBYSxFQUNiLElBQUksQ0FBQyxNQUFNLEVBQUUsbUJBQW1CLENBQ2pDLENBQUM7SUFDSixDQUFDO0lBRU8sZ0JBQWdCLENBQUMsS0FBYTtRQUNwQyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsc0JBQXNCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEQsT0FBTyxNQUFNLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsYUFBYSxDQUFDO0lBQ3ZFLENBQUM7SUFFTyxVQUFVLENBQUMsS0FBYSxFQUFFLEtBQWE7UUFDN0MsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDakQsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWltZVZpZXdlckNvbmZpZyB9IGZyb20gJy4uLy4uL21pbWUtdmlld2VyLWNvbmZpZyc7XG5pbXBvcnQgeyBIaWdobGlnaHRSZWN0IH0gZnJvbSAnLi4vLi4vbW9kZWxzL2hpZ2hsaWdodC1yZWN0JztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgSGl0IH0gZnJvbSAnLi8uLi8uLi9tb2RlbHMvaGl0JztcbmltcG9ydCB7XG4gIEhpdCBhcyBJaWlmSGl0LFxuICBJaWlmU2VhcmNoUmVzdWx0LFxuICBSZXNvdXJjZSBhcyBJaWlmUmVzb3VyY2UsXG59IGZyb20gJy4vLi4vLi4vbW9kZWxzL2lpaWYtc2VhcmNoLXJlc3VsdCc7XG5pbXBvcnQgeyBDYW52YXMsIE1hbmlmZXN0LCBTZXF1ZW5jZSB9IGZyb20gJy4vLi4vLi4vbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IFNlYXJjaFJlc3VsdCB9IGZyb20gJy4vLi4vLi4vbW9kZWxzL3NlYXJjaC1yZXN1bHQnO1xuXG5leHBvcnQgY2xhc3MgU2VhcmNoUmVzdWx0QnVpbGRlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcTogc3RyaW5nLFxuICAgIHByaXZhdGUgbWFuaWZlc3Q6IE1hbmlmZXN0LFxuICAgIHByaXZhdGUgaWlpZlNlYXJjaFJlc3VsdDogSWlpZlNlYXJjaFJlc3VsdCxcbiAgICBwcml2YXRlIGNvbmZpZzogTWltZVZpZXdlckNvbmZpZyxcbiAgKSB7fVxuXG4gIHB1YmxpYyBidWlsZCgpOiBTZWFyY2hSZXN1bHQge1xuICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IG5ldyBTZWFyY2hSZXN1bHQoKTtcbiAgICBzZWFyY2hSZXN1bHQucSA9IHRoaXMucTtcbiAgICBpZiAodGhpcy5paWlmU2VhcmNoUmVzdWx0ICYmIHRoaXMuaWlpZlNlYXJjaFJlc3VsdC5oaXRzKSB7XG4gICAgICB0aGlzLmlpaWZTZWFyY2hSZXN1bHQuaGl0cy5mb3JFYWNoKChoaXQ6IElpaWZIaXQsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgaWQ6IG51bWJlciA9IGluZGV4O1xuICAgICAgICBsZXQgc3RhcnRDYW52YXNJbmRleCA9IC0xO1xuICAgICAgICBsZXQgbGFiZWw7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodFJlY3RzOiBIaWdobGlnaHRSZWN0W10gPSBbXTtcbiAgICAgICAgaWYgKHRoaXMubWFuaWZlc3Quc2VxdWVuY2VzICYmIHRoaXMubWFuaWZlc3Quc2VxdWVuY2VzWzBdLmNhbnZhc2VzKSB7XG4gICAgICAgICAgY29uc3QgcmVzb3VyY2VzID0gdGhpcy5maW5kUmVzb3VyY2VzKGhpdCk7XG4gICAgICAgICAgcmVzb3VyY2VzLmZvckVhY2goKHJlc291cmNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgIHN0YXJ0Q2FudmFzSW5kZXggPSB0aGlzLmZpbmRTZXF1ZW5jZUluZGV4KHJlc291cmNlKTtcbiAgICAgICAgICAgICAgbGFiZWwgPSB0aGlzLmZpbmRMYWJlbChzdGFydENhbnZhc0luZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhbnZhc0luZGV4ID0gdGhpcy5maW5kU2VxdWVuY2VJbmRleChyZXNvdXJjZSk7XG4gICAgICAgICAgICBjb25zdCBvbiA9IHJlc291cmNlLm9uO1xuICAgICAgICAgICAgaWYgKG9uKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5nZXRTY2FsZShjYW52YXNJbmRleCk7XG4gICAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IG9uLnN1YnN0cmluZyhvbi5pbmRleE9mKCc9JykgKyAxKS5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICBjb25zdCByZWN0ID0gbmV3IEhpZ2hsaWdodFJlY3Qoe1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuc2NhbGVWYWx1ZShjb29yZHNbMF0sIHNjYWxlKSxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnNjYWxlVmFsdWUoY29vcmRzWzFdLCBzY2FsZSksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuc2NhbGVWYWx1ZShjb29yZHNbMl0sIHNjYWxlKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuc2NhbGVWYWx1ZShjb29yZHNbM10sIHNjYWxlKSxcbiAgICAgICAgICAgICAgICBjYW52YXNJbmRleCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGhpZ2hsaWdodFJlY3RzLnB1c2gocmVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWFyY2hSZXN1bHQuYWRkKFxuICAgICAgICAgIG5ldyBIaXQoe1xuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgaW5kZXg6IHN0YXJ0Q2FudmFzSW5kZXgsXG4gICAgICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgICAgICBtYXRjaDogaGl0Lm1hdGNoLFxuICAgICAgICAgICAgYmVmb3JlOiBoaXQuYmVmb3JlLFxuICAgICAgICAgICAgYWZ0ZXI6IGhpdC5hZnRlcixcbiAgICAgICAgICAgIGhpZ2hsaWdodFJlY3RzLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZWFyY2hSZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIGZpbmRSZXNvdXJjZXMoaGl0OiBJaWlmSGl0KTogSWlpZlJlc291cmNlW10ge1xuICAgIGNvbnN0IHJlc291cmNlczogSWlpZlJlc291cmNlW10gPSBbXTtcbiAgICBpZiAoaGl0LmFubm90YXRpb25zKSB7XG4gICAgICBmb3IgKGNvbnN0IGFubm90YXRpb24gb2YgaGl0LmFubm90YXRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLmlpaWZTZWFyY2hSZXN1bHQucmVzb3VyY2VzKSB7XG4gICAgICAgICAgY29uc3QgcmVzID0gdGhpcy5paWlmU2VhcmNoUmVzdWx0LnJlc291cmNlcy5maW5kKFxuICAgICAgICAgICAgKHI6IElpaWZSZXNvdXJjZSkgPT4gclsnQGlkJ10gPT09IGFubm90YXRpb24sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICByZXNvdXJjZXMucHVzaChyZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzb3VyY2VzO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kU2VxdWVuY2VJbmRleChyZXNvdXJjZTogSWlpZlJlc291cmNlKTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMubWFuaWZlc3Quc2VxdWVuY2VzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNlcXVlbmNlcyBmb3VuZCEnKTtcbiAgICB9XG4gICAgY29uc3QgZmlyc3RTZXF1ZW5jZSA9IHRoaXMuZ2V0Rmlyc3RTZXF1ZW5jZSgpO1xuICAgIGNvbnN0IG9uID0gcmVzb3VyY2Uub247XG4gICAgaWYgKG9uICYmIGZpcnN0U2VxdWVuY2UgJiYgZmlyc3RTZXF1ZW5jZS5jYW52YXNlcykge1xuICAgICAgY29uc3QgaWQgPSBvbi5zdWJzdHJpbmcoMCwgb24uaW5kZXhPZignIycpKTtcbiAgICAgIHJldHVybiBmaXJzdFNlcXVlbmNlLmNhbnZhc2VzLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gaWQpO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBwcml2YXRlIGZpbmRMYWJlbChpbmRleDogbnVtYmVyKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmdldEZpcnN0U2VxdWVuY2VDYW52YXMoaW5kZXgpO1xuICAgICAgcmV0dXJuIGNhbnZhcyA/IGNhbnZhcy5sYWJlbCA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldEZpcnN0U2VxdWVuY2UoKTogU2VxdWVuY2UgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHNlcXVlbmNlcyA9IHRoaXMubWFuaWZlc3Quc2VxdWVuY2VzO1xuICAgIHJldHVybiBzZXF1ZW5jZXMgPyBzZXF1ZW5jZXNbMF0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBwcml2YXRlIGdldEZpcnN0U2VxdWVuY2VDYW52YXMoaW5kZXg6IG51bWJlcik6IENhbnZhcyB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgZmlyc3RTZXF1ZW5jZSA9IHRoaXMuZ2V0Rmlyc3RTZXF1ZW5jZSgpO1xuICAgIHJldHVybiBmaXJzdFNlcXVlbmNlICYmIGZpcnN0U2VxdWVuY2UuY2FudmFzZXMgIT09IHVuZGVmaW5lZFxuICAgICAgPyBmaXJzdFNlcXVlbmNlLmNhbnZhc2VzW2luZGV4XVxuICAgICAgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBwcml2YXRlIGdldFNjYWxlKGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IHBoeXNpY2FsU2NhbGUgPSB0aGlzLmdldFBoeXNpY2FsU2NhbGUoaW5kZXgpO1xuICAgIHJldHVybiBVdGlscy5nZXRTY2FsZUZhY3RvcihcbiAgICAgIHBoeXNpY2FsU2NhbGUsXG4gICAgICB0aGlzLmNvbmZpZz8uaWdub3JlUGh5c2ljYWxTY2FsZSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQaHlzaWNhbFNjYWxlKGluZGV4OiBudW1iZXIpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZ2V0Rmlyc3RTZXF1ZW5jZUNhbnZhcyhpbmRleCk7XG4gICAgcmV0dXJuIGNhbnZhcz8uaW1hZ2VzPy5bMF0ucmVzb3VyY2U/LnNlcnZpY2U/LnNlcnZpY2U/LnBoeXNpY2FsU2NhbGU7XG4gIH1cblxuICBwcml2YXRlIHNjYWxlVmFsdWUodmFsdWU6IHN0cmluZywgc2NhbGU6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGgudHJ1bmMocGFyc2VJbnQodmFsdWUsIDEwKSAqIHNjYWxlKTtcbiAgfVxufVxuIl19","import { HttpClient } from '@angular/common/http';\nimport { inject, Injectable } from '@angular/core';\nimport { BehaviorSubject, of, throwError } from 'rxjs';\nimport { distinctUntilChanged, finalize, switchMap, take, } from 'rxjs/operators';\nimport { SearchResultBuilder } from '../builders/iiif/search-result.builder';\nimport { SearchResult } from './../models/search-result';\nimport * as i0 from \"@angular/core\";\nexport class IiifContentSearchService {\n    constructor() {\n        this._currentSearchResult = new BehaviorSubject(new SearchResult({}));\n        this._searching = new BehaviorSubject(false);\n        this._currentQ = new BehaviorSubject('');\n        this._selected = new BehaviorSubject(null);\n        this.http = inject(HttpClient);\n    }\n    get onQChange() {\n        return this._currentQ.asObservable().pipe(distinctUntilChanged());\n    }\n    get onChange() {\n        return this._currentSearchResult.asObservable();\n    }\n    get isSearching() {\n        return this._searching.asObservable();\n    }\n    get onSelected() {\n        return this._selected.asObservable();\n    }\n    destroy() {\n        this._currentSearchResult.next(new SearchResult({}));\n        this._searching.next(false);\n        this._currentQ.next('');\n        this._selected.next(null);\n    }\n    search(manifest, q) {\n        this._currentQ.next(q);\n        this._selected.next(null);\n        if (q.length === 0) {\n            this._currentSearchResult.next(new SearchResult());\n            return;\n        }\n        if (!manifest.service || manifest.service === null) {\n            return;\n        }\n        this._searching.next(true);\n        this.http\n            .get(`${manifest.service.id}?q=${q}`)\n            .pipe(finalize(() => this._searching.next(false)), take(1), switchMap((res) => {\n            return of(this.extractData(q, manifest, res));\n        }))\n            .subscribe((res) => this._currentSearchResult.next(res), (err) => this.handleError);\n    }\n    selected(hit) {\n        this._selected.next(hit);\n    }\n    setConfig(config) {\n        this.config = config;\n    }\n    extractData(q, manifest, iiifSearchResult) {\n        return new SearchResultBuilder(q, manifest, iiifSearchResult, this.config).build();\n    }\n    handleError(err) {\n        let errMsg;\n        if (err.error instanceof Error) {\n            errMsg = err.error.message;\n        }\n        else {\n            errMsg = err.error;\n        }\n        return throwError(errMsg);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: IiifContentSearchService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: IiifContentSearchService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: IiifContentSearchService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWlpZi1jb250ZW50LXNlYXJjaC5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvaWlpZi1jb250ZW50LXNlYXJjaC1zZXJ2aWNlL2lpaWYtY29udGVudC1zZWFyY2guc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFxQixNQUFNLHNCQUFzQixDQUFDO0FBQ3JFLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxlQUFlLEVBQWMsRUFBRSxFQUFXLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUM1RSxPQUFPLEVBQ0wsb0JBQW9CLEVBQ3BCLFFBQVEsRUFDUixTQUFTLEVBQ1QsSUFBSSxHQUNMLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEIsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sd0NBQXdDLENBQUM7QUFLN0UsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDJCQUEyQixDQUFDOztBQUd6RCxNQUFNLE9BQU8sd0JBQXdCO0lBRHJDO1FBRVkseUJBQW9CLEdBQzVCLElBQUksZUFBZSxDQUFlLElBQUksWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDaEQsZUFBVSxHQUFHLElBQUksZUFBZSxDQUFVLEtBQUssQ0FBQyxDQUFDO1FBQ2pELGNBQVMsR0FBRyxJQUFJLGVBQWUsQ0FBUyxFQUFFLENBQUMsQ0FBQztRQUM1QyxjQUFTLEdBQUcsSUFBSSxlQUFlLENBQWEsSUFBSSxDQUFDLENBQUM7UUFDM0MsU0FBSSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztLQW1GNUM7SUFoRkMsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFB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LENBQUMsT0FBTyxDQUFDO1FBQzdCLENBQUM7YUFBTSxDQUFDO1lBQ04sTUFBTSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDckIsQ0FBQztRQUNELE9BQU8sVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzVCLENBQUM7OEdBeEZVLHdCQUF3QjtrSEFBeEIsd0JBQXdCOzsyRkFBeEIsd0JBQXdCO2tCQURwQyxVQUFVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cEVycm9yUmVzcG9uc2UgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBpbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSwgb2YsIFN1YmplY3QsIHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7XG4gIGRpc3RpbmN0VW50aWxDaGFuZ2VkLFxuICBmaW5hbGl6ZSxcbiAgc3dpdGNoTWFwLFxuICB0YWtlLFxufSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBTZWFyY2hSZXN1bHRCdWlsZGVyIH0gZnJvbSAnLi4vYnVpbGRlcnMvaWlpZi9zZWFyY2gtcmVzdWx0LmJ1aWxkZXInO1xuaW1wb3J0IHsgTWltZVZpZXdlckNvbmZpZyB9IGZyb20gJy4uL21pbWUtdmlld2VyLWNvbmZpZyc7XG5pbXBvcnQgeyBIaXQgfSBmcm9tICcuLy4uL21vZGVscy9oaXQnO1xuaW1wb3J0IHsgSWlpZlNlYXJjaFJlc3VsdCB9IGZyb20gJy4vLi4vbW9kZWxzL2lpaWYtc2VhcmNoLXJlc3VsdCc7XG5pbXBvcnQgeyBNYW5pZmVzdCB9IGZyb20gJy4vLi4vbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IFNlYXJjaFJlc3VsdCB9IGZyb20gJy4vLi4vbW9kZWxzL3NlYXJjaC1yZXN1bHQnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlIHtcbiAgcHJvdGVjdGVkIF9jdXJyZW50U2VhcmNoUmVzdWx0OiBTdWJqZWN0PFNlYXJjaFJlc3VsdD4gPVxuICAgIG5ldyBCZWhhdmlvclN1YmplY3Q8U2VhcmNoUmVzdWx0PihuZXcgU2VhcmNoUmVzdWx0KHt9KSk7XG4gIHByb3RlY3RlZCBfc2VhcmNoaW5nID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSk7XG4gIHByb3RlY3RlZCBfY3VycmVudFEgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZz4oJycpO1xuICBwcm90ZWN0ZWQgX3NlbGVjdGVkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxIaXQgfCBudWxsPihudWxsKTtcbiAgcHJpdmF0ZSByZWFkb25seSBodHRwID0gaW5qZWN0KEh0dHBDbGllbnQpO1xuICBwcml2YXRlIGNvbmZpZyE6IE1pbWVWaWV3ZXJDb25maWc7XG5cbiAgZ2V0IG9uUUNoYW5nZSgpOiBPYnNlcnZhYmxlPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50US5hc09ic2VydmFibGUoKS5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgZ2V0IG9uQ2hhbmdlKCk6IE9ic2VydmFibGU8U2VhcmNoUmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRTZWFyY2hSZXN1bHQuYXNPYnNlcnZhYmxlKCk7XG4gIH1cblxuICBnZXQgaXNTZWFyY2hpbmcoKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuX3NlYXJjaGluZy5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIGdldCBvblNlbGVjdGVkKCk6IE9ic2VydmFibGU8SGl0IHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZC5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fY3VycmVudFNlYXJjaFJlc3VsdC5uZXh0KG5ldyBTZWFyY2hSZXN1bHQoe30pKTtcbiAgICB0aGlzLl9zZWFyY2hpbmcubmV4dChmYWxzZSk7XG4gICAgdGhpcy5fY3VycmVudFEubmV4dCgnJyk7XG4gICAgdGhpcy5fc2VsZWN0ZWQubmV4dChudWxsKTtcbiAgfVxuXG4gIHB1YmxpYyBzZWFyY2gobWFuaWZlc3Q6IE1hbmlmZXN0LCBxOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9jdXJyZW50US5uZXh0KHEpO1xuICAgIHRoaXMuX3NlbGVjdGVkLm5leHQobnVsbCk7XG5cbiAgICBpZiAocS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRTZWFyY2hSZXN1bHQubmV4dChuZXcgU2VhcmNoUmVzdWx0KCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW1hbmlmZXN0LnNlcnZpY2UgfHwgbWFuaWZlc3Quc2VydmljZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9zZWFyY2hpbmcubmV4dCh0cnVlKTtcbiAgICB0aGlzLmh0dHBcbiAgICAgIC5nZXQoYCR7bWFuaWZlc3Quc2VydmljZS5pZH0/cT0ke3F9YClcbiAgICAgIC5waXBlKFxuICAgICAgICBmaW5hbGl6ZSgoKSA9PiB0aGlzLl9zZWFyY2hpbmcubmV4dChmYWxzZSkpLFxuICAgICAgICB0YWtlKDEpLFxuICAgICAgICBzd2l0Y2hNYXAoKHJlczogSWlpZlNlYXJjaFJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJldHVybiBvZih0aGlzLmV4dHJhY3REYXRhKHEsIG1hbmlmZXN0LCByZXMpKTtcbiAgICAgICAgfSksXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAocmVzOiBTZWFyY2hSZXN1bHQpID0+IHRoaXMuX2N1cnJlbnRTZWFyY2hSZXN1bHQubmV4dChyZXMpLFxuICAgICAgICAoZXJyOiBIdHRwRXJyb3JSZXNwb25zZSkgPT4gdGhpcy5oYW5kbGVFcnJvcixcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgc2VsZWN0ZWQoaGl0OiBIaXQpIHtcbiAgICB0aGlzLl9zZWxlY3RlZC5uZXh0KGhpdCk7XG4gIH1cblxuICBwdWJsaWMgc2V0Q29uZmlnKGNvbmZpZzogTWltZVZpZXdlckNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgcHJpdmF0ZSBleHRyYWN0RGF0YShcbiAgICBxOiBzdHJpbmcsXG4gICAgbWFuaWZlc3Q6IE1hbmlmZXN0LFxuICAgIGlpaWZTZWFyY2hSZXN1bHQ6IElpaWZTZWFyY2hSZXN1bHQsXG4gICk6IFNlYXJjaFJlc3VsdCB7XG4gICAgcmV0dXJuIG5ldyBTZWFyY2hSZXN1bHRCdWlsZGVyKFxuICAgICAgcSxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgaWlpZlNlYXJjaFJlc3VsdCxcbiAgICAgIHRoaXMuY29uZmlnLFxuICAgICkuYnVpbGQoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyOiBIdHRwRXJyb3JSZXNwb25zZSB8IGFueSkge1xuICAgIGxldCBlcnJNc2c6IHN0cmluZztcbiAgICBpZiAoZXJyLmVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGVyck1zZyA9IGVyci5lcnJvci5tZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlcnJNc2cgPSBlcnIuZXJyb3I7XG4gICAgfVxuICAgIHJldHVybiB0aHJvd0Vycm9yKGVyck1zZyk7XG4gIH1cbn1cbiJdfQ==","export class ManifestUtils {\n    static isManifestPaged(manifest) {\n        return (ManifestUtils.isManifestViewingHintPaged(manifest) ||\n            ManifestUtils.isSequenceViewingHintPaged(manifest));\n    }\n    static isManifestViewingHintPaged(manifest) {\n        return manifest && manifest.viewingHint === 'paged';\n    }\n    static isSequenceViewingHintPaged(manifest) {\n        let firstSequence = null;\n        if (manifest && manifest.sequences && manifest.sequences.length > 0) {\n            firstSequence = manifest.sequences[0];\n        }\n        return firstSequence ? firstSequence.viewingHint === 'paged' : false;\n    }\n    static hasRecognizedTextContent(manifest) {\n        if (manifest.sequences && manifest.sequences.length > 0) {\n            const firstSequence = manifest.sequences[0];\n            if (firstSequence.canvases && firstSequence.canvases.length > 0) {\n                return firstSequence.canvases.find((c) => c.altoUrl) !== undefined;\n            }\n        }\n        return false;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWlpZi1tYW5pZmVzdC11dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2lpaWYtbWFuaWZlc3Qtc2VydmljZS9paWlmLW1hbmlmZXN0LXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxhQUFhO0lBQ3hCLE1BQU0sQ0FBQyxlQUFlLENBQUMsUUFBa0I7UUFDdkMsT0FBTyxDQUNMLGFBQWEsQ0FBQywwQkFBMEIsQ0FBQyxRQUFRLENBQUM7WUFDbEQsYUFBYSxDQUFDLDBCQUEwQixDQUFDLFFBQVEsQ0FBQyxDQUNuRCxDQUFDO0lBQ0osQ0FBQztJQUVELE1BQU0sQ0FBQywwQkFBMEIsQ0FBQyxRQUFrQjtRQUNsRCxPQUFPLFFBQVEsSUFBSSxRQUFRLENBQUMsV0FBVyxLQUFLLE9BQU8sQ0FBQztJQUN0RCxDQUFDO0lBRUQsTUFBTSxDQUFDLDBCQUEwQixDQUFDLFFBQWtCO1FBQ2xELElBQUksYUFBYSxHQUFvQixJQUFJLENBQUM7UUFDMUMsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLFNBQVMsSUFBSSxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUNwRSxhQUFhLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QyxDQUFDO1FBQ0QsT0FBTyxhQUFhLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxXQUFXLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDdkUsQ0FBQztJQUVELE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxRQUFrQjtRQUNoRCxJQUFJLFFBQVEsQ0FBQyxTQUFTLElBQUksUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDeEQsTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QyxJQUFJLGFBQWEsQ0FBQyxRQUFRLElBQUksYUFBYSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ2hFLE9BQU8sYUFBYSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxTQUFTLENBQUM7WUFDMUUsQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hbmlmZXN0LCBTZXF1ZW5jZSB9IGZyb20gJy4uL21vZGVscy9tYW5pZmVzdCc7XG5cbmV4cG9ydCBjbGFzcyBNYW5pZmVzdFV0aWxzIHtcbiAgc3RhdGljIGlzTWFuaWZlc3RQYWdlZChtYW5pZmVzdDogTWFuaWZlc3QpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgTWFuaWZlc3RVdGlscy5pc01hbmlmZXN0Vmlld2luZ0hpbnRQYWdlZChtYW5pZmVzdCkgfHxcbiAgICAgIE1hbmlmZXN0VXRpbHMuaXNTZXF1ZW5jZVZpZXdpbmdIaW50UGFnZWQobWFuaWZlc3QpXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBpc01hbmlmZXN0Vmlld2luZ0hpbnRQYWdlZChtYW5pZmVzdDogTWFuaWZlc3QpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbWFuaWZlc3QgJiYgbWFuaWZlc3Qudmlld2luZ0hpbnQgPT09ICdwYWdlZCc7XG4gIH1cblxuICBzdGF0aWMgaXNTZXF1ZW5jZVZpZXdpbmdIaW50UGFnZWQobWFuaWZlc3Q6IE1hbmlmZXN0KTogYm9vbGVhbiB7XG4gICAgbGV0IGZpcnN0U2VxdWVuY2U6IFNlcXVlbmNlIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKG1hbmlmZXN0ICYmIG1hbmlmZXN0LnNlcXVlbmNlcyAmJiBtYW5pZmVzdC5zZXF1ZW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgZmlyc3RTZXF1ZW5jZSA9IG1hbmlmZXN0LnNlcXVlbmNlc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZpcnN0U2VxdWVuY2UgPyBmaXJzdFNlcXVlbmNlLnZpZXdpbmdIaW50ID09PSAncGFnZWQnIDogZmFsc2U7XG4gIH1cblxuICBzdGF0aWMgaGFzUmVjb2duaXplZFRleHRDb250ZW50KG1hbmlmZXN0OiBNYW5pZmVzdCk6IGJvb2xlYW4ge1xuICAgIGlmIChtYW5pZmVzdC5zZXF1ZW5jZXMgJiYgbWFuaWZlc3Quc2VxdWVuY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZpcnN0U2VxdWVuY2UgPSBtYW5pZmVzdC5zZXF1ZW5jZXNbMF07XG4gICAgICBpZiAoZmlyc3RTZXF1ZW5jZS5jYW52YXNlcyAmJiBmaXJzdFNlcXVlbmNlLmNhbnZhc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGZpcnN0U2VxdWVuY2UuY2FudmFzZXMuZmluZCgoYzogYW55KSA9PiBjLmFsdG9VcmwpICE9PSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIl19","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { ModeChanges, ViewerMode } from '../models';\nimport * as i0 from \"@angular/core\";\nexport class ModeService {\n    constructor() {\n        this.modeChanges = new ModeChanges();\n        this.toggleModeSubject = new BehaviorSubject(new ModeChanges());\n    }\n    get onChange() {\n        return this.toggleModeSubject.asObservable().pipe(distinctUntilChanged());\n    }\n    get mode() {\n        return this._mode;\n    }\n    set mode(mode) {\n        this._mode = mode;\n        this.change();\n    }\n    initialize() {\n        this.mode = this.config?.initViewerMode;\n    }\n    destroy() {\n        this.mode = this.config?.initViewerMode;\n    }\n    setConfig(config) {\n        this.config = config;\n    }\n    toggleMode() {\n        if (this.mode === ViewerMode.DASHBOARD) {\n            this.mode = ViewerMode.PAGE;\n        }\n        else if (this.mode === ViewerMode.PAGE ||\n            this.mode === ViewerMode.PAGE_ZOOMED) {\n            this.mode = ViewerMode.DASHBOARD;\n        }\n    }\n    isPageZoomed() {\n        return this.mode === ViewerMode.PAGE_ZOOMED;\n    }\n    change() {\n        this.modeChanges.previousValue = this.modeChanges.currentValue;\n        this.modeChanges.currentValue = this._mode;\n        this.toggleModeSubject.next({\n            ...this.modeChanges,\n        });\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ModeService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ModeService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ModeService, decorators: [{\n            type: Injectable\n        }], ctorParameters: () => [] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZS5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvbW9kZS1zZXJ2aWNlL21vZGUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxlQUFlLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDbkQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFdEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsTUFBTSxXQUFXLENBQUM7O0FBR3BELE1BQU0sT0FBTyxXQUFXO0lBTXRCO1FBRmlCLGdCQUFXLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQztRQUcvQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxlQUFlLENBQUMsSUFBSSxXQUFXLEVBQUUsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDVixPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxDQUFDO0lBQzVFLENBQUM7SUFFRCxJQUFJLElBQUk7UUFDTixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQUVELElBQUksSUFBSSxDQUFDLElBQWdCO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBRUQsVUFBVTtRQUNSLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxjQUFjLENBQUM7SUFDMUMsQ0FBQztJQUVELE9BQU87UUFDTCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsY0FBYyxDQUFDO0lBQzFDLENBQUM7SUFFRCxTQUFTLENBQUMsTUFBd0I7UUFDaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDdkIsQ0FBQztJQUVELFVBQVU7UUFDUixJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQztRQUM5QixDQUFDO2FBQU0sSUFDTCxJQUFJLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQyxJQUFJO1lBQzdCLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLFdBQVcsRUFDcEMsQ0FBQztZQUNELElBQUksQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQztRQUNuQyxDQUFDO0lBQ0gsQ0FBQztJQUVELFlBQVk7UUFDVixPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLFdBQVcsQ0FBQztJQUM5QyxDQUFDO0lBRU8sTUFBTTtRQUNaLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDO1FBQy9ELElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDM0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQztZQUMxQixHQUFHLElBQUksQ0FBQyxXQUFXO1NBQ3BCLENBQUMsQ0FBQztJQUNMLENBQUM7OEdBeERVLFdBQVc7a0hBQVgsV0FBVzs7MkZBQVgsV0FBVztrQkFEdkIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBNaW1lVmlld2VyQ29uZmlnIH0gZnJvbSAnLi4vbWltZS12aWV3ZXItY29uZmlnJztcbmltcG9ydCB7IE1vZGVDaGFuZ2VzLCBWaWV3ZXJNb2RlIH0gZnJvbSAnLi4vbW9kZWxzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE1vZGVTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBjb25maWchOiBNaW1lVmlld2VyQ29uZmlnO1xuICBwcml2YXRlIF9tb2RlITogVmlld2VyTW9kZTtcbiAgcHJpdmF0ZSByZWFkb25seSB0b2dnbGVNb2RlU3ViamVjdDogQmVoYXZpb3JTdWJqZWN0PE1vZGVDaGFuZ2VzPjtcbiAgcHJpdmF0ZSByZWFkb25seSBtb2RlQ2hhbmdlcyA9IG5ldyBNb2RlQ2hhbmdlcygpO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudG9nZ2xlTW9kZVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KG5ldyBNb2RlQ2hhbmdlcygpKTtcbiAgfVxuXG4gIGdldCBvbkNoYW5nZSgpOiBPYnNlcnZhYmxlPE1vZGVDaGFuZ2VzPiB7XG4gICAgcmV0dXJuIHRoaXMudG9nZ2xlTW9kZVN1YmplY3QuYXNPYnNlcnZhYmxlKCkucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbiAgfVxuXG4gIGdldCBtb2RlKCk6IFZpZXdlck1vZGUge1xuICAgIHJldHVybiB0aGlzLl9tb2RlO1xuICB9XG5cbiAgc2V0IG1vZGUobW9kZTogVmlld2VyTW9kZSkge1xuICAgIHRoaXMuX21vZGUgPSBtb2RlO1xuICAgIHRoaXMuY2hhbmdlKCk7XG4gIH1cblxuICBpbml0aWFsaXplKCk6IHZvaWQge1xuICAgIHRoaXMubW9kZSA9IHRoaXMuY29uZmlnPy5pbml0Vmlld2VyTW9kZTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5tb2RlID0gdGhpcy5jb25maWc/LmluaXRWaWV3ZXJNb2RlO1xuICB9XG5cbiAgc2V0Q29uZmlnKGNvbmZpZzogTWltZVZpZXdlckNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgdG9nZ2xlTW9kZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tb2RlID09PSBWaWV3ZXJNb2RlLkRBU0hCT0FSRCkge1xuICAgICAgdGhpcy5tb2RlID0gVmlld2VyTW9kZS5QQUdFO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0aGlzLm1vZGUgPT09IFZpZXdlck1vZGUuUEFHRSB8fFxuICAgICAgdGhpcy5tb2RlID09PSBWaWV3ZXJNb2RlLlBBR0VfWk9PTUVEXG4gICAgKSB7XG4gICAgICB0aGlzLm1vZGUgPSBWaWV3ZXJNb2RlLkRBU0hCT0FSRDtcbiAgICB9XG4gIH1cblxuICBpc1BhZ2Vab29tZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gVmlld2VyTW9kZS5QQUdFX1pPT01FRDtcbiAgfVxuXG4gIHByaXZhdGUgY2hhbmdlKCkge1xuICAgIHRoaXMubW9kZUNoYW5nZXMucHJldmlvdXNWYWx1ZSA9IHRoaXMubW9kZUNoYW5nZXMuY3VycmVudFZhbHVlO1xuICAgIHRoaXMubW9kZUNoYW5nZXMuY3VycmVudFZhbHVlID0gdGhpcy5fbW9kZTtcbiAgICB0aGlzLnRvZ2dsZU1vZGVTdWJqZWN0Lm5leHQoe1xuICAgICAgLi4udGhpcy5tb2RlQ2hhbmdlcyxcbiAgICB9KTtcbiAgfVxufVxuIl19","export class PinchStatus {\n    constructor() {\n        this.active = false;\n        this.previousGestureId = 0;\n        this.shouldStop = false;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGluY2hTdGF0dXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9tb2RlbHMvcGluY2hTdGF0dXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxPQUFPLFdBQVc7SUFBeEI7UUFDUyxXQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ2Ysc0JBQWlCLEdBQUcsQ0FBQyxDQUFDO1FBQ3RCLGVBQVUsR0FBRyxLQUFLLENBQUM7SUFDNUIsQ0FBQztDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFBpbmNoU3RhdHVzIHtcbiAgcHVibGljIGFjdGl2ZSA9IGZhbHNlO1xuICBwdWJsaWMgcHJldmlvdXNHZXN0dXJlSWQgPSAwO1xuICBwdWJsaWMgc2hvdWxkU3RvcCA9IGZhbHNlO1xufVxuIl19","export var Side;\n(function (Side) {\n    Side[Side[\"LEFT\"] = 0] = \"LEFT\";\n    Side[Side[\"RIGHT\"] = 1] = \"RIGHT\";\n    Side[Side[\"TOP\"] = 2] = \"TOP\";\n    Side[Side[\"BOTTOM\"] = 3] = \"BOTTOM\";\n})(Side || (Side = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lkZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL21vZGVscy9zaWRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBTixJQUFZLElBS1g7QUFMRCxXQUFZLElBQUk7SUFDZCwrQkFBSSxDQUFBO0lBQ0osaUNBQUssQ0FBQTtJQUNMLDZCQUFHLENBQUE7SUFDSCxtQ0FBTSxDQUFBO0FBQ1IsQ0FBQyxFQUxXLElBQUksS0FBSixJQUFJLFFBS2YiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBTaWRlIHtcbiAgTEVGVCxcbiAgUklHSFQsXG4gIFRPUCxcbiAgQk9UVE9NLFxufVxuIl19","import { Injectable, NgZone, inject } from '@angular/core';\nimport { interval, ReplaySubject, Subscription } from 'rxjs';\nimport { tap, distinctUntilChanged, filter } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class StyleService {\n    constructor() {\n        this.zone = inject(NgZone);\n        this.colorSubject = new ReplaySubject();\n    }\n    get onChange() {\n        return this.colorSubject.asObservable().pipe(filter((color) => color !== null), distinctUntilChanged());\n    }\n    initialize() {\n        this.subscriptions = new Subscription();\n        this.zone.runOutsideAngular(() => {\n            this.subscriptions.add(interval(1000)\n                .pipe(tap(() => {\n                const previousRgbColor = this.currentRgbColor;\n                const currentRgbColor = this.getComputedBackgroundColor(1);\n                if (previousRgbColor !== currentRgbColor) {\n                    this.currentRgbColor = currentRgbColor;\n                    this.colorSubject.next(currentRgbColor);\n                }\n            }))\n                .subscribe());\n        });\n    }\n    destroy() {\n        this.subscriptions.unsubscribe();\n    }\n    convertToRgba(rgbColor, opacity) {\n        return rgbColor.replace(/rgb/i, 'rgba').replace(/\\)/i, `,${opacity})`);\n    }\n    getComputedBackgroundColor(opacity) {\n        const matAppBackground = document.getElementsByClassName('mat-app-background');\n        const matSidenavContainer = document.getElementsByTagName('mat-sidenav-container');\n        if (matAppBackground.length > 0) {\n            return this.getComputedStyle(matAppBackground[0], 'background-color');\n        }\n        else if (matSidenavContainer.length > 0) {\n            return this.getComputedStyle(matSidenavContainer[0], 'background-color');\n        }\n        else {\n            return undefined;\n        }\n    }\n    getComputedStyle(el, property) {\n        return window.getComputedStyle(el, null).getPropertyValue(property);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: StyleService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: StyleService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: StyleService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGUuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL3N0eWxlLXNlcnZpY2Uvc3R5bGUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0QsT0FBTyxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQWMsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3pFLE9BQU8sRUFBYSxHQUFHLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7O0FBRzlFLE1BQU0sT0FBTyxZQUFZO0lBRHpCO1FBRVUsU0FBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUV0QixpQkFBWSxHQUFzQyxJQUFJLGFBQWEsRUFBRSxDQUFDO0tBeUQvRTtJQXREQyxJQUFJLFFBQVE7UUFDVixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLENBQUMsSUFBSSxDQUMxQyxNQUFNLENBQUMsQ0FBQyxLQUF5QixFQUFFLEVBQUUsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEVBQ3JELG9CQUFvQixFQUFFLENBQ3ZCLENBQUM7SUFDSixDQUFDO0lBRUQsVUFBVTtRQUNSLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRTtZQUMvQixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FDcEIsUUFBUSxDQUFDLElBQUksQ0FBQztpQkFDWCxJQUFJLENBQ0gsR0FBRyxDQUFDLEdBQUcsRUFBRTtnQkFDUCxNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxlQUFlLENBQUM7Z0JBQzlDLE1BQU0sZUFBZSxHQUFHLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0QsSUFBSSxnQkFBZ0IsS0FBSyxlQUFlLEVBQUUsQ0FBQztvQkFDekMsSUFBSSxDQUFDLGVBQWUsR0FBRyxlQUFlLENBQUM7b0JBQ3ZDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUMxQyxDQUFDO1lBQ0gsQ0FBQyxDQUFDLENBQ0g7aUJBQ0EsU0FBUyxFQUFFLENBQ2YsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELE9BQU87UUFDTCxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFFTSxhQUFhLENBQUMsUUFBZ0IsRUFBRSxPQUFlO1FBQ3BELE9BQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVPLDBCQUEwQixDQUFDLE9BQWU7UUFDaEQsTUFBTSxnQkFBZ0IsR0FDcEIsUUFBUSxDQUFDLHNCQUFzQixDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDeEQsTUFBTSxtQkFBbUIsR0FBRyxRQUFRLENBQUMsb0JBQW9CLENBQ3ZELHVCQUF1QixDQUN4QixDQUFDO1FBRUYsSUFBSSxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDaEMsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztRQUN4RSxDQUFDO2FBQU0sSUFBSSxtQkFBbUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDMUMsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztRQUMzRSxDQUFDO2FBQU0sQ0FBQztZQUNOLE9BQU8sU0FBUyxDQUFDO1FBQ25CLENBQUM7SUFDSCxDQUFDO0lBRU8sZ0JBQWdCLENBQUMsRUFBTyxFQUFFLFFBQWdCO1FBQ2hELE9BQU8sTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN0RSxDQUFDOzhHQTNEVSxZQUFZO2tIQUFaLFlBQVk7OzJGQUFaLFlBQVk7a0JBRHhCLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBOZ1pvbmUsIGluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgaW50ZXJ2YWwsIFJlcGxheVN1YmplY3QsIE9ic2VydmFibGUsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgc3dpdGNoTWFwLCB0YXAsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBmaWx0ZXIgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBTdHlsZVNlcnZpY2Uge1xuICBwcml2YXRlIHpvbmUgPSBpbmplY3QoTmdab25lKTtcbiAgcHJpdmF0ZSBjdXJyZW50UmdiQ29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBjb2xvclN1YmplY3Q6IFJlcGxheVN1YmplY3Q8c3RyaW5nIHwgdW5kZWZpbmVkPiA9IG5ldyBSZXBsYXlTdWJqZWN0KCk7XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9ucyE6IFN1YnNjcmlwdGlvbjtcblxuICBnZXQgb25DaGFuZ2UoKTogT2JzZXJ2YWJsZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclN1YmplY3QuYXNPYnNlcnZhYmxlKCkucGlwZShcbiAgICAgIGZpbHRlcigoY29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4gY29sb3IgIT09IG51bGwpLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICApO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICAgIGludGVydmFsKDEwMDApXG4gICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICB0YXAoKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c1JnYkNvbG9yID0gdGhpcy5jdXJyZW50UmdiQ29sb3I7XG4gICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZ2JDb2xvciA9IHRoaXMuZ2V0Q29tcHV0ZWRCYWNrZ3JvdW5kQ29sb3IoMSk7XG4gICAgICAgICAgICAgIGlmIChwcmV2aW91c1JnYkNvbG9yICE9PSBjdXJyZW50UmdiQ29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSZ2JDb2xvciA9IGN1cnJlbnRSZ2JDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yU3ViamVjdC5uZXh0KGN1cnJlbnRSZ2JDb2xvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgICAuc3Vic2NyaWJlKCksXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIHB1YmxpYyBjb252ZXJ0VG9SZ2JhKHJnYkNvbG9yOiBzdHJpbmcsIG9wYWNpdHk6IG51bWJlcikge1xuICAgIHJldHVybiByZ2JDb2xvci5yZXBsYWNlKC9yZ2IvaSwgJ3JnYmEnKS5yZXBsYWNlKC9cXCkvaSwgYCwke29wYWNpdHl9KWApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDb21wdXRlZEJhY2tncm91bmRDb2xvcihvcGFjaXR5OiBudW1iZXIpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IG1hdEFwcEJhY2tncm91bmQgPVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWF0LWFwcC1iYWNrZ3JvdW5kJyk7XG4gICAgY29uc3QgbWF0U2lkZW5hdkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxuICAgICAgJ21hdC1zaWRlbmF2LWNvbnRhaW5lcicsXG4gICAgKTtcblxuICAgIGlmIChtYXRBcHBCYWNrZ3JvdW5kLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENvbXB1dGVkU3R5bGUobWF0QXBwQmFja2dyb3VuZFswXSwgJ2JhY2tncm91bmQtY29sb3InKTtcbiAgICB9IGVsc2UgaWYgKG1hdFNpZGVuYXZDb250YWluZXIubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShtYXRTaWRlbmF2Q29udGFpbmVyWzBdLCAnYmFja2dyb3VuZC1jb2xvcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q29tcHV0ZWRTdHlsZShlbDogYW55LCBwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KTtcbiAgfVxufVxuIl19","export var Direction;\n(function (Direction) {\n    Direction[Direction[\"UNDEFINED\"] = 0] = \"UNDEFINED\";\n    Direction[Direction[\"LEFT\"] = 1] = \"LEFT\";\n    Direction[Direction[\"RIGHT\"] = 2] = \"RIGHT\";\n    Direction[Direction[\"UP\"] = 3] = \"UP\";\n    Direction[Direction[\"DOWN\"] = 4] = \"DOWN\";\n    Direction[Direction[\"NEXT\"] = 5] = \"NEXT\";\n    Direction[Direction[\"PREVIOUS\"] = 6] = \"PREVIOUS\";\n})(Direction || (Direction = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlyZWN0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvbW9kZWxzL2RpcmVjdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQU4sSUFBWSxTQVFYO0FBUkQsV0FBWSxTQUFTO0lBQ25CLG1EQUFhLENBQUE7SUFDYix5Q0FBUSxDQUFBO0lBQ1IsMkNBQVMsQ0FBQTtJQUNULHFDQUFNLENBQUE7SUFDTix5Q0FBUSxDQUFBO0lBQ1IseUNBQVEsQ0FBQTtJQUNSLGlEQUFZLENBQUE7QUFDZCxDQUFDLEVBUlcsU0FBUyxLQUFULFNBQVMsUUFRcEIiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBEaXJlY3Rpb24ge1xuICBVTkRFRklORUQgPSAwLFxuICBMRUZUID0gMSxcbiAgUklHSFQgPSAyLFxuICBVUCA9IDMsXG4gIERPV04gPSA0LFxuICBORVhUID0gNSxcbiAgUFJFVklPVVMgPSA2LFxufVxuIl19","import { Direction } from '../models/direction';\nexport class NavigatorCalculateNextCanvasGroupStrategy {\n    calculateNextCanvasGroup(criteria) {\n        const direction = criteria.direction;\n        const currentCanvasGroupIndex = criteria.currentCanvasGroupIndex;\n        let nextCanvasGroup = 1;\n        nextCanvasGroup =\n            direction === Direction.NEXT ? nextCanvasGroup : nextCanvasGroup * -1;\n        nextCanvasGroup = currentCanvasGroupIndex + nextCanvasGroup;\n        return nextCanvasGroup;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF2aWdhdG9yLWNhbGN1bGF0ZS1uZXh0LWNhbnZhcy1ncm91cC1zdHJhdGVneS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL3ZpZXdlci1zZXJ2aWNlL25hdmlnYXRvci1jYWxjdWxhdGUtbmV4dC1jYW52YXMtZ3JvdXAtc3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBTWhELE1BQU0sT0FBTyx5Q0FBeUM7SUFHcEQsd0JBQXdCLENBQUMsUUFBaUM7UUFDeEQsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQztRQUNyQyxNQUFNLHVCQUF1QixHQUFHLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQztRQUVqRSxJQUFJLGVBQWUsR0FBRyxDQUFDLENBQUM7UUFDeEIsZUFBZTtZQUNiLFNBQVMsS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4RSxlQUFlLEdBQUcsdUJBQXVCLEdBQUcsZUFBZSxDQUFDO1FBQzVELE9BQU8sZUFBZSxDQUFDO0lBQ3pCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGlvbiB9IGZyb20gJy4uL21vZGVscy9kaXJlY3Rpb24nO1xuaW1wb3J0IHtcbiAgQ2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwU3RyYXRlZ3ksXG4gIE5leHRDYW52YXNHcm91cENyaXRlcmlhLFxufSBmcm9tICcuL2NhbGN1bGF0ZS1uZXh0LWNhbnZhcy1ncm91cC1zdHJhdGVneSc7XG5cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0b3JDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneVxuICBpbXBsZW1lbnRzIENhbGN1bGF0ZU5leHRDYW52YXNHcm91cFN0cmF0ZWd5XG57XG4gIGNhbGN1bGF0ZU5leHRDYW52YXNHcm91cChjcml0ZXJpYTogTmV4dENhbnZhc0dyb3VwQ3JpdGVyaWEpOiBudW1iZXIge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGNyaXRlcmlhLmRpcmVjdGlvbjtcbiAgICBjb25zdCBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCA9IGNyaXRlcmlhLmN1cnJlbnRDYW52YXNHcm91cEluZGV4O1xuXG4gICAgbGV0IG5leHRDYW52YXNHcm91cCA9IDE7XG4gICAgbmV4dENhbnZhc0dyb3VwID1cbiAgICAgIGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLk5FWFQgPyBuZXh0Q2FudmFzR3JvdXAgOiBuZXh0Q2FudmFzR3JvdXAgKiAtMTtcbiAgICBuZXh0Q2FudmFzR3JvdXAgPSBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCArIG5leHRDYW52YXNHcm91cDtcbiAgICByZXR1cm4gbmV4dENhbnZhc0dyb3VwO1xuICB9XG59XG4iXX0=","import { Direction } from '../models/direction';\nimport { ViewingDirection } from '../models/viewing-direction';\nexport class DashboardModeCalculateNextCanvasGroupStrategy {\n    calculateNextCanvasGroup(criteria) {\n        const speed = criteria.speed;\n        const direction = criteria.direction;\n        const currentCanvasGroupIndex = criteria.currentCanvasGroupIndex;\n        const currentCanvasGroupCenter = criteria.currentCanvasGroupCenter;\n        let nextCanvasGroup;\n        let canvasGroupDelta = this.calculateNumberOfCanvasGroupsToGo(speed);\n        if (canvasGroupDelta === 0) {\n            nextCanvasGroup = currentCanvasGroupCenter;\n        }\n        else {\n            canvasGroupDelta =\n                direction === Direction.LEFT ? canvasGroupDelta : canvasGroupDelta * -1;\n            nextCanvasGroup =\n                criteria.viewingDirection === ViewingDirection.LTR\n                    ? currentCanvasGroupIndex + canvasGroupDelta\n                    : currentCanvasGroupIndex - canvasGroupDelta;\n        }\n        return nextCanvasGroup;\n    }\n    calculateNumberOfCanvasGroupsToGo(speed) {\n        let canvasGroupsToGo = 10;\n        if (speed !== undefined) {\n            if (speed < 500) {\n                canvasGroupsToGo = 0;\n            }\n            else if (speed >= 500 && speed < 1500) {\n                canvasGroupsToGo = 1;\n            }\n            else if (speed >= 1500 && speed < 2500) {\n                canvasGroupsToGo = 3;\n            }\n            else if (speed >= 2500 && speed < 3500) {\n                canvasGroupsToGo = 5;\n            }\n        }\n        return canvasGroupsToGo;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGFzaGJvYXJkLW1vZGUtY2FsY3VsYXRlLW5leHQtY2FudmFzLWdyb3VwLXN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvdmlld2VyLXNlcnZpY2UvZGFzaGJvYXJkLW1vZGUtY2FsY3VsYXRlLW5leHQtY2FudmFzLWdyb3VwLXN0cmF0ZWd5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQU0vRCxNQUFNLE9BQU8sNkNBQTZDO0lBR3hELHdCQUF3QixDQUFDLFFBQWlDO1FBQ3hELE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDN0IsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQztRQUNyQyxNQUFNLHVCQUF1QixHQUFHLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQztRQUNqRSxNQUFNLHdCQUF3QixHQUFHLFFBQVEsQ0FBQyx3QkFBd0IsQ0FBQztRQUVuRSxJQUFJLGVBQXVCLENBQUM7UUFDNUIsSUFBSSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsaUNBQWlDLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckUsSUFBSSxnQkFBZ0IsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUMzQixlQUFlLEdBQUcsd0JBQXdCLENBQUM7UUFDN0MsQ0FBQzthQUFNLENBQUM7WUFDTixnQkFBZ0I7Z0JBQ2QsU0FBUyxLQUFLLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUMxRSxlQUFlO2dCQUNiLFFBQVEsQ0FBQyxnQkFBZ0IsS0FBSyxnQkFBZ0IsQ0FBQyxHQUFHO29CQUNoRCxDQUFDLENBQUMsdUJBQXVCLEdBQUcsZ0JBQWdCO29CQUM1QyxDQUFDLENBQUMsdUJBQXVCLEdBQUcsZ0JBQWdCLENBQUM7UUFDbkQsQ0FBQztRQUNELE9BQU8sZUFBZSxDQUFDO0lBQ3pCLENBQUM7SUFFTyxpQ0FBaUMsQ0FBQyxLQUF5QjtRQUNqRSxJQUFJLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztRQUMxQixJQUFJLEtBQUssS0FBSyxTQUFTLEVBQUUsQ0FBQztZQUN4QixJQUFJLEtBQUssR0FBRyxHQUFHLEVBQUUsQ0FBQztnQkFDaEIsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZCLENBQUM7aUJBQU0sSUFBSSxLQUFLLElBQUksR0FBRyxJQUFJLEtBQUssR0FBRyxJQUFJLEVBQUUsQ0FBQztnQkFDeEMsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZCLENBQUM7aUJBQU0sSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLEtBQUssR0FBRyxJQUFJLEVBQUUsQ0FBQztnQkFDekMsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZCLENBQUM7aUJBQU0sSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLEtBQUssR0FBRyxJQUFJLEVBQUUsQ0FBQztnQkFDekMsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZCLENBQUM7UUFDSCxDQUFDO1FBQ0QsT0FBTyxnQkFBZ0IsQ0FBQztJQUMxQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3Rpb24gfSBmcm9tICcuLi9tb2RlbHMvZGlyZWN0aW9uJztcbmltcG9ydCB7IFZpZXdpbmdEaXJlY3Rpb24gfSBmcm9tICcuLi9tb2RlbHMvdmlld2luZy1kaXJlY3Rpb24nO1xuaW1wb3J0IHtcbiAgQ2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwU3RyYXRlZ3ksXG4gIE5leHRDYW52YXNHcm91cENyaXRlcmlhLFxufSBmcm9tICcuL2NhbGN1bGF0ZS1uZXh0LWNhbnZhcy1ncm91cC1zdHJhdGVneSc7XG5cbmV4cG9ydCBjbGFzcyBEYXNoYm9hcmRNb2RlQ2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwU3RyYXRlZ3lcbiAgaW1wbGVtZW50cyBDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneVxue1xuICBjYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXAoY3JpdGVyaWE6IE5leHRDYW52YXNHcm91cENyaXRlcmlhKTogbnVtYmVyIHtcbiAgICBjb25zdCBzcGVlZCA9IGNyaXRlcmlhLnNwZWVkO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGNyaXRlcmlhLmRpcmVjdGlvbjtcbiAgICBjb25zdCBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCA9IGNyaXRlcmlhLmN1cnJlbnRDYW52YXNHcm91cEluZGV4O1xuICAgIGNvbnN0IGN1cnJlbnRDYW52YXNHcm91cENlbnRlciA9IGNyaXRlcmlhLmN1cnJlbnRDYW52YXNHcm91cENlbnRlcjtcblxuICAgIGxldCBuZXh0Q2FudmFzR3JvdXA6IG51bWJlcjtcbiAgICBsZXQgY2FudmFzR3JvdXBEZWx0YSA9IHRoaXMuY2FsY3VsYXRlTnVtYmVyT2ZDYW52YXNHcm91cHNUb0dvKHNwZWVkKTtcbiAgICBpZiAoY2FudmFzR3JvdXBEZWx0YSA9PT0gMCkge1xuICAgICAgbmV4dENhbnZhc0dyb3VwID0gY3VycmVudENhbnZhc0dyb3VwQ2VudGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW52YXNHcm91cERlbHRhID1cbiAgICAgICAgZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uTEVGVCA/IGNhbnZhc0dyb3VwRGVsdGEgOiBjYW52YXNHcm91cERlbHRhICogLTE7XG4gICAgICBuZXh0Q2FudmFzR3JvdXAgPVxuICAgICAgICBjcml0ZXJpYS52aWV3aW5nRGlyZWN0aW9uID09PSBWaWV3aW5nRGlyZWN0aW9uLkxUUlxuICAgICAgICAgID8gY3VycmVudENhbnZhc0dyb3VwSW5kZXggKyBjYW52YXNHcm91cERlbHRhXG4gICAgICAgICAgOiBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCAtIGNhbnZhc0dyb3VwRGVsdGE7XG4gICAgfVxuICAgIHJldHVybiBuZXh0Q2FudmFzR3JvdXA7XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZU51bWJlck9mQ2FudmFzR3JvdXBzVG9HbyhzcGVlZDogbnVtYmVyIHwgdW5kZWZpbmVkKTogbnVtYmVyIHtcbiAgICBsZXQgY2FudmFzR3JvdXBzVG9HbyA9IDEwO1xuICAgIGlmIChzcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoc3BlZWQgPCA1MDApIHtcbiAgICAgICAgY2FudmFzR3JvdXBzVG9HbyA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHNwZWVkID49IDUwMCAmJiBzcGVlZCA8IDE1MDApIHtcbiAgICAgICAgY2FudmFzR3JvdXBzVG9HbyA9IDE7XG4gICAgICB9IGVsc2UgaWYgKHNwZWVkID49IDE1MDAgJiYgc3BlZWQgPCAyNTAwKSB7XG4gICAgICAgIGNhbnZhc0dyb3Vwc1RvR28gPSAzO1xuICAgICAgfSBlbHNlIGlmIChzcGVlZCA+PSAyNTAwICYmIHNwZWVkIDwgMzUwMCkge1xuICAgICAgICBjYW52YXNHcm91cHNUb0dvID0gNTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNhbnZhc0dyb3Vwc1RvR287XG4gIH1cbn1cbiJdfQ==","import { Direction } from '../models/direction';\nimport { ViewingDirection } from '../models/viewing-direction';\nexport class PageModeCalculateNextCanvasGroupStrategy {\n    calculateNextCanvasGroup(criteria) {\n        const isNewCanvasGroupInCenter = criteria.currentCanvasGroupIndex !== criteria.currentCanvasGroupCenter;\n        const speed = criteria.speed;\n        const direction = criteria.direction;\n        let nextCanvasGroup = criteria.currentCanvasGroupIndex;\n        if (speed && speed >= 200) {\n            const diff = direction === Direction.LEFT ? 1 : -1;\n            nextCanvasGroup =\n                criteria.viewingDirection === ViewingDirection.LTR\n                    ? criteria.currentCanvasGroupIndex + diff\n                    : criteria.currentCanvasGroupIndex - diff;\n        }\n        else if (isNewCanvasGroupInCenter) {\n            nextCanvasGroup = criteria.currentCanvasGroupCenter;\n        }\n        return nextCanvasGroup;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS1tb2RlLWNhbGN1bGF0ZS1uZXh0LWNhbnZhcy1ncm91cC1zdHJhdGVneS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL3ZpZXdlci1zZXJ2aWNlL3BhZ2UtbW9kZS1jYWxjdWxhdGUtbmV4dC1jYW52YXMtZ3JvdXAtc3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBTS9ELE1BQU0sT0FBTyx3Q0FBd0M7SUFHbkQsd0JBQXdCLENBQUMsUUFBaUM7UUFDeEQsTUFBTSx3QkFBd0IsR0FDNUIsUUFBUSxDQUFDLHVCQUF1QixLQUFLLFFBQVEsQ0FBQyx3QkFBd0IsQ0FBQztRQUN6RSxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO1FBQzdCLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUM7UUFDckMsSUFBSSxlQUFlLEdBQUcsUUFBUSxDQUFDLHVCQUF1QixDQUFDO1FBQ3ZELElBQUksS0FBSyxJQUFJLEtBQUssSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUMxQixNQUFNLElBQUksR0FBRyxTQUFTLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuRCxlQUFlO2dCQUNiLFFBQVEsQ0FBQyxnQkFBZ0IsS0FBSyxnQkFBZ0IsQ0FBQyxHQUFHO29CQUNoRCxDQUFDLENBQUMsUUFBUSxDQUFDLHVCQUF1QixHQUFHLElBQUk7b0JBQ3pDLENBQUMsQ0FBQyxRQUFRLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxDQUFDO1FBQ2hELENBQUM7YUFBTSxJQUFJLHdCQUF3QixFQUFFLENBQUM7WUFDcEMsZUFBZSxHQUFHLFFBQVEsQ0FBQyx3QkFBd0IsQ0FBQztRQUN0RCxDQUFDO1FBQ0QsT0FBTyxlQUFlLENBQUM7SUFDekIsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlyZWN0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL2RpcmVjdGlvbic7XG5pbXBvcnQgeyBWaWV3aW5nRGlyZWN0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL3ZpZXdpbmctZGlyZWN0aW9uJztcbmltcG9ydCB7XG4gIENhbGN1bGF0ZU5leHRDYW52YXNHcm91cFN0cmF0ZWd5LFxuICBOZXh0Q2FudmFzR3JvdXBDcml0ZXJpYSxcbn0gZnJvbSAnLi9jYWxjdWxhdGUtbmV4dC1jYW52YXMtZ3JvdXAtc3RyYXRlZ3knO1xuXG5leHBvcnQgY2xhc3MgUGFnZU1vZGVDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneVxuICBpbXBsZW1lbnRzIENhbGN1bGF0ZU5leHRDYW52YXNHcm91cFN0cmF0ZWd5XG57XG4gIGNhbGN1bGF0ZU5leHRDYW52YXNHcm91cChjcml0ZXJpYTogTmV4dENhbnZhc0dyb3VwQ3JpdGVyaWEpOiBudW1iZXIge1xuICAgIGNvbnN0IGlzTmV3Q2FudmFzR3JvdXBJbkNlbnRlciA9XG4gICAgICBjcml0ZXJpYS5jdXJyZW50Q2FudmFzR3JvdXBJbmRleCAhPT0gY3JpdGVyaWEuY3VycmVudENhbnZhc0dyb3VwQ2VudGVyO1xuICAgIGNvbnN0IHNwZWVkID0gY3JpdGVyaWEuc3BlZWQ7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gY3JpdGVyaWEuZGlyZWN0aW9uO1xuICAgIGxldCBuZXh0Q2FudmFzR3JvdXAgPSBjcml0ZXJpYS5jdXJyZW50Q2FudmFzR3JvdXBJbmRleDtcbiAgICBpZiAoc3BlZWQgJiYgc3BlZWQgPj0gMjAwKSB7XG4gICAgICBjb25zdCBkaWZmID0gZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uTEVGVCA/IDEgOiAtMTtcbiAgICAgIG5leHRDYW52YXNHcm91cCA9XG4gICAgICAgIGNyaXRlcmlhLnZpZXdpbmdEaXJlY3Rpb24gPT09IFZpZXdpbmdEaXJlY3Rpb24uTFRSXG4gICAgICAgICAgPyBjcml0ZXJpYS5jdXJyZW50Q2FudmFzR3JvdXBJbmRleCArIGRpZmZcbiAgICAgICAgICA6IGNyaXRlcmlhLmN1cnJlbnRDYW52YXNHcm91cEluZGV4IC0gZGlmZjtcbiAgICB9IGVsc2UgaWYgKGlzTmV3Q2FudmFzR3JvdXBJbkNlbnRlcikge1xuICAgICAgbmV4dENhbnZhc0dyb3VwID0gY3JpdGVyaWEuY3VycmVudENhbnZhc0dyb3VwQ2VudGVyO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dENhbnZhc0dyb3VwO1xuICB9XG59XG4iXX0=","import { Direction } from '../models/direction';\nimport { ViewingDirection } from '../models/viewing-direction';\nexport class PageZoomedModeCalculateNextCanvasGroupStrategy {\n    calculateNextCanvasGroup(criteria) {\n        const direction = criteria.direction;\n        const currentCanvasGroupIndex = criteria.currentCanvasGroupIndex;\n        const canvasGroupEndHitCountReached = criteria.canvasGroupEndHitCountReached;\n        let nextCanvasGroup = canvasGroupEndHitCountReached ? 1 : 0;\n        nextCanvasGroup =\n            direction === Direction.LEFT ? nextCanvasGroup : nextCanvasGroup * -1;\n        nextCanvasGroup =\n            criteria.viewingDirection === ViewingDirection.LTR\n                ? currentCanvasGroupIndex + nextCanvasGroup\n                : currentCanvasGroupIndex - nextCanvasGroup;\n        return nextCanvasGroup;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS16b29tZWQtbW9kZS1jYWxjdWxhdGUtbmV4dC1jYW52YXMtZ3JvdXAtc3RyYXRlZ3kuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS92aWV3ZXItc2VydmljZS9wYWdlLXpvb21lZC1tb2RlLWNhbGN1bGF0ZS1uZXh0LWNhbnZhcy1ncm91cC1zdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDaEQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFNL0QsTUFBTSxPQUFPLDhDQUE4QztJQUd6RCx3QkFBd0IsQ0FBQyxRQUFpQztRQUN4RCxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDO1FBQ3JDLE1BQU0sdUJBQXVCLEdBQUcsUUFBUSxDQUFDLHVCQUF1QixDQUFDO1FBQ2pFLE1BQU0sNkJBQTZCLEdBQ2pDLFFBQVEsQ0FBQyw2QkFBNkIsQ0FBQztRQUV6QyxJQUFJLGVBQWUsR0FBRyw2QkFBNkIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFNUQsZUFBZTtZQUNiLFNBQVMsS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4RSxlQUFlO1lBQ2IsUUFBUSxDQUFDLGdCQUFnQixLQUFLLGdCQUFnQixDQUFDLEdBQUc7Z0JBQ2hELENBQUMsQ0FBQyx1QkFBdUIsR0FBRyxlQUFlO2dCQUMzQyxDQUFDLENBQUMsdUJBQXVCLEdBQUcsZUFBZSxDQUFDO1FBQ2hELE9BQU8sZUFBZSxDQUFDO0lBQ3pCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGlvbiB9IGZyb20gJy4uL21vZGVscy9kaXJlY3Rpb24nO1xuaW1wb3J0IHsgVmlld2luZ0RpcmVjdGlvbiB9IGZyb20gJy4uL21vZGVscy92aWV3aW5nLWRpcmVjdGlvbic7XG5pbXBvcnQge1xuICBDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneSxcbiAgTmV4dENhbnZhc0dyb3VwQ3JpdGVyaWEsXG59IGZyb20gJy4vY2FsY3VsYXRlLW5leHQtY2FudmFzLWdyb3VwLXN0cmF0ZWd5JztcblxuZXhwb3J0IGNsYXNzIFBhZ2Vab29tZWRNb2RlQ2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwU3RyYXRlZ3lcbiAgaW1wbGVtZW50cyBDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneVxue1xuICBjYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXAoY3JpdGVyaWE6IE5leHRDYW52YXNHcm91cENyaXRlcmlhKTogbnVtYmVyIHtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBjcml0ZXJpYS5kaXJlY3Rpb247XG4gICAgY29uc3QgY3VycmVudENhbnZhc0dyb3VwSW5kZXggPSBjcml0ZXJpYS5jdXJyZW50Q2FudmFzR3JvdXBJbmRleDtcbiAgICBjb25zdCBjYW52YXNHcm91cEVuZEhpdENvdW50UmVhY2hlZCA9XG4gICAgICBjcml0ZXJpYS5jYW52YXNHcm91cEVuZEhpdENvdW50UmVhY2hlZDtcblxuICAgIGxldCBuZXh0Q2FudmFzR3JvdXAgPSBjYW52YXNHcm91cEVuZEhpdENvdW50UmVhY2hlZCA/IDEgOiAwO1xuXG4gICAgbmV4dENhbnZhc0dyb3VwID1cbiAgICAgIGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLkxFRlQgPyBuZXh0Q2FudmFzR3JvdXAgOiBuZXh0Q2FudmFzR3JvdXAgKiAtMTtcbiAgICBuZXh0Q2FudmFzR3JvdXAgPVxuICAgICAgY3JpdGVyaWEudmlld2luZ0RpcmVjdGlvbiA9PT0gVmlld2luZ0RpcmVjdGlvbi5MVFJcbiAgICAgICAgPyBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCArIG5leHRDYW52YXNHcm91cFxuICAgICAgICA6IGN1cnJlbnRDYW52YXNHcm91cEluZGV4IC0gbmV4dENhbnZhc0dyb3VwO1xuICAgIHJldHVybiBuZXh0Q2FudmFzR3JvdXA7XG4gIH1cbn1cbiJdfQ==","import { ViewerMode } from '../models/viewer-mode';\nimport { NavigatorCalculateNextCanvasGroupStrategy } from './navigator-calculate-next-canvas-group-strategy';\nimport { DashboardModeCalculateNextCanvasGroupStrategy } from './dashboard-mode-calculate-next-canvas-group-strategy';\nimport { PageModeCalculateNextCanvasGroupStrategy } from './page-mode-calculate-next-canvas-group-strategy';\nimport { PageZoomedModeCalculateNextCanvasGroupStrategy } from './page-zoomed-mode-calculate-next-canvas-group-strategy';\nexport class CalculateNextCanvasGroupFactory {\n    static create(mode) {\n        if (mode === ViewerMode.DASHBOARD) {\n            return new DashboardModeCalculateNextCanvasGroupStrategy();\n        }\n        else if (mode === ViewerMode.PAGE) {\n            return new PageModeCalculateNextCanvasGroupStrategy();\n        }\n        else if (mode === ViewerMode.PAGE_ZOOMED) {\n            return new PageZoomedModeCalculateNextCanvasGroupStrategy();\n        }\n        else {\n            return new NavigatorCalculateNextCanvasGroupStrategy();\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsY3VsYXRlLW5leHQtY2FudmFzLWdyb3VwLWZhY3RvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS92aWV3ZXItc2VydmljZS9jYWxjdWxhdGUtbmV4dC1jYW52YXMtZ3JvdXAtZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDbkQsT0FBTyxFQUFFLHlDQUF5QyxFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFFN0csT0FBTyxFQUFFLDZDQUE2QyxFQUFFLE1BQU0sdURBQXVELENBQUM7QUFDdEgsT0FBTyxFQUFFLHdDQUF3QyxFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFDNUcsT0FBTyxFQUFFLDhDQUE4QyxFQUFFLE1BQU0seURBQXlELENBQUM7QUFFekgsTUFBTSxPQUFPLCtCQUErQjtJQUNuQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQWdCO1FBQ25DLElBQUksSUFBSSxLQUFLLFVBQVUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNsQyxPQUFPLElBQUksNkNBQTZDLEVBQUUsQ0FBQztRQUM3RCxDQUFDO2FBQU0sSUFBSSxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3BDLE9BQU8sSUFBSSx3Q0FBd0MsRUFBRSxDQUFDO1FBQ3hELENBQUM7YUFBTSxJQUFJLElBQUksS0FBSyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDM0MsT0FBTyxJQUFJLDhDQUE4QyxFQUFFLENBQUM7UUFDOUQsQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPLElBQUkseUNBQXlDLEVBQUUsQ0FBQztRQUN6RCxDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmlld2VyTW9kZSB9IGZyb20gJy4uL21vZGVscy92aWV3ZXItbW9kZSc7XG5pbXBvcnQgeyBOYXZpZ2F0b3JDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneSB9IGZyb20gJy4vbmF2aWdhdG9yLWNhbGN1bGF0ZS1uZXh0LWNhbnZhcy1ncm91cC1zdHJhdGVneSc7XG5pbXBvcnQgeyBDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneSB9IGZyb20gJy4vY2FsY3VsYXRlLW5leHQtY2FudmFzLWdyb3VwLXN0cmF0ZWd5JztcbmltcG9ydCB7IERhc2hib2FyZE1vZGVDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneSB9IGZyb20gJy4vZGFzaGJvYXJkLW1vZGUtY2FsY3VsYXRlLW5leHQtY2FudmFzLWdyb3VwLXN0cmF0ZWd5JztcbmltcG9ydCB7IFBhZ2VNb2RlQ2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwU3RyYXRlZ3kgfSBmcm9tICcuL3BhZ2UtbW9kZS1jYWxjdWxhdGUtbmV4dC1jYW52YXMtZ3JvdXAtc3RyYXRlZ3knO1xuaW1wb3J0IHsgUGFnZVpvb21lZE1vZGVDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneSB9IGZyb20gJy4vcGFnZS16b29tZWQtbW9kZS1jYWxjdWxhdGUtbmV4dC1jYW52YXMtZ3JvdXAtc3RyYXRlZ3knO1xuXG5leHBvcnQgY2xhc3MgQ2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwRmFjdG9yeSB7XG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG1vZGU6IFZpZXdlck1vZGUpOiBDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneSB7XG4gICAgaWYgKG1vZGUgPT09IFZpZXdlck1vZGUuREFTSEJPQVJEKSB7XG4gICAgICByZXR1cm4gbmV3IERhc2hib2FyZE1vZGVDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneSgpO1xuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gVmlld2VyTW9kZS5QQUdFKSB7XG4gICAgICByZXR1cm4gbmV3IFBhZ2VNb2RlQ2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwU3RyYXRlZ3koKTtcbiAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFZpZXdlck1vZGUuUEFHRV9aT09NRUQpIHtcbiAgICAgIHJldHVybiBuZXcgUGFnZVpvb21lZE1vZGVDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IE5hdmlnYXRvckNhbGN1bGF0ZU5leHRDYW52YXNHcm91cFN0cmF0ZWd5KCk7XG4gICAgfVxuICB9XG59XG4iXX0=","import * as d3 from 'd3';\nimport * as OpenSeadragon from 'openseadragon';\nimport { Subscription } from 'rxjs';\nimport { Rect } from '../models/rect';\nimport { ViewerOptions } from '../models/viewer-options';\nexport class CanvasGroupMask {\n    constructor(viewer, styleService) {\n        this.styleService = styleService;\n        this.canvasGroupRect = new Rect();\n        this.disableResize = false;\n        this.animationHandler = () => {\n            this.resize();\n        };\n        this.resizeHandler = () => {\n            this.setCenter();\n            this.resize();\n        };\n        this.canvasGroupPinchHandler = () => {\n            this.disableResize = false;\n        };\n        this.canvasGroupDragHandler = (e) => {\n            if ((e.delta.x || e.delta.y) && e.speed > 0 && e.direction !== 0) {\n                this.disableResize = true;\n            }\n        };\n        this.canvasGroupDragEndHandler = () => {\n            this.disableResize = false;\n            this.resize();\n        };\n        this.viewer = viewer;\n    }\n    initialize(pageBounds, visible) {\n        this.unsubscribe();\n        this.subscriptions = new Subscription();\n        this.subscriptions.add(this.styleService.onChange.subscribe((color) => {\n            if (color) {\n                this.backgroundColor = color;\n                if (this.leftMask) {\n                    this.leftMask.style('fill', this.backgroundColor);\n                }\n                if (this.rightMask) {\n                    this.rightMask.style('fill', this.backgroundColor);\n                }\n            }\n        }));\n        this.canvasGroupRect = pageBounds;\n        this.addCanvasGroupMask();\n        this.setCenter();\n        this.resize();\n        if (visible) {\n            this.show();\n        }\n        else {\n            this.hide();\n        }\n    }\n    destroy() {\n        this.unsubscribe();\n    }\n    changeCanvasGroup(pageBounds) {\n        this.canvasGroupRect = pageBounds;\n        this.resize();\n    }\n    show() {\n        this.addHandlers();\n        if (!this.leftMask || !this.rightMask) {\n            return;\n        }\n        this.setCenter();\n        this.resize();\n        this.leftMask.attr('height', '100%');\n        this.rightMask.attr('height', '100%');\n    }\n    hide() {\n        this.removeHandlers();\n        if (!this.leftMask || !this.rightMask) {\n            return;\n        }\n        this.leftMask.attr('height', '0');\n        this.rightMask.attr('height', '0');\n    }\n    addHandlers() {\n        this.viewer.addHandler('animation', this.animationHandler);\n        this.viewer.addHandler('resize', this.resizeHandler);\n        this.viewer.addHandler('canvas-pinch', this.canvasGroupPinchHandler);\n        this.viewer.addHandler('canvas-drag', this.canvasGroupDragHandler);\n        this.viewer.addHandler('canvas-drag-end', this.canvasGroupDragEndHandler);\n    }\n    removeHandlers() {\n        this.viewer.removeHandler('animation', this.animationHandler);\n        this.viewer.removeHandler('resize', this.resizeHandler);\n        this.viewer.removeHandler('canvas-pinch', this.canvasGroupPinchHandler);\n        this.viewer.removeHandler('canvas-drag', this.canvasGroupDragHandler);\n        this.viewer.removeHandler('canvas-drag-end', this.canvasGroupDragEndHandler);\n    }\n    addCanvasGroupMask() {\n        const overlays = d3.select(this.viewer.svgOverlay().node().parentNode);\n        const mask = overlays.append('g').attr('data-testid', 'page-mask');\n        this.leftMask = mask\n            .append('rect')\n            .attr('data-testid', 'mime-left-page-mask')\n            .attr('height', '100%')\n            .attr('y', 0)\n            .style('fill', this.backgroundColor);\n        this.rightMask = mask\n            .append('rect')\n            .attr('data-testid', 'mime-right-page-mask')\n            .attr('height', '100%')\n            .attr('y', 0)\n            .style('fill', this.backgroundColor);\n    }\n    setCenter() {\n        this.center = new OpenSeadragon.Point(this.viewer.viewport._containerInnerSize.x / 2, this.viewer.viewport._containerInnerSize.y / 2);\n    }\n    resize() {\n        if (this.disableResize || !this.leftMask || !this.rightMask) {\n            return;\n        }\n        const leftMaskRect = this.getLeftMaskRect();\n        const rightMaskRect = this.getRightMaskRect();\n        this.leftMask.attr('width', leftMaskRect.width).attr('x', leftMaskRect.x);\n        this.rightMask\n            .attr('width', rightMaskRect.width)\n            .attr('x', Math.round(rightMaskRect.x));\n    }\n    getLeftMaskRect() {\n        const imgBounds = new OpenSeadragon.Rect(this.canvasGroupRect.x, this.canvasGroupRect.y, this.canvasGroupRect.width, this.canvasGroupRect.height);\n        const topLeft = this.viewer.viewport.viewportToViewerElementCoordinates(imgBounds.getTopLeft());\n        let width = topLeft.x - ViewerOptions.overlays.canvasGroupMarginInPageView;\n        if (width < 0) {\n            width = 0;\n        }\n        return new Rect({\n            x: 0,\n            width: width,\n        });\n    }\n    getRightMaskRect() {\n        const imgBounds = new OpenSeadragon.Rect(this.canvasGroupRect.x, this.canvasGroupRect.y, this.canvasGroupRect.width, this.canvasGroupRect.height);\n        const topRight = this.viewer.viewport.viewportToViewerElementCoordinates(imgBounds.getTopRight());\n        let width = this.viewer.viewport._containerInnerSize.x - topRight.x;\n        const x = this.viewer.viewport._containerInnerSize.x -\n            width +\n            ViewerOptions.overlays.canvasGroupMarginInPageView;\n        if (width < 0) {\n            width = 0;\n        }\n        return new Rect({\n            x: x,\n            width: width,\n        });\n    }\n    unsubscribe() {\n        if (this.subscriptions) {\n            this.subscriptions.unsubscribe();\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FudmFzLWdyb3VwLW1hc2suanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS92aWV3ZXItc2VydmljZS9jYW52YXMtZ3JvdXAtbWFzay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxNQUFNLElBQUksQ0FBQztBQUN6QixPQUFPLEtBQUssYUFBYSxNQUFNLGVBQWUsQ0FBQztBQUMvQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRXBDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN0QyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFHekQsTUFBTSxPQUFPLGVBQWU7SUFhMUIsWUFDRSxNQUFXLEVBQ0gsWUFBMEI7UUFBMUIsaUJBQVksR0FBWixZQUFZLENBQWM7UUFicEMsb0JBQWUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBSzdCLGtCQUFhLEdBQUcsS0FBSyxDQUFDO1FBNkZkLHFCQUFnQixHQUFHLEdBQUcsRUFBRTtZQUM5QixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDaEIsQ0FBQyxDQUFDO1FBRU0sa0JBQWEsR0FBRyxHQUFHLEVBQUU7WUFDM0IsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNoQixDQUFDLENBQUM7UUFFTSw0QkFBdUIsR0FBRyxHQUFHLEVBQUU7WUFDckMsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7UUFDN0IsQ0FBQyxDQUFDO1FBRU0sMkJBQXNCLEdBQUcsQ0FBQyxDQUFNLEVBQUUsRUFBRTtZQUMxQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFD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LGVBQWUsQ0FBQyxDQUFDLEVBQ3RCLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxFQUN0QixJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFDMUIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQzVCLENBQUM7UUFDRixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxrQ0FBa0MsQ0FDdEUsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUN4QixDQUFDO1FBQ0YsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDcEUsTUFBTSxDQUFDLEdBQ0wsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUMxQyxLQUFLO1lBQ0wsYUFBYSxDQUFDLFFBQVEsQ0FBQywyQkFBMkIsQ0FBQztRQUVyRCxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUNkLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDWixDQUFDO1FBRUQsT0FBTyxJQUFJLElBQUksQ0FBQztZQUNkLENBQUMsRUFBRSxDQUFDO1lBQ0osS0FBSyxFQUFFLEtBQUs7U0FDYixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRU8sV0FBVztRQUNqQixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25DLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgKiBhcyBPcGVuU2VhZHJhZ29uIGZyb20gJ29wZW5zZWFkcmFnb24nO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL21vZGVscy9wb2ludCc7XG5pbXBvcnQgeyBSZWN0IH0gZnJvbSAnLi4vbW9kZWxzL3JlY3QnO1xuaW1wb3J0IHsgVmlld2VyT3B0aW9ucyB9IGZyb20gJy4uL21vZGVscy92aWV3ZXItb3B0aW9ucyc7XG5pbXBvcnQgeyBTdHlsZVNlcnZpY2UgfSBmcm9tICcuLi9zdHlsZS1zZXJ2aWNlL3N0eWxlLnNlcnZpY2UnO1xuXG5leHBvcnQgY2xhc3MgQ2FudmFzR3JvdXBNYXNrIHtcbiAgdmlld2VyOiBhbnk7XG4gIGNhbnZhc0dyb3VwUmVjdCA9IG5ldyBSZWN0KCk7XG5cbiAgbGVmdE1hc2s6IGFueTtcbiAgcmlnaHRNYXNrOiBhbnk7XG5cbiAgZGlzYWJsZVJlc2l6ZSA9IGZhbHNlO1xuICBjZW50ZXIhOiBQb2ludDtcblxuICBiYWNrZ3JvdW5kQ29sb3IhOiBzdHJpbmc7XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9ucyE6IFN1YnNjcmlwdGlvbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICB2aWV3ZXI6IGFueSxcbiAgICBwcml2YXRlIHN0eWxlU2VydmljZTogU3R5bGVTZXJ2aWNlLFxuICApIHtcbiAgICB0aGlzLnZpZXdlciA9IHZpZXdlcjtcbiAgfVxuXG4gIHB1YmxpYyBpbml0aWFsaXplKHBhZ2VCb3VuZHM6IFJlY3QsIHZpc2libGU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuc3R5bGVTZXJ2aWNlLm9uQ2hhbmdlLnN1YnNjcmliZSgoY29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgIGlmICh0aGlzLmxlZnRNYXNrKSB7XG4gICAgICAgICAgICB0aGlzLmxlZnRNYXNrLnN0eWxlKCdmaWxsJywgdGhpcy5iYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5yaWdodE1hc2spIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHRNYXNrLnN0eWxlKCdmaWxsJywgdGhpcy5iYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuY2FudmFzR3JvdXBSZWN0ID0gcGFnZUJvdW5kcztcblxuICAgIHRoaXMuYWRkQ2FudmFzR3JvdXBNYXNrKCk7XG5cbiAgICB0aGlzLnNldENlbnRlcigpO1xuICAgIHRoaXMucmVzaXplKCk7XG5cbiAgICBpZiAodmlzaWJsZSkge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCkge1xuICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIHB1YmxpYyBjaGFuZ2VDYW52YXNHcm91cChwYWdlQm91bmRzOiBSZWN0KSB7XG4gICAgdGhpcy5jYW52YXNHcm91cFJlY3QgPSBwYWdlQm91bmRzO1xuICAgIHRoaXMucmVzaXplKCk7XG4gIH1cblxuICBwdWJsaWMgc2hvdygpOiB2b2lkIHtcbiAgICB0aGlzLmFkZEhhbmRsZXJzKCk7XG4gICAgaWYgKCF0aGlzLmxlZnRNYXNrIHx8ICF0aGlzLnJpZ2h0TWFzaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldENlbnRlcigpO1xuICAgIHRoaXMucmVzaXplKCk7XG4gICAgdGhpcy5sZWZ0TWFzay5hdHRyKCdoZWlnaHQnLCAnMTAwJScpO1xuICAgIHRoaXMucmlnaHRNYXNrLmF0dHIoJ2hlaWdodCcsICcxMDAlJyk7XG4gIH1cblxuICBwdWJsaWMgaGlkZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlbW92ZUhhbmRsZXJzKCk7XG4gICAgaWYgKCF0aGlzLmxlZnRNYXNrIHx8ICF0aGlzLnJpZ2h0TWFzaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmxlZnRNYXNrLmF0dHIoJ2hlaWdodCcsICcwJyk7XG4gICAgdGhpcy5yaWdodE1hc2suYXR0cignaGVpZ2h0JywgJzAnKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkSGFuZGxlcnMoKSB7XG4gICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignYW5pbWF0aW9uJywgdGhpcy5hbmltYXRpb25IYW5kbGVyKTtcbiAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZUhhbmRsZXIpO1xuICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ2NhbnZhcy1waW5jaCcsIHRoaXMuY2FudmFzR3JvdXBQaW5jaEhhbmRsZXIpO1xuICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ2NhbnZhcy1kcmFnJywgdGhpcy5jYW52YXNHcm91cERyYWdIYW5kbGVyKTtcbiAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCdjYW52YXMtZHJhZy1lbmQnLCB0aGlzLmNhbnZhc0dyb3VwRHJhZ0VuZEhhbmRsZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVIYW5kbGVycygpIHtcbiAgICB0aGlzLnZpZXdlci5yZW1vdmVIYW5kbGVyKCdhbmltYXRpb24nLCB0aGlzLmFuaW1hdGlvbkhhbmRsZXIpO1xuICAgIHRoaXMudmlld2VyLnJlbW92ZUhhbmRsZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplSGFuZGxlcik7XG4gICAgdGhpcy52aWV3ZXIucmVtb3ZlSGFuZGxlcignY2FudmFzLXBpbmNoJywgdGhpcy5jYW52YXNHcm91cFBpbmNoSGFuZGxlcik7XG4gICAgdGhpcy52aWV3ZXIucmVtb3ZlSGFuZGxlcignY2FudmFzLWRyYWcnLCB0aGlzLmNhbnZhc0dyb3VwRHJhZ0hhbmRsZXIpO1xuICAgIHRoaXMudmlld2VyLnJlbW92ZUhhbmRsZXIoXG4gICAgICAnY2FudmFzLWRyYWctZW5kJyxcbiAgICAgIHRoaXMuY2FudmFzR3JvdXBEcmFnRW5kSGFuZGxlcixcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBhbmltYXRpb25IYW5kbGVyID0gKCkgPT4ge1xuICAgIHRoaXMucmVzaXplKCk7XG4gIH07XG5cbiAgcHJpdmF0ZSByZXNpemVIYW5kbGVyID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0Q2VudGVyKCk7XG4gICAgdGhpcy5yZXNpemUoKTtcbiAgfTtcblxuICBwcml2YXRlIGNhbnZhc0dyb3VwUGluY2hIYW5kbGVyID0gKCkgPT4ge1xuICAgIHRoaXMuZGlzYWJsZVJlc2l6ZSA9IGZhbHNlO1xuICB9O1xuXG4gIHByaXZhdGUgY2FudmFzR3JvdXBEcmFnSGFuZGxlciA9IChlOiBhbnkpID0+IHtcbiAgICBpZiAoKGUuZGVsdGEueCB8fCBlLmRlbHRhLnkpICYmIGUuc3BlZWQgPiAwICYmIGUuZGlyZWN0aW9uICE9PSAwKSB7XG4gICAgICB0aGlzLmRpc2FibGVSZXNpemUgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGNhbnZhc0dyb3VwRHJhZ0VuZEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgdGhpcy5kaXNhYmxlUmVzaXplID0gZmFsc2U7XG4gICAgdGhpcy5yZXNpemUoKTtcbiAgfTtcblxuICBwcml2YXRlIGFkZENhbnZhc0dyb3VwTWFzaygpIHtcbiAgICBjb25zdCBvdmVybGF5cyA9IGQzLnNlbGVjdCh0aGlzLnZpZXdlci5zdmdPdmVybGF5KCkubm9kZSgpLnBhcmVudE5vZGUpO1xuXG4gICAgY29uc3QgbWFzayA9IG92ZXJsYXlzLmFwcGVuZCgnZycpLmF0dHIoJ2RhdGEtdGVzdGlkJywgJ3BhZ2UtbWFzaycpO1xuXG4gICAgdGhpcy5sZWZ0TWFzayA9IG1hc2tcbiAgICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ2RhdGEtdGVzdGlkJywgJ21pbWUtbGVmdC1wYWdlLW1hc2snKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsICcxMDAlJylcbiAgICAgIC5hdHRyKCd5JywgMClcbiAgICAgIC5zdHlsZSgnZmlsbCcsIHRoaXMuYmFja2dyb3VuZENvbG9yKTtcblxuICAgIHRoaXMucmlnaHRNYXNrID0gbWFza1xuICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cignZGF0YS10ZXN0aWQnLCAnbWltZS1yaWdodC1wYWdlLW1hc2snKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsICcxMDAlJylcbiAgICAgIC5hdHRyKCd5JywgMClcbiAgICAgIC5zdHlsZSgnZmlsbCcsIHRoaXMuYmFja2dyb3VuZENvbG9yKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0Q2VudGVyKCk6IHZvaWQge1xuICAgIHRoaXMuY2VudGVyID0gbmV3IE9wZW5TZWFkcmFnb24uUG9pbnQoXG4gICAgICB0aGlzLnZpZXdlci52aWV3cG9ydC5fY29udGFpbmVySW5uZXJTaXplLnggLyAyLFxuICAgICAgdGhpcy52aWV3ZXIudmlld3BvcnQuX2NvbnRhaW5lcklubmVyU2l6ZS55IC8gMixcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNpemUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZVJlc2l6ZSB8fCAhdGhpcy5sZWZ0TWFzayB8fCAhdGhpcy5yaWdodE1hc2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsZWZ0TWFza1JlY3QgPSB0aGlzLmdldExlZnRNYXNrUmVjdCgpO1xuICAgIGNvbnN0IHJpZ2h0TWFza1JlY3QgPSB0aGlzLmdldFJpZ2h0TWFza1JlY3QoKTtcbiAgICB0aGlzLmxlZnRNYXNrLmF0dHIoJ3dpZHRoJywgbGVmdE1hc2tSZWN0LndpZHRoKS5hdHRyKCd4JywgbGVmdE1hc2tSZWN0LngpO1xuICAgIHRoaXMucmlnaHRNYXNrXG4gICAgICAuYXR0cignd2lkdGgnLCByaWdodE1hc2tSZWN0LndpZHRoKVxuICAgICAgLmF0dHIoJ3gnLCBNYXRoLnJvdW5kKHJpZ2h0TWFza1JlY3QueCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRMZWZ0TWFza1JlY3QoKTogUmVjdCB7XG4gICAgY29uc3QgaW1nQm91bmRzID0gbmV3IE9wZW5TZWFkcmFnb24uUmVjdChcbiAgICAgIHRoaXMuY2FudmFzR3JvdXBSZWN0LngsXG4gICAgICB0aGlzLmNhbnZhc0dyb3VwUmVjdC55LFxuICAgICAgdGhpcy5jYW52YXNHcm91cFJlY3Qud2lkdGgsXG4gICAgICB0aGlzLmNhbnZhc0dyb3VwUmVjdC5oZWlnaHQsXG4gICAgKTtcbiAgICBjb25zdCB0b3BMZWZ0ID0gdGhpcy52aWV3ZXIudmlld3BvcnQudmlld3BvcnRUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlcyhcbiAgICAgIGltZ0JvdW5kcy5nZXRUb3BMZWZ0KCksXG4gICAgKTtcbiAgICBsZXQgd2lkdGggPSB0b3BMZWZ0LnggLSBWaWV3ZXJPcHRpb25zLm92ZXJsYXlzLmNhbnZhc0dyb3VwTWFyZ2luSW5QYWdlVmlldztcblxuICAgIGlmICh3aWR0aCA8IDApIHtcbiAgICAgIHdpZHRoID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlY3Qoe1xuICAgICAgeDogMCxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UmlnaHRNYXNrUmVjdCgpOiBSZWN0IHtcbiAgICBjb25zdCBpbWdCb3VuZHMgPSBuZXcgT3BlblNlYWRyYWdvbi5SZWN0KFxuICAgICAgdGhpcy5jYW52YXNHcm91cFJlY3QueCxcbiAgICAgIHRoaXMuY2FudmFzR3JvdXBSZWN0LnksXG4gICAgICB0aGlzLmNhbnZhc0dyb3VwUmVjdC53aWR0aCxcbiAgICAgIHRoaXMuY2FudmFzR3JvdXBSZWN0LmhlaWdodCxcbiAgICApO1xuICAgIGNvbnN0IHRvcFJpZ2h0ID0gdGhpcy52aWV3ZXIudmlld3BvcnQudmlld3BvcnRUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlcyhcbiAgICAgIGltZ0JvdW5kcy5nZXRUb3BSaWdodCgpLFxuICAgICk7XG4gICAgbGV0IHdpZHRoID0gdGhpcy52aWV3ZXIudmlld3BvcnQuX2NvbnRhaW5lcklubmVyU2l6ZS54IC0gdG9wUmlnaHQueDtcbiAgICBjb25zdCB4ID1cbiAgICAgIHRoaXMudmlld2VyLnZpZXdwb3J0Ll9jb250YWluZXJJbm5lclNpemUueCAtXG4gICAgICB3aWR0aCArXG4gICAgICBWaWV3ZXJPcHRpb25zLm92ZXJsYXlzLmNhbnZhc0dyb3VwTWFyZ2luSW5QYWdlVmlldztcblxuICAgIGlmICh3aWR0aCA8IDApIHtcbiAgICAgIHdpZHRoID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlY3Qoe1xuICAgICAgeDogeCxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgdW5zdWJzY3JpYmUoKSB7XG4gICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9ucykge1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG59XG4iXX0=","import { Direction } from '../models/direction';\nimport { ViewerMode } from '../models/viewer-mode';\nimport { ViewerOptions } from '../models/viewer-options';\nimport { ViewingDirection } from '../models/viewing-direction';\nimport { CalculateNextCanvasGroupFactory } from './calculate-next-canvas-group-factory';\nexport class DefaultGoToCanvasGroupStrategy {\n    constructor(viewer, zoomStrategy, canvasService, modeService, config, viewingDirection) {\n        this.viewer = viewer;\n        this.zoomStrategy = zoomStrategy;\n        this.canvasService = canvasService;\n        this.modeService = modeService;\n        this.config = config;\n        this.viewingDirection = viewingDirection;\n    }\n    goToCanvasGroup(canvasGroup) {\n        const oldCanvasGroupIndex = this.canvasService.currentCanvasGroupIndex;\n        this.canvasService.currentCanvasGroupIndex =\n            this.canvasService.constrainToRange(canvasGroup.canvasGroupIndex);\n        const newCanvasGroup = this.canvasService.getCanvasGroupRect(this.canvasService.currentCanvasGroupIndex);\n        if (this.modeService.isPageZoomed() &&\n            this.config.preserveZoomOnCanvasGroupChange) {\n            let x;\n            if (oldCanvasGroupIndex > canvasGroup.canvasGroupIndex) {\n                if (this.config.startOnTopOnCanvasGroupChange) {\n                    const canvasGroupIndexes = this.canvasService.getCanvasesPerCanvasGroup(canvasGroup.canvasGroupIndex);\n                    const previousCanvasIndex = canvasGroupIndexes[canvasGroupIndexes.length - 1];\n                    const previousCanvasRect = this.canvasService.getCanvasRect(previousCanvasIndex);\n                    x =\n                        this.viewingDirection === ViewingDirection.LTR\n                            ? this.leftX(previousCanvasRect)\n                            : this.rightX(newCanvasGroup);\n                }\n                else {\n                    x =\n                        this.viewingDirection === ViewingDirection.LTR\n                            ? this.rightX(newCanvasGroup)\n                            : this.leftX(newCanvasGroup);\n                }\n            }\n            else {\n                x =\n                    this.viewingDirection === ViewingDirection.LTR\n                        ? this.leftX(newCanvasGroup)\n                        : this.rightX(newCanvasGroup);\n            }\n            const y = this.config.startOnTopOnCanvasGroupChange &&\n                oldCanvasGroupIndex !== canvasGroup.canvasGroupIndex\n                ? newCanvasGroup.y +\n                    this.getViewportBounds().height / 2 -\n                    this.viewer.collectionTileMargin\n                : this.getViewportCenter().y;\n            this.panTo(x, y, canvasGroup.immediately);\n        }\n        else if (this.modeService.isPageZoomed()) {\n            const oldCanvasGroupCenter = this.canvasService.getCanvasGroupRect(oldCanvasGroupIndex);\n            this.panToCenter(oldCanvasGroupCenter, canvasGroup.immediately);\n            this.zoomStrategy.goToHomeZoom();\n            setTimeout(() => {\n                this.panToCenter(newCanvasGroup, canvasGroup.immediately);\n                this.modeService.mode = ViewerMode.PAGE;\n            }, ViewerOptions.transitions.OSDAnimationTime);\n        }\n        else {\n            this.panToCenter(newCanvasGroup, canvasGroup.immediately);\n        }\n    }\n    goToPreviousCanvasGroup(currentCanvasIndex) {\n        if (this.canvasService.currentCanvasGroupIndex > 0) {\n            const viewportCenter = this.getViewportCenter();\n            const currentCanvasGroupIndex = this.canvasService.findClosestCanvasGroupIndex(viewportCenter);\n            const calculateNextCanvasGroupStrategy = CalculateNextCanvasGroupFactory.create(ViewerMode.NAVIGATOR);\n            const newCanvasGroupIndex = calculateNextCanvasGroupStrategy.calculateNextCanvasGroup({\n                direction: Direction.PREVIOUS,\n                currentCanvasGroupIndex: currentCanvasGroupIndex,\n                currentCanvasGroupCenter: currentCanvasIndex,\n                viewingDirection: this.viewingDirection,\n            });\n            this.goToCanvasGroup({\n                canvasGroupIndex: newCanvasGroupIndex,\n                immediately: false,\n            });\n        }\n    }\n    goToNextCanvasGroup(currentCanvasIndex) {\n        if (this.canvasService.currentCanvasGroupIndex <\n            this.canvasService.numberOfCanvasGroups) {\n            const viewportCenter = this.getViewportCenter();\n            const currentCanvasGroupIndex = this.canvasService.findClosestCanvasGroupIndex(viewportCenter);\n            const calculateNextCanvasGroupStrategy = CalculateNextCanvasGroupFactory.create(ViewerMode.NAVIGATOR);\n            const newCanvasGroupIndex = calculateNextCanvasGroupStrategy.calculateNextCanvasGroup({\n                direction: Direction.NEXT,\n                currentCanvasGroupIndex: currentCanvasGroupIndex,\n                currentCanvasGroupCenter: currentCanvasIndex,\n                viewingDirection: this.viewingDirection,\n            });\n            this.goToCanvasGroup({\n                canvasGroupIndex: newCanvasGroupIndex,\n                immediately: false,\n            });\n        }\n    }\n    centerCurrentCanvas() {\n        const currentCanvasGroupIndex = this.canvasService.currentCanvasGroupIndex;\n        const currentCanvasGroupCenter = this.canvasService.getCanvasGroupRect(currentCanvasGroupIndex);\n        this.panToCenter(currentCanvasGroupCenter, false);\n    }\n    leftX(canvas) {\n        return canvas.x + this.getViewportBounds().width / 2;\n    }\n    rightX(canvas) {\n        return canvas.x + canvas.width - this.getViewportBounds().width / 2;\n    }\n    panToCenter(canvasGroup, immediately = false) {\n        this.panTo(canvasGroup.centerX, canvasGroup.centerY, immediately);\n    }\n    panTo(x, y, immediately = false) {\n        this.viewer.viewport.panTo({\n            x: x,\n            y: y,\n        }, immediately);\n    }\n    getViewportCenter() {\n        return this.viewer.viewport.getCenter(true);\n    }\n    getViewportBounds() {\n        return this.viewer.viewport.getBounds(true);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ28tdG8tY2FudmFzLWdyb3VwLXN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvdmlld2VyLXNlcnZpY2UvZ28tdG8tY2FudmFzLWdyb3VwLXN0cmF0ZWd5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUdoRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDbkQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQy9ELE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBZ0J4RixNQUFNLE9BQU8sOEJBQThCO0lBQ3pDLFlBQ1UsTUFBVyxFQUNYLFlBQXNCLEVBQ3RCLGFBQTRCLEVBQzVCLFdBQXdCLEVBQ3hCLE1BQXdCLEVBQ3hCLGdCQUFrQztRQUxsQyxXQUFNLEdBQU4sTUFBTSxDQUFLO1FBQ1gsaUJBQVksR0FBWixZQUFZLENBQVU7UUFDdEIsa0JBQWEsR0FBYixhQUFhLENBQWU7UUFDNUIsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFDeEIsV0FBTSxHQUFOLE1BQU0sQ0FBa0I7UUFDeEIscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtJQUN6QyxDQUFDO0lBRUosZUFBZSxDQUFDLFdBQXdCO1FBQ3RDLE1BQU0sbUJBQW1CLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyx1QkFBdUIsQ0FBQztRQUN2RSxJQUFJLENBQUMsYUFBYSxDQUFDLHVCQUF1QjtZQUN4QyxJQUFJLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3BFLE1BQU0sY0FBYyxHQUFHLElBQUksQ0FB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QUMsQ0FBQztJQUNwRSxDQUFDO0lBRU8sS0FBSyxDQUFDLENBQVMsRUFBRSxDQUFTLEVBQUUsV0FBVyxHQUFHLEtBQUs7UUFDckQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUN4QjtZQUNFLENBQUMsRUFBRSxDQUFDO1lBQ0osQ0FBQyxFQUFFLENBQUM7U0FDTCxFQUNELFdBQVcsQ0FDWixDQUFDO0lBQ0osQ0FBQztJQUVPLGlCQUFpQjtRQUN2QixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRU8saUJBQWlCO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlDLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENhbnZhc1NlcnZpY2UgfSBmcm9tICcuLi9jYW52YXMtc2VydmljZS9jYW52YXMtc2VydmljZSc7XG5pbXBvcnQgeyBNaW1lVmlld2VyQ29uZmlnIH0gZnJvbSAnLi4vbWltZS12aWV3ZXItY29uZmlnJztcbmltcG9ydCB7IE1vZGVTZXJ2aWNlIH0gZnJvbSAnLi4vbW9kZS1zZXJ2aWNlL21vZGUuc2VydmljZSc7XG5pbXBvcnQgeyBEaXJlY3Rpb24gfSBmcm9tICcuLi9tb2RlbHMvZGlyZWN0aW9uJztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vbW9kZWxzL3BvaW50JztcbmltcG9ydCB7IFJlY3QgfSBmcm9tICcuLi9tb2RlbHMvcmVjdCc7XG5pbXBvcnQgeyBWaWV3ZXJNb2RlIH0gZnJvbSAnLi4vbW9kZWxzL3ZpZXdlci1tb2RlJztcbmltcG9ydCB7IFZpZXdlck9wdGlvbnMgfSBmcm9tICcuLi9tb2RlbHMvdmlld2VyLW9wdGlvbnMnO1xuaW1wb3J0IHsgVmlld2luZ0RpcmVjdGlvbiB9IGZyb20gJy4uL21vZGVscy92aWV3aW5nLWRpcmVjdGlvbic7XG5pbXBvcnQgeyBDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBGYWN0b3J5IH0gZnJvbSAnLi9jYWxjdWxhdGUtbmV4dC1jYW52YXMtZ3JvdXAtZmFjdG9yeSc7XG5pbXBvcnQgeyBTdHJhdGVneSB9IGZyb20gJy4vem9vbS1zdHJhdGVneSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FudmFzR3JvdXAge1xuICBjYW52YXNHcm91cEluZGV4OiBudW1iZXI7XG4gIGRpcmVjdGlvbj86IERpcmVjdGlvbjtcbiAgaW1tZWRpYXRlbHk/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdvVG9DYW52YXNHcm91cFN0cmF0ZWd5IHtcbiAgZ29Ub0NhbnZhc0dyb3VwKGNhbnZhc0dyb3VwOiBDYW52YXNHcm91cCk6IHZvaWQ7XG4gIGdvVG9QcmV2aW91c0NhbnZhc0dyb3VwKGN1cnJlbnRDYW52YXNJbmRleDogbnVtYmVyKTogdm9pZDtcbiAgZ29Ub05leHRDYW52YXNHcm91cChjdXJyZW50Q2FudmFzSW5kZXg6IG51bWJlcik6IHZvaWQ7XG4gIGNlbnRlckN1cnJlbnRDYW52YXMoKTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRHb1RvQ2FudmFzR3JvdXBTdHJhdGVneSBpbXBsZW1lbnRzIEdvVG9DYW52YXNHcm91cFN0cmF0ZWd5IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSB2aWV3ZXI6IGFueSxcbiAgICBwcml2YXRlIHpvb21TdHJhdGVneTogU3RyYXRlZ3ksXG4gICAgcHJpdmF0ZSBjYW52YXNTZXJ2aWNlOiBDYW52YXNTZXJ2aWNlLFxuICAgIHByaXZhdGUgbW9kZVNlcnZpY2U6IE1vZGVTZXJ2aWNlLFxuICAgIHByaXZhdGUgY29uZmlnOiBNaW1lVmlld2VyQ29uZmlnLFxuICAgIHByaXZhdGUgdmlld2luZ0RpcmVjdGlvbjogVmlld2luZ0RpcmVjdGlvbixcbiAgKSB7fVxuXG4gIGdvVG9DYW52YXNHcm91cChjYW52YXNHcm91cDogQ2FudmFzR3JvdXApIHtcbiAgICBjb25zdCBvbGRDYW52YXNHcm91cEluZGV4ID0gdGhpcy5jYW52YXNTZXJ2aWNlLmN1cnJlbnRDYW52YXNHcm91cEluZGV4O1xuICAgIHRoaXMuY2FudmFzU2VydmljZS5jdXJyZW50Q2FudmFzR3JvdXBJbmRleCA9XG4gICAgICB0aGlzLmNhbnZhc1NlcnZpY2UuY29uc3RyYWluVG9SYW5nZShjYW52YXNHcm91cC5jYW52YXNHcm91cEluZGV4KTtcbiAgICBjb25zdCBuZXdDYW52YXNHcm91cCA9IHRoaXMuY2FudmFzU2VydmljZS5nZXRDYW52YXNHcm91cFJlY3QoXG4gICAgICB0aGlzLmNhbnZhc1NlcnZpY2UuY3VycmVudENhbnZhc0dyb3VwSW5kZXgsXG4gICAgKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLm1vZGVTZXJ2aWNlLmlzUGFnZVpvb21lZCgpICYmXG4gICAgICB0aGlzLmNvbmZpZy5wcmVzZXJ2ZVpvb21PbkNhbnZhc0dyb3VwQ2hhbmdlXG4gICAgKSB7XG4gICAgICBsZXQgeDogbnVtYmVyO1xuXG4gICAgICBpZiAob2xkQ2FudmFzR3JvdXBJbmRleCA+IGNhbnZhc0dyb3VwLmNhbnZhc0dyb3VwSW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnN0YXJ0T25Ub3BPbkNhbnZhc0dyb3VwQ2hhbmdlKSB7XG4gICAgICAgICAgY29uc3QgY2FudmFzR3JvdXBJbmRleGVzID1cbiAgICAgICAgICAgIHRoaXMuY2FudmFzU2VydmljZS5nZXRDYW52YXNlc1BlckNhbnZhc0dyb3VwKFxuICAgICAgICAgICAgICBjYW52YXNHcm91cC5jYW52YXNHcm91cEluZGV4LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c0NhbnZhc0luZGV4ID1cbiAgICAgICAgICAgIGNhbnZhc0dyb3VwSW5kZXhlc1tjYW52YXNHcm91cEluZGV4ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgY29uc3QgcHJldmlvdXNDYW52YXNSZWN0ID1cbiAgICAgICAgICAgIHRoaXMuY2FudmFzU2VydmljZS5nZXRDYW52YXNSZWN0KHByZXZpb3VzQ2FudmFzSW5kZXgpO1xuICAgICAgICAgIHggPVxuICAgICAgICAgICAgdGhpcy52aWV3aW5nRGlyZWN0aW9uID09PSBWaWV3aW5nRGlyZWN0aW9uLkxUUlxuICAgICAgICAgICAgICA/IHRoaXMubGVmdFgocHJldmlvdXNDYW52YXNSZWN0KVxuICAgICAgICAgICAgICA6IHRoaXMucmlnaHRYKG5ld0NhbnZhc0dyb3VwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4ID1cbiAgICAgICAgICAgIHRoaXMudmlld2luZ0RpcmVjdGlvbiA9PT0gVmlld2luZ0RpcmVjdGlvbi5MVFJcbiAgICAgICAgICAgICAgPyB0aGlzLnJpZ2h0WChuZXdDYW52YXNHcm91cClcbiAgICAgICAgICAgICAgOiB0aGlzLmxlZnRYKG5ld0NhbnZhc0dyb3VwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeCA9XG4gICAgICAgICAgdGhpcy52aWV3aW5nRGlyZWN0aW9uID09PSBWaWV3aW5nRGlyZWN0aW9uLkxUUlxuICAgICAgICAgICAgPyB0aGlzLmxlZnRYKG5ld0NhbnZhc0dyb3VwKVxuICAgICAgICAgICAgOiB0aGlzLnJpZ2h0WChuZXdDYW52YXNHcm91cCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHkgPVxuICAgICAgICB0aGlzLmNvbmZpZy5zdGFydE9uVG9wT25DYW52YXNHcm91cENoYW5nZSAmJlxuICAgICAgICBvbGRDYW52YXNHcm91cEluZGV4ICE9PSBjYW52YXNHcm91cC5jYW52YXNHcm91cEluZGV4XG4gICAgICAgICAgPyBuZXdDYW52YXNHcm91cC55ICtcbiAgICAgICAgICAgIHRoaXMuZ2V0Vmlld3BvcnRCb3VuZHMoKS5oZWlnaHQgLyAyIC1cbiAgICAgICAgICAgIHRoaXMudmlld2VyLmNvbGxlY3Rpb25UaWxlTWFyZ2luXG4gICAgICAgICAgOiB0aGlzLmdldFZpZXdwb3J0Q2VudGVyKCkueTtcblxuICAgICAgdGhpcy5wYW5Ubyh4LCB5LCBjYW52YXNHcm91cC5pbW1lZGlhdGVseSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm1vZGVTZXJ2aWNlLmlzUGFnZVpvb21lZCgpKSB7XG4gICAgICBjb25zdCBvbGRDYW52YXNHcm91cENlbnRlciA9XG4gICAgICAgIHRoaXMuY2FudmFzU2VydmljZS5nZXRDYW52YXNHcm91cFJlY3Qob2xkQ2FudmFzR3JvdXBJbmRleCk7XG4gICAgICB0aGlzLnBhblRvQ2VudGVyKG9sZENhbnZhc0dyb3VwQ2VudGVyLCBjYW52YXNHcm91cC5pbW1lZGlhdGVseSk7XG4gICAgICB0aGlzLnpvb21TdHJhdGVneS5nb1RvSG9tZVpvb20oKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnBhblRvQ2VudGVyKG5ld0NhbnZhc0dyb3VwLCBjYW52YXNHcm91cC5pbW1lZGlhdGVseSk7XG4gICAgICAgIHRoaXMubW9kZVNlcnZpY2UubW9kZSA9IFZpZXdlck1vZGUuUEFHRTtcbiAgICAgIH0sIFZpZXdlck9wdGlvbnMudHJhbnNpdGlvbnMuT1NEQW5pbWF0aW9uVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGFuVG9DZW50ZXIobmV3Q2FudmFzR3JvdXAsIGNhbnZhc0dyb3VwLmltbWVkaWF0ZWx5KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ29Ub1ByZXZpb3VzQ2FudmFzR3JvdXAoY3VycmVudENhbnZhc0luZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jYW52YXNTZXJ2aWNlLmN1cnJlbnRDYW52YXNHcm91cEluZGV4ID4gMCkge1xuICAgICAgY29uc3Qgdmlld3BvcnRDZW50ZXIgPSB0aGlzLmdldFZpZXdwb3J0Q2VudGVyKCk7XG4gICAgICBjb25zdCBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCA9XG4gICAgICAgIHRoaXMuY2FudmFzU2VydmljZS5maW5kQ2xvc2VzdENhbnZhc0dyb3VwSW5kZXgodmlld3BvcnRDZW50ZXIpO1xuXG4gICAgICBjb25zdCBjYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneSA9XG4gICAgICAgIENhbGN1bGF0ZU5leHRDYW52YXNHcm91cEZhY3RvcnkuY3JlYXRlKFZpZXdlck1vZGUuTkFWSUdBVE9SKTtcbiAgICAgIGNvbnN0IG5ld0NhbnZhc0dyb3VwSW5kZXggPVxuICAgICAgICBjYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBTdHJhdGVneS5jYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXAoe1xuICAgICAgICAgIGRpcmVjdGlvbjogRGlyZWN0aW9uLlBSRVZJT1VTLFxuICAgICAgICAgIGN1cnJlbnRDYW52YXNHcm91cEluZGV4OiBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCxcbiAgICAgICAgICBjdXJyZW50Q2FudmFzR3JvdXBDZW50ZXI6IGN1cnJlbnRDYW52YXNJbmRleCxcbiAgICAgICAgICB2aWV3aW5nRGlyZWN0aW9uOiB0aGlzLnZpZXdpbmdEaXJlY3Rpb24sXG4gICAgICAgIH0pO1xuICAgICAgdGhpcy5nb1RvQ2FudmFzR3JvdXAoe1xuICAgICAgICBjYW52YXNHcm91cEluZGV4OiBuZXdDYW52YXNHcm91cEluZGV4LFxuICAgICAgICBpbW1lZGlhdGVseTogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ29Ub05leHRDYW52YXNHcm91cChjdXJyZW50Q2FudmFzSW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIHRoaXMuY2FudmFzU2VydmljZS5jdXJyZW50Q2FudmFzR3JvdXBJbmRleCA8XG4gICAgICB0aGlzLmNhbnZhc1NlcnZpY2UubnVtYmVyT2ZDYW52YXNHcm91cHNcbiAgICApIHtcbiAgICAgIGNvbnN0IHZpZXdwb3J0Q2VudGVyID0gdGhpcy5nZXRWaWV3cG9ydENlbnRlcigpO1xuICAgICAgY29uc3QgY3VycmVudENhbnZhc0dyb3VwSW5kZXggPVxuICAgICAgICB0aGlzLmNhbnZhc1NlcnZpY2UuZmluZENsb3Nlc3RDYW52YXNHcm91cEluZGV4KHZpZXdwb3J0Q2VudGVyKTtcblxuICAgICAgY29uc3QgY2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwU3RyYXRlZ3kgPVxuICAgICAgICBDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBGYWN0b3J5LmNyZWF0ZShWaWV3ZXJNb2RlLk5BVklHQVRPUik7XG4gICAgICBjb25zdCBuZXdDYW52YXNHcm91cEluZGV4ID1cbiAgICAgICAgY2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwU3RyYXRlZ3kuY2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwKHtcbiAgICAgICAgICBkaXJlY3Rpb246IERpcmVjdGlvbi5ORVhULFxuICAgICAgICAgIGN1cnJlbnRDYW52YXNHcm91cEluZGV4OiBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCxcbiAgICAgICAgICBjdXJyZW50Q2FudmFzR3JvdXBDZW50ZXI6IGN1cnJlbnRDYW52YXNJbmRleCxcbiAgICAgICAgICB2aWV3aW5nRGlyZWN0aW9uOiB0aGlzLnZpZXdpbmdEaXJlY3Rpb24sXG4gICAgICAgIH0pO1xuICAgICAgdGhpcy5nb1RvQ2FudmFzR3JvdXAoe1xuICAgICAgICBjYW52YXNHcm91cEluZGV4OiBuZXdDYW52YXNHcm91cEluZGV4LFxuICAgICAgICBpbW1lZGlhdGVseTogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgY2VudGVyQ3VycmVudENhbnZhcygpOiB2b2lkIHtcbiAgICBjb25zdCBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCA9IHRoaXMuY2FudmFzU2VydmljZS5jdXJyZW50Q2FudmFzR3JvdXBJbmRleDtcbiAgICBjb25zdCBjdXJyZW50Q2FudmFzR3JvdXBDZW50ZXIgPSB0aGlzLmNhbnZhc1NlcnZpY2UuZ2V0Q2FudmFzR3JvdXBSZWN0KFxuICAgICAgY3VycmVudENhbnZhc0dyb3VwSW5kZXgsXG4gICAgKTtcbiAgICB0aGlzLnBhblRvQ2VudGVyKGN1cnJlbnRDYW52YXNHcm91cENlbnRlciwgZmFsc2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBsZWZ0WChjYW52YXM6IFJlY3QpOiBudW1iZXIge1xuICAgIHJldHVybiBjYW52YXMueCArIHRoaXMuZ2V0Vmlld3BvcnRCb3VuZHMoKS53aWR0aCAvIDI7XG4gIH1cblxuICBwcml2YXRlIHJpZ2h0WChjYW52YXM6IFJlY3QpOiBudW1iZXIge1xuICAgIHJldHVybiBjYW52YXMueCArIGNhbnZhcy53aWR0aCAtIHRoaXMuZ2V0Vmlld3BvcnRCb3VuZHMoKS53aWR0aCAvIDI7XG4gIH1cblxuICBwcml2YXRlIHBhblRvQ2VudGVyKGNhbnZhc0dyb3VwOiBSZWN0LCBpbW1lZGlhdGVseSA9IGZhbHNlKTogdm9pZCB7XG4gICAgdGhpcy5wYW5UbyhjYW52YXNHcm91cC5jZW50ZXJYLCBjYW52YXNHcm91cC5jZW50ZXJZLCBpbW1lZGlhdGVseSk7XG4gIH1cblxuICBwcml2YXRlIHBhblRvKHg6IG51bWJlciwgeTogbnVtYmVyLCBpbW1lZGlhdGVseSA9IGZhbHNlKTogdm9pZCB7XG4gICAgdGhpcy52aWV3ZXIudmlld3BvcnQucGFuVG8oXG4gICAgICB7XG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHksXG4gICAgICB9LFxuICAgICAgaW1tZWRpYXRlbHksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Vmlld3BvcnRDZW50ZXIoKTogUG9pbnQge1xuICAgIHJldHVybiB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRDZW50ZXIodHJ1ZSk7XG4gIH1cblxuICBwcml2YXRlIGdldFZpZXdwb3J0Qm91bmRzKCk6IFJlY3Qge1xuICAgIHJldHVybiB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRCb3VuZHModHJ1ZSk7XG4gIH1cbn1cbiJdfQ==","export var DrawerType;\n(function (DrawerType) {\n    DrawerType[\"HTML\"] = \"html\";\n    DrawerType[\"CANVAS\"] = \"canvas\";\n    DrawerType[\"WEBGL\"] = \"webgl\";\n})(DrawerType || (DrawerType = {}));\nexport function getDrawerType() {\n    const userAgent = navigator.userAgent ?? '';\n    const platform = navigator.userAgentData?.platform ?? navigator.platform ?? '';\n    const touch = isTouchDevice();\n    if (isIOS(userAgent, platform, touch)) {\n        return DrawerType.HTML;\n    }\n    else if (isMacDesktop(platform, touch)) {\n        return DrawerType.CANVAS;\n    }\n    else {\n        // Temporary workaround: force Canvas rendering until OpenSeadragon has full WebGL support.\n        // See: https://github.com/openseadragon/openseadragon/issues/2604\n        return DrawerType.CANVAS;\n    }\n}\nfunction isTouchDevice() {\n    return 'ontouchstart' in window || navigator.maxTouchPoints > 1;\n}\nfunction isIOS(userAgent, platform, touch) {\n    return (/iPhone|iPad|iPod/.test(userAgent) ||\n        platform.includes('iOS') ||\n        (platform === 'MacIntel' && touch));\n}\nfunction isMacDesktop(platform, touch) {\n    return platform.includes('macOS') || (platform === 'MacIntel' && !touch);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJhd2VyLXV0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvdmlld2VyLXNlcnZpY2UvZHJhd2VyLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBTixJQUFZLFVBSVg7QUFKRCxXQUFZLFVBQVU7SUFDcEIsMkJBQWEsQ0FBQTtJQUNiLCtCQUFpQixDQUFBO0lBQ2pCLDZCQUFlLENBQUE7QUFDakIsQ0FBQyxFQUpXLFVBQVUsS0FBVixVQUFVLFFBSXJCO0FBRUQsTUFBTSxVQUFVLGFBQWE7SUFDM0IsTUFBTSxTQUFTLEdBQUcsU0FBUyxDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUM7SUFDNUMsTUFBTSxRQUFRLEdBQ1gsU0FBaUIsQ0FBQyxhQUFhLEVBQUUsUUFBUSxJQUFJLFNBQVMsQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFDO0lBQ3pFLE1BQU0sS0FBSyxHQUFHLGFBQWEsRUFBRSxDQUFDO0lBRTlCLElBQUksS0FBSyxDQUFDLFNBQVMsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUN0QyxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUM7SUFDekIsQ0FBQztTQUFNLElBQUksWUFBWSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ3pDLE9BQU8sVUFBVSxDQUFDLE1BQU0sQ0FBQztJQUMzQixDQUFDO1NBQU0sQ0FBQztRQUNOLDJGQUEyRjtRQUMzRixrRUFBa0U7UUFDbEUsT0FBTyxVQUFVLENBQUMsTUFBTSxDQUFDO0lBQzNCLENBQUM7QUFDSCxDQUFDO0FBRUQsU0FBUyxhQUFhO0lBQ3BCLE9BQU8sY0FBYyxJQUFJLE1BQU0sSUFBSSxTQUFTLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQztBQUNsRSxDQUFDO0FBRUQsU0FBUyxLQUFLLENBQUMsU0FBaUIsRUFBRSxRQUFnQixFQUFFLEtBQWM7SUFDaEUsT0FBTyxDQUNMLGtCQUFrQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDbEMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDeEIsQ0FBQyxRQUFRLEtBQUssVUFBVSxJQUFJLEtBQUssQ0FBQyxDQUNuQyxDQUFDO0FBQ0osQ0FBQztBQUVELFNBQVMsWUFBWSxDQUFDLFFBQWdCLEVBQUUsS0FBYztJQUNwRCxPQUFPLFFBQVEsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLEtBQUssVUFBVSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDM0UsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIERyYXdlclR5cGUge1xuICBIVE1MID0gJ2h0bWwnLFxuICBDQU5WQVMgPSAnY2FudmFzJyxcbiAgV0VCR0wgPSAnd2ViZ2wnLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHJhd2VyVHlwZSgpOiBEcmF3ZXJUeXBlIHtcbiAgY29uc3QgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudCA/PyAnJztcbiAgY29uc3QgcGxhdGZvcm0gPVxuICAgIChuYXZpZ2F0b3IgYXMgYW55KS51c2VyQWdlbnREYXRhPy5wbGF0Zm9ybSA/PyBuYXZpZ2F0b3IucGxhdGZvcm0gPz8gJyc7XG4gIGNvbnN0IHRvdWNoID0gaXNUb3VjaERldmljZSgpO1xuXG4gIGlmIChpc0lPUyh1c2VyQWdlbnQsIHBsYXRmb3JtLCB0b3VjaCkpIHtcbiAgICByZXR1cm4gRHJhd2VyVHlwZS5IVE1MO1xuICB9IGVsc2UgaWYgKGlzTWFjRGVza3RvcChwbGF0Zm9ybSwgdG91Y2gpKSB7XG4gICAgcmV0dXJuIERyYXdlclR5cGUuQ0FOVkFTO1xuICB9IGVsc2Uge1xuICAgIC8vIFRlbXBvcmFyeSB3b3JrYXJvdW5kOiBmb3JjZSBDYW52YXMgcmVuZGVyaW5nIHVudGlsIE9wZW5TZWFkcmFnb24gaGFzIGZ1bGwgV2ViR0wgc3VwcG9ydC5cbiAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuc2VhZHJhZ29uL29wZW5zZWFkcmFnb24vaXNzdWVzLzI2MDRcbiAgICByZXR1cm4gRHJhd2VyVHlwZS5DQU5WQVM7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNUb3VjaERldmljZSgpOiBib29sZWFuIHtcbiAgcmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxO1xufVxuXG5mdW5jdGlvbiBpc0lPUyh1c2VyQWdlbnQ6IHN0cmluZywgcGxhdGZvcm06IHN0cmluZywgdG91Y2g6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICAvaVBob25lfGlQYWR8aVBvZC8udGVzdCh1c2VyQWdlbnQpIHx8XG4gICAgcGxhdGZvcm0uaW5jbHVkZXMoJ2lPUycpIHx8XG4gICAgKHBsYXRmb3JtID09PSAnTWFjSW50ZWwnICYmIHRvdWNoKVxuICApO1xufVxuXG5mdW5jdGlvbiBpc01hY0Rlc2t0b3AocGxhdGZvcm06IHN0cmluZywgdG91Y2g6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgcmV0dXJuIHBsYXRmb3JtLmluY2x1ZGVzKCdtYWNPUycpIHx8IChwbGF0Zm9ybSA9PT0gJ01hY0ludGVsJyAmJiAhdG91Y2gpO1xufVxuIl19","import * as OpenSeadragon from 'openseadragon';\nimport { ViewerOptions } from '../models/viewer-options';\nimport { getDrawerType } from './drawer-utils';\nexport class OptionsFactory {\n    static create(id, mimeViewerConfig) {\n        let options = OpenSeadragon.DEFAULT_SETTINGS;\n        return {\n            ...options,\n            id: id,\n            panVertical: true,\n            drawer: getDrawerType(),\n            minZoomImageRatio: 1,\n            maxZoomPixelRatio: 5,\n            smoothTileEdgesMinZoom: 1,\n            preserveImageSizeOnResize: true,\n            visibilityRatio: 0,\n            showNavigationControl: false,\n            animationTime: ViewerOptions.transitions.OSDAnimationTime / 1000,\n            ajaxWithCredentials: mimeViewerConfig.withCredentials,\n            loadTilesWithAjax: mimeViewerConfig.loadTilesWithAjax,\n            crossOriginPolicy: mimeViewerConfig.crossOriginPolicy,\n            ajaxHeaders: mimeViewerConfig.ajaxHeaders,\n            gestureSettingsMouse: {\n                ...options.gestureSettingsMouse,\n                scrollToZoom: false,\n                clickToZoom: false,\n            },\n            gestureSettingsTouch: {\n                ...options.gestureSettingsTouch,\n                dblClickToZoom: false,\n                pinchToZoom: false,\n                flickEnabled: false,\n            },\n            gestureSettingsPen: {\n                ...options.gestureSettingsPen,\n                clickToZoom: false,\n            },\n            gestureSettingsUnknown: {\n                ...options.gestureSettingsUnknown,\n                scrollToZoom: false,\n                dblClickToZoom: false,\n                pinchToZoom: false,\n                flickEnabled: false,\n            },\n        };\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3B0aW9ucy5mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvdmlld2VyLXNlcnZpY2Uvb3B0aW9ucy5mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxhQUFhLE1BQU0sZUFBZSxDQUFDO0FBRS9DLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFL0MsTUFBTSxPQUFPLGNBQWM7SUFDbEIsTUFBTSxDQUFDLE1BQU0sQ0FDbEIsRUFBVSxFQUNWLGdCQUFrQztRQUVsQyxJQUFJLE9BQU8sR0FBMEIsYUFBYSxDQUFDLGdCQUFnQixDQUFDO1FBRXBFLE9BQVk7WUFDVixHQUFHLE9BQU87WUFDVixFQUFFLEVBQUUsRUFBRTtZQUNOLFdBQVcsRUFBRSxJQUFJO1lBQ2pCLE1BQU0sRUFBRSxhQUFhLEVBQUU7WUFDdkIsaUJBQWlCLEVBQUUsQ0FBQztZQUNwQixpQkFBaUIsRUFBRSxDQUFDO1lBQ3BCLHNCQUFzQixFQUFFLENBQUM7WUFDekIseUJBQXlCLEVBQUUsSUFBSTtZQUMvQixlQUFlLEVBQUUsQ0FBQztZQUNsQixxQkFBcUIsRUFBRSxLQUFLO1lBQzVCLGFBQWEsRUFBRSxhQUFhLENBQUMsV0FBVyxDQUFDLGdCQUFnQixHQUFHLElBQUk7WUFDaEUsbUJBQW1CLEVBQUUsZ0JBQWdCLENBQUMsZUFBZTtZQUNyRCxpQkFBaUIsRUFBRSxnQkFBZ0IsQ0FBQyxpQkFBaUI7WUFDckQsaUJBQWlCLEVBQUUsZ0JBQWdCLENBQUMsaUJBQWlCO1lBQ3JELFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxXQUFXO1lBQ3pDLG9CQUFvQixFQUFFO2dCQUNwQixHQUFHLE9BQU8sQ0FBQyxvQkFBb0I7Z0JBQy9CLFlBQVksRUFBRSxLQUFLO2dCQUNuQixXQUFXLEVBQUUsS0FBSzthQUNuQjtZQUNELG9CQUFvQixFQUFFO2dCQUNwQixHQUFHLE9BQU8sQ0FBQyxvQkFBb0I7Z0JBQy9CLGNBQWMsRUFBRSxLQUFLO2dCQUNyQixXQUFXLEVBQUUsS0FBSztnQkFDbEIsWUFBWSxFQUFFLEtBQUs7YUFDcEI7WUFDRCxrQkFBa0IsRUFBRTtnQkFDbEIsR0FBRyxPQUFPLENBQUMsa0JBQWtCO2dCQUM3QixXQUFXLEVBQUUsS0FBSzthQUNuQjtZQUNELHNCQUFzQixFQUFFO2dCQUN0QixHQUFHLE9BQU8sQ0FBQyxzQkFBc0I7Z0JBQ2pDLFlBQVksRUFBRSxLQUFLO2dCQUNuQixjQUFjLEVBQUUsS0FBSztnQkFDckIsV0FBVyxFQUFFLEtBQUs7Z0JBQ2xCLFlBQVksRUFBRSxLQUFLO2FBQ3BCO1NBQ0YsQ0FBQztJQUNKLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIE9wZW5TZWFkcmFnb24gZnJvbSAnb3BlbnNlYWRyYWdvbic7XG5pbXBvcnQgeyBNaW1lVmlld2VyQ29uZmlnIH0gZnJvbSAnLi4vbWltZS12aWV3ZXItY29uZmlnJztcbmltcG9ydCB7IFZpZXdlck9wdGlvbnMgfSBmcm9tICcuLi9tb2RlbHMvdmlld2VyLW9wdGlvbnMnO1xuaW1wb3J0IHsgZ2V0RHJhd2VyVHlwZSB9IGZyb20gJy4vZHJhd2VyLXV0aWxzJztcblxuZXhwb3J0IGNsYXNzIE9wdGlvbnNGYWN0b3J5IHtcbiAgcHVibGljIHN0YXRpYyBjcmVhdGUoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBtaW1lVmlld2VyQ29uZmlnOiBNaW1lVmlld2VyQ29uZmlnLFxuICApOiBPcGVuU2VhZHJhZ29uLk9wdGlvbnMge1xuICAgIGxldCBvcHRpb25zOiBPcGVuU2VhZHJhZ29uLk9wdGlvbnMgPSBPcGVuU2VhZHJhZ29uLkRFRkFVTFRfU0VUVElOR1M7XG5cbiAgICByZXR1cm4gPGFueT57XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaWQ6IGlkLFxuICAgICAgcGFuVmVydGljYWw6IHRydWUsXG4gICAgICBkcmF3ZXI6IGdldERyYXdlclR5cGUoKSxcbiAgICAgIG1pblpvb21JbWFnZVJhdGlvOiAxLFxuICAgICAgbWF4Wm9vbVBpeGVsUmF0aW86IDUsXG4gICAgICBzbW9vdGhUaWxlRWRnZXNNaW5ab29tOiAxLFxuICAgICAgcHJlc2VydmVJbWFnZVNpemVPblJlc2l6ZTogdHJ1ZSxcbiAgICAgIHZpc2liaWxpdHlSYXRpbzogMCxcbiAgICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICBhbmltYXRpb25UaW1lOiBWaWV3ZXJPcHRpb25zLnRyYW5zaXRpb25zLk9TREFuaW1hdGlvblRpbWUgLyAxMDAwLFxuICAgICAgYWpheFdpdGhDcmVkZW50aWFsczogbWltZVZpZXdlckNvbmZpZy53aXRoQ3JlZGVudGlhbHMsXG4gICAgICBsb2FkVGlsZXNXaXRoQWpheDogbWltZVZpZXdlckNvbmZpZy5sb2FkVGlsZXNXaXRoQWpheCxcbiAgICAgIGNyb3NzT3JpZ2luUG9saWN5OiBtaW1lVmlld2VyQ29uZmlnLmNyb3NzT3JpZ2luUG9saWN5LFxuICAgICAgYWpheEhlYWRlcnM6IG1pbWVWaWV3ZXJDb25maWcuYWpheEhlYWRlcnMsXG4gICAgICBnZXN0dXJlU2V0dGluZ3NNb3VzZToge1xuICAgICAgICAuLi5vcHRpb25zLmdlc3R1cmVTZXR0aW5nc01vdXNlLFxuICAgICAgICBzY3JvbGxUb1pvb206IGZhbHNlLFxuICAgICAgICBjbGlja1RvWm9vbTogZmFsc2UsXG4gICAgICB9LFxuICAgICAgZ2VzdHVyZVNldHRpbmdzVG91Y2g6IHtcbiAgICAgICAgLi4ub3B0aW9ucy5nZXN0dXJlU2V0dGluZ3NUb3VjaCxcbiAgICAgICAgZGJsQ2xpY2tUb1pvb206IGZhbHNlLFxuICAgICAgICBwaW5jaFRvWm9vbTogZmFsc2UsXG4gICAgICAgIGZsaWNrRW5hYmxlZDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgZ2VzdHVyZVNldHRpbmdzUGVuOiB7XG4gICAgICAgIC4uLm9wdGlvbnMuZ2VzdHVyZVNldHRpbmdzUGVuLFxuICAgICAgICBjbGlja1RvWm9vbTogZmFsc2UsXG4gICAgICB9LFxuICAgICAgZ2VzdHVyZVNldHRpbmdzVW5rbm93bjoge1xuICAgICAgICAuLi5vcHRpb25zLmdlc3R1cmVTZXR0aW5nc1Vua25vd24sXG4gICAgICAgIHNjcm9sbFRvWm9vbTogZmFsc2UsXG4gICAgICAgIGRibENsaWNrVG9ab29tOiBmYWxzZSxcbiAgICAgICAgcGluY2hUb1pvb206IGZhbHNlLFxuICAgICAgICBmbGlja0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG4iXX0=","import { Direction } from '../models/direction';\nimport { Side } from '../models/side';\nexport class SwipeDragEndCounter {\n    constructor() {\n        this.leftCount = 0;\n        this.rightCount = 0;\n        this.reset();\n    }\n    reset() {\n        this.leftCount = 0;\n        this.rightCount = 0;\n    }\n    /**\n     * @param direction of swipe / pan\n     * @param side hit by swipe\n     */\n    addHit(side, dir) {\n        if (side !== null) {\n            this.incrementSide(side);\n        }\n        if (dir !== null) {\n            this.clearOppositeSideOfDragDirection(dir);\n        }\n    }\n    hitCountReached() {\n        return this.leftCount >= 2 || this.rightCount >= 2;\n    }\n    incrementSide(side) {\n        if (side === Side.LEFT) {\n            this.leftCount++;\n            this.rightCount = 0;\n        }\n        else if (side === Side.RIGHT) {\n            this.rightCount++;\n            this.leftCount = 0;\n        }\n    }\n    /**\n     * Clear opposite side if swiping in the other direction\n     * @param Direction of swipe / pan\n     */\n    clearOppositeSideOfDragDirection(dir) {\n        if (dir === Direction.LEFT) {\n            this.leftCount = 0;\n        }\n        else if (dir === Direction.RIGHT) {\n            this.rightCount = 0;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpcGUtZHJhZy1lbmQtY291bnRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL3ZpZXdlci1zZXJ2aWNlL3N3aXBlLWRyYWctZW5kLWNvdW50ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN0QyxNQUFNLE9BQU8sbUJBQW1CO0lBSTlCO1FBSE8sY0FBUyxHQUFHLENBQUMsQ0FBQztRQUNkLGVBQVUsR0FBRyxDQUFDLENBQUM7UUFHcEIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUVNLEtBQUs7UUFDVixJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztRQUNuQixJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksTUFBTSxDQUFDLElBQWlCLEVBQUUsR0FBcUI7UUFDcEQsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDbEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMzQixDQUFDO1FBQ0QsSUFBSSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDakIsSUFBSSxDQUFDLGdDQUFnQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdDLENBQUM7SUFDSCxDQUFDO0lBRU0sZUFBZTtRQUNwQixPQUFPLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFTyxhQUFhLENBQUMsSUFBVTtRQUM5QixJQUFJLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ3RCLENBQUM7YUFBTSxJQUFJLElBQUksS0FBSyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2xCLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLENBQUM7SUFDSCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ssZ0NBQWdDLENBQUMsR0FBYztRQUNyRCxJQUFJLEdBQUcsS0FBSyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDckIsQ0FBQzthQUFNLElBQUksR0FBRyxLQUFLLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNuQyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztRQUN0QixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlyZWN0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL2RpcmVjdGlvbic7XG5pbXBvcnQgeyBTaWRlIH0gZnJvbSAnLi4vbW9kZWxzL3NpZGUnO1xuZXhwb3J0IGNsYXNzIFN3aXBlRHJhZ0VuZENvdW50ZXIge1xuICBwdWJsaWMgbGVmdENvdW50ID0gMDtcbiAgcHVibGljIHJpZ2h0Q291bnQgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcbiAgICB0aGlzLmxlZnRDb3VudCA9IDA7XG4gICAgdGhpcy5yaWdodENvdW50ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gZGlyZWN0aW9uIG9mIHN3aXBlIC8gcGFuXG4gICAqIEBwYXJhbSBzaWRlIGhpdCBieSBzd2lwZVxuICAgKi9cbiAgcHVibGljIGFkZEhpdChzaWRlOiBTaWRlIHwgbnVsbCwgZGlyOiBEaXJlY3Rpb24gfCBudWxsKTogdm9pZCB7XG4gICAgaWYgKHNpZGUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuaW5jcmVtZW50U2lkZShzaWRlKTtcbiAgICB9XG4gICAgaWYgKGRpciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5jbGVhck9wcG9zaXRlU2lkZU9mRHJhZ0RpcmVjdGlvbihkaXIpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBoaXRDb3VudFJlYWNoZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubGVmdENvdW50ID49IDIgfHwgdGhpcy5yaWdodENvdW50ID49IDI7XG4gIH1cblxuICBwcml2YXRlIGluY3JlbWVudFNpZGUoc2lkZTogU2lkZSk6IHZvaWQge1xuICAgIGlmIChzaWRlID09PSBTaWRlLkxFRlQpIHtcbiAgICAgIHRoaXMubGVmdENvdW50Kys7XG4gICAgICB0aGlzLnJpZ2h0Q291bnQgPSAwO1xuICAgIH0gZWxzZSBpZiAoc2lkZSA9PT0gU2lkZS5SSUdIVCkge1xuICAgICAgdGhpcy5yaWdodENvdW50Kys7XG4gICAgICB0aGlzLmxlZnRDb3VudCA9IDA7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIG9wcG9zaXRlIHNpZGUgaWYgc3dpcGluZyBpbiB0aGUgb3RoZXIgZGlyZWN0aW9uXG4gICAqIEBwYXJhbSBEaXJlY3Rpb24gb2Ygc3dpcGUgLyBwYW5cbiAgICovXG4gIHByaXZhdGUgY2xlYXJPcHBvc2l0ZVNpZGVPZkRyYWdEaXJlY3Rpb24oZGlyOiBEaXJlY3Rpb24pOiB2b2lkIHtcbiAgICBpZiAoZGlyID09PSBEaXJlY3Rpb24uTEVGVCkge1xuICAgICAgdGhpcy5sZWZ0Q291bnQgPSAwO1xuICAgIH0gZWxzZSBpZiAoZGlyID09PSBEaXJlY3Rpb24uUklHSFQpIHtcbiAgICAgIHRoaXMucmlnaHRDb3VudCA9IDA7XG4gICAgfVxuICB9XG59XG4iXX0=","import { Side } from '../models/side';\nimport { Direction } from '../models/direction';\nimport { ViewerOptions } from '../models/viewer-options';\nexport class SwipeUtils {\n    // Added threshold to prevent sensitive direction-calculation when zoomed in\n    static getSwipeDirection(start, end, useThreshold) {\n        let deltaX = Math.abs(start.x - end.x);\n        const deltaY = Math.abs(start.y - end.y);\n        deltaX = useThreshold\n            ? deltaX - ViewerOptions.pan.swipeDirectionThreshold\n            : deltaX;\n        if (start.x > end.x && deltaX >= deltaY) {\n            return Direction.LEFT;\n        }\n        else if (start.x < end.x && deltaX >= deltaY) {\n            return Direction.RIGHT;\n        }\n        else {\n            return Direction.UNDEFINED;\n        }\n    }\n    static getSideIfPanningPastEndOfCanvasGroup(canvasGroupRect, vpBounds) {\n        if (this.isPanningOutsideLeft(canvasGroupRect, vpBounds)) {\n            return Side.LEFT;\n        }\n        else if (this.isPanningOutsideRight(canvasGroupRect, vpBounds)) {\n            return Side.RIGHT;\n        }\n        else {\n            return null;\n        }\n    }\n    static isPanningOutsideCanvasGroup(canvasGroupRect, vpBounds) {\n        return (this.isPanningOutsideLeft(canvasGroupRect, vpBounds) ||\n            this.isPanningOutsideRight(canvasGroupRect, vpBounds));\n    }\n    static isPanningOutsideLeft(canvasGroupRect, vpBounds) {\n        return vpBounds.x < canvasGroupRect.x;\n    }\n    static isPanningOutsideRight(canvasGroupRect, vpBounds) {\n        return (vpBounds.x + vpBounds.width > canvasGroupRect.x + canvasGroupRect.width);\n    }\n    /**\n     *\n     * @param direction Current computed direction, expressed as an\n     * angle counterclockwise relative to the positive X axis (-pi to pi, in radians).\n     * Only valid if speed > 0.\n     */\n    static isDirectionInRightSemicircle(direction) {\n        return direction > -Math.PI / 2 && direction < Math.PI / 2;\n    }\n    /**\n     * @param direction @see isDirectionInRightSemicircle\n     */\n    static isDirectionInLeftSemicircle(direction) {\n        return !this.isDirectionInRightSemicircle(direction) || direction === 0; // fix for speed = 0\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpcGUtdXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS92aWV3ZXItc2VydmljZS9zd2lwZS11dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdEMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUN6RCxNQUFNLE9BQU8sVUFBVTtJQUNyQiw0RUFBNEU7SUFDNUUsTUFBTSxDQUFDLGlCQUFpQixDQUN0QixLQUFZLEVBQ1osR0FBVSxFQUNWLFlBQXNCO1FBRXRCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QyxNQUFNLEdBQUcsWUFBWTtZQUNuQixDQUFDLENBQUMsTUFBTSxHQUFHLGFBQWEsQ0FBQyxHQUFHLENBQUMsdUJBQXVCO1lBQ3BELENBQUMsQ0FBQyxNQUFNLENBQUM7UUFFWCxJQUFJLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTSxFQUFFLENBQUM7WUFDeEMsT0FBTyxTQUFTLENBQUMsSUFBSSxDQUFDO1FBQ3hCLENBQUM7YUFBTSxJQUFJLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTSxFQUFFLENBQUM7WUFDL0MsT0FBTyxTQUFTLENBQUMsS0FBSyxDQUFDO1FBQ3pCLENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDO1FBQzdCLENBQUM7SUFDSCxDQUFDO0lBRUQsTUFBTSxDQUFDLG9DQUFvQyxDQUN6QyxlQUFxQixFQUNyQixRQUFjO1FBRWQsSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsZUFBZSxFQUFFLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDekQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ25CLENBQUM7YUFBTSxJQUFJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLEVBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUNqRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDcEIsQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7SUFDSCxDQUFDO0lBRUQsTUFBTSxDQUFDLDJCQUEyQixDQUNoQyxlQUFxQixFQUNyQixRQUFjO1FBRWQsT0FBTyxDQUNMLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxlQUFlLEVBQUUsUUFBUSxDQUFDO1lBQ3BELElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLEVBQUUsUUFBUSxDQUFDLENBQ3RELENBQUM7SUFDSixDQUFDO0lBRUQsTUFBTSxDQUFDLG9CQUFvQixDQUFDLGVBQXFCLEVBQUUsUUFBYztRQUMvRCxPQUFPLFFBQVEsQ0FBQyxDQUFDLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsTUFBTSxDQUFDLHFCQUFxQixDQUFDLGVBQXFCLEVBQUUsUUFBYztRQUNoRSxPQUFPLENBQ0wsUUFBUSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxHQUFHLGVBQWUsQ0FBQyxDQUFDLEdBQUcsZUFBZSxDQUFDLEtBQUssQ0FDeEUsQ0FBQztJQUNKLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNILE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQyxTQUFpQjtRQUNuRCxPQUFPLFNBQVMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUM3RCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxNQUFNLENBQUMsMkJBQTJCLENBQUMsU0FBaUI7UUFDbEQsT0FBTyxDQUFDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxTQUFTLENBQUMsSUFBSSxTQUFTLEtBQUssQ0FBQyxDQUFDLENBQUMsb0JBQW9CO0lBQy9GLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlY3QgfSBmcm9tICcuLi9tb2RlbHMvcmVjdCc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL21vZGVscy9wb2ludCc7XG5pbXBvcnQgeyBTaWRlIH0gZnJvbSAnLi4vbW9kZWxzL3NpZGUnO1xuaW1wb3J0IHsgRGlyZWN0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL2RpcmVjdGlvbic7XG5pbXBvcnQgeyBWaWV3ZXJPcHRpb25zIH0gZnJvbSAnLi4vbW9kZWxzL3ZpZXdlci1vcHRpb25zJztcbmV4cG9ydCBjbGFzcyBTd2lwZVV0aWxzIHtcbiAgLy8gQWRkZWQgdGhyZXNob2xkIHRvIHByZXZlbnQgc2Vuc2l0aXZlIGRpcmVjdGlvbi1jYWxjdWxhdGlvbiB3aGVuIHpvb21lZCBpblxuICBzdGF0aWMgZ2V0U3dpcGVEaXJlY3Rpb24oXG4gICAgc3RhcnQ6IFBvaW50LFxuICAgIGVuZDogUG9pbnQsXG4gICAgdXNlVGhyZXNob2xkPzogYm9vbGVhbixcbiAgKTogRGlyZWN0aW9uIHtcbiAgICBsZXQgZGVsdGFYID0gTWF0aC5hYnMoc3RhcnQueCAtIGVuZC54KTtcbiAgICBjb25zdCBkZWx0YVkgPSBNYXRoLmFicyhzdGFydC55IC0gZW5kLnkpO1xuICAgIGRlbHRhWCA9IHVzZVRocmVzaG9sZFxuICAgICAgPyBkZWx0YVggLSBWaWV3ZXJPcHRpb25zLnBhbi5zd2lwZURpcmVjdGlvblRocmVzaG9sZFxuICAgICAgOiBkZWx0YVg7XG5cbiAgICBpZiAoc3RhcnQueCA+IGVuZC54ICYmIGRlbHRhWCA+PSBkZWx0YVkpIHtcbiAgICAgIHJldHVybiBEaXJlY3Rpb24uTEVGVDtcbiAgICB9IGVsc2UgaWYgKHN0YXJ0LnggPCBlbmQueCAmJiBkZWx0YVggPj0gZGVsdGFZKSB7XG4gICAgICByZXR1cm4gRGlyZWN0aW9uLlJJR0hUO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gRGlyZWN0aW9uLlVOREVGSU5FRDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0U2lkZUlmUGFubmluZ1Bhc3RFbmRPZkNhbnZhc0dyb3VwKFxuICAgIGNhbnZhc0dyb3VwUmVjdDogUmVjdCxcbiAgICB2cEJvdW5kczogUmVjdCxcbiAgKTogU2lkZSB8IG51bGwge1xuICAgIGlmICh0aGlzLmlzUGFubmluZ091dHNpZGVMZWZ0KGNhbnZhc0dyb3VwUmVjdCwgdnBCb3VuZHMpKSB7XG4gICAgICByZXR1cm4gU2lkZS5MRUZUO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc1Bhbm5pbmdPdXRzaWRlUmlnaHQoY2FudmFzR3JvdXBSZWN0LCB2cEJvdW5kcykpIHtcbiAgICAgIHJldHVybiBTaWRlLlJJR0hUO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgaXNQYW5uaW5nT3V0c2lkZUNhbnZhc0dyb3VwKFxuICAgIGNhbnZhc0dyb3VwUmVjdDogUmVjdCxcbiAgICB2cEJvdW5kczogUmVjdCxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuaXNQYW5uaW5nT3V0c2lkZUxlZnQoY2FudmFzR3JvdXBSZWN0LCB2cEJvdW5kcykgfHxcbiAgICAgIHRoaXMuaXNQYW5uaW5nT3V0c2lkZVJpZ2h0KGNhbnZhc0dyb3VwUmVjdCwgdnBCb3VuZHMpXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBpc1Bhbm5pbmdPdXRzaWRlTGVmdChjYW52YXNHcm91cFJlY3Q6IFJlY3QsIHZwQm91bmRzOiBSZWN0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHZwQm91bmRzLnggPCBjYW52YXNHcm91cFJlY3QueDtcbiAgfVxuXG4gIHN0YXRpYyBpc1Bhbm5pbmdPdXRzaWRlUmlnaHQoY2FudmFzR3JvdXBSZWN0OiBSZWN0LCB2cEJvdW5kczogUmVjdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB2cEJvdW5kcy54ICsgdnBCb3VuZHMud2lkdGggPiBjYW52YXNHcm91cFJlY3QueCArIGNhbnZhc0dyb3VwUmVjdC53aWR0aFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGRpcmVjdGlvbiBDdXJyZW50IGNvbXB1dGVkIGRpcmVjdGlvbiwgZXhwcmVzc2VkIGFzIGFuXG4gICAqIGFuZ2xlIGNvdW50ZXJjbG9ja3dpc2UgcmVsYXRpdmUgdG8gdGhlIHBvc2l0aXZlIFggYXhpcyAoLXBpIHRvIHBpLCBpbiByYWRpYW5zKS5cbiAgICogT25seSB2YWxpZCBpZiBzcGVlZCA+IDAuXG4gICAqL1xuICBzdGF0aWMgaXNEaXJlY3Rpb25JblJpZ2h0U2VtaWNpcmNsZShkaXJlY3Rpb246IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBkaXJlY3Rpb24gPiAtTWF0aC5QSSAvIDIgJiYgZGlyZWN0aW9uIDwgTWF0aC5QSSAvIDI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGRpcmVjdGlvbiBAc2VlIGlzRGlyZWN0aW9uSW5SaWdodFNlbWljaXJjbGVcbiAgICovXG4gIHN0YXRpYyBpc0RpcmVjdGlvbkluTGVmdFNlbWljaXJjbGUoZGlyZWN0aW9uOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMuaXNEaXJlY3Rpb25JblJpZ2h0U2VtaWNpcmNsZShkaXJlY3Rpb24pIHx8IGRpcmVjdGlvbiA9PT0gMDsgLy8gZml4IGZvciBzcGVlZCA9IDBcbiAgfVxufVxuIl19","export class ZoomUtils {\n    /**\n     *\n     * @param Point in OSD-viewport-coordinates\n     * @param Rect canvasGroupBounds\n     */\n    static constrainPositionToCanvasGroup(point, canvasGroupBounds) {\n        if (point.x < canvasGroupBounds.x) {\n            point.x = canvasGroupBounds.x;\n        }\n        else if (point.x > canvasGroupBounds.x + canvasGroupBounds.width) {\n            point.x = canvasGroupBounds.x + canvasGroupBounds.width;\n        }\n        return point;\n    }\n    static constraintZoomFactor(zoomFactor, currentZoom, maxZoom) {\n        const target = currentZoom * zoomFactor;\n        return target > maxZoom ? (maxZoom / target) * zoomFactor : zoomFactor;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiem9vbS11dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL3ZpZXdlci1zZXJ2aWNlL3pvb20tdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsTUFBTSxPQUFPLFNBQVM7SUFDcEI7Ozs7T0FJRztJQUNILE1BQU0sQ0FBQyw4QkFBOEIsQ0FDbkMsS0FBWSxFQUNaLGlCQUF1QjtRQUV2QixJQUFJLEtBQUssQ0FBQyxDQUFDLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDbEMsS0FBSyxDQUFDLENBQUMsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7UUFDaEMsQ0FBQzthQUFNLElBQUksS0FBSyxDQUFDLENBQUMsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLEdBQUcsaUJBQWlCLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDbkUsS0FBSyxDQUFDLENBQUMsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLEdBQUcsaUJBQWlCLENBQUMsS0FBSyxDQUFDO1FBQzFELENBQUM7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRCxNQUFNLENBQUMsb0JBQW9CLENBQ3pCLFVBQWtCLEVBQ2xCLFdBQW1CLEVBQ25CLE9BQWU7UUFFZixNQUFNLE1BQU0sR0FBRyxXQUFXLEdBQUcsVUFBVSxDQUFDO1FBQ3hDLE9BQU8sTUFBTSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUM7SUFDekUsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVjdCB9IGZyb20gJy4uL21vZGVscy9yZWN0JztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vbW9kZWxzL3BvaW50JztcblxuZXhwb3J0IGNsYXNzIFpvb21VdGlscyB7XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gUG9pbnQgaW4gT1NELXZpZXdwb3J0LWNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSBSZWN0IGNhbnZhc0dyb3VwQm91bmRzXG4gICAqL1xuICBzdGF0aWMgY29uc3RyYWluUG9zaXRpb25Ub0NhbnZhc0dyb3VwKFxuICAgIHBvaW50OiBQb2ludCxcbiAgICBjYW52YXNHcm91cEJvdW5kczogUmVjdCxcbiAgKTogUG9pbnQge1xuICAgIGlmIChwb2ludC54IDwgY2FudmFzR3JvdXBCb3VuZHMueCkge1xuICAgICAgcG9pbnQueCA9IGNhbnZhc0dyb3VwQm91bmRzLng7XG4gICAgfSBlbHNlIGlmIChwb2ludC54ID4gY2FudmFzR3JvdXBCb3VuZHMueCArIGNhbnZhc0dyb3VwQm91bmRzLndpZHRoKSB7XG4gICAgICBwb2ludC54ID0gY2FudmFzR3JvdXBCb3VuZHMueCArIGNhbnZhc0dyb3VwQm91bmRzLndpZHRoO1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnQ7XG4gIH1cblxuICBzdGF0aWMgY29uc3RyYWludFpvb21GYWN0b3IoXG4gICAgem9vbUZhY3RvcjogbnVtYmVyLFxuICAgIGN1cnJlbnRab29tOiBudW1iZXIsXG4gICAgbWF4Wm9vbTogbnVtYmVyLFxuICApOiBudW1iZXIge1xuICAgIGNvbnN0IHRhcmdldCA9IGN1cnJlbnRab29tICogem9vbUZhY3RvcjtcbiAgICByZXR1cm4gdGFyZ2V0ID4gbWF4Wm9vbSA/IChtYXhab29tIC8gdGFyZ2V0KSAqIHpvb21GYWN0b3IgOiB6b29tRmFjdG9yO1xuICB9XG59XG4iXX0=","import * as d3 from 'd3';\nimport * as OpenSeadragon from 'openseadragon';\nimport { Dimensions } from '../models/dimensions';\nimport { ViewerLayout } from '../models/viewer-layout';\nimport { ViewerMode } from '../models/viewer-mode';\nimport { ViewerOptions } from '../models/viewer-options';\nimport { Utils } from '../utils';\nimport { ZoomUtils } from './zoom-utils';\nexport class ZoomStrategy {\n    constructor(viewer, canvasService, modeService, viewerLayoutService) {\n        this.viewer = viewer;\n        this.canvasService = canvasService;\n        this.modeService = modeService;\n        this.viewerLayoutService = viewerLayoutService;\n    }\n    setMinZoom(mode) {\n        this.viewer.viewport.minZoomLevel = this.getHomeZoomLevel(mode);\n    }\n    getMinZoom() {\n        return Utils.shortenDecimals(this.viewer.viewport.getMinZoom(), 5);\n    }\n    getMaxZoom() {\n        return Utils.shortenDecimals(this.viewer.viewport.getMaxZoom(), 5);\n    }\n    getZoom() {\n        return Utils.shortenDecimals(this.viewer.viewport.getZoom(true), 5);\n    }\n    goToHomeZoom() {\n        this.zoomTo(this.getHomeZoomLevel(this.modeService.mode));\n        if (this.modeService.isPageZoomed()) {\n            this.modeService.mode = ViewerMode.PAGE;\n        }\n    }\n    zoomTo(level, position) {\n        if (level !== 0) {\n            this.viewer.viewport.zoomTo(level, position);\n        }\n    }\n    zoomIn(zoomFactor, position) {\n        if (!zoomFactor) {\n            zoomFactor = ViewerOptions.zoom.zoomFactor;\n        }\n        if (position) {\n            position = this.viewer.viewport.pointFromPixel(position);\n            if (position) {\n                position = ZoomUtils.constrainPositionToCanvasGroup(position, this.canvasService.getCurrentCanvasGroupRect());\n            }\n        }\n        if (this.modeService.mode !== ViewerMode.PAGE_ZOOMED) {\n            this.modeService.mode = ViewerMode.PAGE_ZOOMED;\n        }\n        this.zoomBy(zoomFactor, position);\n    }\n    zoomOut(zoomFactor, position) {\n        if (!zoomFactor) {\n            zoomFactor = Math.pow(ViewerOptions.zoom.zoomFactor, -1);\n        }\n        if (position) {\n            position = this.viewer.viewport.pointFromPixel(position);\n            if (position) {\n                position = ZoomUtils.constrainPositionToCanvasGroup(position, this.canvasService.getCurrentCanvasGroupRect());\n            }\n        }\n        if (this.isViewportLargerThanCanvasGroup()) {\n            this.modeService.mode = ViewerMode.PAGE;\n        }\n        else {\n            this.zoomBy(zoomFactor, position);\n        }\n    }\n    getHomeZoomLevel(mode) {\n        if (!this.viewer || !this.canvasService || !this.viewer.container) {\n            return 1;\n        }\n        let currentCanvasHeight;\n        let currentCanvasWidth;\n        let viewportBounds;\n        const currentCanvasGroupRect = this.canvasService.getCurrentCanvasGroupRect();\n        currentCanvasHeight = currentCanvasGroupRect.height;\n        currentCanvasWidth = currentCanvasGroupRect.width;\n        viewportBounds =\n            mode === ViewerMode.DASHBOARD\n                ? this.getDashboardViewportBounds()\n                : this.viewer.viewport.getBounds();\n        return this.getFittedZoomLevel(viewportBounds, currentCanvasHeight, currentCanvasWidth);\n    }\n    getDashboardViewportBounds() {\n        const homeZoomFactor = this.getHomeZoomFactor();\n        const maxViewportDimensions = new Dimensions(d3\n            .select(this.viewer.container.parentNode.parentNode)\n            .node()\n            .getBoundingClientRect());\n        const viewportHeight = maxViewportDimensions.height -\n            ViewerOptions.padding.header -\n            ViewerOptions.padding.footer;\n        const viewportWidth = maxViewportDimensions.width * homeZoomFactor;\n        const viewportSizeInViewportCoordinates = this.viewer.viewport.deltaPointsFromPixels(new OpenSeadragon.Point(viewportWidth, viewportHeight));\n        return new OpenSeadragon.Rect(0, 0, viewportSizeInViewportCoordinates.x, viewportSizeInViewportCoordinates.y);\n    }\n    getFittedZoomLevel(viewportBounds, canvasGroupHeight, canvasGroupWidth) {\n        const currentZoom = this.viewer.viewport.getZoom();\n        const resizeRatio = viewportBounds.height / canvasGroupHeight;\n        if (resizeRatio * canvasGroupWidth <= viewportBounds.width) {\n            return Utils.shortenDecimals(resizeRatio * currentZoom, 5);\n        }\n        else {\n            // Canvas group at full height is wider than viewport.  Return fit by width instead.\n            return Utils.shortenDecimals((viewportBounds.width / canvasGroupWidth) * currentZoom, 5);\n        }\n    }\n    zoomBy(zoomFactor, position) {\n        const currentZoom = this.viewer.viewport.getZoom(false);\n        zoomFactor = ZoomUtils.constraintZoomFactor(zoomFactor, currentZoom, this.getMaxZoom());\n        this.viewer.viewport.zoomBy(zoomFactor, position);\n    }\n    isViewportLargerThanCanvasGroup() {\n        const canvasGroupRec = this.canvasService.getCurrentCanvasGroupRect();\n        const viewportBounds = this.viewer.viewport.getBounds();\n        const pbWidth = Math.round(canvasGroupRec.width);\n        const pbHeight = Math.round(canvasGroupRec.height);\n        const vpWidth = Math.round(viewportBounds.width);\n        const vpHeight = Math.round(viewportBounds.height);\n        return vpHeight >= pbHeight || vpWidth >= pbWidth;\n    }\n    getHomeZoomFactor() {\n        return this.modeService.mode === ViewerMode.DASHBOARD\n            ? this.getDashboardZoomHomeFactor()\n            : 1;\n    }\n    getDashboardZoomHomeFactor() {\n        return this.viewerLayoutService.layout === ViewerLayout.ONE_PAGE\n            ? 0.85\n            : 0.66;\n    }\n}\nexport class DefaultZoomStrategy extends ZoomStrategy {\n    constructor(viewer, canvasService, modeService, viewerLayoutService) {\n        super(viewer, canvasService, modeService, viewerLayoutService);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiem9vbS1zdHJhdGVneS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL3ZpZXdlci1zZXJ2aWNlL3pvb20tc3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsTUFBTSxJQUFJLENBQUM7QUFDekIsT0FBTyxLQUFLLGFBQWEsTUFBTSxlQUFlLENBQUM7QUFHL0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBR2xELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDbkQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFakMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQW9CekMsTUFBTSxPQUFPLFlBQVk7SUFDdkIsWUFDWSxNQUFXLEVBQ1gsYUFBNEIsRUFDNUIsV0FBd0IsRUFDeEIsbUJBQXdDO1FBSHhDLFdBQU0sR0FBTixNQUFNLENBQUs7UUFDWCxrQkFBYSxHQUFiLGFBQWEsQ0FBZTtRQUM1QixnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN4Qix3QkFBbUIsR0FBbkIsbUJBQW1CLENBQXFCO0lBQ2pELENBQUM7SUFFSixVQUFVLENBQUMsSUFBZ0I7UUFDekIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBRUQsVUFBVTtRQUNSLE9BQU8sS0FBSyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFD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QUN4QixtQkFBd0M7UUFFeEMsS0FBSyxDQUFDLE1BQU0sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLG1CQUFtQixDQUFDLENBQUM7SUFDakUsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0ICogYXMgT3BlblNlYWRyYWdvbiBmcm9tICdvcGVuc2VhZHJhZ29uJztcbmltcG9ydCB7IENhbnZhc1NlcnZpY2UgfSBmcm9tICcuLi9jYW52YXMtc2VydmljZS9jYW52YXMtc2VydmljZSc7XG5pbXBvcnQgeyBNb2RlU2VydmljZSB9IGZyb20gJy4uL21vZGUtc2VydmljZS9tb2RlLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gJy4uL21vZGVscy9kaW1lbnNpb25zJztcbmltcG9ydCB7IERpcmVjdGlvbiB9IGZyb20gJy4uL21vZGVscy9kaXJlY3Rpb24nO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9tb2RlbHMvcG9pbnQnO1xuaW1wb3J0IHsgVmlld2VyTGF5b3V0IH0gZnJvbSAnLi4vbW9kZWxzL3ZpZXdlci1sYXlvdXQnO1xuaW1wb3J0IHsgVmlld2VyTW9kZSB9IGZyb20gJy4uL21vZGVscy92aWV3ZXItbW9kZSc7XG5pbXBvcnQgeyBWaWV3ZXJPcHRpb25zIH0gZnJvbSAnLi4vbW9kZWxzL3ZpZXdlci1vcHRpb25zJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgVmlld2VyTGF5b3V0U2VydmljZSB9IGZyb20gJy4uL3ZpZXdlci1sYXlvdXQtc2VydmljZS92aWV3ZXItbGF5b3V0LXNlcnZpY2UnO1xuaW1wb3J0IHsgWm9vbVV0aWxzIH0gZnJvbSAnLi96b29tLXV0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBDYW52YXNHcm91cCB7XG4gIGNhbnZhc0dyb3VwSW5kZXg6IG51bWJlcjtcbiAgY2FudmFzR3JvdXBFbmRIaXRDb3VudFJlYWNoZWQ/OiBib29sZWFuO1xuICBkaXJlY3Rpb246IERpcmVjdGlvbjtcbiAgaW1tZWRpYXRlbHk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyYXRlZ3kge1xuICBzZXRNaW5ab29tKG1vZGU6IFZpZXdlck1vZGUpOiB2b2lkO1xuICBnZXRNaW5ab29tKCk6IG51bWJlcjtcbiAgZ2V0TWF4Wm9vbSgpOiBudW1iZXI7XG4gIGdldFpvb20oKTogbnVtYmVyO1xuICBnb1RvSG9tZVpvb20oKTogdm9pZDtcbiAgem9vbVRvKGxldmVsOiBudW1iZXIsIHBvc2l0aW9uPzogUG9pbnQpOiB2b2lkO1xuICB6b29tSW4oem9vbUZhY3Rvcj86IG51bWJlciwgcG9zaXRpb24/OiBQb2ludCk6IHZvaWQ7XG4gIHpvb21PdXQoem9vbUZhY3Rvcj86IG51bWJlciwgcG9zaXRpb24/OiBQb2ludCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBab29tU3RyYXRlZ3kge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgdmlld2VyOiBhbnksXG4gICAgcHJvdGVjdGVkIGNhbnZhc1NlcnZpY2U6IENhbnZhc1NlcnZpY2UsXG4gICAgcHJvdGVjdGVkIG1vZGVTZXJ2aWNlOiBNb2RlU2VydmljZSxcbiAgICBwcm90ZWN0ZWQgdmlld2VyTGF5b3V0U2VydmljZTogVmlld2VyTGF5b3V0U2VydmljZSxcbiAgKSB7fVxuXG4gIHNldE1pblpvb20obW9kZTogVmlld2VyTW9kZSk6IHZvaWQge1xuICAgIHRoaXMudmlld2VyLnZpZXdwb3J0Lm1pblpvb21MZXZlbCA9IHRoaXMuZ2V0SG9tZVpvb21MZXZlbChtb2RlKTtcbiAgfVxuXG4gIGdldE1pblpvb20oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gVXRpbHMuc2hvcnRlbkRlY2ltYWxzKHRoaXMudmlld2VyLnZpZXdwb3J0LmdldE1pblpvb20oKSwgNSk7XG4gIH1cblxuICBnZXRNYXhab29tKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIFV0aWxzLnNob3J0ZW5EZWNpbWFscyh0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRNYXhab29tKCksIDUpO1xuICB9XG5cbiAgZ2V0Wm9vbSgpOiBudW1iZXIge1xuICAgIHJldHVybiBVdGlscy5zaG9ydGVuRGVjaW1hbHModGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Wm9vbSh0cnVlKSwgNSk7XG4gIH1cblxuICBnb1RvSG9tZVpvb20oKTogdm9pZCB7XG4gICAgdGhpcy56b29tVG8odGhpcy5nZXRIb21lWm9vbUxldmVsKHRoaXMubW9kZVNlcnZpY2UubW9kZSkpO1xuICAgIGlmICh0aGlzLm1vZGVTZXJ2aWNlLmlzUGFnZVpvb21lZCgpKSB7XG4gICAgICB0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPSBWaWV3ZXJNb2RlLlBBR0U7XG4gICAgfVxuICB9XG5cbiAgem9vbVRvKGxldmVsOiBudW1iZXIsIHBvc2l0aW9uPzogUG9pbnQpOiB2b2lkIHtcbiAgICBpZiAobGV2ZWwgIT09IDApIHtcbiAgICAgIHRoaXMudmlld2VyLnZpZXdwb3J0Lnpvb21UbyhsZXZlbCwgcG9zaXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIHpvb21Jbih6b29tRmFjdG9yPzogbnVtYmVyLCBwb3NpdGlvbj86IFBvaW50KTogdm9pZCB7XG4gICAgaWYgKCF6b29tRmFjdG9yKSB7XG4gICAgICB6b29tRmFjdG9yID0gVmlld2VyT3B0aW9ucy56b29tLnpvb21GYWN0b3I7XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICBwb3NpdGlvbiA9IHRoaXMudmlld2VyLnZpZXdwb3J0LnBvaW50RnJvbVBpeGVsKHBvc2l0aW9uKTtcbiAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICBwb3NpdGlvbiA9IFpvb21VdGlscy5jb25zdHJhaW5Qb3NpdGlvblRvQ2FudmFzR3JvdXAoXG4gICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgdGhpcy5jYW52YXNTZXJ2aWNlLmdldEN1cnJlbnRDYW52YXNHcm91cFJlY3QoKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb2RlU2VydmljZS5tb2RlICE9PSBWaWV3ZXJNb2RlLlBBR0VfWk9PTUVEKSB7XG4gICAgICB0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPSBWaWV3ZXJNb2RlLlBBR0VfWk9PTUVEO1xuICAgIH1cblxuICAgIHRoaXMuem9vbUJ5KHpvb21GYWN0b3IsIHBvc2l0aW9uKTtcbiAgfVxuXG4gIHpvb21PdXQoem9vbUZhY3Rvcj86IG51bWJlciwgcG9zaXRpb24/OiBQb2ludCk6IHZvaWQge1xuICAgIGlmICghem9vbUZhY3Rvcikge1xuICAgICAgem9vbUZhY3RvciA9IE1hdGgucG93KFZpZXdlck9wdGlvbnMuem9vbS56b29tRmFjdG9yLCAtMSk7XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICBwb3NpdGlvbiA9IHRoaXMudmlld2VyLnZpZXdwb3J0LnBvaW50RnJvbVBpeGVsKHBvc2l0aW9uKTtcbiAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICBwb3NpdGlvbiA9IFpvb21VdGlscy5jb25zdHJhaW5Qb3NpdGlvblRvQ2FudmFzR3JvdXAoXG4gICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgdGhpcy5jYW52YXNTZXJ2aWNlLmdldEN1cnJlbnRDYW52YXNHcm91cFJlY3QoKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1ZpZXdwb3J0TGFyZ2VyVGhhbkNhbnZhc0dyb3VwKCkpIHtcbiAgICAgIHRoaXMubW9kZVNlcnZpY2UubW9kZSA9IFZpZXdlck1vZGUuUEFHRTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy56b29tQnkoem9vbUZhY3RvciwgcG9zaXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0SG9tZVpvb21MZXZlbChtb2RlOiBWaWV3ZXJNb2RlKTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMudmlld2VyIHx8ICF0aGlzLmNhbnZhc1NlcnZpY2UgfHwgIXRoaXMudmlld2VyLmNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgbGV0IGN1cnJlbnRDYW52YXNIZWlnaHQ6IG51bWJlcjtcbiAgICBsZXQgY3VycmVudENhbnZhc1dpZHRoOiBudW1iZXI7XG4gICAgbGV0IHZpZXdwb3J0Qm91bmRzOiBhbnk7XG5cbiAgICBjb25zdCBjdXJyZW50Q2FudmFzR3JvdXBSZWN0ID1cbiAgICAgIHRoaXMuY2FudmFzU2VydmljZS5nZXRDdXJyZW50Q2FudmFzR3JvdXBSZWN0KCk7XG4gICAgY3VycmVudENhbnZhc0hlaWdodCA9IGN1cnJlbnRDYW52YXNHcm91cFJlY3QuaGVpZ2h0O1xuICAgIGN1cnJlbnRDYW52YXNXaWR0aCA9IGN1cnJlbnRDYW52YXNHcm91cFJlY3Qud2lkdGg7XG4gICAgdmlld3BvcnRCb3VuZHMgPVxuICAgICAgbW9kZSA9PT0gVmlld2VyTW9kZS5EQVNIQk9BUkRcbiAgICAgICAgPyB0aGlzLmdldERhc2hib2FyZFZpZXdwb3J0Qm91bmRzKClcbiAgICAgICAgOiB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRCb3VuZHMoKTtcblxuICAgIHJldHVybiB0aGlzLmdldEZpdHRlZFpvb21MZXZlbChcbiAgICAgIHZpZXdwb3J0Qm91bmRzLFxuICAgICAgY3VycmVudENhbnZhc0hlaWdodCxcbiAgICAgIGN1cnJlbnRDYW52YXNXaWR0aCxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREYXNoYm9hcmRWaWV3cG9ydEJvdW5kcygpOiBhbnkge1xuICAgIGNvbnN0IGhvbWVab29tRmFjdG9yID0gdGhpcy5nZXRIb21lWm9vbUZhY3RvcigpO1xuICAgIGNvbnN0IG1heFZpZXdwb3J0RGltZW5zaW9ucyA9IG5ldyBEaW1lbnNpb25zKFxuICAgICAgZDNcbiAgICAgICAgLnNlbGVjdCh0aGlzLnZpZXdlci5jb250YWluZXIucGFyZW50Tm9kZS5wYXJlbnROb2RlKVxuICAgICAgICAubm9kZSgpXG4gICAgICAgIC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICApO1xuICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID1cbiAgICAgIG1heFZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQgLVxuICAgICAgVmlld2VyT3B0aW9ucy5wYWRkaW5nLmhlYWRlciAtXG4gICAgICBWaWV3ZXJPcHRpb25zLnBhZGRpbmcuZm9vdGVyO1xuICAgIGNvbnN0IHZpZXdwb3J0V2lkdGggPSBtYXhWaWV3cG9ydERpbWVuc2lvbnMud2lkdGggKiBob21lWm9vbUZhY3RvcjtcblxuICAgIGNvbnN0IHZpZXdwb3J0U2l6ZUluVmlld3BvcnRDb29yZGluYXRlcyA9XG4gICAgICB0aGlzLnZpZXdlci52aWV3cG9ydC5kZWx0YVBvaW50c0Zyb21QaXhlbHMoXG4gICAgICAgIG5ldyBPcGVuU2VhZHJhZ29uLlBvaW50KHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0SGVpZ2h0KSxcbiAgICAgICk7XG5cbiAgICByZXR1cm4gbmV3IE9wZW5TZWFkcmFnb24uUmVjdChcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgdmlld3BvcnRTaXplSW5WaWV3cG9ydENvb3JkaW5hdGVzLngsXG4gICAgICB2aWV3cG9ydFNpemVJblZpZXdwb3J0Q29vcmRpbmF0ZXMueSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRGaXR0ZWRab29tTGV2ZWwoXG4gICAgdmlld3BvcnRCb3VuZHM6IGFueSxcbiAgICBjYW52YXNHcm91cEhlaWdodDogbnVtYmVyLFxuICAgIGNhbnZhc0dyb3VwV2lkdGg6IG51bWJlcixcbiAgKSB7XG4gICAgY29uc3QgY3VycmVudFpvb206IG51bWJlciA9IHRoaXMudmlld2VyLnZpZXdwb3J0LmdldFpvb20oKTtcbiAgICBjb25zdCByZXNpemVSYXRpbzogbnVtYmVyID0gdmlld3BvcnRCb3VuZHMuaGVpZ2h0IC8gY2FudmFzR3JvdXBIZWlnaHQ7XG5cbiAgICBpZiAocmVzaXplUmF0aW8gKiBjYW52YXNHcm91cFdpZHRoIDw9IHZpZXdwb3J0Qm91bmRzLndpZHRoKSB7XG4gICAgICByZXR1cm4gVXRpbHMuc2hvcnRlbkRlY2ltYWxzKHJlc2l6ZVJhdGlvICogY3VycmVudFpvb20sIDUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDYW52YXMgZ3JvdXAgYXQgZnVsbCBoZWlnaHQgaXMgd2lkZXIgdGhhbiB2aWV3cG9ydC4gIFJldHVybiBmaXQgYnkgd2lkdGggaW5zdGVhZC5cbiAgICAgIHJldHVybiBVdGlscy5zaG9ydGVuRGVjaW1hbHMoXG4gICAgICAgICh2aWV3cG9ydEJvdW5kcy53aWR0aCAvIGNhbnZhc0dyb3VwV2lkdGgpICogY3VycmVudFpvb20sXG4gICAgICAgIDUsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgem9vbUJ5KHpvb21GYWN0b3I6IG51bWJlciwgcG9zaXRpb24/OiBQb2ludCk6IHZvaWQge1xuICAgIGNvbnN0IGN1cnJlbnRab29tID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Wm9vbShmYWxzZSk7XG4gICAgem9vbUZhY3RvciA9IFpvb21VdGlscy5jb25zdHJhaW50Wm9vbUZhY3RvcihcbiAgICAgIHpvb21GYWN0b3IsXG4gICAgICBjdXJyZW50Wm9vbSxcbiAgICAgIHRoaXMuZ2V0TWF4Wm9vbSgpLFxuICAgICk7XG4gICAgdGhpcy52aWV3ZXIudmlld3BvcnQuem9vbUJ5KHpvb21GYWN0b3IsIHBvc2l0aW9uKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNWaWV3cG9ydExhcmdlclRoYW5DYW52YXNHcm91cCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBjYW52YXNHcm91cFJlYyA9IHRoaXMuY2FudmFzU2VydmljZS5nZXRDdXJyZW50Q2FudmFzR3JvdXBSZWN0KCk7XG4gICAgY29uc3Qgdmlld3BvcnRCb3VuZHMgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRCb3VuZHMoKTtcbiAgICBjb25zdCBwYldpZHRoID0gTWF0aC5yb3VuZChjYW52YXNHcm91cFJlYy53aWR0aCk7XG4gICAgY29uc3QgcGJIZWlnaHQgPSBNYXRoLnJvdW5kKGNhbnZhc0dyb3VwUmVjLmhlaWdodCk7XG4gICAgY29uc3QgdnBXaWR0aCA9IE1hdGgucm91bmQodmlld3BvcnRCb3VuZHMud2lkdGgpO1xuICAgIGNvbnN0IHZwSGVpZ2h0ID0gTWF0aC5yb3VuZCh2aWV3cG9ydEJvdW5kcy5oZWlnaHQpO1xuICAgIHJldHVybiB2cEhlaWdodCA+PSBwYkhlaWdodCB8fCB2cFdpZHRoID49IHBiV2lkdGg7XG4gIH1cblxuICBwcml2YXRlIGdldEhvbWVab29tRmFjdG9yKCkge1xuICAgIHJldHVybiB0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPT09IFZpZXdlck1vZGUuREFTSEJPQVJEXG4gICAgICA/IHRoaXMuZ2V0RGFzaGJvYXJkWm9vbUhvbWVGYWN0b3IoKVxuICAgICAgOiAxO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREYXNoYm9hcmRab29tSG9tZUZhY3RvcigpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3ZXJMYXlvdXRTZXJ2aWNlLmxheW91dCA9PT0gVmlld2VyTGF5b3V0Lk9ORV9QQUdFXG4gICAgICA/IDAuODVcbiAgICAgIDogMC42NjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdFpvb21TdHJhdGVneSBleHRlbmRzIFpvb21TdHJhdGVneSBpbXBsZW1lbnRzIFN0cmF0ZWd5IHtcbiAgY29uc3RydWN0b3IoXG4gICAgdmlld2VyOiBhbnksXG4gICAgY2FudmFzU2VydmljZTogQ2FudmFzU2VydmljZSxcbiAgICBtb2RlU2VydmljZTogTW9kZVNlcnZpY2UsXG4gICAgdmlld2VyTGF5b3V0U2VydmljZTogVmlld2VyTGF5b3V0U2VydmljZSxcbiAgKSB7XG4gICAgc3VwZXIodmlld2VyLCBjYW52YXNTZXJ2aWNlLCBtb2RlU2VydmljZSwgdmlld2VyTGF5b3V0U2VydmljZSk7XG4gIH1cbn1cbiJdfQ==","import { inject, Injectable, NgZone } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport * as d3 from 'd3';\nimport { BehaviorSubject, interval, Subject, Subscription, } from 'rxjs';\nimport { distinctUntilChanged, sample } from 'rxjs/operators';\nimport { AltoService } from '../alto-service/alto.service';\nimport { CanvasService } from '../canvas-service/canvas-service';\nimport { ClickService } from '../click-service/click.service';\nimport { createSvgOverlay } from '../ext/svg-overlay';\nimport { IiifContentSearchService } from '../iiif-content-search-service/iiif-content-search.service';\nimport { ManifestUtils } from '../iiif-manifest-service/iiif-manifest-utils';\nimport { MimeViewerIntl } from '../intl';\nimport { ModeService } from '../mode-service/mode.service';\nimport { RecognizedTextMode, ViewerMode, } from '../models';\nimport { PinchStatus } from '../models/pinchStatus';\nimport { Rect } from '../models/rect';\nimport { Side } from '../models/side';\nimport { ViewerOptions } from '../models/viewer-options';\nimport { StyleService } from '../style-service/style.service';\nimport { ViewerLayoutService } from '../viewer-layout-service/viewer-layout-service';\nimport { CalculateNextCanvasGroupFactory } from './calculate-next-canvas-group-factory';\nimport { CanvasGroupMask } from './canvas-group-mask';\nimport { DefaultGoToCanvasGroupStrategy, } from './go-to-canvas-group-strategy';\nimport { OptionsFactory } from './options.factory';\nimport { SwipeDragEndCounter } from './swipe-drag-end-counter';\nimport { SwipeUtils } from './swipe-utils';\nimport { DefaultZoomStrategy } from './zoom-strategy';\nimport * as i0 from \"@angular/core\";\nexport class ViewerService {\n    constructor() {\n        this.isCanvasPressed = new BehaviorSubject(false);\n        this.currentSearch = null;\n        this.id = 'ngx-mime-mimeViewer';\n        this.openseadragonId = 'openseadragon';\n        this.zone = inject(NgZone);\n        this.clickService = inject(ClickService);\n        this.canvasService = inject(CanvasService);\n        this.modeService = inject(ModeService);\n        this.viewerLayoutService = inject(ViewerLayoutService);\n        this.iiifContentSearchService = inject(IiifContentSearchService);\n        this.styleService = inject(StyleService);\n        this.altoService = inject(AltoService);\n        this.snackBar = inject(MatSnackBar);\n        this.intl = inject(MimeViewerIntl);\n        this.tileSources = [];\n        this.currentCenter = new Subject();\n        this.currentCanvasIndex = new BehaviorSubject(0);\n        this.currentHit = null;\n        this.osdIsReady = new BehaviorSubject(false);\n        this.swipeDragEndCounter = new SwipeDragEndCounter();\n        this.pinchStatus = new PinchStatus();\n        this.isManifestPaged = false;\n        this.rotation = new BehaviorSubject(0);\n        this.dragStatus = false;\n        /**\n         * Scroll-handler\n         */\n        this.scrollHandler = (event) => {\n            const zoomFactor = Math.pow(ViewerOptions.zoom.zoomFactor, event.scroll);\n            // Scrolling up\n            if (event.scroll > 0) {\n                this.zoomInGesture(event.position, zoomFactor);\n                // Scrolling down\n            }\n            else if (event.scroll < 0) {\n                this.zoomOutGesture(event.position, zoomFactor);\n            }\n        };\n        /**\n         * Pinch-handler\n         */\n        this.pinchHandler = (event) => {\n            this.pinchStatus.active = true;\n            const zoomFactor = event.distance / event.lastDistance;\n            // Pinch Out\n            if (event.distance >\n                event.lastDistance + ViewerOptions.zoom.pinchZoomThreshold) {\n                this.zoomInPinchGesture(event, zoomFactor);\n                // Pinch In\n            }\n            else if (event.distance + ViewerOptions.zoom.pinchZoomThreshold <\n                event.lastDistance) {\n                this.zoomOutPinchGesture(event, zoomFactor);\n            }\n        };\n        /**\n         * Single-click-handler\n         * Single-click toggles between page/dashboard-mode if a page is hit\n         */\n        this.singleClickHandler = (event) => {\n            const tileIndex = this.getOverlayIndexFromClickEvent(event);\n            const requestedCanvasGroupIndex = this.canvasService.findCanvasGroupByCanvasIndex(tileIndex);\n            if (requestedCanvasGroupIndex !== -1) {\n                this.canvasService.currentCanvasGroupIndex = requestedCanvasGroupIndex;\n            }\n            else {\n                this.calculateCurrentCanvasGroup(this.viewer?.viewport.getCenter(true));\n            }\n            this.modeService.toggleMode();\n        };\n        /**\n         * Double-click-handler\n         * Double-click dashboard-mode should go to page-mode\n         * Double-click page-mode should\n         *    a) Zoom in if page is fitted vertically, or\n         *    b) Fit vertically if page is already zoomed in\n         */\n        this.dblClickHandler = (event) => {\n            // Page is fitted vertically, so dbl-click zooms in\n            if (this.modeService.mode === ViewerMode.PAGE) {\n                this.modeService.mode = ViewerMode.PAGE_ZOOMED;\n                this.zoomStrategy.zoomIn(ViewerOptions.zoom.dblClickZoomFactor, event.position);\n            }\n            else {\n                this.modeService.mode = ViewerMode.PAGE;\n                const canvasIndex = this.getOverlayIndexFromClickEvent(event);\n                const requestedCanvasGroupIndex = this.canvasService.findCanvasGroupByCanvasIndex(canvasIndex);\n                if (requestedCanvasGroupIndex >= 0) {\n                    this.canvasService.currentCanvasGroupIndex = requestedCanvasGroupIndex;\n                }\n                else {\n                    this.calculateCurrentCanvasGroup(this.viewer?.viewport.getCenter(true));\n                }\n            }\n        };\n        this.dragHandler = (e) => {\n            this.viewer.panHorizontal = true;\n            if (this.modeService.isPageZoomed()) {\n                const canvasGroupRect = this.canvasService.getCurrentCanvasGroupRect();\n                const vpBounds = this.getViewportBounds();\n                const pannedPastCanvasGroup = SwipeUtils.getSideIfPanningPastEndOfCanvasGroup(canvasGroupRect, vpBounds);\n                const direction = e.direction;\n                if ((pannedPastCanvasGroup === Side.LEFT &&\n                    SwipeUtils.isDirectionInRightSemicircle(direction)) ||\n                    (pannedPastCanvasGroup === Side.RIGHT &&\n                        SwipeUtils.isDirectionInLeftSemicircle(direction))) {\n                    this.viewer.panHorizontal = false;\n                }\n            }\n        };\n        this.id = this.generateRandomId('ngx-mime-mimeViewer');\n        this.openseadragonId = this.generateRandomId('openseadragon');\n    }\n    get onRotationChange() {\n        return this.rotation.asObservable().pipe(distinctUntilChanged());\n    }\n    get onCenterChange() {\n        return this.currentCenter.asObservable();\n    }\n    get onCanvasGroupIndexChange() {\n        return this.currentCanvasIndex.asObservable().pipe(distinctUntilChanged());\n    }\n    get onOsdReadyChange() {\n        return this.osdIsReady.asObservable().pipe(distinctUntilChanged());\n    }\n    initialize() {\n        this.unsubscribe();\n        this.subscriptions = new Subscription();\n    }\n    setConfig(config) {\n        this.config = config;\n    }\n    getViewer() {\n        return this.viewer;\n    }\n    getTilesources() {\n        return this.tileSources;\n    }\n    getOverlays() {\n        return this.canvasService.overlays;\n    }\n    getZoom() {\n        return this.zoomStrategy.getZoom();\n    }\n    getMinZoom() {\n        return this.zoomStrategy.getMinZoom();\n    }\n    getMaxZoom() {\n        return this.zoomStrategy.getMaxZoom();\n    }\n    home() {\n        if (!this.osdIsReady.getValue()) {\n            return;\n        }\n        this.zoomStrategy.setMinZoom(this.modeService.mode);\n        this.goToCanvasGroupStrategy.centerCurrentCanvas();\n        this.zoomStrategy.goToHomeZoom();\n    }\n    goToPreviousCanvasGroup() {\n        this.goToCanvasGroupStrategy.goToPreviousCanvasGroup(this.currentCanvasIndex.getValue());\n    }\n    goToNextCanvasGroup() {\n        this.goToCanvasGroupStrategy.goToNextCanvasGroup(this.currentCanvasIndex.getValue());\n    }\n    goToCanvasGroup(canvasGroupIndex, immediately) {\n        this.goToCanvasGroupStrategy.goToCanvasGroup({\n            canvasGroupIndex: canvasGroupIndex,\n            immediately: immediately,\n        });\n    }\n    goToCanvas(canvasIndex, immediately) {\n        const canvasGroupIndex = this.canvasService.findCanvasGroupByCanvasIndex(canvasIndex);\n        this.goToCanvasGroupStrategy.goToCanvasGroup({\n            canvasGroupIndex: canvasGroupIndex,\n            immediately: immediately,\n        });\n    }\n    highlight(searchResult) {\n        this.clearHightlight();\n        if (this.viewer) {\n            if (searchResult.q) {\n                this.currentSearch = searchResult;\n            }\n            const rotation = this.rotation.getValue();\n            for (const hit of searchResult.hits) {\n                for (const highlightRect of hit.highlightRects) {\n                    const canvasRect = this.canvasService.getCanvasRect(highlightRect.canvasIndex);\n                    if (canvasRect) {\n                        const currentHitStrokeOffset = 8;\n                        let width = highlightRect.width + currentHitStrokeOffset;\n                        let height = highlightRect.height + currentHitStrokeOffset;\n                        let x = canvasRect.x - currentHitStrokeOffset / 2;\n                        let y = canvasRect.y - currentHitStrokeOffset / 2;\n                        /* hit rect are relative to each unrotated page canvasRect so x,y must be adjusted by the remaining space */\n                        switch (rotation) {\n                            case 0:\n                                x += highlightRect.x;\n                                y += highlightRect.y;\n                                break;\n                            case 90:\n                                x += canvasRect.width - highlightRect.y - highlightRect.height;\n                                y += highlightRect.x;\n                                /* Flip height & width */\n                                width = highlightRect.height + currentHitStrokeOffset;\n                                height = highlightRect.width + currentHitStrokeOffset;\n                                break;\n                            case 180:\n                                x += canvasRect.width - (highlightRect.x + highlightRect.width);\n                                y +=\n                                    canvasRect.height - (highlightRect.y + highlightRect.height);\n                                break;\n                            case 270:\n                                x += highlightRect.y;\n                                y += canvasRect.height - highlightRect.x - highlightRect.width;\n                                /* Flip height & width */\n                                width = highlightRect.height + currentHitStrokeOffset;\n                                height = highlightRect.width + currentHitStrokeOffset;\n                                break;\n                        }\n                        const currentOverlay = this.svgNode\n                            .append('rect')\n                            .attr('mimeHitIndex', hit.id)\n                            .attr('x', x)\n                            .attr('y', y)\n                            .attr('width', width)\n                            .attr('height', height)\n                            .attr('class', 'hit');\n                    }\n                }\n            }\n        }\n    }\n    clearHightlight() {\n        if (this.svgNode) {\n            this.svgNode.selectAll('.hit').remove();\n            this.currentSearch = null;\n        }\n    }\n    setUpViewer(manifest, config) {\n        this.config = config;\n        this.canvasService.setConfig(config);\n        if (manifest && manifest.tileSource) {\n            this.tileSources = manifest.tileSource;\n            this.canvasService.addTileSources(this.tileSources);\n            this.zone.runOutsideAngular(() => {\n                this.manifest = manifest;\n                this.isManifestPaged = ManifestUtils.isManifestPaged(this.manifest);\n                this.viewer = new OpenSeadragon.Viewer(OptionsFactory.create(this.openseadragonId, this.config));\n                createSvgOverlay();\n                this.zoomStrategy = new DefaultZoomStrategy(this.viewer, this.canvasService, this.modeService, this.viewerLayoutService);\n                this.goToCanvasGroupStrategy = new DefaultGoToCanvasGroupStrategy(this.viewer, this.zoomStrategy, this.canvasService, this.modeService, this.config, this.manifest.viewingDirection);\n                /*\n                  This disables keyboard navigation in openseadragon.\n                  We use s for opening search dialog and OSD use the same key for panning.\n                  Issue: https://github.com/openseadragon/openseadragon/issues/794\n                 */\n                this.defaultKeyDownHandler = this.viewer.innerTracker.keyDownHandler;\n                this.disableKeyDownHandler();\n                this.viewer.innerTracker.keyHandler = null;\n                this.canvasService.reset();\n                this.canvasGroupMask = new CanvasGroupMask(this.viewer, this.styleService);\n            });\n            this.addToWindow();\n            this.setupOverlays();\n            this.createOverlays();\n            this.addEvents();\n            this.addSubscriptions();\n        }\n    }\n    addSubscriptions() {\n        this.initialize();\n        this.subscriptions.add(this.modeService.onChange.subscribe((mode) => {\n            this.modeChanged(mode);\n        }));\n        this.zone.runOutsideAngular(() => {\n            this.subscriptions.add(this.onCenterChange\n                .pipe(sample(interval(500)))\n                .subscribe((center) => {\n                this.calculateCurrentCanvasGroup(center);\n                if (center && center !== null) {\n                    this.osdIsReady.next(true);\n                }\n            }));\n        });\n        this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe((canvasGroupIndex) => {\n            this.swipeDragEndCounter.reset();\n            if (canvasGroupIndex !== -1) {\n                this.canvasGroupMask.changeCanvasGroup(this.canvasService.getCanvasGroupRect(canvasGroupIndex));\n                if (this.modeService.mode === ViewerMode.PAGE ||\n                    this.modeService.mode === ViewerMode.DASHBOARD) {\n                    this.home();\n                }\n            }\n        }));\n        this.subscriptions.add(this.onOsdReadyChange.subscribe((state) => {\n            if (state) {\n                this.initialCanvasGroupLoaded();\n                this.currentCenter.next(this.viewer?.viewport.getCenter(true));\n            }\n        }));\n        this.subscriptions.add(this.viewerLayoutService.onChange.subscribe((state) => {\n            this.layoutPages();\n        }));\n        this.subscriptions.add(this.iiifContentSearchService.onSelected.subscribe((hit) => {\n            if (hit) {\n                this.currentHit = hit;\n                this.highlightCurrentHit();\n                this.goToCanvas(hit.index, false);\n            }\n        }));\n        this.subscriptions.add(this.onRotationChange.subscribe((rotation) => {\n            this.layoutPages();\n        }));\n        this.subscriptions.add(this.altoService.onRecognizedTextContentModeChange$.subscribe((recognizedTextModeChanges) => {\n            if (recognizedTextModeChanges.currentValue === RecognizedTextMode.ONLY) {\n                this.hidePages();\n            }\n            if (recognizedTextModeChanges.previousValue === RecognizedTextMode.ONLY) {\n                this.showPages();\n            }\n            if (recognizedTextModeChanges.previousValue ===\n                RecognizedTextMode.ONLY &&\n                recognizedTextModeChanges.currentValue === RecognizedTextMode.SPLIT) {\n                setTimeout(() => {\n                    this.home();\n                }, ViewerOptions.transitions.OSDAnimationTime);\n            }\n        }));\n    }\n    hidePages() {\n        this.setOpacityOnPages(0);\n    }\n    showPages() {\n        this.setOpacityOnPages(1);\n    }\n    layoutPages() {\n        if (this.osdIsReady.getValue()) {\n            const currentCanvasIndex = this.canvasService.currentCanvasIndex;\n            this.destroy(true);\n            this.setUpViewer(this.manifest, this.config);\n            this.goToCanvasGroupStrategy.goToCanvasGroup({\n                canvasGroupIndex: this.canvasService.findCanvasGroupByCanvasIndex(currentCanvasIndex),\n                immediately: false,\n            });\n            // Recreate highlights if there is an active search going on\n            if (this.currentSearch) {\n                this.highlight(this.currentSearch);\n            }\n        }\n    }\n    addToWindow() {\n        window.openSeadragonViewer = this.viewer;\n    }\n    setupOverlays() {\n        this.svgOverlay = this.viewer.svgOverlay();\n        this.svgNode = d3.select(this.svgOverlay.node());\n    }\n    disableKeyDownHandler() {\n        this.viewer.innerTracker.keyDownHandler = null;\n    }\n    resetKeyDownHandler() {\n        this.viewer.innerTracker.keyDownHandler = this.defaultKeyDownHandler;\n    }\n    /**\n     *\n     * @param layoutSwitch true if switching between layouts\n     * to keep current search-state and rotation\n     */\n    destroy(layoutSwitch) {\n        this.osdIsReady.next(false);\n        this.currentCenter.next({ x: 0, y: 0 });\n        if (this.viewer != null && this.viewer.isOpen()) {\n            if (this.viewer.container != null) {\n                d3.select(this.viewer.container.parentNode).style('opacity', '0');\n            }\n            this.viewer.destroy();\n            this.viewer = null;\n        }\n        this.canvasService.reset();\n        if (this.canvasGroupMask) {\n            this.canvasGroupMask.destroy();\n        }\n        // Keep search-state and rotation only if layout-switch\n        if (!layoutSwitch) {\n            this.altoService.destroy();\n            this.currentSearch = null;\n            this.iiifContentSearchService.destroy();\n            this.rotation.next(0);\n            this.modeService.destroy();\n            this.unsubscribe();\n        }\n    }\n    addEvents() {\n        this.clickService.reset();\n        this.clickService.addSingleClickHandler(this.singleClickHandler);\n        this.clickService.addDoubleClickHandler(this.dblClickHandler);\n        this.viewer.addHandler('animation-finish', () => {\n            this.currentCenter.next(this.viewer?.viewport.getCenter(true));\n        });\n        this.viewer.addHandler('canvas-click', this.clickService.click);\n        this.viewer.addHandler('canvas-double-click', (e) => (e.preventDefaultAction = true));\n        this.viewer.addHandler('canvas-press', (e) => {\n            this.pinchStatus.active = false;\n            this.dragStartPosition = e.position;\n            this.isCanvasPressed.next(true);\n        });\n        this.viewer.addHandler('canvas-release', () => this.isCanvasPressed.next(false));\n        this.viewer.addHandler('canvas-scroll', this.scrollHandler);\n        this.viewer.addHandler('canvas-pinch', this.pinchHandler);\n        this.viewer.addHandler('canvas-drag', (e) => {\n            this.dragStatus = true;\n            this.dragHandler(e);\n        });\n        this.viewer.addHandler('canvas-drag-end', (e) => {\n            if (this.dragStatus) {\n                this.constraintCanvas();\n                this.swipeToCanvasGroup(e);\n            }\n            this.dragStatus = false;\n        });\n        this.viewer.addHandler('animation', (e) => {\n            this.currentCenter.next(this.viewer?.viewport.getCenter(true));\n        });\n    }\n    zoomIn(zoomFactor, position) {\n        this.zoomStrategy.zoomIn(zoomFactor, position);\n    }\n    zoomOut(zoomFactor, position) {\n        this.zoomStrategy.zoomOut(zoomFactor, position);\n    }\n    rotate() {\n        if (this.osdIsReady.getValue()) {\n            if (this.viewer.drawer.canRotate()) {\n                this.rotateToRight();\n                this.highlightCurrentHit();\n            }\n            else {\n                this.showRotationIsNotSupportetMessage();\n            }\n        }\n    }\n    /**\n     * Callback for mode-change\n     * @param mode ViewerMode\n     */\n    modeChanged(mode) {\n        if (!this.viewer) {\n            return;\n        }\n        if (mode.currentValue === ViewerMode.DASHBOARD) {\n            this.viewer.panVertical = false;\n            this.toggleToDashboard();\n            this.disableKeyDownHandler();\n        }\n        else if (mode.currentValue === ViewerMode.PAGE) {\n            this.viewer.panVertical = false;\n            this.toggleToPage();\n            this.disableKeyDownHandler();\n        }\n        else if (mode.currentValue === ViewerMode.PAGE_ZOOMED) {\n            this.viewer.panVertical = true;\n            this.resetKeyDownHandler();\n        }\n    }\n    /**\n     * Checks if hit element is a <rect>-element\n     * @param target\n     */\n    isCanvasGroupHit(target) {\n        return target instanceof SVGRectElement;\n    }\n    /**\n     * Returns overlay-index for click-event if hit\n     * @param target hit <rect>\n     */\n    getOverlayIndexFromClickEvent(event) {\n        const target = this.getOriginalTarget(event);\n        if (this.isCanvasGroupHit(target)) {\n            const requestedCanvasGroup = this.canvasService.overlays.indexOf(target);\n            if (requestedCanvasGroup >= 0) {\n                return requestedCanvasGroup;\n            }\n        }\n        return -1;\n    }\n    highlightCurrentHit() {\n        if (this.currentHit) {\n            this.svgNode.selectAll(`g > rect.selected`).attr('class', 'hit');\n            this.svgNode\n                .selectAll(`g > rect[mimeHitIndex='${this.currentHit.id}']`)\n                .attr('class', 'hit selected');\n        }\n    }\n    generateRandomId(prefix) {\n        const randomString = Math.random().toString(16).slice(2);\n        return `${prefix}-${randomString}`;\n    }\n    /**\n     * Switches to DASHBOARD-mode, repositions canvas group and removes max-width on viewer\n     */\n    toggleToDashboard() {\n        if (!this.canvasService.isCurrentCanvasGroupValid()) {\n            return;\n        }\n        this.goToCanvasGroupStrategy.goToCanvasGroup({\n            canvasGroupIndex: this.canvasService.currentCanvasGroupIndex,\n            immediately: false,\n        });\n        this.canvasGroupMask.hide();\n        this.home();\n    }\n    /**\n     * Switches to PAGE-mode, centers current canvas group and repositions other canvas groups\n     */\n    toggleToPage() {\n        if (!this.canvasService.isCurrentCanvasGroupValid()) {\n            return;\n        }\n        this.goToCanvasGroupStrategy.goToCanvasGroup({\n            canvasGroupIndex: this.canvasService.currentCanvasGroupIndex,\n            immediately: false,\n        });\n        this.canvasGroupMask.show();\n        this.home();\n    }\n    /**\n     *\n     * @param point to zoom to. If not set, the viewer will zoom to center\n     */\n    zoomInGesture(position, zoomFactor) {\n        if (this.modeService.mode === ViewerMode.DASHBOARD) {\n            this.modeService.mode = ViewerMode.PAGE;\n        }\n        else {\n            if (position) {\n                this.zoomStrategy.zoomIn(zoomFactor, position);\n            }\n            else {\n                this.zoomStrategy.zoomIn();\n            }\n        }\n    }\n    zoomOutGesture(position, zoomFactor) {\n        if (this.modeService.isPageZoomed()) {\n            this.zoomStrategy.zoomOut(zoomFactor, position);\n        }\n        else if (this.modeService.mode === ViewerMode.PAGE) {\n            this.modeService.mode = ViewerMode.DASHBOARD;\n        }\n    }\n    /**\n     * Process zoom in pinch gesture (pinch out)\n     *\n     * Toggle to page mode and Zoom in\n     *\n     * @param event from pinch gesture\n     */\n    zoomInPinchGesture(event, zoomFactor) {\n        if (this.modeService.mode === ViewerMode.DASHBOARD) {\n            this.modeService.mode = ViewerMode.PAGE;\n        }\n        else {\n            this.zoomIn(zoomFactor, this.dragStartPosition || event.center);\n        }\n    }\n    /**\n     * Process zoom out pinch gesture (pinch in)\n     *\n     * Zoom out and toggle to dashboard when all zoomed out.\n     * Stop between zooming out and toggling to dashboard.\n     *\n     * @param event from pinch gesture\n     */\n    zoomOutPinchGesture(event, zoomFactor) {\n        const gestureId = event.gesturePoints[0].id;\n        if (this.modeService.isPageZoomed()) {\n            this.pinchStatus.shouldStop = true;\n            this.zoomStrategy.zoomOut(zoomFactor, event.center);\n        }\n        else if (this.modeService.mode === ViewerMode.PAGE) {\n            if (!this.pinchStatus.shouldStop ||\n                gestureId === this.pinchStatus.previousGestureId + 2) {\n                this.pinchStatus.shouldStop = false;\n                this.modeService.toggleMode();\n            }\n            this.pinchStatus.previousGestureId = gestureId;\n        }\n    }\n    /**\n     * Iterates tilesources and adds them to viewer\n     * Creates svg clickable overlays for each tile\n     */\n    createOverlays() {\n        this.canvasService.setViewer(this.viewer);\n        this.canvasService.setSvgNode(this.svgNode);\n        this.canvasService.setViewingDirection(this.manifest.viewingDirection);\n        this.canvasService.setRotation(this.rotation.getValue());\n        this.canvasService.updateViewer();\n    }\n    /**\n     * Sets viewer size and opacity once the first canvas group has fully loaded\n     */\n    initialCanvasGroupLoaded() {\n        this.home();\n        this.canvasGroupMask.initialize(this.canvasService.getCurrentCanvasGroupRect(), this.modeService.mode !== ViewerMode.DASHBOARD);\n        if (this.viewer) {\n            d3.select(this.viewer.container.parentNode)\n                .transition()\n                .duration(ViewerOptions.transitions.OSDAnimationTime)\n                .style('opacity', '1');\n        }\n    }\n    calculateCurrentCanvasGroup(center) {\n        if (center) {\n            const currentCanvasGroupIndex = this.canvasService.findClosestCanvasGroupIndex(center);\n            this.currentCanvasIndex.next(currentCanvasGroupIndex);\n        }\n    }\n    constraintCanvas() {\n        if (this.modeService.isPageZoomed()) {\n            const viewportBounds = this.getViewportBounds();\n            const currentCanvasBounds = this.getCurrentCanvasBounds();\n            this.isCanvasOutsideViewport(viewportBounds, currentCanvasBounds)\n                ? this.constraintCanvasOutsideViewport(viewportBounds, currentCanvasBounds)\n                : this.constraintCanvasInsideViewport(viewportBounds);\n        }\n    }\n    getCurrentCanvasBounds() {\n        return this.viewer.world\n            .getItemAt(this.canvasService.currentCanvasGroupIndex)\n            .getBounds();\n    }\n    isCanvasOutsideViewport(viewportBounds, canvasBounds) {\n        return viewportBounds.height < canvasBounds.height;\n    }\n    constraintCanvasOutsideViewport(viewportBounds, canvasBounds) {\n        let rect = undefined;\n        if (this.isCanvasBelowViewportTop(viewportBounds, canvasBounds)) {\n            rect = new Rect({\n                x: viewportBounds.x + viewportBounds.width / 2,\n                y: canvasBounds.y + viewportBounds.height / 2,\n            });\n        }\n        else if (this.isCanvasAboveViewportBottom(viewportBounds, canvasBounds)) {\n            rect = new Rect({\n                x: viewportBounds.x + viewportBounds.width / 2,\n                y: canvasBounds.y + canvasBounds.height - viewportBounds.height / 2,\n            });\n        }\n        this.panTo(rect, true);\n    }\n    constraintCanvasInsideViewport(viewportBounds) {\n        const canvasGroupRect = this.canvasService.getCanvasGroupRect(this.canvasService.currentCanvasGroupIndex);\n        const rect = new Rect({\n            x: viewportBounds.x + viewportBounds.width / 2,\n            y: canvasGroupRect.centerY,\n        });\n        this.panTo(rect, true);\n    }\n    isCanvasBelowViewportTop(viewportBounds, canvasBounds) {\n        return viewportBounds.y < canvasBounds.y;\n    }\n    isCanvasAboveViewportBottom(viewportBounds, canvasBounds) {\n        return (canvasBounds.y + canvasBounds.height <\n            viewportBounds.y + viewportBounds.height);\n    }\n    swipeToCanvasGroup(e) {\n        // Don't swipe on pinch actions\n        if (this.pinchStatus.active) {\n            return;\n        }\n        const speed = e.speed;\n        const dragEndPosision = e.position;\n        const canvasGroupRect = this.canvasService.getCurrentCanvasGroupRect();\n        const viewportBounds = this.getViewportBounds();\n        const direction = SwipeUtils.getSwipeDirection(this.dragStartPosition, dragEndPosision, this.modeService.isPageZoomed());\n        const currentCanvasGroupIndex = this.canvasService.currentCanvasGroupIndex;\n        const calculateNextCanvasGroupStrategy = CalculateNextCanvasGroupFactory.create(this.modeService.mode);\n        let pannedPastSide;\n        let canvasGroupEndHitCountReached = false;\n        if (this.modeService.isPageZoomed()) {\n            pannedPastSide = SwipeUtils.getSideIfPanningPastEndOfCanvasGroup(canvasGroupRect, viewportBounds);\n            this.swipeDragEndCounter.addHit(pannedPastSide, direction);\n            canvasGroupEndHitCountReached =\n                this.swipeDragEndCounter.hitCountReached();\n        }\n        const newCanvasGroupIndex = this.canvasService.constrainToRange(calculateNextCanvasGroupStrategy.calculateNextCanvasGroup({\n            currentCanvasGroupCenter: this.currentCanvasIndex.getValue(),\n            speed: speed,\n            direction: direction,\n            currentCanvasGroupIndex: currentCanvasGroupIndex,\n            canvasGroupEndHitCountReached: canvasGroupEndHitCountReached,\n            viewingDirection: this.manifest.viewingDirection,\n        }));\n        if (this.modeService.mode === ViewerMode.DASHBOARD ||\n            this.modeService.mode === ViewerMode.PAGE ||\n            (canvasGroupEndHitCountReached && direction)) {\n            this.goToCanvasGroupStrategy.goToCanvasGroup({\n                canvasGroupIndex: newCanvasGroupIndex,\n                immediately: false,\n                direction: direction,\n            });\n        }\n    }\n    getViewportBounds() {\n        return this.viewer?.viewport.getBounds();\n    }\n    getOriginalTarget(event) {\n        return event.originalTarget\n            ? event.originalTarget\n            : event.originalEvent.target;\n    }\n    panTo(rect, immediately = false) {\n        if (rect) {\n            this.viewer.viewport.panTo({\n                x: rect.x,\n                y: rect.y,\n            }, immediately);\n        }\n    }\n    rotateToRight() {\n        this.rotation.next((this.rotation.getValue() + 90) % 360);\n    }\n    showRotationIsNotSupportetMessage() {\n        this.snackBar.open(this.intl.rotationIsNotSupported, undefined, {\n            duration: 3000,\n        });\n    }\n    setOpacityOnPages(opacity) {\n        if (this.viewer) {\n            const itemCount = this.viewer.world.getItemCount();\n            for (let i = 0; i < itemCount; i++) {\n                const item = this.viewer.world.getItemAt(i);\n                item.setOpacity(opacity);\n            }\n        }\n    }\n    unsubscribe() {\n        if (this.subscriptions) {\n            this.subscriptions.unsubscribe();\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerService, decorators: [{\n            type: Injectable\n        }], ctorParameters: () => [] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS92aWV3ZXItc2VydmljZS92aWV3ZXIuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0QsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQzFELE9BQU8sS0FBSyxFQUFFLE1BQU0sSUFBSSxDQUFDO0FBQ3pCLE9BQU8sRUFDTCxlQUFlLEVBQ2YsUUFBUSxFQUVSLE9BQU8sRUFDUCxZQUFZLEdBQ2IsTUFBTSxNQUFNLENBQUM7QUFDZCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQzNELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUNqRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDOUQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDdEQsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sNERBQTRELENBQUM7QUFDdEcsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDhDQUE4QyxDQUFDO0FBQzdFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFFekMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQzNELE9BQU8sRUFFTCxrQkFBa0IsRUFFbEIsVUFBVSxHQUNYLE1BQU0sV0FBVyxDQUFDO0FBSW5CLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUVwRCxPQUFPLEVBQUUs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cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5qZWN0LCBJbmplY3RhYmxlLCBOZ1pvbmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdFNuYWNrQmFyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc25hY2stYmFyJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7XG4gIEJlaGF2aW9yU3ViamVjdCxcbiAgaW50ZXJ2YWwsXG4gIE9ic2VydmFibGUsXG4gIFN1YmplY3QsXG4gIFN1YnNjcmlwdGlvbixcbn0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgc2FtcGxlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgQWx0b1NlcnZpY2UgfSBmcm9tICcuLi9hbHRvLXNlcnZpY2UvYWx0by5zZXJ2aWNlJztcbmltcG9ydCB7IENhbnZhc1NlcnZpY2UgfSBmcm9tICcuLi9jYW52YXMtc2VydmljZS9jYW52YXMtc2VydmljZSc7XG5pbXBvcnQgeyBDbGlja1NlcnZpY2UgfSBmcm9tICcuLi9jbGljay1zZXJ2aWNlL2NsaWNrLnNlcnZpY2UnO1xuaW1wb3J0IHsgY3JlYXRlU3ZnT3ZlcmxheSB9IGZyb20gJy4uL2V4dC9zdmctb3ZlcmxheSc7XG5pbXBvcnQgeyBJaWlmQ29udGVudFNlYXJjaFNlcnZpY2UgfSBmcm9tICcuLi9paWlmLWNvbnRlbnQtc2VhcmNoLXNlcnZpY2UvaWlpZi1jb250ZW50LXNlYXJjaC5zZXJ2aWNlJztcbmltcG9ydCB7IE1hbmlmZXN0VXRpbHMgfSBmcm9tICcuLi9paWlmLW1hbmlmZXN0LXNlcnZpY2UvaWlpZi1tYW5pZmVzdC11dGlscyc7XG5pbXBvcnQgeyBNaW1lVmlld2VySW50bCB9IGZyb20gJy4uL2ludGwnO1xuaW1wb3J0IHsgTWltZVZpZXdlckNvbmZpZyB9IGZyb20gJy4uL21pbWUtdmlld2VyLWNvbmZpZyc7XG5pbXBvcnQgeyBNb2RlU2VydmljZSB9IGZyb20gJy4uL21vZGUtc2VydmljZS9tb2RlLnNlcnZpY2UnO1xuaW1wb3J0IHtcbiAgTW9kZUNoYW5nZXMsXG4gIFJlY29nbml6ZWRUZXh0TW9kZSxcbiAgUmVjb2duaXplZFRleHRNb2RlQ2hhbmdlcyxcbiAgVmlld2VyTW9kZSxcbn0gZnJvbSAnLi4vbW9kZWxzJztcbmltcG9ydCB7IERpcmVjdGlvbiB9IGZyb20gJy4uL21vZGVscy9kaXJlY3Rpb24nO1xuaW1wb3J0IHsgSGl0IH0gZnJvbSAnLi4vbW9kZWxzL2hpdCc7XG5pbXBvcnQgeyBNYW5pZmVzdCwgUmVzb3VyY2UgfSBmcm9tICcuLi9tb2RlbHMvbWFuaWZlc3QnO1xuaW1wb3J0IHsgUGluY2hTdGF0dXMgfSBmcm9tICcuLi9tb2RlbHMvcGluY2hTdGF0dXMnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9tb2RlbHMvcG9pbnQnO1xuaW1wb3J0IHsgUmVjdCB9IGZyb20gJy4uL21vZGVscy9yZWN0JztcbmltcG9ydCB7IFNlYXJjaFJlc3VsdCB9IGZyb20gJy4uL21vZGVscy9zZWFyY2gtcmVzdWx0JztcbmltcG9ydCB7IFNpZGUgfSBmcm9tICcuLi9tb2RlbHMvc2lkZSc7XG5pbXBvcnQgeyBWaWV3ZXJMYXlvdXQgfSBmcm9tICcuLi9tb2RlbHMvdmlld2VyLWxheW91dCc7XG5pbXBvcnQgeyBWaWV3ZXJPcHRpb25zIH0gZnJvbSAnLi4vbW9kZWxzL3ZpZXdlci1vcHRpb25zJztcbmltcG9ydCB7IFN0eWxlU2VydmljZSB9IGZyb20gJy4uL3N0eWxlLXNlcnZpY2Uvc3R5bGUuc2VydmljZSc7XG5pbXBvcnQgeyBWaWV3ZXJMYXlvdXRTZXJ2aWNlIH0gZnJvbSAnLi4vdmlld2VyLWxheW91dC1zZXJ2aWNlL3ZpZXdlci1sYXlvdXQtc2VydmljZSc7XG5pbXBvcnQgeyBDYWxjdWxhdGVOZXh0Q2FudmFzR3JvdXBGYWN0b3J5IH0gZnJvbSAnLi9jYWxjdWxhdGUtbmV4dC1jYW52YXMtZ3JvdXAtZmFjdG9yeSc7XG5pbXBvcnQgeyBDYW52YXNHcm91cE1hc2sgfSBmcm9tICcuL2NhbnZhcy1ncm91cC1tYXNrJztcbmltcG9ydCB7XG4gIERlZmF1bHRHb1RvQ2FudmFzR3JvdXBTdHJhdGVneSxcbiAgR29Ub0NhbnZhc0dyb3VwU3RyYXRlZ3ksXG59IGZyb20gJy4vZ28tdG8tY2FudmFzLWdyb3VwLXN0cmF0ZWd5JztcbmltcG9ydCB7IE9wdGlvbnNGYWN0b3J5IH0gZnJvbSAnLi9vcHRpb25zLmZhY3RvcnknO1xuaW1wb3J0IHsgU3dpcGVEcmFnRW5kQ291bnRlciB9IGZyb20gJy4vc3dpcGUtZHJhZy1lbmQtY291bnRlcic7XG5pbXBvcnQgeyBTd2lwZVV0aWxzIH0gZnJvbSAnLi9zd2lwZS11dGlscyc7XG5pbXBvcnQgeyBEZWZhdWx0Wm9vbVN0cmF0ZWd5LCBab29tU3RyYXRlZ3kgfSBmcm9tICcuL3pvb20tc3RyYXRlZ3knO1xuXG5kZWNsYXJlIGNvbnN0IE9wZW5TZWFkcmFnb246IGFueTtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFZpZXdlclNlcnZpY2Uge1xuICBjb25maWchOiBNaW1lVmlld2VyQ29uZmlnO1xuICBpc0NhbnZhc1ByZXNzZWQ6IFN1YmplY3Q8Ym9vbGVhbj4gPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+KGZhbHNlKTtcbiAgY3VycmVudFNlYXJjaDogU2VhcmNoUmVzdWx0IHwgbnVsbCA9IG51bGw7XG4gIGlkID0gJ25neC1taW1lLW1pbWVWaWV3ZXInO1xuICBvcGVuc2VhZHJhZ29uSWQgPSAnb3BlbnNlYWRyYWdvbic7XG4gIHByaXZhdGUgcmVhZG9ubHkgem9uZSA9IGluamVjdChOZ1pvbmUpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNsaWNrU2VydmljZSA9IGluamVjdChDbGlja1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbnZhc1NlcnZpY2UgPSBpbmplY3QoQ2FudmFzU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbW9kZVNlcnZpY2UgPSBpbmplY3QoTW9kZVNlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IHZpZXdlckxheW91dFNlcnZpY2UgPSBpbmplY3QoVmlld2VyTGF5b3V0U2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgaWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlID0gaW5qZWN0KElpaWZDb250ZW50U2VhcmNoU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3R5bGVTZXJ2aWNlID0gaW5qZWN0KFN0eWxlU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgYWx0b1NlcnZpY2UgPSBpbmplY3QoQWx0b1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IHNuYWNrQmFyID0gaW5qZWN0KE1hdFNuYWNrQmFyKTtcbiAgcHJpdmF0ZSByZWFkb25seSBpbnRsID0gaW5qZWN0KE1pbWVWaWV3ZXJJbnRsKTtcbiAgcHJpdmF0ZSB2aWV3ZXI/OiBhbnk7XG4gIHByaXZhdGUgc3ZnT3ZlcmxheTogYW55O1xuICBwcml2YXRlIHN2Z05vZGU6IGFueTtcbiAgcHJpdmF0ZSB0aWxlU291cmNlczogQXJyYXk8UmVzb3VyY2U+ID0gW107XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9ucyE6IFN1YnNjcmlwdGlvbjtcbiAgcHJpdmF0ZSByZWFkb25seSBjdXJyZW50Q2VudGVyOiBTdWJqZWN0PFBvaW50PiA9IG5ldyBTdWJqZWN0KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgY3VycmVudENhbnZhc0luZGV4OiBCZWhhdmlvclN1YmplY3Q8bnVtYmVyPiA9XG4gICAgbmV3IEJlaGF2aW9yU3ViamVjdCgwKTtcbiAgcHJpdmF0ZSBjdXJyZW50SGl0OiBIaXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSBvc2RJc1JlYWR5ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3dpcGVEcmFnRW5kQ291bnRlciA9IG5ldyBTd2lwZURyYWdFbmRDb3VudGVyKCk7XG4gIHByaXZhdGUgY2FudmFzR3JvdXBNYXNrITogQ2FudmFzR3JvdXBNYXNrO1xuICBwcml2YXRlIHJlYWRvbmx5IHBpbmNoU3RhdHVzID0gbmV3IFBpbmNoU3RhdHVzKCk7XG4gIHByaXZhdGUgZHJhZ1N0YXJ0UG9zaXRpb246IGFueTtcbiAgcHJpdmF0ZSBtYW5pZmVzdCE6IE1hbmlmZXN0O1xuICBwcml2YXRlIGlzTWFuaWZlc3RQYWdlZCA9IGZhbHNlO1xuICBwcml2YXRlIGRlZmF1bHRLZXlEb3duSGFuZGxlcjogYW55O1xuICBwcml2YXRlIHpvb21TdHJhdGVneSE6IFpvb21TdHJhdGVneTtcbiAgcHJpdmF0ZSBnb1RvQ2FudmFzR3JvdXBTdHJhdGVneSE6IEdvVG9DYW52YXNHcm91cFN0cmF0ZWd5O1xuICBwcml2YXRlIHJlYWRvbmx5IHJvdGF0aW9uOiBCZWhhdmlvclN1YmplY3Q8bnVtYmVyPiA9IG5ldyBCZWhhdmlvclN1YmplY3QoMCk7XG4gIHByaXZhdGUgZHJhZ1N0YXR1cyA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaWQgPSB0aGlzLmdlbmVyYXRlUmFuZG9tSWQoJ25neC1taW1lLW1pbWVWaWV3ZXInKTtcbiAgICB0aGlzLm9wZW5zZWFkcmFnb25JZCA9IHRoaXMuZ2VuZXJhdGVSYW5kb21JZCgnb3BlbnNlYWRyYWdvbicpO1xuICB9XG5cbiAgZ2V0IG9uUm90YXRpb25DaGFuZ2UoKTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcbiAgICByZXR1cm4gdGhpcy5yb3RhdGlvbi5hc09ic2VydmFibGUoKS5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgZ2V0IG9uQ2VudGVyQ2hhbmdlKCk6IE9ic2VydmFibGU8UG9pbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50Q2VudGVyLmFzT2JzZXJ2YWJsZSgpO1xuICB9XG5cbiAgZ2V0IG9uQ2FudmFzR3JvdXBJbmRleENoYW5nZSgpOiBPYnNlcnZhYmxlPG51bWJlcj4ge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRDYW52YXNJbmRleC5hc09ic2VydmFibGUoKS5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgZ2V0IG9uT3NkUmVhZHlDaGFuZ2UoKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMub3NkSXNSZWFkeS5hc09ic2VydmFibGUoKS5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICB9XG5cbiAgc2V0Q29uZmlnKGNvbmZpZzogTWltZVZpZXdlckNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgcHVibGljIGdldFZpZXdlcigpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLnZpZXdlcjtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUaWxlc291cmNlcygpOiBSZXNvdXJjZVtdIHtcbiAgICByZXR1cm4gdGhpcy50aWxlU291cmNlcztcbiAgfVxuXG4gIHB1YmxpYyBnZXRPdmVybGF5cygpOiBSZWFkb25seUFycmF5PFNWR1JlY3RFbGVtZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzU2VydmljZS5vdmVybGF5cztcbiAgfVxuXG4gIHB1YmxpYyBnZXRab29tKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuem9vbVN0cmF0ZWd5LmdldFpvb20oKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNaW5ab29tKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuem9vbVN0cmF0ZWd5LmdldE1pblpvb20oKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNYXhab29tKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuem9vbVN0cmF0ZWd5LmdldE1heFpvb20oKTtcbiAgfVxuXG4gIHB1YmxpYyBob21lKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5vc2RJc1JlYWR5LmdldFZhbHVlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy56b29tU3RyYXRlZ3kuc2V0TWluWm9vbSh0aGlzLm1vZGVTZXJ2aWNlLm1vZGUpO1xuXG4gICAgdGhpcy5nb1RvQ2FudmFzR3JvdXBTdHJhdGVneS5jZW50ZXJDdXJyZW50Q2FudmFzKCk7XG5cbiAgICB0aGlzLnpvb21TdHJhdGVneS5nb1RvSG9tZVpvb20oKTtcbiAgfVxuXG4gIHB1YmxpYyBnb1RvUHJldmlvdXNDYW52YXNHcm91cCgpOiB2b2lkIHtcbiAgICB0aGlzLmdvVG9DYW52YXNHcm91cFN0cmF0ZWd5LmdvVG9QcmV2aW91c0NhbnZhc0dyb3VwKFxuICAgICAgdGhpcy5jdXJyZW50Q2FudmFzSW5kZXguZ2V0VmFsdWUoKSxcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGdvVG9OZXh0Q2FudmFzR3JvdXAoKTogdm9pZCB7XG4gICAgdGhpcy5nb1RvQ2FudmFzR3JvdXBTdHJhdGVneS5nb1RvTmV4dENhbnZhc0dyb3VwKFxuICAgICAgdGhpcy5jdXJyZW50Q2FudmFzSW5kZXguZ2V0VmFsdWUoKSxcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGdvVG9DYW52YXNHcm91cChjYW52YXNHcm91cEluZGV4OiBudW1iZXIsIGltbWVkaWF0ZWx5OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5nb1RvQ2FudmFzR3JvdXBTdHJhdGVneS5nb1RvQ2FudmFzR3JvdXAoe1xuICAgICAgY2FudmFzR3JvdXBJbmRleDogY2FudmFzR3JvdXBJbmRleCxcbiAgICAgIGltbWVkaWF0ZWx5OiBpbW1lZGlhdGVseSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnb1RvQ2FudmFzKGNhbnZhc0luZGV4OiBudW1iZXIsIGltbWVkaWF0ZWx5OiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3QgY2FudmFzR3JvdXBJbmRleCA9XG4gICAgICB0aGlzLmNhbnZhc1NlcnZpY2UuZmluZENhbnZhc0dyb3VwQnlDYW52YXNJbmRleChjYW52YXNJbmRleCk7XG4gICAgdGhpcy5nb1RvQ2FudmFzR3JvdXBTdHJhdGVneS5nb1RvQ2FudmFzR3JvdXAoe1xuICAgICAgY2FudmFzR3JvdXBJbmRleDogY2FudmFzR3JvdXBJbmRleCxcbiAgICAgIGltbWVkaWF0ZWx5OiBpbW1lZGlhdGVseSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBoaWdobGlnaHQoc2VhcmNoUmVzdWx0OiBTZWFyY2hSZXN1bHQpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFySGlnaHRsaWdodCgpO1xuICAgIGlmICh0aGlzLnZpZXdlcikge1xuICAgICAgaWYgKHNlYXJjaFJlc3VsdC5xKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNlYXJjaCA9IHNlYXJjaFJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgcm90YXRpb24gPSB0aGlzLnJvdGF0aW9uLmdldFZhbHVlKCk7XG5cbiAgICAgIGZvciAoY29uc3QgaGl0IG9mIHNlYXJjaFJlc3VsdC5oaXRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgaGlnaGxpZ2h0UmVjdCBvZiBoaXQuaGlnaGxpZ2h0UmVjdHMpIHtcbiAgICAgICAgICBjb25zdCBjYW52YXNSZWN0ID0gdGhpcy5jYW52YXNTZXJ2aWNlLmdldENhbnZhc1JlY3QoXG4gICAgICAgICAgICBoaWdobGlnaHRSZWN0LmNhbnZhc0luZGV4LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGNhbnZhc1JlY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRIaXRTdHJva2VPZmZzZXQgPSA4O1xuICAgICAgICAgICAgbGV0IHdpZHRoID0gaGlnaGxpZ2h0UmVjdC53aWR0aCArIGN1cnJlbnRIaXRTdHJva2VPZmZzZXQ7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gaGlnaGxpZ2h0UmVjdC5oZWlnaHQgKyBjdXJyZW50SGl0U3Ryb2tlT2Zmc2V0O1xuICAgICAgICAgICAgbGV0IHggPSBjYW52YXNSZWN0LnggLSBjdXJyZW50SGl0U3Ryb2tlT2Zmc2V0IC8gMjtcbiAgICAgICAgICAgIGxldCB5ID0gY2FudmFzUmVjdC55IC0gY3VycmVudEhpdFN0cm9rZU9mZnNldCAvIDI7XG5cbiAgICAgICAgICAgIC8qIGhpdCByZWN0IGFyZSByZWxhdGl2ZSB0byBlYWNoIHVucm90YXRlZCBwYWdlIGNhbnZhc1JlY3Qgc28geCx5IG11c3QgYmUgYWRqdXN0ZWQgYnkgdGhlIHJlbWFpbmluZyBzcGFjZSAqL1xuICAgICAgICAgICAgc3dpdGNoIChyb3RhdGlvbikge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgeCArPSBoaWdobGlnaHRSZWN0Lng7XG4gICAgICAgICAgICAgICAgeSArPSBoaWdobGlnaHRSZWN0Lnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA5MDpcbiAgICAgICAgICAgICAgICB4ICs9IGNhbnZhc1JlY3Qud2lkdGggLSBoaWdobGlnaHRSZWN0LnkgLSBoaWdobGlnaHRSZWN0LmhlaWdodDtcbiAgICAgICAgICAgICAgICB5ICs9IGhpZ2hsaWdodFJlY3QueDtcbiAgICAgICAgICAgICAgICAvKiBGbGlwIGhlaWdodCAmIHdpZHRoICovXG4gICAgICAgICAgICAgICAgd2lkdGggPSBoaWdobGlnaHRSZWN0LmhlaWdodCArIGN1cnJlbnRIaXRTdHJva2VPZmZzZXQ7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gaGlnaGxpZ2h0UmVjdC53aWR0aCArIGN1cnJlbnRIaXRTdHJva2VPZmZzZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxODA6XG4gICAgICAgICAgICAgICAgeCArPSBjYW52YXNSZWN0LndpZHRoIC0gKGhpZ2hsaWdodFJlY3QueCArIGhpZ2hsaWdodFJlY3Qud2lkdGgpO1xuICAgICAgICAgICAgICAgIHkgKz1cbiAgICAgICAgICAgICAgICAgIGNhbnZhc1JlY3QuaGVpZ2h0IC0gKGhpZ2hsaWdodFJlY3QueSArIGhpZ2hsaWdodFJlY3QuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDI3MDpcbiAgICAgICAgICAgICAgICB4ICs9IGhpZ2hsaWdodFJlY3QueTtcbiAgICAgICAgICAgICAgICB5ICs9IGNhbnZhc1JlY3QuaGVpZ2h0IC0gaGlnaGxpZ2h0UmVjdC54IC0gaGlnaGxpZ2h0UmVjdC53aWR0aDtcbiAgICAgICAgICAgICAgICAvKiBGbGlwIGhlaWdodCAmIHdpZHRoICovXG4gICAgICAgICAgICAgICAgd2lkdGggPSBoaWdobGlnaHRSZWN0LmhlaWdodCArIGN1cnJlbnRIaXRTdHJva2VPZmZzZXQ7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gaGlnaGxpZ2h0UmVjdC53aWR0aCArIGN1cnJlbnRIaXRTdHJva2VPZmZzZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRPdmVybGF5OiBTVkdSZWN0RWxlbWVudCA9IHRoaXMuc3ZnTm9kZVxuICAgICAgICAgICAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAgICAgICAgICAgLmF0dHIoJ21pbWVIaXRJbmRleCcsIGhpdC5pZClcbiAgICAgICAgICAgICAgLmF0dHIoJ3gnLCB4KVxuICAgICAgICAgICAgICAuYXR0cigneScsIHkpXG4gICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoKVxuICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KVxuICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnaGl0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGNsZWFySGlnaHRsaWdodCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdmdOb2RlKSB7XG4gICAgICB0aGlzLnN2Z05vZGUuc2VsZWN0QWxsKCcuaGl0JykucmVtb3ZlKCk7XG4gICAgICB0aGlzLmN1cnJlbnRTZWFyY2ggPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHNldFVwVmlld2VyKG1hbmlmZXN0OiBNYW5pZmVzdCwgY29uZmlnOiBNaW1lVmlld2VyQ29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5jYW52YXNTZXJ2aWNlLnNldENvbmZpZyhjb25maWcpO1xuXG4gICAgaWYgKG1hbmlmZXN0ICYmIG1hbmlmZXN0LnRpbGVTb3VyY2UpIHtcbiAgICAgIHRoaXMudGlsZVNvdXJjZXMgPSBtYW5pZmVzdC50aWxlU291cmNlO1xuICAgICAgdGhpcy5jYW52YXNTZXJ2aWNlLmFkZFRpbGVTb3VyY2VzKHRoaXMudGlsZVNvdXJjZXMpO1xuXG4gICAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICB0aGlzLm1hbmlmZXN0ID0gbWFuaWZlc3Q7XG4gICAgICAgIHRoaXMuaXNNYW5pZmVzdFBhZ2VkID0gTWFuaWZlc3RVdGlscy5pc01hbmlmZXN0UGFnZWQodGhpcy5tYW5pZmVzdCk7XG4gICAgICAgIHRoaXMudmlld2VyID0gbmV3IE9wZW5TZWFkcmFnb24uVmlld2VyKFxuICAgICAgICAgIE9wdGlvbnNGYWN0b3J5LmNyZWF0ZSh0aGlzLm9wZW5zZWFkcmFnb25JZCwgdGhpcy5jb25maWcpLFxuICAgICAgICApO1xuXG4gICAgICAgIGNyZWF0ZVN2Z092ZXJsYXkoKTtcbiAgICAgICAgdGhpcy56b29tU3RyYXRlZ3kgPSBuZXcgRGVmYXVsdFpvb21TdHJhdGVneShcbiAgICAgICAgICB0aGlzLnZpZXdlcixcbiAgICAgICAgICB0aGlzLmNhbnZhc1NlcnZpY2UsXG4gICAgICAgICAgdGhpcy5tb2RlU2VydmljZSxcbiAgICAgICAgICB0aGlzLnZpZXdlckxheW91dFNlcnZpY2UsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZ29Ub0NhbnZhc0dyb3VwU3RyYXRlZ3kgPSBuZXcgRGVmYXVsdEdvVG9DYW52YXNHcm91cFN0cmF0ZWd5KFxuICAgICAgICAgIHRoaXMudmlld2VyLFxuICAgICAgICAgIHRoaXMuem9vbVN0cmF0ZWd5LFxuICAgICAgICAgIHRoaXMuY2FudmFzU2VydmljZSxcbiAgICAgICAgICB0aGlzLm1vZGVTZXJ2aWNlLFxuICAgICAgICAgIHRoaXMuY29uZmlnLFxuICAgICAgICAgIHRoaXMubWFuaWZlc3Qudmlld2luZ0RpcmVjdGlvbixcbiAgICAgICAgKTtcblxuICAgICAgICAvKlxuICAgICAgICAgIFRoaXMgZGlzYWJsZXMga2V5Ym9hcmQgbmF2aWdhdGlvbiBpbiBvcGVuc2VhZHJhZ29uLlxuICAgICAgICAgIFdlIHVzZSBzIGZvciBvcGVuaW5nIHNlYXJjaCBkaWFsb2cgYW5kIE9TRCB1c2UgdGhlIHNhbWUga2V5IGZvciBwYW5uaW5nLlxuICAgICAgICAgIElzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vb3BlbnNlYWRyYWdvbi9vcGVuc2VhZHJhZ29uL2lzc3Vlcy83OTRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdEtleURvd25IYW5kbGVyID0gdGhpcy52aWV3ZXIuaW5uZXJUcmFja2VyLmtleURvd25IYW5kbGVyO1xuICAgICAgICB0aGlzLmRpc2FibGVLZXlEb3duSGFuZGxlcigpO1xuICAgICAgICB0aGlzLnZpZXdlci5pbm5lclRyYWNrZXIua2V5SGFuZGxlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzU2VydmljZS5yZXNldCgpO1xuICAgICAgICB0aGlzLmNhbnZhc0dyb3VwTWFzayA9IG5ldyBDYW52YXNHcm91cE1hc2soXG4gICAgICAgICAgdGhpcy52aWV3ZXIsXG4gICAgICAgICAgdGhpcy5zdHlsZVNlcnZpY2UsXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5hZGRUb1dpbmRvdygpO1xuICAgICAgdGhpcy5zZXR1cE92ZXJsYXlzKCk7XG4gICAgICB0aGlzLmNyZWF0ZU92ZXJsYXlzKCk7XG4gICAgICB0aGlzLmFkZEV2ZW50cygpO1xuICAgICAgdGhpcy5hZGRTdWJzY3JpcHRpb25zKCk7XG4gICAgfVxuICB9XG5cbiAgYWRkU3Vic2NyaXB0aW9ucygpOiB2b2lkIHtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5tb2RlU2VydmljZS5vbkNoYW5nZS5zdWJzY3JpYmUoKG1vZGU6IE1vZGVDaGFuZ2VzKSA9PiB7XG4gICAgICAgIHRoaXMubW9kZUNoYW5nZWQobW9kZSk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICAgIHRoaXMub25DZW50ZXJDaGFuZ2VcbiAgICAgICAgICAucGlwZShzYW1wbGUoaW50ZXJ2YWwoNTAwKSkpXG4gICAgICAgICAgLnN1YnNjcmliZSgoY2VudGVyOiBQb2ludCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVDdXJyZW50Q2FudmFzR3JvdXAoY2VudGVyKTtcbiAgICAgICAgICAgIGlmIChjZW50ZXIgJiYgY2VudGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHRoaXMub3NkSXNSZWFkeS5uZXh0KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmNhbnZhc1NlcnZpY2Uub25DYW52YXNHcm91cEluZGV4Q2hhbmdlLnN1YnNjcmliZShcbiAgICAgICAgKGNhbnZhc0dyb3VwSW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgIHRoaXMuc3dpcGVEcmFnRW5kQ291bnRlci5yZXNldCgpO1xuICAgICAgICAgIGlmIChjYW52YXNHcm91cEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXNHcm91cE1hc2suY2hhbmdlQ2FudmFzR3JvdXAoXG4gICAgICAgICAgICAgIHRoaXMuY2FudmFzU2VydmljZS5nZXRDYW52YXNHcm91cFJlY3QoY2FudmFzR3JvdXBJbmRleCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPT09IFZpZXdlck1vZGUuUEFHRSB8fFxuICAgICAgICAgICAgICB0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPT09IFZpZXdlck1vZGUuREFTSEJPQVJEXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdGhpcy5ob21lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMub25Pc2RSZWFkeUNoYW5nZS5zdWJzY3JpYmUoKHN0YXRlOiBib29sZWFuKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgIHRoaXMuaW5pdGlhbENhbnZhc0dyb3VwTG9hZGVkKCk7XG4gICAgICAgICAgdGhpcy5jdXJyZW50Q2VudGVyLm5leHQodGhpcy52aWV3ZXI/LnZpZXdwb3J0LmdldENlbnRlcih0cnVlKSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy52aWV3ZXJMYXlvdXRTZXJ2aWNlLm9uQ2hhbmdlLnN1YnNjcmliZSgoc3RhdGU6IFZpZXdlckxheW91dCkgPT4ge1xuICAgICAgICB0aGlzLmxheW91dFBhZ2VzKCk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuaWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlLm9uU2VsZWN0ZWQuc3Vic2NyaWJlKChoaXQ6IEhpdCB8IG51bGwpID0+IHtcbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgIHRoaXMuY3VycmVudEhpdCA9IGhpdDtcbiAgICAgICAgICB0aGlzLmhpZ2hsaWdodEN1cnJlbnRIaXQoKTtcbiAgICAgICAgICB0aGlzLmdvVG9DYW52YXMoaGl0LmluZGV4LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5vblJvdGF0aW9uQ2hhbmdlLnN1YnNjcmliZSgocm90YXRpb246IG51bWJlcikgPT4ge1xuICAgICAgICB0aGlzLmxheW91dFBhZ2VzKCk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuYWx0b1NlcnZpY2Uub25SZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlQ2hhbmdlJC5zdWJzY3JpYmUoXG4gICAgICAgIChyZWNvZ25pemVkVGV4dE1vZGVDaGFuZ2VzOiBSZWNvZ25pemVkVGV4dE1vZGVDaGFuZ2VzKSA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcmVjb2duaXplZFRleHRNb2RlQ2hhbmdlcy5jdXJyZW50VmFsdWUgPT09IFJlY29nbml6ZWRUZXh0TW9kZS5PTkxZXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVQYWdlcygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlY29nbml6ZWRUZXh0TW9kZUNoYW5nZXMucHJldmlvdXNWYWx1ZSA9PT0gUmVjb2duaXplZFRleHRNb2RlLk9OTFlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd1BhZ2VzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcmVjb2duaXplZFRleHRNb2RlQ2hhbmdlcy5wcmV2aW91c1ZhbHVlID09PVxuICAgICAgICAgICAgICBSZWNvZ25pemVkVGV4dE1vZGUuT05MWSAmJlxuICAgICAgICAgICAgcmVjb2duaXplZFRleHRNb2RlQ2hhbmdlcy5jdXJyZW50VmFsdWUgPT09IFJlY29nbml6ZWRUZXh0TW9kZS5TUExJVFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuaG9tZSgpO1xuICAgICAgICAgICAgfSwgVmlld2VyT3B0aW9ucy50cmFuc2l0aW9ucy5PU0RBbmltYXRpb25UaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBoaWRlUGFnZXMoKSB7XG4gICAgdGhpcy5zZXRPcGFjaXR5T25QYWdlcygwKTtcbiAgfVxuXG4gIHNob3dQYWdlcygpIHtcbiAgICB0aGlzLnNldE9wYWNpdHlPblBhZ2VzKDEpO1xuICB9XG5cbiAgbGF5b3V0UGFnZXMoKSB7XG4gICAgaWYgKHRoaXMub3NkSXNSZWFkeS5nZXRWYWx1ZSgpKSB7XG4gICAgICBjb25zdCBjdXJyZW50Q2FudmFzSW5kZXggPSB0aGlzLmNhbnZhc1NlcnZpY2UuY3VycmVudENhbnZhc0luZGV4O1xuICAgICAgdGhpcy5kZXN0cm95KHRydWUpO1xuICAgICAgdGhpcy5zZXRVcFZpZXdlcih0aGlzLm1hbmlmZXN0LCB0aGlzLmNvbmZpZyk7XG4gICAgICB0aGlzLmdvVG9DYW52YXNHcm91cFN0cmF0ZWd5LmdvVG9DYW52YXNHcm91cCh7XG4gICAgICAgIGNhbnZhc0dyb3VwSW5kZXg6XG4gICAgICAgICAgdGhpcy5jYW52YXNTZXJ2aWNlLmZpbmRDYW52YXNHcm91cEJ5Q2FudmFzSW5kZXgoY3VycmVudENhbnZhc0luZGV4KSxcbiAgICAgICAgaW1tZWRpYXRlbHk6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlY3JlYXRlIGhpZ2hsaWdodHMgaWYgdGhlcmUgaXMgYW4gYWN0aXZlIHNlYXJjaCBnb2luZyBvblxuICAgICAgaWYgKHRoaXMuY3VycmVudFNlYXJjaCkge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodCh0aGlzLmN1cnJlbnRTZWFyY2gpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFkZFRvV2luZG93KCkge1xuICAgICg8YW55PndpbmRvdykub3BlblNlYWRyYWdvblZpZXdlciA9IHRoaXMudmlld2VyO1xuICB9XG5cbiAgc2V0dXBPdmVybGF5cygpOiB2b2lkIHtcbiAgICB0aGlzLnN2Z092ZXJsYXkgPSB0aGlzLnZpZXdlci5zdmdPdmVybGF5KCk7XG4gICAgdGhpcy5zdmdOb2RlID0gZDMuc2VsZWN0KHRoaXMuc3ZnT3ZlcmxheS5ub2RlKCkpO1xuICB9XG5cbiAgZGlzYWJsZUtleURvd25IYW5kbGVyKCkge1xuICAgIHRoaXMudmlld2VyLmlubmVyVHJhY2tlci5rZXlEb3duSGFuZGxlciA9IG51bGw7XG4gIH1cblxuICByZXNldEtleURvd25IYW5kbGVyKCkge1xuICAgIHRoaXMudmlld2VyLmlubmVyVHJhY2tlci5rZXlEb3duSGFuZGxlciA9IHRoaXMuZGVmYXVsdEtleURvd25IYW5kbGVyO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBsYXlvdXRTd2l0Y2ggdHJ1ZSBpZiBzd2l0Y2hpbmcgYmV0d2VlbiBsYXlvdXRzXG4gICAqIHRvIGtlZXAgY3VycmVudCBzZWFyY2gtc3RhdGUgYW5kIHJvdGF0aW9uXG4gICAqL1xuICBkZXN0cm95KGxheW91dFN3aXRjaD86IGJvb2xlYW4pIHtcbiAgICB0aGlzLm9zZElzUmVhZHkubmV4dChmYWxzZSk7XG4gICAgdGhpcy5jdXJyZW50Q2VudGVyLm5leHQoeyB4OiAwLCB5OiAwIH0pO1xuICAgIGlmICh0aGlzLnZpZXdlciAhPSBudWxsICYmIHRoaXMudmlld2VyLmlzT3BlbigpKSB7XG4gICAgICBpZiAodGhpcy52aWV3ZXIuY29udGFpbmVyICE9IG51bGwpIHtcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMudmlld2VyLmNvbnRhaW5lci5wYXJlbnROb2RlKS5zdHlsZSgnb3BhY2l0eScsICcwJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnZpZXdlci5kZXN0cm95KCk7XG4gICAgICB0aGlzLnZpZXdlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuY2FudmFzU2VydmljZS5yZXNldCgpO1xuICAgIGlmICh0aGlzLmNhbnZhc0dyb3VwTWFzaykge1xuICAgICAgdGhpcy5jYW52YXNHcm91cE1hc2suZGVzdHJveSgpO1xuICAgIH1cbiAgICAvLyBLZWVwIHNlYXJjaC1zdGF0ZSBhbmQgcm90YXRpb24gb25seSBpZiBsYXlvdXQtc3dpdGNoXG4gICAgaWYgKCFsYXlvdXRTd2l0Y2gpIHtcbiAgICAgIHRoaXMuYWx0b1NlcnZpY2UuZGVzdHJveSgpO1xuICAgICAgdGhpcy5jdXJyZW50U2VhcmNoID0gbnVsbDtcbiAgICAgIHRoaXMuaWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMucm90YXRpb24ubmV4dCgwKTtcbiAgICAgIHRoaXMubW9kZVNlcnZpY2UuZGVzdHJveSgpO1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFkZEV2ZW50cygpOiB2b2lkIHtcbiAgICB0aGlzLmNsaWNrU2VydmljZS5yZXNldCgpO1xuICAgIHRoaXMuY2xpY2tTZXJ2aWNlLmFkZFNpbmdsZUNsaWNrSGFuZGxlcih0aGlzLnNpbmdsZUNsaWNrSGFuZGxlcik7XG4gICAgdGhpcy5jbGlja1NlcnZpY2UuYWRkRG91YmxlQ2xpY2tIYW5kbGVyKHRoaXMuZGJsQ2xpY2tIYW5kbGVyKTtcbiAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCdhbmltYXRpb24tZmluaXNoJywgKCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50Q2VudGVyLm5leHQodGhpcy52aWV3ZXI/LnZpZXdwb3J0LmdldENlbnRlcih0cnVlKSk7XG4gICAgfSk7XG4gICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignY2FudmFzLWNsaWNrJywgdGhpcy5jbGlja1NlcnZpY2UuY2xpY2spO1xuICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoXG4gICAgICAnY2FudmFzLWRvdWJsZS1jbGljaycsXG4gICAgICAoZTogYW55KSA9PiAoZS5wcmV2ZW50RGVmYXVsdEFjdGlvbiA9IHRydWUpLFxuICAgICk7XG4gICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignY2FudmFzLXByZXNzJywgKGU6IGFueSkgPT4ge1xuICAgICAgdGhpcy5waW5jaFN0YXR1cy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZHJhZ1N0YXJ0UG9zaXRpb24gPSBlLnBvc2l0aW9uO1xuICAgICAgdGhpcy5pc0NhbnZhc1ByZXNzZWQubmV4dCh0cnVlKTtcbiAgICB9KTtcbiAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCdjYW52YXMtcmVsZWFzZScsICgpID0+XG4gICAgICB0aGlzLmlzQ2FudmFzUHJlc3NlZC5uZXh0KGZhbHNlKSxcbiAgICApO1xuICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ2NhbnZhcy1zY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpO1xuICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ2NhbnZhcy1waW5jaCcsIHRoaXMucGluY2hIYW5kbGVyKTtcblxuICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ2NhbnZhcy1kcmFnJywgKGU6IGFueSkgPT4ge1xuICAgICAgdGhpcy5kcmFnU3RhdHVzID0gdHJ1ZTtcbiAgICAgIHRoaXMuZHJhZ0hhbmRsZXIoZSk7XG4gICAgfSk7XG4gICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignY2FudmFzLWRyYWctZW5kJywgKGU6IGFueSkgPT4ge1xuICAgICAgaWYgKHRoaXMuZHJhZ1N0YXR1cykge1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRDYW52YXMoKTtcbiAgICAgICAgdGhpcy5zd2lwZVRvQ2FudmFzR3JvdXAoZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmRyYWdTdGF0dXMgPSBmYWxzZTtcbiAgICB9KTtcbiAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCdhbmltYXRpb24nLCAoZTogYW55KSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRDZW50ZXIubmV4dCh0aGlzLnZpZXdlcj8udmlld3BvcnQuZ2V0Q2VudGVyKHRydWUpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHpvb21Jbih6b29tRmFjdG9yPzogbnVtYmVyLCBwb3NpdGlvbj86IFBvaW50KTogdm9pZCB7XG4gICAgdGhpcy56b29tU3RyYXRlZ3kuem9vbUluKHpvb21GYWN0b3IsIHBvc2l0aW9uKTtcbiAgfVxuXG4gIHpvb21PdXQoem9vbUZhY3Rvcj86IG51bWJlciwgcG9zaXRpb24/OiBQb2ludCk6IHZvaWQge1xuICAgIHRoaXMuem9vbVN0cmF0ZWd5Lnpvb21PdXQoem9vbUZhY3RvciwgcG9zaXRpb24pO1xuICB9XG5cbiAgcm90YXRlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm9zZElzUmVhZHkuZ2V0VmFsdWUoKSkge1xuICAgICAgaWYgKHRoaXMudmlld2VyLmRyYXdlci5jYW5Sb3RhdGUoKSkge1xuICAgICAgICB0aGlzLnJvdGF0ZVRvUmlnaHQoKTtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRDdXJyZW50SGl0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3dSb3RhdGlvbklzTm90U3VwcG9ydGV0TWVzc2FnZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3IgbW9kZS1jaGFuZ2VcbiAgICogQHBhcmFtIG1vZGUgVmlld2VyTW9kZVxuICAgKi9cbiAgbW9kZUNoYW5nZWQobW9kZTogTW9kZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudmlld2VyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG1vZGUuY3VycmVudFZhbHVlID09PSBWaWV3ZXJNb2RlLkRBU0hCT0FSRCkge1xuICAgICAgdGhpcy52aWV3ZXIucGFuVmVydGljYWwgPSBmYWxzZTtcbiAgICAgIHRoaXMudG9nZ2xlVG9EYXNoYm9hcmQoKTtcbiAgICAgIHRoaXMuZGlzYWJsZUtleURvd25IYW5kbGVyKCk7XG4gICAgfSBlbHNlIGlmIChtb2RlLmN1cnJlbnRWYWx1ZSA9PT0gVmlld2VyTW9kZS5QQUdFKSB7XG4gICAgICB0aGlzLnZpZXdlci5wYW5WZXJ0aWNhbCA9IGZhbHNlO1xuICAgICAgdGhpcy50b2dnbGVUb1BhZ2UoKTtcbiAgICAgIHRoaXMuZGlzYWJsZUtleURvd25IYW5kbGVyKCk7XG4gICAgfSBlbHNlIGlmIChtb2RlLmN1cnJlbnRWYWx1ZSA9PT0gVmlld2VyTW9kZS5QQUdFX1pPT01FRCkge1xuICAgICAgdGhpcy52aWV3ZXIucGFuVmVydGljYWwgPSB0cnVlO1xuICAgICAgdGhpcy5yZXNldEtleURvd25IYW5kbGVyKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBoaXQgZWxlbWVudCBpcyBhIDxyZWN0Pi1lbGVtZW50XG4gICAqIEBwYXJhbSB0YXJnZXRcbiAgICovXG4gIGlzQ2FudmFzR3JvdXBIaXQodGFyZ2V0OiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0YXJnZXQgaW5zdGFuY2VvZiBTVkdSZWN0RWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG92ZXJsYXktaW5kZXggZm9yIGNsaWNrLWV2ZW50IGlmIGhpdFxuICAgKiBAcGFyYW0gdGFyZ2V0IGhpdCA8cmVjdD5cbiAgICovXG4gIGdldE92ZXJsYXlJbmRleEZyb21DbGlja0V2ZW50KGV2ZW50OiBhbnkpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzLmdldE9yaWdpbmFsVGFyZ2V0KGV2ZW50KTtcbiAgICBpZiAodGhpcy5pc0NhbnZhc0dyb3VwSGl0KHRhcmdldCkpIHtcbiAgICAgIGNvbnN0IHJlcXVlc3RlZENhbnZhc0dyb3VwOiBudW1iZXIgPVxuICAgICAgICB0aGlzLmNhbnZhc1NlcnZpY2Uub3ZlcmxheXMuaW5kZXhPZih0YXJnZXQpO1xuXG4gICAgICBpZiAocmVxdWVzdGVkQ2FudmFzR3JvdXAgPj0gMCkge1xuICAgICAgICByZXR1cm4gcmVxdWVzdGVkQ2FudmFzR3JvdXA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHByaXZhdGUgaGlnaGxpZ2h0Q3VycmVudEhpdCgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50SGl0KSB7XG4gICAgICB0aGlzLnN2Z05vZGUuc2VsZWN0QWxsKGBnID4gcmVjdC5zZWxlY3RlZGApLmF0dHIoJ2NsYXNzJywgJ2hpdCcpO1xuICAgICAgdGhpcy5zdmdOb2RlXG4gICAgICAgIC5zZWxlY3RBbGwoYGcgPiByZWN0W21pbWVIaXRJbmRleD0nJHt0aGlzLmN1cnJlbnRIaXQuaWR9J11gKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnaGl0IHNlbGVjdGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVJhbmRvbUlkKHByZWZpeDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCByYW5kb21TdHJpbmcgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zbGljZSgyKTtcbiAgICByZXR1cm4gYCR7cHJlZml4fS0ke3JhbmRvbVN0cmluZ31gO1xuICB9XG5cbiAgLyoqXG4gICAqIFN3aXRjaGVzIHRvIERBU0hCT0FSRC1tb2RlLCByZXBvc2l0aW9ucyBjYW52YXMgZ3JvdXAgYW5kIHJlbW92ZXMgbWF4LXdpZHRoIG9uIHZpZXdlclxuICAgKi9cbiAgcHJpdmF0ZSB0b2dnbGVUb0Rhc2hib2FyZCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY2FudmFzU2VydmljZS5pc0N1cnJlbnRDYW52YXNHcm91cFZhbGlkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5nb1RvQ2FudmFzR3JvdXBTdHJhdGVneS5nb1RvQ2FudmFzR3JvdXAoe1xuICAgICAgY2FudmFzR3JvdXBJbmRleDogdGhpcy5jYW52YXNTZXJ2aWNlLmN1cnJlbnRDYW52YXNHcm91cEluZGV4LFxuICAgICAgaW1tZWRpYXRlbHk6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgdGhpcy5jYW52YXNHcm91cE1hc2suaGlkZSgpO1xuXG4gICAgdGhpcy5ob21lKCk7XG4gIH1cblxuICAvKipcbiAgICogU3dpdGNoZXMgdG8gUEFHRS1tb2RlLCBjZW50ZXJzIGN1cnJlbnQgY2FudmFzIGdyb3VwIGFuZCByZXBvc2l0aW9ucyBvdGhlciBjYW52YXMgZ3JvdXBzXG4gICAqL1xuICBwcml2YXRlIHRvZ2dsZVRvUGFnZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY2FudmFzU2VydmljZS5pc0N1cnJlbnRDYW52YXNHcm91cFZhbGlkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5nb1RvQ2FudmFzR3JvdXBTdHJhdGVneS5nb1RvQ2FudmFzR3JvdXAoe1xuICAgICAgY2FudmFzR3JvdXBJbmRleDogdGhpcy5jYW52YXNTZXJ2aWNlLmN1cnJlbnRDYW52YXNHcm91cEluZGV4LFxuICAgICAgaW1tZWRpYXRlbHk6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgdGhpcy5jYW52YXNHcm91cE1hc2suc2hvdygpO1xuXG4gICAgdGhpcy5ob21lKCk7XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xsLWhhbmRsZXJcbiAgICovXG4gIHByaXZhdGUgc2Nyb2xsSGFuZGxlciA9IChldmVudDogYW55KSA9PiB7XG4gICAgY29uc3Qgem9vbUZhY3RvciA9IE1hdGgucG93KFZpZXdlck9wdGlvbnMuem9vbS56b29tRmFjdG9yLCBldmVudC5zY3JvbGwpO1xuICAgIC8vIFNjcm9sbGluZyB1cFxuICAgIGlmIChldmVudC5zY3JvbGwgPiAwKSB7XG4gICAgICB0aGlzLnpvb21Jbkdlc3R1cmUoZXZlbnQucG9zaXRpb24sIHpvb21GYWN0b3IpO1xuICAgICAgLy8gU2Nyb2xsaW5nIGRvd25cbiAgICB9IGVsc2UgaWYgKGV2ZW50LnNjcm9sbCA8IDApIHtcbiAgICAgIHRoaXMuem9vbU91dEdlc3R1cmUoZXZlbnQucG9zaXRpb24sIHpvb21GYWN0b3IpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUGluY2gtaGFuZGxlclxuICAgKi9cbiAgcHJpdmF0ZSBwaW5jaEhhbmRsZXIgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICAgIHRoaXMucGluY2hTdGF0dXMuYWN0aXZlID0gdHJ1ZTtcbiAgICBjb25zdCB6b29tRmFjdG9yID0gZXZlbnQuZGlzdGFuY2UgLyBldmVudC5sYXN0RGlzdGFuY2U7XG4gICAgLy8gUGluY2ggT3V0XG4gICAgaWYgKFxuICAgICAgZXZlbnQuZGlzdGFuY2UgPlxuICAgICAgZXZlbnQubGFzdERpc3RhbmNlICsgVmlld2VyT3B0aW9ucy56b29tLnBpbmNoWm9vbVRocmVzaG9sZFxuICAgICkge1xuICAgICAgdGhpcy56b29tSW5QaW5jaEdlc3R1cmUoZXZlbnQsIHpvb21GYWN0b3IpO1xuICAgICAgLy8gUGluY2ggSW5cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZXZlbnQuZGlzdGFuY2UgKyBWaWV3ZXJPcHRpb25zLnpvb20ucGluY2hab29tVGhyZXNob2xkIDxcbiAgICAgIGV2ZW50Lmxhc3REaXN0YW5jZVxuICAgICkge1xuICAgICAgdGhpcy56b29tT3V0UGluY2hHZXN0dXJlKGV2ZW50LCB6b29tRmFjdG9yKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBwb2ludCB0byB6b29tIHRvLiBJZiBub3Qgc2V0LCB0aGUgdmlld2VyIHdpbGwgem9vbSB0byBjZW50ZXJcbiAgICovXG4gIHByaXZhdGUgem9vbUluR2VzdHVyZShwb3NpdGlvbjogUG9pbnQsIHpvb21GYWN0b3I/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tb2RlU2VydmljZS5tb2RlID09PSBWaWV3ZXJNb2RlLkRBU0hCT0FSRCkge1xuICAgICAgdGhpcy5tb2RlU2VydmljZS5tb2RlID0gVmlld2VyTW9kZS5QQUdFO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy56b29tU3RyYXRlZ3kuem9vbUluKHpvb21GYWN0b3IsIHBvc2l0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuem9vbVN0cmF0ZWd5Lnpvb21JbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgem9vbU91dEdlc3R1cmUocG9zaXRpb246IFBvaW50LCB6b29tRmFjdG9yPzogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubW9kZVNlcnZpY2UuaXNQYWdlWm9vbWVkKCkpIHtcbiAgICAgIHRoaXMuem9vbVN0cmF0ZWd5Lnpvb21PdXQoem9vbUZhY3RvciwgcG9zaXRpb24pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5tb2RlU2VydmljZS5tb2RlID09PSBWaWV3ZXJNb2RlLlBBR0UpIHtcbiAgICAgIHRoaXMubW9kZVNlcnZpY2UubW9kZSA9IFZpZXdlck1vZGUuREFTSEJPQVJEO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9jZXNzIHpvb20gaW4gcGluY2ggZ2VzdHVyZSAocGluY2ggb3V0KVxuICAgKlxuICAgKiBUb2dnbGUgdG8gcGFnZSBtb2RlIGFuZCBab29tIGluXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCBmcm9tIHBpbmNoIGdlc3R1cmVcbiAgICovXG4gIHByaXZhdGUgem9vbUluUGluY2hHZXN0dXJlKGV2ZW50OiBhbnksIHpvb21GYWN0b3I6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPT09IFZpZXdlck1vZGUuREFTSEJPQVJEKSB7XG4gICAgICB0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPSBWaWV3ZXJNb2RlLlBBR0U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuem9vbUluKHpvb21GYWN0b3IsIHRoaXMuZHJhZ1N0YXJ0UG9zaXRpb24gfHwgZXZlbnQuY2VudGVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyB6b29tIG91dCBwaW5jaCBnZXN0dXJlIChwaW5jaCBpbilcbiAgICpcbiAgICogWm9vbSBvdXQgYW5kIHRvZ2dsZSB0byBkYXNoYm9hcmQgd2hlbiBhbGwgem9vbWVkIG91dC5cbiAgICogU3RvcCBiZXR3ZWVuIHpvb21pbmcgb3V0IGFuZCB0b2dnbGluZyB0byBkYXNoYm9hcmQuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCBmcm9tIHBpbmNoIGdlc3R1cmVcbiAgICovXG4gIHByaXZhdGUgem9vbU91dFBpbmNoR2VzdHVyZShldmVudDogYW55LCB6b29tRmFjdG9yOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBnZXN0dXJlSWQgPSBldmVudC5nZXN0dXJlUG9pbnRzWzBdLmlkO1xuICAgIGlmICh0aGlzLm1vZGVTZXJ2aWNlLmlzUGFnZVpvb21lZCgpKSB7XG4gICAgICB0aGlzLnBpbmNoU3RhdHVzLnNob3VsZFN0b3AgPSB0cnVlO1xuICAgICAgdGhpcy56b29tU3RyYXRlZ3kuem9vbU91dCh6b29tRmFjdG9yLCBldmVudC5jZW50ZXIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5tb2RlU2VydmljZS5tb2RlID09PSBWaWV3ZXJNb2RlLlBBR0UpIHtcbiAgICAgIGlmIChcbiAgICAgICAgIXRoaXMucGluY2hTdGF0dXMuc2hvdWxkU3RvcCB8fFxuICAgICAgICBnZXN0dXJlSWQgPT09IHRoaXMucGluY2hTdGF0dXMucHJldmlvdXNHZXN0dXJlSWQgKyAyXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5waW5jaFN0YXR1cy5zaG91bGRTdG9wID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW9kZVNlcnZpY2UudG9nZ2xlTW9kZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5waW5jaFN0YXR1cy5wcmV2aW91c0dlc3R1cmVJZCA9IGdlc3R1cmVJZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2luZ2xlLWNsaWNrLWhhbmRsZXJcbiAgICogU2luZ2xlLWNsaWNrIHRvZ2dsZXMgYmV0d2VlbiBwYWdlL2Rhc2hib2FyZC1tb2RlIGlmIGEgcGFnZSBpcyBoaXRcbiAgICovXG4gIHByaXZhdGUgc2luZ2xlQ2xpY2tIYW5kbGVyID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICBjb25zdCB0aWxlSW5kZXggPSB0aGlzLmdldE92ZXJsYXlJbmRleEZyb21DbGlja0V2ZW50KGV2ZW50KTtcbiAgICBjb25zdCByZXF1ZXN0ZWRDYW52YXNHcm91cEluZGV4ID1cbiAgICAgIHRoaXMuY2FudmFzU2VydmljZS5maW5kQ2FudmFzR3JvdXBCeUNhbnZhc0luZGV4KHRpbGVJbmRleCk7XG4gICAgaWYgKHJlcXVlc3RlZENhbnZhc0dyb3VwSW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLmNhbnZhc1NlcnZpY2UuY3VycmVudENhbnZhc0dyb3VwSW5kZXggPSByZXF1ZXN0ZWRDYW52YXNHcm91cEluZGV4O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhbGN1bGF0ZUN1cnJlbnRDYW52YXNHcm91cCh0aGlzLnZpZXdlcj8udmlld3BvcnQuZ2V0Q2VudGVyKHRydWUpKTtcbiAgICB9XG4gICAgdGhpcy5tb2RlU2VydmljZS50b2dnbGVNb2RlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERvdWJsZS1jbGljay1oYW5kbGVyXG4gICAqIERvdWJsZS1jbGljayBkYXNoYm9hcmQtbW9kZSBzaG91bGQgZ28gdG8gcGFnZS1tb2RlXG4gICAqIERvdWJsZS1jbGljayBwYWdlLW1vZGUgc2hvdWxkXG4gICAqICAgIGEpIFpvb20gaW4gaWYgcGFnZSBpcyBmaXR0ZWQgdmVydGljYWxseSwgb3JcbiAgICogICAgYikgRml0IHZlcnRpY2FsbHkgaWYgcGFnZSBpcyBhbHJlYWR5IHpvb21lZCBpblxuICAgKi9cbiAgcHJpdmF0ZSBkYmxDbGlja0hhbmRsZXIgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICAgIC8vIFBhZ2UgaXMgZml0dGVkIHZlcnRpY2FsbHksIHNvIGRibC1jbGljayB6b29tcyBpblxuICAgIGlmICh0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPT09IFZpZXdlck1vZGUuUEFHRSkge1xuICAgICAgdGhpcy5tb2RlU2VydmljZS5tb2RlID0gVmlld2VyTW9kZS5QQUdFX1pPT01FRDtcbiAgICAgIHRoaXMuem9vbVN0cmF0ZWd5Lnpvb21JbihcbiAgICAgICAgVmlld2VyT3B0aW9ucy56b29tLmRibENsaWNrWm9vbUZhY3RvcixcbiAgICAgICAgZXZlbnQucG9zaXRpb24sXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPSBWaWV3ZXJNb2RlLlBBR0U7XG4gICAgICBjb25zdCBjYW52YXNJbmRleDogbnVtYmVyID0gdGhpcy5nZXRPdmVybGF5SW5kZXhGcm9tQ2xpY2tFdmVudChldmVudCk7XG4gICAgICBjb25zdCByZXF1ZXN0ZWRDYW52YXNHcm91cEluZGV4ID1cbiAgICAgICAgdGhpcy5jYW52YXNTZXJ2aWNlLmZpbmRDYW52YXNHcm91cEJ5Q2FudmFzSW5kZXgoY2FudmFzSW5kZXgpO1xuICAgICAgaWYgKHJlcXVlc3RlZENhbnZhc0dyb3VwSW5kZXggPj0gMCkge1xuICAgICAgICB0aGlzLmNhbnZhc1NlcnZpY2UuY3VycmVudENhbnZhc0dyb3VwSW5kZXggPSByZXF1ZXN0ZWRDYW52YXNHcm91cEluZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVDdXJyZW50Q2FudmFzR3JvdXAodGhpcy52aWV3ZXI/LnZpZXdwb3J0LmdldENlbnRlcih0cnVlKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyB0aWxlc291cmNlcyBhbmQgYWRkcyB0aGVtIHRvIHZpZXdlclxuICAgKiBDcmVhdGVzIHN2ZyBjbGlja2FibGUgb3ZlcmxheXMgZm9yIGVhY2ggdGlsZVxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVPdmVybGF5cygpOiB2b2lkIHtcbiAgICB0aGlzLmNhbnZhc1NlcnZpY2Uuc2V0Vmlld2VyKHRoaXMudmlld2VyKTtcbiAgICB0aGlzLmNhbnZhc1NlcnZpY2Uuc2V0U3ZnTm9kZSh0aGlzLnN2Z05vZGUpO1xuICAgIHRoaXMuY2FudmFzU2VydmljZS5zZXRWaWV3aW5nRGlyZWN0aW9uKHRoaXMubWFuaWZlc3Qudmlld2luZ0RpcmVjdGlvbik7XG4gICAgdGhpcy5jYW52YXNTZXJ2aWNlLnNldFJvdGF0aW9uKHRoaXMucm90YXRpb24uZ2V0VmFsdWUoKSk7XG4gICAgdGhpcy5jYW52YXNTZXJ2aWNlLnVwZGF0ZVZpZXdlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdmlld2VyIHNpemUgYW5kIG9wYWNpdHkgb25jZSB0aGUgZmlyc3QgY2FudmFzIGdyb3VwIGhhcyBmdWxseSBsb2FkZWRcbiAgICovXG4gIHByaXZhdGUgaW5pdGlhbENhbnZhc0dyb3VwTG9hZGVkKCk6IHZvaWQge1xuICAgIHRoaXMuaG9tZSgpO1xuICAgIHRoaXMuY2FudmFzR3JvdXBNYXNrLmluaXRpYWxpemUoXG4gICAgICB0aGlzLmNhbnZhc1NlcnZpY2UuZ2V0Q3VycmVudENhbnZhc0dyb3VwUmVjdCgpLFxuICAgICAgdGhpcy5tb2RlU2VydmljZS5tb2RlICE9PSBWaWV3ZXJNb2RlLkRBU0hCT0FSRCxcbiAgICApO1xuICAgIGlmICh0aGlzLnZpZXdlcikge1xuICAgICAgZDMuc2VsZWN0KHRoaXMudmlld2VyLmNvbnRhaW5lci5wYXJlbnROb2RlKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbihWaWV3ZXJPcHRpb25zLnRyYW5zaXRpb25zLk9TREFuaW1hdGlvblRpbWUpXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsICcxJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVDdXJyZW50Q2FudmFzR3JvdXAoY2VudGVyOiBQb2ludCkge1xuICAgIGlmIChjZW50ZXIpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRDYW52YXNHcm91cEluZGV4ID1cbiAgICAgICAgdGhpcy5jYW52YXNTZXJ2aWNlLmZpbmRDbG9zZXN0Q2FudmFzR3JvdXBJbmRleChjZW50ZXIpO1xuICAgICAgdGhpcy5jdXJyZW50Q2FudmFzSW5kZXgubmV4dChjdXJyZW50Q2FudmFzR3JvdXBJbmRleCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBkcmFnSGFuZGxlciA9IChlOiBhbnkpID0+IHtcbiAgICB0aGlzLnZpZXdlci5wYW5Ib3Jpem9udGFsID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5tb2RlU2VydmljZS5pc1BhZ2Vab29tZWQoKSkge1xuICAgICAgY29uc3QgY2FudmFzR3JvdXBSZWN0OiBSZWN0ID1cbiAgICAgICAgdGhpcy5jYW52YXNTZXJ2aWNlLmdldEN1cnJlbnRDYW52YXNHcm91cFJlY3QoKTtcbiAgICAgIGNvbnN0IHZwQm91bmRzOiBSZWN0ID0gdGhpcy5nZXRWaWV3cG9ydEJvdW5kcygpO1xuICAgICAgY29uc3QgcGFubmVkUGFzdENhbnZhc0dyb3VwID1cbiAgICAgICAgU3dpcGVVdGlscy5nZXRTaWRlSWZQYW5uaW5nUGFzdEVuZE9mQ2FudmFzR3JvdXAoXG4gICAgICAgICAgY2FudmFzR3JvdXBSZWN0LFxuICAgICAgICAgIHZwQm91bmRzLFxuICAgICAgICApO1xuICAgICAgY29uc3QgZGlyZWN0aW9uOiBudW1iZXIgPSBlLmRpcmVjdGlvbjtcbiAgICAgIGlmIChcbiAgICAgICAgKHBhbm5lZFBhc3RDYW52YXNHcm91cCA9PT0gU2lkZS5MRUZUICYmXG4gICAgICAgICAgU3dpcGVVdGlscy5pc0RpcmVjdGlvbkluUmlnaHRTZW1pY2lyY2xlKGRpcmVjdGlvbikpIHx8XG4gICAgICAgIChwYW5uZWRQYXN0Q2FudmFzR3JvdXAgPT09IFNpZGUuUklHSFQgJiZcbiAgICAgICAgICBTd2lwZVV0aWxzLmlzRGlyZWN0aW9uSW5MZWZ0U2VtaWNpcmNsZShkaXJlY3Rpb24pKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMudmlld2VyLnBhbkhvcml6b250YWwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBjb25zdHJhaW50Q2FudmFzKCkge1xuICAgIGlmICh0aGlzLm1vZGVTZXJ2aWNlLmlzUGFnZVpvb21lZCgpKSB7XG4gICAgICBjb25zdCB2aWV3cG9ydEJvdW5kczogUmVjdCA9IHRoaXMuZ2V0Vmlld3BvcnRCb3VuZHMoKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRDYW52YXNCb3VuZHMgPSB0aGlzLmdldEN1cnJlbnRDYW52YXNCb3VuZHMoKTtcbiAgICAgIHRoaXMuaXNDYW52YXNPdXRzaWRlVmlld3BvcnQodmlld3BvcnRCb3VuZHMsIGN1cnJlbnRDYW52YXNCb3VuZHMpXG4gICAgICAgID8gdGhpcy5jb25zdHJhaW50Q2FudmFzT3V0c2lkZVZpZXdwb3J0KFxuICAgICAgICAgICAgdmlld3BvcnRCb3VuZHMsXG4gICAgICAgICAgICBjdXJyZW50Q2FudmFzQm91bmRzLFxuICAgICAgICAgIClcbiAgICAgICAgOiB0aGlzLmNvbnN0cmFpbnRDYW52YXNJbnNpZGVWaWV3cG9ydCh2aWV3cG9ydEJvdW5kcyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRDdXJyZW50Q2FudmFzQm91bmRzKCk6IFJlY3Qge1xuICAgIHJldHVybiB0aGlzLnZpZXdlci53b3JsZFxuICAgICAgLmdldEl0ZW1BdCh0aGlzLmNhbnZhc1NlcnZpY2UuY3VycmVudENhbnZhc0dyb3VwSW5kZXgpXG4gICAgICAuZ2V0Qm91bmRzKCk7XG4gIH1cblxuICBwcml2YXRlIGlzQ2FudmFzT3V0c2lkZVZpZXdwb3J0KFxuICAgIHZpZXdwb3J0Qm91bmRzOiBSZWN0LFxuICAgIGNhbnZhc0JvdW5kczogUmVjdCxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHZpZXdwb3J0Qm91bmRzLmhlaWdodCA8IGNhbnZhc0JvdW5kcy5oZWlnaHQ7XG4gIH1cblxuICBwcml2YXRlIGNvbnN0cmFpbnRDYW52YXNPdXRzaWRlVmlld3BvcnQoXG4gICAgdmlld3BvcnRCb3VuZHM6IFJlY3QsXG4gICAgY2FudmFzQm91bmRzOiBSZWN0LFxuICApOiB2b2lkIHtcbiAgICBsZXQgcmVjdDogUmVjdCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICBpZiAodGhpcy5pc0NhbnZhc0JlbG93Vmlld3BvcnRUb3Aodmlld3BvcnRCb3VuZHMsIGNhbnZhc0JvdW5kcykpIHtcbiAgICAgIHJlY3QgPSBuZXcgUmVjdCh7XG4gICAgICAgIHg6IHZpZXdwb3J0Qm91bmRzLnggKyB2aWV3cG9ydEJvdW5kcy53aWR0aCAvIDIsXG4gICAgICAgIHk6IGNhbnZhc0JvdW5kcy55ICsgdmlld3BvcnRCb3VuZHMuaGVpZ2h0IC8gMixcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc0NhbnZhc0Fib3ZlVmlld3BvcnRCb3R0b20odmlld3BvcnRCb3VuZHMsIGNhbnZhc0JvdW5kcykpIHtcbiAgICAgIHJlY3QgPSBuZXcgUmVjdCh7XG4gICAgICAgIHg6IHZpZXdwb3J0Qm91bmRzLnggKyB2aWV3cG9ydEJvdW5kcy53aWR0aCAvIDIsXG4gICAgICAgIHk6IGNhbnZhc0JvdW5kcy55ICsgY2FudmFzQm91bmRzLmhlaWdodCAtIHZpZXdwb3J0Qm91bmRzLmhlaWdodCAvIDIsXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5wYW5UbyhyZWN0LCB0cnVlKTtcbiAgfVxuXG4gIHByaXZhdGUgY29uc3RyYWludENhbnZhc0luc2lkZVZpZXdwb3J0KHZpZXdwb3J0Qm91bmRzOiBSZWN0KTogdm9pZCB7XG4gICAgY29uc3QgY2FudmFzR3JvdXBSZWN0ID0gdGhpcy5jYW52YXNTZXJ2aWNlLmdldENhbnZhc0dyb3VwUmVjdChcbiAgICAgIHRoaXMuY2FudmFzU2VydmljZS5jdXJyZW50Q2FudmFzR3JvdXBJbmRleCxcbiAgICApO1xuICAgIGNvbnN0IHJlY3QgPSBuZXcgUmVjdCh7XG4gICAgICB4OiB2aWV3cG9ydEJvdW5kcy54ICsgdmlld3BvcnRCb3VuZHMud2lkdGggLyAyLFxuICAgICAgeTogY2FudmFzR3JvdXBSZWN0LmNlbnRlclksXG4gICAgfSk7XG4gICAgdGhpcy5wYW5UbyhyZWN0LCB0cnVlKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNDYW52YXNCZWxvd1ZpZXdwb3J0VG9wKFxuICAgIHZpZXdwb3J0Qm91bmRzOiBSZWN0LFxuICAgIGNhbnZhc0JvdW5kczogUmVjdCxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHZpZXdwb3J0Qm91bmRzLnkgPCBjYW52YXNCb3VuZHMueTtcbiAgfVxuXG4gIHByaXZhdGUgaXNDYW52YXNBYm92ZVZpZXdwb3J0Qm90dG9tKFxuICAgIHZpZXdwb3J0Qm91bmRzOiBSZWN0LFxuICAgIGNhbnZhc0JvdW5kczogUmVjdCxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIGNhbnZhc0JvdW5kcy55ICsgY2FudmFzQm91bmRzLmhlaWdodCA8XG4gICAgICB2aWV3cG9ydEJvdW5kcy55ICsgdmlld3BvcnRCb3VuZHMuaGVpZ2h0XG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc3dpcGVUb0NhbnZhc0dyb3VwKGU6IGFueSkge1xuICAgIC8vIERvbid0IHN3aXBlIG9uIHBpbmNoIGFjdGlvbnNcbiAgICBpZiAodGhpcy5waW5jaFN0YXR1cy5hY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzcGVlZDogbnVtYmVyID0gZS5zcGVlZDtcbiAgICBjb25zdCBkcmFnRW5kUG9zaXNpb24gPSBlLnBvc2l0aW9uO1xuXG4gICAgY29uc3QgY2FudmFzR3JvdXBSZWN0OiBSZWN0ID1cbiAgICAgIHRoaXMuY2FudmFzU2VydmljZS5nZXRDdXJyZW50Q2FudmFzR3JvdXBSZWN0KCk7XG4gICAgY29uc3Qgdmlld3BvcnRCb3VuZHM6IFJlY3QgPSB0aGlzLmdldFZpZXdwb3J0Qm91bmRzKCk7XG5cbiAgICBjb25zdCBkaXJlY3Rpb246IERpcmVjdGlvbiA9IFN3aXBlVXRpbHMuZ2V0U3dpcGVEaXJlY3Rpb24oXG4gICAgICB0aGlzLmRyYWdTdGFydFBvc2l0aW9uLFxuICAgICAgZHJhZ0VuZFBvc2lzaW9uLFxuICAgICAgdGhpcy5tb2RlU2VydmljZS5pc1BhZ2Vab29tZWQoKSxcbiAgICApO1xuXG4gICAgY29uc3QgY3VycmVudENhbnZhc0dyb3VwSW5kZXg6IG51bWJlciA9XG4gICAgICB0aGlzLmNhbnZhc1NlcnZpY2UuY3VycmVudENhbnZhc0dyb3VwSW5kZXg7XG4gICAgY29uc3QgY2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwU3RyYXRlZ3kgPVxuICAgICAgQ2FsY3VsYXRlTmV4dENhbnZhc0dyb3VwRmFjdG9yeS5jcmVhdGUodGhpcy5tb2RlU2VydmljZS5tb2RlKTtcblxuICAgIGxldCBwYW5uZWRQYXN0U2lkZTogU2lkZSB8IG51bGw7XG4gICAgbGV0IGNhbnZhc0dyb3VwRW5kSGl0Q291bnRSZWFjaGVkID0gZmFsc2U7XG4gICAgaWYgKHRoaXMubW9kZVNlcnZpY2UuaXNQYWdlWm9vbWVkKCkpIHtcbiAgICAgIHBhbm5lZFBhc3RTaWRlID0gU3dpcGVVdGlscy5nZXRTaWRlSWZQYW5uaW5nUGFzdEVuZE9mQ2FudmFzR3JvdXAoXG4gICAgICAgIGNhbnZhc0dyb3VwUmVjdCxcbiAgICAgICAgdmlld3BvcnRCb3VuZHMsXG4gICAgICApO1xuICAgICAgdGhpcy5zd2lwZURyYWdFbmRDb3VudGVyLmFkZEhpdChwYW5uZWRQYXN0U2lkZSwgZGlyZWN0aW9uKTtcbiAgICAgIGNhbnZhc0dyb3VwRW5kSGl0Q291bnRSZWFjaGVkID1cbiAgICAgICAgdGhpcy5zd2lwZURyYWdFbmRDb3VudGVyLmhpdENvdW50UmVhY2hlZCgpO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0NhbnZhc0dyb3VwSW5kZXggPSB0aGlzLmNhbnZhc1NlcnZpY2UuY29uc3RyYWluVG9SYW5nZShcbiAgICAgIGNhbGN1bGF0ZU5leHRDYW52YXNHcm91cFN0cmF0ZWd5LmNhbGN1bGF0ZU5leHRDYW52YXNHcm91cCh7XG4gICAgICAgIGN1cnJlbnRDYW52YXNHcm91cENlbnRlcjogdGhpcy5jdXJyZW50Q2FudmFzSW5kZXguZ2V0VmFsdWUoKSxcbiAgICAgICAgc3BlZWQ6IHNwZWVkLFxuICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgICAgY3VycmVudENhbnZhc0dyb3VwSW5kZXg6IGN1cnJlbnRDYW52YXNHcm91cEluZGV4LFxuICAgICAgICBjYW52YXNHcm91cEVuZEhpdENvdW50UmVhY2hlZDogY2FudmFzR3JvdXBFbmRIaXRDb3VudFJlYWNoZWQsXG4gICAgICAgIHZpZXdpbmdEaXJlY3Rpb246IHRoaXMubWFuaWZlc3Qudmlld2luZ0RpcmVjdGlvbixcbiAgICAgIH0pLFxuICAgICk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5tb2RlU2VydmljZS5tb2RlID09PSBWaWV3ZXJNb2RlLkRBU0hCT0FSRCB8fFxuICAgICAgdGhpcy5tb2RlU2VydmljZS5tb2RlID09PSBWaWV3ZXJNb2RlLlBBR0UgfHxcbiAgICAgIChjYW52YXNHcm91cEVuZEhpdENvdW50UmVhY2hlZCAmJiBkaXJlY3Rpb24pXG4gICAgKSB7XG4gICAgICB0aGlzLmdvVG9DYW52YXNHcm91cFN0cmF0ZWd5LmdvVG9DYW52YXNHcm91cCh7XG4gICAgICAgIGNhbnZhc0dyb3VwSW5kZXg6IG5ld0NhbnZhc0dyb3VwSW5kZXgsXG4gICAgICAgIGltbWVkaWF0ZWx5OiBmYWxzZSxcbiAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFZpZXdwb3J0Qm91bmRzKCk6IFJlY3Qge1xuICAgIHJldHVybiB0aGlzLnZpZXdlcj8udmlld3BvcnQuZ2V0Qm91bmRzKCk7XG4gIH1cblxuICBwcml2YXRlIGdldE9yaWdpbmFsVGFyZ2V0KGV2ZW50OiBhbnkpIHtcbiAgICByZXR1cm4gZXZlbnQub3JpZ2luYWxUYXJnZXRcbiAgICAgID8gZXZlbnQub3JpZ2luYWxUYXJnZXRcbiAgICAgIDogZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXQ7XG4gIH1cblxuICBwcml2YXRlIHBhblRvKHJlY3Q6IFJlY3QgfCB1bmRlZmluZWQsIGltbWVkaWF0ZWx5ID0gZmFsc2UpOiB2b2lkIHtcbiAgICBpZiAocmVjdCkge1xuICAgICAgdGhpcy52aWV3ZXIudmlld3BvcnQucGFuVG8oXG4gICAgICAgIHtcbiAgICAgICAgICB4OiByZWN0LngsXG4gICAgICAgICAgeTogcmVjdC55LFxuICAgICAgICB9LFxuICAgICAgICBpbW1lZGlhdGVseSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByb3RhdGVUb1JpZ2h0KCkge1xuICAgIHRoaXMucm90YXRpb24ubmV4dCgodGhpcy5yb3RhdGlvbi5nZXRWYWx1ZSgpICsgOTApICUgMzYwKTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvd1JvdGF0aW9uSXNOb3RTdXBwb3J0ZXRNZXNzYWdlKCkge1xuICAgIHRoaXMuc25hY2tCYXIub3Blbih0aGlzLmludGwucm90YXRpb25Jc05vdFN1cHBvcnRlZCwgdW5kZWZpbmVkLCB7XG4gICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0T3BhY2l0eU9uUGFnZXMob3BhY2l0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmlld2VyKSB7XG4gICAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnZpZXdlci53b3JsZC5nZXRJdGVtQ291bnQoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbUNvdW50OyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMudmlld2VyLndvcmxkLmdldEl0ZW1BdChpKTtcbiAgICAgICAgaXRlbS5zZXRPcGFjaXR5KG9wYWNpdHkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdW5zdWJzY3JpYmUoKSB7XG4gICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9ucykge1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG59XG4iXX0=","import { inject, Injectable } from '@angular/core';\nimport { FullscreenService } from './fullscreen-service/fullscreen.service';\nimport { Dimensions } from './models/dimensions';\nimport { ViewerService } from './viewer-service/viewer.service';\nimport * as i0 from \"@angular/core\";\nexport class MimeDomHelper {\n    constructor() {\n        this.fullscreen = inject(FullscreenService);\n        this.viewerService = inject(ViewerService);\n    }\n    getBoundingClientRect(el) {\n        try {\n            if (this.isDocumentInFullScreenMode() &&\n                el.nativeElement.nodeName === 'MIME-VIEWER') {\n                return this.createFullscreenDimensions(el);\n            }\n            else {\n                return this.createDimensions(el);\n            }\n        }\n        catch (e) {\n            return new Dimensions();\n        }\n    }\n    isDocumentInFullScreenMode() {\n        return this.fullscreen.isFullscreen();\n    }\n    toggleFullscreen() {\n        const el = this.getViewerElement();\n        if (el && this.fullscreen.isEnabled()) {\n            this.fullscreen.toggle(el);\n        }\n    }\n    setFocusOnViewer() {\n        const el = this.getViewerElement();\n        if (el) {\n            el.focus();\n        }\n    }\n    getViewerElement() {\n        return document.querySelector(`#${this.viewerService.id}`);\n    }\n    createFullscreenDimensions(el) {\n        const dimensions = el.nativeElement.getBoundingClientRect();\n        const width = this.getFullscreenWidth();\n        const height = this.getFullscreenHeight();\n        return new Dimensions({\n            ...dimensions,\n            top: 0,\n            bottom: height,\n            width: width,\n            height: height,\n            left: 0,\n            right: width,\n        });\n    }\n    createDimensions(el) {\n        const dimensions = el.nativeElement.getBoundingClientRect();\n        return new Dimensions({\n            top: dimensions.top,\n            bottom: dimensions.bottom,\n            width: dimensions.width,\n            height: dimensions.height,\n            left: dimensions.left,\n            right: dimensions.right,\n        });\n    }\n    getFullscreenWidth() {\n        return (window.innerWidth ||\n            document.documentElement.clientWidth ||\n            document.body.clientWidth);\n    }\n    getFullscreenHeight() {\n        return (window.innerHeight ||\n            document.documentElement.clientHeight ||\n            document.body.clientHeight);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeDomHelper, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeDomHelper }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeDomHelper, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWltZS1kb20taGVscGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvbWltZS1kb20taGVscGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBYyxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQy9ELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBQzVFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0saUNBQWlDLENBQUM7O0FBR2hFLE1BQU0sT0FBTyxhQUFhO0lBRDFCO1FBRW1CLGVBQVUsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUN2QyxrQkFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztLQWlGeEQ7SUEvRVEscUJBQXFCLENBQUMsRUFBYztRQUN6QyxJQUFJLENBQUM7WUFDSCxJQUNFLElBQUksQ0FBQywwQkFBMEIsRUFBRTtnQkFDakMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEtBQUssYUFBYSxFQUMzQyxDQUFDO2dCQUNELE9BQU8sSUFBSSxDQUFDLDBCQUEwQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzdDLENBQUM7aUJBQU0sQ0FBQztnQkFDTixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNuQyxDQUFDO1FBQ0gsQ0FBQztRQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7WUFDWCxPQUFPLElBQUksVUFBVSxFQUFFLENBQUM7UUFDMUIsQ0FBQztJQUNILENBQUM7SUFFTSwwQkFBMEI7UUFDL0IsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3hDLENBQUM7SUFFTSxnQkFBZ0I7UUFDckIsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDbkMsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDO1lBQ3RDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzdCLENBQUM7SUFDSCxDQUFDO0lBRU0sZ0JBQWdCO1FBQ3JCLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ25DLElBQUksRUFBRSxFQUFFLENBQUM7WUFDUCxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDYixDQUFDO0lBQ0gsQ0FBQztJQUVPLGdCQUFnQjtRQUN0QixPQUFPLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVPLDBCQUEwQixDQUFDLEVBQWM7UUFDL0MsTUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDLGFBQWEsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQzVELE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBQ3hDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzFDLE9BQU8sSUFBSSxVQUFVLENBQUM7WUFDcEIsR0FBRyxVQUFVO1lBQ2IsR0FBRyxFQUFFLENBQUM7WUFDTixNQUFNLEVBQUUsTUFBTTtZQUNkLEtBQUssRUFBRSxLQUFLO1lBQ1osTUFBTSxFQUFFLE1BQU07WUFDZCxJQUFJLEVBQUUsQ0FBQztZQUNQLEtBQUssRUFBRSxLQUFLO1NBQ2IsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVPLGdCQUFnQixDQUFDLEVBQWM7UUFDckMsTUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDLGFBQWEsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQzVELE9BQU8sSUFBSSxVQUFVLENBQUM7WUFDcEIsR0FBRyxFQUFFLFVBQVUsQ0FBQyxHQUFHO1lBQ25CLE1BQU0sRUFBRSxVQUFVLENBQUMsTUFBTTtZQUN6QixLQUFLLEVBQUUsVUFBVSxDQUFDLEtBQUs7WUFDdkIsTUFBTSxFQUFFLFVBQVUsQ0FBQyxNQUFNO1lBQ3pCLElBQUksRUFBRSxVQUFVLENBQUMsSUFBSTtZQUNyQixLQUFLLEVBQUUsVUFBVSxDQUFDLEtBQUs7U0FDeEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVPLGtCQUFrQjtRQUN4QixPQUFPLENBQ0wsTUFBTSxDQUFDLFVBQVU7WUFDakIsUUFBUSxDQUFDLGVBQWUsQ0FBQyxXQUFXO1lBQ3BDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUMxQixDQUFDO0lBQ0osQ0FBQztJQUVPLG1CQUFtQjtRQUN6QixPQUFPLENBQ0wsTUFBTSxDQUFDLFdBQVc7WUFDbEIsUUFBUSxDQUFDLGVBQWUsQ0FBQyxZQUFZO1lBQ3JDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUMzQixDQUFDO0lBQ0osQ0FBQzs4R0FsRlUsYUFBYTtrSEFBYixhQUFhOzsyRkFBYixhQUFhO2tCQUR6QixVQUFVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWxlbWVudFJlZiwgaW5qZWN0LCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGdWxsc2NyZWVuU2VydmljZSB9IGZyb20gJy4vZnVsbHNjcmVlbi1zZXJ2aWNlL2Z1bGxzY3JlZW4uc2VydmljZSc7XG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi9tb2RlbHMvZGltZW5zaW9ucyc7XG5pbXBvcnQgeyBWaWV3ZXJTZXJ2aWNlIH0gZnJvbSAnLi92aWV3ZXItc2VydmljZS92aWV3ZXIuc2VydmljZSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBNaW1lRG9tSGVscGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBmdWxsc2NyZWVuID0gaW5qZWN0KEZ1bGxzY3JlZW5TZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSB2aWV3ZXJTZXJ2aWNlID0gaW5qZWN0KFZpZXdlclNlcnZpY2UpO1xuXG4gIHB1YmxpYyBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWw6IEVsZW1lbnRSZWYpOiBEaW1lbnNpb25zIHtcbiAgICB0cnkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmlzRG9jdW1lbnRJbkZ1bGxTY3JlZW5Nb2RlKCkgJiZcbiAgICAgICAgZWwubmF0aXZlRWxlbWVudC5ub2RlTmFtZSA9PT0gJ01JTUUtVklFV0VSJ1xuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZ1bGxzY3JlZW5EaW1lbnNpb25zKGVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZURpbWVuc2lvbnMoZWwpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBuZXcgRGltZW5zaW9ucygpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBpc0RvY3VtZW50SW5GdWxsU2NyZWVuTW9kZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsc2NyZWVuLmlzRnVsbHNjcmVlbigpO1xuICB9XG5cbiAgcHVibGljIHRvZ2dsZUZ1bGxzY3JlZW4oKTogdm9pZCB7XG4gICAgY29uc3QgZWwgPSB0aGlzLmdldFZpZXdlckVsZW1lbnQoKTtcbiAgICBpZiAoZWwgJiYgdGhpcy5mdWxsc2NyZWVuLmlzRW5hYmxlZCgpKSB7XG4gICAgICB0aGlzLmZ1bGxzY3JlZW4udG9nZ2xlKGVsKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc2V0Rm9jdXNPblZpZXdlcigpOiB2b2lkIHtcbiAgICBjb25zdCBlbCA9IHRoaXMuZ2V0Vmlld2VyRWxlbWVudCgpO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFZpZXdlckVsZW1lbnQoKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy52aWV3ZXJTZXJ2aWNlLmlkfWApO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVGdWxsc2NyZWVuRGltZW5zaW9ucyhlbDogRWxlbWVudFJlZik6IERpbWVuc2lvbnMge1xuICAgIGNvbnN0IGRpbWVuc2lvbnMgPSBlbC5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRGdWxsc2NyZWVuV2lkdGgoKTtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmdldEZ1bGxzY3JlZW5IZWlnaHQoKTtcbiAgICByZXR1cm4gbmV3IERpbWVuc2lvbnMoe1xuICAgICAgLi4uZGltZW5zaW9ucyxcbiAgICAgIHRvcDogMCxcbiAgICAgIGJvdHRvbTogaGVpZ2h0LFxuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IHdpZHRoLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVEaW1lbnNpb25zKGVsOiBFbGVtZW50UmVmKTogRGltZW5zaW9ucyB7XG4gICAgY29uc3QgZGltZW5zaW9ucyA9IGVsLm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIG5ldyBEaW1lbnNpb25zKHtcbiAgICAgIHRvcDogZGltZW5zaW9ucy50b3AsXG4gICAgICBib3R0b206IGRpbWVuc2lvbnMuYm90dG9tLFxuICAgICAgd2lkdGg6IGRpbWVuc2lvbnMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGRpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgbGVmdDogZGltZW5zaW9ucy5sZWZ0LFxuICAgICAgcmlnaHQ6IGRpbWVuc2lvbnMucmlnaHQsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGdldEZ1bGxzY3JlZW5XaWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiAoXG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCB8fFxuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8XG4gICAgICBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RnVsbHNjcmVlbkhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiAoXG4gICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgfHxcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHxcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0XG4gICAgKTtcbiAgfVxufVxuIl19","import { inject, Injectable } from '@angular/core';\nimport { debounceTime, map, ReplaySubject } from 'rxjs';\nimport { ViewerService } from '../viewer-service/viewer.service';\nimport * as i0 from \"@angular/core\";\nexport class MimeResizeService {\n    constructor() {\n        this.viewerService = inject(ViewerService);\n        this.resizeSubject = new ReplaySubject();\n    }\n    get onResize() {\n        return this.resizeSubject.pipe(debounceTime(200), map((contentRect) => {\n            return {\n                bottom: contentRect.bottom,\n                height: contentRect.height,\n                left: contentRect.left,\n                right: contentRect.right,\n                top: contentRect.top,\n                width: contentRect.width,\n            };\n        }));\n    }\n    get el() {\n        return this._el;\n    }\n    set el(el) {\n        this._el = el;\n    }\n    initialize() {\n        if (this.isResizeObserverSupported()) {\n            this.initializeResizeObserver();\n        }\n    }\n    destroy() {\n        this.observer?.disconnect();\n    }\n    isResizeObserverSupported() {\n        return 'ResizeObserver' in window;\n    }\n    initializeResizeObserver() {\n        this.observer = new ResizeObserver((entries) => {\n            for (const entry of entries) {\n                this.handleResizeEntry(entry);\n            }\n        });\n        const el = this.el.nativeElement.querySelector(`#${this.viewerService.id}`);\n        if (el) {\n            this.observer?.observe(el);\n        }\n    }\n    handleResizeEntry(entry) {\n        this.resizeSubject.next(entry.contentRect);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeResizeService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeResizeService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeResizeService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWltZS1yZXNpemUuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL21pbWUtcmVzaXplLXNlcnZpY2UvbWltZS1yZXNpemUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQWMsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMvRCxPQUFPLEVBQUUsWUFBWSxFQUFFLEdBQUcsRUFBYyxhQUFhLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFcEUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtDQUFrQyxDQUFDOztBQUdqRSxNQUFNLE9BQU8saUJBQWlCO0lBRDlCO1FBRW1CLGtCQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBRXRDLGtCQUFhLEdBQzVCLElBQUksYUFBYSxFQUFFLENBQUM7S0E0RHZCO0lBekRDLElBQUksUUFBUTtRQUNWLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQzVCLFlBQVksQ0FBQyxHQUFHLENBQUMsRUFDakIsR0FBRyxDQUFDLENBQUMsV0FBNEIsRUFBRSxFQUFFO1lBQ25DLE9BQU87Z0JBQ0wsTUFBTSxFQUFFLFdBQVcsQ0FBQyxNQUFNO2dCQUMxQixNQUFNLEVBQUUsV0FBVyxDQUFDLE1BQU07Z0JBQzFCLElBQUksRUFBRSxXQUFXLENBQUMsSUFBSTtnQkFDdEIsS0FBSyxFQUFFLFdBQVcsQ0FBQyxLQUFLO2dCQUN4QixHQUFHLEVBQUUsV0FBVyxDQUFDLEdBQUc7Z0JBQ3BCLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSzthQUN6QixDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUNKLENBQUM7SUFFRCxJQUFJLEVBQUU7UUFDSixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDbEIsQ0FBQztJQUVELElBQUksRUFBRSxDQUFDLEVBQWM7UUFDbkIsSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUVELFVBQVU7UUFDUixJQUFJLElBQUksQ0FBQyx5QkFBeUIsRUFBRSxFQUFFLENBQUM7WUFDckMsSUFBSSxDQUFDLHdCQUF3QixFQUFFLENBQUM7UUFDbEMsQ0FBQztJQUNILENBQUM7SUFFRCxPQUFPO1FBQ0wsSUFBSSxDQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRU8seUJBQXlCO1FBQy9CLE9BQU8sZ0JBQWdCLElBQUksTUFBTSxDQUFDO0lBQ3BDLENBQUM7SUFFTyx3QkFBd0I7UUFDOUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLGNBQWMsQ0FBQyxDQUFDLE9BQThCLEVBQUUsRUFBRTtZQUNwRSxLQUFLLE1BQU0sS0FBSyxJQUFJLE9BQU8sRUFBRSxDQUFDO2dCQUM1QixJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDaEMsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTSxFQUFFLEdBQW1CLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FDNUQsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsRUFBRSxDQUM1QixDQUFDO1FBRUYsSUFBSSxFQUFFLEVBQUUsQ0FBQztZQUNQLElBQUksQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzdCLENBQUM7SUFDSCxDQUFDO0lBRU8saUJBQWlCLENBQUMsS0FBMEI7UUFDbEQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzdDLENBQUM7OEdBL0RVLGlCQUFpQjtrSEFBakIsaUJBQWlCOzsyRkFBakIsaUJBQWlCO2tCQUQ3QixVQUFVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWxlbWVudFJlZiwgaW5qZWN0LCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUsIG1hcCwgT2JzZXJ2YWJsZSwgUmVwbGF5U3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gJy4uL21vZGVscy9kaW1lbnNpb25zJztcbmltcG9ydCB7IFZpZXdlclNlcnZpY2UgfSBmcm9tICcuLi92aWV3ZXItc2VydmljZS92aWV3ZXIuc2VydmljZSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBNaW1lUmVzaXplU2VydmljZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgdmlld2VyU2VydmljZSA9IGluamVjdChWaWV3ZXJTZXJ2aWNlKTtcbiAgcHJpdmF0ZSBfZWwhOiBFbGVtZW50UmVmO1xuICBwcml2YXRlIHJlYWRvbmx5IHJlc2l6ZVN1YmplY3Q6IFJlcGxheVN1YmplY3Q8RE9NUmVjdFJlYWRPbmx5PiA9XG4gICAgbmV3IFJlcGxheVN1YmplY3QoKTtcbiAgcHJpdmF0ZSBvYnNlcnZlciE6IFJlc2l6ZU9ic2VydmVyO1xuXG4gIGdldCBvblJlc2l6ZSgpOiBPYnNlcnZhYmxlPERpbWVuc2lvbnM+IHtcbiAgICByZXR1cm4gdGhpcy5yZXNpemVTdWJqZWN0LnBpcGUoXG4gICAgICBkZWJvdW5jZVRpbWUoMjAwKSxcbiAgICAgIG1hcCgoY29udGVudFJlY3Q6IERPTVJlY3RSZWFkT25seSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGJvdHRvbTogY29udGVudFJlY3QuYm90dG9tLFxuICAgICAgICAgIGhlaWdodDogY29udGVudFJlY3QuaGVpZ2h0LFxuICAgICAgICAgIGxlZnQ6IGNvbnRlbnRSZWN0LmxlZnQsXG4gICAgICAgICAgcmlnaHQ6IGNvbnRlbnRSZWN0LnJpZ2h0LFxuICAgICAgICAgIHRvcDogY29udGVudFJlY3QudG9wLFxuICAgICAgICAgIHdpZHRoOiBjb250ZW50UmVjdC53aWR0aCxcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBnZXQgZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsO1xuICB9XG5cbiAgc2V0IGVsKGVsOiBFbGVtZW50UmVmKSB7XG4gICAgdGhpcy5fZWwgPSBlbDtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgaWYgKHRoaXMuaXNSZXNpemVPYnNlcnZlclN1cHBvcnRlZCgpKSB7XG4gICAgICB0aGlzLmluaXRpYWxpemVSZXNpemVPYnNlcnZlcigpO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5vYnNlcnZlcj8uZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1Jlc2l6ZU9ic2VydmVyU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAnUmVzaXplT2JzZXJ2ZXInIGluIHdpbmRvdztcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVJlc2l6ZU9ic2VydmVyKCk6IHZvaWQge1xuICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXM6IFJlc2l6ZU9ic2VydmVyRW50cnlbXSkgPT4ge1xuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlUmVzaXplRW50cnkoZW50cnkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgZWw6IEVsZW1lbnQgfCBudWxsID0gdGhpcy5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7dGhpcy52aWV3ZXJTZXJ2aWNlLmlkfWAsXG4gICAgKTtcblxuICAgIGlmIChlbCkge1xuICAgICAgdGhpcy5vYnNlcnZlcj8ub2JzZXJ2ZShlbCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVSZXNpemVFbnRyeShlbnRyeTogUmVzaXplT2JzZXJ2ZXJFbnRyeSk6IHZvaWQge1xuICAgIHRoaXMucmVzaXplU3ViamVjdC5uZXh0KGVudHJ5LmNvbnRlbnRSZWN0KTtcbiAgfVxufVxuIl19","import { inject, Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\nimport { MimeDomHelper } from './../core/mime-dom-helper';\nimport { Dimensions } from './../core/models/dimensions';\nimport * as i0 from \"@angular/core\";\nexport class AttributionDialogResizeService {\n    constructor() {\n        this.mimeDomHelper = inject(MimeDomHelper);\n        this._el = null;\n        this.resizeSubject = new ReplaySubject();\n        this.dimensions = new Dimensions();\n    }\n    get onResize() {\n        return this.resizeSubject.asObservable();\n    }\n    get el() {\n        return this._el;\n    }\n    set el(el) {\n        this._el = el;\n    }\n    markForCheck() {\n        if (this.el) {\n            const dimensions = this.mimeDomHelper.getBoundingClientRect(this.el);\n            if (this.dimensions.bottom !== dimensions.bottom ||\n                this.dimensions.height !== dimensions.height ||\n                this.dimensions.left !== dimensions.left ||\n                this.dimensions.right !== dimensions.right ||\n                this.dimensions.top !== dimensions.top ||\n                this.dimensions.width !== dimensions.width) {\n                this.dimensions = dimensions;\n                this.resizeSubject.next({ ...this.dimensions });\n            }\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AttributionDialogResizeService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AttributionDialogResizeService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AttributionDialogResizeService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRpb24tZGlhbG9nLXJlc2l6ZS5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2F0dHJpYnV0aW9uLWRpYWxvZy9hdHRyaWJ1dGlvbi1kaWFsb2ctcmVzaXplLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFjLE1BQU0sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDL0QsT0FBTyxFQUFjLGFBQWEsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNqRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDMUQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDZCQUE2QixDQUFDOztBQUd6RCxNQUFNLE9BQU8sOEJBQThCO0lBRDNDO1FBRW1CLGtCQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQy9DLFFBQUcsR0FBc0IsSUFBSSxDQUFDO1FBQ3JCLGtCQUFhLEdBQzVCLElBQUksYUFBYSxFQUFFLENBQUM7UUFDZCxlQUFVLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQztLQThCdkM7SUE1QkMsSUFBSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQzNDLENBQUM7SUFFRCxJQUFJLEVBQUU7UUFDSixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDbEIsQ0FBQztJQUVELElBQUksRUFBRSxDQUFDLEVBQXFCO1FBQzFCLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxZQUFZO1FBQ1YsSUFBSSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDWixNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNyRSxJQUNFLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxLQUFLLFVBQVUsQ0FBQyxNQUFNO2dCQUM1QyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sS0FBSyxVQUFVLENBQUMsTUFBTTtnQkFDNUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUk7Z0JBQ3hDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxLQUFLLFVBQVUsQ0FBQyxLQUFLO2dCQUMxQyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsS0FBSyxVQUFVLENBQUMsR0FBRztnQkFDdEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEtBQUssVUFBVSxDQUFDLEtBQUssRUFDMUMsQ0FBQztnQkFDRCxJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQ2xELENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQzs4R0FsQ1UsOEJBQThCO2tIQUE5Qiw4QkFBOEI7OzJGQUE5Qiw4QkFBOEI7a0JBRDFDLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbGVtZW50UmVmLCBpbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIFJlcGxheVN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE1pbWVEb21IZWxwZXIgfSBmcm9tICcuLy4uL2NvcmUvbWltZS1kb20taGVscGVyJztcbmltcG9ydCB7IERpbWVuc2lvbnMgfSBmcm9tICcuLy4uL2NvcmUvbW9kZWxzL2RpbWVuc2lvbnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQXR0cmlidXRpb25EaWFsb2dSZXNpemVTZXJ2aWNlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBtaW1lRG9tSGVscGVyID0gaW5qZWN0KE1pbWVEb21IZWxwZXIpO1xuICBwcml2YXRlIF9lbDogRWxlbWVudFJlZiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJlYWRvbmx5IHJlc2l6ZVN1YmplY3Q6IFJlcGxheVN1YmplY3Q8RGltZW5zaW9ucz4gPVxuICAgIG5ldyBSZXBsYXlTdWJqZWN0KCk7XG4gIHByaXZhdGUgZGltZW5zaW9ucyA9IG5ldyBEaW1lbnNpb25zKCk7XG5cbiAgZ2V0IG9uUmVzaXplKCk6IE9ic2VydmFibGU8RGltZW5zaW9ucz4ge1xuICAgIHJldHVybiB0aGlzLnJlc2l6ZVN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gIH1cblxuICBnZXQgZWwoKTogRWxlbWVudFJlZiB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl9lbDtcbiAgfVxuXG4gIHNldCBlbChlbDogRWxlbWVudFJlZiB8IG51bGwpIHtcbiAgICB0aGlzLl9lbCA9IGVsO1xuICB9XG5cbiAgbWFya0ZvckNoZWNrKCkge1xuICAgIGlmICh0aGlzLmVsKSB7XG4gICAgICBjb25zdCBkaW1lbnNpb25zID0gdGhpcy5taW1lRG9tSGVscGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCh0aGlzLmVsKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLmJvdHRvbSAhPT0gZGltZW5zaW9ucy5ib3R0b20gfHxcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAhPT0gZGltZW5zaW9ucy5oZWlnaHQgfHxcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLmxlZnQgIT09IGRpbWVuc2lvbnMubGVmdCB8fFxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMucmlnaHQgIT09IGRpbWVuc2lvbnMucmlnaHQgfHxcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLnRvcCAhPT0gZGltZW5zaW9ucy50b3AgfHxcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLndpZHRoICE9PSBkaW1lbnNpb25zLndpZHRoXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gZGltZW5zaW9ucztcbiAgICAgICAgdGhpcy5yZXNpemVTdWJqZWN0Lm5leHQoeyAuLi50aGlzLmRpbWVuc2lvbnMgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0=","import { Dimensions } from './../core/models/dimensions';\nexport class MobileContentSearchDialogConfigStrategy {\n    getConfig(elementRef, viewContainerRef) {\n        return {\n            hasBackdrop: false,\n            autoFocus: false,\n            width: '100%',\n            height: '100%',\n            maxWidth: '100% !important',\n            panelClass: ['mime-mobile-dialog', 'mime-dialog', 'content-search-panel'],\n            viewContainerRef: viewContainerRef,\n        };\n    }\n}\nexport class DesktopContentSearchDialogConfigStrategy {\n    static { this.dialogWidth = 350; }\n    static { this.paddingRight = 16; }\n    constructor(mimeDomHelper) {\n        this.mimeDomHelper = mimeDomHelper;\n    }\n    getConfig(el, viewContainerRef) {\n        const dimensions = this.getPosition(el);\n        return {\n            hasBackdrop: false,\n            autoFocus: false,\n            width: `${DesktopContentSearchDialogConfigStrategy.dialogWidth}px`,\n            position: {\n                top: dimensions.top + 'px',\n                left: dimensions.left + 'px',\n            },\n            maxWidth: '100% !important',\n            panelClass: ['mime-dialog', 'content-search-panel'],\n            viewContainerRef: viewContainerRef,\n        };\n    }\n    getPosition(el) {\n        const dimensions = this.mimeDomHelper.getBoundingClientRect(el);\n        return new Dimensions({\n            top: dimensions.top + 80,\n            left: dimensions.right -\n                DesktopContentSearchDialogConfigStrategy.dialogWidth -\n                DesktopContentSearchDialogConfigStrategy.paddingRight,\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC1zZWFyY2gtZGlhbG9nLWNvbmZpZy1zdHJhdGVneS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb250ZW50LXNlYXJjaC1kaWFsb2cvY29udGVudC1zZWFyY2gtZGlhbG9nLWNvbmZpZy1zdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFTekQsTUFBTSxPQUFPLHVDQUF1QztJQUczQyxTQUFTLENBQ2QsVUFBc0IsRUFDdEIsZ0JBQWtDO1FBRWxDLE9BQU87WUFDTCxXQUFXLEVBQUUsS0FBSztZQUNsQixTQUFTLEVBQUUsS0FBSztZQUNoQixLQUFLLEVBQUUsTUFBTTtZQUNiLE1BQU0sRUFBRSxNQUFNO1lBQ2QsUUFBUSxFQUFFLGlCQUFpQjtZQUMzQixVQUFVLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxhQUFhLEVBQUUsc0JBQXNCLENBQUM7WUFDekUsZ0JBQWdCLEVBQUUsZ0JBQWdCO1NBQ25DLENBQUM7SUFDSixDQUFDO0NBQ0Y7QUFFRCxNQUFNLE9BQU8sd0NBQXdDO2FBRzVCLGdCQUFXLEdBQUcsR0FBRyxDQUFDO2FBQ2xCLGlCQUFZLEdBQUcsRUFBRSxDQUFDO0lBR3pDLFlBQVksYUFBNEI7UUFDdEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7SUFDckMsQ0FBQztJQUVNLFNBQVMsQ0FDZCxFQUFjLEVBQ2QsZ0JBQWtDO1FBRWxDLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEMsT0FBTztZQUNMLFdBQVcsRUFBRSxLQUFLO1lBQ2xCLFNBQVMsRUFBRSxLQUFLO1lBQ2hCLEtBQUssRUFBRSxHQUFHLHdDQUF3QyxDQUFDLFdBQVcsSUFBSTtZQUNsRSxRQUFRLEVBQUU7Z0JBQ1IsR0FBRyxFQUFFLFVBQVUsQ0FBQyxHQUFHLEdBQUcsSUFBSTtnQkFDMUIsSUFBSSxFQUFFLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSTthQUM3QjtZQUNELFFBQVEsRUFBRSxpQkFBaUI7WUFDM0IsVUFBVSxFQUFFLENBQUMsYUFBYSxFQUFFLHNCQUFzQixDQUFDO1lBQ25ELGdCQUFnQixFQUFFLGdCQUFnQjtTQUNuQyxDQUFDO0lBQ0osQ0FBQztJQUVPLFdBQVcsQ0FBQyxFQUFjO1FBQ2hDLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMscUJBQXFCLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDaEUsT0FBTyxJQUFJLFVBQVUsQ0FBQztZQUNwQixHQUFHLEVBQUUsVUFBVSxDQUFDLEdBQUcsR0FBRyxFQUFFO1lBQ3hCLElBQUksRUFDRixVQUFVLENBQUMsS0FBSztnQkFDaEIsd0NBQXdDLENBQUMsV0FBVztnQkFDcEQsd0NBQXdDLENBQUMsWUFBWTtTQUN4RCxDQUFDLENBQUM7SUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWxlbWVudFJlZiwgVmlld0NvbnRhaW5lclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0RGlhbG9nQ29uZmlnIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcbmltcG9ydCB7IE1pbWVEb21IZWxwZXIgfSBmcm9tICcuLy4uL2NvcmUvbWltZS1kb20taGVscGVyJztcbmltcG9ydCB7IERpbWVuc2lvbnMgfSBmcm9tICcuLy4uL2NvcmUvbW9kZWxzL2RpbWVuc2lvbnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRlbnRTZWFyY2hEaWFsb2dDb25maWdTdHJhdGVneSB7XG4gIGdldENvbmZpZyhcbiAgICBlbGVtZW50UmVmOiBFbGVtZW50UmVmIHwgbnVsbCxcbiAgICB2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmLFxuICApOiBNYXREaWFsb2dDb25maWc7XG59XG5cbmV4cG9ydCBjbGFzcyBNb2JpbGVDb250ZW50U2VhcmNoRGlhbG9nQ29uZmlnU3RyYXRlZ3lcbiAgaW1wbGVtZW50cyBDb250ZW50U2VhcmNoRGlhbG9nQ29uZmlnU3RyYXRlZ3lcbntcbiAgcHVibGljIGdldENvbmZpZyhcbiAgICBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgIHZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWYsXG4gICk6IE1hdERpYWxvZ0NvbmZpZyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc0JhY2tkcm9wOiBmYWxzZSxcbiAgICAgIGF1dG9Gb2N1czogZmFsc2UsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBtYXhXaWR0aDogJzEwMCUgIWltcG9ydGFudCcsXG4gICAgICBwYW5lbENsYXNzOiBbJ21pbWUtbW9iaWxlLWRpYWxvZycsICdtaW1lLWRpYWxvZycsICdjb250ZW50LXNlYXJjaC1wYW5lbCddLFxuICAgICAgdmlld0NvbnRhaW5lclJlZjogdmlld0NvbnRhaW5lclJlZixcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXNrdG9wQ29udGVudFNlYXJjaERpYWxvZ0NvbmZpZ1N0cmF0ZWd5XG4gIGltcGxlbWVudHMgQ29udGVudFNlYXJjaERpYWxvZ0NvbmZpZ1N0cmF0ZWd5XG57XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgZGlhbG9nV2lkdGggPSAzNTA7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcGFkZGluZ1JpZ2h0ID0gMTY7XG4gIHByaXZhdGUgbWltZURvbUhlbHBlcjogTWltZURvbUhlbHBlcjtcblxuICBjb25zdHJ1Y3RvcihtaW1lRG9tSGVscGVyOiBNaW1lRG9tSGVscGVyKSB7XG4gICAgdGhpcy5taW1lRG9tSGVscGVyID0gbWltZURvbUhlbHBlcjtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb25maWcoXG4gICAgZWw6IEVsZW1lbnRSZWYsXG4gICAgdmlld0NvbnRhaW5lclJlZjogVmlld0NvbnRhaW5lclJlZixcbiAgKTogTWF0RGlhbG9nQ29uZmlnIHtcbiAgICBjb25zdCBkaW1lbnNpb25zID0gdGhpcy5nZXRQb3NpdGlvbihlbCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc0JhY2tkcm9wOiBmYWxzZSxcbiAgICAgIGF1dG9Gb2N1czogZmFsc2UsXG4gICAgICB3aWR0aDogYCR7RGVza3RvcENvbnRlbnRTZWFyY2hEaWFsb2dDb25maWdTdHJhdGVneS5kaWFsb2dXaWR0aH1weGAsXG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICB0b3A6IGRpbWVuc2lvbnMudG9wICsgJ3B4JyxcbiAgICAgICAgbGVmdDogZGltZW5zaW9ucy5sZWZ0ICsgJ3B4JyxcbiAgICAgIH0sXG4gICAgICBtYXhXaWR0aDogJzEwMCUgIWltcG9ydGFudCcsXG4gICAgICBwYW5lbENsYXNzOiBbJ21pbWUtZGlhbG9nJywgJ2NvbnRlbnQtc2VhcmNoLXBhbmVsJ10sXG4gICAgICB2aWV3Q29udGFpbmVyUmVmOiB2aWV3Q29udGFpbmVyUmVmLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGdldFBvc2l0aW9uKGVsOiBFbGVtZW50UmVmKTogRGltZW5zaW9ucyB7XG4gICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMubWltZURvbUhlbHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoZWwpO1xuICAgIHJldHVybiBuZXcgRGltZW5zaW9ucyh7XG4gICAgICB0b3A6IGRpbWVuc2lvbnMudG9wICsgODAsXG4gICAgICBsZWZ0OlxuICAgICAgICBkaW1lbnNpb25zLnJpZ2h0IC1cbiAgICAgICAgRGVza3RvcENvbnRlbnRTZWFyY2hEaWFsb2dDb25maWdTdHJhdGVneS5kaWFsb2dXaWR0aCAtXG4gICAgICAgIERlc2t0b3BDb250ZW50U2VhcmNoRGlhbG9nQ29uZmlnU3RyYXRlZ3kucGFkZGluZ1JpZ2h0LFxuICAgIH0pO1xuICB9XG59XG4iXX0=","import { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { Injectable, inject } from '@angular/core';\nimport { MimeDomHelper } from '../core/mime-dom-helper';\nimport { DesktopContentSearchDialogConfigStrategy, MobileContentSearchDialogConfigStrategy, } from './content-search-dialog-config-strategy';\nimport * as i0 from \"@angular/core\";\nexport class ContentSearchDialogConfigStrategyFactory {\n    constructor() {\n        this.breakpointObserver = inject(BreakpointObserver);\n        this.mimeDomHelper = inject(MimeDomHelper);\n    }\n    create() {\n        const isHandsetOrTabletInPortrait = this.breakpointObserver.isMatched([\n            Breakpoints.Handset,\n            Breakpoints.TabletPortrait,\n        ]);\n        return isHandsetOrTabletInPortrait\n            ? new MobileContentSearchDialogConfigStrategy()\n            : new DesktopContentSearchDialogConfigStrategy(this.mimeDomHelper);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchDialogConfigStrategyFactory, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchDialogConfigStrategyFactory }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchDialogConfigStrategyFactory, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC1zZWFyY2gtZGlhbG9nLWNvbmZpZy1zdHJhdGVneS1mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvbnRlbnQtc2VhcmNoLWRpYWxvZy9jb250ZW50LXNlYXJjaC1kaWFsb2ctY29uZmlnLXN0cmF0ZWd5LWZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFdBQVcsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN4RCxPQUFPLEVBRUwsd0NBQXdDLEVBQ3hDLHVDQUF1QyxHQUN4QyxNQUFNLHlDQUF5QyxDQUFDOztBQUdqRCxNQUFNLE9BQU8sd0NBQXdDO0lBRHJEO1FBRW1CLHVCQUFrQixHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2hELGtCQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0tBWXhEO0lBVlEsTUFBTTtRQUNYLE1BQU0sMkJBQTJCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQztZQUNwRSxXQUFXLENBQUMsT0FBTztZQUNuQixXQUFXLENBQUMsY0FBYztTQUMzQixDQUFDLENBQUM7UUFFSCxPQUFPLDJCQUEyQjtZQUNoQyxDQUFDLENBQUMsSUFBSSx1Q0FBdUMsRUFBRTtZQUMvQyxDQUFDLENBQUMsSUFBSSx3Q0FBd0MsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDdkUsQ0FBQzs4R0FiVSx3Q0FBd0M7a0hBQXhDLHdDQUF3Qzs7MkZBQXhDLHdDQUF3QztrQkFEcEQsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJyZWFrcG9pbnRPYnNlcnZlciwgQnJlYWtwb2ludHMgfSBmcm9tICdAYW5ndWxhci9jZGsvbGF5b3V0JztcbmltcG9ydCB7IEluamVjdGFibGUsIGluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWltZURvbUhlbHBlciB9IGZyb20gJy4uL2NvcmUvbWltZS1kb20taGVscGVyJztcbmltcG9ydCB7XG4gIENvbnRlbnRTZWFyY2hEaWFsb2dDb25maWdTdHJhdGVneSxcbiAgRGVza3RvcENvbnRlbnRTZWFyY2hEaWFsb2dDb25maWdTdHJhdGVneSxcbiAgTW9iaWxlQ29udGVudFNlYXJjaERpYWxvZ0NvbmZpZ1N0cmF0ZWd5LFxufSBmcm9tICcuL2NvbnRlbnQtc2VhcmNoLWRpYWxvZy1jb25maWctc3RyYXRlZ3knO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ29udGVudFNlYXJjaERpYWxvZ0NvbmZpZ1N0cmF0ZWd5RmFjdG9yeSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgYnJlYWtwb2ludE9ic2VydmVyID0gaW5qZWN0KEJyZWFrcG9pbnRPYnNlcnZlcik7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWltZURvbUhlbHBlciA9IGluamVjdChNaW1lRG9tSGVscGVyKTtcblxuICBwdWJsaWMgY3JlYXRlKCk6IENvbnRlbnRTZWFyY2hEaWFsb2dDb25maWdTdHJhdGVneSB7XG4gICAgY29uc3QgaXNIYW5kc2V0T3JUYWJsZXRJblBvcnRyYWl0ID0gdGhpcy5icmVha3BvaW50T2JzZXJ2ZXIuaXNNYXRjaGVkKFtcbiAgICAgIEJyZWFrcG9pbnRzLkhhbmRzZXQsXG4gICAgICBCcmVha3BvaW50cy5UYWJsZXRQb3J0cmFpdCxcbiAgICBdKTtcblxuICAgIHJldHVybiBpc0hhbmRzZXRPclRhYmxldEluUG9ydHJhaXRcbiAgICAgID8gbmV3IE1vYmlsZUNvbnRlbnRTZWFyY2hEaWFsb2dDb25maWdTdHJhdGVneSgpXG4gICAgICA6IG5ldyBEZXNrdG9wQ29udGVudFNlYXJjaERpYWxvZ0NvbmZpZ1N0cmF0ZWd5KHRoaXMubWltZURvbUhlbHBlcik7XG4gIH1cbn1cbiJdfQ==","import { inject, Injectable } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { CanvasService } from '../../canvas-service/canvas-service';\nimport { IiifContentSearchService } from '../../iiif-content-search-service/iiif-content-search.service';\nimport * as i0 from \"@angular/core\";\nexport class ContentSearchNavigationService {\n    constructor() {\n        this.canvasService = inject(CanvasService);\n        this.iiifContentSearchService = inject(IiifContentSearchService);\n        this.currentIndex = 0;\n        this.lastHitIndex = 0;\n        this.isHitOnActiveCanvasGroup = false;\n        this.currentHit = null;\n        this.canvasesPerCanvasGroup = [-1];\n        this.searchResult = null;\n        this._currentHitCounter$ = new Subject();\n        this.initialize();\n    }\n    get currentHitCounter() {\n        return this._currentHitCounter$.pipe(distinctUntilChanged());\n    }\n    initialize() {\n        this.subscriptions = new Subscription();\n        this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe((result) => {\n            this.searchResult = result;\n            this.currentHit = null;\n            this.update(this.canvasService.currentCanvasGroupIndex);\n        }));\n    }\n    destroy() {\n        this.subscriptions.unsubscribe();\n    }\n    update(canvasGroupIndex) {\n        this.canvasesPerCanvasGroup =\n            this.canvasService.getCanvasesPerCanvasGroup(canvasGroupIndex);\n        this.currentIndex = this.findCurrentHitIndex(this.canvasesPerCanvasGroup);\n        this.lastHitIndex = this.findLastHitIndex(this.canvasesPerCanvasGroup);\n        this.isHitOnActiveCanvasGroup = this.findHitOnActiveCanvasGroup();\n        this._currentHitCounter$.next(this.updateCurrentHitCounter());\n    }\n    getHitOnActiveCanvasGroup() {\n        return this.isHitOnActiveCanvasGroup;\n    }\n    goToNextHit() {\n        if (this.isCurrentHitOnCurrentCanvasGroup()) {\n            this.goToNextCurrentCanvasHit();\n        }\n        else {\n            this.goToNextCanvasHit();\n        }\n    }\n    goToPreviousHit() {\n        if (this.isCurrentHitOnCurrentCanvasGroup()) {\n            this.goToPreviousCurrentCanvasHit();\n        }\n        else {\n            this.goToPreviousCanvasHit();\n        }\n    }\n    selected(hit) {\n        this.currentHit = hit;\n        this._currentHitCounter$.next(this.currentHit.id);\n        this.currentIndex = this.currentHit.index;\n        this.iiifContentSearchService.selected(hit);\n    }\n    updateCurrentHitCounter() {\n        if (this.isCurrentHitOnCurrentCanvasGroup()) {\n            if (this.currentHit) {\n                return this.currentHit.id;\n            }\n        }\n        if (this.isHitOnActiveCanvasGroup) {\n            return this.currentIndex;\n        }\n        else {\n            return this.lastHitIndex;\n        }\n    }\n    goToNextCurrentCanvasHit() {\n        if (this.searchResult && this.currentHit) {\n            const currentHitId = this.currentHit.id;\n            if (currentHitId < this.searchResult.hits.length - 1) {\n                this.selected(this.searchResult.hits[currentHitId + 1]);\n            }\n        }\n    }\n    goToPreviousCurrentCanvasHit() {\n        if (this.searchResult && this.currentHit) {\n            const currentHitId = this.currentHit.id;\n            if (currentHitId > 0) {\n                this.selected(this.searchResult.hits[this.currentHit.id - 1]);\n            }\n        }\n    }\n    goToNextCanvasHit() {\n        if (this.searchResult) {\n            let nextHit;\n            if (this.currentIndex === -1) {\n                nextHit = this.searchResult.get(0);\n            }\n            else {\n                if (this.isHitOnActiveCanvasGroup) {\n                    nextHit = this.searchResult.hits.find((hit) => hit.id === this.currentIndex);\n                }\n                else {\n                    const current = this.searchResult.get(this.currentIndex);\n                    const canvasGroup = this.canvasService.findCanvasGroupByCanvasIndex(current.index);\n                    const canvasesPerCanvasGroup = this.canvasService.getCanvasesPerCanvasGroup(canvasGroup);\n                    const lastCanvasGroupIndex = this.getLastCanvasGroupIndex(canvasesPerCanvasGroup);\n                    nextHit = this.searchResult.hits.find((h) => h.index > lastCanvasGroupIndex);\n                }\n            }\n            if (nextHit) {\n                this.selected(nextHit);\n            }\n        }\n    }\n    goToPreviousCanvasHit() {\n        if (this.searchResult) {\n            if (this.isHitOnActiveCanvasGroup) {\n                this.selected(this.searchResult.hits[this.currentIndex]);\n            }\n            else {\n                this.selected(this.searchResult.hits[this.lastHitIndex]);\n            }\n        }\n    }\n    findHitOnActiveCanvasGroup() {\n        if (!this.searchResult || this.currentIndex === -1) {\n            return false;\n        }\n        return (this.canvasesPerCanvasGroup?.indexOf(this.searchResult.get(this.currentIndex).index) >= 0);\n    }\n    findCurrentHitIndex(canvasGroupIndexes) {\n        if (!this.searchResult) {\n            return -1;\n        }\n        if (canvasGroupIndexes) {\n            for (let i = 0; i < this.searchResult.size(); i++) {\n                const hit = this.searchResult.get(i);\n                if (canvasGroupIndexes.indexOf(hit.index) >= 0) {\n                    return i;\n                }\n                if (hit.index >= canvasGroupIndexes[canvasGroupIndexes.length - 1]) {\n                    if (i === 0) {\n                        return -1;\n                    }\n                    else {\n                        const phit = this.searchResult.get(i - 1);\n                        return this.searchResult.hits.findIndex((sr) => sr.index === phit.index);\n                    }\n                }\n            }\n        }\n        return this.searchResult.size() - 1;\n    }\n    findLastHitIndex(canvasGroupIndexes) {\n        if (!this.searchResult || !canvasGroupIndexes) {\n            return -1;\n        }\n        const hits = this.searchResult.hits.filter((hit) => hit.index < canvasGroupIndexes[0]);\n        return hits.length > 0 ? hits[hits.length - 1].id : -1;\n    }\n    getLastCanvasGroupIndex(canvasesPerCanvasGroup) {\n        return canvasesPerCanvasGroup.length === 1\n            ? canvasesPerCanvasGroup[0]\n            : canvasesPerCanvasGroup[1];\n    }\n    isCurrentHitOnCurrentCanvasGroup() {\n        if (this.currentHit) {\n            const canvasGroup = this.canvasService.findCanvasGroupByCanvasIndex(this.canvasService.currentCanvasIndex);\n            const canvasesPerCanvasGroup = this.canvasService.getCanvasesPerCanvasGroup(canvasGroup);\n            return canvasesPerCanvasGroup.indexOf(this.currentHit.index) !== -1;\n        }\n        else {\n            return false;\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchNavigationService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchNavigationService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchNavigationService, decorators: [{\n            type: Injectable\n        }], ctorParameters: () => [] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC1zZWFyY2gtbmF2aWdhdGlvbi5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NvcmUvbmF2aWdhdGlvbi9jb250ZW50LXNlYXJjaC1uYXZpZ2F0aW9uLXNlcnZpY2UvY29udGVudC1zZWFyY2gtbmF2aWdhdGlvbi5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBYyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3pELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQztBQUNwRSxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSwrREFBK0QsQ0FBQzs7QUFLekcsTUFBTSxPQUFPLDhCQUE4QjtJQVl6QztRQVhpQixrQkFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN0Qyw2QkFBd0IsR0FBRyxNQUFNLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUNyRSxpQkFBWSxHQUFHLENBQUMsQ0FBQztRQUNqQixpQkFBWSxHQUFHLENBQUMsQ0FBQztRQUNqQiw2QkFBd0IsR0FBRyxLQUFLLENBQUM7UUFDakMsZUFBVSxHQUFlLElBQUksQ0FBQztRQUM5QiwyQkFBc0IsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsaUJBQVksR0FBd0IsSUFBSSxDQUFDO1FBRWhDLHdCQUFtQixHQUFvQixJQUFJLE9BQU8sRUFBVSxDQUFDO1FBRzVFLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBRUQsSUFBSSxpQkFBaUI7UUFDbkIsT0FBTyxJQUFJLENBQUMsbUJB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QyxrQkFBa0IsQ0FDdEMsQ0FBQztZQUNGLE1BQU0sc0JBQXNCLEdBQzFCLElBQUksQ0FBQyxhQUFhLENBQUMseUJBQXlCLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDNUQsT0FBTyxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN0RSxDQUFDO2FBQU0sQ0FBQztZQUNOLE9BQU8sS0FBSyxDQUFDO1FBQ2YsQ0FBQztJQUNILENBQUM7OEdBak5VLDhCQUE4QjtrSEFBOUIsOEJBQThCOzsyRkFBOUIsOEJBQThCO2tCQUQxQyxVQUFVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5qZWN0LCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRpc3RpbmN0VW50aWxDaGFuZ2VkIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgQ2FudmFzU2VydmljZSB9IGZyb20gJy4uLy4uL2NhbnZhcy1zZXJ2aWNlL2NhbnZhcy1zZXJ2aWNlJztcbmltcG9ydCB7IElpaWZDb250ZW50U2VhcmNoU2VydmljZSB9IGZyb20gJy4uLy4uL2lpaWYtY29udGVudC1zZWFyY2gtc2VydmljZS9paWlmLWNvbnRlbnQtc2VhcmNoLnNlcnZpY2UnO1xuaW1wb3J0IHsgSGl0IH0gZnJvbSAnLi4vLi4vbW9kZWxzL2hpdCc7XG5pbXBvcnQgeyBTZWFyY2hSZXN1bHQgfSBmcm9tICcuLi8uLi9tb2RlbHMvc2VhcmNoLXJlc3VsdCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBDb250ZW50U2VhcmNoTmF2aWdhdGlvblNlcnZpY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbnZhc1NlcnZpY2UgPSBpbmplY3QoQ2FudmFzU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgaWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlID0gaW5qZWN0KElpaWZDb250ZW50U2VhcmNoU2VydmljZSk7XG4gIHByaXZhdGUgY3VycmVudEluZGV4ID0gMDtcbiAgcHJpdmF0ZSBsYXN0SGl0SW5kZXggPSAwO1xuICBwcml2YXRlIGlzSGl0T25BY3RpdmVDYW52YXNHcm91cCA9IGZhbHNlO1xuICBwcml2YXRlIGN1cnJlbnRIaXQ6IEhpdCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGNhbnZhc2VzUGVyQ2FudmFzR3JvdXAgPSBbLTFdO1xuICBwcml2YXRlIHNlYXJjaFJlc3VsdDogU2VhcmNoUmVzdWx0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9ucyE6IFN1YnNjcmlwdGlvbjtcbiAgcHJpdmF0ZSByZWFkb25seSBfY3VycmVudEhpdENvdW50ZXIkOiBTdWJqZWN0PG51bWJlcj4gPSBuZXcgU3ViamVjdDxudW1iZXI+KCk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gIH1cblxuICBnZXQgY3VycmVudEhpdENvdW50ZXIoKTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEhpdENvdW50ZXIkLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5paWlmQ29udGVudFNlYXJjaFNlcnZpY2Uub25DaGFuZ2Uuc3Vic2NyaWJlKFxuICAgICAgICAocmVzdWx0OiBTZWFyY2hSZXN1bHQpID0+IHtcbiAgICAgICAgICB0aGlzLnNlYXJjaFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRIaXQgPSBudWxsO1xuICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMuY2FudmFzU2VydmljZS5jdXJyZW50Q2FudmFzR3JvdXBJbmRleCk7XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgdXBkYXRlKGNhbnZhc0dyb3VwSW5kZXg6IG51bWJlcikge1xuICAgIHRoaXMuY2FudmFzZXNQZXJDYW52YXNHcm91cCA9XG4gICAgICB0aGlzLmNhbnZhc1NlcnZpY2UuZ2V0Q2FudmFzZXNQZXJDYW52YXNHcm91cChjYW52YXNHcm91cEluZGV4KTtcbiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IHRoaXMuZmluZEN1cnJlbnRIaXRJbmRleCh0aGlzLmNhbnZhc2VzUGVyQ2FudmFzR3JvdXApO1xuICAgIHRoaXMubGFzdEhpdEluZGV4ID0gdGhpcy5maW5kTGFzdEhpdEluZGV4KHRoaXMuY2FudmFzZXNQZXJDYW52YXNHcm91cCk7XG4gICAgdGhpcy5pc0hpdE9uQWN0aXZlQ2FudmFzR3JvdXAgPSB0aGlzLmZpbmRIaXRPbkFjdGl2ZUNhbnZhc0dyb3VwKCk7XG4gICAgdGhpcy5fY3VycmVudEhpdENvdW50ZXIkLm5leHQodGhpcy51cGRhdGVDdXJyZW50SGl0Q291bnRlcigpKTtcbiAgfVxuXG4gIGdldEhpdE9uQWN0aXZlQ2FudmFzR3JvdXAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaXNIaXRPbkFjdGl2ZUNhbnZhc0dyb3VwO1xuICB9XG5cbiAgZ29Ub05leHRIaXQoKSB7XG4gICAgaWYgKHRoaXMuaXNDdXJyZW50SGl0T25DdXJyZW50Q2FudmFzR3JvdXAoKSkge1xuICAgICAgdGhpcy5nb1RvTmV4dEN1cnJlbnRDYW52YXNIaXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nb1RvTmV4dENhbnZhc0hpdCgpO1xuICAgIH1cbiAgfVxuXG4gIGdvVG9QcmV2aW91c0hpdCgpIHtcbiAgICBpZiAodGhpcy5pc0N1cnJlbnRIaXRPbkN1cnJlbnRDYW52YXNHcm91cCgpKSB7XG4gICAgICB0aGlzLmdvVG9QcmV2aW91c0N1cnJlbnRDYW52YXNIaXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nb1RvUHJldmlvdXNDYW52YXNIaXQoKTtcbiAgICB9XG4gIH1cblxuICBzZWxlY3RlZChoaXQ6IEhpdCk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudEhpdCA9IGhpdDtcbiAgICB0aGlzLl9jdXJyZW50SGl0Q291bnRlciQubmV4dCh0aGlzLmN1cnJlbnRIaXQuaWQpO1xuICAgIHRoaXMuY3VycmVudEluZGV4ID0gdGhpcy5jdXJyZW50SGl0LmluZGV4O1xuICAgIHRoaXMuaWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlLnNlbGVjdGVkKGhpdCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRIaXRDb3VudGVyKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuaXNDdXJyZW50SGl0T25DdXJyZW50Q2FudmFzR3JvdXAoKSkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudEhpdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SGl0LmlkO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5pc0hpdE9uQWN0aXZlQ2FudmFzR3JvdXApIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRJbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMubGFzdEhpdEluZGV4O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ29Ub05leHRDdXJyZW50Q2FudmFzSGl0KCkge1xuICAgIGlmICh0aGlzLnNlYXJjaFJlc3VsdCAmJiB0aGlzLmN1cnJlbnRIaXQpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRIaXRJZCA9IHRoaXMuY3VycmVudEhpdC5pZDtcbiAgICAgIGlmIChjdXJyZW50SGl0SWQgPCB0aGlzLnNlYXJjaFJlc3VsdC5oaXRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZCh0aGlzLnNlYXJjaFJlc3VsdC5oaXRzW2N1cnJlbnRIaXRJZCArIDFdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdvVG9QcmV2aW91c0N1cnJlbnRDYW52YXNIaXQoKSB7XG4gICAgaWYgKHRoaXMuc2VhcmNoUmVzdWx0ICYmIHRoaXMuY3VycmVudEhpdCkge1xuICAgICAgY29uc3QgY3VycmVudEhpdElkID0gdGhpcy5jdXJyZW50SGl0LmlkO1xuICAgICAgaWYgKGN1cnJlbnRIaXRJZCA+IDApIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZCh0aGlzLnNlYXJjaFJlc3VsdC5oaXRzW3RoaXMuY3VycmVudEhpdC5pZCAtIDFdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdvVG9OZXh0Q2FudmFzSGl0KCkge1xuICAgIGlmICh0aGlzLnNlYXJjaFJlc3VsdCkge1xuICAgICAgbGV0IG5leHRIaXQ6IEhpdCB8IHVuZGVmaW5lZDtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgbmV4dEhpdCA9IHRoaXMuc2VhcmNoUmVzdWx0LmdldCgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmlzSGl0T25BY3RpdmVDYW52YXNHcm91cCkge1xuICAgICAgICAgIG5leHRIaXQgPSB0aGlzLnNlYXJjaFJlc3VsdC5oaXRzLmZpbmQoXG4gICAgICAgICAgICAoaGl0KSA9PiBoaXQuaWQgPT09IHRoaXMuY3VycmVudEluZGV4LFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMuc2VhcmNoUmVzdWx0LmdldCh0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgY29uc3QgY2FudmFzR3JvdXAgPSB0aGlzLmNhbnZhc1NlcnZpY2UuZmluZENhbnZhc0dyb3VwQnlDYW52YXNJbmRleChcbiAgICAgICAgICAgIGN1cnJlbnQuaW5kZXgsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBjYW52YXNlc1BlckNhbnZhc0dyb3VwID1cbiAgICAgICAgICAgIHRoaXMuY2FudmFzU2VydmljZS5nZXRDYW52YXNlc1BlckNhbnZhc0dyb3VwKGNhbnZhc0dyb3VwKTtcbiAgICAgICAgICBjb25zdCBsYXN0Q2FudmFzR3JvdXBJbmRleCA9IHRoaXMuZ2V0TGFzdENhbnZhc0dyb3VwSW5kZXgoXG4gICAgICAgICAgICBjYW52YXNlc1BlckNhbnZhc0dyb3VwLFxuICAgICAgICAgICk7XG4gICAgICAgICAgbmV4dEhpdCA9IHRoaXMuc2VhcmNoUmVzdWx0LmhpdHMuZmluZChcbiAgICAgICAgICAgIChoKSA9PiBoLmluZGV4ID4gbGFzdENhbnZhc0dyb3VwSW5kZXgsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5leHRIaXQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZChuZXh0SGl0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdvVG9QcmV2aW91c0NhbnZhc0hpdCgpIHtcbiAgICBpZiAodGhpcy5zZWFyY2hSZXN1bHQpIHtcbiAgICAgIGlmICh0aGlzLmlzSGl0T25BY3RpdmVDYW52YXNHcm91cCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkKHRoaXMuc2VhcmNoUmVzdWx0LmhpdHNbdGhpcy5jdXJyZW50SW5kZXhdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQodGhpcy5zZWFyY2hSZXN1bHQuaGl0c1t0aGlzLmxhc3RIaXRJbmRleF0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZmluZEhpdE9uQWN0aXZlQ2FudmFzR3JvdXAoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLnNlYXJjaFJlc3VsdCB8fCB0aGlzLmN1cnJlbnRJbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuY2FudmFzZXNQZXJDYW52YXNHcm91cD8uaW5kZXhPZihcbiAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHQuZ2V0KHRoaXMuY3VycmVudEluZGV4KS5pbmRleCxcbiAgICAgICkgPj0gMFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGZpbmRDdXJyZW50SGl0SW5kZXgoY2FudmFzR3JvdXBJbmRleGVzOiBudW1iZXJbXSk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLnNlYXJjaFJlc3VsdCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIGlmIChjYW52YXNHcm91cEluZGV4ZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWFyY2hSZXN1bHQuc2l6ZSgpOyBpKyspIHtcbiAgICAgICAgY29uc3QgaGl0ID0gdGhpcy5zZWFyY2hSZXN1bHQuZ2V0KGkpO1xuICAgICAgICBpZiAoY2FudmFzR3JvdXBJbmRleGVzLmluZGV4T2YoaGl0LmluZGV4KSA+PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpdC5pbmRleCA+PSBjYW52YXNHcm91cEluZGV4ZXNbY2FudmFzR3JvdXBJbmRleGVzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGhpdCA9IHRoaXMuc2VhcmNoUmVzdWx0LmdldChpIC0gMSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hSZXN1bHQuaGl0cy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgIChzcikgPT4gc3IuaW5kZXggPT09IHBoaXQuaW5kZXgsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZWFyY2hSZXN1bHQuc2l6ZSgpIC0gMTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZExhc3RIaXRJbmRleChjYW52YXNHcm91cEluZGV4ZXM6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMuc2VhcmNoUmVzdWx0IHx8ICFjYW52YXNHcm91cEluZGV4ZXMpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgY29uc3QgaGl0cyA9IHRoaXMuc2VhcmNoUmVzdWx0LmhpdHMuZmlsdGVyKFxuICAgICAgKGhpdCkgPT4gaGl0LmluZGV4IDwgY2FudmFzR3JvdXBJbmRleGVzWzBdLFxuICAgICk7XG4gICAgcmV0dXJuIGhpdHMubGVuZ3RoID4gMCA/IGhpdHNbaGl0cy5sZW5ndGggLSAxXS5pZCA6IC0xO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRMYXN0Q2FudmFzR3JvdXBJbmRleChjYW52YXNlc1BlckNhbnZhc0dyb3VwOiBudW1iZXJbXSkge1xuICAgIHJldHVybiBjYW52YXNlc1BlckNhbnZhc0dyb3VwLmxlbmd0aCA9PT0gMVxuICAgICAgPyBjYW52YXNlc1BlckNhbnZhc0dyb3VwWzBdXG4gICAgICA6IGNhbnZhc2VzUGVyQ2FudmFzR3JvdXBbMV07XG4gIH1cblxuICBwcml2YXRlIGlzQ3VycmVudEhpdE9uQ3VycmVudENhbnZhc0dyb3VwKCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmN1cnJlbnRIaXQpIHtcbiAgICAgIGNvbnN0IGNhbnZhc0dyb3VwID0gdGhpcy5jYW52YXNTZXJ2aWNlLmZpbmRDYW52YXNHcm91cEJ5Q2FudmFzSW5kZXgoXG4gICAgICAgIHRoaXMuY2FudmFzU2VydmljZS5jdXJyZW50Q2FudmFzSW5kZXgsXG4gICAgICApO1xuICAgICAgY29uc3QgY2FudmFzZXNQZXJDYW52YXNHcm91cCA9XG4gICAgICAgIHRoaXMuY2FudmFzU2VydmljZS5nZXRDYW52YXNlc1BlckNhbnZhc0dyb3VwKGNhbnZhc0dyb3VwKTtcbiAgICAgIHJldHVybiBjYW52YXNlc1BlckNhbnZhc0dyb3VwLmluZGV4T2YodGhpcy5jdXJyZW50SGl0LmluZGV4KSAhPT0gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","import { BreakpointObserver, Breakpoints, } from '@angular/cdk/layout';\nimport { NgStyle } from '@angular/common';\nimport { ChangeDetectorRef, Component, ElementRef, inject, QueryList, ViewChild, ViewChildren, } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { MatIconButton } from '@angular/material/button';\nimport { MatCard, MatCardContent } from '@angular/material/card';\nimport { MatDialogClose, MatDialogContent, MatDialogRef, MatDialogTitle, } from '@angular/material/dialog';\nimport { MatIcon } from '@angular/material/icon';\nimport { MatFormField, MatInput, MatPrefix, MatSuffix, } from '@angular/material/input';\nimport { MatProgressBar } from '@angular/material/progress-bar';\nimport { MatToolbar } from '@angular/material/toolbar';\nimport { MatTooltip } from '@angular/material/tooltip';\nimport { Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { IiifContentSearchService } from '../core/iiif-content-search-service/iiif-content-search.service';\nimport { IiifManifestService } from '../core/iiif-manifest-service/iiif-manifest-service';\nimport { MimeViewerIntl } from '../core/intl';\nimport { MimeResizeService } from '../core/mime-resize-service/mime-resize.service';\nimport { ContentSearchNavigationService } from '../core/navigation/content-search-navigation-service/content-search-navigation.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nexport class ContentSearchDialogComponent {\n    constructor() {\n        this.dialogRef = inject(MatDialogRef);\n        this.intl = inject(MimeViewerIntl);\n        this.q = '';\n        this.hits = [];\n        this.currentHit = null;\n        this.currentSearch = null;\n        this.numberOfHits = 0;\n        this.isSearching = false;\n        this.tabHeight = { maxHeight: '100px' };\n        this.isHandsetOrTabletInPortrait = false;\n        this.breakpointObserver = inject(BreakpointObserver);\n        this.cdr = inject(ChangeDetectorRef);\n        this.mimeResizeService = inject(MimeResizeService);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.iiifContentSearchService = inject(IiifContentSearchService);\n        this.contentSearchNavigationService = inject(ContentSearchNavigationService);\n        this.manifest = null;\n        this.mimeHeight = 0;\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.breakpointObserver\n            .observe([Breakpoints.Handset, Breakpoints.TabletPortrait])\n            .subscribe((value) => (this.isHandsetOrTabletInPortrait = value.matches)));\n        this.subscriptions.add(this.mimeResizeService.onResize.subscribe((dimensions) => {\n            this.mimeHeight = dimensions.height;\n            this.resizeTabHeight();\n        }));\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            this.manifest = manifest;\n        }));\n        this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe((sr) => {\n            this.hits = sr.hits;\n            this.currentSearch = sr.q ? sr.q : '';\n            this.q = sr.q;\n            this.numberOfHits = sr.size();\n            if (this.resultContainer !== null && this.numberOfHits > 0) {\n                this.resultContainer.nativeElement.focus();\n            }\n            else if (this.q.length === 0 || this.numberOfHits === 0) {\n                this.qEl.nativeElement.focus();\n            }\n        }));\n        this.subscriptions.add(this.iiifContentSearchService.isSearching.subscribe((s) => {\n            this.isSearching = s;\n        }));\n        this.subscriptions.add(this.iiifContentSearchService.onSelected.subscribe((hit) => {\n            if (hit === null) {\n                this.currentHit = hit;\n            }\n            else {\n                if (!this.currentHit || this.currentHit.id !== hit.id) {\n                    this.currentHit = hit;\n                    this.scrollCurrentHitIntoView();\n                }\n            }\n        }));\n        this.resizeTabHeight();\n    }\n    ngAfterViewInit() {\n        this.scrollCurrentHitIntoView();\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    onSubmit(event) {\n        event.preventDefault();\n        this.search();\n    }\n    clear() {\n        this.q = '';\n        this.search();\n    }\n    goToHit(hit) {\n        this.currentHit = hit;\n        this.contentSearchNavigationService.selected(hit);\n        if (this.isHandsetOrTabletInPortrait) {\n            this.dialogRef.close();\n        }\n    }\n    search() {\n        this.currentSearch = this.q;\n        if (this.manifest) {\n            this.iiifContentSearchService.search(this.manifest, this.q);\n        }\n    }\n    resizeTabHeight() {\n        let height = this.mimeHeight;\n        if (this.isHandsetOrTabletInPortrait) {\n            this.tabHeight = {\n                maxHeight: window.innerHeight - 128 + 'px',\n            };\n        }\n        else {\n            height -= 320;\n            this.tabHeight = {\n                maxHeight: height + 'px',\n            };\n        }\n        this.cdr.detectChanges();\n    }\n    scrollCurrentHitIntoView() {\n        this.iiifContentSearchService.onSelected\n            .pipe(take(1))\n            .subscribe((hit) => {\n            if (hit !== null) {\n                const selected = this.findSelected(hit);\n                if (selected) {\n                    selected.nativeElement.focus();\n                }\n            }\n        });\n    }\n    findSelected(selectedHit) {\n        if (this.hitList) {\n            const selectedList = this.hitList.filter((item, index) => index === selectedHit.id);\n            return selectedList.length > 0 ? selectedList[0] : null;\n        }\n        else {\n            return null;\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: ContentSearchDialogComponent, isStandalone: true, selector: \"mime-search\", viewQueries: [{ propertyName: \"resultContainer\", first: true, predicate: [\"contentSearchResult\"], descendants: true, static: true }, { propertyName: \"qEl\", first: true, predicate: [\"query\"], descendants: true, static: true }, { propertyName: \"hitList\", predicate: [\"hitButton\"], descendants: true, read: ElementRef }], ngImport: i0, template: \"<div class=\\\"content-search-container\\\">\\n  @if (isHandsetOrTabletInPortrait) {\\n    <mat-toolbar class=\\\"secondary-toolbar\\\">\\n      <button\\n        mat-icon-button\\n        class=\\\"close-content-search-dialog-button\\\"\\n        [aria-label]=\\\"intl.closeLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n      <h1 mat-dialog-title class=\\\"heading\\\">{{ intl.searchLabel }}</h1>\\n    </mat-toolbar>\\n  } @else {\\n    <mat-toolbar class=\\\"secondary-toolbar justify-between\\\">\\n      <h1 mat-dialog-title class=\\\"heading heading-desktop\\\">{{\\n        intl.searchLabel\\n      }}</h1>\\n      <button\\n        mat-icon-button\\n        class=\\\"close-content-search-dialog-button\\\"\\n        [aria-label]=\\\"intl.closeLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n    </mat-toolbar>\\n  }\\n  <mat-dialog-content class=\\\"content-search-form\\\">\\n    <form (ngSubmit)=\\\"onSubmit($event)\\\" #searchForm=\\\"ngForm\\\">\\n      <mat-form-field class=\\\"content-search-box\\\">\\n        <button\\n          type=\\\"submit\\\"\\n          matPrefix\\n          mat-icon-button\\n          [attr.aria-label]=\\\"intl.searchLabel\\\"\\n          [matTooltip]=\\\"intl.searchLabel\\\"\\n        >\\n          <mat-icon class=\\\"icon\\\">search</mat-icon>\\n        </button>\\n        <input\\n          #query\\n          cdkFocusInitial\\n          matInput\\n          class=\\\"content-search-input\\\"\\n          [(ngModel)]=\\\"q\\\"\\n          [attr.aria-label]=\\\"intl.searchLabel\\\"\\n          name=\\\"q\\\"\\n          autocomplete=\\\"off\\\"\\n        />\\n        @if (q) {\\n          <button\\n            type=\\\"button\\\"\\n            class=\\\"clearSearchButton\\\"\\n            matSuffix\\n            mat-icon-button\\n            [attr.aria-label]=\\\"intl.clearSearchLabel\\\"\\n            [matTooltip]=\\\"intl.clearSearchLabel\\\"\\n            [disabled]=\\\"isSearching\\\"\\n            (click)=\\\"clear()\\\"\\n          >\\n            <mat-icon class=\\\"icon\\\">clear</mat-icon>\\n          </button>\\n        }\\n      </mat-form-field>\\n    </form>\\n    <div\\n      #contentSearchResult\\n      class=\\\"content-search-result-container\\\"\\n      [ngStyle]=\\\"tabHeight\\\"\\n    >\\n      <div class=\\\"content-search-result grid grid-cols-1 gap-y-2\\\">\\n        @if (!isSearching) {\\n          <input type=\\\"hidden\\\" class=\\\"numberOfHits\\\" [value]=\\\"numberOfHits\\\" />\\n          @if (currentSearch && currentSearch.length > 0) {\\n            @if (numberOfHits > 0) {\\n              <div\\n                data-testid=\\\"resultsFoundLabel\\\"\\n                [innerHTML]=\\\"\\n                  intl.resultsFoundLabel(numberOfHits, currentSearch)\\n                \\\"\\n              ></div>\\n            } @else {\\n              <div\\n                data-testid=\\\"noResultsFoundLabel\\\"\\n                [innerHTML]=\\\"intl.noResultsFoundLabel(currentSearch)\\\"\\n              ></div>\\n            }\\n          }\\n          <div class=\\\"grid grid-cols-1 gap-y-2\\\">\\n            @for (hit of hits; track hit.id) {\\n              <a\\n                href=\\\"javascript: void(0);\\\"\\n                data-testid=\\\"hit\\\"\\n                (click)=\\\"goToHit(hit)\\\"\\n                (keydown.enter)=\\\"goToHit(hit)\\\"\\n              >\\n                <mat-card\\n                  appearance=\\\"outlined\\\"\\n                  [class.selected]=\\\"currentHit && hit.id === currentHit.id\\\"\\n                >\\n                  <mat-card-content>\\n                    <div class=\\\"flex items-start justify-between\\\">\\n                      <div class=\\\"summary\\\"\\n                        >{{ hit.before }} <em>{{ hit.match }}</em>\\n                        {{ hit.after }}</div\\n                      >\\n                      <div class=\\\"canvasGroup ml-2\\\">{{ hit.index + 1 }}</div>\\n                    </div>\\n                  </mat-card-content>\\n                </mat-card>\\n              </a>\\n            }\\n          </div>\\n        }\\n        @if (isSearching) {\\n          <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar>\\n        }\\n      </div>\\n    </div>\\n  </mat-dialog-content>\\n</div>\\n\", styles: [\".content-search-container .mat-mdc-dialog-title{color:inherit;padding:0 2px 16px}.content-search-container ::ng-deep mat-form-field .mdc-text-field{background:transparent!important}.content-search-container .content-search-box{width:100%}.content-search-container .content-search-input{font-size:20px}.content-search-container .content-search-result-container{overflow:auto;margin-bottom:8px}.content-search-container .content-search-result{padding:0 8px}.content-search-container .content-search-result .mat-mdc-button{line-height:initial;height:auto;white-space:initial;word-wrap:initial;max-width:none;padding:8px 0;text-align:left;font-size:14px}.content-search-container ::ng-deep .current-content-search{font-weight:700}.content-search-container em{font-weight:700}.content-search-container .canvasGroupLabel{text-align:right;opacity:.54}.content-search-container .mat-mdc-dialog-content{max-height:none;padding:8px;margin:0}.content-search-container ::ng-deep .mat-mdc-dialog-container{padding:0!important;overflow:initial}.content-search-container .icon{font-size:22px!important}\\n\"], dependencies: [{ kind: \"component\", type: MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { kind: \"component\", type: MatIconButton, selector: \"button[mat-icon-button], a[mat-icon-button], button[matIconButton], a[matIconButton]\", exportAs: [\"matButton\", \"matAnchor\"] }, { kind: \"directive\", type: MatTooltip, selector: \"[matTooltip]\", inputs: [\"matTooltipPosition\", \"matTooltipPositionAtOrigin\", \"matTooltipDisabled\", \"matTooltipShowDelay\", \"matTooltipHideDelay\", \"matTooltipTouchGestures\", \"matTooltip\", \"matTooltipClass\"], exportAs: [\"matTooltip\"] }, { kind: \"directive\", type: MatDialogClose, selector: \"[mat-dialog-close], [matDialogClose]\", inputs: [\"aria-label\", \"type\", \"mat-dialog-close\", \"matDialogClose\"], exportAs: [\"matDialogClose\"] }, { kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"directive\", type: MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { kind: \"directive\", type: MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }, { kind: \"ngmodule\", type: FormsModule }, { kind: \"directive\", type: i1.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { kind: \"directive\", type: i1.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i1.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i1.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i1.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"directive\", type: i1.NgForm, selector: \"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]\", inputs: [\"ngFormOptions\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"component\", type: MatFormField, selector: \"mat-form-field\", inputs: [\"hideRequiredMarker\", \"color\", \"floatLabel\", \"appearance\", \"subscriptSizing\", \"hintLabel\"], exportAs: [\"matFormField\"] }, { kind: \"directive\", type: MatPrefix, selector: \"[matPrefix], [matIconPrefix], [matTextPrefix]\", inputs: [\"matTextPrefix\"] }, { kind: \"directive\", type: MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\", \"disabledInteractive\"], exportAs: [\"matInput\"] }, { kind: \"directive\", type: MatSuffix, selector: \"[matSuffix], [matIconSuffix], [matTextSuffix]\", inputs: [\"matTextSuffix\"] }, { kind: \"directive\", type: NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { kind: \"component\", type: MatCard, selector: \"mat-card\", inputs: [\"appearance\"], exportAs: [\"matCard\"] }, { kind: \"directive\", type: MatCardContent, selector: \"mat-card-content\" }, { kind: \"component\", type: MatProgressBar, selector: \"mat-progress-bar\", inputs: [\"color\", \"value\", \"bufferValue\", \"mode\"], outputs: [\"animationEnd\"], exportAs: [\"matProgressBar\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-search', imports: [\n                        MatToolbar,\n                        MatIconButton,\n                        MatTooltip,\n                        MatDialogClose,\n                        MatIcon,\n                        MatDialogTitle,\n                        MatDialogContent,\n                        FormsModule,\n                        MatFormField,\n                        MatPrefix,\n                        MatInput,\n                        MatSuffix,\n                        NgStyle,\n                        MatCard,\n                        MatCardContent,\n                        MatProgressBar,\n                    ], template: \"<div class=\\\"content-search-container\\\">\\n  @if (isHandsetOrTabletInPortrait) {\\n    <mat-toolbar class=\\\"secondary-toolbar\\\">\\n      <button\\n        mat-icon-button\\n        class=\\\"close-content-search-dialog-button\\\"\\n        [aria-label]=\\\"intl.closeLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n      <h1 mat-dialog-title class=\\\"heading\\\">{{ intl.searchLabel }}</h1>\\n    </mat-toolbar>\\n  } @else {\\n    <mat-toolbar class=\\\"secondary-toolbar justify-between\\\">\\n      <h1 mat-dialog-title class=\\\"heading heading-desktop\\\">{{\\n        intl.searchLabel\\n      }}</h1>\\n      <button\\n        mat-icon-button\\n        class=\\\"close-content-search-dialog-button\\\"\\n        [aria-label]=\\\"intl.closeLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n    </mat-toolbar>\\n  }\\n  <mat-dialog-content class=\\\"content-search-form\\\">\\n    <form (ngSubmit)=\\\"onSubmit($event)\\\" #searchForm=\\\"ngForm\\\">\\n      <mat-form-field class=\\\"content-search-box\\\">\\n        <button\\n          type=\\\"submit\\\"\\n          matPrefix\\n          mat-icon-button\\n          [attr.aria-label]=\\\"intl.searchLabel\\\"\\n          [matTooltip]=\\\"intl.searchLabel\\\"\\n        >\\n          <mat-icon class=\\\"icon\\\">search</mat-icon>\\n        </button>\\n        <input\\n          #query\\n          cdkFocusInitial\\n          matInput\\n          class=\\\"content-search-input\\\"\\n          [(ngModel)]=\\\"q\\\"\\n          [attr.aria-label]=\\\"intl.searchLabel\\\"\\n          name=\\\"q\\\"\\n          autocomplete=\\\"off\\\"\\n        />\\n        @if (q) {\\n          <button\\n            type=\\\"button\\\"\\n            class=\\\"clearSearchButton\\\"\\n            matSuffix\\n            mat-icon-button\\n            [attr.aria-label]=\\\"intl.clearSearchLabel\\\"\\n            [matTooltip]=\\\"intl.clearSearchLabel\\\"\\n            [disabled]=\\\"isSearching\\\"\\n            (click)=\\\"clear()\\\"\\n          >\\n            <mat-icon class=\\\"icon\\\">clear</mat-icon>\\n          </button>\\n        }\\n      </mat-form-field>\\n    </form>\\n    <div\\n      #contentSearchResult\\n      class=\\\"content-search-result-container\\\"\\n      [ngStyle]=\\\"tabHeight\\\"\\n    >\\n      <div class=\\\"content-search-result grid grid-cols-1 gap-y-2\\\">\\n        @if (!isSearching) {\\n          <input type=\\\"hidden\\\" class=\\\"numberOfHits\\\" [value]=\\\"numberOfHits\\\" />\\n          @if (currentSearch && currentSearch.length > 0) {\\n            @if (numberOfHits > 0) {\\n              <div\\n                data-testid=\\\"resultsFoundLabel\\\"\\n                [innerHTML]=\\\"\\n                  intl.resultsFoundLabel(numberOfHits, currentSearch)\\n                \\\"\\n              ></div>\\n            } @else {\\n              <div\\n                data-testid=\\\"noResultsFoundLabel\\\"\\n                [innerHTML]=\\\"intl.noResultsFoundLabel(currentSearch)\\\"\\n              ></div>\\n            }\\n          }\\n          <div class=\\\"grid grid-cols-1 gap-y-2\\\">\\n            @for (hit of hits; track hit.id) {\\n              <a\\n                href=\\\"javascript: void(0);\\\"\\n                data-testid=\\\"hit\\\"\\n                (click)=\\\"goToHit(hit)\\\"\\n                (keydown.enter)=\\\"goToHit(hit)\\\"\\n              >\\n                <mat-card\\n                  appearance=\\\"outlined\\\"\\n                  [class.selected]=\\\"currentHit && hit.id === currentHit.id\\\"\\n                >\\n                  <mat-card-content>\\n                    <div class=\\\"flex items-start justify-between\\\">\\n                      <div class=\\\"summary\\\"\\n                        >{{ hit.before }} <em>{{ hit.match }}</em>\\n                        {{ hit.after }}</div\\n                      >\\n                      <div class=\\\"canvasGroup ml-2\\\">{{ hit.index + 1 }}</div>\\n                    </div>\\n                  </mat-card-content>\\n                </mat-card>\\n              </a>\\n            }\\n          </div>\\n        }\\n        @if (isSearching) {\\n          <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar>\\n        }\\n      </div>\\n    </div>\\n  </mat-dialog-content>\\n</div>\\n\", styles: [\".content-search-container .mat-mdc-dialog-title{color:inherit;padding:0 2px 16px}.content-search-container ::ng-deep mat-form-field .mdc-text-field{background:transparent!important}.content-search-container .content-search-box{width:100%}.content-search-container .content-search-input{font-size:20px}.content-search-container .content-search-result-container{overflow:auto;margin-bottom:8px}.content-search-container .content-search-result{padding:0 8px}.content-search-container .content-search-result .mat-mdc-button{line-height:initial;height:auto;white-space:initial;word-wrap:initial;max-width:none;padding:8px 0;text-align:left;font-size:14px}.content-search-container ::ng-deep .current-content-search{font-weight:700}.content-search-container em{font-weight:700}.content-search-container .canvasGroupLabel{text-align:right;opacity:.54}.content-search-container .mat-mdc-dialog-content{max-height:none;padding:8px;margin:0}.content-search-container ::ng-deep .mat-mdc-dialog-container{padding:0!important;overflow:initial}.content-search-container .icon{font-size:22px!important}\\n\"] }]\n        }], propDecorators: { resultContainer: [{\n                type: ViewChild,\n                args: ['contentSearchResult', { static: true }]\n            }], qEl: [{\n                type: ViewChild,\n                args: ['query', { static: true }]\n            }], hitList: [{\n                type: ViewChildren,\n                args: ['hitButton', { read: ElementRef }]\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC1zZWFyY2gtZGlhbG9nLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb250ZW50LXNlYXJjaC1kaWFsb2cvY29udGVudC1zZWFyY2gtZGlhbG9nLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb250ZW50LXNlYXJjaC1kaWFsb2cvY29udGVudC1zZWFyY2gtZGlhbG9nLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxrQkFBa0IsRUFDbEIsV0FBVyxHQUVaLE1BQU0scUJBQXFCLENBQUM7QUFDN0IsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzFDLE9BQU8sRUFFTCxpQkFBaUIsRUFDakIsU0FBUyxFQUNULFVBQVUsRUFDVixNQUFNLEVBR04sU0FBUyxFQUNULFNBQVMsRUFDVCxZQUFZLEdBQ2IsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2pFLE9BQU8sRUFDTCxjQUFjLEVBQ2QsZ0JBQWdCLEVBQ2hCLFlBQVksRUFDWixjQUFjLEdBQ2YsTUFBTSwwQkFBMEIsQ0FBQztBQUNsQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDakQsT0FBTyxFQUNMLFlBQVksRUFDWixRQUFRLEVBQ1IsU0FBUyxFQUNULFNBQVMsR0FDVixNQUFNLHlCQUF5QixDQUFDO0FBQ2pDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNoRSxPQUFP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QUM5RCxDQUFDO1lBQ0YsT0FBTyxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDMUQsQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7SUFDSCxDQUFDOzhHQWxLVSw0QkFBNEI7a0dBQTVCLDRCQUE0QiwrVkFNSixVQUFVLDZCQzlFL0MsNG1JQTRIQSwybkNEdEVJLFVBQVUscUdBQ1YsYUFBYSx1S0FDYixVQUFVLGlSQUNWLGNBQWMscUxBQ2QsT0FBTywySUFDUCxjQUFjLCtIQUNkLGdCQUFnQix3R0FDaEIsV0FBVyx3aUNBQ1gsWUFBWSw0TEFDWixTQUFTLHFIQUNULFFBQVEsd1ZBQ1IsU0FBUyxxSEFDVCxPQUFPLDJFQUNQLE9BQU8sb0dBQ1AsY0FBYyw2REFDZCxjQUFjOzsyRkFHTCw0QkFBNEI7a0JBdkJ4QyxTQUFTOytCQUNFLGFBQWEsV0FHZDt3QkFDUCxVQUFVO3dCQUNWLGFBQWE7d0JBQ2IsVUFBVTt3QkFDVixjQUFjO3dCQUNkLE9BQU87d0JBQ1AsY0FBYzt3QkFDZCxnQkFBZ0I7d0JBQ2hCLFdBQVc7d0JBQ1gsWUFBWTt3QkFDWixTQUFTO3dCQUNULFFBQVE7d0JBQ1IsU0FBUzt3QkFDVCxPQUFPO3dCQUNQLE9BQU87d0JBQ1AsY0FBYzt3QkFDZCxjQUFjO3FCQUNmOztzQkFLQSxTQUFTO3VCQUFDLHFCQUFxQixFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTs7c0JBRWpELFNBQVM7dUJBQUMsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTs7c0JBQ25DLFlBQVk7dUJBQUMsV0FBVyxFQUFFLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEJyZWFrcG9pbnRPYnNlcnZlcixcbiAgQnJlYWtwb2ludHMsXG4gIEJyZWFrcG9pbnRTdGF0ZSxcbn0gZnJvbSAnQGFuZ3VsYXIvY2RrL2xheW91dCc7XG5pbXBvcnQgeyBOZ1N0eWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIEVsZW1lbnRSZWYsXG4gIGluamVjdCxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIFF1ZXJ5TGlzdCxcbiAgVmlld0NoaWxkLFxuICBWaWV3Q2hpbGRyZW4sXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBNYXRJY29uQnV0dG9uIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvYnV0dG9uJztcbmltcG9ydCB7IE1hdENhcmQsIE1hdENhcmRDb250ZW50IH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvY2FyZCc7XG5pbXBvcnQge1xuICBNYXREaWFsb2dDbG9zZSxcbiAgTWF0RGlhbG9nQ29udGVudCxcbiAgTWF0RGlhbG9nUmVmLFxuICBNYXREaWFsb2dUaXRsZSxcbn0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcbmltcG9ydCB7IE1hdEljb24gfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9pY29uJztcbmltcG9ydCB7XG4gIE1hdEZvcm1GaWVsZCxcbiAgTWF0SW5wdXQsXG4gIE1hdFByZWZpeCxcbiAgTWF0U3VmZml4LFxufSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9pbnB1dCc7XG5pbXBvcnQgeyBNYXRQcm9ncmVzc0JhciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3Byb2dyZXNzLWJhcic7XG5pbXBvcnQgeyBNYXRUb29sYmFyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdG9vbGJhcic7XG5pbXBvcnQgeyBNYXRUb29sdGlwIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdG9vbHRpcCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHRha2UgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBJaWlmQ29udGVudFNlYXJjaFNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL2lpaWYtY29udGVudC1zZWFyY2gtc2VydmljZS9paWlmLWNvbnRlbnQtc2VhcmNoLnNlcnZpY2UnO1xuaW1wb3J0IHsgSWlpZk1hbmlmZXN0U2VydmljZSB9IGZyb20gJy4uL2NvcmUvaWlpZi1tYW5pZmVzdC1zZXJ2aWNlL2lpaWYtbWFuaWZlc3Qtc2VydmljZSc7XG5pbXBvcnQgeyBNaW1lVmlld2VySW50bCB9IGZyb20gJy4uL2NvcmUvaW50bCc7XG5pbXBvcnQgeyBNaW1lUmVzaXplU2VydmljZSB9IGZyb20gJy4uL2NvcmUvbWltZS1yZXNpemUtc2VydmljZS9taW1lLXJlc2l6ZS5zZXJ2aWNlJztcbmltcG9ydCB7IERpbWVuc2lvbnMgfSBmcm9tICcuLi9jb3JlL21vZGVscy9kaW1lbnNpb25zJztcbmltcG9ydCB7IEhpdCB9IGZyb20gJy4uL2NvcmUvbW9kZWxzL2hpdCc7XG5pbXBvcnQgeyBNYW5pZmVzdCB9IGZyb20gJy4uL2NvcmUvbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IFNlYXJjaFJlc3VsdCB9IGZyb20gJy4uL2NvcmUvbW9kZWxzL3NlYXJjaC1yZXN1bHQnO1xuaW1wb3J0IHsgQ29udGVudFNlYXJjaE5hdmlnYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9uYXZpZ2F0aW9uL2NvbnRlbnQtc2VhcmNoLW5hdmlnYXRpb24tc2VydmljZS9jb250ZW50LXNlYXJjaC1uYXZpZ2F0aW9uLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtaW1lLXNlYXJjaCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9jb250ZW50LXNlYXJjaC1kaWFsb2cuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9jb250ZW50LXNlYXJjaC1kaWFsb2cuY29tcG9uZW50LnNjc3MnXSxcbiAgaW1wb3J0czogW1xuICAgIE1hdFRvb2xiYXIsXG4gICAgTWF0SWNvbkJ1dHRvbixcbiAgICBNYXRUb29sdGlwLFxuICAgIE1hdERpYWxvZ0Nsb3NlLFxuICAgIE1hdEljb24sXG4gICAgTWF0RGlhbG9nVGl0bGUsXG4gICAgTWF0RGlhbG9nQ29udGVudCxcbiAgICBGb3Jtc01vZHVsZSxcbiAgICBNYXRGb3JtRmllbGQsXG4gICAgTWF0UHJlZml4LFxuICAgIE1hdElucHV0LFxuICAgIE1hdFN1ZmZpeCxcbiAgICBOZ1N0eWxlLFxuICAgIE1hdENhcmQsXG4gICAgTWF0Q2FyZENvbnRlbnQsXG4gICAgTWF0UHJvZ3Jlc3NCYXIsXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIENvbnRlbnRTZWFyY2hEaWFsb2dDb21wb25lbnRcbiAgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveVxue1xuICBAVmlld0NoaWxkKCdjb250ZW50U2VhcmNoUmVzdWx0JywgeyBzdGF0aWM6IHRydWUgfSlcbiAgcmVzdWx0Q29udGFpbmVyITogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgncXVlcnknLCB7IHN0YXRpYzogdHJ1ZSB9KSBxRWwhOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkcmVuKCdoaXRCdXR0b24nLCB7IHJlYWQ6IEVsZW1lbnRSZWYgfSlcbiAgaGl0TGlzdCE6IFF1ZXJ5TGlzdDxFbGVtZW50UmVmPjtcbiAgZGlhbG9nUmVmID0gaW5qZWN0PE1hdERpYWxvZ1JlZjxDb250ZW50U2VhcmNoRGlhbG9nQ29tcG9uZW50Pj4oTWF0RGlhbG9nUmVmKTtcbiAgaW50bCA9IGluamVjdChNaW1lVmlld2VySW50bCk7XG4gIHEgPSAnJztcbiAgaGl0czogSGl0W10gPSBbXTtcbiAgY3VycmVudEhpdDogSGl0IHwgbnVsbCA9IG51bGw7XG4gIGN1cnJlbnRTZWFyY2g6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBudW1iZXJPZkhpdHMgPSAwO1xuICBpc1NlYXJjaGluZyA9IGZhbHNlO1xuICB0YWJIZWlnaHQgPSB7IG1heEhlaWdodDogJzEwMHB4JyB9O1xuICBpc0hhbmRzZXRPclRhYmxldEluUG9ydHJhaXQgPSBmYWxzZTtcbiAgcHJpdmF0ZSByZWFkb25seSBicmVha3BvaW50T2JzZXJ2ZXIgPSBpbmplY3QoQnJlYWtwb2ludE9ic2VydmVyKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjZHIgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IG1pbWVSZXNpemVTZXJ2aWNlID0gaW5qZWN0KE1pbWVSZXNpemVTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBpaWlmTWFuaWZlc3RTZXJ2aWNlID0gaW5qZWN0KElpaWZNYW5pZmVzdFNlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGlpaWZDb250ZW50U2VhcmNoU2VydmljZSA9IGluamVjdChJaWlmQ29udGVudFNlYXJjaFNlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNvbnRlbnRTZWFyY2hOYXZpZ2F0aW9uU2VydmljZSA9IGluamVjdChcbiAgICBDb250ZW50U2VhcmNoTmF2aWdhdGlvblNlcnZpY2UsXG4gICk7XG4gIHByaXZhdGUgbWFuaWZlc3Q6IE1hbmlmZXN0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgbWltZUhlaWdodCA9IDA7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5icmVha3BvaW50T2JzZXJ2ZXJcbiAgICAgICAgLm9ic2VydmUoW0JyZWFrcG9pbnRzLkhhbmRzZXQsIEJyZWFrcG9pbnRzLlRhYmxldFBvcnRyYWl0XSlcbiAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAodmFsdWU6IEJyZWFrcG9pbnRTdGF0ZSkgPT5cbiAgICAgICAgICAgICh0aGlzLmlzSGFuZHNldE9yVGFibGV0SW5Qb3J0cmFpdCA9IHZhbHVlLm1hdGNoZXMpLFxuICAgICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5taW1lUmVzaXplU2VydmljZS5vblJlc2l6ZS5zdWJzY3JpYmUoKGRpbWVuc2lvbnM6IERpbWVuc2lvbnMpID0+IHtcbiAgICAgICAgdGhpcy5taW1lSGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmVzaXplVGFiSGVpZ2h0KCk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuaWlpZk1hbmlmZXN0U2VydmljZS5jdXJyZW50TWFuaWZlc3Quc3Vic2NyaWJlKFxuICAgICAgICAobWFuaWZlc3Q6IE1hbmlmZXN0IHwgbnVsbCkgPT4ge1xuICAgICAgICAgIHRoaXMubWFuaWZlc3QgPSBtYW5pZmVzdDtcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmlpaWZDb250ZW50U2VhcmNoU2VydmljZS5vbkNoYW5nZS5zdWJzY3JpYmUoKHNyOiBTZWFyY2hSZXN1bHQpID0+IHtcbiAgICAgICAgdGhpcy5oaXRzID0gc3IuaGl0cztcbiAgICAgICAgdGhpcy5jdXJyZW50U2VhcmNoID0gc3IucSA/IHNyLnEgOiAnJztcbiAgICAgICAgdGhpcy5xID0gc3IucTtcbiAgICAgICAgdGhpcy5udW1iZXJPZkhpdHMgPSBzci5zaXplKCk7XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdENvbnRhaW5lciAhPT0gbnVsbCAmJiB0aGlzLm51bWJlck9mSGl0cyA+IDApIHtcbiAgICAgICAgICB0aGlzLnJlc3VsdENvbnRhaW5lci5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5xLmxlbmd0aCA9PT0gMCB8fCB0aGlzLm51bWJlck9mSGl0cyA9PT0gMCkge1xuICAgICAgICAgIHRoaXMucUVsLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmlpaWZDb250ZW50U2VhcmNoU2VydmljZS5pc1NlYXJjaGluZy5zdWJzY3JpYmUoKHM6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgdGhpcy5pc1NlYXJjaGluZyA9IHM7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuaWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlLm9uU2VsZWN0ZWQuc3Vic2NyaWJlKChoaXQ6IEhpdCB8IG51bGwpID0+IHtcbiAgICAgICAgaWYgKGhpdCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuY3VycmVudEhpdCA9IGhpdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudEhpdCB8fCB0aGlzLmN1cnJlbnRIaXQuaWQgIT09IGhpdC5pZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SGl0ID0gaGl0O1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxDdXJyZW50SGl0SW50b1ZpZXcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLnJlc2l6ZVRhYkhlaWdodCgpO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHRoaXMuc2Nyb2xsQ3VycmVudEhpdEludG9WaWV3KCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIG9uU3VibWl0KGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNlYXJjaCgpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5xID0gJyc7XG4gICAgdGhpcy5zZWFyY2goKTtcbiAgfVxuXG4gIGdvVG9IaXQoaGl0OiBIaXQpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnJlbnRIaXQgPSBoaXQ7XG4gICAgdGhpcy5jb250ZW50U2VhcmNoTmF2aWdhdGlvblNlcnZpY2Uuc2VsZWN0ZWQoaGl0KTtcbiAgICBpZiAodGhpcy5pc0hhbmRzZXRPclRhYmxldEluUG9ydHJhaXQpIHtcbiAgICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZWFyY2goKSB7XG4gICAgdGhpcy5jdXJyZW50U2VhcmNoID0gdGhpcy5xO1xuICAgIGlmICh0aGlzLm1hbmlmZXN0KSB7XG4gICAgICB0aGlzLmlpaWZDb250ZW50U2VhcmNoU2VydmljZS5zZWFyY2godGhpcy5tYW5pZmVzdCwgdGhpcy5xKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlc2l6ZVRhYkhlaWdodCgpOiB2b2lkIHtcbiAgICBsZXQgaGVpZ2h0ID0gdGhpcy5taW1lSGVpZ2h0O1xuXG4gICAgaWYgKHRoaXMuaXNIYW5kc2V0T3JUYWJsZXRJblBvcnRyYWl0KSB7XG4gICAgICB0aGlzLnRhYkhlaWdodCA9IHtcbiAgICAgICAgbWF4SGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxMjggKyAncHgnLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0IC09IDMyMDtcbiAgICAgIHRoaXMudGFiSGVpZ2h0ID0ge1xuICAgICAgICBtYXhIZWlnaHQ6IGhlaWdodCArICdweCcsXG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XG4gIH1cblxuICBwcml2YXRlIHNjcm9sbEN1cnJlbnRIaXRJbnRvVmlldygpIHtcbiAgICB0aGlzLmlpaWZDb250ZW50U2VhcmNoU2VydmljZS5vblNlbGVjdGVkXG4gICAgICAucGlwZSh0YWtlKDEpKVxuICAgICAgLnN1YnNjcmliZSgoaGl0OiBIaXQgfCBudWxsKSA9PiB7XG4gICAgICAgIGlmIChoaXQgIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuZmluZFNlbGVjdGVkKGhpdCk7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgICBzZWxlY3RlZC5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZFNlbGVjdGVkKHNlbGVjdGVkSGl0OiBIaXQpOiBFbGVtZW50UmVmIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMuaGl0TGlzdCkge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRMaXN0ID0gdGhpcy5oaXRMaXN0LmZpbHRlcihcbiAgICAgICAgKGl0ZW06IEVsZW1lbnRSZWYsIGluZGV4OiBudW1iZXIpID0+IGluZGV4ID09PSBzZWxlY3RlZEhpdC5pZCxcbiAgICAgICk7XG4gICAgICByZXR1cm4gc2VsZWN0ZWRMaXN0Lmxlbmd0aCA+IDAgPyBzZWxlY3RlZExpc3RbMF0gOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJjb250ZW50LXNlYXJjaC1jb250YWluZXJcIj5cbiAgQGlmIChpc0hhbmRzZXRPclRhYmxldEluUG9ydHJhaXQpIHtcbiAgICA8bWF0LXRvb2xiYXIgY2xhc3M9XCJzZWNvbmRhcnktdG9vbGJhclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgICAgY2xhc3M9XCJjbG9zZS1jb250ZW50LXNlYXJjaC1kaWFsb2ctYnV0dG9uXCJcbiAgICAgICAgW2FyaWEtbGFiZWxdPVwiaW50bC5jbG9zZUxhYmVsXCJcbiAgICAgICAgW21hdFRvb2x0aXBdPVwiaW50bC5jbG9zZUxhYmVsXCJcbiAgICAgICAgW21hdERpYWxvZ0Nsb3NlXT1cInRydWVcIlxuICAgICAgPlxuICAgICAgICA8bWF0LWljb24+Y2xvc2U8L21hdC1pY29uPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDEgbWF0LWRpYWxvZy10aXRsZSBjbGFzcz1cImhlYWRpbmdcIj57eyBpbnRsLnNlYXJjaExhYmVsIH19PC9oMT5cbiAgICA8L21hdC10b29sYmFyPlxuICB9IEBlbHNlIHtcbiAgICA8bWF0LXRvb2xiYXIgY2xhc3M9XCJzZWNvbmRhcnktdG9vbGJhciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgIDxoMSBtYXQtZGlhbG9nLXRpdGxlIGNsYXNzPVwiaGVhZGluZyBoZWFkaW5nLWRlc2t0b3BcIj57e1xuICAgICAgICBpbnRsLnNlYXJjaExhYmVsXG4gICAgICB9fTwvaDE+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICBjbGFzcz1cImNsb3NlLWNvbnRlbnQtc2VhcmNoLWRpYWxvZy1idXR0b25cIlxuICAgICAgICBbYXJpYS1sYWJlbF09XCJpbnRsLmNsb3NlTGFiZWxcIlxuICAgICAgICBbbWF0VG9vbHRpcF09XCJpbnRsLmNsb3NlTGFiZWxcIlxuICAgICAgICBbbWF0RGlhbG9nQ2xvc2VdPVwidHJ1ZVwiXG4gICAgICA+XG4gICAgICAgIDxtYXQtaWNvbj5jbG9zZTwvbWF0LWljb24+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L21hdC10b29sYmFyPlxuICB9XG4gIDxtYXQtZGlhbG9nLWNvbnRlbnQgY2xhc3M9XCJjb250ZW50LXNlYXJjaC1mb3JtXCI+XG4gICAgPGZvcm0gKG5nU3VibWl0KT1cIm9uU3VibWl0KCRldmVudClcIiAjc2VhcmNoRm9ybT1cIm5nRm9ybVwiPlxuICAgICAgPG1hdC1mb3JtLWZpZWxkIGNsYXNzPVwiY29udGVudC1zZWFyY2gtYm94XCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICBtYXRQcmVmaXhcbiAgICAgICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImludGwuc2VhcmNoTGFiZWxcIlxuICAgICAgICAgIFttYXRUb29sdGlwXT1cImludGwuc2VhcmNoTGFiZWxcIlxuICAgICAgICA+XG4gICAgICAgICAgPG1hdC1pY29uIGNsYXNzPVwiaWNvblwiPnNlYXJjaDwvbWF0LWljb24+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICAjcXVlcnlcbiAgICAgICAgICBjZGtGb2N1c0luaXRpYWxcbiAgICAgICAgICBtYXRJbnB1dFxuICAgICAgICAgIGNsYXNzPVwiY29udGVudC1zZWFyY2gtaW5wdXRcIlxuICAgICAgICAgIFsobmdNb2RlbCldPVwicVwiXG4gICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJpbnRsLnNlYXJjaExhYmVsXCJcbiAgICAgICAgICBuYW1lPVwicVwiXG4gICAgICAgICAgYXV0b2NvbXBsZXRlPVwib2ZmXCJcbiAgICAgICAgLz5cbiAgICAgICAgQGlmIChxKSB7XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzcz1cImNsZWFyU2VhcmNoQnV0dG9uXCJcbiAgICAgICAgICAgIG1hdFN1ZmZpeFxuICAgICAgICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImludGwuY2xlYXJTZWFyY2hMYWJlbFwiXG4gICAgICAgICAgICBbbWF0VG9vbHRpcF09XCJpbnRsLmNsZWFyU2VhcmNoTGFiZWxcIlxuICAgICAgICAgICAgW2Rpc2FibGVkXT1cImlzU2VhcmNoaW5nXCJcbiAgICAgICAgICAgIChjbGljayk9XCJjbGVhcigpXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8bWF0LWljb24gY2xhc3M9XCJpY29uXCI+Y2xlYXI8L21hdC1pY29uPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICB9XG4gICAgICA8L21hdC1mb3JtLWZpZWxkPlxuICAgIDwvZm9ybT5cbiAgICA8ZGl2XG4gICAgICAjY29udGVudFNlYXJjaFJlc3VsdFxuICAgICAgY2xhc3M9XCJjb250ZW50LXNlYXJjaC1yZXN1bHQtY29udGFpbmVyXCJcbiAgICAgIFtuZ1N0eWxlXT1cInRhYkhlaWdodFwiXG4gICAgPlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtc2VhcmNoLXJlc3VsdCBncmlkIGdyaWQtY29scy0xIGdhcC15LTJcIj5cbiAgICAgICAgQGlmICghaXNTZWFyY2hpbmcpIHtcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIGNsYXNzPVwibnVtYmVyT2ZIaXRzXCIgW3ZhbHVlXT1cIm51bWJlck9mSGl0c1wiIC8+XG4gICAgICAgICAgQGlmIChjdXJyZW50U2VhcmNoICYmIGN1cnJlbnRTZWFyY2gubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgQGlmIChudW1iZXJPZkhpdHMgPiAwKSB7XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cInJlc3VsdHNGb3VuZExhYmVsXCJcbiAgICAgICAgICAgICAgICBbaW5uZXJIVE1MXT1cIlxuICAgICAgICAgICAgICAgICAgaW50bC5yZXN1bHRzRm91bmRMYWJlbChudW1iZXJPZkhpdHMsIGN1cnJlbnRTZWFyY2gpXG4gICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cIm5vUmVzdWx0c0ZvdW5kTGFiZWxcIlxuICAgICAgICAgICAgICAgIFtpbm5lckhUTUxdPVwiaW50bC5ub1Jlc3VsdHNGb3VuZExhYmVsKGN1cnJlbnRTZWFyY2gpXCJcbiAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMSBnYXAteS0yXCI+XG4gICAgICAgICAgICBAZm9yIChoaXQgb2YgaGl0czsgdHJhY2sgaGl0LmlkKSB7XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgaHJlZj1cImphdmFzY3JpcHQ6IHZvaWQoMCk7XCJcbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImhpdFwiXG4gICAgICAgICAgICAgICAgKGNsaWNrKT1cImdvVG9IaXQoaGl0KVwiXG4gICAgICAgICAgICAgICAgKGtleWRvd24uZW50ZXIpPVwiZ29Ub0hpdChoaXQpXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxtYXQtY2FyZFxuICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZT1cIm91dGxpbmVkXCJcbiAgICAgICAgICAgICAgICAgIFtjbGFzcy5zZWxlY3RlZF09XCJjdXJyZW50SGl0ICYmIGhpdC5pZCA9PT0gY3VycmVudEhpdC5pZFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG1hdC1jYXJkLWNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdW1tYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgID57eyBoaXQuYmVmb3JlIH19IDxlbT57eyBoaXQubWF0Y2ggfX08L2VtPlxuICAgICAgICAgICAgICAgICAgICAgICAge3sgaGl0LmFmdGVyIH19PC9kaXZcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhbnZhc0dyb3VwIG1sLTJcIj57eyBoaXQuaW5kZXggKyAxIH19PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9tYXQtY2FyZC1jb250ZW50PlxuICAgICAgICAgICAgICAgIDwvbWF0LWNhcmQ+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICBAaWYgKGlzU2VhcmNoaW5nKSB7XG4gICAgICAgICAgPG1hdC1wcm9ncmVzcy1iYXIgbW9kZT1cImluZGV0ZXJtaW5hdGVcIj48L21hdC1wcm9ncmVzcy1iYXI+XG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L21hdC1kaWFsb2ctY29udGVudD5cbjwvZGl2PlxuIl19","import { inject, Injectable, } from '@angular/core';\nimport { MatDialog, MatDialogState, } from '@angular/material/dialog';\nimport { Subscription } from 'rxjs';\nimport { MimeResizeService } from './../core/mime-resize-service/mime-resize.service';\nimport { ContentSearchDialogConfigStrategyFactory } from './content-search-dialog-config-strategy-factory';\nimport { ContentSearchDialogComponent } from './content-search-dialog.component';\nimport * as i0 from \"@angular/core\";\nexport class ContentSearchDialogService {\n    constructor() {\n        this.dialog = inject(MatDialog);\n        this.contentSearchDialogConfigStrategyFactory = inject(ContentSearchDialogConfigStrategyFactory);\n        this.mimeResizeService = inject(MimeResizeService);\n    }\n    set viewContainerRef(viewContainerRef) {\n        this._viewContainerRef = viewContainerRef;\n    }\n    set el(el) {\n        this._el = el;\n    }\n    initialize() {\n        this.subscriptions = new Subscription();\n        this.subscriptions.add(this.mimeResizeService.onResize.subscribe((rect) => {\n            if (this.isOpen()) {\n                const config = this.getDialogConfig();\n                this.dialogRef?.updatePosition(config.position);\n                this.dialogRef?.updateSize(config.width, config.height);\n            }\n        }));\n    }\n    destroy() {\n        this.close();\n        this.unsubscribe();\n    }\n    open() {\n        if (!this.isOpen()) {\n            const config = this.getDialogConfig();\n            this.dialogRef = this.dialog.open(ContentSearchDialogComponent, config);\n        }\n    }\n    close() {\n        if (this.isOpen()) {\n            this.dialogRef?.close();\n        }\n    }\n    toggle() {\n        this.isOpen() ? this.close() : this.open();\n    }\n    isOpen() {\n        return this.dialogRef?.getState() === MatDialogState.OPEN;\n    }\n    getDialogConfig() {\n        if (!this._el || !this._viewContainerRef) {\n            throw new Error('No element or viewContainerRef');\n        }\n        return this.contentSearchDialogConfigStrategyFactory\n            .create()\n            .getConfig(this._el, this._viewContainerRef);\n    }\n    unsubscribe() {\n        if (this.subscriptions) {\n            this.subscriptions.unsubscribe();\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchDialogService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchDialogService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchDialogService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC1zZWFyY2gtZGlhbG9nLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29udGVudC1zZWFyY2gtZGlhbG9nL2NvbnRlbnQtc2VhcmNoLWRpYWxvZy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFTCxNQUFNLEVBQ04sVUFBVSxHQUVYLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFDTCxTQUFTLEVBR1QsY0FBYyxHQUNmLE1BQU0sMEJBQTBCLENBQUM7QUFDbEMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNwQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQUN0RixPQUFPLEVBQUUsd0NBQXdDLEVBQUUsTUFBTSxpREFBaUQsQ0FBQztBQUMzRyxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQzs7QUFHakYsTUFBTSxPQUFPLDBCQUEwQjtJQUR2QztRQUVtQixXQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNCLDZDQUF3QyxHQUFHLE1BQU0sQ0FDaEUsd0NBQXdDLENBQ3pDLENBQUM7UUFDZSxzQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztLQW9FaEU7SUE5REMsSUFBSSxnQkFBZ0IsQ0FBQyxnQkFBa0M7UUFDckQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGdCQUFnQixDQUFDO0lBQzVDLENBQUM7SUFFRCxJQUFJLEVBQUUsQ0FBQyxFQUFjO1FBQ25CLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFTSxVQUFVO1FBQ2YsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUNwQixJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQ2pELElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7Z0JBQ2xCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLFNBQVMsRUFBRSxjQUFjLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNoRCxJQUFJLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxRCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUNKLENBQUM7SUFFTSxPQUFPO1FBQ1osSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFTSxJQUFJO1FBQ1QsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDO1lBQ25CLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN0QyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLDRCQUE0QixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzFFLENBQUM7SUFDSCxDQUFDO0lBRU0sS0FBSztRQUNWLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDbEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQztRQUMxQixDQUFDO0lBQ0gsQ0FBQztJQUVNLE1BQU07UUFDWCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzdDLENBQUM7SUFFTSxNQUFNO1FBQ1gsT0FBTyxJQUFJLENBQUMsU0FBUyxFQUFFLFFBQVEsRUFBRSxLQUFLLGNBQWMsQ0FBQyxJQUFJLENBQUM7SUFDNUQsQ0FBQztJQUVPLGVBQWU7UUFDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN6QyxNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7UUFDcEQsQ0FBQztRQUVELE9BQU8sSUFBSSxDQUFDLHdDQUF3QzthQUNqRCxNQUFNLEVBQUU7YUFDUixTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRU8sV0FBVztRQUNqQixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25DLENBQUM7SUFDSCxDQUFDOzhHQXhFVSwwQkFBMEI7a0hBQTFCLDBCQUEwQjs7MkZBQTFCLDBCQUEwQjtrQkFEdEMsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEVsZW1lbnRSZWYsXG4gIGluamVjdCxcbiAgSW5qZWN0YWJsZSxcbiAgVmlld0NvbnRhaW5lclJlZixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBNYXREaWFsb2csXG4gIE1hdERpYWxvZ0NvbmZpZyxcbiAgTWF0RGlhbG9nUmVmLFxuICBNYXREaWFsb2dTdGF0ZSxcbn0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTWltZVJlc2l6ZVNlcnZpY2UgfSBmcm9tICcuLy4uL2NvcmUvbWltZS1yZXNpemUtc2VydmljZS9taW1lLXJlc2l6ZS5zZXJ2aWNlJztcbmltcG9ydCB7IENvbnRlbnRTZWFyY2hEaWFsb2dDb25maWdTdHJhdGVneUZhY3RvcnkgfSBmcm9tICcuL2NvbnRlbnQtc2VhcmNoLWRpYWxvZy1jb25maWctc3RyYXRlZ3ktZmFjdG9yeSc7XG5pbXBvcnQgeyBDb250ZW50U2VhcmNoRGlhbG9nQ29tcG9uZW50IH0gZnJvbSAnLi9jb250ZW50LXNlYXJjaC1kaWFsb2cuY29tcG9uZW50JztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENvbnRlbnRTZWFyY2hEaWFsb2dTZXJ2aWNlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBkaWFsb2cgPSBpbmplY3QoTWF0RGlhbG9nKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjb250ZW50U2VhcmNoRGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5ID0gaW5qZWN0KFxuICAgIENvbnRlbnRTZWFyY2hEaWFsb2dDb25maWdTdHJhdGVneUZhY3RvcnksXG4gICk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWltZVJlc2l6ZVNlcnZpY2UgPSBpbmplY3QoTWltZVJlc2l6ZVNlcnZpY2UpO1xuICBwcml2YXRlIF9lbDogRWxlbWVudFJlZiB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfdmlld0NvbnRhaW5lclJlZjogVmlld0NvbnRhaW5lclJlZiB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBkaWFsb2dSZWY/OiBNYXREaWFsb2dSZWY8Q29udGVudFNlYXJjaERpYWxvZ0NvbXBvbmVudD47XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9ucyE6IFN1YnNjcmlwdGlvbjtcblxuICBzZXQgdmlld0NvbnRhaW5lclJlZih2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmKSB7XG4gICAgdGhpcy5fdmlld0NvbnRhaW5lclJlZiA9IHZpZXdDb250YWluZXJSZWY7XG4gIH1cblxuICBzZXQgZWwoZWw6IEVsZW1lbnRSZWYpIHtcbiAgICB0aGlzLl9lbCA9IGVsO1xuICB9XG5cbiAgcHVibGljIGluaXRpYWxpemUoKTogdm9pZCB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLm1pbWVSZXNpemVTZXJ2aWNlLm9uUmVzaXplLnN1YnNjcmliZSgocmVjdCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuZ2V0RGlhbG9nQ29uZmlnKCk7XG4gICAgICAgICAgdGhpcy5kaWFsb2dSZWY/LnVwZGF0ZVBvc2l0aW9uKGNvbmZpZy5wb3NpdGlvbik7XG4gICAgICAgICAgdGhpcy5kaWFsb2dSZWY/LnVwZGF0ZVNpemUoY29uZmlnLndpZHRoLCBjb25maWcuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBwdWJsaWMgb3BlbigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuKCkpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuZ2V0RGlhbG9nQ29uZmlnKCk7XG4gICAgICB0aGlzLmRpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nLm9wZW4oQ29udGVudFNlYXJjaERpYWxvZ0NvbXBvbmVudCwgY29uZmlnKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgY2xvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKCkpIHtcbiAgICAgIHRoaXMuZGlhbG9nUmVmPy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB0b2dnbGUoKTogdm9pZCB7XG4gICAgdGhpcy5pc09wZW4oKSA/IHRoaXMuY2xvc2UoKSA6IHRoaXMub3BlbigpO1xuICB9XG5cbiAgcHVibGljIGlzT3BlbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5kaWFsb2dSZWY/LmdldFN0YXRlKCkgPT09IE1hdERpYWxvZ1N0YXRlLk9QRU47XG4gIH1cblxuICBwcml2YXRlIGdldERpYWxvZ0NvbmZpZygpOiBNYXREaWFsb2dDb25maWcge1xuICAgIGlmICghdGhpcy5fZWwgfHwgIXRoaXMuX3ZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZWxlbWVudCBvciB2aWV3Q29udGFpbmVyUmVmJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGVudFNlYXJjaERpYWxvZ0NvbmZpZ1N0cmF0ZWd5RmFjdG9yeVxuICAgICAgLmNyZWF0ZSgpXG4gICAgICAuZ2V0Q29uZmlnKHRoaXMuX2VsLCB0aGlzLl92aWV3Q29udGFpbmVyUmVmKTtcbiAgfVxuXG4gIHByaXZhdGUgdW5zdWJzY3JpYmUoKSB7XG4gICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9ucykge1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG59XG4iXX0=","import { Dimensions } from './../core/models/dimensions';\nexport class MobileInformationDialogConfigStrategy {\n    getConfig(elementRef, viewContainerRef) {\n        return {\n            hasBackdrop: false,\n            width: '100%',\n            height: '100%',\n            maxWidth: '100% !important',\n            panelClass: ['mime-mobile-dialog', 'mime-dialog', 'information-panel'],\n            viewContainerRef: viewContainerRef,\n        };\n    }\n}\nexport class DesktopInformationDialogConfigStrategy {\n    static { this.dialogWidth = 350; }\n    static { this.paddingRight = 16; }\n    constructor(mimeDomHelper) {\n        this.mimeDomHelper = mimeDomHelper;\n    }\n    getConfig(el, viewContainerRef) {\n        const dimensions = this.getPosition(el);\n        return {\n            hasBackdrop: false,\n            width: `${DesktopInformationDialogConfigStrategy.dialogWidth}px`,\n            position: {\n                top: dimensions.top + 'px',\n                left: dimensions.left + 'px',\n            },\n            maxWidth: '100% !important',\n            panelClass: ['mime-dialog', 'information-panel'],\n            viewContainerRef: viewContainerRef,\n        };\n    }\n    getPosition(el) {\n        const dimensions = this.mimeDomHelper.getBoundingClientRect(el);\n        return new Dimensions({\n            top: dimensions.top + 80,\n            left: dimensions.right -\n                DesktopInformationDialogConfigStrategy.dialogWidth -\n                DesktopInformationDialogConfigStrategy.paddingRight,\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mb3JtYXRpb24tZGlhbG9nLWNvbmZpZy1zdHJhdGVneS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9pbmZvcm1hdGlvbi1kaWFsb2cvaW5mb3JtYXRpb24tZGlhbG9nLWNvbmZpZy1zdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFTekQsTUFBTSxPQUFPLHFDQUFxQztJQUd6QyxTQUFTLENBQ2QsVUFBc0IsRUFDdEIsZ0JBQWtDO1FBRWxDLE9BQU87WUFDTCxXQUFXLEVBQUUsS0FBSztZQUNsQixLQUFLLEVBQUUsTUFBTTtZQUNiLE1BQU0sRUFBRSxNQUFNO1lBQ2QsUUFBUSxFQUFFLGlCQUFpQjtZQUMzQixVQUFVLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxhQUFhLEVBQUUsbUJBQW1CLENBQUM7WUFDdEUsZ0JBQWdCLEVBQUUsZ0JBQWdCO1NBQ25DLENBQUM7SUFDSixDQUFDO0NBQ0Y7QUFFRCxNQUFNLE9BQU8sc0NBQXNDO2FBRzFCLGdCQUFXLEdBQUcsR0FBRyxDQUFDO2FBQ2xCLGlCQUFZLEdBQUcsRUFBRSxDQUFDO0lBR3pDLFlBQVksYUFBNEI7UUFDdEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7SUFDckMsQ0FBQztJQUVNLFNBQVMsQ0FDZCxFQUFjLEVBQ2QsZ0JBQWtDO1FBRWxDLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEMsT0FBTztZQUNMLFdBQVcsRUFBRSxLQUFLO1lBQ2xCLEtBQUssRUFBRSxHQUFHLHNDQUFzQyxDQUFDLFdBQVcsSUFBSTtZQUNoRSxRQUFRLEVBQUU7Z0JBQ1IsR0FBRyxFQUFFLFVBQVUsQ0FBQyxHQUFHLEdBQUcsSUFBSTtnQkFDMUIsSUFBSSxFQUFFLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSTthQUM3QjtZQUNELFFBQVEsRUFBRSxpQkFBaUI7WUFDM0IsVUFBVSxFQUFFLENBQUMsYUFBYSxFQUFFLG1CQUFtQixDQUFDO1lBQ2hELGdCQUFnQixFQUFFLGdCQUFnQjtTQUNuQyxDQUFDO0lBQ0osQ0FBQztJQUNPLFdBQVcsQ0FBQyxFQUFjO1FBQ2hDLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMscUJBQXFCLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDaEUsT0FBTyxJQUFJLFVBQVUsQ0FBQztZQUNwQixHQUFHLEVBQUUsVUFBVSxDQUFDLEdBQUcsR0FBRyxFQUFFO1lBQ3hCLElBQUksRUFDRixVQUFVLENBQUMsS0FBSztnQkFDaEIsc0NBQXNDLENBQUMsV0FBVztnQkFDbEQsc0NBQXNDLENBQUMsWUFBWTtTQUN0RCxDQUFDLENBQUM7SUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWxlbWVudFJlZiwgVmlld0NvbnRhaW5lclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0RGlhbG9nQ29uZmlnIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcbmltcG9ydCB7IE1pbWVEb21IZWxwZXIgfSBmcm9tICcuLi9jb3JlL21pbWUtZG9tLWhlbHBlcic7XG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi8uLi9jb3JlL21vZGVscy9kaW1lbnNpb25zJztcblxuZXhwb3J0IGludGVyZmFjZSBJbmZvcm1hdGlvbkRpYWxvZ0NvbmZpZ1N0cmF0ZWd5IHtcbiAgZ2V0Q29uZmlnKFxuICAgIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsXG4gICAgdmlld0NvbnRhaW5lclJlZjogVmlld0NvbnRhaW5lclJlZixcbiAgKTogTWF0RGlhbG9nQ29uZmlnO1xufVxuXG5leHBvcnQgY2xhc3MgTW9iaWxlSW5mb3JtYXRpb25EaWFsb2dDb25maWdTdHJhdGVneVxuICBpbXBsZW1lbnRzIEluZm9ybWF0aW9uRGlhbG9nQ29uZmlnU3RyYXRlZ3lcbntcbiAgcHVibGljIGdldENvbmZpZyhcbiAgICBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgIHZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWYsXG4gICk6IE1hdERpYWxvZ0NvbmZpZyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc0JhY2tkcm9wOiBmYWxzZSxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIG1heFdpZHRoOiAnMTAwJSAhaW1wb3J0YW50JyxcbiAgICAgIHBhbmVsQ2xhc3M6IFsnbWltZS1tb2JpbGUtZGlhbG9nJywgJ21pbWUtZGlhbG9nJywgJ2luZm9ybWF0aW9uLXBhbmVsJ10sXG4gICAgICB2aWV3Q29udGFpbmVyUmVmOiB2aWV3Q29udGFpbmVyUmVmLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlc2t0b3BJbmZvcm1hdGlvbkRpYWxvZ0NvbmZpZ1N0cmF0ZWd5XG4gIGltcGxlbWVudHMgSW5mb3JtYXRpb25EaWFsb2dDb25maWdTdHJhdGVneVxue1xuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGRpYWxvZ1dpZHRoID0gMzUwO1xuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHBhZGRpbmdSaWdodCA9IDE2O1xuICBwcml2YXRlIG1pbWVEb21IZWxwZXI6IE1pbWVEb21IZWxwZXI7XG5cbiAgY29uc3RydWN0b3IobWltZURvbUhlbHBlcjogTWltZURvbUhlbHBlcikge1xuICAgIHRoaXMubWltZURvbUhlbHBlciA9IG1pbWVEb21IZWxwZXI7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29uZmlnKFxuICAgIGVsOiBFbGVtZW50UmVmLFxuICAgIHZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWYsXG4gICk6IE1hdERpYWxvZ0NvbmZpZyB7XG4gICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuZ2V0UG9zaXRpb24oZWwpO1xuICAgIHJldHVybiB7XG4gICAgICBoYXNCYWNrZHJvcDogZmFsc2UsXG4gICAgICB3aWR0aDogYCR7RGVza3RvcEluZm9ybWF0aW9uRGlhbG9nQ29uZmlnU3RyYXRlZ3kuZGlhbG9nV2lkdGh9cHhgLFxuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgdG9wOiBkaW1lbnNpb25zLnRvcCArICdweCcsXG4gICAgICAgIGxlZnQ6IGRpbWVuc2lvbnMubGVmdCArICdweCcsXG4gICAgICB9LFxuICAgICAgbWF4V2lkdGg6ICcxMDAlICFpbXBvcnRhbnQnLFxuICAgICAgcGFuZWxDbGFzczogWydtaW1lLWRpYWxvZycsICdpbmZvcm1hdGlvbi1wYW5lbCddLFxuICAgICAgdmlld0NvbnRhaW5lclJlZjogdmlld0NvbnRhaW5lclJlZixcbiAgICB9O1xuICB9XG4gIHByaXZhdGUgZ2V0UG9zaXRpb24oZWw6IEVsZW1lbnRSZWYpOiBEaW1lbnNpb25zIHtcbiAgICBjb25zdCBkaW1lbnNpb25zID0gdGhpcy5taW1lRG9tSGVscGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdChlbCk7XG4gICAgcmV0dXJuIG5ldyBEaW1lbnNpb25zKHtcbiAgICAgIHRvcDogZGltZW5zaW9ucy50b3AgKyA4MCxcbiAgICAgIGxlZnQ6XG4gICAgICAgIGRpbWVuc2lvbnMucmlnaHQgLVxuICAgICAgICBEZXNrdG9wSW5mb3JtYXRpb25EaWFsb2dDb25maWdTdHJhdGVneS5kaWFsb2dXaWR0aCAtXG4gICAgICAgIERlc2t0b3BJbmZvcm1hdGlvbkRpYWxvZ0NvbmZpZ1N0cmF0ZWd5LnBhZGRpbmdSaWdodCxcbiAgICB9KTtcbiAgfVxufVxuIl19","import { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { inject, Injectable } from '@angular/core';\nimport { MimeDomHelper } from '../core/mime-dom-helper';\nimport { DesktopInformationDialogConfigStrategy, MobileInformationDialogConfigStrategy, } from './information-dialog-config-strategy';\nimport * as i0 from \"@angular/core\";\nexport class InformationDialogConfigStrategyFactory {\n    constructor() {\n        this.breakpointObserver = inject(BreakpointObserver);\n        this.mimeDomHelper = inject(MimeDomHelper);\n    }\n    create() {\n        const isHandsetOrTabletInPortrait = this.breakpointObserver.isMatched([\n            Breakpoints.Handset,\n            Breakpoints.TabletPortrait,\n        ]);\n        return isHandsetOrTabletInPortrait\n            ? new MobileInformationDialogConfigStrategy()\n            : new DesktopInformationDialogConfigStrategy(this.mimeDomHelper);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: InformationDialogConfigStrategyFactory, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: InformationDialogConfigStrategyFactory }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: InformationDialogConfigStrategyFactory, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mb3JtYXRpb24tZGlhbG9nLWNvbmZpZy1zdHJhdGVneS1mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2luZm9ybWF0aW9uLWRpYWxvZy9pbmZvcm1hdGlvbi1kaWFsb2ctY29uZmlnLXN0cmF0ZWd5LWZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFdBQVcsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN4RCxPQUFPLEVBQ0wsc0NBQXNDLEVBRXRDLHFDQUFxQyxHQUN0QyxNQUFNLHNDQUFzQyxDQUFDOztBQUc5QyxNQUFNLE9BQU8sc0NBQXNDO0lBRG5EO1FBRW1CLHVCQUFrQixHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2hELGtCQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0tBWXhEO0lBVlEsTUFBTTtRQUNYLE1BQU0sMkJBQTJCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQztZQUNwRSxXQUFXLENBQUMsT0FBTztZQUNuQixXQUFXLENBQUMsY0FBYztTQUMzQixDQUFDLENBQUM7UUFFSCxPQUFPLDJCQUEyQjtZQUNoQyxDQUFDLENBQUMsSUFBSSxxQ0FBcUMsRUFBRTtZQUM3QyxDQUFDLENBQUMsSUFBSSxzQ0FBc0MsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDckUsQ0FBQzs4R0FiVSxzQ0FBc0M7a0hBQXRDLHNDQUFzQzs7MkZBQXRDLHNDQUFzQztrQkFEbEQsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJyZWFrcG9pbnRPYnNlcnZlciwgQnJlYWtwb2ludHMgfSBmcm9tICdAYW5ndWxhci9jZGsvbGF5b3V0JztcbmltcG9ydCB7IGluamVjdCwgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWltZURvbUhlbHBlciB9IGZyb20gJy4uL2NvcmUvbWltZS1kb20taGVscGVyJztcbmltcG9ydCB7XG4gIERlc2t0b3BJbmZvcm1hdGlvbkRpYWxvZ0NvbmZpZ1N0cmF0ZWd5LFxuICBJbmZvcm1hdGlvbkRpYWxvZ0NvbmZpZ1N0cmF0ZWd5LFxuICBNb2JpbGVJbmZvcm1hdGlvbkRpYWxvZ0NvbmZpZ1N0cmF0ZWd5LFxufSBmcm9tICcuL2luZm9ybWF0aW9uLWRpYWxvZy1jb25maWctc3RyYXRlZ3knO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSW5mb3JtYXRpb25EaWFsb2dDb25maWdTdHJhdGVneUZhY3Rvcnkge1xuICBwcml2YXRlIHJlYWRvbmx5IGJyZWFrcG9pbnRPYnNlcnZlciA9IGluamVjdChCcmVha3BvaW50T2JzZXJ2ZXIpO1xuICBwcml2YXRlIHJlYWRvbmx5IG1pbWVEb21IZWxwZXIgPSBpbmplY3QoTWltZURvbUhlbHBlcik7XG5cbiAgcHVibGljIGNyZWF0ZSgpOiBJbmZvcm1hdGlvbkRpYWxvZ0NvbmZpZ1N0cmF0ZWd5IHtcbiAgICBjb25zdCBpc0hhbmRzZXRPclRhYmxldEluUG9ydHJhaXQgPSB0aGlzLmJyZWFrcG9pbnRPYnNlcnZlci5pc01hdGNoZWQoW1xuICAgICAgQnJlYWtwb2ludHMuSGFuZHNldCxcbiAgICAgIEJyZWFrcG9pbnRzLlRhYmxldFBvcnRyYWl0LFxuICAgIF0pO1xuXG4gICAgcmV0dXJuIGlzSGFuZHNldE9yVGFibGV0SW5Qb3J0cmFpdFxuICAgICAgPyBuZXcgTW9iaWxlSW5mb3JtYXRpb25EaWFsb2dDb25maWdTdHJhdGVneSgpXG4gICAgICA6IG5ldyBEZXNrdG9wSW5mb3JtYXRpb25EaWFsb2dDb25maWdTdHJhdGVneSh0aGlzLm1pbWVEb21IZWxwZXIpO1xuICB9XG59XG4iXX0=","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, inject, } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { IiifManifestService } from '../../core/iiif-manifest-service/iiif-manifest-service';\nimport { MimeViewerIntl } from '../../core/intl';\nimport * as i0 from \"@angular/core\";\nexport class MetadataComponent {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.manifest = null;\n        this.changeDetectorRef = inject(ChangeDetectorRef);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            this.manifest = manifest;\n            this.changeDetectorRef.markForCheck();\n        }));\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MetadataComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: MetadataComponent, isStandalone: true, selector: \"mime-metadata\", ngImport: i0, template: \"@if (manifest) {\\n  <div class=\\\"ngx-mime-metadata-container\\\">\\n    @for (metadata of manifest.metadata; track metadata.label) {\\n      <div class=\\\"metadata\\\">\\n        <div class=\\\"title\\\">{{ metadata.label }}</div>\\n        <span class=\\\"content\\\" [innerHTML]=\\\"metadata.value\\\"></span>\\n      </div>\\n    }\\n    @if (manifest.attribution) {\\n      <div class=\\\"title\\\">{{ intl.attributionLabel }}</div>\\n      <span\\n        class=\\\"content attribution\\\"\\n        [innerHTML]=\\\"manifest.attribution\\\"\\n      ></span>\\n    }\\n    @if (manifest.license) {\\n      <div class=\\\"title\\\">{{ intl.licenseLabel }}</div>\\n      <span class=\\\"content license\\\"\\n        ><a [href]=\\\"manifest.license\\\" target=\\\"_blank\\\">{{\\n          manifest.license\\n        }}</a></span\\n      >\\n    }\\n    @if (manifest.logo) {\\n      <img aria-hidden=\\\"true\\\" class=\\\"content logo\\\" [src]=\\\"manifest.logo\\\" />\\n    }\\n  </div>\\n}\\n\", styles: [\".title{font-size:14px!important;margin-bottom:4px}.content{display:block;font-size:12px;word-break:break-all;margin-bottom:8px}.logo{max-width:300px;max-height:64px}\\n\"], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MetadataComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-metadata', changeDetection: ChangeDetectionStrategy.OnPush, template: \"@if (manifest) {\\n  <div class=\\\"ngx-mime-metadata-container\\\">\\n    @for (metadata of manifest.metadata; track metadata.label) {\\n      <div class=\\\"metadata\\\">\\n        <div class=\\\"title\\\">{{ metadata.label }}</div>\\n        <span class=\\\"content\\\" [innerHTML]=\\\"metadata.value\\\"></span>\\n      </div>\\n    }\\n    @if (manifest.attribution) {\\n      <div class=\\\"title\\\">{{ intl.attributionLabel }}</div>\\n      <span\\n        class=\\\"content attribution\\\"\\n        [innerHTML]=\\\"manifest.attribution\\\"\\n      ></span>\\n    }\\n    @if (manifest.license) {\\n      <div class=\\\"title\\\">{{ intl.licenseLabel }}</div>\\n      <span class=\\\"content license\\\"\\n        ><a [href]=\\\"manifest.license\\\" target=\\\"_blank\\\">{{\\n          manifest.license\\n        }}</a></span\\n      >\\n    }\\n    @if (manifest.logo) {\\n      <img aria-hidden=\\\"true\\\" class=\\\"content logo\\\" [src]=\\\"manifest.logo\\\" />\\n    }\\n  </div>\\n}\\n\", styles: [\".title{font-size:14px!important;margin-bottom:4px}.content{display:block;font-size:12px;word-break:break-all;margin-bottom:8px}.logo{max-width:300px;max-height:64px}\\n\"] }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0YWRhdGEuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2luZm9ybWF0aW9uLWRpYWxvZy9tZXRhZGF0YS9tZXRhZGF0YS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvaW5mb3JtYXRpb24tZGlhbG9nL21ldGFkYXRhL21ldGFkYXRhLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxNQUFNLEdBR1AsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNwQyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx3REFBd0QsQ0FBQztBQUM3RixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0saUJBQWlCLENBQUM7O0FBU2pELE1BQU0sT0FBTyxpQkFBaUI7SUFOOUI7UUFPRSxTQUFJLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzlCLGFBQVEsR0FBb0IsSUFBSSxDQUFDO1FBQ2hCLHNCQUFpQixHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQzlDLHdCQUFtQixHQUFHLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2xELGtCQUFhLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztLQWdCckQ7SUFkQyxRQUFRO1FBQ04sSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQ3BCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUNoRCxDQUFDLFFBQXlCLEVBQUUsRUFBRTtZQUM1QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztZQUN6QixJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDeEMsQ0FBQyxDQUNGLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNuQyxDQUFDOzhHQXBCVSxpQkFBaUI7a0dBQWpCLGlCQUFpQix5RUNuQjlCLHE1QkE0QkE7OzJGRFRhLGlCQUFpQjtrQkFON0IsU0FBUzsrQkFDRSxlQUFlLG1CQUdSLHVCQUF1QixDQUFDLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgaW5qZWN0LFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElpaWZNYW5pZmVzdFNlcnZpY2UgfSBmcm9tICcuLi8uLi9jb3JlL2lpaWYtbWFuaWZlc3Qtc2VydmljZS9paWlmLW1hbmlmZXN0LXNlcnZpY2UnO1xuaW1wb3J0IHsgTWltZVZpZXdlckludGwgfSBmcm9tICcuLi8uLi9jb3JlL2ludGwnO1xuaW1wb3J0IHsgTWFuaWZlc3QgfSBmcm9tICcuLi8uLi9jb3JlL21vZGVscy9tYW5pZmVzdCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21pbWUtbWV0YWRhdGEnLFxuICB0ZW1wbGF0ZVVybDogJy4vbWV0YWRhdGEuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9tZXRhZGF0YS5jb21wb25lbnQuc2NzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgTWV0YWRhdGFDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIGludGwgPSBpbmplY3QoTWltZVZpZXdlckludGwpO1xuICBtYW5pZmVzdDogTWFuaWZlc3QgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSBjaGFuZ2VEZXRlY3RvclJlZiA9IGluamVjdChDaGFuZ2VEZXRlY3RvclJlZik7XG4gIHByaXZhdGUgcmVhZG9ubHkgaWlpZk1hbmlmZXN0U2VydmljZSA9IGluamVjdChJaWlmTWFuaWZlc3RTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBzdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmlpaWZNYW5pZmVzdFNlcnZpY2UuY3VycmVudE1hbmlmZXN0LnN1YnNjcmliZShcbiAgICAgICAgKG1hbmlmZXN0OiBNYW5pZmVzdCB8IG51bGwpID0+IHtcbiAgICAgICAgICB0aGlzLm1hbmlmZXN0ID0gbWFuaWZlc3Q7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpO1xuICB9XG59XG4iLCJAaWYgKG1hbmlmZXN0KSB7XG4gIDxkaXYgY2xhc3M9XCJuZ3gtbWltZS1tZXRhZGF0YS1jb250YWluZXJcIj5cbiAgICBAZm9yIChtZXRhZGF0YSBvZiBtYW5pZmVzdC5tZXRhZGF0YTsgdHJhY2sgbWV0YWRhdGEubGFiZWwpIHtcbiAgICAgIDxkaXYgY2xhc3M9XCJtZXRhZGF0YVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGl0bGVcIj57eyBtZXRhZGF0YS5sYWJlbCB9fTwvZGl2PlxuICAgICAgICA8c3BhbiBjbGFzcz1cImNvbnRlbnRcIiBbaW5uZXJIVE1MXT1cIm1ldGFkYXRhLnZhbHVlXCI+PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgfVxuICAgIEBpZiAobWFuaWZlc3QuYXR0cmlidXRpb24pIHtcbiAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPnt7IGludGwuYXR0cmlidXRpb25MYWJlbCB9fTwvZGl2PlxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3M9XCJjb250ZW50IGF0dHJpYnV0aW9uXCJcbiAgICAgICAgW2lubmVySFRNTF09XCJtYW5pZmVzdC5hdHRyaWJ1dGlvblwiXG4gICAgICA+PC9zcGFuPlxuICAgIH1cbiAgICBAaWYgKG1hbmlmZXN0LmxpY2Vuc2UpIHtcbiAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPnt7IGludGwubGljZW5zZUxhYmVsIH19PC9kaXY+XG4gICAgICA8c3BhbiBjbGFzcz1cImNvbnRlbnQgbGljZW5zZVwiXG4gICAgICAgID48YSBbaHJlZl09XCJtYW5pZmVzdC5saWNlbnNlXCIgdGFyZ2V0PVwiX2JsYW5rXCI+e3tcbiAgICAgICAgICBtYW5pZmVzdC5saWNlbnNlXG4gICAgICAgIH19PC9hPjwvc3BhblxuICAgICAgPlxuICAgIH1cbiAgICBAaWYgKG1hbmlmZXN0LmxvZ28pIHtcbiAgICAgIDxpbWcgYXJpYS1oaWRkZW49XCJ0cnVlXCIgY2xhc3M9XCJjb250ZW50IGxvZ29cIiBbc3JjXT1cIm1hbmlmZXN0LmxvZ29cIiAvPlxuICAgIH1cbiAgPC9kaXY+XG59XG4iXX0=","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, inject, Output, } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { CanvasService } from '../../core/canvas-service/canvas-service';\nimport { IiifManifestService } from '../../core/iiif-manifest-service/iiif-manifest-service';\nimport { MimeViewerIntl } from '../../core/intl';\nimport { ViewerService } from '../../core/viewer-service/viewer.service';\nimport * as i0 from \"@angular/core\";\nexport class TocComponent {\n    constructor() {\n        this.canvasChanged = new EventEmitter();\n        this.intl = inject(MimeViewerIntl);\n        this.manifest = null;\n        this.currentCanvasGroupIndex = 0;\n        this.changeDetectorRef = inject(ChangeDetectorRef);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.viewerService = inject(ViewerService);\n        this.canvasService = inject(CanvasService);\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            this.manifest = manifest;\n            this.currentCanvasGroupIndex =\n                this.canvasService.currentCanvasGroupIndex;\n            this.changeDetectorRef.detectChanges();\n        }));\n        this.subscriptions.add(this.viewerService.onCanvasGroupIndexChange.subscribe((canvasGroupIndex) => {\n            this.currentCanvasGroupIndex = canvasGroupIndex;\n            this.changeDetectorRef.detectChanges();\n        }));\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    goToCanvas(event, canvasIndex) {\n        if (canvasIndex !== undefined) {\n            event.preventDefault();\n            this.viewerService.goToCanvas(canvasIndex, false);\n            this.canvasChanged.emit(canvasIndex);\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: TocComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: TocComponent, isStandalone: true, selector: \"mime-toc\", outputs: { canvasChanged: \"canvasChanged\" }, ngImport: i0, template: \"<div class=\\\"ngx-mime-toc-container\\\">\\n  @for (structure of manifest?.structures; track structure.id) {\\n    <a\\n      class=\\\"toc-link flex justify-between\\\"\\n      href=\\\"\\\"\\n      [class.currentCanvasGroup]=\\\"\\n        currentCanvasGroupIndex === structure.canvasIndex\\n      \\\"\\n      (click)=\\\"goToCanvas($event, structure.canvasIndex)\\\"\\n    >\\n      <span class=\\\"label\\\">{{ structure.label }}</span>\\n      <span class=\\\"canvasGroupIndex\\\">{{ structure.canvasIndex + 1 }}</span>\\n    </a>\\n  }\\n</div>\\n\", styles: [\".currentCanvasGroup{font-weight:700}\\n\"], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: TocComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-toc', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"ngx-mime-toc-container\\\">\\n  @for (structure of manifest?.structures; track structure.id) {\\n    <a\\n      class=\\\"toc-link flex justify-between\\\"\\n      href=\\\"\\\"\\n      [class.currentCanvasGroup]=\\\"\\n        currentCanvasGroupIndex === structure.canvasIndex\\n      \\\"\\n      (click)=\\\"goToCanvas($event, structure.canvasIndex)\\\"\\n    >\\n      <span class=\\\"label\\\">{{ structure.label }}</span>\\n      <span class=\\\"canvasGroupIndex\\\">{{ structure.canvasIndex + 1 }}</span>\\n    </a>\\n  }\\n</div>\\n\", styles: [\".currentCanvasGroup{font-weight:700}\\n\"] }]\n        }], propDecorators: { canvasChanged: [{\n                type: Output\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUtb2YtY29udGVudHMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2luZm9ybWF0aW9uLWRpYWxvZy90YWJsZS1vZi1jb250ZW50cy90YWJsZS1vZi1jb250ZW50cy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvaW5mb3JtYXRpb24tZGlhbG9nL3RhYmxlLW9mLWNvbnRlbnRzL3RhYmxlLW9mLWNvbnRlbnRzLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxZQUFZLEVBQ1osTUFBTSxFQUdOLE1BQU0sR0FDUCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwwQ0FBMEMsQ0FBQztBQUN6RSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx3REFBd0QsQ0FBQztBQUM3RixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFakQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDBDQUEwQyxDQUFDOztBQVF6RSxNQUFNLE9BQU8sWUFBWTtJQU56QjtRQVFFLGtCQUFhLEdBQXlCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDekQsU0FBSSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUM5QixhQUFRLEdBQW9CLElBQUksQ0FBQztRQUNqQyw0QkFBdUIsR0FBRyxDQUFDLENBQUM7UUFDWCxzQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUM5Qyx3QkFBbUIsR0FBRyxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNsRCxrQkFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN0QyxrQkFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN0QyxrQkFBYSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7S0FtQ3JEO0lBakNDLFFBQVE7UUFDTixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FDcEIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQ2hELENBQUMsUUFBeUIsRUFBRSxFQUFFO1lBQzVCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1lBQ3pCLElBQUksQ0FBQyx1QkFBdUI7Z0JBQzFCLElBQUksQ0FBQyxhQUFhLENBQUMsdUJBQXVCLENBQUM7WUFDN0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pDLENBQUMsQ0FDRixDQUNGLENBQUM7UUFFRixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FDcEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyx3QkFBd0IsQ0FBQyxTQUFTLENBQ25ELENBQUMsZ0JBQXdCLEVBQUUsRUFBRTtZQUMzQixJQUFJLENBQUMsdUJBQXVCLEdBQUcsZ0JBQWdCLENBQUM7WUFDaEQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pDLENBQUMsQ0FDRixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQsV0FBVztRQUNULElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDbkMsQ0FBQztJQUVELFVBQVUsQ0FBQyxLQUFZLEVBQUUsV0FBK0I7UUFDdEQsSUFBSSxXQUFXLEtBQUssU0FBUyxFQUFFLENBQUM7WUFDOUIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNsRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN2QyxDQUFDO0lBQ0gsQ0FBQzs4R0E1Q1UsWUFBWTtrR0FBWixZQUFZLGlIQ3ZCekIsa2dCQWVBOzsyRkRRYSxZQUFZO2tCQU54QixTQUFTOytCQUNFLFVBQVUsbUJBR0gsdUJBQXVCLENBQUMsTUFBTTs7c0JBRzlDLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRXZlbnRFbWl0dGVyLFxuICBpbmplY3QsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDYW52YXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vY29yZS9jYW52YXMtc2VydmljZS9jYW52YXMtc2VydmljZSc7XG5pbXBvcnQgeyBJaWlmTWFuaWZlc3RTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vY29yZS9paWlmLW1hbmlmZXN0LXNlcnZpY2UvaWlpZi1tYW5pZmVzdC1zZXJ2aWNlJztcbmltcG9ydCB7IE1pbWVWaWV3ZXJJbnRsIH0gZnJvbSAnLi4vLi4vY29yZS9pbnRsJztcbmltcG9ydCB7IE1hbmlmZXN0IH0gZnJvbSAnLi4vLi4vY29yZS9tb2RlbHMvbWFuaWZlc3QnO1xuaW1wb3J0IHsgVmlld2VyU2VydmljZSB9IGZyb20gJy4uLy4uL2NvcmUvdmlld2VyLXNlcnZpY2Uvdmlld2VyLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtaW1lLXRvYycsXG4gIHRlbXBsYXRlVXJsOiAnLi90YWJsZS1vZi1jb250ZW50cy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3RhYmxlLW9mLWNvbnRlbnRzLmNvbXBvbmVudC5zY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBUb2NDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIEBPdXRwdXQoKVxuICBjYW52YXNDaGFuZ2VkOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgaW50bCA9IGluamVjdChNaW1lVmlld2VySW50bCk7XG4gIG1hbmlmZXN0OiBNYW5pZmVzdCB8IG51bGwgPSBudWxsO1xuICBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCA9IDA7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2hhbmdlRGV0ZWN0b3JSZWYgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IGlpaWZNYW5pZmVzdFNlcnZpY2UgPSBpbmplY3QoSWlpZk1hbmlmZXN0U2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgdmlld2VyU2VydmljZSA9IGluamVjdChWaWV3ZXJTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjYW52YXNTZXJ2aWNlID0gaW5qZWN0KENhbnZhc1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuaWlpZk1hbmlmZXN0U2VydmljZS5jdXJyZW50TWFuaWZlc3Quc3Vic2NyaWJlKFxuICAgICAgICAobWFuaWZlc3Q6IE1hbmlmZXN0IHwgbnVsbCkgPT4ge1xuICAgICAgICAgIHRoaXMubWFuaWZlc3QgPSBtYW5pZmVzdDtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDYW52YXNHcm91cEluZGV4ID1cbiAgICAgICAgICAgIHRoaXMuY2FudmFzU2VydmljZS5jdXJyZW50Q2FudmFzR3JvdXBJbmRleDtcbiAgICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLnZpZXdlclNlcnZpY2Uub25DYW52YXNHcm91cEluZGV4Q2hhbmdlLnN1YnNjcmliZShcbiAgICAgICAgKGNhbnZhc0dyb3VwSW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgIHRoaXMuY3VycmVudENhbnZhc0dyb3VwSW5kZXggPSBjYW52YXNHcm91cEluZGV4O1xuICAgICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBnb1RvQ2FudmFzKGV2ZW50OiBFdmVudCwgY2FudmFzSW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmIChjYW52YXNJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy52aWV3ZXJTZXJ2aWNlLmdvVG9DYW52YXMoY2FudmFzSW5kZXgsIGZhbHNlKTtcbiAgICAgIHRoaXMuY2FudmFzQ2hhbmdlZC5lbWl0KGNhbnZhc0luZGV4KTtcbiAgICB9XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJuZ3gtbWltZS10b2MtY29udGFpbmVyXCI+XG4gIEBmb3IgKHN0cnVjdHVyZSBvZiBtYW5pZmVzdD8uc3RydWN0dXJlczsgdHJhY2sgc3RydWN0dXJlLmlkKSB7XG4gICAgPGFcbiAgICAgIGNsYXNzPVwidG9jLWxpbmsgZmxleCBqdXN0aWZ5LWJldHdlZW5cIlxuICAgICAgaHJlZj1cIlwiXG4gICAgICBbY2xhc3MuY3VycmVudENhbnZhc0dyb3VwXT1cIlxuICAgICAgICBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCA9PT0gc3RydWN0dXJlLmNhbnZhc0luZGV4XG4gICAgICBcIlxuICAgICAgKGNsaWNrKT1cImdvVG9DYW52YXMoJGV2ZW50LCBzdHJ1Y3R1cmUuY2FudmFzSW5kZXgpXCJcbiAgICA+XG4gICAgICA8c3BhbiBjbGFzcz1cImxhYmVsXCI+e3sgc3RydWN0dXJlLmxhYmVsIH19PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJjYW52YXNHcm91cEluZGV4XCI+e3sgc3RydWN0dXJlLmNhbnZhc0luZGV4ICsgMSB9fTwvc3Bhbj5cbiAgICA8L2E+XG4gIH1cbjwvZGl2PlxuIl19","import { BreakpointObserver, Breakpoints, } from '@angular/cdk/layout';\nimport { NgStyle } from '@angular/common';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, inject, } from '@angular/core';\nimport { MatIconButton } from '@angular/material/button';\nimport { MatDialogClose, MatDialogContent, MatDialogRef, MatDialogTitle, } from '@angular/material/dialog';\nimport { MatIcon } from '@angular/material/icon';\nimport { MatTab, MatTabGroup } from '@angular/material/tabs';\nimport { MatToolbar } from '@angular/material/toolbar';\nimport { MatTooltip } from '@angular/material/tooltip';\nimport { Subscription } from 'rxjs';\nimport { IiifManifestService } from '../core/iiif-manifest-service/iiif-manifest-service';\nimport { MimeViewerIntl } from '../core/intl';\nimport { MimeResizeService } from '../core/mime-resize-service/mime-resize.service';\nimport { MetadataComponent } from './metadata/metadata.component';\nimport { TocComponent } from './table-of-contents/table-of-contents.component';\nimport * as i0 from \"@angular/core\";\nexport class InformationDialogComponent {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.manifest = null;\n        this.tabHeight = {};\n        this.showToc = false;\n        this.selectedIndex = 0;\n        this.isHandsetOrTabletInPortrait = false;\n        this.breakpointObserver = inject(BreakpointObserver);\n        this.dialogRef = inject(MatDialogRef);\n        this.changeDetectorRef = inject(ChangeDetectorRef);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.mimeResizeService = inject(MimeResizeService);\n        this.mimeHeight = 0;\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.breakpointObserver\n            .observe([Breakpoints.Handset, Breakpoints.TabletPortrait])\n            .subscribe((value) => (this.isHandsetOrTabletInPortrait = value.matches)));\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            this.manifest = manifest;\n            this.showToc =\n                this.manifest !== null &&\n                    this.manifest.structures !== undefined &&\n                    this.manifest.structures.length > 0;\n        }));\n        this.subscriptions.add(this.mimeResizeService.onResize.subscribe((dimensions) => {\n            this.mimeHeight = dimensions.height;\n            this.resizeTabHeight();\n        }));\n        this.resizeTabHeight();\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    onCanvasChanged() {\n        if (this.isHandsetOrTabletInPortrait) {\n            this.dialogRef.close();\n        }\n    }\n    resizeTabHeight() {\n        let height = this.mimeHeight;\n        if (this.isHandsetOrTabletInPortrait) {\n            this.tabHeight = {\n                maxHeight: window.innerHeight - 128 + 'px',\n            };\n        }\n        else {\n            height -= 288;\n            this.tabHeight = {\n                maxHeight: height + 'px',\n            };\n        }\n        this.changeDetectorRef.detectChanges();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: InformationDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: InformationDialogComponent, isStandalone: true, selector: \"mime-information\", ngImport: i0, template: \"<div class=\\\"information-container\\\">\\n  @if (isHandsetOrTabletInPortrait) {\\n    <mat-toolbar data-testid=\\\"mobile-toolbar\\\" class=\\\"secondary-toolbar\\\">\\n      <button\\n        mat-icon-button\\n        [aria-label]=\\\"intl.closeLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n      <h1 mat-dialog-title>{{ intl.informationLabel }}</h1>\\n    </mat-toolbar>\\n  } @else {\\n    <mat-toolbar\\n      data-testid=\\\"desktop-toolbar\\\"\\n      class=\\\"secondary-toolbar justify-between\\\"\\n    >\\n      <h1 mat-dialog-title>{{ intl.informationLabel }}</h1>\\n      <button\\n        mat-icon-button\\n        [aria-label]=\\\"intl.closeLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n    </mat-toolbar>\\n  }\\n  <div mat-dialog-content>\\n    <mat-tab-group [(selectedIndex)]=\\\"selectedIndex\\\">\\n      <mat-tab [label]=\\\"intl.metadataLabel\\\">\\n        <div class=\\\"tab-container\\\" [ngStyle]=\\\"tabHeight\\\">\\n          <mime-metadata></mime-metadata>\\n        </div>\\n      </mat-tab>\\n      @if (showToc) {\\n        <mat-tab [label]=\\\"intl.tocLabel\\\">\\n          <div class=\\\"tab-container\\\" [ngStyle]=\\\"tabHeight\\\">\\n            <mime-toc (canvasChanged)=\\\"onCanvasChanged()\\\"></mime-toc>\\n          </div>\\n        </mat-tab>\\n      }\\n    </mat-tab-group>\\n  </div>\\n</div>\\n\", styles: [\".mat-mdc-dialog-title{color:inherit;padding:0 2px 16px}::ng-deep .information-panel>.mat-mdc-dialog-container{padding:0!important;overflow:initial}::ng-deep .information-container>div>div>.mat-toolbar{padding:0!important}.tab-container{overflow:auto;padding:8px 16px}.mat-mdc-dialog-content{max-height:none;padding:0}\\n\"], dependencies: [{ kind: \"component\", type: MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { kind: \"component\", type: MatIconButton, selector: \"button[mat-icon-button], a[mat-icon-button], button[matIconButton], a[matIconButton]\", exportAs: [\"matButton\", \"matAnchor\"] }, { kind: \"directive\", type: MatTooltip, selector: \"[matTooltip]\", inputs: [\"matTooltipPosition\", \"matTooltipPositionAtOrigin\", \"matTooltipDisabled\", \"matTooltipShowDelay\", \"matTooltipHideDelay\", \"matTooltipTouchGestures\", \"matTooltip\", \"matTooltipClass\"], exportAs: [\"matTooltip\"] }, { kind: \"directive\", type: MatDialogClose, selector: \"[mat-dialog-close], [matDialogClose]\", inputs: [\"aria-label\", \"type\", \"mat-dialog-close\", \"matDialogClose\"], exportAs: [\"matDialogClose\"] }, { kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"directive\", type: MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { kind: \"directive\", type: MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }, { kind: \"component\", type: MatTabGroup, selector: \"mat-tab-group\", inputs: [\"color\", \"fitInkBarToContent\", \"mat-stretch-tabs\", \"mat-align-tabs\", \"dynamicHeight\", \"selectedIndex\", \"headerPosition\", \"animationDuration\", \"contentTabIndex\", \"disablePagination\", \"disableRipple\", \"preserveContent\", \"backgroundColor\", \"aria-label\", \"aria-labelledby\"], outputs: [\"selectedIndexChange\", \"focusChange\", \"animationDone\", \"selectedTabChange\"], exportAs: [\"matTabGroup\"] }, { kind: \"component\", type: MatTab, selector: \"mat-tab\", inputs: [\"disabled\", \"label\", \"aria-label\", \"aria-labelledby\", \"labelClass\", \"bodyClass\", \"id\"], exportAs: [\"matTab\"] }, { kind: \"directive\", type: NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { kind: \"component\", type: MetadataComponent, selector: \"mime-metadata\" }, { kind: \"component\", type: TocComponent, selector: \"mime-toc\", outputs: [\"canvasChanged\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: InformationDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-information', changeDetection: ChangeDetectionStrategy.OnPush, imports: [\n                        MatToolbar,\n                        MatIconButton,\n                        MatTooltip,\n                        MatDialogClose,\n                        MatIcon,\n                        MatDialogTitle,\n                        MatDialogContent,\n                        MatTabGroup,\n                        MatTab,\n                        NgStyle,\n                        MetadataComponent,\n                        TocComponent,\n                    ], template: \"<div class=\\\"information-container\\\">\\n  @if (isHandsetOrTabletInPortrait) {\\n    <mat-toolbar data-testid=\\\"mobile-toolbar\\\" class=\\\"secondary-toolbar\\\">\\n      <button\\n        mat-icon-button\\n        [aria-label]=\\\"intl.closeLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n      <h1 mat-dialog-title>{{ intl.informationLabel }}</h1>\\n    </mat-toolbar>\\n  } @else {\\n    <mat-toolbar\\n      data-testid=\\\"desktop-toolbar\\\"\\n      class=\\\"secondary-toolbar justify-between\\\"\\n    >\\n      <h1 mat-dialog-title>{{ intl.informationLabel }}</h1>\\n      <button\\n        mat-icon-button\\n        [aria-label]=\\\"intl.closeLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n    </mat-toolbar>\\n  }\\n  <div mat-dialog-content>\\n    <mat-tab-group [(selectedIndex)]=\\\"selectedIndex\\\">\\n      <mat-tab [label]=\\\"intl.metadataLabel\\\">\\n        <div class=\\\"tab-container\\\" [ngStyle]=\\\"tabHeight\\\">\\n          <mime-metadata></mime-metadata>\\n        </div>\\n      </mat-tab>\\n      @if (showToc) {\\n        <mat-tab [label]=\\\"intl.tocLabel\\\">\\n          <div class=\\\"tab-container\\\" [ngStyle]=\\\"tabHeight\\\">\\n            <mime-toc (canvasChanged)=\\\"onCanvasChanged()\\\"></mime-toc>\\n          </div>\\n        </mat-tab>\\n      }\\n    </mat-tab-group>\\n  </div>\\n</div>\\n\", styles: [\".mat-mdc-dialog-title{color:inherit;padding:0 2px 16px}::ng-deep .information-panel>.mat-mdc-dialog-container{padding:0!important;overflow:initial}::ng-deep .information-container>div>div>.mat-toolbar{padding:0!important}.tab-container{overflow:auto;padding:8px 16px}.mat-mdc-dialog-content{max-height:none;padding:0}\\n\"] }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mb3JtYXRpb24tZGlhbG9nLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9pbmZvcm1hdGlvbi1kaWFsb2cvaW5mb3JtYXRpb24tZGlhbG9nLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9pbmZvcm1hdGlvbi1kaWFsb2cvaW5mb3JtYXRpb24tZGlhbG9nLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxrQkFBa0IsRUFDbEIsV0FBVyxHQUVaLE1BQU0scUJBQXFCLENBQUM7QUFDN0IsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzFDLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxNQUFNLEdBR1AsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3pELE9BQU8sRUFDTCxjQUFjLEVBQ2QsZ0JBQWdCLEVBQ2hCLFlBQVksRUFDWixjQUFjLEdBQ2YsTUFBTSwwQkFBMEIsQ0FBQztBQUNsQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDakQsT0FBTyxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM3RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdkQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDcEMsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0scURBQXFELENBQUM7QUFDMUYsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUM5QyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQztBQUdwRixPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNsRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saURBQWlELENBQUM7O0FBc0IvRSxNQUFNLE9BQU8sMEJBQTBCO0lBcEJ2QztRQXFCRSxTQUFJLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzlCLGFBQVEsR0FBb0IsSUFBSSxDQUFDO1FBQ2pDLGNBQVMsR0FBRyxFQUFFLENBQUM7UUFDZixZQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ2hCLGtCQUFhLEdBQUcsQ0FBQyxDQUFDO1FBQ2xCLGdDQUEyQixHQUFHLEtBQUssQ0FBQztRQUNuQix1QkFBa0IsR0FBRyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNoRCxjQUFTLEdBQ3hCLE1BQU0sQ0FBMkMsWUFBWSxDQUFDLENBQUM7UUFDaEQsc0JBQWlCLEdBQUcsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDOUMsd0JBQW1CLEdBQUcsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDbEQsc0JBQWlCLEdBQUcsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDdkQsZUFBVSxHQUFHLENBQUMsQ0FBQztRQUNOLGtCQUFhLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztLQTJEckQ7SUF6REMsUUFBUTtRQUNOLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUNwQixJQUFJLENBQUMsa0JBQWtCO2FBQ3BCLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO2FBQzFELFNBQVMsQ0FDUixDQUFDLEtBQXNCLEVBQUUsRUFBRSxDQUN6QixDQUFDLElBQUksQ0FBQywyQkFBMkIsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQ3JELENBQ0osQ0FBQztRQUVGLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUNwQixJQUFJLENBQUMsbUJBQW1CLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FDaEQsQ0FBQyxRQUF5QixFQUFFLEVBQUU7WUFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDekIsSUFBSSxDQUFDLE9BQU87Z0JBQ1YsSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJO29CQUN0QixJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsS0FBSyxTQUFTO29CQUN0QyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FDRixDQUNGLENBQUM7UUFFRixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FDcEIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxVQUFzQixFQUFFLEVBQUU7WUFDbkUsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDO1lBQ3BDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FDSCxDQUFDO1FBRUYsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNuQyxDQUFDO0lBRUQsZUFBZTtRQUNiLElBQUksSUFBSSxDQUFDLDJCQUEyQixFQUFFLENBQUM7WUFDckMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN6QixDQUFDO0lBQ0gsQ0FBQztJQUVPLGVBQWU7UUFDckIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUU3QixJQUFJLElBQUksQ0FBQywyQkFBMkIsRUFBRSxDQUFDO1lBQ3JDLElBQUksQ0FBQyxTQUFTLEdBQUc7Z0JBQ2YsU0FBUyxFQUFFLE1BQU0sQ0FBQyxXQUFXLEdBQUcsR0FBRyxHQUFHLElBQUk7YUFDM0MsQ0FBQztRQUNKLENBQUM7YUFBTSxDQUFDO1lBQ04sTUFBTSxJQUFJLEdBQUcsQ0FBQztZQUNkLElBQUksQ0FBQyxTQUFTLEdBQUc7Z0JBQ2YsU0FBUyxFQUFFLE1BQU0sR0FBRyxJQUFJO2FBQ3pCLENBQUM7UUFDSixDQUFDO1FBQ0QsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3pDLENBQUM7OEdBeEVVLDBCQUEwQjtrR0FBMUIsMEJBQTBCLDRFQ3REdkMscTdDQThDQSx5WEROSSxVQUFVLHFHQUNWLGFBQWEsdUtBQ2IsVUFBVSxpUkFDVixjQUFjLHFMQUNkLE9BQU8sMklBQ1AsY0FBYywrSEFDZCxnQkFBZ0IseUdBQ2hCLFdBQVcsb2NBQ1gsTUFBTSwyS0FDTixPQUFPLDJFQUNQLGlCQUFpQiwwREFDakIsWUFBWTs7MkZBR0gsMEJBQTBCO2tCQXBCdEMsU0FBUzsrQkFDRSxrQkFBa0IsbUJBR1gsdUJBQXVCLENBQUMsTUFBTSxXQUN0Qzt3QkFDUCxVQUFVO3dCQUNWLGFBQWE7d0JBQ2IsVUFBVTt3QkFDVixjQUFjO3dCQUNkLE9BQU87d0JBQ1AsY0FBYzt3QkFDZCxnQkFBZ0I7d0JBQ2hCLFdBQVc7d0JBQ1gsTUFBTTt3QkFDTixPQUFPO3dCQUNQLGlCQUFpQjt3QkFDakIsWUFBWTtxQkFDYiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEJyZWFrcG9pbnRPYnNlcnZlcixcbiAgQnJlYWtwb2ludHMsXG4gIEJyZWFrcG9pbnRTdGF0ZSxcbn0gZnJvbSAnQGFuZ3VsYXIvY2RrL2xheW91dCc7XG5pbXBvcnQgeyBOZ1N0eWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBpbmplY3QsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdEljb25CdXR0b24gfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9idXR0b24nO1xuaW1wb3J0IHtcbiAgTWF0RGlhbG9nQ2xvc2UsXG4gIE1hdERpYWxvZ0NvbnRlbnQsXG4gIE1hdERpYWxvZ1JlZixcbiAgTWF0RGlhbG9nVGl0bGUsXG59IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyBNYXRJY29uIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvaWNvbic7XG5pbXBvcnQgeyBNYXRUYWIsIE1hdFRhYkdyb3VwIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdGFicyc7XG5pbXBvcnQgeyBNYXRUb29sYmFyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdG9vbGJhcic7XG5pbXBvcnQgeyBNYXRUb29sdGlwIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdG9vbHRpcCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElpaWZNYW5pZmVzdFNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL2lpaWYtbWFuaWZlc3Qtc2VydmljZS9paWlmLW1hbmlmZXN0LXNlcnZpY2UnO1xuaW1wb3J0IHsgTWltZVZpZXdlckludGwgfSBmcm9tICcuLi9jb3JlL2ludGwnO1xuaW1wb3J0IHsgTWltZVJlc2l6ZVNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL21pbWUtcmVzaXplLXNlcnZpY2UvbWltZS1yZXNpemUuc2VydmljZSc7XG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi4vY29yZS9tb2RlbHMvZGltZW5zaW9ucyc7XG5pbXBvcnQgeyBNYW5pZmVzdCB9IGZyb20gJy4vLi4vY29yZS9tb2RlbHMvbWFuaWZlc3QnO1xuaW1wb3J0IHsgTWV0YWRhdGFDb21wb25lbnQgfSBmcm9tICcuL21ldGFkYXRhL21ldGFkYXRhLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBUb2NDb21wb25lbnQgfSBmcm9tICcuL3RhYmxlLW9mLWNvbnRlbnRzL3RhYmxlLW9mLWNvbnRlbnRzLmNvbXBvbmVudCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21pbWUtaW5mb3JtYXRpb24nLFxuICB0ZW1wbGF0ZVVybDogJy4vaW5mb3JtYXRpb24tZGlhbG9nLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vaW5mb3JtYXRpb24tZGlhbG9nLmNvbXBvbmVudC5zY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBpbXBvcnRzOiBbXG4gICAgTWF0VG9vbGJhcixcbiAgICBNYXRJY29uQnV0dG9uLFxuICAgIE1hdFRvb2x0aXAsXG4gICAgTWF0RGlhbG9nQ2xvc2UsXG4gICAgTWF0SWNvbixcbiAgICBNYXREaWFsb2dUaXRsZSxcbiAgICBNYXREaWFsb2dDb250ZW50LFxuICAgIE1hdFRhYkdyb3VwLFxuICAgIE1hdFRhYixcbiAgICBOZ1N0eWxlLFxuICAgIE1ldGFkYXRhQ29tcG9uZW50LFxuICAgIFRvY0NvbXBvbmVudCxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgSW5mb3JtYXRpb25EaWFsb2dDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIGludGwgPSBpbmplY3QoTWltZVZpZXdlckludGwpO1xuICBtYW5pZmVzdDogTWFuaWZlc3QgfCBudWxsID0gbnVsbDtcbiAgdGFiSGVpZ2h0ID0ge307XG4gIHNob3dUb2MgPSBmYWxzZTtcbiAgc2VsZWN0ZWRJbmRleCA9IDA7XG4gIGlzSGFuZHNldE9yVGFibGV0SW5Qb3J0cmFpdCA9IGZhbHNlO1xuICBwcml2YXRlIHJlYWRvbmx5IGJyZWFrcG9pbnRPYnNlcnZlciA9IGluamVjdChCcmVha3BvaW50T2JzZXJ2ZXIpO1xuICBwcml2YXRlIHJlYWRvbmx5IGRpYWxvZ1JlZiA9XG4gICAgaW5qZWN0PE1hdERpYWxvZ1JlZjxJbmZvcm1hdGlvbkRpYWxvZ0NvbXBvbmVudD4+KE1hdERpYWxvZ1JlZik7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2hhbmdlRGV0ZWN0b3JSZWYgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IGlpaWZNYW5pZmVzdFNlcnZpY2UgPSBpbmplY3QoSWlpZk1hbmlmZXN0U2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWltZVJlc2l6ZVNlcnZpY2UgPSBpbmplY3QoTWltZVJlc2l6ZVNlcnZpY2UpO1xuICBwcml2YXRlIG1pbWVIZWlnaHQgPSAwO1xuICBwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuYnJlYWtwb2ludE9ic2VydmVyXG4gICAgICAgIC5vYnNlcnZlKFtCcmVha3BvaW50cy5IYW5kc2V0LCBCcmVha3BvaW50cy5UYWJsZXRQb3J0cmFpdF0pXG4gICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgKHZhbHVlOiBCcmVha3BvaW50U3RhdGUpID0+XG4gICAgICAgICAgICAodGhpcy5pc0hhbmRzZXRPclRhYmxldEluUG9ydHJhaXQgPSB2YWx1ZS5tYXRjaGVzKSxcbiAgICAgICAgKSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuaWlpZk1hbmlmZXN0U2VydmljZS5jdXJyZW50TWFuaWZlc3Quc3Vic2NyaWJlKFxuICAgICAgICAobWFuaWZlc3Q6IE1hbmlmZXN0IHwgbnVsbCkgPT4ge1xuICAgICAgICAgIHRoaXMubWFuaWZlc3QgPSBtYW5pZmVzdDtcbiAgICAgICAgICB0aGlzLnNob3dUb2MgPVxuICAgICAgICAgICAgdGhpcy5tYW5pZmVzdCAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgdGhpcy5tYW5pZmVzdC5zdHJ1Y3R1cmVzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMubWFuaWZlc3Quc3RydWN0dXJlcy5sZW5ndGggPiAwO1xuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMubWltZVJlc2l6ZVNlcnZpY2Uub25SZXNpemUuc3Vic2NyaWJlKChkaW1lbnNpb25zOiBEaW1lbnNpb25zKSA9PiB7XG4gICAgICAgIHRoaXMubWltZUhlaWdodCA9IGRpbWVuc2lvbnMuaGVpZ2h0O1xuICAgICAgICB0aGlzLnJlc2l6ZVRhYkhlaWdodCgpO1xuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMucmVzaXplVGFiSGVpZ2h0KCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIG9uQ2FudmFzQ2hhbmdlZCgpIHtcbiAgICBpZiAodGhpcy5pc0hhbmRzZXRPclRhYmxldEluUG9ydHJhaXQpIHtcbiAgICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXNpemVUYWJIZWlnaHQoKTogdm9pZCB7XG4gICAgbGV0IGhlaWdodCA9IHRoaXMubWltZUhlaWdodDtcblxuICAgIGlmICh0aGlzLmlzSGFuZHNldE9yVGFibGV0SW5Qb3J0cmFpdCkge1xuICAgICAgdGhpcy50YWJIZWlnaHQgPSB7XG4gICAgICAgIG1heEhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IC0gMTI4ICsgJ3B4JyxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodCAtPSAyODg7XG4gICAgICB0aGlzLnRhYkhlaWdodCA9IHtcbiAgICAgICAgbWF4SGVpZ2h0OiBoZWlnaHQgKyAncHgnLFxuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJpbmZvcm1hdGlvbi1jb250YWluZXJcIj5cbiAgQGlmIChpc0hhbmRzZXRPclRhYmxldEluUG9ydHJhaXQpIHtcbiAgICA8bWF0LXRvb2xiYXIgZGF0YS10ZXN0aWQ9XCJtb2JpbGUtdG9vbGJhclwiIGNsYXNzPVwic2Vjb25kYXJ5LXRvb2xiYXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICAgIFthcmlhLWxhYmVsXT1cImludGwuY2xvc2VMYWJlbFwiXG4gICAgICAgIFttYXRUb29sdGlwXT1cImludGwuY2xvc2VMYWJlbFwiXG4gICAgICAgIFttYXREaWFsb2dDbG9zZV09XCJ0cnVlXCJcbiAgICAgID5cbiAgICAgICAgPG1hdC1pY29uPmNsb3NlPC9tYXQtaWNvbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGgxIG1hdC1kaWFsb2ctdGl0bGU+e3sgaW50bC5pbmZvcm1hdGlvbkxhYmVsIH19PC9oMT5cbiAgICA8L21hdC10b29sYmFyPlxuICB9IEBlbHNlIHtcbiAgICA8bWF0LXRvb2xiYXJcbiAgICAgIGRhdGEtdGVzdGlkPVwiZGVza3RvcC10b29sYmFyXCJcbiAgICAgIGNsYXNzPVwic2Vjb25kYXJ5LXRvb2xiYXIganVzdGlmeS1iZXR3ZWVuXCJcbiAgICA+XG4gICAgICA8aDEgbWF0LWRpYWxvZy10aXRsZT57eyBpbnRsLmluZm9ybWF0aW9uTGFiZWwgfX08L2gxPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgICAgW2FyaWEtbGFiZWxdPVwiaW50bC5jbG9zZUxhYmVsXCJcbiAgICAgICAgW21hdFRvb2x0aXBdPVwiaW50bC5jbG9zZUxhYmVsXCJcbiAgICAgICAgW21hdERpYWxvZ0Nsb3NlXT1cInRydWVcIlxuICAgICAgPlxuICAgICAgICA8bWF0LWljb24+Y2xvc2U8L21hdC1pY29uPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9tYXQtdG9vbGJhcj5cbiAgfVxuICA8ZGl2IG1hdC1kaWFsb2ctY29udGVudD5cbiAgICA8bWF0LXRhYi1ncm91cCBbKHNlbGVjdGVkSW5kZXgpXT1cInNlbGVjdGVkSW5kZXhcIj5cbiAgICAgIDxtYXQtdGFiIFtsYWJlbF09XCJpbnRsLm1ldGFkYXRhTGFiZWxcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1jb250YWluZXJcIiBbbmdTdHlsZV09XCJ0YWJIZWlnaHRcIj5cbiAgICAgICAgICA8bWltZS1tZXRhZGF0YT48L21pbWUtbWV0YWRhdGE+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9tYXQtdGFiPlxuICAgICAgQGlmIChzaG93VG9jKSB7XG4gICAgICAgIDxtYXQtdGFiIFtsYWJlbF09XCJpbnRsLnRvY0xhYmVsXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1jb250YWluZXJcIiBbbmdTdHlsZV09XCJ0YWJIZWlnaHRcIj5cbiAgICAgICAgICAgIDxtaW1lLXRvYyAoY2FudmFzQ2hhbmdlZCk9XCJvbkNhbnZhc0NoYW5nZWQoKVwiPjwvbWltZS10b2M+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbWF0LXRhYj5cbiAgICAgIH1cbiAgICA8L21hdC10YWItZ3JvdXA+XG4gIDwvZGl2PlxuPC9kaXY+XG4iXX0=","import { inject, Injectable, } from '@angular/core';\nimport { MatDialog, MatDialogState, } from '@angular/material/dialog';\nimport { Subscription } from 'rxjs';\nimport { MimeResizeService } from '../core/mime-resize-service/mime-resize.service';\nimport { InformationDialogConfigStrategyFactory } from './information-dialog-config-strategy-factory';\nimport { InformationDialogComponent } from './information-dialog.component';\nimport * as i0 from \"@angular/core\";\nexport class InformationDialogService {\n    constructor() {\n        this.dialog = inject(MatDialog);\n        this.informationDialogConfigStrategyFactory = inject(InformationDialogConfigStrategyFactory);\n        this.mimeResizeService = inject(MimeResizeService);\n    }\n    set el(el) {\n        this._el = el;\n    }\n    set viewContainerRef(viewContainerRef) {\n        this._viewContainerRef = viewContainerRef;\n    }\n    initialize() {\n        this.subscriptions = new Subscription();\n        this.subscriptions.add(this.mimeResizeService.onResize.subscribe((rect) => {\n            if (this.isOpen()) {\n                const config = this.getDialogConfig();\n                this.dialogRef?.updatePosition(config.position);\n                this.dialogRef?.updateSize(config.width, config.height);\n            }\n        }));\n    }\n    destroy() {\n        this.close();\n        this.unsubscribe();\n    }\n    open(selectedIndex) {\n        if (!this.isOpen()) {\n            const config = this.getDialogConfig();\n            this.dialogRef = this.dialog.open(InformationDialogComponent, config);\n            if (selectedIndex) {\n                this.dialogRef.componentInstance.selectedIndex = selectedIndex;\n            }\n        }\n    }\n    close() {\n        if (this.isOpen()) {\n            this.dialogRef?.close();\n        }\n    }\n    toggle() {\n        this.isOpen() ? this.close() : this.open();\n    }\n    isOpen() {\n        return this.dialogRef?.getState() === MatDialogState.OPEN;\n    }\n    getSelectedIndex() {\n        return this.dialogRef?.componentInstance?.selectedIndex ?? 0;\n    }\n    getDialogConfig() {\n        if (!this._el || !this._viewContainerRef) {\n            throw new Error('No element or viewContainerRef');\n        }\n        return this.informationDialogConfigStrategyFactory\n            .create()\n            .getConfig(this._el, this._viewContainerRef);\n    }\n    unsubscribe() {\n        if (this.subscriptions) {\n            this.subscriptions.unsubscribe();\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: InformationDialogService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: InformationDialogService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: InformationDialogService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mb3JtYXRpb24tZGlhbG9nLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvaW5mb3JtYXRpb24tZGlhbG9nL2luZm9ybWF0aW9uLWRpYWxvZy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFTCxNQUFNLEVBQ04sVUFBVSxHQUVYLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFDTCxTQUFTLEVBR1QsY0FBYyxHQUNmLE1BQU0sMEJBQTBCLENBQUM7QUFDbEMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNwQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQztBQUNwRixPQUFPLEVBQUUsc0NBQXNDLEVBQUUsTUFBTSw4Q0FBOEMsQ0FBQztBQUN0RyxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQzs7QUFHNUUsTUFBTSxPQUFPLHdCQUF3QjtJQURyQztRQUVtQixXQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNCLDJDQUFzQyxHQUFHLE1BQU0sQ0FDOUQsc0NBQXNDLENBQ3ZDLENBQUM7UUFDZSxzQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztLQTRFaEU7SUF0RUMsSUFBSSxFQUFFLENBQUMsRUFBYztRQUNuQixJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBRUQsSUFBSSxnQkFBZ0IsQ0FBQyxnQkFBa0M7UUFDckQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGdCQUFnQixDQUFDO0lBQzVDLENBQUM7SUFFTSxVQUFVO1FBQ2YsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUNwQixJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQ2pELElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7Z0JBQ2xCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLFNBQVMsRUFBRSxjQUFjLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNoRCxJQUFJLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxRCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUNKLENBQUM7SUFFTSxPQUFPO1FBQ1osSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFTSxJQUFJLENBQUMsYUFBc0I7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDO1lBQ25CLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN0QyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLDBCQUEwQixFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBRXRFLElBQUksYUFBYSxFQUFFLENBQUM7Z0JBQ2xCLElBQUksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztZQUNqRSxDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFTSxLQUFLO1FBQ1YsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUNsQixJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFDO1FBQzFCLENBQUM7SUFDSCxDQUFDO0lBRU0sTUFBTTtRQUNYLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDN0MsQ0FBQztJQUVNLE1BQU07UUFDWCxPQUFPLElBQUksQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLEtBQUssY0FBYyxDQUFDLElBQUksQ0FBQztJQUM1RCxDQUFDO0lBRU0sZ0JBQWdCO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxhQUFhLElBQUksQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFTyxlQUFlO1FBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDekMsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQ3BELENBQUM7UUFFRCxPQUFPLElBQUksQ0FBQyxzQ0FBc0M7YUFDL0MsTUFBTSxFQUFFO2FBQ1IsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVPLFdBQVc7UUFDakIsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQyxDQUFDO0lBQ0gsQ0FBQzs4R0FoRlUsd0JBQXdCO2tIQUF4Qix3QkFBd0I7OzJGQUF4Qix3QkFBd0I7a0JBRHBDLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBFbGVtZW50UmVmLFxuICBpbmplY3QsXG4gIEluamVjdGFibGUsXG4gIFZpZXdDb250YWluZXJSZWYsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgTWF0RGlhbG9nLFxuICBNYXREaWFsb2dDb25maWcsXG4gIE1hdERpYWxvZ1JlZixcbiAgTWF0RGlhbG9nU3RhdGUsXG59IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE1pbWVSZXNpemVTZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9taW1lLXJlc2l6ZS1zZXJ2aWNlL21pbWUtcmVzaXplLnNlcnZpY2UnO1xuaW1wb3J0IHsgSW5mb3JtYXRpb25EaWFsb2dDb25maWdTdHJhdGVneUZhY3RvcnkgfSBmcm9tICcuL2luZm9ybWF0aW9uLWRpYWxvZy1jb25maWctc3RyYXRlZ3ktZmFjdG9yeSc7XG5pbXBvcnQgeyBJbmZvcm1hdGlvbkRpYWxvZ0NvbXBvbmVudCB9IGZyb20gJy4vaW5mb3JtYXRpb24tZGlhbG9nLmNvbXBvbmVudCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBJbmZvcm1hdGlvbkRpYWxvZ1NlcnZpY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IGRpYWxvZyA9IGluamVjdChNYXREaWFsb2cpO1xuICBwcml2YXRlIHJlYWRvbmx5IGluZm9ybWF0aW9uRGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5ID0gaW5qZWN0KFxuICAgIEluZm9ybWF0aW9uRGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5LFxuICApO1xuICBwcml2YXRlIHJlYWRvbmx5IG1pbWVSZXNpemVTZXJ2aWNlID0gaW5qZWN0KE1pbWVSZXNpemVTZXJ2aWNlKTtcbiAgcHJpdmF0ZSBfZWw6IEVsZW1lbnRSZWYgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgX3ZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWYgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgZGlhbG9nUmVmPzogTWF0RGlhbG9nUmVmPEluZm9ybWF0aW9uRGlhbG9nQ29tcG9uZW50PjtcbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zITogU3Vic2NyaXB0aW9uO1xuXG4gIHNldCBlbChlbDogRWxlbWVudFJlZikge1xuICAgIHRoaXMuX2VsID0gZWw7XG4gIH1cblxuICBzZXQgdmlld0NvbnRhaW5lclJlZih2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmKSB7XG4gICAgdGhpcy5fdmlld0NvbnRhaW5lclJlZiA9IHZpZXdDb250YWluZXJSZWY7XG4gIH1cblxuICBwdWJsaWMgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMubWltZVJlc2l6ZVNlcnZpY2Uub25SZXNpemUuc3Vic2NyaWJlKChyZWN0KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzT3BlbigpKSB7XG4gICAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXREaWFsb2dDb25maWcoKTtcbiAgICAgICAgICB0aGlzLmRpYWxvZ1JlZj8udXBkYXRlUG9zaXRpb24oY29uZmlnLnBvc2l0aW9uKTtcbiAgICAgICAgICB0aGlzLmRpYWxvZ1JlZj8udXBkYXRlU2l6ZShjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIHB1YmxpYyBvcGVuKHNlbGVjdGVkSW5kZXg/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuKCkpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuZ2V0RGlhbG9nQ29uZmlnKCk7XG4gICAgICB0aGlzLmRpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nLm9wZW4oSW5mb3JtYXRpb25EaWFsb2dDb21wb25lbnQsIGNvbmZpZyk7XG5cbiAgICAgIGlmIChzZWxlY3RlZEluZGV4KSB7XG4gICAgICAgIHRoaXMuZGlhbG9nUmVmLmNvbXBvbmVudEluc3RhbmNlLnNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZEluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBjbG9zZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgICAgdGhpcy5kaWFsb2dSZWY/LmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHRvZ2dsZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzT3BlbigpID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKCk7XG4gIH1cblxuICBwdWJsaWMgaXNPcGVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRpYWxvZ1JlZj8uZ2V0U3RhdGUoKSA9PT0gTWF0RGlhbG9nU3RhdGUuT1BFTjtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTZWxlY3RlZEluZGV4KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZGlhbG9nUmVmPy5jb21wb25lbnRJbnN0YW5jZT8uc2VsZWN0ZWRJbmRleCA/PyAwO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREaWFsb2dDb25maWcoKTogTWF0RGlhbG9nQ29uZmlnIHtcbiAgICBpZiAoIXRoaXMuX2VsIHx8ICF0aGlzLl92aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGVsZW1lbnQgb3Igdmlld0NvbnRhaW5lclJlZicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmluZm9ybWF0aW9uRGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5XG4gICAgICAuY3JlYXRlKClcbiAgICAgIC5nZXRDb25maWcodGhpcy5fZWwsIHRoaXMuX3ZpZXdDb250YWluZXJSZWYpO1xuICB9XG5cbiAgcHJpdmF0ZSB1bnN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","import { Dimensions } from '../core/models/dimensions';\nexport class MobileViewDialogConfigStrategy {\n    getConfig(elementRef, viewContainerRef) {\n        return {\n            hasBackdrop: false,\n            autoFocus: false,\n            width: '100%',\n            height: '100%',\n            maxWidth: '100% !important',\n            panelClass: ['mime-mobile-dialog', 'mime-dialog', 'view-panel'],\n            viewContainerRef: viewContainerRef,\n        };\n    }\n}\nexport class DesktopViewDialogConfigStrategy {\n    static { this.dialogWidth = 350; }\n    static { this.paddingRight = 16; }\n    constructor(mimeDomHelper) {\n        this.mimeDomHelper = mimeDomHelper;\n    }\n    getConfig(el, viewContainerRef) {\n        const dimensions = this.getPosition(el);\n        return {\n            hasBackdrop: false,\n            autoFocus: true,\n            width: `${DesktopViewDialogConfigStrategy.dialogWidth}px`,\n            position: {\n                top: dimensions.top + 'px',\n                left: dimensions.left + 'px',\n            },\n            panelClass: ['mime-dialog', 'view-panel'],\n            maxWidth: '100% !important',\n            viewContainerRef: viewContainerRef,\n        };\n    }\n    getPosition(el) {\n        const dimensions = this.mimeDomHelper.getBoundingClientRect(el);\n        return new Dimensions({\n            top: dimensions.top + 80,\n            left: dimensions.right -\n                DesktopViewDialogConfigStrategy.dialogWidth -\n                DesktopViewDialogConfigStrategy.paddingRight,\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy1kaWFsb2ctY29uZmlnLXN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL3ZpZXctZGlhbG9nL3ZpZXctZGlhbG9nLWNvbmZpZy1zdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFTdkQsTUFBTSxPQUFPLDhCQUE4QjtJQUdsQyxTQUFTLENBQ2QsVUFBc0IsRUFDdEIsZ0JBQWtDO1FBRWxDLE9BQU87WUFDTCxXQUFXLEVBQUUsS0FBSztZQUNsQixTQUFTLEVBQUUsS0FBSztZQUNoQixLQUFLLEVBQUUsTUFBTTtZQUNiLE1BQU0sRUFBRSxNQUFNO1lBQ2QsUUFBUSxFQUFFLGlCQUFpQjtZQUMzQixVQUFVLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxhQUFhLEVBQUUsWUFBWSxDQUFDO1lBQy9ELGdCQUFnQixFQUFFLGdCQUFnQjtTQUNuQyxDQUFDO0lBQ0osQ0FBQztDQUNGO0FBRUQsTUFBTSxPQUFPLCtCQUErQjthQUduQixnQkFBVyxHQUFHLEdBQUcsQ0FBQzthQUNsQixpQkFBWSxHQUFHLEVBQUUsQ0FBQztJQUd6QyxZQUFZLGFBQTRCO1FBQ3RDLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDO0lBQ3JDLENBQUM7SUFFTSxTQUFTLENBQ2QsRUFBYyxFQUNkLGdCQUFrQztRQUVsQyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hDLE9BQU87WUFDTCxXQUFXLEVBQUUsS0FBSztZQUNsQixTQUFTLEVBQUUsSUFBSTtZQUNmLEtBQUssRUFBRSxHQUFHLCtCQUErQixDQUFDLFdBQVcsSUFBSTtZQUN6RCxRQUFRLEVBQUU7Z0JBQ1IsR0FBRyxFQUFFLFVBQVUsQ0FBQyxHQUFHLEdBQUcsSUFBSTtnQkFDMUIsSUFBSSxFQUFFLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSTthQUM3QjtZQUNELFVBQVUsRUFBRSxDQUFDLGFBQWEsRUFBRSxZQUFZLENBQUM7WUFDekMsUUFBUSxFQUFFLGlCQUFpQjtZQUMzQixnQkFBZ0IsRUFBRSxnQkFBZ0I7U0FDbkMsQ0FBQztJQUNKLENBQUM7SUFFTyxXQUFXLENBQUMsRUFBYztRQUNoQyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLHFCQUFxQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2hFLE9BQU8sSUFBSSxVQUFVLENBQUM7WUFDcEIsR0FBRyxFQUFFLFVBQVUsQ0FBQyxHQUFHLEdBQUcsRUFBRTtZQUN4QixJQUFJLEVBQ0YsVUFBVSxDQUFDLEtBQUs7Z0JBQ2hCLCtCQUErQixDQUFDLFdBQVc7Z0JBQzNDLCtCQUErQixDQUFDLFlBQVk7U0FDL0MsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVsZW1lbnRSZWYsIFZpZXdDb250YWluZXJSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdERpYWxvZ0NvbmZpZyB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyBNaW1lRG9tSGVscGVyIH0gZnJvbSAnLi4vY29yZS9taW1lLWRvbS1oZWxwZXInO1xuaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gJy4uL2NvcmUvbW9kZWxzL2RpbWVuc2lvbnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZpZXdEaWFsb2dDb25maWdTdHJhdGVneSB7XG4gIGdldENvbmZpZyhcbiAgICBlbGVtZW50UmVmOiBFbGVtZW50UmVmIHwgbnVsbCxcbiAgICB2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmLFxuICApOiBNYXREaWFsb2dDb25maWc7XG59XG5cbmV4cG9ydCBjbGFzcyBNb2JpbGVWaWV3RGlhbG9nQ29uZmlnU3RyYXRlZ3lcbiAgaW1wbGVtZW50cyBWaWV3RGlhbG9nQ29uZmlnU3RyYXRlZ3lcbntcbiAgcHVibGljIGdldENvbmZpZyhcbiAgICBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgIHZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWYsXG4gICk6IE1hdERpYWxvZ0NvbmZpZyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc0JhY2tkcm9wOiBmYWxzZSxcbiAgICAgIGF1dG9Gb2N1czogZmFsc2UsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBtYXhXaWR0aDogJzEwMCUgIWltcG9ydGFudCcsXG4gICAgICBwYW5lbENsYXNzOiBbJ21pbWUtbW9iaWxlLWRpYWxvZycsICdtaW1lLWRpYWxvZycsICd2aWV3LXBhbmVsJ10sXG4gICAgICB2aWV3Q29udGFpbmVyUmVmOiB2aWV3Q29udGFpbmVyUmVmLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlc2t0b3BWaWV3RGlhbG9nQ29uZmlnU3RyYXRlZ3lcbiAgaW1wbGVtZW50cyBWaWV3RGlhbG9nQ29uZmlnU3RyYXRlZ3lcbntcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBkaWFsb2dXaWR0aCA9IDM1MDtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBwYWRkaW5nUmlnaHQgPSAxNjtcbiAgcHJpdmF0ZSBtaW1lRG9tSGVscGVyOiBNaW1lRG9tSGVscGVyO1xuXG4gIGNvbnN0cnVjdG9yKG1pbWVEb21IZWxwZXI6IE1pbWVEb21IZWxwZXIpIHtcbiAgICB0aGlzLm1pbWVEb21IZWxwZXIgPSBtaW1lRG9tSGVscGVyO1xuICB9XG5cbiAgcHVibGljIGdldENvbmZpZyhcbiAgICBlbDogRWxlbWVudFJlZixcbiAgICB2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmLFxuICApOiBNYXREaWFsb2dDb25maWcge1xuICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLmdldFBvc2l0aW9uKGVsKTtcbiAgICByZXR1cm4ge1xuICAgICAgaGFzQmFja2Ryb3A6IGZhbHNlLFxuICAgICAgYXV0b0ZvY3VzOiB0cnVlLFxuICAgICAgd2lkdGg6IGAke0Rlc2t0b3BWaWV3RGlhbG9nQ29uZmlnU3RyYXRlZ3kuZGlhbG9nV2lkdGh9cHhgLFxuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgdG9wOiBkaW1lbnNpb25zLnRvcCArICdweCcsXG4gICAgICAgIGxlZnQ6IGRpbWVuc2lvbnMubGVmdCArICdweCcsXG4gICAgICB9LFxuICAgICAgcGFuZWxDbGFzczogWydtaW1lLWRpYWxvZycsICd2aWV3LXBhbmVsJ10sXG4gICAgICBtYXhXaWR0aDogJzEwMCUgIWltcG9ydGFudCcsXG4gICAgICB2aWV3Q29udGFpbmVyUmVmOiB2aWV3Q29udGFpbmVyUmVmLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGdldFBvc2l0aW9uKGVsOiBFbGVtZW50UmVmKTogRGltZW5zaW9ucyB7XG4gICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMubWltZURvbUhlbHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoZWwpO1xuICAgIHJldHVybiBuZXcgRGltZW5zaW9ucyh7XG4gICAgICB0b3A6IGRpbWVuc2lvbnMudG9wICsgODAsXG4gICAgICBsZWZ0OlxuICAgICAgICBkaW1lbnNpb25zLnJpZ2h0IC1cbiAgICAgICAgRGVza3RvcFZpZXdEaWFsb2dDb25maWdTdHJhdGVneS5kaWFsb2dXaWR0aCAtXG4gICAgICAgIERlc2t0b3BWaWV3RGlhbG9nQ29uZmlnU3RyYXRlZ3kucGFkZGluZ1JpZ2h0LFxuICAgIH0pO1xuICB9XG59XG4iXX0=","import { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { inject, Injectable } from '@angular/core';\nimport { MimeDomHelper } from '../core/mime-dom-helper';\nimport { DesktopViewDialogConfigStrategy, MobileViewDialogConfigStrategy, } from './view-dialog-config-strategy';\nimport * as i0 from \"@angular/core\";\nexport class ViewDialogConfigStrategyFactory {\n    constructor() {\n        this.breakpointObserver = inject(BreakpointObserver);\n        this.mimeDomHelper = inject(MimeDomHelper);\n    }\n    create() {\n        const isHandsetOrTabletInPortrait = this.breakpointObserver.isMatched([\n            Breakpoints.Handset,\n            Breakpoints.TabletPortrait,\n        ]);\n        return isHandsetOrTabletInPortrait\n            ? new MobileViewDialogConfigStrategy()\n            : new DesktopViewDialogConfigStrategy(this.mimeDomHelper);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewDialogConfigStrategyFactory, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewDialogConfigStrategyFactory }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewDialogConfigStrategyFactory, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy1kaWFsb2ctY29uZmlnLXN0cmF0ZWd5LWZhY3RvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvdmlldy1kaWFsb2cvdmlldy1kaWFsb2ctY29uZmlnLXN0cmF0ZWd5LWZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFdBQVcsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN4RCxPQUFPLEVBQ0wsK0JBQStCLEVBQy9CLDhCQUE4QixHQUUvQixNQUFNLCtCQUErQixDQUFDOztBQUd2QyxNQUFNLE9BQU8sK0JBQStCO0lBRDVDO1FBRW1CLHVCQUFrQixHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2hELGtCQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0tBWXhEO0lBVlEsTUFBTTtRQUNYLE1BQU0sMkJBQTJCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQztZQUNwRSxXQUFXLENBQUMsT0FBTztZQUNuQixXQUFXLENBQUMsY0FBYztTQUMzQixDQUFDLENBQUM7UUFFSCxPQUFPLDJCQUEyQjtZQUNoQyxDQUFDLENBQUMsSUFBSSw4QkFBOEIsRUFBRTtZQUN0QyxDQUFDLENBQUMsSUFBSSwrQkFBK0IsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDOUQsQ0FBQzs4R0FiVSwrQkFBK0I7a0hBQS9CLCtCQUErQjs7MkZBQS9CLCtCQUErQjtrQkFEM0MsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJyZWFrcG9pbnRPYnNlcnZlciwgQnJlYWtwb2ludHMgfSBmcm9tICdAYW5ndWxhci9jZGsvbGF5b3V0JztcbmltcG9ydCB7IGluamVjdCwgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWltZURvbUhlbHBlciB9IGZyb20gJy4uL2NvcmUvbWltZS1kb20taGVscGVyJztcbmltcG9ydCB7XG4gIERlc2t0b3BWaWV3RGlhbG9nQ29uZmlnU3RyYXRlZ3ksXG4gIE1vYmlsZVZpZXdEaWFsb2dDb25maWdTdHJhdGVneSxcbiAgVmlld0RpYWxvZ0NvbmZpZ1N0cmF0ZWd5LFxufSBmcm9tICcuL3ZpZXctZGlhbG9nLWNvbmZpZy1zdHJhdGVneSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBWaWV3RGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5IHtcbiAgcHJpdmF0ZSByZWFkb25seSBicmVha3BvaW50T2JzZXJ2ZXIgPSBpbmplY3QoQnJlYWtwb2ludE9ic2VydmVyKTtcbiAgcHJpdmF0ZSByZWFkb25seSBtaW1lRG9tSGVscGVyID0gaW5qZWN0KE1pbWVEb21IZWxwZXIpO1xuXG4gIHB1YmxpYyBjcmVhdGUoKTogVmlld0RpYWxvZ0NvbmZpZ1N0cmF0ZWd5IHtcbiAgICBjb25zdCBpc0hhbmRzZXRPclRhYmxldEluUG9ydHJhaXQgPSB0aGlzLmJyZWFrcG9pbnRPYnNlcnZlci5pc01hdGNoZWQoW1xuICAgICAgQnJlYWtwb2ludHMuSGFuZHNldCxcbiAgICAgIEJyZWFrcG9pbnRzLlRhYmxldFBvcnRyYWl0LFxuICAgIF0pO1xuXG4gICAgcmV0dXJuIGlzSGFuZHNldE9yVGFibGV0SW5Qb3J0cmFpdFxuICAgICAgPyBuZXcgTW9iaWxlVmlld0RpYWxvZ0NvbmZpZ1N0cmF0ZWd5KClcbiAgICAgIDogbmV3IERlc2t0b3BWaWV3RGlhbG9nQ29uZmlnU3RyYXRlZ3kodGhpcy5taW1lRG9tSGVscGVyKTtcbiAgfVxufVxuIl19","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class IconComponent {\n    constructor() {\n        this.iconName = '';\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: IconComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: IconComponent, isStandalone: true, selector: \"mime-icon\", inputs: { iconName: \"iconName\" }, ngImport: i0, template: \"<div class=\\\"mat-icon\\\">\\n  @if (iconName === 'single_page_display') {\\n    <div class=\\\"single-page-display\\\">\\n      <svg\\n        version=\\\"1.1\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n        viewBox=\\\"0 0 100 100\\\"\\n        preserveAspectRatio=\\\"xMidYMin slice\\\"\\n      >\\n        <style type=\\\"text/css\\\">\\n          .st0 {\\n            clip-path: url(#SVGID_2_);\\n          }\\n        </style>\\n        <g>\\n          <defs><rect width=\\\"100%\\\" height=\\\"100%\\\" /></defs>\\n          <clipPath>\\n            <use xlink:href=\\\"#SVGID_1_\\\" style=\\\"overflow: visible\\\" />\\n          </clipPath>\\n          <path\\n            class=\\\"st0\\\"\\n            d=\\\"M21.7,25.2H8.3v2.7h13.4V25.2z M21.7,18.1H8.3v2.7h13.4V18.1z M26.1,31.8H4V4.1h13.6v8.4h8.5V31.8z M30,31.6\\n          V11.4L18.7,0H4.3C4.3,0,0,0,0,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C25.8,35.9,30,35.9,30,31.6\\\"\\n          />\\n        </g>\\n      </svg>\\n    </div>\\n  } @else if (iconName === 'two_page_display') {\\n    <svg\\n      version=\\\"1.1\\\"\\n      xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n      xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n      viewBox=\\\"0 0 100 100\\\"\\n      preserveAspectRatio=\\\"xMidYMin slice\\\"\\n    >\\n      <style type=\\\"text/css\\\">\\n        .st0 {\\n          clip-path: url(#SVGID_2_);\\n        }\\n      </style>\\n      <g>\\n        <defs><rect width=\\\"100%\\\" height=\\\"100%\\\" /></defs>\\n        <clipPath>\\n          <use xlink:href=\\\"#SVGID_3_\\\" style=\\\"overflow: visible\\\" />\\n        </clipPath>\\n        <path\\n          class=\\\"st0\\\"\\n          d=\\\"M52.5,25.2H39.1v2.7h13.4V25.2z M52.5,18.1H39.1v2.7h13.4V18.1z M56.8,31.8H34.7V4.1h13.6v8.4h8.5V31.8z\\n        M60.8,31.6V11.4L49.4,0H35c0,0-4.3,0-4.3,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C56.6,35.9,60.8,35.9,60.8,31.6\\\"\\n        />\\n        <path\\n          class=\\\"st0\\\"\\n          d=\\\"M21.7,25.2H8.3v2.7h13.4V25.2z M21.7,18.1H8.3v2.7h13.4V18.1z M21.7,11.1H8.3v2.7h13.4V11.1z M26.1,31.8H4V4.1\\n       h22.1V31.8z M30,31.6V4.3c0,0,0-4.3-4.3-4.3H4.3C4.3,0,0,0,0,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C25.8,35.9,30,35.9,30,31.6\\\"\\n        />\\n      </g>\\n    </svg>\\n  }\\n</div>\\n\", styles: [\".mat-icon{vertical-align:middle}.single-page-display{margin-left:5px}svg{height:40px;width:40px}\\n\"], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: IconComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-icon', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"mat-icon\\\">\\n  @if (iconName === 'single_page_display') {\\n    <div class=\\\"single-page-display\\\">\\n      <svg\\n        version=\\\"1.1\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n        viewBox=\\\"0 0 100 100\\\"\\n        preserveAspectRatio=\\\"xMidYMin slice\\\"\\n      >\\n        <style type=\\\"text/css\\\">\\n          .st0 {\\n            clip-path: url(#SVGID_2_);\\n          }\\n        </style>\\n        <g>\\n          <defs><rect width=\\\"100%\\\" height=\\\"100%\\\" /></defs>\\n          <clipPath>\\n            <use xlink:href=\\\"#SVGID_1_\\\" style=\\\"overflow: visible\\\" />\\n          </clipPath>\\n          <path\\n            class=\\\"st0\\\"\\n            d=\\\"M21.7,25.2H8.3v2.7h13.4V25.2z M21.7,18.1H8.3v2.7h13.4V18.1z M26.1,31.8H4V4.1h13.6v8.4h8.5V31.8z M30,31.6\\n          V11.4L18.7,0H4.3C4.3,0,0,0,0,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C25.8,35.9,30,35.9,30,31.6\\\"\\n          />\\n        </g>\\n      </svg>\\n    </div>\\n  } @else if (iconName === 'two_page_display') {\\n    <svg\\n      version=\\\"1.1\\\"\\n      xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n      xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n      viewBox=\\\"0 0 100 100\\\"\\n      preserveAspectRatio=\\\"xMidYMin slice\\\"\\n    >\\n      <style type=\\\"text/css\\\">\\n        .st0 {\\n          clip-path: url(#SVGID_2_);\\n        }\\n      </style>\\n      <g>\\n        <defs><rect width=\\\"100%\\\" height=\\\"100%\\\" /></defs>\\n        <clipPath>\\n          <use xlink:href=\\\"#SVGID_3_\\\" style=\\\"overflow: visible\\\" />\\n        </clipPath>\\n        <path\\n          class=\\\"st0\\\"\\n          d=\\\"M52.5,25.2H39.1v2.7h13.4V25.2z M52.5,18.1H39.1v2.7h13.4V18.1z M56.8,31.8H34.7V4.1h13.6v8.4h8.5V31.8z\\n        M60.8,31.6V11.4L49.4,0H35c0,0-4.3,0-4.3,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C56.6,35.9,60.8,35.9,60.8,31.6\\\"\\n        />\\n        <path\\n          class=\\\"st0\\\"\\n          d=\\\"M21.7,25.2H8.3v2.7h13.4V25.2z M21.7,18.1H8.3v2.7h13.4V18.1z M21.7,11.1H8.3v2.7h13.4V11.1z M26.1,31.8H4V4.1\\n       h22.1V31.8z M30,31.6V4.3c0,0,0-4.3-4.3-4.3H4.3C4.3,0,0,0,0,4.3v27.4c0,0,0,4.3,4.3,4.3h21.5C25.8,35.9,30,35.9,30,31.6\\\"\\n        />\\n      </g>\\n    </svg>\\n  }\\n</div>\\n\", styles: [\".mat-icon{vertical-align:middle}.single-page-display{margin-left:5px}svg{height:40px;width:40px}\\n\"] }]\n        }], propDecorators: { iconName: [{\n                type: Input\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWNvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvdmlldy1kaWFsb2cvaWNvbi9pY29uLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi92aWV3LWRpYWxvZy9pY29uL2ljb24uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHVCQUF1QixFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7O0FBUTFFLE1BQU0sT0FBTyxhQUFhO0lBTjFCO1FBT1csYUFBUSxHQUFHLEVBQUUsQ0FBQztLQUN4Qjs4R0FGWSxhQUFhO2tHQUFiLGFBQWEsdUdDUjFCLG9uRUE0REE7OzJGRHBEYSxhQUFhO2tCQU56QixTQUFTOytCQUNFLFdBQVcsbUJBR0osdUJBQXVCLENBQUMsTUFBTTs7c0JBRzlDLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtaW1lLWljb24nLFxuICB0ZW1wbGF0ZVVybDogJy4vaWNvbi5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2ljb24uY29tcG9uZW50LnNjc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIEljb25Db21wb25lbnQge1xuICBASW5wdXQoKSBpY29uTmFtZSA9ICcnO1xufVxuIiwiPGRpdiBjbGFzcz1cIm1hdC1pY29uXCI+XG4gIEBpZiAoaWNvbk5hbWUgPT09ICdzaW5nbGVfcGFnZV9kaXNwbGF5Jykge1xuICAgIDxkaXYgY2xhc3M9XCJzaW5nbGUtcGFnZS1kaXNwbGF5XCI+XG4gICAgICA8c3ZnXG4gICAgICAgIHZlcnNpb249XCIxLjFcIlxuICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgICAgICAgdmlld0JveD1cIjAgMCAxMDAgMTAwXCJcbiAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWluIHNsaWNlXCJcbiAgICAgID5cbiAgICAgICAgPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPlxuICAgICAgICAgIC5zdDAge1xuICAgICAgICAgICAgY2xpcC1wYXRoOiB1cmwoI1NWR0lEXzJfKTtcbiAgICAgICAgICB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDxnPlxuICAgICAgICAgIDxkZWZzPjxyZWN0IHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiAvPjwvZGVmcz5cbiAgICAgICAgICA8Y2xpcFBhdGg+XG4gICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIjU1ZHSURfMV9cIiBzdHlsZT1cIm92ZXJmbG93OiB2aXNpYmxlXCIgLz5cbiAgICAgICAgICA8L2NsaXBQYXRoPlxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBjbGFzcz1cInN0MFwiXG4gICAgICAgICAgICBkPVwiTTIxLjcsMjUuMkg4LjN2Mi43aDEzLjRWMjUuMnogTTIxLjcsMTguMUg4LjN2Mi43aDEzLjRWMTguMXogTTI2LjEsMzEuOEg0VjQuMWgxMy42djguNGg4LjVWMzEuOHogTTMwLDMxLjZcbiAgICAgICAgICBWMTEuNEwxOC43LDBINC4zQzQuMywwLDAsMCwwLDQuM3YyNy40YzAsMCwwLDQuMyw0LjMsNC4zaDIxLjVDMjUuOCwzNS45LDMwLDM1LjksMzAsMzEuNlwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9nPlxuICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG4gIH0gQGVsc2UgaWYgKGljb25OYW1lID09PSAndHdvX3BhZ2VfZGlzcGxheScpIHtcbiAgICA8c3ZnXG4gICAgICB2ZXJzaW9uPVwiMS4xXCJcbiAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgICAgIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiXG4gICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaW4gc2xpY2VcIlxuICAgID5cbiAgICAgIDxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5cbiAgICAgICAgLnN0MCB7XG4gICAgICAgICAgY2xpcC1wYXRoOiB1cmwoI1NWR0lEXzJfKTtcbiAgICAgICAgfVxuICAgICAgPC9zdHlsZT5cbiAgICAgIDxnPlxuICAgICAgICA8ZGVmcz48cmVjdCB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgLz48L2RlZnM+XG4gICAgICAgIDxjbGlwUGF0aD5cbiAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIjU1ZHSURfM19cIiBzdHlsZT1cIm92ZXJmbG93OiB2aXNpYmxlXCIgLz5cbiAgICAgICAgPC9jbGlwUGF0aD5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBjbGFzcz1cInN0MFwiXG4gICAgICAgICAgZD1cIk01Mi41LDI1LjJIMzkuMXYyLjdoMTMuNFYyNS4yeiBNNTIuNSwxOC4xSDM5LjF2Mi43aDEzLjRWMTguMXogTTU2LjgsMzEuOEgzNC43VjQuMWgxMy42djguNGg4LjVWMzEuOHpcbiAgICAgICAgTTYwLjgsMzEuNlYxMS40TDQ5LjQsMEgzNWMwLDAtNC4zLDAtNC4zLDQuM3YyNy40YzAsMCwwLDQuMyw0LjMsNC4zaDIxLjVDNTYuNiwzNS45LDYwLjgsMzUuOSw2MC44LDMxLjZcIlxuICAgICAgICAvPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIGNsYXNzPVwic3QwXCJcbiAgICAgICAgICBkPVwiTTIxLjcsMjUuMkg4LjN2Mi43aDEzLjRWMjUuMnogTTIxLjcsMTguMUg4LjN2Mi43aDEzLjRWMTguMXogTTIxLjcsMTEuMUg4LjN2Mi43aDEzLjRWMTEuMXogTTI2LjEsMzEuOEg0VjQuMVxuICAgICAgIGgyMi4xVjMxLjh6IE0zMCwzMS42VjQuM2MwLDAsMC00LjMtNC4zLTQuM0g0LjNDNC4zLDAsMCwwLDAsNC4zdjI3LjRjMCwwLDAsNC4zLDQuMyw0LjNoMjEuNUMyNS44LDM1LjksMzAsMzUuOSwzMCwzMS42XCJcbiAgICAgICAgLz5cbiAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbiAgfVxuPC9kaXY+XG4iXX0=","import { BreakpointObserver, Breakpoints, } from '@angular/cdk/layout';\nimport { NgStyle } from '@angular/common';\nimport { ChangeDetectorRef, Component, inject, } from '@angular/core';\nimport { MatIconButton } from '@angular/material/button';\nimport { MatButtonToggle } from '@angular/material/button-toggle';\nimport { MatDialogClose, MatDialogContent, MatDialogTitle, } from '@angular/material/dialog';\nimport { MatDivider } from '@angular/material/divider';\nimport { MatIcon } from '@angular/material/icon';\nimport { MatToolbar } from '@angular/material/toolbar';\nimport { MatTooltip } from '@angular/material/tooltip';\nimport { Subscription } from 'rxjs';\nimport { AltoService } from '../core/alto-service/alto.service';\nimport { IiifManifestService } from '../core/iiif-manifest-service/iiif-manifest-service';\nimport { ManifestUtils } from '../core/iiif-manifest-service/iiif-manifest-utils';\nimport { MimeViewerIntl } from '../core/intl';\nimport { MimeResizeService } from '../core/mime-resize-service/mime-resize.service';\nimport { RecognizedTextMode } from '../core/models';\nimport { ViewerLayout } from '../core/models/viewer-layout';\nimport { ViewerLayoutService } from '../core/viewer-layout-service/viewer-layout-service';\nimport { IconComponent } from './icon/icon.component';\nimport * as i0 from \"@angular/core\";\nexport class ViewDialogComponent {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.tabHeight = {};\n        this.isHandsetOrTabletInPortrait = false;\n        this.viewerLayout = ViewerLayout.ONE_PAGE;\n        this.ViewerLayout = ViewerLayout;\n        this.isPagedManifest = false;\n        this.hasRecognizedTextContent = false;\n        this.recognizedTextMode = RecognizedTextMode.NONE;\n        this.RecognizedTextMode = RecognizedTextMode;\n        this.breakpointObserver = inject(BreakpointObserver);\n        this.cdr = inject(ChangeDetectorRef);\n        this.viewerLayoutService = inject(ViewerLayoutService);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.altoService = inject(AltoService);\n        this.mimeResizeService = inject(MimeResizeService);\n        this.mimeHeight = 0;\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.breakpointObserver\n            .observe([Breakpoints.Handset, Breakpoints.TabletPortrait])\n            .subscribe((value) => (this.isHandsetOrTabletInPortrait = value.matches)));\n        this.subscriptions.add(this.viewerLayoutService.onChange.subscribe((viewerLayout) => {\n            this.viewerLayout = viewerLayout;\n        }));\n        this.subscriptions.add(this.altoService.onRecognizedTextContentModeChange$.subscribe((recognizedTextModeChanges) => {\n            this.recognizedTextMode = recognizedTextModeChanges.currentValue;\n        }));\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            this.isPagedManifest = manifest\n                ? ManifestUtils.isManifestPaged(manifest)\n                : false;\n            this.hasRecognizedTextContent = manifest\n                ? ManifestUtils.hasRecognizedTextContent(manifest)\n                : false;\n        }));\n        this.subscriptions.add(this.mimeResizeService.onResize.subscribe((dimensions) => {\n            this.mimeHeight = dimensions.height;\n            this.resizeTabHeight();\n        }));\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    setLayoutOnePage() {\n        this.viewerLayoutService.setLayout(ViewerLayout.ONE_PAGE);\n    }\n    setLayoutTwoPage() {\n        this.viewerLayoutService.setLayout(ViewerLayout.TWO_PAGE);\n    }\n    closeRecognizedTextContent() {\n        this.altoService.closeRecognizedTextContent();\n    }\n    showRecognizedTextContentInSplitView() {\n        this.altoService.showRecognizedTextContentInSplitView();\n    }\n    showRecognizedTextContentOnly() {\n        this.altoService.showRecognizedTextContentOnly();\n    }\n    resizeTabHeight() {\n        let height = this.mimeHeight;\n        if (this.isHandsetOrTabletInPortrait) {\n            this.tabHeight = {\n                maxHeight: window.innerHeight - 128 + 'px',\n            };\n        }\n        else {\n            height -= 220;\n            this.tabHeight = {\n                maxHeight: height + 'px',\n            };\n        }\n        this.cdr.detectChanges();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: ViewDialogComponent, isStandalone: true, selector: \"mime-view-dialog\", ngImport: i0, template: \"@if (isHandsetOrTabletInPortrait) {\\n  <mat-toolbar class=\\\"secondary-toolbar\\\" data-testid=\\\"mobile-toolbar\\\">\\n    <button\\n      data-testid=\\\"ngx-mime-view-dialog-close-button\\\"\\n      mat-icon-button\\n      [aria-label]=\\\"intl.closeLabel\\\"\\n      [matTooltip]=\\\"intl.closeLabel\\\"\\n      [matDialogClose]=\\\"true\\\"\\n    >\\n      <mat-icon>close</mat-icon>\\n    </button>\\n    <h1 mat-dialog-title>{{ intl.layoutMenuLabel }}</h1>\\n  </mat-toolbar>\\n} @else {\\n  <mat-toolbar\\n    class=\\\"secondary-toolbar justify-between\\\"\\n    data-testid=\\\"desktop-toolbar\\\"\\n  >\\n    <h1 mat-dialog-title data-testid=\\\"ngx-mime-heading-desktop\\\">{{\\n      intl.layoutMenuLabel\\n    }}</h1>\\n    <button\\n      data-testid=\\\"ngx-mime-view-dialog-close-button\\\"\\n      mat-icon-button\\n      [aria-label]=\\\"intl.closeLabel\\\"\\n      [matTooltip]=\\\"intl.closeLabel\\\"\\n      [matDialogClose]=\\\"true\\\"\\n    >\\n      <mat-icon>close</mat-icon>\\n    </button>\\n  </mat-toolbar>\\n}\\n<mat-dialog-content [ngStyle]=\\\"tabHeight\\\">\\n  @if (isPagedManifest) {\\n    <section data-testid=\\\"page-layout\\\">\\n      <h2>{{ intl.pageLayoutLabel }}</h2>\\n      <div\\n        class=\\\"flex flex-col gap-y-2\\\"\\n        role=\\\"group\\\"\\n        [attr.aria-label]=\\\"intl.pageLayoutLabel\\\"\\n      >\\n        <div class=\\\"flex items-center\\\">\\n          <mat-button-toggle\\n            data-testid=\\\"ngx-mime-single-page-view-button\\\"\\n            [aria-label]=\\\"intl.singlePageViewLabel\\\"\\n            [value]=\\\"ViewerLayout.ONE_PAGE\\\"\\n            [checked]=\\\"viewerLayout === ViewerLayout.ONE_PAGE\\\"\\n            (click)=\\\"setLayoutOnePage()\\\"\\n          >\\n            <mime-icon [iconName]=\\\"'single_page_display'\\\"> </mime-icon>\\n          </mat-button-toggle>\\n          <div class=\\\"label\\\">{{ intl.singlePageViewLabel }}</div>\\n        </div>\\n        <div class=\\\"flex items-center\\\">\\n          <mat-button-toggle\\n            data-testid=\\\"ngx-mime-two-page-view-button\\\"\\n            [aria-label]=\\\"intl.twoPageViewLabel\\\"\\n            [value]=\\\"ViewerLayout.TWO_PAGE\\\"\\n            [checked]=\\\"viewerLayout === ViewerLayout.TWO_PAGE\\\"\\n            (click)=\\\"setLayoutTwoPage()\\\"\\n          >\\n            <mime-icon [iconName]=\\\"'two_page_display'\\\"> </mime-icon>\\n          </mat-button-toggle>\\n          <div class=\\\"label\\\">{{ intl.twoPageViewLabel }}</div>\\n        </div>\\n      </div>\\n    </section>\\n  }\\n  @if (hasRecognizedTextContent) {\\n    <mat-divider></mat-divider>\\n    <section data-testid=\\\"recognized-text-content\\\">\\n      <h2>{{ intl.digitalTextLabel }}</h2>\\n      <div\\n        class=\\\"flex flex-col gap-y-2\\\"\\n        role=\\\"group\\\"\\n        [attr.aria-label]=\\\"intl.digitalTextLabel\\\"\\n      >\\n        <div class=\\\"flex items-center\\\">\\n          <mat-button-toggle\\n            data-testid=\\\"ngx-mime-recognized-text-content-close-button\\\"\\n            [aria-label]=\\\"intl.recognizedTextContentCloseLabel\\\"\\n            [value]=\\\"RecognizedTextMode.NONE\\\"\\n            [checked]=\\\"recognizedTextMode === RecognizedTextMode.NONE\\\"\\n            (click)=\\\"closeRecognizedTextContent()\\\"\\n          >\\n            <mat-icon>hide_source</mat-icon>\\n          </mat-button-toggle>\\n          <div class=\\\"label\\\">{{ intl.recognizedTextContentCloseLabel }}</div>\\n        </div>\\n        <div class=\\\"flex items-center\\\">\\n          <mat-button-toggle\\n            data-testid=\\\"ngx-mime-recognized-text-content-split-view-button\\\"\\n            [aria-label]=\\\"intl.recognizedTextContentInSplitViewLabel\\\"\\n            [value]=\\\"RecognizedTextMode.SPLIT\\\"\\n            [checked]=\\\"recognizedTextMode === RecognizedTextMode.SPLIT\\\"\\n            (click)=\\\"showRecognizedTextContentInSplitView()\\\"\\n          >\\n            <mat-icon>view_sidebar</mat-icon>\\n          </mat-button-toggle>\\n          <div class=\\\"label\\\">{{\\n            intl.recognizedTextContentInSplitViewLabel\\n          }}</div>\\n        </div>\\n        <div class=\\\"flex items-center\\\">\\n          <mat-button-toggle\\n            data-testid=\\\"ngx-mime-recognized-text-content-only-button\\\"\\n            [aria-label]=\\\"intl.showRecognizedTextContentLabel\\\"\\n            [value]=\\\"RecognizedTextMode.ONLY\\\"\\n            [checked]=\\\"recognizedTextMode === RecognizedTextMode.ONLY\\\"\\n            (click)=\\\"showRecognizedTextContentOnly()\\\"\\n          >\\n            <mat-icon>article</mat-icon>\\n          </mat-button-toggle>\\n          <div class=\\\"label\\\">{{ intl.showRecognizedTextContentLabel }}</div>\\n        </div>\\n      </div>\\n    </section>\\n  }\\n</mat-dialog-content>\\n\", styles: [\".mat-mdc-dialog-title{color:inherit;padding:0 2px 16px}::ng-deep .view-panel>.mat-mdc-dialog-container{padding:0!important;overflow:initial}section{padding:16px 0}.label{margin-left:16px}.mat-mdc-dialog-content{margin:0;padding:0 16px}\\n\"], dependencies: [{ kind: \"component\", type: MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { kind: \"component\", type: MatIconButton, selector: \"button[mat-icon-button], a[mat-icon-button], button[matIconButton], a[matIconButton]\", exportAs: [\"matButton\", \"matAnchor\"] }, { kind: \"directive\", type: MatTooltip, selector: \"[matTooltip]\", inputs: [\"matTooltipPosition\", \"matTooltipPositionAtOrigin\", \"matTooltipDisabled\", \"matTooltipShowDelay\", \"matTooltipHideDelay\", \"matTooltipTouchGestures\", \"matTooltip\", \"matTooltipClass\"], exportAs: [\"matTooltip\"] }, { kind: \"directive\", type: MatDialogClose, selector: \"[mat-dialog-close], [matDialogClose]\", inputs: [\"aria-label\", \"type\", \"mat-dialog-close\", \"matDialogClose\"], exportAs: [\"matDialogClose\"] }, { kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"directive\", type: MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { kind: \"directive\", type: MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }, { kind: \"directive\", type: NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { kind: \"component\", type: MatButtonToggle, selector: \"mat-button-toggle\", inputs: [\"aria-label\", \"aria-labelledby\", \"id\", \"name\", \"value\", \"tabIndex\", \"disableRipple\", \"appearance\", \"checked\", \"disabled\", \"disabledInteractive\"], outputs: [\"change\"], exportAs: [\"matButtonToggle\"] }, { kind: \"component\", type: IconComponent, selector: \"mime-icon\", inputs: [\"iconName\"] }, { kind: \"component\", type: MatDivider, selector: \"mat-divider\", inputs: [\"vertical\", \"inset\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-view-dialog', imports: [\n                        MatToolbar,\n                        MatIconButton,\n                        MatTooltip,\n                        MatDialogClose,\n                        MatIcon,\n                        MatDialogTitle,\n                        MatDialogContent,\n                        NgStyle,\n                        MatButtonToggle,\n                        IconComponent,\n                        MatDivider,\n                    ], template: \"@if (isHandsetOrTabletInPortrait) {\\n  <mat-toolbar class=\\\"secondary-toolbar\\\" data-testid=\\\"mobile-toolbar\\\">\\n    <button\\n      data-testid=\\\"ngx-mime-view-dialog-close-button\\\"\\n      mat-icon-button\\n      [aria-label]=\\\"intl.closeLabel\\\"\\n      [matTooltip]=\\\"intl.closeLabel\\\"\\n      [matDialogClose]=\\\"true\\\"\\n    >\\n      <mat-icon>close</mat-icon>\\n    </button>\\n    <h1 mat-dialog-title>{{ intl.layoutMenuLabel }}</h1>\\n  </mat-toolbar>\\n} @else {\\n  <mat-toolbar\\n    class=\\\"secondary-toolbar justify-between\\\"\\n    data-testid=\\\"desktop-toolbar\\\"\\n  >\\n    <h1 mat-dialog-title data-testid=\\\"ngx-mime-heading-desktop\\\">{{\\n      intl.layoutMenuLabel\\n    }}</h1>\\n    <button\\n      data-testid=\\\"ngx-mime-view-dialog-close-button\\\"\\n      mat-icon-button\\n      [aria-label]=\\\"intl.closeLabel\\\"\\n      [matTooltip]=\\\"intl.closeLabel\\\"\\n      [matDialogClose]=\\\"true\\\"\\n    >\\n      <mat-icon>close</mat-icon>\\n    </button>\\n  </mat-toolbar>\\n}\\n<mat-dialog-content [ngStyle]=\\\"tabHeight\\\">\\n  @if (isPagedManifest) {\\n    <section data-testid=\\\"page-layout\\\">\\n      <h2>{{ intl.pageLayoutLabel }}</h2>\\n      <div\\n        class=\\\"flex flex-col gap-y-2\\\"\\n        role=\\\"group\\\"\\n        [attr.aria-label]=\\\"intl.pageLayoutLabel\\\"\\n      >\\n        <div class=\\\"flex items-center\\\">\\n          <mat-button-toggle\\n            data-testid=\\\"ngx-mime-single-page-view-button\\\"\\n            [aria-label]=\\\"intl.singlePageViewLabel\\\"\\n            [value]=\\\"ViewerLayout.ONE_PAGE\\\"\\n            [checked]=\\\"viewerLayout === ViewerLayout.ONE_PAGE\\\"\\n            (click)=\\\"setLayoutOnePage()\\\"\\n          >\\n            <mime-icon [iconName]=\\\"'single_page_display'\\\"> </mime-icon>\\n          </mat-button-toggle>\\n          <div class=\\\"label\\\">{{ intl.singlePageViewLabel }}</div>\\n        </div>\\n        <div class=\\\"flex items-center\\\">\\n          <mat-button-toggle\\n            data-testid=\\\"ngx-mime-two-page-view-button\\\"\\n            [aria-label]=\\\"intl.twoPageViewLabel\\\"\\n            [value]=\\\"ViewerLayout.TWO_PAGE\\\"\\n            [checked]=\\\"viewerLayout === ViewerLayout.TWO_PAGE\\\"\\n            (click)=\\\"setLayoutTwoPage()\\\"\\n          >\\n            <mime-icon [iconName]=\\\"'two_page_display'\\\"> </mime-icon>\\n          </mat-button-toggle>\\n          <div class=\\\"label\\\">{{ intl.twoPageViewLabel }}</div>\\n        </div>\\n      </div>\\n    </section>\\n  }\\n  @if (hasRecognizedTextContent) {\\n    <mat-divider></mat-divider>\\n    <section data-testid=\\\"recognized-text-content\\\">\\n      <h2>{{ intl.digitalTextLabel }}</h2>\\n      <div\\n        class=\\\"flex flex-col gap-y-2\\\"\\n        role=\\\"group\\\"\\n        [attr.aria-label]=\\\"intl.digitalTextLabel\\\"\\n      >\\n        <div class=\\\"flex items-center\\\">\\n          <mat-button-toggle\\n            data-testid=\\\"ngx-mime-recognized-text-content-close-button\\\"\\n            [aria-label]=\\\"intl.recognizedTextContentCloseLabel\\\"\\n            [value]=\\\"RecognizedTextMode.NONE\\\"\\n            [checked]=\\\"recognizedTextMode === RecognizedTextMode.NONE\\\"\\n            (click)=\\\"closeRecognizedTextContent()\\\"\\n          >\\n            <mat-icon>hide_source</mat-icon>\\n          </mat-button-toggle>\\n          <div class=\\\"label\\\">{{ intl.recognizedTextContentCloseLabel }}</div>\\n        </div>\\n        <div class=\\\"flex items-center\\\">\\n          <mat-button-toggle\\n            data-testid=\\\"ngx-mime-recognized-text-content-split-view-button\\\"\\n            [aria-label]=\\\"intl.recognizedTextContentInSplitViewLabel\\\"\\n            [value]=\\\"RecognizedTextMode.SPLIT\\\"\\n            [checked]=\\\"recognizedTextMode === RecognizedTextMode.SPLIT\\\"\\n            (click)=\\\"showRecognizedTextContentInSplitView()\\\"\\n          >\\n            <mat-icon>view_sidebar</mat-icon>\\n          </mat-button-toggle>\\n          <div class=\\\"label\\\">{{\\n            intl.recognizedTextContentInSplitViewLabel\\n          }}</div>\\n        </div>\\n        <div class=\\\"flex items-center\\\">\\n          <mat-button-toggle\\n            data-testid=\\\"ngx-mime-recognized-text-content-only-button\\\"\\n            [aria-label]=\\\"intl.showRecognizedTextContentLabel\\\"\\n            [value]=\\\"RecognizedTextMode.ONLY\\\"\\n            [checked]=\\\"recognizedTextMode === RecognizedTextMode.ONLY\\\"\\n            (click)=\\\"showRecognizedTextContentOnly()\\\"\\n          >\\n            <mat-icon>article</mat-icon>\\n          </mat-button-toggle>\\n          <div class=\\\"label\\\">{{ intl.showRecognizedTextContentLabel }}</div>\\n        </div>\\n      </div>\\n    </section>\\n  }\\n</mat-dialog-content>\\n\", styles: [\".mat-mdc-dialog-title{color:inherit;padding:0 2px 16px}::ng-deep .view-panel>.mat-mdc-dialog-container{padding:0!important;overflow:initial}section{padding:16px 0}.label{margin-left:16px}.mat-mdc-dialog-content{margin:0;padding:0 16px}\\n\"] }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy1kaWFsb2cuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL3ZpZXctZGlhbG9nL3ZpZXctZGlhbG9nLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi92aWV3LWRpYWxvZy92aWV3LWRpYWxvZy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsa0JBQWtCLEVBQ2xCLFdBQVcsR0FFWixNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMxQyxPQUFPLEVBQ0wsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxNQUFNLEdBR1AsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUNsRSxPQUFPLEVBQ0wsY0FBYyxFQUNkLGdCQUFnQixFQUNoQixjQUFjLEdBQ2YsTUFBTSwwQkFBMEIsQ0FBQztBQUNsQyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdkQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2pELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdkQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNwQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDaEUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0scURBQXFELENBQUM7QUFDMUYsT0FBTyxFQUFFLGFBQWEs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QUksR0FBRyxDQUFDO1lBQ2QsSUFBSSxDQUFDLFNBQVMsR0FBRztnQkFDZixTQUFTLEVBQUUsTUFBTSxHQUFHLElBQUk7YUFDekIsQ0FBQztRQUNKLENBQUM7UUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQzNCLENBQUM7OEdBckdVLG1CQUFtQjtrR0FBbkIsbUJBQW1CLDRFQ3ZEaEMsZzhJQXVIQSx1U0Q3RUksVUFBVSxxR0FDVixhQUFhLHVLQUNiLFVBQVUsaVJBQ1YsY0FBYyxxTEFDZCxPQUFPLDJJQUNQLGNBQWMsK0hBQ2QsZ0JBQWdCLHlHQUNoQixPQUFPLDJFQUNQLGVBQWUsNlFBQ2YsYUFBYSw0RUFDYixVQUFVOzsyRkFHRCxtQkFBbUI7a0JBbEIvQixTQUFTOytCQUNFLGtCQUFrQixXQUduQjt3QkFDUCxVQUFVO3dCQUNWLGFBQWE7d0JBQ2IsVUFBVTt3QkFDVixjQUFjO3dCQUNkLE9BQU87d0JBQ1AsY0FBYzt3QkFDZCxnQkFBZ0I7d0JBQ2hCLE9BQU87d0JBQ1AsZUFBZTt3QkFDZixhQUFhO3dCQUNiLFVBQVU7cUJBQ1giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBCcmVha3BvaW50T2JzZXJ2ZXIsXG4gIEJyZWFrcG9pbnRzLFxuICBCcmVha3BvaW50U3RhdGUsXG59IGZyb20gJ0Bhbmd1bGFyL2Nkay9sYXlvdXQnO1xuaW1wb3J0IHsgTmdTdHlsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1xuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBpbmplY3QsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdEljb25CdXR0b24gfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9idXR0b24nO1xuaW1wb3J0IHsgTWF0QnV0dG9uVG9nZ2xlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvYnV0dG9uLXRvZ2dsZSc7XG5pbXBvcnQge1xuICBNYXREaWFsb2dDbG9zZSxcbiAgTWF0RGlhbG9nQ29udGVudCxcbiAgTWF0RGlhbG9nVGl0bGUsXG59IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyBNYXREaXZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGl2aWRlcic7XG5pbXBvcnQgeyBNYXRJY29uIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvaWNvbic7XG5pbXBvcnQgeyBNYXRUb29sYmFyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdG9vbGJhcic7XG5pbXBvcnQgeyBNYXRUb29sdGlwIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdG9vbHRpcCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEFsdG9TZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9hbHRvLXNlcnZpY2UvYWx0by5zZXJ2aWNlJztcbmltcG9ydCB7IElpaWZNYW5pZmVzdFNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL2lpaWYtbWFuaWZlc3Qtc2VydmljZS9paWlmLW1hbmlmZXN0LXNlcnZpY2UnO1xuaW1wb3J0IHsgTWFuaWZlc3RVdGlscyB9IGZyb20gJy4uL2NvcmUvaWlpZi1tYW5pZmVzdC1zZXJ2aWNlL2lpaWYtbWFuaWZlc3QtdXRpbHMnO1xuaW1wb3J0IHsgTWltZVZpZXdlckludGwgfSBmcm9tICcuLi9jb3JlL2ludGwnO1xuaW1wb3J0IHsgTWltZVJlc2l6ZVNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL21pbWUtcmVzaXplLXNlcnZpY2UvbWltZS1yZXNpemUuc2VydmljZSc7XG5pbXBvcnQgeyBSZWNvZ25pemVkVGV4dE1vZGUsIFJlY29nbml6ZWRUZXh0TW9kZUNoYW5nZXMgfSBmcm9tICcuLi9jb3JlL21vZGVscyc7XG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi4vY29yZS9tb2RlbHMvZGltZW5zaW9ucyc7XG5pbXBvcnQgeyBNYW5pZmVzdCB9IGZyb20gJy4uL2NvcmUvbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IFZpZXdlckxheW91dCB9IGZyb20gJy4uL2NvcmUvbW9kZWxzL3ZpZXdlci1sYXlvdXQnO1xuaW1wb3J0IHsgVmlld2VyTGF5b3V0U2VydmljZSB9IGZyb20gJy4uL2NvcmUvdmlld2VyLWxheW91dC1zZXJ2aWNlL3ZpZXdlci1sYXlvdXQtc2VydmljZSc7XG5pbXBvcnQgeyBJY29uQ29tcG9uZW50IH0gZnJvbSAnLi9pY29uL2ljb24uY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbWltZS12aWV3LWRpYWxvZycsXG4gIHRlbXBsYXRlVXJsOiAnLi92aWV3LWRpYWxvZy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3ZpZXctZGlhbG9nLmNvbXBvbmVudC5zY3NzJ10sXG4gIGltcG9ydHM6IFtcbiAgICBNYXRUb29sYmFyLFxuICAgIE1hdEljb25CdXR0b24sXG4gICAgTWF0VG9vbHRpcCxcbiAgICBNYXREaWFsb2dDbG9zZSxcbiAgICBNYXRJY29uLFxuICAgIE1hdERpYWxvZ1RpdGxlLFxuICAgIE1hdERpYWxvZ0NvbnRlbnQsXG4gICAgTmdTdHlsZSxcbiAgICBNYXRCdXR0b25Ub2dnbGUsXG4gICAgSWNvbkNvbXBvbmVudCxcbiAgICBNYXREaXZpZGVyLFxuICBdLFxufSlcbmV4cG9ydCBjbGFzcyBWaWV3RGlhbG9nQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBpbnRsID0gaW5qZWN0KE1pbWVWaWV3ZXJJbnRsKTtcbiAgdGFiSGVpZ2h0ID0ge307XG4gIGlzSGFuZHNldE9yVGFibGV0SW5Qb3J0cmFpdCA9IGZhbHNlO1xuICB2aWV3ZXJMYXlvdXQ6IFZpZXdlckxheW91dCA9IFZpZXdlckxheW91dC5PTkVfUEFHRTtcbiAgVmlld2VyTGF5b3V0OiB0eXBlb2YgVmlld2VyTGF5b3V0ID0gVmlld2VyTGF5b3V0O1xuICBpc1BhZ2VkTWFuaWZlc3QgPSBmYWxzZTtcbiAgaGFzUmVjb2duaXplZFRleHRDb250ZW50ID0gZmFsc2U7XG4gIHJlY29nbml6ZWRUZXh0TW9kZSA9IFJlY29nbml6ZWRUZXh0TW9kZS5OT05FO1xuICBSZWNvZ25pemVkVGV4dE1vZGU6IHR5cGVvZiBSZWNvZ25pemVkVGV4dE1vZGUgPSBSZWNvZ25pemVkVGV4dE1vZGU7XG4gIHByaXZhdGUgcmVhZG9ubHkgYnJlYWtwb2ludE9ic2VydmVyID0gaW5qZWN0KEJyZWFrcG9pbnRPYnNlcnZlcik7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2RyID0gaW5qZWN0KENoYW5nZURldGVjdG9yUmVmKTtcbiAgcHJpdmF0ZSByZWFkb25seSB2aWV3ZXJMYXlvdXRTZXJ2aWNlID0gaW5qZWN0KFZpZXdlckxheW91dFNlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGlpaWZNYW5pZmVzdFNlcnZpY2UgPSBpbmplY3QoSWlpZk1hbmlmZXN0U2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgYWx0b1NlcnZpY2UgPSBpbmplY3QoQWx0b1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IG1pbWVSZXNpemVTZXJ2aWNlID0gaW5qZWN0KE1pbWVSZXNpemVTZXJ2aWNlKTtcbiAgcHJpdmF0ZSBtaW1lSGVpZ2h0ID0gMDtcbiAgcHJpdmF0ZSByZWFkb25seSBzdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmJyZWFrcG9pbnRPYnNlcnZlclxuICAgICAgICAub2JzZXJ2ZShbQnJlYWtwb2ludHMuSGFuZHNldCwgQnJlYWtwb2ludHMuVGFibGV0UG9ydHJhaXRdKVxuICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICh2YWx1ZTogQnJlYWtwb2ludFN0YXRlKSA9PlxuICAgICAgICAgICAgKHRoaXMuaXNIYW5kc2V0T3JUYWJsZXRJblBvcnRyYWl0ID0gdmFsdWUubWF0Y2hlcyksXG4gICAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLnZpZXdlckxheW91dFNlcnZpY2Uub25DaGFuZ2Uuc3Vic2NyaWJlKFxuICAgICAgICAodmlld2VyTGF5b3V0OiBWaWV3ZXJMYXlvdXQpID0+IHtcbiAgICAgICAgICB0aGlzLnZpZXdlckxheW91dCA9IHZpZXdlckxheW91dDtcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5hbHRvU2VydmljZS5vblJlY29nbml6ZWRUZXh0Q29udGVudE1vZGVDaGFuZ2UkLnN1YnNjcmliZShcbiAgICAgICAgKHJlY29nbml6ZWRUZXh0TW9kZUNoYW5nZXM6IFJlY29nbml6ZWRUZXh0TW9kZUNoYW5nZXMpID0+IHtcbiAgICAgICAgICB0aGlzLnJlY29nbml6ZWRUZXh0TW9kZSA9IHJlY29nbml6ZWRUZXh0TW9kZUNoYW5nZXMuY3VycmVudFZhbHVlO1xuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmlpaWZNYW5pZmVzdFNlcnZpY2UuY3VycmVudE1hbmlmZXN0LnN1YnNjcmliZShcbiAgICAgICAgKG1hbmlmZXN0OiBNYW5pZmVzdCB8IG51bGwpID0+IHtcbiAgICAgICAgICB0aGlzLmlzUGFnZWRNYW5pZmVzdCA9IG1hbmlmZXN0XG4gICAgICAgICAgICA/IE1hbmlmZXN0VXRpbHMuaXNNYW5pZmVzdFBhZ2VkKG1hbmlmZXN0KVxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgICB0aGlzLmhhc1JlY29nbml6ZWRUZXh0Q29udGVudCA9IG1hbmlmZXN0XG4gICAgICAgICAgICA/IE1hbmlmZXN0VXRpbHMuaGFzUmVjb2duaXplZFRleHRDb250ZW50KG1hbmlmZXN0KVxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5taW1lUmVzaXplU2VydmljZS5vblJlc2l6ZS5zdWJzY3JpYmUoKGRpbWVuc2lvbnM6IERpbWVuc2lvbnMpID0+IHtcbiAgICAgICAgdGhpcy5taW1lSGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmVzaXplVGFiSGVpZ2h0KCk7XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBzZXRMYXlvdXRPbmVQYWdlKCk6IHZvaWQge1xuICAgIHRoaXMudmlld2VyTGF5b3V0U2VydmljZS5zZXRMYXlvdXQoVmlld2VyTGF5b3V0Lk9ORV9QQUdFKTtcbiAgfVxuXG4gIHNldExheW91dFR3b1BhZ2UoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3ZXJMYXlvdXRTZXJ2aWNlLnNldExheW91dChWaWV3ZXJMYXlvdXQuVFdPX1BBR0UpO1xuICB9XG5cbiAgY2xvc2VSZWNvZ25pemVkVGV4dENvbnRlbnQoKTogdm9pZCB7XG4gICAgdGhpcy5hbHRvU2VydmljZS5jbG9zZVJlY29nbml6ZWRUZXh0Q29udGVudCgpO1xuICB9XG5cbiAgc2hvd1JlY29nbml6ZWRUZXh0Q29udGVudEluU3BsaXRWaWV3KCk6IHZvaWQge1xuICAgIHRoaXMuYWx0b1NlcnZpY2Uuc2hvd1JlY29nbml6ZWRUZXh0Q29udGVudEluU3BsaXRWaWV3KCk7XG4gIH1cblxuICBzaG93UmVjb2duaXplZFRleHRDb250ZW50T25seSgpOiB2b2lkIHtcbiAgICB0aGlzLmFsdG9TZXJ2aWNlLnNob3dSZWNvZ25pemVkVGV4dENvbnRlbnRPbmx5KCk7XG4gIH1cblxuICBwcml2YXRlIHJlc2l6ZVRhYkhlaWdodCgpIHtcbiAgICBsZXQgaGVpZ2h0ID0gdGhpcy5taW1lSGVpZ2h0O1xuXG4gICAgaWYgKHRoaXMuaXNIYW5kc2V0T3JUYWJsZXRJblBvcnRyYWl0KSB7XG4gICAgICB0aGlzLnRhYkhlaWdodCA9IHtcbiAgICAgICAgbWF4SGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxMjggKyAncHgnLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0IC09IDIyMDtcbiAgICAgIHRoaXMudGFiSGVpZ2h0ID0ge1xuICAgICAgICBtYXhIZWlnaHQ6IGhlaWdodCArICdweCcsXG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XG4gIH1cbn1cbiIsIkBpZiAoaXNIYW5kc2V0T3JUYWJsZXRJblBvcnRyYWl0KSB7XG4gIDxtYXQtdG9vbGJhciBjbGFzcz1cInNlY29uZGFyeS10b29sYmFyXCIgZGF0YS10ZXN0aWQ9XCJtb2JpbGUtdG9vbGJhclwiPlxuICAgIDxidXR0b25cbiAgICAgIGRhdGEtdGVzdGlkPVwibmd4LW1pbWUtdmlldy1kaWFsb2ctY2xvc2UtYnV0dG9uXCJcbiAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgW2FyaWEtbGFiZWxdPVwiaW50bC5jbG9zZUxhYmVsXCJcbiAgICAgIFttYXRUb29sdGlwXT1cImludGwuY2xvc2VMYWJlbFwiXG4gICAgICBbbWF0RGlhbG9nQ2xvc2VdPVwidHJ1ZVwiXG4gICAgPlxuICAgICAgPG1hdC1pY29uPmNsb3NlPC9tYXQtaWNvbj5cbiAgICA8L2J1dHRvbj5cbiAgICA8aDEgbWF0LWRpYWxvZy10aXRsZT57eyBpbnRsLmxheW91dE1lbnVMYWJlbCB9fTwvaDE+XG4gIDwvbWF0LXRvb2xiYXI+XG59IEBlbHNlIHtcbiAgPG1hdC10b29sYmFyXG4gICAgY2xhc3M9XCJzZWNvbmRhcnktdG9vbGJhciBqdXN0aWZ5LWJldHdlZW5cIlxuICAgIGRhdGEtdGVzdGlkPVwiZGVza3RvcC10b29sYmFyXCJcbiAgPlxuICAgIDxoMSBtYXQtZGlhbG9nLXRpdGxlIGRhdGEtdGVzdGlkPVwibmd4LW1pbWUtaGVhZGluZy1kZXNrdG9wXCI+e3tcbiAgICAgIGludGwubGF5b3V0TWVudUxhYmVsXG4gICAgfX08L2gxPlxuICAgIDxidXR0b25cbiAgICAgIGRhdGEtdGVzdGlkPVwibmd4LW1pbWUtdmlldy1kaWFsb2ctY2xvc2UtYnV0dG9uXCJcbiAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgW2FyaWEtbGFiZWxdPVwiaW50bC5jbG9zZUxhYmVsXCJcbiAgICAgIFttYXRUb29sdGlwXT1cImludGwuY2xvc2VMYWJlbFwiXG4gICAgICBbbWF0RGlhbG9nQ2xvc2VdPVwidHJ1ZVwiXG4gICAgPlxuICAgICAgPG1hdC1pY29uPmNsb3NlPC9tYXQtaWNvbj5cbiAgICA8L2J1dHRvbj5cbiAgPC9tYXQtdG9vbGJhcj5cbn1cbjxtYXQtZGlhbG9nLWNvbnRlbnQgW25nU3R5bGVdPVwidGFiSGVpZ2h0XCI+XG4gIEBpZiAoaXNQYWdlZE1hbmlmZXN0KSB7XG4gICAgPHNlY3Rpb24gZGF0YS10ZXN0aWQ9XCJwYWdlLWxheW91dFwiPlxuICAgICAgPGgyPnt7IGludGwucGFnZUxheW91dExhYmVsIH19PC9oMj5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC15LTJcIlxuICAgICAgICByb2xlPVwiZ3JvdXBcIlxuICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImludGwucGFnZUxheW91dExhYmVsXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPG1hdC1idXR0b24tdG9nZ2xlXG4gICAgICAgICAgICBkYXRhLXRlc3RpZD1cIm5neC1taW1lLXNpbmdsZS1wYWdlLXZpZXctYnV0dG9uXCJcbiAgICAgICAgICAgIFthcmlhLWxhYmVsXT1cImludGwuc2luZ2xlUGFnZVZpZXdMYWJlbFwiXG4gICAgICAgICAgICBbdmFsdWVdPVwiVmlld2VyTGF5b3V0Lk9ORV9QQUdFXCJcbiAgICAgICAgICAgIFtjaGVja2VkXT1cInZpZXdlckxheW91dCA9PT0gVmlld2VyTGF5b3V0Lk9ORV9QQUdFXCJcbiAgICAgICAgICAgIChjbGljayk9XCJzZXRMYXlvdXRPbmVQYWdlKClcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxtaW1lLWljb24gW2ljb25OYW1lXT1cIidzaW5nbGVfcGFnZV9kaXNwbGF5J1wiPiA8L21pbWUtaWNvbj5cbiAgICAgICAgICA8L21hdC1idXR0b24tdG9nZ2xlPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJlbFwiPnt7IGludGwuc2luZ2xlUGFnZVZpZXdMYWJlbCB9fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPG1hdC1idXR0b24tdG9nZ2xlXG4gICAgICAgICAgICBkYXRhLXRlc3RpZD1cIm5neC1taW1lLXR3by1wYWdlLXZpZXctYnV0dG9uXCJcbiAgICAgICAgICAgIFthcmlhLWxhYmVsXT1cImludGwudHdvUGFnZVZpZXdMYWJlbFwiXG4gICAgICAgICAgICBbdmFsdWVdPVwiVmlld2VyTGF5b3V0LlRXT19QQUdFXCJcbiAgICAgICAgICAgIFtjaGVja2VkXT1cInZpZXdlckxheW91dCA9PT0gVmlld2VyTGF5b3V0LlRXT19QQUdFXCJcbiAgICAgICAgICAgIChjbGljayk9XCJzZXRMYXlvdXRUd29QYWdlKClcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxtaW1lLWljb24gW2ljb25OYW1lXT1cIid0d29fcGFnZV9kaXNwbGF5J1wiPiA8L21pbWUtaWNvbj5cbiAgICAgICAgICA8L21hdC1idXR0b24tdG9nZ2xlPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJlbFwiPnt7IGludGwudHdvUGFnZVZpZXdMYWJlbCB9fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvc2VjdGlvbj5cbiAgfVxuICBAaWYgKGhhc1JlY29nbml6ZWRUZXh0Q29udGVudCkge1xuICAgIDxtYXQtZGl2aWRlcj48L21hdC1kaXZpZGVyPlxuICAgIDxzZWN0aW9uIGRhdGEtdGVzdGlkPVwicmVjb2duaXplZC10ZXh0LWNvbnRlbnRcIj5cbiAgICAgIDxoMj57eyBpbnRsLmRpZ2l0YWxUZXh0TGFiZWwgfX08L2gyPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cImZsZXggZmxleC1jb2wgZ2FwLXktMlwiXG4gICAgICAgIHJvbGU9XCJncm91cFwiXG4gICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiaW50bC5kaWdpdGFsVGV4dExhYmVsXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPG1hdC1idXR0b24tdG9nZ2xlXG4gICAgICAgICAgICBkYXRhLXRlc3RpZD1cIm5neC1taW1lLXJlY29nbml6ZWQtdGV4dC1jb250ZW50LWNsb3NlLWJ1dHRvblwiXG4gICAgICAgICAgICBbYXJpYS1sYWJlbF09XCJpbnRsLnJlY29nbml6ZWRUZXh0Q29udGVudENsb3NlTGFiZWxcIlxuICAgICAgICAgICAgW3ZhbHVlXT1cIlJlY29nbml6ZWRUZXh0TW9kZS5OT05FXCJcbiAgICAgICAgICAgIFtjaGVja2VkXT1cInJlY29nbml6ZWRUZXh0TW9kZSA9PT0gUmVjb2duaXplZFRleHRNb2RlLk5PTkVcIlxuICAgICAgICAgICAgKGNsaWNrKT1cImNsb3NlUmVjb2duaXplZFRleHRDb250ZW50KClcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxtYXQtaWNvbj5oaWRlX3NvdXJjZTwvbWF0LWljb24+XG4gICAgICAgICAgPC9tYXQtYnV0dG9uLXRvZ2dsZT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibGFiZWxcIj57eyBpbnRsLnJlY29nbml6ZWRUZXh0Q29udGVudENsb3NlTGFiZWwgfX08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgIDxtYXQtYnV0dG9uLXRvZ2dsZVxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJuZ3gtbWltZS1yZWNvZ25pemVkLXRleHQtY29udGVudC1zcGxpdC12aWV3LWJ1dHRvblwiXG4gICAgICAgICAgICBbYXJpYS1sYWJlbF09XCJpbnRsLnJlY29nbml6ZWRUZXh0Q29udGVudEluU3BsaXRWaWV3TGFiZWxcIlxuICAgICAgICAgICAgW3ZhbHVlXT1cIlJlY29nbml6ZWRUZXh0TW9kZS5TUExJVFwiXG4gICAgICAgICAgICBbY2hlY2tlZF09XCJyZWNvZ25pemVkVGV4dE1vZGUgPT09IFJlY29nbml6ZWRUZXh0TW9kZS5TUExJVFwiXG4gICAgICAgICAgICAoY2xpY2spPVwic2hvd1JlY29nbml6ZWRUZXh0Q29udGVudEluU3BsaXRWaWV3KClcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxtYXQtaWNvbj52aWV3X3NpZGViYXI8L21hdC1pY29uPlxuICAgICAgICAgIDwvbWF0LWJ1dHRvbi10b2dnbGU+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+e3tcbiAgICAgICAgICAgIGludGwucmVjb2duaXplZFRleHRDb250ZW50SW5TcGxpdFZpZXdMYWJlbFxuICAgICAgICAgIH19PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8bWF0LWJ1dHRvbi10b2dnbGVcbiAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwibmd4LW1pbWUtcmVjb2duaXplZC10ZXh0LWNvbnRlbnQtb25seS1idXR0b25cIlxuICAgICAgICAgICAgW2FyaWEtbGFiZWxdPVwiaW50bC5zaG93UmVjb2duaXplZFRleHRDb250ZW50TGFiZWxcIlxuICAgICAgICAgICAgW3ZhbHVlXT1cIlJlY29nbml6ZWRUZXh0TW9kZS5PTkxZXCJcbiAgICAgICAgICAgIFtjaGVja2VkXT1cInJlY29nbml6ZWRUZXh0TW9kZSA9PT0gUmVjb2duaXplZFRleHRNb2RlLk9OTFlcIlxuICAgICAgICAgICAgKGNsaWNrKT1cInNob3dSZWNvZ25pemVkVGV4dENvbnRlbnRPbmx5KClcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxtYXQtaWNvbj5hcnRpY2xlPC9tYXQtaWNvbj5cbiAgICAgICAgICA8L21hdC1idXR0b24tdG9nZ2xlPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJlbFwiPnt7IGludGwuc2hvd1JlY29nbml6ZWRUZXh0Q29udGVudExhYmVsIH19PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9zZWN0aW9uPlxuICB9XG48L21hdC1kaWFsb2ctY29udGVudD5cbiJdfQ==","import { inject, Injectable, } from '@angular/core';\nimport { MatDialog, MatDialogState, } from '@angular/material/dialog';\nimport { Subscription } from 'rxjs';\nimport { MimeResizeService } from '../core/mime-resize-service/mime-resize.service';\nimport { ViewDialogConfigStrategyFactory } from './view-dialog-config-strategy-factory';\nimport { ViewDialogComponent } from './view-dialog.component';\nimport * as i0 from \"@angular/core\";\nexport class ViewDialogService {\n    constructor() {\n        this.dialog = inject(MatDialog);\n        this.viewDialogConfigStrategyFactory = inject(ViewDialogConfigStrategyFactory);\n        this.mimeResizeService = inject(MimeResizeService);\n    }\n    set el(el) {\n        this._el = el;\n    }\n    set viewContainerRef(viewContainerRef) {\n        this._viewContainerRef = viewContainerRef;\n    }\n    initialize() {\n        this.subscriptions = new Subscription();\n        this.subscriptions.add(this.mimeResizeService.onResize.subscribe((rect) => {\n            if (this.isOpen()) {\n                const config = this.getDialogConfig();\n                this.dialogRef?.updatePosition(config.position);\n                this.dialogRef?.updateSize(config.width, config.height);\n            }\n        }));\n    }\n    destroy() {\n        this.close();\n        this.unsubscribe();\n    }\n    open() {\n        if (!this.isOpen()) {\n            const config = this.getDialogConfig();\n            this.dialogRef = this.dialog.open(ViewDialogComponent, config);\n        }\n    }\n    close() {\n        if (this.isOpen()) {\n            this.dialogRef?.close();\n        }\n    }\n    toggle() {\n        this.isOpen() ? this.close() : this.open();\n    }\n    isOpen() {\n        return this.dialogRef?.getState() === MatDialogState.OPEN;\n    }\n    getDialogConfig() {\n        if (!this._el || !this._viewContainerRef) {\n            throw new Error('No element or viewContainerRef');\n        }\n        return this.viewDialogConfigStrategyFactory\n            .create()\n            .getConfig(this._el, this._viewContainerRef);\n    }\n    unsubscribe() {\n        if (this.subscriptions) {\n            this.subscriptions.unsubscribe();\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewDialogService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewDialogService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewDialogService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy1kaWFsb2cuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi92aWV3LWRpYWxvZy92aWV3LWRpYWxvZy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFTCxNQUFNLEVBQ04sVUFBVSxHQUVYLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFDTCxTQUFTLEVBR1QsY0FBYyxHQUNmLE1BQU0sMEJBQTBCLENBQUM7QUFDbEMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNwQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQztBQUNwRixPQUFPLEVBQUUsK0JBQStCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUN4RixPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQzs7QUFHOUQsTUFBTSxPQUFPLGlCQUFpQjtJQUQ5QjtRQUVtQixXQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNCLG9DQUErQixHQUFHLE1BQU0sQ0FDdkQsK0JBQStCLENBQ2hDLENBQUM7UUFDZSxzQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztLQW9FaEU7SUE5REMsSUFBSSxFQUFFLENBQUMsRUFBYztRQUNuQixJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBRUQsSUFBSSxnQkFBZ0IsQ0FBQyxnQkFBa0M7UUFDckQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGdCQUFnQixDQUFDO0lBQzVDLENBQUM7SUFFTSxVQUFVO1FBQ2YsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUNwQixJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQ2pELElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7Z0JBQ2xCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLFNBQVMsRUFBRSxjQUFjLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNoRCxJQUFJLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxRCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUNKLENBQUM7SUFFTSxPQUFPO1FBQ1osSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFTSxJQUFJO1FBQ1QsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDO1lBQ25CLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN0QyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ2pFLENBQUM7SUFDSCxDQUFDO0lBRU0sS0FBSztRQUNWLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDbEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQztRQUMxQixDQUFDO0lBQ0gsQ0FBQztJQUVNLE1BQU07UUFDWCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzdDLENBQUM7SUFFTSxNQUFNO1FBQ1gsT0FBTyxJQUFJLENBQUMsU0FBUyxFQUFFLFFBQVEsRUFBRSxLQUFLLGNBQWMsQ0FBQyxJQUFJLENBQUM7SUFDNUQsQ0FBQztJQUVPLGVBQWU7UUFDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN6QyxNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7UUFDcEQsQ0FBQztRQUVELE9BQU8sSUFBSSxDQUFDLCtCQUErQjthQUN4QyxNQUFNLEVBQUU7YUFDUixTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRU8sV0FBVztRQUNqQixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25DLENBQUM7SUFDSCxDQUFDOzhHQXhFVSxpQkFBaUI7a0hBQWpCLGlCQUFpQjs7MkZBQWpCLGlCQUFpQjtrQkFEN0IsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEVsZW1lbnRSZWYsXG4gIGluamVjdCxcbiAgSW5qZWN0YWJsZSxcbiAgVmlld0NvbnRhaW5lclJlZixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBNYXREaWFsb2csXG4gIE1hdERpYWxvZ0NvbmZpZyxcbiAgTWF0RGlhbG9nUmVmLFxuICBNYXREaWFsb2dTdGF0ZSxcbn0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTWltZVJlc2l6ZVNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL21pbWUtcmVzaXplLXNlcnZpY2UvbWltZS1yZXNpemUuc2VydmljZSc7XG5pbXBvcnQgeyBWaWV3RGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5IH0gZnJvbSAnLi92aWV3LWRpYWxvZy1jb25maWctc3RyYXRlZ3ktZmFjdG9yeSc7XG5pbXBvcnQgeyBWaWV3RGlhbG9nQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3LWRpYWxvZy5jb21wb25lbnQnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgVmlld0RpYWxvZ1NlcnZpY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IGRpYWxvZyA9IGluamVjdChNYXREaWFsb2cpO1xuICBwcml2YXRlIHJlYWRvbmx5IHZpZXdEaWFsb2dDb25maWdTdHJhdGVneUZhY3RvcnkgPSBpbmplY3QoXG4gICAgVmlld0RpYWxvZ0NvbmZpZ1N0cmF0ZWd5RmFjdG9yeSxcbiAgKTtcbiAgcHJpdmF0ZSByZWFkb25seSBtaW1lUmVzaXplU2VydmljZSA9IGluamVjdChNaW1lUmVzaXplU2VydmljZSk7XG4gIHByaXZhdGUgX2VsOiBFbGVtZW50UmVmIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIF92aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGRpYWxvZ1JlZj86IE1hdERpYWxvZ1JlZjxWaWV3RGlhbG9nQ29tcG9uZW50PjtcbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zITogU3Vic2NyaXB0aW9uO1xuXG4gIHNldCBlbChlbDogRWxlbWVudFJlZikge1xuICAgIHRoaXMuX2VsID0gZWw7XG4gIH1cblxuICBzZXQgdmlld0NvbnRhaW5lclJlZih2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmKSB7XG4gICAgdGhpcy5fdmlld0NvbnRhaW5lclJlZiA9IHZpZXdDb250YWluZXJSZWY7XG4gIH1cblxuICBwdWJsaWMgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMubWltZVJlc2l6ZVNlcnZpY2Uub25SZXNpemUuc3Vic2NyaWJlKChyZWN0KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzT3BlbigpKSB7XG4gICAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXREaWFsb2dDb25maWcoKTtcbiAgICAgICAgICB0aGlzLmRpYWxvZ1JlZj8udXBkYXRlUG9zaXRpb24oY29uZmlnLnBvc2l0aW9uKTtcbiAgICAgICAgICB0aGlzLmRpYWxvZ1JlZj8udXBkYXRlU2l6ZShjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIHB1YmxpYyBvcGVuKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc09wZW4oKSkge1xuICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXREaWFsb2dDb25maWcoKTtcbiAgICAgIHRoaXMuZGlhbG9nUmVmID0gdGhpcy5kaWFsb2cub3BlbihWaWV3RGlhbG9nQ29tcG9uZW50LCBjb25maWcpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBjbG9zZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgICAgdGhpcy5kaWFsb2dSZWY/LmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHRvZ2dsZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzT3BlbigpID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKCk7XG4gIH1cblxuICBwdWJsaWMgaXNPcGVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRpYWxvZ1JlZj8uZ2V0U3RhdGUoKSA9PT0gTWF0RGlhbG9nU3RhdGUuT1BFTjtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RGlhbG9nQ29uZmlnKCk6IE1hdERpYWxvZ0NvbmZpZyB7XG4gICAgaWYgKCF0aGlzLl9lbCB8fCAhdGhpcy5fdmlld0NvbnRhaW5lclJlZikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBlbGVtZW50IG9yIHZpZXdDb250YWluZXJSZWYnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy52aWV3RGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5XG4gICAgICAuY3JlYXRlKClcbiAgICAgIC5nZXRDb25maWcodGhpcy5fZWwsIHRoaXMuX3ZpZXdDb250YWluZXJSZWYpO1xuICB9XG5cbiAgcHJpdmF0ZSB1bnN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","export class AccessKeys {\n    static { this.PAGEDOWN = [34]; }\n    static { this.PAGEUP = [33]; }\n    static { this.ARROWRIGHT = [39]; }\n    static { this.ARROWLEFT = [37]; }\n    static { this.firstCanvasGroupCodes = [36]; } // Home\n    static { this.lastCanvasGroupCodes = [35]; } // End\n    static { this.zoomInCodes = [107, 187, 171]; } // +, numpad and standard position, Firefox uses 171 for standard position\n    static { this.zoomOutCodes = [109, 189, 173]; } // -, numpad and standard position, Firefox uses 173 for standard position\n    static { this.zoomHomeCodes = [96, 48]; } // 0\n    static { this.nextHit = [78]; } // n\n    static { this.previousHit = [80]; } // p\n    static { this.toggleSearchDialogCodes = [83]; } // s\n    static { this.toggleInformationDialogCodes = [67]; } // C\n    static { this.toggleFullscreenCodes = [70]; } // f\n    static { this.resetSearch = [83]; } // s\n    static { this.rotateCwCodes = [82]; } // r\n    static { this.recognizedTextContentCodes = [84]; } // t\n    constructor(event) {\n        this.altKey = false;\n        this.shiftKey = false;\n        this.ctrlkey = false;\n        this.metaKey = false;\n        this.event = event;\n        this.keyCode = event.keyCode;\n        this.altKey = event.altKey;\n        this.shiftKey = event.shiftKey;\n        this.ctrlkey = event.ctrlKey;\n        this.metaKey = event.metaKey;\n    }\n    isArrowRightKeys() {\n        return !this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.ARROWRIGHT);\n    }\n    isArrowLeftKeys() {\n        return !this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.ARROWLEFT);\n    }\n    isPageUpKeys() {\n        return !this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.PAGEUP);\n    }\n    isPageDownKeys() {\n        return !this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.PAGEDOWN);\n    }\n    isFirstCanvasGroupKeys() {\n        return (!this.isMultiKeys() &&\n            this.arrayContainsKeys(AccessKeys.firstCanvasGroupCodes));\n    }\n    isLastCanvasGroupKeys() {\n        return (!this.isMultiKeys() &&\n            this.arrayContainsKeys(AccessKeys.lastCanvasGroupCodes));\n    }\n    isSliderKeys() {\n        return (this.isArrowLeftKeys() ||\n            this.isArrowRightKeys() ||\n            this.isPageDownKeys() ||\n            this.isPageUpKeys() ||\n            this.isFirstCanvasGroupKeys() ||\n            this.isLastCanvasGroupKeys());\n    }\n    isZoomInKeys() {\n        return (!this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.zoomInCodes));\n    }\n    isZoomOutKeys() {\n        return (!this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.zoomOutCodes));\n    }\n    isZoomHomeKeys() {\n        return (!this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.zoomHomeCodes));\n    }\n    isNextHitKeys() {\n        return !this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.nextHit);\n    }\n    isPreviousHitKeys() {\n        return (!this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.previousHit));\n    }\n    isSearchDialogKeys() {\n        return (!this.isMultiKeys() &&\n            this.arrayContainsKeys(AccessKeys.toggleSearchDialogCodes));\n    }\n    isInformationDialogKeys() {\n        return (!this.isMultiKeys() &&\n            this.arrayContainsKeys(AccessKeys.toggleInformationDialogCodes));\n    }\n    isFullscreenKeys() {\n        return (!this.isMultiKeys() &&\n            this.arrayContainsKeys(AccessKeys.toggleFullscreenCodes));\n    }\n    isResetSearchKeys() {\n        return (!this.isMetaPressed() &&\n            this.isShiftPressed() &&\n            this.arrayContainsKeys(AccessKeys.resetSearch));\n    }\n    isRotateKeys() {\n        return (!this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.rotateCwCodes));\n    }\n    isRecognizedTextContentKeys() {\n        return (!this.isMultiKeys() &&\n            this.arrayContainsKeys(AccessKeys.recognizedTextContentCodes));\n    }\n    execute(fn) {\n        this.event.preventDefault();\n        fn();\n    }\n    isMultiKeys() {\n        return this.altKey || this.shiftKey || this.ctrlkey;\n    }\n    arrayContainsKeys(keys) {\n        return keys.indexOf(this.keyCode) > -1;\n    }\n    isShiftPressed() {\n        return this.shiftKey;\n    }\n    isMetaPressed() {\n        return this.metaKey;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWNjZXNzS2V5cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL21vZGVscy9BY2Nlc3NLZXlzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sT0FBTyxVQUFVO2FBQ1AsYUFBUSxHQUFHLENBQUMsRUFBRSxDQUFDLEFBQVAsQ0FBUTthQUNoQixXQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsQUFBUCxDQUFRO2FBQ2QsZUFBVSxHQUFHLENBQUMsRUFBRSxDQUFDLEFBQVAsQ0FBUTthQUNsQixjQUFTLEdBQUcsQ0FBQyxFQUFFLENBQUMsQUFBUCxDQUFRO2FBQ2pCLDBCQUFxQixHQUFHLENBQUMsRUFBRSxDQUFDLEFBQVAsQ0FBUSxHQUFDLE9BQU87YUFDckMseUJBQW9CLEdBQUcsQ0FBQyxFQUFFLENBQUMsQUFBUCxDQUFRLEdBQUMsTUFBTTthQUNuQyxnQkFBVyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQUFBbEIsQ0FBbUIsR0FBQywwRUFBMEU7YUFDekcsaUJBQVksR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEFBQWxCLENBQW1CLEdBQUMsMEVBQTBFO2FBQzFHLGtCQUFhLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEFBQVgsQ0FBWSxHQUFDLElBQUk7YUFDOUIsWUFBTyxHQUFHLENBQUMsRUFBRSxDQUFDLEFBQVAsQ0FBUSxHQUFDLElBQUk7YUFDcEIsZ0JBQVcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxBQUFQLENBQVEsR0FBQyxJQUFJO2FBQ3hCLDRCQUF1QixHQUFHLENBQUMsRUFBRSxDQUFDLEFBQVAsQ0FBUSxHQUFDLElBQUk7YUFDcEMsaUNBQTRCLEdBQUcsQ0FBQyxFQUFFLENBQUMsQUFBUCxDQUFRLEdBQUMsSUFBSTthQUN6QywwQkFBcUIsR0FBRyxDQUFDLEVBQUUs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QkFBMkI7UUFDaEMsT0FBTyxDQUNMLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNuQixJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLDBCQUEwQixDQUFDLENBQzlELENBQUM7SUFDSixDQUFDO0lBRUQsT0FBTyxDQUFDLEVBQWM7UUFDcEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUM1QixFQUFFLEVBQUUsQ0FBQztJQUNQLENBQUM7SUFFTyxXQUFXO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDdEQsQ0FBQztJQUVPLGlCQUFpQixDQUFDLElBQWM7UUFDdEMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRU8sY0FBYztRQUNwQixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztJQUVPLGFBQWE7UUFDbkIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3RCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQWNjZXNzS2V5cyB7XG4gIHB1YmxpYyBzdGF0aWMgUEFHRURPV04gPSBbMzRdO1xuICBwdWJsaWMgc3RhdGljIFBBR0VVUCA9IFszM107XG4gIHB1YmxpYyBzdGF0aWMgQVJST1dSSUdIVCA9IFszOV07XG4gIHB1YmxpYyBzdGF0aWMgQVJST1dMRUZUID0gWzM3XTtcbiAgcHVibGljIHN0YXRpYyBmaXJzdENhbnZhc0dyb3VwQ29kZXMgPSBbMzZdOyAvLyBIb21lXG4gIHB1YmxpYyBzdGF0aWMgbGFzdENhbnZhc0dyb3VwQ29kZXMgPSBbMzVdOyAvLyBFbmRcbiAgcHVibGljIHN0YXRpYyB6b29tSW5Db2RlcyA9IFsxMDcsIDE4NywgMTcxXTsgLy8gKywgbnVtcGFkIGFuZCBzdGFuZGFyZCBwb3NpdGlvbiwgRmlyZWZveCB1c2VzIDE3MSBmb3Igc3RhbmRhcmQgcG9zaXRpb25cbiAgcHVibGljIHN0YXRpYyB6b29tT3V0Q29kZXMgPSBbMTA5LCAxODksIDE3M107IC8vIC0sIG51bXBhZCBhbmQgc3RhbmRhcmQgcG9zaXRpb24sIEZpcmVmb3ggdXNlcyAxNzMgZm9yIHN0YW5kYXJkIHBvc2l0aW9uXG4gIHB1YmxpYyBzdGF0aWMgem9vbUhvbWVDb2RlcyA9IFs5NiwgNDhdOyAvLyAwXG4gIHB1YmxpYyBzdGF0aWMgbmV4dEhpdCA9IFs3OF07IC8vIG5cbiAgcHVibGljIHN0YXRpYyBwcmV2aW91c0hpdCA9IFs4MF07IC8vIHBcbiAgcHVibGljIHN0YXRpYyB0b2dnbGVTZWFyY2hEaWFsb2dDb2RlcyA9IFs4M107IC8vIHNcbiAgcHVibGljIHN0YXRpYyB0b2dnbGVJbmZvcm1hdGlvbkRpYWxvZ0NvZGVzID0gWzY3XTsgLy8gQ1xuICBwdWJsaWMgc3RhdGljIHRvZ2dsZUZ1bGxzY3JlZW5Db2RlcyA9IFs3MF07IC8vIGZcbiAgcHVibGljIHN0YXRpYyByZXNldFNlYXJjaCA9IFs4M107IC8vIHNcbiAgcHVibGljIHN0YXRpYyByb3RhdGVDd0NvZGVzID0gWzgyXTsgLy8gclxuICBwdWJsaWMgc3RhdGljIHJlY29nbml6ZWRUZXh0Q29udGVudENvZGVzID0gWzg0XTsgLy8gdFxuICBwcml2YXRlIGtleUNvZGU6IG51bWJlcjtcbiAgcHJpdmF0ZSBhbHRLZXkgPSBmYWxzZTtcbiAgcHJpdmF0ZSBzaGlmdEtleSA9IGZhbHNlO1xuICBwcml2YXRlIGN0cmxrZXkgPSBmYWxzZTtcbiAgcHJpdmF0ZSBtZXRhS2V5ID0gZmFsc2U7XG4gIHByaXZhdGUgZXZlbnQ6IEtleWJvYXJkRXZlbnQ7XG5cbiAgY29uc3RydWN0b3IoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgdGhpcy5rZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICB0aGlzLmFsdEtleSA9IGV2ZW50LmFsdEtleTtcbiAgICB0aGlzLnNoaWZ0S2V5ID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgdGhpcy5jdHJsa2V5ID0gZXZlbnQuY3RybEtleTtcbiAgICB0aGlzLm1ldGFLZXkgPSBldmVudC5tZXRhS2V5O1xuICB9XG5cbiAgcHVibGljIGlzQXJyb3dSaWdodEtleXMoKSB7XG4gICAgcmV0dXJuICF0aGlzLmlzTXVsdGlLZXlzKCkgJiYgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLkFSUk9XUklHSFQpO1xuICB9XG5cbiAgcHVibGljIGlzQXJyb3dMZWZ0S2V5cygpIHtcbiAgICByZXR1cm4gIXRoaXMuaXNNdWx0aUtleXMoKSAmJiB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMuQVJST1dMRUZUKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1BhZ2VVcEtleXMoKSB7XG4gICAgcmV0dXJuICF0aGlzLmlzTXVsdGlLZXlzKCkgJiYgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLlBBR0VVUCk7XG4gIH1cblxuICBwdWJsaWMgaXNQYWdlRG93bktleXMoKSB7XG4gICAgcmV0dXJuICF0aGlzLmlzTXVsdGlLZXlzKCkgJiYgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLlBBR0VET1dOKTtcbiAgfVxuXG4gIHB1YmxpYyBpc0ZpcnN0Q2FudmFzR3JvdXBLZXlzKCkge1xuICAgIHJldHVybiAoXG4gICAgICAhdGhpcy5pc011bHRpS2V5cygpICYmXG4gICAgICB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMuZmlyc3RDYW52YXNHcm91cENvZGVzKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgaXNMYXN0Q2FudmFzR3JvdXBLZXlzKCkge1xuICAgIHJldHVybiAoXG4gICAgICAhdGhpcy5pc011bHRpS2V5cygpICYmXG4gICAgICB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMubGFzdENhbnZhc0dyb3VwQ29kZXMpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1NsaWRlcktleXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuaXNBcnJvd0xlZnRLZXlzKCkgfHxcbiAgICAgIHRoaXMuaXNBcnJvd1JpZ2h0S2V5cygpIHx8XG4gICAgICB0aGlzLmlzUGFnZURvd25LZXlzKCkgfHxcbiAgICAgIHRoaXMuaXNQYWdlVXBLZXlzKCkgfHxcbiAgICAgIHRoaXMuaXNGaXJzdENhbnZhc0dyb3VwS2V5cygpIHx8XG4gICAgICB0aGlzLmlzTGFzdENhbnZhc0dyb3VwS2V5cygpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1pvb21JbktleXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLmlzTXVsdGlLZXlzKCkgJiYgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLnpvb21JbkNvZGVzKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgaXNab29tT3V0S2V5cygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMuaXNNdWx0aUtleXMoKSAmJiB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMuem9vbU91dENvZGVzKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgaXNab29tSG9tZUtleXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLmlzTXVsdGlLZXlzKCkgJiYgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLnpvb21Ib21lQ29kZXMpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBpc05leHRIaXRLZXlzKCkge1xuICAgIHJldHVybiAhdGhpcy5pc011bHRpS2V5cygpICYmIHRoaXMuYXJyYXlDb250YWluc0tleXMoQWNjZXNzS2V5cy5uZXh0SGl0KTtcbiAgfVxuXG4gIHB1YmxpYyBpc1ByZXZpb3VzSGl0S2V5cygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMuaXNNdWx0aUtleXMoKSAmJiB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMucHJldmlvdXNIaXQpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1NlYXJjaERpYWxvZ0tleXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLmlzTXVsdGlLZXlzKCkgJiZcbiAgICAgIHRoaXMuYXJyYXlDb250YWluc0tleXMoQWNjZXNzS2V5cy50b2dnbGVTZWFyY2hEaWFsb2dDb2RlcylcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGlzSW5mb3JtYXRpb25EaWFsb2dLZXlzKCkge1xuICAgIHJldHVybiAoXG4gICAgICAhdGhpcy5pc011bHRpS2V5cygpICYmXG4gICAgICB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMudG9nZ2xlSW5mb3JtYXRpb25EaWFsb2dDb2RlcylcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGlzRnVsbHNjcmVlbktleXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLmlzTXVsdGlLZXlzKCkgJiZcbiAgICAgIHRoaXMuYXJyYXlDb250YWluc0tleXMoQWNjZXNzS2V5cy50b2dnbGVGdWxsc2NyZWVuQ29kZXMpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1Jlc2V0U2VhcmNoS2V5cygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMuaXNNZXRhUHJlc3NlZCgpICYmXG4gICAgICB0aGlzLmlzU2hpZnRQcmVzc2VkKCkgJiZcbiAgICAgIHRoaXMuYXJyYXlDb250YWluc0tleXMoQWNjZXNzS2V5cy5yZXNldFNlYXJjaClcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGlzUm90YXRlS2V5cygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMuaXNNdWx0aUtleXMoKSAmJiB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMucm90YXRlQ3dDb2RlcylcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGlzUmVjb2duaXplZFRleHRDb250ZW50S2V5cygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMuaXNNdWx0aUtleXMoKSAmJlxuICAgICAgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLnJlY29nbml6ZWRUZXh0Q29udGVudENvZGVzKVxuICAgICk7XG4gIH1cblxuICBleGVjdXRlKGZuOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGZuKCk7XG4gIH1cblxuICBwcml2YXRlIGlzTXVsdGlLZXlzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFsdEtleSB8fCB0aGlzLnNoaWZ0S2V5IHx8IHRoaXMuY3RybGtleTtcbiAgfVxuXG4gIHByaXZhdGUgYXJyYXlDb250YWluc0tleXMoa2V5czogbnVtYmVyW10pOiBib29sZWFuIHtcbiAgICByZXR1cm4ga2V5cy5pbmRleE9mKHRoaXMua2V5Q29kZSkgPiAtMTtcbiAgfVxuXG4gIHByaXZhdGUgaXNTaGlmdFByZXNzZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc2hpZnRLZXk7XG4gIH1cblxuICBwcml2YXRlIGlzTWV0YVByZXNzZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubWV0YUtleTtcbiAgfVxufVxuIl19","import { inject, Injectable } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ContentSearchDialogService } from '../../content-search-dialog/content-search-dialog.service';\nimport { InformationDialogService } from '../../information-dialog/information-dialog.service';\nimport { ViewDialogService } from '../../view-dialog/view-dialog.service';\nimport { AltoService } from '../alto-service/alto.service';\nimport { CanvasService } from '../canvas-service/canvas-service';\nimport { IiifContentSearchService } from '../iiif-content-search-service/iiif-content-search.service';\nimport { IiifManifestService } from '../iiif-manifest-service/iiif-manifest-service';\nimport { MimeDomHelper } from '../mime-dom-helper';\nimport { ModeService } from '../mode-service/mode.service';\nimport { RecognizedTextMode, ViewerMode } from '../models';\nimport { AccessKeys } from '../models/AccessKeys';\nimport { ViewingDirection } from '../models/viewing-direction';\nimport { ContentSearchNavigationService } from '../navigation/content-search-navigation-service/content-search-navigation.service';\nimport { ViewerService } from '../viewer-service/viewer.service';\nimport * as i0 from \"@angular/core\";\nexport class AccessKeysService {\n    constructor() {\n        this.viewerService = inject(ViewerService);\n        this.canvasService = inject(CanvasService);\n        this.modeService = inject(ModeService);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.iiifContentSearchService = inject(IiifContentSearchService);\n        this.contentSearchDialogService = inject(ContentSearchDialogService);\n        this.informationDialogService = inject(InformationDialogService);\n        this.viewDialogService = inject(ViewDialogService);\n        this.mimeDomHelper = inject(MimeDomHelper);\n        this.contentSearchNavigationService = inject(ContentSearchNavigationService);\n        this.altoService = inject(AltoService);\n        this.isSearchable = false;\n        this.hasHits = false;\n        this.disabledKeys = [];\n        this.subscriptions = new Subscription();\n        this.invert = false;\n    }\n    initialize() {\n        this.subscriptions = new Subscription();\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            if (manifest) {\n                this.isSearchable = this.isManifestSearchable(manifest);\n                this.invert = manifest.viewingDirection === ViewingDirection.RTL;\n            }\n        }));\n        this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe((result) => {\n            this.hasHits = result.hits.length > 0;\n        }));\n    }\n    destroy() {\n        this.unsubscribe();\n    }\n    handleKeyEvents(event) {\n        const accessKeys = new AccessKeys(event);\n        if (!this.isKeyDisabled(event.keyCode)) {\n            if (accessKeys.isArrowLeftKeys()) {\n                if (!this.isZoomedIn()) {\n                    this.invert\n                        ? accessKeys.execute(() => this.goToNextCanvasGroup())\n                        : accessKeys.execute(() => this.goToPreviousCanvasGroup());\n                }\n            }\n            else if (accessKeys.isArrowRightKeys()) {\n                if (!this.isZoomedIn()) {\n                    this.invert\n                        ? accessKeys.execute(() => this.goToPreviousCanvasGroup())\n                        : accessKeys.execute(() => this.goToNextCanvasGroup());\n                }\n            }\n            else if (accessKeys.isFirstCanvasGroupKeys()) {\n                accessKeys.execute(() => this.goToFirstCanvasGroup());\n            }\n            else if (accessKeys.isLastCanvasGroupKeys()) {\n                accessKeys.execute(() => this.goToLastCanvasGroup());\n            }\n            else if (accessKeys.isNextHitKeys() && this.hasHits) {\n                accessKeys.execute(() => this.goToNextHit());\n            }\n            else if (accessKeys.isPreviousHitKeys() && this.hasHits) {\n                accessKeys.execute(() => this.goToPreviousHit());\n            }\n            else if (accessKeys.isFullscreenKeys()) {\n                accessKeys.execute(() => this.toggleFullscreen());\n            }\n            else if (accessKeys.isSearchDialogKeys() && this.isSearchable) {\n                accessKeys.execute(() => {\n                    this.toggleSearchDialog();\n                });\n            }\n            else if (accessKeys.isInformationDialogKeys()) {\n                accessKeys.execute(() => this.toggleInformationDialog());\n            }\n            else if (accessKeys.isResetSearchKeys()) {\n                accessKeys.execute(() => this.resetSearch());\n            }\n            else if (accessKeys.isPageDownKeys()) {\n                accessKeys.execute(() => this.goToNextCanvasGroup());\n            }\n            else if (accessKeys.isPageUpKeys()) {\n                accessKeys.execute(() => this.goToPreviousCanvasGroup());\n            }\n            else if (accessKeys.isZoomInKeys()) {\n                accessKeys.execute(() => this.zoomIn());\n            }\n            else if (accessKeys.isZoomOutKeys()) {\n                accessKeys.execute(() => this.zoomOut());\n            }\n            else if (accessKeys.isZoomHomeKeys()) {\n                accessKeys.execute(() => this.zoomHome());\n            }\n            else if (accessKeys.isRotateKeys()) {\n                accessKeys.execute(() => this.rotateClockWise());\n            }\n            else if (accessKeys.isRecognizedTextContentKeys()) {\n                accessKeys.execute(() => this.toggleRecognizedTextContentInSplitView());\n            }\n        }\n    }\n    goToNextCanvasGroup() {\n        this.viewerService.goToNextCanvasGroup();\n    }\n    goToPreviousCanvasGroup() {\n        this.viewerService.goToPreviousCanvasGroup();\n    }\n    goToFirstCanvasGroup() {\n        this.viewerService.goToCanvasGroup(0, false);\n    }\n    goToLastCanvasGroup() {\n        this.viewerService.goToCanvasGroup(this.canvasService.numberOfCanvasGroups - 1, false);\n    }\n    rotateClockWise() {\n        this.viewerService.rotate();\n        this.mimeDomHelper.setFocusOnViewer();\n    }\n    toggleRecognizedTextContentInSplitView() {\n        if (this.altoService.recognizedTextContentMode !== RecognizedTextMode.SPLIT) {\n            this.altoService.showRecognizedTextContentInSplitView();\n        }\n        else {\n            this.altoService.closeRecognizedTextContent();\n        }\n    }\n    goToNextHit() {\n        this.contentSearchNavigationService.goToNextHit();\n    }\n    goToPreviousHit() {\n        this.contentSearchNavigationService.goToPreviousHit();\n    }\n    zoomIn() {\n        if (this.modeService.mode === ViewerMode.DASHBOARD) {\n            this.modeService.toggleMode();\n        }\n        else {\n            this.viewerService.zoomIn();\n        }\n    }\n    zoomOut() {\n        if (this.modeService.mode === ViewerMode.PAGE) {\n            this.modeService.toggleMode();\n        }\n        else if (this.modeService.isPageZoomed()) {\n            this.viewerService.zoomOut();\n        }\n    }\n    zoomHome() {\n        if (this.modeService.isPageZoomed()) {\n            this.viewerService.home();\n        }\n    }\n    toggleSearchDialog() {\n        if (this.modeService.mode === ViewerMode.PAGE ||\n            this.modeService.isPageZoomed()) {\n            this.modeService.mode = ViewerMode.DASHBOARD;\n            this.contentSearchDialogService.open();\n        }\n        else {\n            if (this.contentSearchDialogService.isOpen()) {\n                this.contentSearchDialogService.close();\n            }\n            else {\n                this.contentSearchDialogService.open();\n            }\n        }\n        this.informationDialogService.close();\n        this.viewDialogService.close();\n    }\n    toggleInformationDialog() {\n        if (this.modeService.mode === ViewerMode.PAGE ||\n            this.modeService.isPageZoomed()) {\n            this.modeService.mode = ViewerMode.DASHBOARD;\n            this.informationDialogService.open();\n        }\n        else {\n            if (this.informationDialogService.isOpen()) {\n                this.informationDialogService.close();\n            }\n            else {\n                this.informationDialogService.open();\n            }\n        }\n        this.contentSearchDialogService.close();\n        this.viewDialogService.close();\n    }\n    toggleFullscreen() {\n        this.mimeDomHelper.toggleFullscreen();\n        this.mimeDomHelper.setFocusOnViewer();\n    }\n    resetSearch() {\n        this.iiifContentSearchService.destroy();\n    }\n    isManifestSearchable(manifest) {\n        return manifest.service ? true : false;\n    }\n    isZoomedIn() {\n        return this.modeService.isPageZoomed();\n    }\n    updateDisabledKeys() {\n        this.resetDisabledKeys();\n        if (this.informationDialogService.isOpen()) {\n            this.disableKeysForContentDialog();\n        }\n        else if (this.contentSearchDialogService.isOpen()) {\n            this.diableKeysForContentSearchDialog();\n        }\n        if (this.isRecognizedTextContentModeOnly()) {\n            this.disableKeysForRecognizedTextContentOnly();\n        }\n    }\n    disableKeysForContentDialog() {\n        this.disabledKeys = this.disabledKeys\n            .concat(AccessKeys.ARROWLEFT)\n            .concat(AccessKeys.ARROWRIGHT);\n    }\n    diableKeysForContentSearchDialog() {\n        this.disabledKeys = this.disabledKeys\n            .concat(AccessKeys.ARROWLEFT)\n            .concat(AccessKeys.ARROWRIGHT)\n            .concat(AccessKeys.firstCanvasGroupCodes)\n            .concat(AccessKeys.lastCanvasGroupCodes)\n            .concat(AccessKeys.zoomInCodes)\n            .concat(AccessKeys.zoomOutCodes)\n            .concat(AccessKeys.zoomHomeCodes)\n            .concat(AccessKeys.nextHit)\n            .concat(AccessKeys.previousHit)\n            .concat(AccessKeys.toggleSearchDialogCodes)\n            .concat(AccessKeys.toggleInformationDialogCodes)\n            .concat(AccessKeys.toggleFullscreenCodes);\n    }\n    isRecognizedTextContentModeOnly() {\n        return (this.altoService.recognizedTextContentMode === RecognizedTextMode.ONLY);\n    }\n    disableKeysForRecognizedTextContentOnly() {\n        this.disabledKeys = this.disabledKeys\n            .concat(AccessKeys.zoomInCodes)\n            .concat(AccessKeys.zoomOutCodes)\n            .concat(AccessKeys.zoomHomeCodes);\n    }\n    resetDisabledKeys() {\n        this.disabledKeys = [];\n    }\n    isKeyDisabled(keyCode) {\n        this.updateDisabledKeys();\n        return this.disabledKeys.indexOf(keyCode) > -1;\n    }\n    unsubscribe() {\n        if (this.subscriptions) {\n            this.subscriptions.unsubscribe();\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AccessKeysService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AccessKeysService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AccessKeysService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjZXNzLWtleXMuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL2FjY2Vzcy1rZXlzLWhhbmRsZXItc2VydmljZS9hY2Nlc3Mta2V5cy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDcEMsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sMkRBQTJELENBQUM7QUFDdkcsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0scURBQXFELENBQUM7QUFDL0YsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDMUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQzNELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUNqRSxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw0REFBNEQsQ0FBQztBQUN0RyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxnREFBZ0QsQ0FBQztBQUNyRixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQzNELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxVQUFVLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDM0QsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBR2xELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQy9ELE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLG1GQUFtRixDQUFDO0FBQ25JLE9BQU8sRUFBRSxhQUFhLEVBQUUs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WUFBWSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRU8sV0FBVztRQUNqQixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25DLENBQUM7SUFDSCxDQUFDOzhHQXJSVSxpQkFBaUI7a0hBQWpCLGlCQUFpQjs7MkZBQWpCLGlCQUFpQjtrQkFEN0IsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluamVjdCwgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDb250ZW50U2VhcmNoRGlhbG9nU2VydmljZSB9IGZyb20gJy4uLy4uL2NvbnRlbnQtc2VhcmNoLWRpYWxvZy9jb250ZW50LXNlYXJjaC1kaWFsb2cuc2VydmljZSc7XG5pbXBvcnQgeyBJbmZvcm1hdGlvbkRpYWxvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi9pbmZvcm1hdGlvbi1kaWFsb2cvaW5mb3JtYXRpb24tZGlhbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgVmlld0RpYWxvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi92aWV3LWRpYWxvZy92aWV3LWRpYWxvZy5zZXJ2aWNlJztcbmltcG9ydCB7IEFsdG9TZXJ2aWNlIH0gZnJvbSAnLi4vYWx0by1zZXJ2aWNlL2FsdG8uc2VydmljZSc7XG5pbXBvcnQgeyBDYW52YXNTZXJ2aWNlIH0gZnJvbSAnLi4vY2FudmFzLXNlcnZpY2UvY2FudmFzLXNlcnZpY2UnO1xuaW1wb3J0IHsgSWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlIH0gZnJvbSAnLi4vaWlpZi1jb250ZW50LXNlYXJjaC1zZXJ2aWNlL2lpaWYtY29udGVudC1zZWFyY2guc2VydmljZSc7XG5pbXBvcnQgeyBJaWlmTWFuaWZlc3RTZXJ2aWNlIH0gZnJvbSAnLi4vaWlpZi1tYW5pZmVzdC1zZXJ2aWNlL2lpaWYtbWFuaWZlc3Qtc2VydmljZSc7XG5pbXBvcnQgeyBNaW1lRG9tSGVscGVyIH0gZnJvbSAnLi4vbWltZS1kb20taGVscGVyJztcbmltcG9ydCB7IE1vZGVTZXJ2aWNlIH0gZnJvbSAnLi4vbW9kZS1zZXJ2aWNlL21vZGUuc2VydmljZSc7XG5pbXBvcnQgeyBSZWNvZ25pemVkVGV4dE1vZGUsIFZpZXdlck1vZGUgfSBmcm9tICcuLi9tb2RlbHMnO1xuaW1wb3J0IHsgQWNjZXNzS2V5cyB9IGZyb20gJy4uL21vZGVscy9BY2Nlc3NLZXlzJztcbmltcG9ydCB7IE1hbmlmZXN0IH0gZnJvbSAnLi4vbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IFNlYXJjaFJlc3VsdCB9IGZyb20gJy4uL21vZGVscy9zZWFyY2gtcmVzdWx0JztcbmltcG9ydCB7IFZpZXdpbmdEaXJlY3Rpb24gfSBmcm9tICcuLi9tb2RlbHMvdmlld2luZy1kaXJlY3Rpb24nO1xuaW1wb3J0IHsgQ29udGVudFNlYXJjaE5hdmlnYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vbmF2aWdhdGlvbi9jb250ZW50LXNlYXJjaC1uYXZpZ2F0aW9uLXNlcnZpY2UvY29udGVudC1zZWFyY2gtbmF2aWdhdGlvbi5zZXJ2aWNlJztcbmltcG9ydCB7IFZpZXdlclNlcnZpY2UgfSBmcm9tICcuLi92aWV3ZXItc2VydmljZS92aWV3ZXIuc2VydmljZSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBY2Nlc3NLZXlzU2VydmljZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgdmlld2VyU2VydmljZSA9IGluamVjdChWaWV3ZXJTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjYW52YXNTZXJ2aWNlID0gaW5qZWN0KENhbnZhc1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IG1vZGVTZXJ2aWNlID0gaW5qZWN0KE1vZGVTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBpaWlmTWFuaWZlc3RTZXJ2aWNlID0gaW5qZWN0KElpaWZNYW5pZmVzdFNlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGlpaWZDb250ZW50U2VhcmNoU2VydmljZSA9IGluamVjdChJaWlmQ29udGVudFNlYXJjaFNlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNvbnRlbnRTZWFyY2hEaWFsb2dTZXJ2aWNlID0gaW5qZWN0KFxuICAgIENvbnRlbnRTZWFyY2hEaWFsb2dTZXJ2aWNlLFxuICApO1xuICBwcml2YXRlIHJlYWRvbmx5IGluZm9ybWF0aW9uRGlhbG9nU2VydmljZSA9IGluamVjdChJbmZvcm1hdGlvbkRpYWxvZ1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IHZpZXdEaWFsb2dTZXJ2aWNlID0gaW5qZWN0KFZpZXdEaWFsb2dTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBtaW1lRG9tSGVscGVyID0gaW5qZWN0KE1pbWVEb21IZWxwZXIpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNvbnRlbnRTZWFyY2hOYXZpZ2F0aW9uU2VydmljZSA9IGluamVjdChcbiAgICBDb250ZW50U2VhcmNoTmF2aWdhdGlvblNlcnZpY2UsXG4gICk7XG4gIHByaXZhdGUgcmVhZG9ubHkgYWx0b1NlcnZpY2UgPSBpbmplY3QoQWx0b1NlcnZpY2UpO1xuICBwcml2YXRlIGlzU2VhcmNoYWJsZSA9IGZhbHNlO1xuICBwcml2YXRlIGhhc0hpdHMgPSBmYWxzZTtcbiAgcHJpdmF0ZSBkaXNhYmxlZEtleXM6IG51bWJlcltdID0gW107XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgcHJpdmF0ZSBpbnZlcnQgPSBmYWxzZTtcblxuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5paWlmTWFuaWZlc3RTZXJ2aWNlLmN1cnJlbnRNYW5pZmVzdC5zdWJzY3JpYmUoXG4gICAgICAgIChtYW5pZmVzdDogTWFuaWZlc3QgfCBudWxsKSA9PiB7XG4gICAgICAgICAgaWYgKG1hbmlmZXN0KSB7XG4gICAgICAgICAgICB0aGlzLmlzU2VhcmNoYWJsZSA9IHRoaXMuaXNNYW5pZmVzdFNlYXJjaGFibGUobWFuaWZlc3QpO1xuICAgICAgICAgICAgdGhpcy5pbnZlcnQgPSBtYW5pZmVzdC52aWV3aW5nRGlyZWN0aW9uID09PSBWaWV3aW5nRGlyZWN0aW9uLlJUTDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5paWlmQ29udGVudFNlYXJjaFNlcnZpY2Uub25DaGFuZ2Uuc3Vic2NyaWJlKFxuICAgICAgICAocmVzdWx0OiBTZWFyY2hSZXN1bHQpID0+IHtcbiAgICAgICAgICB0aGlzLmhhc0hpdHMgPSByZXN1bHQuaGl0cy5sZW5ndGggPiAwO1xuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlS2V5RXZlbnRzKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgY29uc3QgYWNjZXNzS2V5cyA9IG5ldyBBY2Nlc3NLZXlzKGV2ZW50KTtcbiAgICBpZiAoIXRoaXMuaXNLZXlEaXNhYmxlZChldmVudC5rZXlDb2RlKSkge1xuICAgICAgaWYgKGFjY2Vzc0tleXMuaXNBcnJvd0xlZnRLZXlzKCkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzWm9vbWVkSW4oKSkge1xuICAgICAgICAgIHRoaXMuaW52ZXJ0XG4gICAgICAgICAgICA/IGFjY2Vzc0tleXMuZXhlY3V0ZSgoKSA9PiB0aGlzLmdvVG9OZXh0Q2FudmFzR3JvdXAoKSlcbiAgICAgICAgICAgIDogYWNjZXNzS2V5cy5leGVjdXRlKCgpID0+IHRoaXMuZ29Ub1ByZXZpb3VzQ2FudmFzR3JvdXAoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWNjZXNzS2V5cy5pc0Fycm93UmlnaHRLZXlzKCkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzWm9vbWVkSW4oKSkge1xuICAgICAgICAgIHRoaXMuaW52ZXJ0XG4gICAgICAgICAgICA/IGFjY2Vzc0tleXMuZXhlY3V0ZSgoKSA9PiB0aGlzLmdvVG9QcmV2aW91c0NhbnZhc0dyb3VwKCkpXG4gICAgICAgICAgICA6IGFjY2Vzc0tleXMuZXhlY3V0ZSgoKSA9PiB0aGlzLmdvVG9OZXh0Q2FudmFzR3JvdXAoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWNjZXNzS2V5cy5pc0ZpcnN0Q2FudmFzR3JvdXBLZXlzKCkpIHtcbiAgICAgICAgYWNjZXNzS2V5cy5leGVjdXRlKCgpID0+IHRoaXMuZ29Ub0ZpcnN0Q2FudmFzR3JvdXAoKSk7XG4gICAgICB9IGVsc2UgaWYgKGFjY2Vzc0tleXMuaXNMYXN0Q2FudmFzR3JvdXBLZXlzKCkpIHtcbiAgICAgICAgYWNjZXNzS2V5cy5leGVjdXRlKCgpID0+IHRoaXMuZ29Ub0xhc3RDYW52YXNHcm91cCgpKTtcbiAgICAgIH0gZWxzZSBpZiAoYWNjZXNzS2V5cy5pc05leHRIaXRLZXlzKCkgJiYgdGhpcy5oYXNIaXRzKSB7XG4gICAgICAgIGFjY2Vzc0tleXMuZXhlY3V0ZSgoKSA9PiB0aGlzLmdvVG9OZXh0SGl0KCkpO1xuICAgICAgfSBlbHNlIGlmIChhY2Nlc3NLZXlzLmlzUHJldmlvdXNIaXRLZXlzKCkgJiYgdGhpcy5oYXNIaXRzKSB7XG4gICAgICAgIGFjY2Vzc0tleXMuZXhlY3V0ZSgoKSA9PiB0aGlzLmdvVG9QcmV2aW91c0hpdCgpKTtcbiAgICAgIH0gZWxzZSBpZiAoYWNjZXNzS2V5cy5pc0Z1bGxzY3JlZW5LZXlzKCkpIHtcbiAgICAgICAgYWNjZXNzS2V5cy5leGVjdXRlKCgpID0+IHRoaXMudG9nZ2xlRnVsbHNjcmVlbigpKTtcbiAgICAgIH0gZWxzZSBpZiAoYWNjZXNzS2V5cy5pc1NlYXJjaERpYWxvZ0tleXMoKSAmJiB0aGlzLmlzU2VhcmNoYWJsZSkge1xuICAgICAgICBhY2Nlc3NLZXlzLmV4ZWN1dGUoKCkgPT4ge1xuICAgICAgICAgIHRoaXMudG9nZ2xlU2VhcmNoRGlhbG9nKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChhY2Nlc3NLZXlzLmlzSW5mb3JtYXRpb25EaWFsb2dLZXlzKCkpIHtcbiAgICAgICAgYWNjZXNzS2V5cy5leGVjdXRlKCgpID0+IHRoaXMudG9nZ2xlSW5mb3JtYXRpb25EaWFsb2coKSk7XG4gICAgICB9IGVsc2UgaWYgKGFjY2Vzc0tleXMuaXNSZXNldFNlYXJjaEtleXMoKSkge1xuICAgICAgICBhY2Nlc3NLZXlzLmV4ZWN1dGUoKCkgPT4gdGhpcy5yZXNldFNlYXJjaCgpKTtcbiAgICAgIH0gZWxzZSBpZiAoYWNjZXNzS2V5cy5pc1BhZ2VEb3duS2V5cygpKSB7XG4gICAgICAgIGFjY2Vzc0tleXMuZXhlY3V0ZSgoKSA9PiB0aGlzLmdvVG9OZXh0Q2FudmFzR3JvdXAoKSk7XG4gICAgICB9IGVsc2UgaWYgKGFjY2Vzc0tleXMuaXNQYWdlVXBLZXlzKCkpIHtcbiAgICAgICAgYWNjZXNzS2V5cy5leGVjdXRlKCgpID0+IHRoaXMuZ29Ub1ByZXZpb3VzQ2FudmFzR3JvdXAoKSk7XG4gICAgICB9IGVsc2UgaWYgKGFjY2Vzc0tleXMuaXNab29tSW5LZXlzKCkpIHtcbiAgICAgICAgYWNjZXNzS2V5cy5leGVjdXRlKCgpID0+IHRoaXMuem9vbUluKCkpO1xuICAgICAgfSBlbHNlIGlmIChhY2Nlc3NLZXlzLmlzWm9vbU91dEtleXMoKSkge1xuICAgICAgICBhY2Nlc3NLZXlzLmV4ZWN1dGUoKCkgPT4gdGhpcy56b29tT3V0KCkpO1xuICAgICAgfSBlbHNlIGlmIChhY2Nlc3NLZXlzLmlzWm9vbUhvbWVLZXlzKCkpIHtcbiAgICAgICAgYWNjZXNzS2V5cy5leGVjdXRlKCgpID0+IHRoaXMuem9vbUhvbWUoKSk7XG4gICAgICB9IGVsc2UgaWYgKGFjY2Vzc0tleXMuaXNSb3RhdGVLZXlzKCkpIHtcbiAgICAgICAgYWNjZXNzS2V5cy5leGVjdXRlKCgpID0+IHRoaXMucm90YXRlQ2xvY2tXaXNlKCkpO1xuICAgICAgfSBlbHNlIGlmIChhY2Nlc3NLZXlzLmlzUmVjb2duaXplZFRleHRDb250ZW50S2V5cygpKSB7XG4gICAgICAgIGFjY2Vzc0tleXMuZXhlY3V0ZSgoKSA9PiB0aGlzLnRvZ2dsZVJlY29nbml6ZWRUZXh0Q29udGVudEluU3BsaXRWaWV3KCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ29Ub05leHRDYW52YXNHcm91cCgpIHtcbiAgICB0aGlzLnZpZXdlclNlcnZpY2UuZ29Ub05leHRDYW52YXNHcm91cCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBnb1RvUHJldmlvdXNDYW52YXNHcm91cCgpIHtcbiAgICB0aGlzLnZpZXdlclNlcnZpY2UuZ29Ub1ByZXZpb3VzQ2FudmFzR3JvdXAoKTtcbiAgfVxuXG4gIHByaXZhdGUgZ29Ub0ZpcnN0Q2FudmFzR3JvdXAoKSB7XG4gICAgdGhpcy52aWV3ZXJTZXJ2aWNlLmdvVG9DYW52YXNHcm91cCgwLCBmYWxzZSk7XG4gIH1cblxuICBwcml2YXRlIGdvVG9MYXN0Q2FudmFzR3JvdXAoKSB7XG4gICAgdGhpcy52aWV3ZXJTZXJ2aWNlLmdvVG9DYW52YXNHcm91cChcbiAgICAgIHRoaXMuY2FudmFzU2VydmljZS5udW1iZXJPZkNhbnZhc0dyb3VwcyAtIDEsXG4gICAgICBmYWxzZSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSByb3RhdGVDbG9ja1dpc2UoKSB7XG4gICAgdGhpcy52aWV3ZXJTZXJ2aWNlLnJvdGF0ZSgpO1xuICAgIHRoaXMubWltZURvbUhlbHBlci5zZXRGb2N1c09uVmlld2VyKCk7XG4gIH1cblxuICBwcml2YXRlIHRvZ2dsZVJlY29nbml6ZWRUZXh0Q29udGVudEluU3BsaXRWaWV3KCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuYWx0b1NlcnZpY2UucmVjb2duaXplZFRleHRDb250ZW50TW9kZSAhPT0gUmVjb2duaXplZFRleHRNb2RlLlNQTElUXG4gICAgKSB7XG4gICAgICB0aGlzLmFsdG9TZXJ2aWNlLnNob3dSZWNvZ25pemVkVGV4dENvbnRlbnRJblNwbGl0VmlldygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFsdG9TZXJ2aWNlLmNsb3NlUmVjb2duaXplZFRleHRDb250ZW50KCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnb1RvTmV4dEhpdCgpIHtcbiAgICB0aGlzLmNvbnRlbnRTZWFyY2hOYXZpZ2F0aW9uU2VydmljZS5nb1RvTmV4dEhpdCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBnb1RvUHJldmlvdXNIaXQoKSB7XG4gICAgdGhpcy5jb250ZW50U2VhcmNoTmF2aWdhdGlvblNlcnZpY2UuZ29Ub1ByZXZpb3VzSGl0KCk7XG4gIH1cblxuICBwcml2YXRlIHpvb21JbigpIHtcbiAgICBpZiAodGhpcy5tb2RlU2VydmljZS5tb2RlID09PSBWaWV3ZXJNb2RlLkRBU0hCT0FSRCkge1xuICAgICAgdGhpcy5tb2RlU2VydmljZS50b2dnbGVNb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudmlld2VyU2VydmljZS56b29tSW4oKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHpvb21PdXQoKSB7XG4gICAgaWYgKHRoaXMubW9kZVNlcnZpY2UubW9kZSA9PT0gVmlld2VyTW9kZS5QQUdFKSB7XG4gICAgICB0aGlzLm1vZGVTZXJ2aWNlLnRvZ2dsZU1vZGUoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMubW9kZVNlcnZpY2UuaXNQYWdlWm9vbWVkKCkpIHtcbiAgICAgIHRoaXMudmlld2VyU2VydmljZS56b29tT3V0KCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB6b29tSG9tZSgpIHtcbiAgICBpZiAodGhpcy5tb2RlU2VydmljZS5pc1BhZ2Vab29tZWQoKSkge1xuICAgICAgdGhpcy52aWV3ZXJTZXJ2aWNlLmhvbWUoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHRvZ2dsZVNlYXJjaERpYWxvZygpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPT09IFZpZXdlck1vZGUuUEFHRSB8fFxuICAgICAgdGhpcy5tb2RlU2VydmljZS5pc1BhZ2Vab29tZWQoKVxuICAgICkge1xuICAgICAgdGhpcy5tb2RlU2VydmljZS5tb2RlID0gVmlld2VyTW9kZS5EQVNIQk9BUkQ7XG4gICAgICB0aGlzLmNvbnRlbnRTZWFyY2hEaWFsb2dTZXJ2aWNlLm9wZW4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuY29udGVudFNlYXJjaERpYWxvZ1NlcnZpY2UuaXNPcGVuKCkpIHtcbiAgICAgICAgdGhpcy5jb250ZW50U2VhcmNoRGlhbG9nU2VydmljZS5jbG9zZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb250ZW50U2VhcmNoRGlhbG9nU2VydmljZS5vcGVuKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5pbmZvcm1hdGlvbkRpYWxvZ1NlcnZpY2UuY2xvc2UoKTtcbiAgICB0aGlzLnZpZXdEaWFsb2dTZXJ2aWNlLmNsb3NlKCk7XG4gIH1cblxuICBwcml2YXRlIHRvZ2dsZUluZm9ybWF0aW9uRGlhbG9nKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMubW9kZVNlcnZpY2UubW9kZSA9PT0gVmlld2VyTW9kZS5QQUdFIHx8XG4gICAgICB0aGlzLm1vZGVTZXJ2aWNlLmlzUGFnZVpvb21lZCgpXG4gICAgKSB7XG4gICAgICB0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPSBWaWV3ZXJNb2RlLkRBU0hCT0FSRDtcbiAgICAgIHRoaXMuaW5mb3JtYXRpb25EaWFsb2dTZXJ2aWNlLm9wZW4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuaW5mb3JtYXRpb25EaWFsb2dTZXJ2aWNlLmlzT3BlbigpKSB7XG4gICAgICAgIHRoaXMuaW5mb3JtYXRpb25EaWFsb2dTZXJ2aWNlLmNsb3NlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluZm9ybWF0aW9uRGlhbG9nU2VydmljZS5vcGVuKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY29udGVudFNlYXJjaERpYWxvZ1NlcnZpY2UuY2xvc2UoKTtcbiAgICB0aGlzLnZpZXdEaWFsb2dTZXJ2aWNlLmNsb3NlKCk7XG4gIH1cblxuICBwcml2YXRlIHRvZ2dsZUZ1bGxzY3JlZW4oKSB7XG4gICAgdGhpcy5taW1lRG9tSGVscGVyLnRvZ2dsZUZ1bGxzY3JlZW4oKTtcbiAgICB0aGlzLm1pbWVEb21IZWxwZXIuc2V0Rm9jdXNPblZpZXdlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNldFNlYXJjaCgpIHtcbiAgICB0aGlzLmlpaWZDb250ZW50U2VhcmNoU2VydmljZS5kZXN0cm95KCk7XG4gIH1cblxuICBwcml2YXRlIGlzTWFuaWZlc3RTZWFyY2hhYmxlKG1hbmlmZXN0OiBNYW5pZmVzdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBtYW5pZmVzdC5zZXJ2aWNlID8gdHJ1ZSA6IGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1pvb21lZEluKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1vZGVTZXJ2aWNlLmlzUGFnZVpvb21lZCgpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVEaXNhYmxlZEtleXMoKSB7XG4gICAgdGhpcy5yZXNldERpc2FibGVkS2V5cygpO1xuICAgIGlmICh0aGlzLmluZm9ybWF0aW9uRGlhbG9nU2VydmljZS5pc09wZW4oKSkge1xuICAgICAgdGhpcy5kaXNhYmxlS2V5c0ZvckNvbnRlbnREaWFsb2coKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY29udGVudFNlYXJjaERpYWxvZ1NlcnZpY2UuaXNPcGVuKCkpIHtcbiAgICAgIHRoaXMuZGlhYmxlS2V5c0ZvckNvbnRlbnRTZWFyY2hEaWFsb2coKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNSZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlT25seSgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVLZXlzRm9yUmVjb2duaXplZFRleHRDb250ZW50T25seSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZGlzYWJsZUtleXNGb3JDb250ZW50RGlhbG9nKCkge1xuICAgIHRoaXMuZGlzYWJsZWRLZXlzID0gdGhpcy5kaXNhYmxlZEtleXNcbiAgICAgIC5jb25jYXQoQWNjZXNzS2V5cy5BUlJPV0xFRlQpXG4gICAgICAuY29uY2F0KEFjY2Vzc0tleXMuQVJST1dSSUdIVCk7XG4gIH1cblxuICBwcml2YXRlIGRpYWJsZUtleXNGb3JDb250ZW50U2VhcmNoRGlhbG9nKCkge1xuICAgIHRoaXMuZGlzYWJsZWRLZXlzID0gdGhpcy5kaXNhYmxlZEtleXNcbiAgICAgIC5jb25jYXQoQWNjZXNzS2V5cy5BUlJPV0xFRlQpXG4gICAgICAuY29uY2F0KEFjY2Vzc0tleXMuQVJST1dSSUdIVClcbiAgICAgIC5jb25jYXQoQWNjZXNzS2V5cy5maXJzdENhbnZhc0dyb3VwQ29kZXMpXG4gICAgICAuY29uY2F0KEFjY2Vzc0tleXMubGFzdENhbnZhc0dyb3VwQ29kZXMpXG4gICAgICAuY29uY2F0KEFjY2Vzc0tleXMuem9vbUluQ29kZXMpXG4gICAgICAuY29uY2F0KEFjY2Vzc0tleXMuem9vbU91dENvZGVzKVxuICAgICAgLmNvbmNhdChBY2Nlc3NLZXlzLnpvb21Ib21lQ29kZXMpXG4gICAgICAuY29uY2F0KEFjY2Vzc0tleXMubmV4dEhpdClcbiAgICAgIC5jb25jYXQoQWNjZXNzS2V5cy5wcmV2aW91c0hpdClcbiAgICAgIC5jb25jYXQoQWNjZXNzS2V5cy50b2dnbGVTZWFyY2hEaWFsb2dDb2RlcylcbiAgICAgIC5jb25jYXQoQWNjZXNzS2V5cy50b2dnbGVJbmZvcm1hdGlvbkRpYWxvZ0NvZGVzKVxuICAgICAgLmNvbmNhdChBY2Nlc3NLZXlzLnRvZ2dsZUZ1bGxzY3JlZW5Db2Rlcyk7XG4gIH1cblxuICBwcml2YXRlIGlzUmVjb2duaXplZFRleHRDb250ZW50TW9kZU9ubHkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuYWx0b1NlcnZpY2UucmVjb2duaXplZFRleHRDb250ZW50TW9kZSA9PT0gUmVjb2duaXplZFRleHRNb2RlLk9OTFlcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBkaXNhYmxlS2V5c0ZvclJlY29nbml6ZWRUZXh0Q29udGVudE9ubHkoKTogdm9pZCB7XG4gICAgdGhpcy5kaXNhYmxlZEtleXMgPSB0aGlzLmRpc2FibGVkS2V5c1xuICAgICAgLmNvbmNhdChBY2Nlc3NLZXlzLnpvb21JbkNvZGVzKVxuICAgICAgLmNvbmNhdChBY2Nlc3NLZXlzLnpvb21PdXRDb2RlcylcbiAgICAgIC5jb25jYXQoQWNjZXNzS2V5cy56b29tSG9tZUNvZGVzKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzZXREaXNhYmxlZEtleXMoKSB7XG4gICAgdGhpcy5kaXNhYmxlZEtleXMgPSBbXTtcbiAgfVxuXG4gIHByaXZhdGUgaXNLZXlEaXNhYmxlZChrZXlDb2RlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICB0aGlzLnVwZGF0ZURpc2FibGVkS2V5cygpO1xuICAgIHJldHVybiB0aGlzLmRpc2FibGVkS2V5cy5pbmRleE9mKGtleUNvZGUpID4gLTE7XG4gIH1cblxuICBwcml2YXRlIHVuc3Vic2NyaWJlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbnMpIHtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxufVxuIl19","import { Component, ElementRef, HostListener, inject, Renderer2, ViewChild, } from '@angular/core';\nimport { MatIconButton } from '@angular/material/button';\nimport { MatDialogClose, MatDialogContent, MatDialogTitle, } from '@angular/material/dialog';\nimport { MatIcon } from '@angular/material/icon';\nimport { MatTooltip } from '@angular/material/tooltip';\nimport { Subscription } from 'rxjs';\nimport { AccessKeysService } from '../core/access-keys-handler-service/access-keys.service';\nimport { IiifManifestService } from '../core/iiif-manifest-service/iiif-manifest-service';\nimport { MimeViewerIntl } from '../core/intl';\nimport { StyleService } from '../core/style-service/style.service';\nimport { AttributionDialogResizeService } from './attribution-dialog-resize.service';\nimport * as i0 from \"@angular/core\";\nexport class AttributionDialogComponent {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.manifest = null;\n        this.renderer = inject(Renderer2);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.attributionDialogResizeService = inject(AttributionDialogResizeService);\n        this.styleService = inject(StyleService);\n        this.accessKeysHandlerService = inject(AccessKeysService);\n        this.subscriptions = new Subscription();\n    }\n    handleKeys(event) {\n        this.accessKeysHandlerService.handleKeyEvents(event);\n    }\n    onResize(event) {\n        this.attributionDialogResizeService.markForCheck();\n    }\n    ngOnInit() {\n        this.attributionDialogResizeService.el = this.container;\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            this.manifest = manifest;\n        }));\n    }\n    ngAfterViewInit() {\n        this.subscriptions.add(this.styleService.onChange.subscribe((color) => {\n            if (color) {\n                const backgroundRgbaColor = this.styleService.convertToRgba(color, 0.3);\n                this.renderer.setStyle(this.container?.nativeElement, 'background-color', backgroundRgbaColor);\n            }\n        }));\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    ngAfterViewChecked() {\n        this.attributionDialogResizeService.markForCheck();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AttributionDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.3.5\", type: AttributionDialogComponent, isStandalone: true, selector: \"ng-component\", host: { listeners: { \"keydown\": \"handleKeys($event)\", \"window:resize\": \"onResize($event)\" } }, viewQueries: [{ propertyName: \"container\", first: true, predicate: [\"container\"], descendants: true, static: true }], ngImport: i0, template: \"<div #container class=\\\"attribution-container\\\">\\n  <div class=\\\"attribution-toolbar mr-4 flex items-center justify-between\\\">\\n    <h1 mat-dialog-title>{{ intl.attributionLabel }}</h1>\\n    <button\\n      mat-icon-button\\n      [aria-label]=\\\"intl.attributonCloseAriaLabel\\\"\\n      [matTooltip]=\\\"intl.closeLabel\\\"\\n      [matDialogClose]=\\\"true\\\"\\n    >\\n      <mat-icon>close</mat-icon>\\n    </button>\\n  </div>\\n  <p mat-dialog-content [innerHTML]=\\\"manifest?.attribution\\\"> </p>\\n</div>\\n\", styles: [\".attribution-toolbar{background:transparent}::ng-deep .attribution-panel .mdc-dialog__surface{background:transparent!important}::ng-deep .attribution-container>.mat-mdc-dialog-content{font-size:11px}::ng-deep .attribution-toolbar>.mat-toolbar-layout>.mat-toolbar-row{height:20px}\\n\"], dependencies: [{ kind: \"directive\", type: MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { kind: \"component\", type: MatIconButton, selector: \"button[mat-icon-button], a[mat-icon-button], button[matIconButton], a[matIconButton]\", exportAs: [\"matButton\", \"matAnchor\"] }, { kind: \"directive\", type: MatTooltip, selector: \"[matTooltip]\", inputs: [\"matTooltipPosition\", \"matTooltipPositionAtOrigin\", \"matTooltipDisabled\", \"matTooltipShowDelay\", \"matTooltipHideDelay\", \"matTooltipTouchGestures\", \"matTooltip\", \"matTooltipClass\"], exportAs: [\"matTooltip\"] }, { kind: \"directive\", type: MatDialogClose, selector: \"[mat-dialog-close], [matDialogClose]\", inputs: [\"aria-label\", \"type\", \"mat-dialog-close\", \"matDialogClose\"], exportAs: [\"matDialogClose\"] }, { kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"directive\", type: MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AttributionDialogComponent, decorators: [{\n            type: Component,\n            args: [{ imports: [\n                        MatDialogTitle,\n                        MatIconButton,\n                        MatTooltip,\n                        MatDialogClose,\n                        MatIcon,\n                        MatDialogContent,\n                    ], template: \"<div #container class=\\\"attribution-container\\\">\\n  <div class=\\\"attribution-toolbar mr-4 flex items-center justify-between\\\">\\n    <h1 mat-dialog-title>{{ intl.attributionLabel }}</h1>\\n    <button\\n      mat-icon-button\\n      [aria-label]=\\\"intl.attributonCloseAriaLabel\\\"\\n      [matTooltip]=\\\"intl.closeLabel\\\"\\n      [matDialogClose]=\\\"true\\\"\\n    >\\n      <mat-icon>close</mat-icon>\\n    </button>\\n  </div>\\n  <p mat-dialog-content [innerHTML]=\\\"manifest?.attribution\\\"> </p>\\n</div>\\n\", styles: [\".attribution-toolbar{background:transparent}::ng-deep .attribution-panel .mdc-dialog__surface{background:transparent!important}::ng-deep .attribution-container>.mat-mdc-dialog-content{font-size:11px}::ng-deep .attribution-toolbar>.mat-toolbar-layout>.mat-toolbar-row{height:20px}\\n\"] }]\n        }], propDecorators: { container: [{\n                type: ViewChild,\n                args: ['container', { static: true }]\n            }], handleKeys: [{\n                type: HostListener,\n                args: ['keydown', ['$event']]\n            }], onResize: [{\n                type: HostListener,\n                args: ['window:resize', ['$event']]\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRpb24tZGlhbG9nLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9hdHRyaWJ1dGlvbi1kaWFsb2cvYXR0cmlidXRpb24tZGlhbG9nLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9hdHRyaWJ1dGlvbi1kaWFsb2cvYXR0cmlidXRpb24tZGlhbG9nLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFHTCxTQUFTLEVBQ1QsVUFBVSxFQUNWLFlBQVksRUFDWixNQUFNLEVBR04sU0FBUyxFQUNULFNBQVMsR0FDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDekQsT0FBTyxFQUNMLGNBQWMsRUFDZCxnQkFBZ0IsRUFDaEIsY0FBYyxHQUNmLE1BQU0sMEJBQTBCLENBQUM7QUFDbEMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2pELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHlEQUF5RCxDQUFDO0FBQzVGLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHFEQUFxRCxDQUFDO0FBQzFGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFOUMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQ25FLE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDOztBQWNyRixNQUFNLE9BQU8sMEJBQTBCO0lBWnZDO1FBZ0JFLFNBQUksR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDOUIsYUFBUSxHQUFvQixJQUFJLENBQUM7UUFDaEIsYUFBUSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM3Qix3QkFBbUIsR0FBRyxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNsRCxtQ0FBOEIsR0FBRyxNQUFNLENBQ3RELDhCQUE4QixDQUMvQixDQUFDO1FBQ2UsaUJBQVksR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDcEMsNkJBQXdCLEdBQUcsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDckQsa0JBQWEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO0tBaURyRDtJQTlDQyxVQUFVLENBQUMsS0FBb0I7UUFDN0IsSUFBSSxDQUFDLHdCQUF3QixDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBR0QsUUFBUSxDQUFDLEtBQVU7UUFDakIsSUFBSSxDQUFDLDhCQUE4QixDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3JELENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLDhCQUE4QixDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBRXhELElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUNwQixJQUFJLENBQUMsbUJBQW1CLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FDaEQsQ0FBQyxRQUF5QixFQUFFLEVBQUU7WUFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDM0IsQ0FBQyxDQUNGLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRCxlQUFlO1FBQ2IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQ3BCLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQXlCLEVBQUUsRUFBRTtZQUNqRSxJQUFJLEtBQUssRUFBRSxDQUFDO2dCQUNWLE1BQU0sbUJBQW1CLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQ3pELEtBQUssRUFDTCxHQUFHLENBQ0osQ0FBQztnQkFDRixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FDcEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxhQUFhLEVBQzdCLGtCQUFrQixFQUNsQixtQkFBbUIsQ0FDcEIsQ0FBQztZQUNKLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FDSCxDQUFDO0lBQ0osQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFFRCxrQkFBa0I7UUFDaEIsSUFBSSxDQUFDLDhCQUE4QixDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3JELENBQUM7OEdBN0RVLDBCQUEwQjtrR0FBMUIsMEJBQTBCLDZSQ3hDdkMsK2VBY0EsbVZEa0JJLGNBQWMsK0hBQ2QsYUFBYSx1S0FDYixVQUFVLGlSQUNWLGNBQWMscUxBQ2QsT0FBTywySUFDUCxnQkFBZ0I7OzJGQUdQLDBCQUEwQjtrQkFadEMsU0FBUzs4QkFHQzt3QkFDUCxjQUFjO3dCQUNkLGFBQWE7d0JBQ2IsVUFBVTt3QkFDVixjQUFjO3dCQUNkLE9BQU87d0JBQ1AsZ0JBQWdCO3FCQUNqQjs7c0JBS0EsU0FBUzt1QkFBQyxXQUFXLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFOztzQkFZdkMsWUFBWTt1QkFBQyxTQUFTLEVBQUUsQ0FBQyxRQUFRLENBQUM7O3NCQUtsQyxZQUFZO3VCQUFDLGVBQWUsRUFBRSxDQUFDLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFmdGVyVmlld0NoZWNrZWQsXG4gIEFmdGVyVmlld0luaXQsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgSG9zdExpc3RlbmVyLFxuICBpbmplY3QsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBSZW5kZXJlcjIsXG4gIFZpZXdDaGlsZCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXRJY29uQnV0dG9uIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvYnV0dG9uJztcbmltcG9ydCB7XG4gIE1hdERpYWxvZ0Nsb3NlLFxuICBNYXREaWFsb2dDb250ZW50LFxuICBNYXREaWFsb2dUaXRsZSxcbn0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcbmltcG9ydCB7IE1hdEljb24gfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9pY29uJztcbmltcG9ydCB7IE1hdFRvb2x0aXAgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC90b29sdGlwJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQWNjZXNzS2V5c1NlcnZpY2UgfSBmcm9tICcuLi9jb3JlL2FjY2Vzcy1rZXlzLWhhbmRsZXItc2VydmljZS9hY2Nlc3Mta2V5cy5zZXJ2aWNlJztcbmltcG9ydCB7IElpaWZNYW5pZmVzdFNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL2lpaWYtbWFuaWZlc3Qtc2VydmljZS9paWlmLW1hbmlmZXN0LXNlcnZpY2UnO1xuaW1wb3J0IHsgTWltZVZpZXdlckludGwgfSBmcm9tICcuLi9jb3JlL2ludGwnO1xuaW1wb3J0IHsgTWFuaWZlc3QgfSBmcm9tICcuLi9jb3JlL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBTdHlsZVNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL3N0eWxlLXNlcnZpY2Uvc3R5bGUuc2VydmljZSc7XG5pbXBvcnQgeyBBdHRyaWJ1dGlvbkRpYWxvZ1Jlc2l6ZVNlcnZpY2UgfSBmcm9tICcuL2F0dHJpYnV0aW9uLWRpYWxvZy1yZXNpemUuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICB0ZW1wbGF0ZVVybDogJy4vYXR0cmlidXRpb24tZGlhbG9nLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vYXR0cmlidXRpb24tZGlhbG9nLmNvbXBvbmVudC5zY3NzJ10sXG4gIGltcG9ydHM6IFtcbiAgICBNYXREaWFsb2dUaXRsZSxcbiAgICBNYXRJY29uQnV0dG9uLFxuICAgIE1hdFRvb2x0aXAsXG4gICAgTWF0RGlhbG9nQ2xvc2UsXG4gICAgTWF0SWNvbixcbiAgICBNYXREaWFsb2dDb250ZW50LFxuICBdLFxufSlcbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGlvbkRpYWxvZ0NvbXBvbmVudFxuICBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95LCBBZnRlclZpZXdDaGVja2VkXG57XG4gIEBWaWV3Q2hpbGQoJ2NvbnRhaW5lcicsIHsgc3RhdGljOiB0cnVlIH0pIGNvbnRhaW5lciE6IEVsZW1lbnRSZWY7XG4gIGludGwgPSBpbmplY3QoTWltZVZpZXdlckludGwpO1xuICBtYW5pZmVzdDogTWFuaWZlc3QgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSByZW5kZXJlciA9IGluamVjdChSZW5kZXJlcjIpO1xuICBwcml2YXRlIHJlYWRvbmx5IGlpaWZNYW5pZmVzdFNlcnZpY2UgPSBpbmplY3QoSWlpZk1hbmlmZXN0U2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgYXR0cmlidXRpb25EaWFsb2dSZXNpemVTZXJ2aWNlID0gaW5qZWN0KFxuICAgIEF0dHJpYnV0aW9uRGlhbG9nUmVzaXplU2VydmljZSxcbiAgKTtcbiAgcHJpdmF0ZSByZWFkb25seSBzdHlsZVNlcnZpY2UgPSBpbmplY3QoU3R5bGVTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBhY2Nlc3NLZXlzSGFuZGxlclNlcnZpY2UgPSBpbmplY3QoQWNjZXNzS2V5c1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgQEhvc3RMaXN0ZW5lcigna2V5ZG93bicsIFsnJGV2ZW50J10pXG4gIGhhbmRsZUtleXMoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICB0aGlzLmFjY2Vzc0tleXNIYW5kbGVyU2VydmljZS5oYW5kbGVLZXlFdmVudHMoZXZlbnQpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignd2luZG93OnJlc2l6ZScsIFsnJGV2ZW50J10pXG4gIG9uUmVzaXplKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLmF0dHJpYnV0aW9uRGlhbG9nUmVzaXplU2VydmljZS5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuYXR0cmlidXRpb25EaWFsb2dSZXNpemVTZXJ2aWNlLmVsID0gdGhpcy5jb250YWluZXI7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5paWlmTWFuaWZlc3RTZXJ2aWNlLmN1cnJlbnRNYW5pZmVzdC5zdWJzY3JpYmUoXG4gICAgICAgIChtYW5pZmVzdDogTWFuaWZlc3QgfCBudWxsKSA9PiB7XG4gICAgICAgICAgdGhpcy5tYW5pZmVzdCA9IG1hbmlmZXN0O1xuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLnN0eWxlU2VydmljZS5vbkNoYW5nZS5zdWJzY3JpYmUoKGNvbG9yOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcbiAgICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgICAgY29uc3QgYmFja2dyb3VuZFJnYmFDb2xvciA9IHRoaXMuc3R5bGVTZXJ2aWNlLmNvbnZlcnRUb1JnYmEoXG4gICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgIDAuMyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUoXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lcj8ubmF0aXZlRWxlbWVudCxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRSZ2JhQ29sb3IsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgbmdBZnRlclZpZXdDaGVja2VkKCkge1xuICAgIHRoaXMuYXR0cmlidXRpb25EaWFsb2dSZXNpemVTZXJ2aWNlLm1hcmtGb3JDaGVjaygpO1xuICB9XG59XG4iLCI8ZGl2ICNjb250YWluZXIgY2xhc3M9XCJhdHRyaWJ1dGlvbi1jb250YWluZXJcIj5cbiAgPGRpdiBjbGFzcz1cImF0dHJpYnV0aW9uLXRvb2xiYXIgbXItNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICA8aDEgbWF0LWRpYWxvZy10aXRsZT57eyBpbnRsLmF0dHJpYnV0aW9uTGFiZWwgfX08L2gxPlxuICAgIDxidXR0b25cbiAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgW2FyaWEtbGFiZWxdPVwiaW50bC5hdHRyaWJ1dG9uQ2xvc2VBcmlhTGFiZWxcIlxuICAgICAgW21hdFRvb2x0aXBdPVwiaW50bC5jbG9zZUxhYmVsXCJcbiAgICAgIFttYXREaWFsb2dDbG9zZV09XCJ0cnVlXCJcbiAgICA+XG4gICAgICA8bWF0LWljb24+Y2xvc2U8L21hdC1pY29uPlxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cbiAgPHAgbWF0LWRpYWxvZy1jb250ZW50IFtpbm5lckhUTUxdPVwibWFuaWZlc3Q/LmF0dHJpYnV0aW9uXCI+IDwvcD5cbjwvZGl2PlxuIl19","import { inject, Injectable, } from '@angular/core';\nimport { MatDialog, MatDialogState, } from '@angular/material/dialog';\nimport { interval, Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { MimeDomHelper } from '../core/mime-dom-helper';\nimport { MimeResizeService } from '../core/mime-resize-service/mime-resize.service';\nimport { Dimensions } from '../core/models/dimensions';\nimport { AttributionDialogResizeService } from './attribution-dialog-resize.service';\nimport { AttributionDialogComponent } from './attribution-dialog.component';\nimport * as i0 from \"@angular/core\";\nexport class AttributionDialogService {\n    constructor() {\n        this.dialog = inject(MatDialog);\n        this.mimeResizeService = inject(MimeResizeService);\n        this.attributionDialogResizeService = inject(AttributionDialogResizeService);\n        this.mimeDomHelper = inject(MimeDomHelper);\n        this._el = null;\n        this.attributionDialogHeight = 0;\n    }\n    set el(el) {\n        this._el = el;\n    }\n    set viewContainerRef(viewContainerRef) {\n        this._viewContainerRef = viewContainerRef;\n    }\n    initialize() {\n        this.subscriptions = new Subscription();\n        this.subscriptions.add(this.mimeResizeService.onResize.subscribe(() => {\n            if (this.isOpen()) {\n                const config = this.getDialogConfig();\n                this.dialogRef?.updatePosition(config.position);\n            }\n        }));\n        this.subscriptions.add(this.attributionDialogResizeService.onResize.subscribe((dimensions) => {\n            if (this.isOpen()) {\n                this.attributionDialogHeight = dimensions.height;\n                const config = this.getDialogConfig();\n                this.dialogRef?.updatePosition(config.position);\n            }\n        }));\n    }\n    destroy() {\n        this.close();\n        this.unsubscribe();\n    }\n    open(timeout) {\n        if (!this.isOpen()) {\n            const config = this.getDialogConfig();\n            this.dialogRef = this.dialog.open(AttributionDialogComponent, config);\n            this.dialogRef\n                .afterClosed()\n                .pipe(take(1))\n                .subscribe(() => {\n                this.mimeDomHelper.setFocusOnViewer();\n            });\n            this.closeDialogAfter(timeout);\n        }\n    }\n    close() {\n        if (this.isOpen()) {\n            this.dialogRef?.close();\n        }\n    }\n    toggle() {\n        this.isOpen() ? this.close() : this.open();\n    }\n    isOpen() {\n        return this.dialogRef?.getState() === MatDialogState.OPEN;\n    }\n    closeDialogAfter(seconds) {\n        if (seconds && seconds > 0) {\n            interval(seconds * 1000)\n                .pipe(take(1))\n                .subscribe(() => {\n                this.close();\n            });\n        }\n    }\n    getDialogConfig() {\n        if (!this._viewContainerRef) {\n            throw new Error('No viewContainerRef');\n        }\n        const dimensions = this.getPosition();\n        return {\n            hasBackdrop: false,\n            width: '180px',\n            panelClass: ['mime-dialog', 'attribution-panel'],\n            position: {\n                top: dimensions.top + 'px',\n                left: dimensions.left + 'px',\n            },\n            autoFocus: true,\n            restoreFocus: false,\n            viewContainerRef: this._viewContainerRef,\n        };\n    }\n    getPosition() {\n        if (!this._el) {\n            throw new Error(`Could not find position because element is missing`);\n        }\n        const padding = 20;\n        const dimensions = this.mimeDomHelper.getBoundingClientRect(this._el);\n        return new Dimensions({\n            top: dimensions.top + dimensions.height - this.attributionDialogHeight - 80,\n            left: dimensions.left + padding,\n        });\n    }\n    unsubscribe() {\n        if (this.subscriptions) {\n            this.subscriptions.unsubscribe();\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AttributionDialogService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AttributionDialogService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: AttributionDialogService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRpb24tZGlhbG9nLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvYXR0cmlidXRpb24tZGlhbG9nL2F0dHJpYnV0aW9uLWRpYWxvZy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFTCxNQUFNLEVBQ04sVUFBVSxHQUVYLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFDTCxTQUFTLEVBR1QsY0FBYyxHQUNmLE1BQU0sMEJBQTBCLENBQUM7QUFDbEMsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDOUMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQztBQUNwRixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdkQsT0FBTyxFQUFFLDhCQUE4QixFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFDckYsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7O0FBRzVFLE1BQU0sT0FBTyx3QkFBd0I7SUFEckM7UUFFbUIsV0FBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzQixzQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUM5QyxtQ0FBOEIsR0FBRyxNQUFNLENBQ3RELDhCQUE4QixDQUMvQixDQUFDO1FBQ2Usa0JBQWEsR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7UUFFL0MsUUFBRyxHQUFzQixJQUFJLENBQUM7UUFFOUIsNEJBQXVCLEdBQUcsQ0FBQyxDQUFDO0tBbUhyQztJQWhIQyxJQUFJLEVBQUUsQ0FB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Q0FBQztJQUNMLENBQUM7SUFFTyxXQUFXO1FBQ2pCLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkMsQ0FBQztJQUNILENBQUM7OEdBNUhVLHdCQUF3QjtrSEFBeEIsd0JBQXdCOzsyRkFBeEIsd0JBQXdCO2tCQURwQyxVQUFVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRWxlbWVudFJlZixcbiAgaW5qZWN0LFxuICBJbmplY3RhYmxlLFxuICBWaWV3Q29udGFpbmVyUmVmLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIE1hdERpYWxvZyxcbiAgTWF0RGlhbG9nQ29uZmlnLFxuICBNYXREaWFsb2dSZWYsXG4gIE1hdERpYWxvZ1N0YXRlLFxufSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xuaW1wb3J0IHsgaW50ZXJ2YWwsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgdGFrZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IE1pbWVEb21IZWxwZXIgfSBmcm9tICcuLi9jb3JlL21pbWUtZG9tLWhlbHBlcic7XG5pbXBvcnQgeyBNaW1lUmVzaXplU2VydmljZSB9IGZyb20gJy4uL2NvcmUvbWltZS1yZXNpemUtc2VydmljZS9taW1lLXJlc2l6ZS5zZXJ2aWNlJztcbmltcG9ydCB7IERpbWVuc2lvbnMgfSBmcm9tICcuLi9jb3JlL21vZGVscy9kaW1lbnNpb25zJztcbmltcG9ydCB7IEF0dHJpYnV0aW9uRGlhbG9nUmVzaXplU2VydmljZSB9IGZyb20gJy4vYXR0cmlidXRpb24tZGlhbG9nLXJlc2l6ZS5zZXJ2aWNlJztcbmltcG9ydCB7IEF0dHJpYnV0aW9uRGlhbG9nQ29tcG9uZW50IH0gZnJvbSAnLi9hdHRyaWJ1dGlvbi1kaWFsb2cuY29tcG9uZW50JztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0aW9uRGlhbG9nU2VydmljZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgZGlhbG9nID0gaW5qZWN0KE1hdERpYWxvZyk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWltZVJlc2l6ZVNlcnZpY2UgPSBpbmplY3QoTWltZVJlc2l6ZVNlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGF0dHJpYnV0aW9uRGlhbG9nUmVzaXplU2VydmljZSA9IGluamVjdChcbiAgICBBdHRyaWJ1dGlvbkRpYWxvZ1Jlc2l6ZVNlcnZpY2UsXG4gICk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWltZURvbUhlbHBlciA9IGluamVjdChNaW1lRG9tSGVscGVyKTtcbiAgcHJpdmF0ZSBkaWFsb2dSZWY/OiBNYXREaWFsb2dSZWY8QXR0cmlidXRpb25EaWFsb2dDb21wb25lbnQ+O1xuICBwcml2YXRlIF9lbDogRWxlbWVudFJlZiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIF92aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGF0dHJpYnV0aW9uRGlhbG9nSGVpZ2h0ID0gMDtcbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zITogU3Vic2NyaXB0aW9uO1xuXG4gIHNldCBlbChlbDogRWxlbWVudFJlZikge1xuICAgIHRoaXMuX2VsID0gZWw7XG4gIH1cblxuICBzZXQgdmlld0NvbnRhaW5lclJlZih2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmKSB7XG4gICAgdGhpcy5fdmlld0NvbnRhaW5lclJlZiA9IHZpZXdDb250YWluZXJSZWY7XG4gIH1cblxuICBwdWJsaWMgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMubWltZVJlc2l6ZVNlcnZpY2Uub25SZXNpemUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKCkpIHtcbiAgICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldERpYWxvZ0NvbmZpZygpO1xuICAgICAgICAgIHRoaXMuZGlhbG9nUmVmPy51cGRhdGVQb3NpdGlvbihjb25maWcucG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmF0dHJpYnV0aW9uRGlhbG9nUmVzaXplU2VydmljZS5vblJlc2l6ZS5zdWJzY3JpYmUoXG4gICAgICAgIChkaW1lbnNpb25zOiBEaW1lbnNpb25zKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRpb25EaWFsb2dIZWlnaHQgPSBkaW1lbnNpb25zLmhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuZ2V0RGlhbG9nQ29uZmlnKCk7XG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1JlZj8udXBkYXRlUG9zaXRpb24oY29uZmlnLnBvc2l0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHVibGljIG9wZW4odGltZW91dD86IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc09wZW4oKSkge1xuICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXREaWFsb2dDb25maWcoKTtcbiAgICAgIHRoaXMuZGlhbG9nUmVmID0gdGhpcy5kaWFsb2cub3BlbihBdHRyaWJ1dGlvbkRpYWxvZ0NvbXBvbmVudCwgY29uZmlnKTtcbiAgICAgIHRoaXMuZGlhbG9nUmVmXG4gICAgICAgIC5hZnRlckNsb3NlZCgpXG4gICAgICAgIC5waXBlKHRha2UoMSkpXG4gICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgIHRoaXMubWltZURvbUhlbHBlci5zZXRGb2N1c09uVmlld2VyKCk7XG4gICAgICAgIH0pO1xuICAgICAgdGhpcy5jbG9zZURpYWxvZ0FmdGVyKHRpbWVvdXQpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBjbG9zZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgICAgdGhpcy5kaWFsb2dSZWY/LmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHRvZ2dsZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzT3BlbigpID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKCk7XG4gIH1cblxuICBwdWJsaWMgaXNPcGVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRpYWxvZ1JlZj8uZ2V0U3RhdGUoKSA9PT0gTWF0RGlhbG9nU3RhdGUuT1BFTjtcbiAgfVxuXG4gIHByaXZhdGUgY2xvc2VEaWFsb2dBZnRlcihzZWNvbmRzOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoc2Vjb25kcyAmJiBzZWNvbmRzID4gMCkge1xuICAgICAgaW50ZXJ2YWwoc2Vjb25kcyAqIDEwMDApXG4gICAgICAgIC5waXBlKHRha2UoMSkpXG4gICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXREaWFsb2dDb25maWcoKTogTWF0RGlhbG9nQ29uZmlnIHtcbiAgICBpZiAoIXRoaXMuX3ZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdmlld0NvbnRhaW5lclJlZicpO1xuICAgIH1cblxuICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLmdldFBvc2l0aW9uKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc0JhY2tkcm9wOiBmYWxzZSxcbiAgICAgIHdpZHRoOiAnMTgwcHgnLFxuICAgICAgcGFuZWxDbGFzczogWydtaW1lLWRpYWxvZycsICdhdHRyaWJ1dGlvbi1wYW5lbCddLFxuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgdG9wOiBkaW1lbnNpb25zLnRvcCArICdweCcsXG4gICAgICAgIGxlZnQ6IGRpbWVuc2lvbnMubGVmdCArICdweCcsXG4gICAgICB9LFxuICAgICAgYXV0b0ZvY3VzOiB0cnVlLFxuICAgICAgcmVzdG9yZUZvY3VzOiBmYWxzZSxcbiAgICAgIHZpZXdDb250YWluZXJSZWY6IHRoaXMuX3ZpZXdDb250YWluZXJSZWYsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UG9zaXRpb24oKSB7XG4gICAgaWYgKCF0aGlzLl9lbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBwb3NpdGlvbiBiZWNhdXNlIGVsZW1lbnQgaXMgbWlzc2luZ2ApO1xuICAgIH1cbiAgICBjb25zdCBwYWRkaW5nID0gMjA7XG4gICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMubWltZURvbUhlbHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QodGhpcy5fZWwpO1xuICAgIHJldHVybiBuZXcgRGltZW5zaW9ucyh7XG4gICAgICB0b3A6XG4gICAgICAgIGRpbWVuc2lvbnMudG9wICsgZGltZW5zaW9ucy5oZWlnaHQgLSB0aGlzLmF0dHJpYnV0aW9uRGlhbG9nSGVpZ2h0IC0gODAsXG4gICAgICBsZWZ0OiBkaW1lbnNpb25zLmxlZnQgKyBwYWRkaW5nLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSB1bnN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, inject, } from '@angular/core';\nimport { FormBuilder, FormControl, FormsModule, ReactiveFormsModule, Validators, } from '@angular/forms';\nimport { MatButton } from '@angular/material/button';\nimport { MatDialogActions, MatDialogClose, MatDialogContent, MatDialogRef, MatDialogTitle, } from '@angular/material/dialog';\nimport { MatError, MatFormField, MatInput, MatLabel, } from '@angular/material/input';\nimport { Subscription } from 'rxjs';\nimport { CanvasService } from '../core/canvas-service/canvas-service';\nimport { MimeViewerIntl } from '../core/intl';\nimport { ViewerService } from '../core/viewer-service/viewer.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nexport class CanvasGroupDialogComponent {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.dialogRef = inject(MatDialogRef);\n        this.fb = inject(FormBuilder);\n        this.viewerService = inject(ViewerService);\n        this.canvasService = inject(CanvasService);\n        this.changeDetectorRef = inject(ChangeDetectorRef);\n        this.subscriptions = new Subscription();\n        this.numberOfCanvases = this.canvasService.numberOfCanvases;\n        this.canvasGroupForm = this.fb.group({\n            canvasGroupControl: new FormControl(null, [\n                Validators.required,\n                Validators.min(1),\n                Validators.max(this.numberOfCanvases),\n            ]),\n        });\n    }\n    get canvasGroupControl() {\n        return this.canvasGroupForm.get('canvasGroupControl');\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.intl.changes.subscribe(() => this.changeDetectorRef.markForCheck()));\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    onSubmit() {\n        if (this.canvasGroupForm.valid) {\n            const pageNumber = this.canvasGroupControl?.value;\n            if (pageNumber !== null && pageNumber !== undefined)\n                this.viewerService.goToCanvasGroup(this.canvasService.findCanvasGroupByCanvasIndex(pageNumber - 1), false);\n            this.dialogRef.close();\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: CanvasGroupDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: CanvasGroupDialogComponent, isStandalone: true, selector: \"ng-component\", ngImport: i0, template: \"<h1 class=\\\"canvas-group-dialog-title\\\" mat-dialog-title>{{\\n  intl.goToPageLabel\\n}}</h1>\\n<form\\n  [formGroup]=\\\"canvasGroupForm\\\"\\n  (ngSubmit)=\\\"onSubmit()\\\"\\n  novalidate\\n  autocomplete=\\\"off\\\"\\n>\\n  <div mat-dialog-content>\\n    <mat-form-field [floatLabel]=\\\"'always'\\\">\\n      <mat-label>{{ intl.enterPageNumber }}</mat-label>\\n      <input\\n        class=\\\"go-to-canvas-group-input\\\"\\n        type=\\\"number\\\"\\n        matInput\\n        min=\\\"1\\\"\\n        formControlName=\\\"canvasGroupControl\\\"\\n      />\\n      @if (canvasGroupControl?.errors?.['max']) {\\n        <mat-error>{{ intl.pageDoesNotExists }}</mat-error>\\n      }\\n    </mat-form-field>\\n  </div>\\n  <div mat-dialog-actions [align]=\\\"'end'\\\">\\n    <button type=\\\"button\\\" mat-button matDialogClose>CANCEL</button>\\n    <button\\n      type=\\\"submit\\\"\\n      mat-button\\n      [disabled]=\\\"canvasGroupForm.pristine || canvasGroupForm.invalid\\\"\\n      >OK</button\\n    >\\n  </div>\\n</form>\\n\", styles: [\".canvas-group-dialog-title{margin:0 0 20px;display:block}\\n\"], dependencies: [{ kind: \"directive\", type: MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { kind: \"ngmodule\", type: FormsModule }, { kind: \"directive\", type: i1.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { kind: \"directive\", type: i1.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i1.NumberValueAccessor, selector: \"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]\" }, { kind: \"directive\", type: i1.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i1.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i1.MinValidator, selector: \"input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]\", inputs: [\"min\"] }, { kind: \"ngmodule\", type: ReactiveFormsModule }, { kind: \"directive\", type: i1.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i1.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"directive\", type: MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }, { kind: \"component\", type: MatFormField, selector: \"mat-form-field\", inputs: [\"hideRequiredMarker\", \"color\", \"floatLabel\", \"appearance\", \"subscriptSizing\", \"hintLabel\"], exportAs: [\"matFormField\"] }, { kind: \"directive\", type: MatLabel, selector: \"mat-label\" }, { kind: \"directive\", type: MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\", \"disabledInteractive\"], exportAs: [\"matInput\"] }, { kind: \"directive\", type: MatError, selector: \"mat-error, [matError]\", inputs: [\"id\"] }, { kind: \"directive\", type: MatDialogActions, selector: \"[mat-dialog-actions], mat-dialog-actions, [matDialogActions]\", inputs: [\"align\"] }, { kind: \"component\", type: MatButton, selector: \"    button[matButton], a[matButton], button[mat-button], button[mat-raised-button],    button[mat-flat-button], button[mat-stroked-button], a[mat-button], a[mat-raised-button],    a[mat-flat-button], a[mat-stroked-button]  \", inputs: [\"matButton\"], exportAs: [\"matButton\", \"matAnchor\"] }, { kind: \"directive\", type: MatDialogClose, selector: \"[mat-dialog-close], [matDialogClose]\", inputs: [\"aria-label\", \"type\", \"mat-dialog-close\", \"matDialogClose\"], exportAs: [\"matDialogClose\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: CanvasGroupDialogComponent, decorators: [{\n            type: Component,\n            args: [{ changeDetection: ChangeDetectionStrategy.OnPush, imports: [\n                        MatDialogTitle,\n                        FormsModule,\n                        ReactiveFormsModule,\n                        MatDialogContent,\n                        MatFormField,\n                        MatLabel,\n                        MatInput,\n                        MatError,\n                        MatDialogActions,\n                        MatButton,\n                        MatDialogClose,\n                    ], template: \"<h1 class=\\\"canvas-group-dialog-title\\\" mat-dialog-title>{{\\n  intl.goToPageLabel\\n}}</h1>\\n<form\\n  [formGroup]=\\\"canvasGroupForm\\\"\\n  (ngSubmit)=\\\"onSubmit()\\\"\\n  novalidate\\n  autocomplete=\\\"off\\\"\\n>\\n  <div mat-dialog-content>\\n    <mat-form-field [floatLabel]=\\\"'always'\\\">\\n      <mat-label>{{ intl.enterPageNumber }}</mat-label>\\n      <input\\n        class=\\\"go-to-canvas-group-input\\\"\\n        type=\\\"number\\\"\\n        matInput\\n        min=\\\"1\\\"\\n        formControlName=\\\"canvasGroupControl\\\"\\n      />\\n      @if (canvasGroupControl?.errors?.['max']) {\\n        <mat-error>{{ intl.pageDoesNotExists }}</mat-error>\\n      }\\n    </mat-form-field>\\n  </div>\\n  <div mat-dialog-actions [align]=\\\"'end'\\\">\\n    <button type=\\\"button\\\" mat-button matDialogClose>CANCEL</button>\\n    <button\\n      type=\\\"submit\\\"\\n      mat-button\\n      [disabled]=\\\"canvasGroupForm.pristine || canvasGroupForm.invalid\\\"\\n      >OK</button\\n    >\\n  </div>\\n</form>\\n\", styles: [\".canvas-group-dialog-title{margin:0 0 20px;display:block}\\n\"] }]\n        }], ctorParameters: () => [] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FudmFzLWdyb3VwLWRpYWxvZy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY2FudmFzLWdyb3VwLWRpYWxvZy9jYW52YXMtZ3JvdXAtZGlhbG9nLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jYW52YXMtZ3JvdXAtZGlhbG9nL2NhbnZhcy1ncm91cC1kaWFsb2cuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLHVCQUF1QixFQUN2QixpQkFBaUIsRUFDakIsU0FBUyxFQUNULE1BQU0sR0FHUCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQ0wsV0FBVyxFQUNYLFdBQVcsRUFFWCxXQUFXLEVBQ1gsbUJBQW1CLEVBQ25CLFVBQVUsR0FDWCxNQUFNLGdCQUFnQixDQUFDO0FBQ3hCLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNyRCxPQUFPLEVBQ0wsZ0JBQWdCLEVBQ2hCLGNBQWMsRUFDZCxnQkFBZ0IsRUFDaEIsWUFBWSxFQUNaLGNBQWMsR0FDZixNQUFNLDBCQUEwQixDQUFDO0FBQ2xDLE9BQU8sRUFDTCxRQUFRLEVBQ1IsWUFBWSxFQUNaLFFBQVEsRUFDUixRQUFRLEdBQ1QsTUFBTSx5QkFBeUIsQ0FBQztBQUNqQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUN0RSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzlDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQzs7O0FBb0J0RSxNQUFNLE9BQU8sMEJBQTBCO0lBY3JDO1FBYlMsU0FBSSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUt0QixjQUFTLEdBQ3hCLE1BQU0sQ0FBMkMsWUFBWSxDQUFDLENBQUM7UUFDaEQsT0FBRSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN6QixrQkFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN0QyxrQkFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN0QyxzQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUM5QyxrQkFBYSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFHbEQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUM7UUFDNUQsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUNuQyxrQkFBa0IsRUFBRSxJQUFJLFdBQVcsQ0FBZ0IsSUFBSSxFQUFFO2dCQUN2RCxVQUFVLENBQUMsUUFBUTtnQkFDbkIsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pCLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDO2FBQ3RDLENBQUM7U0FDSCxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsSUFBSSxrQkFBa0I7UUFDcEIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FDekUsQ0FBQztJQUNKLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNuQyxDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUMvQixNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsS0FBSyxDQUFDO1lBQ2xELElBQUksVUFBVSxLQUFLLElBQUksSUFBSSxVQUFVLEtBQUssU0FBUztnQkFDakQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQ2hDLElBQUksQ0FBQyxhQUFhLENBQUMsNEJBQTRCLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxFQUMvRCxLQUFLLENBQ04sQ0FBQztZQUNKLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDekIsQ0FBQztJQUNILENBQUM7OEdBakRVLDBCQUEwQjtrR0FBMUIsMEJBQTBCLHdFQ3JEdkMsaThCQWtDQSxxSERNSSxjQUFjLDhIQUNkLFdBQVcsdy9CQUNYLG1CQUFtQixnVkFDbkIsZ0JBQWdCLHlHQUNoQixZQUFZLDRMQUNaLFFBQVEsc0RBQ1IsUUFBUSx3VkFDUixRQUFRLGtGQUNSLGdCQUFnQiw0SEFDaEIsU0FBUyx5VUFDVCxjQUFjOzsyRkFHTCwwQkFBMEI7a0JBbEJ0QyxTQUFTO3NDQUdTLHVCQUF1QixDQUFDLE1BQU0sV0FDdEM7d0JBQ1AsY0FBYzt3QkFDZCxXQUFXO3dCQUNYLG1CQUFtQjt3QkFDbkIsZ0JBQWdCO3dCQUNoQixZQUFZO3dCQUNaLFFBQVE7d0JBQ1IsUUFBUTt3QkFDUixRQUFRO3dCQUNSLGdCQUFnQjt3QkFDaEIsU0FBUzt3QkFDVCxjQUFjO3FCQUNmIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIGluamVjdCxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgRm9ybUJ1aWxkZXIsXG4gIEZvcm1Db250cm9sLFxuICBGb3JtR3JvdXAsXG4gIEZvcm1zTW9kdWxlLFxuICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICBWYWxpZGF0b3JzLFxufSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBNYXRCdXR0b24gfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9idXR0b24nO1xuaW1wb3J0IHtcbiAgTWF0RGlhbG9nQWN0aW9ucyxcbiAgTWF0RGlhbG9nQ2xvc2UsXG4gIE1hdERpYWxvZ0NvbnRlbnQsXG4gIE1hdERpYWxvZ1JlZixcbiAgTWF0RGlhbG9nVGl0bGUsXG59IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQge1xuICBNYXRFcnJvcixcbiAgTWF0Rm9ybUZpZWxkLFxuICBNYXRJbnB1dCxcbiAgTWF0TGFiZWwsXG59IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2lucHV0JztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQ2FudmFzU2VydmljZSB9IGZyb20gJy4uL2NvcmUvY2FudmFzLXNlcnZpY2UvY2FudmFzLXNlcnZpY2UnO1xuaW1wb3J0IHsgTWltZVZpZXdlckludGwgfSBmcm9tICcuLi9jb3JlL2ludGwnO1xuaW1wb3J0IHsgVmlld2VyU2VydmljZSB9IGZyb20gJy4uL2NvcmUvdmlld2VyLXNlcnZpY2Uvdmlld2VyLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgdGVtcGxhdGVVcmw6ICcuL2NhbnZhcy1ncm91cC1kaWFsb2cuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9jYW52YXMtZ3JvdXAtZGlhbG9nLmNvbXBvbmVudC5zY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBpbXBvcnRzOiBbXG4gICAgTWF0RGlhbG9nVGl0bGUsXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICBNYXREaWFsb2dDb250ZW50LFxuICAgIE1hdEZvcm1GaWVsZCxcbiAgICBNYXRMYWJlbCxcbiAgICBNYXRJbnB1dCxcbiAgICBNYXRFcnJvcixcbiAgICBNYXREaWFsb2dBY3Rpb25zLFxuICAgIE1hdEJ1dHRvbixcbiAgICBNYXREaWFsb2dDbG9zZSxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgQ2FudmFzR3JvdXBEaWFsb2dDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIHJlYWRvbmx5IGludGwgPSBpbmplY3QoTWltZVZpZXdlckludGwpO1xuICBudW1iZXJPZkNhbnZhc2VzOiBudW1iZXI7XG4gIGNhbnZhc0dyb3VwRm9ybTogRm9ybUdyb3VwPHtcbiAgICBjYW52YXNHcm91cENvbnRyb2w6IEZvcm1Db250cm9sPG51bWJlciB8IG51bGw+O1xuICB9PjtcbiAgcHJpdmF0ZSByZWFkb25seSBkaWFsb2dSZWYgPVxuICAgIGluamVjdDxNYXREaWFsb2dSZWY8Q2FudmFzR3JvdXBEaWFsb2dDb21wb25lbnQ+PihNYXREaWFsb2dSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IGZiID0gaW5qZWN0KEZvcm1CdWlsZGVyKTtcbiAgcHJpdmF0ZSByZWFkb25seSB2aWV3ZXJTZXJ2aWNlID0gaW5qZWN0KFZpZXdlclNlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbnZhc1NlcnZpY2UgPSBpbmplY3QoQ2FudmFzU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2hhbmdlRGV0ZWN0b3JSZWYgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5udW1iZXJPZkNhbnZhc2VzID0gdGhpcy5jYW52YXNTZXJ2aWNlLm51bWJlck9mQ2FudmFzZXM7XG4gICAgdGhpcy5jYW52YXNHcm91cEZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcbiAgICAgIGNhbnZhc0dyb3VwQ29udHJvbDogbmV3IEZvcm1Db250cm9sPG51bWJlciB8IG51bGw+KG51bGwsIFtcbiAgICAgICAgVmFsaWRhdG9ycy5yZXF1aXJlZCxcbiAgICAgICAgVmFsaWRhdG9ycy5taW4oMSksXG4gICAgICAgIFZhbGlkYXRvcnMubWF4KHRoaXMubnVtYmVyT2ZDYW52YXNlcyksXG4gICAgICBdKSxcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBjYW52YXNHcm91cENvbnRyb2woKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzR3JvdXBGb3JtLmdldCgnY2FudmFzR3JvdXBDb250cm9sJyk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5pbnRsLmNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCkpLFxuICAgICk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIG9uU3VibWl0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNhbnZhc0dyb3VwRm9ybS52YWxpZCkge1xuICAgICAgY29uc3QgcGFnZU51bWJlciA9IHRoaXMuY2FudmFzR3JvdXBDb250cm9sPy52YWx1ZTtcbiAgICAgIGlmIChwYWdlTnVtYmVyICE9PSBudWxsICYmIHBhZ2VOdW1iZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgdGhpcy52aWV3ZXJTZXJ2aWNlLmdvVG9DYW52YXNHcm91cChcbiAgICAgICAgICB0aGlzLmNhbnZhc1NlcnZpY2UuZmluZENhbnZhc0dyb3VwQnlDYW52YXNJbmRleChwYWdlTnVtYmVyIC0gMSksXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICk7XG4gICAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZSgpO1xuICAgIH1cbiAgfVxufVxuIiwiPGgxIGNsYXNzPVwiY2FudmFzLWdyb3VwLWRpYWxvZy10aXRsZVwiIG1hdC1kaWFsb2ctdGl0bGU+e3tcbiAgaW50bC5nb1RvUGFnZUxhYmVsXG59fTwvaDE+XG48Zm9ybVxuICBbZm9ybUdyb3VwXT1cImNhbnZhc0dyb3VwRm9ybVwiXG4gIChuZ1N1Ym1pdCk9XCJvblN1Ym1pdCgpXCJcbiAgbm92YWxpZGF0ZVxuICBhdXRvY29tcGxldGU9XCJvZmZcIlxuPlxuICA8ZGl2IG1hdC1kaWFsb2ctY29udGVudD5cbiAgICA8bWF0LWZvcm0tZmllbGQgW2Zsb2F0TGFiZWxdPVwiJ2Fsd2F5cydcIj5cbiAgICAgIDxtYXQtbGFiZWw+e3sgaW50bC5lbnRlclBhZ2VOdW1iZXIgfX08L21hdC1sYWJlbD5cbiAgICAgIDxpbnB1dFxuICAgICAgICBjbGFzcz1cImdvLXRvLWNhbnZhcy1ncm91cC1pbnB1dFwiXG4gICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICBtYXRJbnB1dFxuICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiY2FudmFzR3JvdXBDb250cm9sXCJcbiAgICAgIC8+XG4gICAgICBAaWYgKGNhbnZhc0dyb3VwQ29udHJvbD8uZXJyb3JzPy5bJ21heCddKSB7XG4gICAgICAgIDxtYXQtZXJyb3I+e3sgaW50bC5wYWdlRG9lc05vdEV4aXN0cyB9fTwvbWF0LWVycm9yPlxuICAgICAgfVxuICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4gIDwvZGl2PlxuICA8ZGl2IG1hdC1kaWFsb2ctYWN0aW9ucyBbYWxpZ25dPVwiJ2VuZCdcIj5cbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBtYXQtYnV0dG9uIG1hdERpYWxvZ0Nsb3NlPkNBTkNFTDwvYnV0dG9uPlxuICAgIDxidXR0b25cbiAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgbWF0LWJ1dHRvblxuICAgICAgW2Rpc2FibGVkXT1cImNhbnZhc0dyb3VwRm9ybS5wcmlzdGluZSB8fCBjYW52YXNHcm91cEZvcm0uaW52YWxpZFwiXG4gICAgICA+T0s8L2J1dHRvblxuICAgID5cbiAgPC9kaXY+XG48L2Zvcm0+XG4iXX0=","import { Injectable, inject } from '@angular/core';\nimport { MatDialog, MatDialogState, } from '@angular/material/dialog';\nimport { CanvasGroupDialogComponent } from './canvas-group-dialog.component';\nimport * as i0 from \"@angular/core\";\nexport class CanvasGroupDialogService {\n    constructor() {\n        this.dialog = inject(MatDialog);\n    }\n    set viewContainerRef(viewContainerRef) {\n        this._viewContainerRef = viewContainerRef;\n    }\n    initialize() { }\n    destroy() {\n        this.close();\n    }\n    open() {\n        if (!this.isOpen()) {\n            const config = this.getDialogConfig();\n            this.dialogRef = this.dialog.open(CanvasGroupDialogComponent, config);\n        }\n    }\n    close() {\n        if (this.isOpen()) {\n            this.dialogRef?.close();\n        }\n    }\n    toggle() {\n        this.isOpen() ? this.close() : this.open();\n    }\n    isOpen() {\n        return this.dialogRef?.getState() === MatDialogState.OPEN;\n    }\n    getDialogConfig() {\n        return {\n            panelClass: ['mime-dialog', 'canvas-group-panel'],\n            viewContainerRef: this._viewContainerRef,\n        };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: CanvasGroupDialogService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: CanvasGroupDialogService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: CanvasGroupDialogService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FudmFzLWdyb3VwLWRpYWxvZy5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2NhbnZhcy1ncm91cC1kaWFsb2cvY2FudmFzLWdyb3VwLWRpYWxvZy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQW9CLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNyRSxPQUFPLEVBQ0wsU0FBUyxFQUdULGNBQWMsR0FDZixNQUFNLDBCQUEwQixDQUFDO0FBQ2xDLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGlDQUFpQyxDQUFDOztBQUc3RSxNQUFNLE9BQU8sd0JBQXdCO0lBRHJDO1FBRW1CLFdBQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7S0F5QzdDO0lBckNDLElBQUksZ0JBQWdCLENBQUMsZ0JBQWtDO1FBQ3JELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxnQkFBZ0IsQ0FBQztJQUM1QyxDQUFDO0lBRU0sVUFBVSxLQUFVLENBQUM7SUFFckIsT0FBTztRQUNaLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFFTSxJQUFJO1FBQ1QsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDO1lBQ25CLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN0QyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLDBCQUEwQixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3hFLENBQUM7SUFDSCxDQUFDO0lBRU0sS0FBSztRQUNWLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDbEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQztRQUMxQixDQUFDO0lBQ0gsQ0FBQztJQUVNLE1BQU07UUFDWCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzdDLENBQUM7SUFFTSxNQUFNO1FBQ1gsT0FBTyxJQUFJLENBQUMsU0FBUyxFQUFFLFFBQVEsRUFBRSxLQUFLLGNBQWMsQ0FBQyxJQUFJLENBQUM7SUFDNUQsQ0FBQztJQUVPLGVBQWU7UUFDckIsT0FBTztZQUNMLFVBQVUsRUFBRSxDQUFDLGFBQWEsRUFBRSxvQkFBb0IsQ0FBQztZQUNqRCxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCO1NBQ3pDLENBQUM7SUFDSixDQUFDOzhHQXpDVSx3QkFBd0I7a0hBQXhCLHdCQUF3Qjs7MkZBQXhCLHdCQUF3QjtrQkFEcEMsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIFZpZXdDb250YWluZXJSZWYsIGluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgTWF0RGlhbG9nLFxuICBNYXREaWFsb2dDb25maWcsXG4gIE1hdERpYWxvZ1JlZixcbiAgTWF0RGlhbG9nU3RhdGUsXG59IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyBDYW52YXNHcm91cERpYWxvZ0NvbXBvbmVudCB9IGZyb20gJy4vY2FudmFzLWdyb3VwLWRpYWxvZy5jb21wb25lbnQnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ2FudmFzR3JvdXBEaWFsb2dTZXJ2aWNlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBkaWFsb2cgPSBpbmplY3QoTWF0RGlhbG9nKTtcbiAgcHJpdmF0ZSBkaWFsb2dSZWY/OiBNYXREaWFsb2dSZWY8Q2FudmFzR3JvdXBEaWFsb2dDb21wb25lbnQ+O1xuICBwcml2YXRlIF92aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmIHwgdW5kZWZpbmVkO1xuXG4gIHNldCB2aWV3Q29udGFpbmVyUmVmKHZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWYpIHtcbiAgICB0aGlzLl92aWV3Q29udGFpbmVyUmVmID0gdmlld0NvbnRhaW5lclJlZjtcbiAgfVxuXG4gIHB1YmxpYyBpbml0aWFsaXplKCk6IHZvaWQge31cblxuICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICBwdWJsaWMgb3BlbigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuKCkpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuZ2V0RGlhbG9nQ29uZmlnKCk7XG4gICAgICB0aGlzLmRpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nLm9wZW4oQ2FudmFzR3JvdXBEaWFsb2dDb21wb25lbnQsIGNvbmZpZyk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGNsb3NlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzT3BlbigpKSB7XG4gICAgICB0aGlzLmRpYWxvZ1JlZj8uY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgdG9nZ2xlKCk6IHZvaWQge1xuICAgIHRoaXMuaXNPcGVuKCkgPyB0aGlzLmNsb3NlKCkgOiB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIHB1YmxpYyBpc09wZW4oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGlhbG9nUmVmPy5nZXRTdGF0ZSgpID09PSBNYXREaWFsb2dTdGF0ZS5PUEVOO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREaWFsb2dDb25maWcoKTogTWF0RGlhbG9nQ29uZmlnIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGFuZWxDbGFzczogWydtaW1lLWRpYWxvZycsICdjYW52YXMtZ3JvdXAtcGFuZWwnXSxcbiAgICAgIHZpZXdDb250YWluZXJSZWY6IHRoaXMuX3ZpZXdDb250YWluZXJSZWYsXG4gICAgfTtcbiAgfVxufVxuIl19","export class ContentDialogState {\n    constructor(fields) {\n        this.isOpen = false;\n        this.selectedIndex = 0;\n        if (fields) {\n            this.isOpen = fields.isOpen !== undefined ? fields.isOpen : this.isOpen;\n            this.selectedIndex =\n                fields.selectedIndex !== undefined\n                    ? fields.selectedIndex\n                    : this.selectedIndex;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC1kaWFsb2ctc3RhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9tb2RlbHMvY29udGVudC1kaWFsb2ctc3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxPQUFPLGtCQUFrQjtJQUk3QixZQUFZLE1BQXFEO1FBSDFELFdBQU0sR0FBRyxLQUFLLENBQUM7UUFDZixrQkFBYSxHQUFHLENBQUMsQ0FBQztRQUd2QixJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUN4RSxJQUFJLENBQUMsYUFBYTtnQkFDaEIsTUFBTSxDQUFDLGFBQWEsS0FBSyxTQUFTO29CQUNoQyxDQUFDLENBQUMsTUFBTSxDQUFDLGFBQWE7b0JBQ3RCLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQzNCLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ29udGVudERpYWxvZ1N0YXRlIHtcbiAgcHVibGljIGlzT3BlbiA9IGZhbHNlO1xuICBwdWJsaWMgc2VsZWN0ZWRJbmRleCA9IDA7XG5cbiAgY29uc3RydWN0b3IoZmllbGRzPzogeyBpc09wZW4/OiBib29sZWFuOyBzZWxlY3RlZEluZGV4PzogbnVtYmVyIH0pIHtcbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICB0aGlzLmlzT3BlbiA9IGZpZWxkcy5pc09wZW4gIT09IHVuZGVmaW5lZCA/IGZpZWxkcy5pc09wZW4gOiB0aGlzLmlzT3BlbjtcbiAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9XG4gICAgICAgIGZpZWxkcy5zZWxlY3RlZEluZGV4ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGZpZWxkcy5zZWxlY3RlZEluZGV4XG4gICAgICAgICAgOiB0aGlzLnNlbGVjdGVkSW5kZXg7XG4gICAgfVxuICB9XG59XG4iXX0=","export class ContentsSearchDialogState {\n    constructor(fields) {\n        this.isOpen = false;\n        if (fields) {\n            this.isOpen = fields.isOpen !== undefined ? fields.isOpen : this.isOpen;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudHMtc2VhcmNoLWRpYWxvZy1zdGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL21vZGVscy9jb250ZW50cy1zZWFyY2gtZGlhbG9nLXN0YXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sT0FBTyx5QkFBeUI7SUFHcEMsWUFBWSxNQUE2QjtRQUZsQyxXQUFNLEdBQUcsS0FBSyxDQUFDO1FBR3BCLElBQUksTUFBTSxFQUFFLENBQUM7WUFDWCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzFFLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ29udGVudHNTZWFyY2hEaWFsb2dTdGF0ZSB7XG4gIHB1YmxpYyBpc09wZW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihmaWVsZHM/OiB7IGlzT3Blbj86IGJvb2xlYW4gfSkge1xuICAgIGlmIChmaWVsZHMpIHtcbiAgICAgIHRoaXMuaXNPcGVuID0gZmllbGRzLmlzT3BlbiAhPT0gdW5kZWZpbmVkID8gZmllbGRzLmlzT3BlbiA6IHRoaXMuaXNPcGVuO1xuICAgIH1cbiAgfVxufVxuIl19","export class HelpDialogState {\n    constructor(fields) {\n        this.isOpen = false;\n        if (fields) {\n            this.isOpen = fields.isOpen !== undefined ? fields.isOpen : this.isOpen;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscC1kaWFsb2ctc3RhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9tb2RlbHMvaGVscC1kaWFsb2ctc3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxPQUFPLGVBQWU7SUFHMUIsWUFBWSxNQUE2QjtRQUZsQyxXQUFNLEdBQUcsS0FBSyxDQUFDO1FBR3BCLElBQUksTUFBTSxFQUFFLENBQUM7WUFDWCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzFFLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgSGVscERpYWxvZ1N0YXRlIHtcbiAgcHVibGljIGlzT3BlbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGZpZWxkcz86IHsgaXNPcGVuPzogYm9vbGVhbiB9KSB7XG4gICAgaWYgKGZpZWxkcykge1xuICAgICAgdGhpcy5pc09wZW4gPSBmaWVsZHMuaXNPcGVuICE9PSB1bmRlZmluZWQgPyBmaWVsZHMuaXNPcGVuIDogdGhpcy5pc09wZW47XG4gICAgfVxuICB9XG59XG4iXX0=","export class ViewDialogState {\n    constructor(fields) {\n        this.isOpen = false;\n        if (fields) {\n            this.isOpen = fields.isOpen !== undefined ? fields.isOpen : this.isOpen;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy1kaWFsb2ctc3RhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9tb2RlbHMvdmlldy1kaWFsb2ctc3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxPQUFPLGVBQWU7SUFHMUIsWUFBWSxNQUE2QjtRQUZsQyxXQUFNLEdBQUcsS0FBSyxDQUFDO1FBR3BCLElBQUksTUFBTSxFQUFFLENBQUM7WUFDWCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzFFLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmlld0RpYWxvZ1N0YXRlIHtcbiAgcHVibGljIGlzT3BlbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGZpZWxkcz86IHsgaXNPcGVuPzogYm9vbGVhbiB9KSB7XG4gICAgaWYgKGZpZWxkcykge1xuICAgICAgdGhpcy5pc09wZW4gPSBmaWVsZHMuaXNPcGVuICE9PSB1bmRlZmluZWQgPyBmaWVsZHMuaXNPcGVuIDogdGhpcy5pc09wZW47XG4gICAgfVxuICB9XG59XG4iXX0=","import { ContentDialogState } from './content-dialog-state';\nimport { ContentsSearchDialogState } from './contents-search-dialog-state';\nimport { HelpDialogState } from './help-dialog-state';\nimport { ViewDialogState } from './view-dialog-state';\nexport class ViewerState {\n    constructor(fields) {\n        this.viewDialogState = new ViewDialogState();\n        this.contentDialogState = new ContentDialogState();\n        this.contentsSearchDialogState = new ContentsSearchDialogState();\n        this.helpDialogState = new HelpDialogState();\n        if (fields) {\n            this.viewDialogState = fields.viewDialogState\n                ? fields.viewDialogState\n                : this.viewDialogState;\n            this.contentDialogState = fields.contentDialogState\n                ? fields.contentDialogState\n                : this.contentDialogState;\n            this.contentsSearchDialogState = fields.contentsSearchDialogState\n                ? fields.contentsSearchDialogState\n                : this.contentsSearchDialogState;\n            this.helpDialogState = fields.helpDialogState\n                ? fields.helpDialogState\n                : this.helpDialogState;\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyU3RhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvY29yZS9tb2RlbHMvdmlld2VyU3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDNUQsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDM0UsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUV0RCxNQUFNLE9BQU8sV0FBVztJQU10QixZQUFZLE1BS1g7UUFWTSxvQkFBZSxHQUFHLElBQUksZUFBZSxFQUFFLENBQUM7UUFDeEMsdUJBQWtCLEdBQUcsSUFBSSxrQkFBa0IsRUFBRSxDQUFDO1FBQzlDLDhCQUF5QixHQUFHLElBQUkseUJBQXlCLEVBQUUsQ0FBQztRQUM1RCxvQkFBZSxHQUFHLElBQUksZUFBZSxFQUFFLENBQUM7UUFRN0MsSUFBSSxNQUFNLEVBQUUsQ0FBQztZQUNYLElBQUksQ0FBQyxlQUFlLEdBQUcsTUFBTSxDQUFDLGVBQWU7Z0JBQzNDLENBQUMsQ0FBQyxNQUFNLENBQUMsZUFBZTtnQkFDeEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7WUFDekIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxrQkFBa0I7Z0JBQ2pELENBQUMsQ0FBQyxNQUFNLENBQUMsa0JBQWtCO2dCQUMzQixDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDO1lBQzVCLElBQUksQ0FBQyx5QkFBeUIsR0FBRyxNQUFNLENBQUMseUJBQXlCO2dCQUMvRCxDQUFDLENBQUMsTUFBTSxDQUFDLHlCQUF5QjtnQkFDbEMsQ0FBQyxDQUFDLElBQUksQ0FBQyx5QkFBeUIsQ0FBQztZQUNuQyxJQUFJLENBQUMsZUFBZSxHQUFHLE1BQU0sQ0FBQyxlQUFlO2dCQUMzQyxDQUFDLENBQUMsTUFBTSxDQUFDLGVBQWU7Z0JBQ3hCLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBQzNCLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250ZW50RGlhbG9nU3RhdGUgfSBmcm9tICcuL2NvbnRlbnQtZGlhbG9nLXN0YXRlJztcbmltcG9ydCB7IENvbnRlbnRzU2VhcmNoRGlhbG9nU3RhdGUgfSBmcm9tICcuL2NvbnRlbnRzLXNlYXJjaC1kaWFsb2ctc3RhdGUnO1xuaW1wb3J0IHsgSGVscERpYWxvZ1N0YXRlIH0gZnJvbSAnLi9oZWxwLWRpYWxvZy1zdGF0ZSc7XG5pbXBvcnQgeyBWaWV3RGlhbG9nU3RhdGUgfSBmcm9tICcuL3ZpZXctZGlhbG9nLXN0YXRlJztcblxuZXhwb3J0IGNsYXNzIFZpZXdlclN0YXRlIHtcbiAgcHVibGljIHZpZXdEaWFsb2dTdGF0ZSA9IG5ldyBWaWV3RGlhbG9nU3RhdGUoKTtcbiAgcHVibGljIGNvbnRlbnREaWFsb2dTdGF0ZSA9IG5ldyBDb250ZW50RGlhbG9nU3RhdGUoKTtcbiAgcHVibGljIGNvbnRlbnRzU2VhcmNoRGlhbG9nU3RhdGUgPSBuZXcgQ29udGVudHNTZWFyY2hEaWFsb2dTdGF0ZSgpO1xuICBwdWJsaWMgaGVscERpYWxvZ1N0YXRlID0gbmV3IEhlbHBEaWFsb2dTdGF0ZSgpO1xuXG4gIGNvbnN0cnVjdG9yKGZpZWxkcz86IHtcbiAgICB2aWV3RGlhbG9nU3RhdGU/OiBWaWV3RGlhbG9nU3RhdGU7XG4gICAgY29udGVudERpYWxvZ1N0YXRlPzogQ29udGVudERpYWxvZ1N0YXRlO1xuICAgIGNvbnRlbnRzU2VhcmNoRGlhbG9nU3RhdGU/OiBDb250ZW50c1NlYXJjaERpYWxvZ1N0YXRlO1xuICAgIGhlbHBEaWFsb2dTdGF0ZT86IEhlbHBEaWFsb2dTdGF0ZTtcbiAgfSkge1xuICAgIGlmIChmaWVsZHMpIHtcbiAgICAgIHRoaXMudmlld0RpYWxvZ1N0YXRlID0gZmllbGRzLnZpZXdEaWFsb2dTdGF0ZVxuICAgICAgICA/IGZpZWxkcy52aWV3RGlhbG9nU3RhdGVcbiAgICAgICAgOiB0aGlzLnZpZXdEaWFsb2dTdGF0ZTtcbiAgICAgIHRoaXMuY29udGVudERpYWxvZ1N0YXRlID0gZmllbGRzLmNvbnRlbnREaWFsb2dTdGF0ZVxuICAgICAgICA/IGZpZWxkcy5jb250ZW50RGlhbG9nU3RhdGVcbiAgICAgICAgOiB0aGlzLmNvbnRlbnREaWFsb2dTdGF0ZTtcbiAgICAgIHRoaXMuY29udGVudHNTZWFyY2hEaWFsb2dTdGF0ZSA9IGZpZWxkcy5jb250ZW50c1NlYXJjaERpYWxvZ1N0YXRlXG4gICAgICAgID8gZmllbGRzLmNvbnRlbnRzU2VhcmNoRGlhbG9nU3RhdGVcbiAgICAgICAgOiB0aGlzLmNvbnRlbnRzU2VhcmNoRGlhbG9nU3RhdGU7XG4gICAgICB0aGlzLmhlbHBEaWFsb2dTdGF0ZSA9IGZpZWxkcy5oZWxwRGlhbG9nU3RhdGVcbiAgICAgICAgPyBmaWVsZHMuaGVscERpYWxvZ1N0YXRlXG4gICAgICAgIDogdGhpcy5oZWxwRGlhbG9nU3RhdGU7XG4gICAgfVxuICB9XG59XG4iXX0=","import { Dimensions } from '../core/models/dimensions';\nexport class MobileHelpDialogConfigStrategy {\n    getConfig(elementRef, viewContainerRef) {\n        return {\n            hasBackdrop: false,\n            width: '100%',\n            height: '100%',\n            maxWidth: '100% !important',\n            panelClass: ['mime-mobile-dialog', 'mime-dialog', 'help-panel'],\n            viewContainerRef: viewContainerRef,\n        };\n    }\n}\nexport class DesktopHelpDialogConfigStrategy {\n    static { this.dialogWidth = 350; }\n    static { this.paddingRight = 16; }\n    constructor(mimeDomHelper) {\n        this.mimeDomHelper = mimeDomHelper;\n    }\n    getConfig(el, viewContainerRef) {\n        const dimensions = this.getPosition(el);\n        return {\n            hasBackdrop: false,\n            width: `${DesktopHelpDialogConfigStrategy.dialogWidth}px`,\n            position: {\n                top: dimensions.top + 'px',\n                left: dimensions.left + 'px',\n            },\n            panelClass: ['mime-dialog', 'help-panel'],\n            maxWidth: '100% !important',\n            viewContainerRef: viewContainerRef,\n        };\n    }\n    getPosition(el) {\n        const dimensions = this.mimeDomHelper.getBoundingClientRect(el);\n        return new Dimensions({\n            top: dimensions.top + 80,\n            left: dimensions.right -\n                DesktopHelpDialogConfigStrategy.dialogWidth -\n                DesktopHelpDialogConfigStrategy.paddingRight,\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscC1kaWFsb2ctY29uZmlnLXN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2hlbHAtZGlhbG9nL2hlbHAtZGlhbG9nLWNvbmZpZy1zdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFTdkQsTUFBTSxPQUFPLDhCQUE4QjtJQUdsQyxTQUFTLENBQ2QsVUFBc0IsRUFDdEIsZ0JBQWtDO1FBRWxDLE9BQU87WUFDTCxXQUFXLEVBQUUsS0FBSztZQUNsQixLQUFLLEVBQUUsTUFBTTtZQUNiLE1BQU0sRUFBRSxNQUFNO1lBQ2QsUUFBUSxFQUFFLGlCQUFpQjtZQUMzQixVQUFVLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxhQUFhLEVBQUUsWUFBWSxDQUFDO1lBQy9ELGdCQUFnQixFQUFFLGdCQUFnQjtTQUNuQyxDQUFDO0lBQ0osQ0FBQztDQUNGO0FBRUQsTUFBTSxPQUFPLCtCQUErQjthQUduQixnQkFBVyxHQUFHLEdBQUcsQ0FBQzthQUNsQixpQkFBWSxHQUFHLEVBQUUsQ0FBQztJQUd6QyxZQUFZLGFBQTRCO1FBQ3RDLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDO0lBQ3JDLENBQUM7SUFFTSxTQUFTLENBQ2QsRUFBYyxFQUNkLGdCQUFrQztRQUVsQyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hDLE9BQU87WUFDTCxXQUFXLEVBQUUsS0FBSztZQUNsQixLQUFLLEVBQUUsR0FBRywrQkFBK0IsQ0FBQyxXQUFXLElBQUk7WUFDekQsUUFBUSxFQUFFO2dCQUNSLEdBQUcsRUFBRSxVQUFVLENBQUMsR0FBRyxHQUFHLElBQUk7Z0JBQzFCLElBQUksRUFBRSxVQUFVLENBQUMsSUFBSSxHQUFHLElBQUk7YUFDN0I7WUFDRCxVQUFVLEVBQUUsQ0FBQyxhQUFhLEVBQUUsWUFBWSxDQUFDO1lBQ3pDLFFBQVEsRUFBRSxpQkFBaUI7WUFDM0IsZ0JBQWdCLEVBQUUsZ0JBQWdCO1NBQ25DLENBQUM7SUFDSixDQUFDO0lBRU8sV0FBVyxDQUFDLEVBQWM7UUFDaEMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoRSxPQUFPLElBQUksVUFBVSxDQUFDO1lBQ3BCLEdBQUcsRUFBRSxVQUFVLENBQUMsR0FBRyxHQUFHLEVBQUU7WUFDeEIsSUFBSSxFQUNGLFVBQVUsQ0FBQyxLQUFLO2dCQUNoQiwrQkFBK0IsQ0FBQyxXQUFXO2dCQUMzQywrQkFBK0IsQ0FBQyxZQUFZO1NBQy9DLENBQUMsQ0FBQztJQUNMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbGVtZW50UmVmLCBWaWV3Q29udGFpbmVyUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXREaWFsb2dDb25maWcgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xuaW1wb3J0IHsgTWltZURvbUhlbHBlciB9IGZyb20gJy4uL2NvcmUvbWltZS1kb20taGVscGVyJztcbmltcG9ydCB7IERpbWVuc2lvbnMgfSBmcm9tICcuLi9jb3JlL21vZGVscy9kaW1lbnNpb25zJztcblxuZXhwb3J0IGludGVyZmFjZSBIZWxwRGlhbG9nQ29uZmlnU3RyYXRlZ3kge1xuICBnZXRDb25maWcoXG4gICAgZWxlbWVudFJlZjogRWxlbWVudFJlZixcbiAgICB2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmLFxuICApOiBNYXREaWFsb2dDb25maWc7XG59XG5cbmV4cG9ydCBjbGFzcyBNb2JpbGVIZWxwRGlhbG9nQ29uZmlnU3RyYXRlZ3lcbiAgaW1wbGVtZW50cyBIZWxwRGlhbG9nQ29uZmlnU3RyYXRlZ3lcbntcbiAgcHVibGljIGdldENvbmZpZyhcbiAgICBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgIHZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWYsXG4gICk6IE1hdERpYWxvZ0NvbmZpZyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc0JhY2tkcm9wOiBmYWxzZSxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIG1heFdpZHRoOiAnMTAwJSAhaW1wb3J0YW50JyxcbiAgICAgIHBhbmVsQ2xhc3M6IFsnbWltZS1tb2JpbGUtZGlhbG9nJywgJ21pbWUtZGlhbG9nJywgJ2hlbHAtcGFuZWwnXSxcbiAgICAgIHZpZXdDb250YWluZXJSZWY6IHZpZXdDb250YWluZXJSZWYsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVza3RvcEhlbHBEaWFsb2dDb25maWdTdHJhdGVneVxuICBpbXBsZW1lbnRzIEhlbHBEaWFsb2dDb25maWdTdHJhdGVneVxue1xuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGRpYWxvZ1dpZHRoID0gMzUwO1xuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHBhZGRpbmdSaWdodCA9IDE2O1xuICBwcml2YXRlIG1pbWVEb21IZWxwZXI6IE1pbWVEb21IZWxwZXI7XG5cbiAgY29uc3RydWN0b3IobWltZURvbUhlbHBlcjogTWltZURvbUhlbHBlcikge1xuICAgIHRoaXMubWltZURvbUhlbHBlciA9IG1pbWVEb21IZWxwZXI7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29uZmlnKFxuICAgIGVsOiBFbGVtZW50UmVmLFxuICAgIHZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWYsXG4gICk6IE1hdERpYWxvZ0NvbmZpZyB7XG4gICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuZ2V0UG9zaXRpb24oZWwpO1xuICAgIHJldHVybiB7XG4gICAgICBoYXNCYWNrZHJvcDogZmFsc2UsXG4gICAgICB3aWR0aDogYCR7RGVza3RvcEhlbHBEaWFsb2dDb25maWdTdHJhdGVneS5kaWFsb2dXaWR0aH1weGAsXG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICB0b3A6IGRpbWVuc2lvbnMudG9wICsgJ3B4JyxcbiAgICAgICAgbGVmdDogZGltZW5zaW9ucy5sZWZ0ICsgJ3B4JyxcbiAgICAgIH0sXG4gICAgICBwYW5lbENsYXNzOiBbJ21pbWUtZGlhbG9nJywgJ2hlbHAtcGFuZWwnXSxcbiAgICAgIG1heFdpZHRoOiAnMTAwJSAhaW1wb3J0YW50JyxcbiAgICAgIHZpZXdDb250YWluZXJSZWY6IHZpZXdDb250YWluZXJSZWYsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UG9zaXRpb24oZWw6IEVsZW1lbnRSZWYpOiBEaW1lbnNpb25zIHtcbiAgICBjb25zdCBkaW1lbnNpb25zID0gdGhpcy5taW1lRG9tSGVscGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdChlbCk7XG4gICAgcmV0dXJuIG5ldyBEaW1lbnNpb25zKHtcbiAgICAgIHRvcDogZGltZW5zaW9ucy50b3AgKyA4MCxcbiAgICAgIGxlZnQ6XG4gICAgICAgIGRpbWVuc2lvbnMucmlnaHQgLVxuICAgICAgICBEZXNrdG9wSGVscERpYWxvZ0NvbmZpZ1N0cmF0ZWd5LmRpYWxvZ1dpZHRoIC1cbiAgICAgICAgRGVza3RvcEhlbHBEaWFsb2dDb25maWdTdHJhdGVneS5wYWRkaW5nUmlnaHQsXG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==","import { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { inject, Injectable } from '@angular/core';\nimport { MimeDomHelper } from '../core/mime-dom-helper';\nimport { DesktopHelpDialogConfigStrategy, MobileHelpDialogConfigStrategy, } from './help-dialog-config-strategy';\nimport * as i0 from \"@angular/core\";\nexport class HelpDialogConfigStrategyFactory {\n    constructor() {\n        this.breakpointObserver = inject(BreakpointObserver);\n        this.mimeDomHelper = inject(MimeDomHelper);\n    }\n    create() {\n        const isHandsetOrTabletInPortrait = this.breakpointObserver.isMatched([\n            Breakpoints.Handset,\n            Breakpoints.TabletPortrait,\n        ]);\n        return isHandsetOrTabletInPortrait\n            ? new MobileHelpDialogConfigStrategy()\n            : new DesktopHelpDialogConfigStrategy(this.mimeDomHelper);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: HelpDialogConfigStrategyFactory, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: HelpDialogConfigStrategyFactory }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: HelpDialogConfigStrategyFactory, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscC1kaWFsb2ctY29uZmlnLXN0cmF0ZWd5LWZhY3RvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvaGVscC1kaWFsb2cvaGVscC1kaWFsb2ctY29uZmlnLXN0cmF0ZWd5LWZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFdBQVcsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN4RCxPQUFPLEVBQ0wsK0JBQStCLEVBRS9CLDhCQUE4QixHQUMvQixNQUFNLCtCQUErQixDQUFDOztBQUd2QyxNQUFNLE9BQU8sK0JBQStCO0lBRDVDO1FBRW1CLHVCQUFrQixHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2hELGtCQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0tBWXhEO0lBVlEsTUFBTTtRQUNYLE1BQU0sMkJBQTJCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQztZQUNwRSxXQUFXLENBQUMsT0FBTztZQUNuQixXQUFXLENBQUMsY0FBYztTQUMzQixDQUFDLENBQUM7UUFFSCxPQUFPLDJCQUEyQjtZQUNoQyxDQUFDLENBQUMsSUFBSSw4QkFBOEIsRUFBRTtZQUN0QyxDQUFDLENBQUMsSUFBSSwrQkFBK0IsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDOUQsQ0FBQzs4R0FiVSwrQkFBK0I7a0hBQS9CLCtCQUErQjs7MkZBQS9CLCtCQUErQjtrQkFEM0MsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJyZWFrcG9pbnRPYnNlcnZlciwgQnJlYWtwb2ludHMgfSBmcm9tICdAYW5ndWxhci9jZGsvbGF5b3V0JztcbmltcG9ydCB7IGluamVjdCwgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWltZURvbUhlbHBlciB9IGZyb20gJy4uL2NvcmUvbWltZS1kb20taGVscGVyJztcbmltcG9ydCB7XG4gIERlc2t0b3BIZWxwRGlhbG9nQ29uZmlnU3RyYXRlZ3ksXG4gIEhlbHBEaWFsb2dDb25maWdTdHJhdGVneSxcbiAgTW9iaWxlSGVscERpYWxvZ0NvbmZpZ1N0cmF0ZWd5LFxufSBmcm9tICcuL2hlbHAtZGlhbG9nLWNvbmZpZy1zdHJhdGVneSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBIZWxwRGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5IHtcbiAgcHJpdmF0ZSByZWFkb25seSBicmVha3BvaW50T2JzZXJ2ZXIgPSBpbmplY3QoQnJlYWtwb2ludE9ic2VydmVyKTtcbiAgcHJpdmF0ZSByZWFkb25seSBtaW1lRG9tSGVscGVyID0gaW5qZWN0KE1pbWVEb21IZWxwZXIpO1xuXG4gIHB1YmxpYyBjcmVhdGUoKTogSGVscERpYWxvZ0NvbmZpZ1N0cmF0ZWd5IHtcbiAgICBjb25zdCBpc0hhbmRzZXRPclRhYmxldEluUG9ydHJhaXQgPSB0aGlzLmJyZWFrcG9pbnRPYnNlcnZlci5pc01hdGNoZWQoW1xuICAgICAgQnJlYWtwb2ludHMuSGFuZHNldCxcbiAgICAgIEJyZWFrcG9pbnRzLlRhYmxldFBvcnRyYWl0LFxuICAgIF0pO1xuXG4gICAgcmV0dXJuIGlzSGFuZHNldE9yVGFibGV0SW5Qb3J0cmFpdFxuICAgICAgPyBuZXcgTW9iaWxlSGVscERpYWxvZ0NvbmZpZ1N0cmF0ZWd5KClcbiAgICAgIDogbmV3IERlc2t0b3BIZWxwRGlhbG9nQ29uZmlnU3RyYXRlZ3kodGhpcy5taW1lRG9tSGVscGVyKTtcbiAgfVxufVxuIl19","import { BreakpointObserver, Breakpoints, } from '@angular/cdk/layout';\nimport { NgStyle } from '@angular/common';\nimport { ChangeDetectorRef, Component, inject, } from '@angular/core';\nimport { MatIconButton } from '@angular/material/button';\nimport { MatDialogClose, MatDialogContent, MatDialogTitle, } from '@angular/material/dialog';\nimport { MatIcon } from '@angular/material/icon';\nimport { MatToolbar } from '@angular/material/toolbar';\nimport { MatTooltip } from '@angular/material/tooltip';\nimport { Subscription } from 'rxjs';\nimport { MimeViewerIntl } from '../core/intl';\nimport { MimeResizeService } from '../core/mime-resize-service/mime-resize.service';\nimport * as i0 from \"@angular/core\";\nexport class HelpDialogComponent {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.tabHeight = {};\n        this.isHandsetOrTabletInPortrait = false;\n        this.cdr = inject(ChangeDetectorRef);\n        this.mimeResizeService = inject(MimeResizeService);\n        this.breakpointObserver = inject(BreakpointObserver);\n        this.mimeHeight = 0;\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.breakpointObserver\n            .observe([Breakpoints.Handset, Breakpoints.TabletPortrait])\n            .subscribe((value) => (this.isHandsetOrTabletInPortrait = value.matches)));\n        this.subscriptions.add(this.mimeResizeService.onResize.subscribe((dimensions) => {\n            this.mimeHeight = dimensions.height;\n            this.resizeTabHeight();\n        }));\n        this.resizeTabHeight();\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    resizeTabHeight() {\n        let height = this.mimeHeight;\n        if (this.isHandsetOrTabletInPortrait) {\n            this.tabHeight = {\n                maxHeight: window.innerHeight - 128 + 'px',\n            };\n        }\n        else {\n            height -= 220;\n            this.tabHeight = {\n                maxHeight: height + 'px',\n            };\n        }\n        this.cdr.detectChanges();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: HelpDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: HelpDialogComponent, isStandalone: true, selector: \"mime-help\", ngImport: i0, template: \"<div class=\\\"help-container\\\">\\n  @if (isHandsetOrTabletInPortrait) {\\n    <mat-toolbar class=\\\"secondary-toolbar\\\">\\n      <button\\n        mat-icon-button\\n        [aria-label]=\\\"intl.helpCloseAriaLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n      <h1 mat-dialog-title>{{ intl.help.helpLabel }}</h1>\\n    </mat-toolbar>\\n  } @else {\\n    <mat-toolbar class=\\\"secondary-toolbar justify-between\\\">\\n      <h1 class=\\\"heading-desktop\\\" mat-dialog-title>{{\\n        intl.help.helpLabel\\n      }}</h1>\\n      <button\\n        mat-icon-button\\n        [aria-label]=\\\"intl.helpCloseAriaLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n    </mat-toolbar>\\n  }\\n  <mat-dialog-content [ngStyle]=\\\"tabHeight\\\" class=\\\"help-content\\\" tabindex=\\\"0\\\">\\n    <p [innerHTML]=\\\"intl.help.line1\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line2\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line3\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line4\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line5\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line6\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line12\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line7\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line8\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line9\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line10\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line11\\\"></p>\\n  </mat-dialog-content>\\n</div>\\n\", styles: [\".mat-mdc-dialog-title{color:inherit;padding:0 2px 16px}.help-container{font-size:14px}.help-content{padding:16px;overflow:auto}::ng-deep .help-panel>.mat-mdc-dialog-container{padding:0!important;overflow:initial}\\n\"], dependencies: [{ kind: \"component\", type: MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { kind: \"component\", type: MatIconButton, selector: \"button[mat-icon-button], a[mat-icon-button], button[matIconButton], a[matIconButton]\", exportAs: [\"matButton\", \"matAnchor\"] }, { kind: \"directive\", type: MatTooltip, selector: \"[matTooltip]\", inputs: [\"matTooltipPosition\", \"matTooltipPositionAtOrigin\", \"matTooltipDisabled\", \"matTooltipShowDelay\", \"matTooltipHideDelay\", \"matTooltipTouchGestures\", \"matTooltip\", \"matTooltipClass\"], exportAs: [\"matTooltip\"] }, { kind: \"directive\", type: MatDialogClose, selector: \"[mat-dialog-close], [matDialogClose]\", inputs: [\"aria-label\", \"type\", \"mat-dialog-close\", \"matDialogClose\"], exportAs: [\"matDialogClose\"] }, { kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"directive\", type: MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { kind: \"directive\", type: MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }, { kind: \"directive\", type: NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: HelpDialogComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-help', imports: [\n                        MatToolbar,\n                        MatIconButton,\n                        MatTooltip,\n                        MatDialogClose,\n                        MatIcon,\n                        MatDialogTitle,\n                        MatDialogContent,\n                        NgStyle,\n                    ], template: \"<div class=\\\"help-container\\\">\\n  @if (isHandsetOrTabletInPortrait) {\\n    <mat-toolbar class=\\\"secondary-toolbar\\\">\\n      <button\\n        mat-icon-button\\n        [aria-label]=\\\"intl.helpCloseAriaLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n      <h1 mat-dialog-title>{{ intl.help.helpLabel }}</h1>\\n    </mat-toolbar>\\n  } @else {\\n    <mat-toolbar class=\\\"secondary-toolbar justify-between\\\">\\n      <h1 class=\\\"heading-desktop\\\" mat-dialog-title>{{\\n        intl.help.helpLabel\\n      }}</h1>\\n      <button\\n        mat-icon-button\\n        [aria-label]=\\\"intl.helpCloseAriaLabel\\\"\\n        [matTooltip]=\\\"intl.closeLabel\\\"\\n        [matDialogClose]=\\\"true\\\"\\n      >\\n        <mat-icon>close</mat-icon>\\n      </button>\\n    </mat-toolbar>\\n  }\\n  <mat-dialog-content [ngStyle]=\\\"tabHeight\\\" class=\\\"help-content\\\" tabindex=\\\"0\\\">\\n    <p [innerHTML]=\\\"intl.help.line1\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line2\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line3\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line4\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line5\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line6\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line12\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line7\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line8\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line9\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line10\\\"></p>\\n    <p [innerHTML]=\\\"intl.help.line11\\\"></p>\\n  </mat-dialog-content>\\n</div>\\n\", styles: [\".mat-mdc-dialog-title{color:inherit;padding:0 2px 16px}.help-container{font-size:14px}.help-content{padding:16px;overflow:auto}::ng-deep .help-panel>.mat-mdc-dialog-container{padding:0!important;overflow:initial}\\n\"] }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscC1kaWFsb2cuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL2hlbHAtZGlhbG9nL2hlbHAtZGlhbG9nLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9oZWxwLWRpYWxvZy9oZWxwLWRpYWxvZy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsa0JBQWtCLEVBQ2xCLFdBQVcsR0FFWixNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMxQyxPQUFPLEVBQ0wsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxNQUFNLEdBR1AsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3pELE9BQU8sRUFDTCxjQUFjLEVBQ2QsZ0JBQWdCLEVBQ2hCLGNBQWMsR0FDZixNQUFNLDBCQUEwQixDQUFDO0FBQ2xDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdkQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDcEMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUM5QyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQzs7QUFrQnBGLE1BQU0sT0FBTyxtQkFBbUI7SUFmaEM7UUFnQkUsU0FBSSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUM5QixjQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ2YsZ0NBQTJCLEdBQUcsS0FBSyxDQUFDO1FBQ25CLFFBQUcsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUNoQyxzQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUM5Qyx1QkFBa0IsR0FBRyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUN6RCxlQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ04sa0JBQWEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO0tBeUNyRDtJQXZDQyxRQUFRO1FBQ04sSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQ3BCLElBQUksQ0FBQyxrQkFBa0I7YUFDcEIsT0FBTyxDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7YUFDMUQsU0FBUyxDQUNSLENBQUMsS0FBc0IsRUFBRSxFQUFFLENBQ3pCLENBQUMsSUFBSSxDQUFDLDJCQUEyQixHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FDckQsQ0FDSixDQUFDO1FBRUYsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQ3BCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsVUFBc0IsRUFBRSxFQUFFO1lBQ25FLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQztZQUNwQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDekIsQ0FBQyxDQUFDLENBQ0gsQ0FBQztRQUVGLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQsV0FBVztRQUNULElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDbkMsQ0FBQztJQUVPLGVBQWU7UUFDckIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUU3QixJQUFJLElBQUksQ0FBQywyQkFBMkIsRUFBRSxDQUFDO1lBQ3JDLElBQUksQ0FBQyxTQUFTLEdBQUc7Z0JBQ2YsU0FBUyxFQUFFLE1BQU0sQ0FBQyxXQUFXLEdBQUcsR0FBRyxHQUFHLElBQUk7YUFDM0MsQ0FBQztRQUNKLENBQUM7YUFBTSxDQUFDO1lBQ04sTUFBTSxJQUFJLEdBQUcsQ0FBQztZQUNkLElBQUksQ0FBQyxTQUFTLEdBQUc7Z0JBQ2YsU0FBUyxFQUFFLE1BQU0sR0FBRyxJQUFJO2FBQ3pCLENBQUM7UUFDSixDQUFDO1FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUMzQixDQUFDOzhHQWhEVSxtQkFBbUI7a0dBQW5CLG1CQUFtQixxRUMxQ2hDLGkvQ0EyQ0EsZ1JEWEksVUFBVSxxR0FDVixhQUFhLHVLQUNiLFVBQVUsaVJBQ1YsY0FBYyxxTEFDZCxPQUFPLDJJQUNQLGNBQWMsK0hBQ2QsZ0JBQWdCLHlHQUNoQixPQUFPOzsyRkFHRSxtQkFBbUI7a0JBZi9CLFNBQVM7K0JBQ0UsV0FBVyxXQUdaO3dCQUNQLFVBQVU7d0JBQ1YsYUFBYTt3QkFDYixVQUFVO3dCQUNWLGNBQWM7d0JBQ2QsT0FBTzt3QkFDUCxjQUFjO3dCQUNkLGdCQUFnQjt3QkFDaEIsT0FBTztxQkFDUiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEJyZWFrcG9pbnRPYnNlcnZlcixcbiAgQnJlYWtwb2ludHMsXG4gIEJyZWFrcG9pbnRTdGF0ZSxcbn0gZnJvbSAnQGFuZ3VsYXIvY2RrL2xheW91dCc7XG5pbXBvcnQgeyBOZ1N0eWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7XG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIGluamVjdCxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0SWNvbkJ1dHRvbiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2J1dHRvbic7XG5pbXBvcnQge1xuICBNYXREaWFsb2dDbG9zZSxcbiAgTWF0RGlhbG9nQ29udGVudCxcbiAgTWF0RGlhbG9nVGl0bGUsXG59IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyBNYXRJY29uIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvaWNvbic7XG5pbXBvcnQgeyBNYXRUb29sYmFyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdG9vbGJhcic7XG5pbXBvcnQgeyBNYXRUb29sdGlwIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdG9vbHRpcCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE1pbWVWaWV3ZXJJbnRsIH0gZnJvbSAnLi4vY29yZS9pbnRsJztcbmltcG9ydCB7IE1pbWVSZXNpemVTZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9taW1lLXJlc2l6ZS1zZXJ2aWNlL21pbWUtcmVzaXplLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gJy4uL2NvcmUvbW9kZWxzL2RpbWVuc2lvbnMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtaW1lLWhlbHAnLFxuICB0ZW1wbGF0ZVVybDogJy4vaGVscC1kaWFsb2cuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9oZWxwLWRpYWxvZy5jb21wb25lbnQuc2NzcyddLFxuICBpbXBvcnRzOiBbXG4gICAgTWF0VG9vbGJhcixcbiAgICBNYXRJY29uQnV0dG9uLFxuICAgIE1hdFRvb2x0aXAsXG4gICAgTWF0RGlhbG9nQ2xvc2UsXG4gICAgTWF0SWNvbixcbiAgICBNYXREaWFsb2dUaXRsZSxcbiAgICBNYXREaWFsb2dDb250ZW50LFxuICAgIE5nU3R5bGUsXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIEhlbHBEaWFsb2dDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIGludGwgPSBpbmplY3QoTWltZVZpZXdlckludGwpO1xuICB0YWJIZWlnaHQgPSB7fTtcbiAgaXNIYW5kc2V0T3JUYWJsZXRJblBvcnRyYWl0ID0gZmFsc2U7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2RyID0gaW5qZWN0KENoYW5nZURldGVjdG9yUmVmKTtcbiAgcHJpdmF0ZSByZWFkb25seSBtaW1lUmVzaXplU2VydmljZSA9IGluamVjdChNaW1lUmVzaXplU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgYnJlYWtwb2ludE9ic2VydmVyID0gaW5qZWN0KEJyZWFrcG9pbnRPYnNlcnZlcik7XG4gIHByaXZhdGUgbWltZUhlaWdodCA9IDA7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5icmVha3BvaW50T2JzZXJ2ZXJcbiAgICAgICAgLm9ic2VydmUoW0JyZWFrcG9pbnRzLkhhbmRzZXQsIEJyZWFrcG9pbnRzLlRhYmxldFBvcnRyYWl0XSlcbiAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAodmFsdWU6IEJyZWFrcG9pbnRTdGF0ZSkgPT5cbiAgICAgICAgICAgICh0aGlzLmlzSGFuZHNldE9yVGFibGV0SW5Qb3J0cmFpdCA9IHZhbHVlLm1hdGNoZXMpLFxuICAgICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5taW1lUmVzaXplU2VydmljZS5vblJlc2l6ZS5zdWJzY3JpYmUoKGRpbWVuc2lvbnM6IERpbWVuc2lvbnMpID0+IHtcbiAgICAgICAgdGhpcy5taW1lSGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmVzaXplVGFiSGVpZ2h0KCk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5yZXNpemVUYWJIZWlnaHQoKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNpemVUYWJIZWlnaHQoKSB7XG4gICAgbGV0IGhlaWdodCA9IHRoaXMubWltZUhlaWdodDtcblxuICAgIGlmICh0aGlzLmlzSGFuZHNldE9yVGFibGV0SW5Qb3J0cmFpdCkge1xuICAgICAgdGhpcy50YWJIZWlnaHQgPSB7XG4gICAgICAgIG1heEhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IC0gMTI4ICsgJ3B4JyxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodCAtPSAyMjA7XG4gICAgICB0aGlzLnRhYkhlaWdodCA9IHtcbiAgICAgICAgbWF4SGVpZ2h0OiBoZWlnaHQgKyAncHgnLFxuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiaGVscC1jb250YWluZXJcIj5cbiAgQGlmIChpc0hhbmRzZXRPclRhYmxldEluUG9ydHJhaXQpIHtcbiAgICA8bWF0LXRvb2xiYXIgY2xhc3M9XCJzZWNvbmRhcnktdG9vbGJhclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgICAgW2FyaWEtbGFiZWxdPVwiaW50bC5oZWxwQ2xvc2VBcmlhTGFiZWxcIlxuICAgICAgICBbbWF0VG9vbHRpcF09XCJpbnRsLmNsb3NlTGFiZWxcIlxuICAgICAgICBbbWF0RGlhbG9nQ2xvc2VdPVwidHJ1ZVwiXG4gICAgICA+XG4gICAgICAgIDxtYXQtaWNvbj5jbG9zZTwvbWF0LWljb24+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoMSBtYXQtZGlhbG9nLXRpdGxlPnt7IGludGwuaGVscC5oZWxwTGFiZWwgfX08L2gxPlxuICAgIDwvbWF0LXRvb2xiYXI+XG4gIH0gQGVsc2Uge1xuICAgIDxtYXQtdG9vbGJhciBjbGFzcz1cInNlY29uZGFyeS10b29sYmFyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgPGgxIGNsYXNzPVwiaGVhZGluZy1kZXNrdG9wXCIgbWF0LWRpYWxvZy10aXRsZT57e1xuICAgICAgICBpbnRsLmhlbHAuaGVscExhYmVsXG4gICAgICB9fTwvaDE+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICBbYXJpYS1sYWJlbF09XCJpbnRsLmhlbHBDbG9zZUFyaWFMYWJlbFwiXG4gICAgICAgIFttYXRUb29sdGlwXT1cImludGwuY2xvc2VMYWJlbFwiXG4gICAgICAgIFttYXREaWFsb2dDbG9zZV09XCJ0cnVlXCJcbiAgICAgID5cbiAgICAgICAgPG1hdC1pY29uPmNsb3NlPC9tYXQtaWNvbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvbWF0LXRvb2xiYXI+XG4gIH1cbiAgPG1hdC1kaWFsb2ctY29udGVudCBbbmdTdHlsZV09XCJ0YWJIZWlnaHRcIiBjbGFzcz1cImhlbHAtY29udGVudFwiIHRhYmluZGV4PVwiMFwiPlxuICAgIDxwIFtpbm5lckhUTUxdPVwiaW50bC5oZWxwLmxpbmUxXCI+PC9wPlxuICAgIDxwIFtpbm5lckhUTUxdPVwiaW50bC5oZWxwLmxpbmUyXCI+PC9wPlxuICAgIDxwIFtpbm5lckhUTUxdPVwiaW50bC5oZWxwLmxpbmUzXCI+PC9wPlxuICAgIDxwIFtpbm5lckhUTUxdPVwiaW50bC5oZWxwLmxpbmU0XCI+PC9wPlxuICAgIDxwIFtpbm5lckhUTUxdPVwiaW50bC5oZWxwLmxpbmU1XCI+PC9wPlxuICAgIDxwIFtpbm5lckhUTUxdPVwiaW50bC5oZWxwLmxpbmU2XCI+PC9wPlxuICAgIDxwIFtpbm5lckhUTUxdPVwiaW50bC5oZWxwLmxpbmUxMlwiPjwvcD5cbiAgICA8cCBbaW5uZXJIVE1MXT1cImludGwuaGVscC5saW5lN1wiPjwvcD5cbiAgICA8cCBbaW5uZXJIVE1MXT1cImludGwuaGVscC5saW5lOFwiPjwvcD5cbiAgICA8cCBbaW5uZXJIVE1MXT1cImludGwuaGVscC5saW5lOVwiPjwvcD5cbiAgICA8cCBbaW5uZXJIVE1MXT1cImludGwuaGVscC5saW5lMTBcIj48L3A+XG4gICAgPHAgW2lubmVySFRNTF09XCJpbnRsLmhlbHAubGluZTExXCI+PC9wPlxuICA8L21hdC1kaWFsb2ctY29udGVudD5cbjwvZGl2PlxuIl19","import { inject, Injectable, } from '@angular/core';\nimport { MatDialog, MatDialogState, } from '@angular/material/dialog';\nimport { Subscription } from 'rxjs';\nimport { MimeResizeService } from '../core/mime-resize-service/mime-resize.service';\nimport { HelpDialogConfigStrategyFactory } from './help-dialog-config-strategy-factory';\nimport { HelpDialogComponent } from './help-dialog.component';\nimport * as i0 from \"@angular/core\";\nexport class HelpDialogService {\n    constructor() {\n        this.dialog = inject(MatDialog);\n        this.helpDialogConfigStrategyFactory = inject(HelpDialogConfigStrategyFactory);\n        this.mimeResizeService = inject(MimeResizeService);\n    }\n    set el(el) {\n        this._el = el;\n    }\n    set viewContainerRef(viewContainerRef) {\n        this._viewContainerRef = viewContainerRef;\n    }\n    initialize() {\n        this.subscriptions = new Subscription();\n        this.subscriptions.add(this.mimeResizeService.onResize.subscribe(() => {\n            if (this.isOpen()) {\n                const config = this.getDialogConfig();\n                this.dialogRef?.updatePosition(config.position);\n                this.dialogRef?.updateSize(config.width, config.height);\n            }\n        }));\n    }\n    destroy() {\n        this.close();\n        this.unsubscribe();\n    }\n    open() {\n        if (!this.isOpen()) {\n            const config = this.getDialogConfig();\n            this.dialogRef = this.dialog.open(HelpDialogComponent, config);\n        }\n    }\n    close() {\n        if (this.isOpen()) {\n            this.dialogRef?.close();\n        }\n    }\n    toggle() {\n        this.isOpen() ? this.close() : this.open();\n    }\n    isOpen() {\n        return this.dialogRef?.getState() === MatDialogState.OPEN;\n    }\n    getDialogConfig() {\n        if (!this._el || !this._viewContainerRef) {\n            throw new Error('No element or viewContainerRef');\n        }\n        return this._el\n            ? this.helpDialogConfigStrategyFactory\n                .create()\n                .getConfig(this._el, this._viewContainerRef)\n            : {};\n    }\n    unsubscribe() {\n        if (this.subscriptions) {\n            this.subscriptions.unsubscribe();\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: HelpDialogService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: HelpDialogService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: HelpDialogService, decorators: [{\n            type: Injectable\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscC1kaWFsb2cuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9oZWxwLWRpYWxvZy9oZWxwLWRpYWxvZy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFTCxNQUFNLEVBQ04sVUFBVSxHQUVYLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFDTCxTQUFTLEVBRVQsY0FBYyxHQUNmLE1BQU0sMEJBQTBCLENBQUM7QUFDbEMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNwQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQztBQUNwRixPQUFPLEVBQUUsK0JBQStCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUN4RixPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQzs7QUFHOUQsTUFBTSxPQUFPLGlCQUFpQjtJQUQ5QjtRQUVtQixXQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNCLG9DQUErQixHQUFHLE1BQU0sQ0FDdkQsK0JBQStCLENBQ2hDLENBQUM7UUFDZSxzQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztLQXNFaEU7SUFoRUMsSUFBSSxFQUFFLENBQUMsRUFBYztRQUNuQixJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBRUQsSUFBSSxnQkFBZ0IsQ0FBQyxnQkFBa0M7UUFDckQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGdCQUFnQixDQUFDO0lBQzVDLENBQUM7SUFFTSxVQUFVO1FBQ2YsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUNwQixJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7WUFDN0MsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQztnQkFDbEIsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO2dCQUN0QyxJQUFJLENBQUMsU0FBUyxFQUFFLGNBQWMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ2hELElBQUksQ0FBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzFELENBQUM7UUFDSCxDQUFDLENBQUMsQ0FDSCxDQUFDO0lBQ0osQ0FBQztJQUVNLE9BQU87UUFDWixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVNLElBQUk7UUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDbkIsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3RDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDakUsQ0FBQztJQUNILENBQUM7SUFFTSxLQUFLO1FBQ1YsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUNsQixJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFDO1FBQzFCLENBQUM7SUFDSCxDQUFDO0lBRU0sTUFBTTtRQUNYLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDN0MsQ0FBQztJQUVNLE1BQU07UUFDWCxPQUFPLElBQUksQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLEtBQUssY0FBYyxDQUFDLElBQUksQ0FBQztJQUM1RCxDQUFDO0lBRU8sZUFBZTtRQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ3pDLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztRQUNwRCxDQUFDO1FBRUQsT0FBTyxJQUFJLENBQUMsR0FBRztZQUNiLENBQUMsQ0FBQyxJQUFJLENBQUMsK0JBQStCO2lCQUNqQyxNQUFNLEVBQUU7aUJBQ1IsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1lBQ2hELENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDVCxDQUFDO0lBRU8sV0FBVztRQUNqQixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25DLENBQUM7SUFDSCxDQUFDOzhHQTFFVSxpQkFBaUI7a0hBQWpCLGlCQUFpQjs7MkZBQWpCLGlCQUFpQjtrQkFEN0IsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEVsZW1lbnRSZWYsXG4gIGluamVjdCxcbiAgSW5qZWN0YWJsZSxcbiAgVmlld0NvbnRhaW5lclJlZixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBNYXREaWFsb2csXG4gIE1hdERpYWxvZ1JlZixcbiAgTWF0RGlhbG9nU3RhdGUsXG59IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE1pbWVSZXNpemVTZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9taW1lLXJlc2l6ZS1zZXJ2aWNlL21pbWUtcmVzaXplLnNlcnZpY2UnO1xuaW1wb3J0IHsgSGVscERpYWxvZ0NvbmZpZ1N0cmF0ZWd5RmFjdG9yeSB9IGZyb20gJy4vaGVscC1kaWFsb2ctY29uZmlnLXN0cmF0ZWd5LWZhY3RvcnknO1xuaW1wb3J0IHsgSGVscERpYWxvZ0NvbXBvbmVudCB9IGZyb20gJy4vaGVscC1kaWFsb2cuY29tcG9uZW50JztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEhlbHBEaWFsb2dTZXJ2aWNlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBkaWFsb2cgPSBpbmplY3QoTWF0RGlhbG9nKTtcbiAgcHJpdmF0ZSByZWFkb25seSBoZWxwRGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5ID0gaW5qZWN0KFxuICAgIEhlbHBEaWFsb2dDb25maWdTdHJhdGVneUZhY3RvcnksXG4gICk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWltZVJlc2l6ZVNlcnZpY2UgPSBpbmplY3QoTWltZVJlc2l6ZVNlcnZpY2UpO1xuICBwcml2YXRlIF9lbDogRWxlbWVudFJlZiB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfdmlld0NvbnRhaW5lclJlZjogVmlld0NvbnRhaW5lclJlZiB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBkaWFsb2dSZWY/OiBNYXREaWFsb2dSZWY8SGVscERpYWxvZ0NvbXBvbmVudD47XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9ucyE6IFN1YnNjcmlwdGlvbjtcblxuICBzZXQgZWwoZWw6IEVsZW1lbnRSZWYpIHtcbiAgICB0aGlzLl9lbCA9IGVsO1xuICB9XG5cbiAgc2V0IHZpZXdDb250YWluZXJSZWYodmlld0NvbnRhaW5lclJlZjogVmlld0NvbnRhaW5lclJlZikge1xuICAgIHRoaXMuX3ZpZXdDb250YWluZXJSZWYgPSB2aWV3Q29udGFpbmVyUmVmO1xuICB9XG5cbiAgcHVibGljIGluaXRpYWxpemUoKTogdm9pZCB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLm1pbWVSZXNpemVTZXJ2aWNlLm9uUmVzaXplLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzT3BlbigpKSB7XG4gICAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXREaWFsb2dDb25maWcoKTtcbiAgICAgICAgICB0aGlzLmRpYWxvZ1JlZj8udXBkYXRlUG9zaXRpb24oY29uZmlnLnBvc2l0aW9uKTtcbiAgICAgICAgICB0aGlzLmRpYWxvZ1JlZj8udXBkYXRlU2l6ZShjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIHB1YmxpYyBvcGVuKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc09wZW4oKSkge1xuICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXREaWFsb2dDb25maWcoKTtcbiAgICAgIHRoaXMuZGlhbG9nUmVmID0gdGhpcy5kaWFsb2cub3BlbihIZWxwRGlhbG9nQ29tcG9uZW50LCBjb25maWcpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBjbG9zZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgICAgdGhpcy5kaWFsb2dSZWY/LmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHRvZ2dsZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzT3BlbigpID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKCk7XG4gIH1cblxuICBwdWJsaWMgaXNPcGVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRpYWxvZ1JlZj8uZ2V0U3RhdGUoKSA9PT0gTWF0RGlhbG9nU3RhdGUuT1BFTjtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RGlhbG9nQ29uZmlnKCkge1xuICAgIGlmICghdGhpcy5fZWwgfHwgIXRoaXMuX3ZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZWxlbWVudCBvciB2aWV3Q29udGFpbmVyUmVmJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2VsXG4gICAgICA/IHRoaXMuaGVscERpYWxvZ0NvbmZpZ1N0cmF0ZWd5RmFjdG9yeVxuICAgICAgICAgIC5jcmVhdGUoKVxuICAgICAgICAgIC5nZXRDb25maWcodGhpcy5fZWwsIHRoaXMuX3ZpZXdDb250YWluZXJSZWYpXG4gICAgICA6IHt9O1xuICB9XG5cbiAgcHJpdmF0ZSB1bnN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","import { BreakpointObserver, Breakpoints, } from '@angular/cdk/layout';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, inject, ViewChild, } from '@angular/core';\nimport { MatFabButton, MatMiniFabButton } from '@angular/material/button';\nimport { MatIcon } from '@angular/material/icon';\nimport { MatTooltip } from '@angular/material/tooltip';\nimport { Subscription } from 'rxjs';\nimport { CanvasService } from '../../core/canvas-service/canvas-service';\nimport { IiifManifestService } from '../../core/iiif-manifest-service/iiif-manifest-service';\nimport { MimeViewerIntl } from '../../core/intl';\nimport { ModeService } from '../../core/mode-service/mode.service';\nimport { ViewingDirection } from '../../core/models/viewing-direction';\nimport { ViewerService } from '../../core/viewer-service/viewer.service';\nimport * as i0 from \"@angular/core\";\nexport class OsdToolbarComponent {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.numberOfCanvasGroups = 0;\n        this.isFirstCanvasGroup = false;\n        this.isLastCanvasGroup = false;\n        this.invert = false;\n        this.isWeb = false;\n        this.fabState = 'closed';\n        this.fabIcon = 'menu';\n        this.baseAnimationDelay = 20;\n        this.isZoomed = true;\n        this.breakpointObserver = inject(BreakpointObserver);\n        this.changeDetectorRef = inject(ChangeDetectorRef);\n        this.viewerService = inject(ViewerService);\n        this.canvasService = inject(CanvasService);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.modeService = inject(ModeService);\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.modeService.onChange.subscribe(() => {\n            this.isZoomed = this.modeService.isPageZoomed();\n            this.changeDetectorRef.detectChanges();\n        }));\n        this.subscriptions.add(this.breakpointObserver\n            .observe([Breakpoints.Web])\n            .subscribe((value) => {\n            this.isWeb = value.matches;\n            this.changeDetectorRef.detectChanges();\n        }));\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            if (manifest) {\n                this.invert = manifest.viewingDirection === ViewingDirection.LTR;\n                this.changeDetectorRef.detectChanges();\n            }\n        }));\n        this.subscriptions.add(this.viewerService.onCanvasGroupIndexChange.subscribe((currentCanvasGroupIndex) => {\n            this.numberOfCanvasGroups = this.canvasService.numberOfCanvasGroups;\n            this.isFirstCanvasGroup = this.isOnFirstCanvasGroup(currentCanvasGroupIndex);\n            this.isLastCanvasGroup = this.isOnLastCanvasGroup(currentCanvasGroupIndex);\n            this.changeDetectorRef.detectChanges();\n        }));\n        this.subscriptions.add(this.intl.changes.subscribe(() => this.changeDetectorRef.markForCheck()));\n    }\n    toggleFab() {\n        this.fabState = this.fabState === 'closed' ? 'open' : 'closed';\n        this.fabIcon = this.fabState === 'closed' ? 'menu' : 'clear';\n    }\n    zoomIn() {\n        this.viewerService.zoomIn();\n    }\n    zoomOut() {\n        this.viewerService.zoomOut();\n    }\n    home() {\n        this.viewerService.home();\n    }\n    rotate() {\n        this.viewerService.rotate();\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    goToPreviousCanvasGroup() {\n        this.viewerService.goToPreviousCanvasGroup();\n    }\n    goToNextCanvasGroup() {\n        this.viewerService.goToNextCanvasGroup();\n    }\n    isOnFirstCanvasGroup(currentCanvasGroupIndex) {\n        return currentCanvasGroupIndex === 0;\n    }\n    isOnLastCanvasGroup(currentCanvasGroupIndex) {\n        return currentCanvasGroupIndex === this.numberOfCanvasGroups - 1;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: OsdToolbarComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: OsdToolbarComponent, isStandalone: true, selector: \"mime-osd-toolbar\", viewQueries: [{ propertyName: \"container\", first: true, predicate: [\"container\"], descendants: true, static: true }], ngImport: i0, template: \"<div #container class=\\\"osd-toolbar\\\" [class.open]=\\\"fabState === 'open'\\\">\\n  @if (isWeb) {\\n    <div class=\\\"flex gap-2\\\">\\n      <div class=\\\"flex flex-col gap-2\\\">\\n        <button\\n          mat-fab\\n          aria-controls=\\\"osdControls\\\"\\n          data-testid=\\\"fabButton\\\"\\n          [attr.aria-expanded]=\\\"fabState === 'open'\\\"\\n          [attr.aria-label]=\\\"\\n            fabState === 'open'\\n              ? intl.closeOsdControlPanelLabel\\n              : intl.openOsdControlPanelLabel\\n          \\\"\\n          [matTooltip]=\\\"\\n            fabState === 'open'\\n              ? intl.closeOsdControlPanelLabel\\n              : intl.openOsdControlPanelLabel\\n          \\\"\\n          (click)=\\\"toggleFab()\\\"\\n        >\\n          <mat-icon>{{ fabIcon }}</mat-icon>\\n        </button>\\n      </div>\\n      <div id=\\\"osdControls\\\" class=\\\"flex items-center gap-2\\\">\\n        @if (invert) {\\n          <button\\n            data-testid=\\\"navigateBeforeButton\\\"\\n            mat-mini-fab\\n            [style.--delayEnter]=\\\"0\\\"\\n            [style.--delayLeave]=\\\"baseAnimationDelay * 5\\\"\\n            [attr.aria-label]=\\\"intl.previousPageLabel\\\"\\n            [matTooltip]=\\\"intl.previousPageLabel\\\"\\n            [disabled]=\\\"isFirstCanvasGroup\\\"\\n            (click)=\\\"goToPreviousCanvasGroup()\\\"\\n          >\\n            <mat-icon>navigate_before</mat-icon>\\n          </button>\\n        } @else {\\n          <button\\n            data-testid=\\\"navigateNextButton\\\"\\n            mat-mini-fab\\n            [style.--delayEnter]=\\\"0\\\"\\n            [style.--delayLeave]=\\\"baseAnimationDelay * 5\\\"\\n            [attr.aria-label]=\\\"intl.nextPageLabel\\\"\\n            [matTooltip]=\\\"intl.nextPageLabel\\\"\\n            [disabled]=\\\"isLastCanvasGroup\\\"\\n            (click)=\\\"goToNextCanvasGroup()\\\"\\n          >\\n            <mat-icon>navigate_before</mat-icon>\\n          </button>\\n        }\\n        @if (invert) {\\n          <button\\n            data-testid=\\\"navigateNextButton\\\"\\n            mat-mini-fab\\n            [style.--delayEnter]=\\\"baseAnimationDelay\\\"\\n            [style.--delayLeave]=\\\"baseAnimationDelay * 4\\\"\\n            [attr.aria-label]=\\\"intl.nextPageLabel\\\"\\n            [matTooltip]=\\\"intl.nextPageLabel\\\"\\n            [disabled]=\\\"isLastCanvasGroup\\\"\\n            (click)=\\\"goToNextCanvasGroup()\\\"\\n          >\\n            <mat-icon>navigate_next</mat-icon>\\n          </button>\\n        } @else {\\n          <button\\n            data-testid=\\\"navigateBeforeButton\\\"\\n            mat-mini-fab\\n            [style.--delayEnter]=\\\"baseAnimationDelay\\\"\\n            [style.--delayLeave]=\\\"baseAnimationDelay * 4\\\"\\n            [attr.aria-label]=\\\"intl.previousPageLabel\\\"\\n            [matTooltip]=\\\"intl.previousPageLabel\\\"\\n            [disabled]=\\\"isFirstCanvasGroup\\\"\\n            (click)=\\\"goToPreviousCanvasGroup()\\\"\\n          >\\n            <mat-icon>navigate_next</mat-icon>\\n          </button>\\n        }\\n        <button\\n          (click)=\\\"zoomIn()\\\"\\n          data-testid=\\\"zoomInButton\\\"\\n          mat-mini-fab\\n          [style.--delayEnter]=\\\"baseAnimationDelay * 2\\\"\\n          [style.--delayLeave]=\\\"baseAnimationDelay * 3\\\"\\n          [attr.aria-label]=\\\"intl.zoomInLabel\\\"\\n          [matTooltip]=\\\"intl.zoomInLabel\\\"\\n        >\\n          <mat-icon>zoom_in</mat-icon>\\n        </button>\\n        <button\\n          (click)=\\\"home()\\\"\\n          data-testid=\\\"homeButton\\\"\\n          mat-mini-fab\\n          [style.--delayEnter]=\\\"baseAnimationDelay * 3\\\"\\n          [style.--delayLeave]=\\\"baseAnimationDelay * 2\\\"\\n          [attr.aria-label]=\\\"intl.resetZoomLabel\\\"\\n          [disabled]=\\\"!isZoomed\\\"\\n          [matTooltip]=\\\"intl.resetZoomLabel\\\"\\n        >\\n          <mat-icon>home</mat-icon>\\n        </button>\\n        <button\\n          (click)=\\\"zoomOut()\\\"\\n          data-testid=\\\"zoomOutButton\\\"\\n          mat-mini-fab\\n          [style.--delayEnter]=\\\"baseAnimationDelay * 4\\\"\\n          [style.--delayLeave]=\\\"baseAnimationDelay\\\"\\n          [attr.aria-label]=\\\"intl.zoomOutLabel\\\"\\n          [matTooltip]=\\\"intl.zoomOutLabel\\\"\\n        >\\n          <mat-icon>zoom_out</mat-icon>\\n        </button>\\n        <button\\n          (click)=\\\"rotate()\\\"\\n          data-testid=\\\"rotateButton\\\"\\n          mat-mini-fab\\n          [style.--delayEnter]=\\\"baseAnimationDelay * 5\\\"\\n          [style.--delayLeave]=\\\"0\\\"\\n          [attr.aria-label]=\\\"intl.rotateCwLabel\\\"\\n          [matTooltip]=\\\"intl.rotateCwLabel\\\"\\n        >\\n          <mat-icon>rotate_right</mat-icon>\\n        </button>\\n      </div>\\n    </div>\\n  }\\n</div>\\n\", styles: [\":host{z-index:2}.osd-toolbar{position:absolute;background:transparent;width:auto;border-radius:8px;margin:8px 0 0 8px}.osd-toolbar [mat-fab] mat-icon{transition:transform .1s}.osd-toolbar [mat-mini-fab]{--delay: calc(var(--delayLeave, 0ms) * 1ms);opacity:0;scale:0;transition:opacity 1ms var(--delay, 0ms) ease-in,scale 1ms var(--delay, 0ms) ease-in}.osd-toolbar.open [mat-fab] mat-icon{transform:rotate(90deg)}.osd-toolbar.open [mat-mini-fab]{--delay: calc(var(--delayEnter, 0ms) * 1ms);opacity:1;scale:1;transition:opacity 1ms var(--delay, 0ms) ease-out,scale 1ms var(--delay, 0ms) ease-out}\\n\"], dependencies: [{ kind: \"component\", type: MatFabButton, selector: \"button[mat-fab], a[mat-fab], button[matFab], a[matFab]\", inputs: [\"extended\"], exportAs: [\"matButton\", \"matAnchor\"] }, { kind: \"directive\", type: MatTooltip, selector: \"[matTooltip]\", inputs: [\"matTooltipPosition\", \"matTooltipPositionAtOrigin\", \"matTooltipDisabled\", \"matTooltipShowDelay\", \"matTooltipHideDelay\", \"matTooltipTouchGestures\", \"matTooltip\", \"matTooltipClass\"], exportAs: [\"matTooltip\"] }, { kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"component\", type: MatMiniFabButton, selector: \"button[mat-mini-fab], a[mat-mini-fab], button[matMiniFab], a[matMiniFab]\", exportAs: [\"matButton\", \"matAnchor\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: OsdToolbarComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-osd-toolbar', changeDetection: ChangeDetectionStrategy.OnPush, imports: [MatFabButton, MatTooltip, MatIcon, MatMiniFabButton], template: \"<div #container class=\\\"osd-toolbar\\\" [class.open]=\\\"fabState === 'open'\\\">\\n  @if (isWeb) {\\n    <div class=\\\"flex gap-2\\\">\\n      <div class=\\\"flex flex-col gap-2\\\">\\n        <button\\n          mat-fab\\n          aria-controls=\\\"osdControls\\\"\\n          data-testid=\\\"fabButton\\\"\\n          [attr.aria-expanded]=\\\"fabState === 'open'\\\"\\n          [attr.aria-label]=\\\"\\n            fabState === 'open'\\n              ? intl.closeOsdControlPanelLabel\\n              : intl.openOsdControlPanelLabel\\n          \\\"\\n          [matTooltip]=\\\"\\n            fabState === 'open'\\n              ? intl.closeOsdControlPanelLabel\\n              : intl.openOsdControlPanelLabel\\n          \\\"\\n          (click)=\\\"toggleFab()\\\"\\n        >\\n          <mat-icon>{{ fabIcon }}</mat-icon>\\n        </button>\\n      </div>\\n      <div id=\\\"osdControls\\\" class=\\\"flex items-center gap-2\\\">\\n        @if (invert) {\\n          <button\\n            data-testid=\\\"navigateBeforeButton\\\"\\n            mat-mini-fab\\n            [style.--delayEnter]=\\\"0\\\"\\n            [style.--delayLeave]=\\\"baseAnimationDelay * 5\\\"\\n            [attr.aria-label]=\\\"intl.previousPageLabel\\\"\\n            [matTooltip]=\\\"intl.previousPageLabel\\\"\\n            [disabled]=\\\"isFirstCanvasGroup\\\"\\n            (click)=\\\"goToPreviousCanvasGroup()\\\"\\n          >\\n            <mat-icon>navigate_before</mat-icon>\\n          </button>\\n        } @else {\\n          <button\\n            data-testid=\\\"navigateNextButton\\\"\\n            mat-mini-fab\\n            [style.--delayEnter]=\\\"0\\\"\\n            [style.--delayLeave]=\\\"baseAnimationDelay * 5\\\"\\n            [attr.aria-label]=\\\"intl.nextPageLabel\\\"\\n            [matTooltip]=\\\"intl.nextPageLabel\\\"\\n            [disabled]=\\\"isLastCanvasGroup\\\"\\n            (click)=\\\"goToNextCanvasGroup()\\\"\\n          >\\n            <mat-icon>navigate_before</mat-icon>\\n          </button>\\n        }\\n        @if (invert) {\\n          <button\\n            data-testid=\\\"navigateNextButton\\\"\\n            mat-mini-fab\\n            [style.--delayEnter]=\\\"baseAnimationDelay\\\"\\n            [style.--delayLeave]=\\\"baseAnimationDelay * 4\\\"\\n            [attr.aria-label]=\\\"intl.nextPageLabel\\\"\\n            [matTooltip]=\\\"intl.nextPageLabel\\\"\\n            [disabled]=\\\"isLastCanvasGroup\\\"\\n            (click)=\\\"goToNextCanvasGroup()\\\"\\n          >\\n            <mat-icon>navigate_next</mat-icon>\\n          </button>\\n        } @else {\\n          <button\\n            data-testid=\\\"navigateBeforeButton\\\"\\n            mat-mini-fab\\n            [style.--delayEnter]=\\\"baseAnimationDelay\\\"\\n            [style.--delayLeave]=\\\"baseAnimationDelay * 4\\\"\\n            [attr.aria-label]=\\\"intl.previousPageLabel\\\"\\n            [matTooltip]=\\\"intl.previousPageLabel\\\"\\n            [disabled]=\\\"isFirstCanvasGroup\\\"\\n            (click)=\\\"goToPreviousCanvasGroup()\\\"\\n          >\\n            <mat-icon>navigate_next</mat-icon>\\n          </button>\\n        }\\n        <button\\n          (click)=\\\"zoomIn()\\\"\\n          data-testid=\\\"zoomInButton\\\"\\n          mat-mini-fab\\n          [style.--delayEnter]=\\\"baseAnimationDelay * 2\\\"\\n          [style.--delayLeave]=\\\"baseAnimationDelay * 3\\\"\\n          [attr.aria-label]=\\\"intl.zoomInLabel\\\"\\n          [matTooltip]=\\\"intl.zoomInLabel\\\"\\n        >\\n          <mat-icon>zoom_in</mat-icon>\\n        </button>\\n        <button\\n          (click)=\\\"home()\\\"\\n          data-testid=\\\"homeButton\\\"\\n          mat-mini-fab\\n          [style.--delayEnter]=\\\"baseAnimationDelay * 3\\\"\\n          [style.--delayLeave]=\\\"baseAnimationDelay * 2\\\"\\n          [attr.aria-label]=\\\"intl.resetZoomLabel\\\"\\n          [disabled]=\\\"!isZoomed\\\"\\n          [matTooltip]=\\\"intl.resetZoomLabel\\\"\\n        >\\n          <mat-icon>home</mat-icon>\\n        </button>\\n        <button\\n          (click)=\\\"zoomOut()\\\"\\n          data-testid=\\\"zoomOutButton\\\"\\n          mat-mini-fab\\n          [style.--delayEnter]=\\\"baseAnimationDelay * 4\\\"\\n          [style.--delayLeave]=\\\"baseAnimationDelay\\\"\\n          [attr.aria-label]=\\\"intl.zoomOutLabel\\\"\\n          [matTooltip]=\\\"intl.zoomOutLabel\\\"\\n        >\\n          <mat-icon>zoom_out</mat-icon>\\n        </button>\\n        <button\\n          (click)=\\\"rotate()\\\"\\n          data-testid=\\\"rotateButton\\\"\\n          mat-mini-fab\\n          [style.--delayEnter]=\\\"baseAnimationDelay * 5\\\"\\n          [style.--delayLeave]=\\\"0\\\"\\n          [attr.aria-label]=\\\"intl.rotateCwLabel\\\"\\n          [matTooltip]=\\\"intl.rotateCwLabel\\\"\\n        >\\n          <mat-icon>rotate_right</mat-icon>\\n        </button>\\n      </div>\\n    </div>\\n  }\\n</div>\\n\", styles: [\":host{z-index:2}.osd-toolbar{position:absolute;background:transparent;width:auto;border-radius:8px;margin:8px 0 0 8px}.osd-toolbar [mat-fab] mat-icon{transition:transform .1s}.osd-toolbar [mat-mini-fab]{--delay: calc(var(--delayLeave, 0ms) * 1ms);opacity:0;scale:0;transition:opacity 1ms var(--delay, 0ms) ease-in,scale 1ms var(--delay, 0ms) ease-in}.osd-toolbar.open [mat-fab] mat-icon{transform:rotate(90deg)}.osd-toolbar.open [mat-mini-fab]{--delay: calc(var(--delayEnter, 0ms) * 1ms);opacity:1;scale:1;transition:opacity 1ms var(--delay, 0ms) ease-out,scale 1ms var(--delay, 0ms) ease-out}\\n\"] }]\n        }], propDecorators: { container: [{\n                type: ViewChild,\n                args: ['container', { static: true }]\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3NkLXRvb2xiYXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL3ZpZXdlci9vc2QtdG9vbGJhci9vc2QtdG9vbGJhci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvdmlld2VyL29zZC10b29sYmFyL29zZC10b29sYmFyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxrQkFBa0IsRUFDbEIsV0FBVyxHQUVaLE1BQU0scUJBQXFCLENBQUM7QUFDN0IsT0FBTyxFQUNMLHVCQUF1QixFQUN2QixpQkFBaUIsRUFDakIsU0FBUyxFQUNULFVBQVUsRUFDVixNQUFNLEVBR04sU0FBUyxHQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxZQUFZLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMxRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDakQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDcEMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBQ3pFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHdEQUF3RCxDQUFDO0FBQzdGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFFbkUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFDdkUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDBDQUEwQyxDQUFDOztBQVN6RSxNQUFNLE9BQU8sbUJB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Q2xDaEMsMCtJQWdJQSw2b0JEaEdZLFlBQVksK0pBQUUsVUFBVSxpUkFBRSxPQUFPLDJJQUFFLGdCQUFnQjs7MkZBRWxELG1CQUFtQjtrQkFQL0IsU0FBUzsrQkFDRSxrQkFBa0IsbUJBR1gsdUJBQXVCLENBQUMsTUFBTSxXQUN0QyxDQUFDLFlBQVksRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLGdCQUFnQixDQUFDOztzQkFHN0QsU0FBUzt1QkFBQyxXQUFXLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQnJlYWtwb2ludE9ic2VydmVyLFxuICBCcmVha3BvaW50cyxcbiAgQnJlYWtwb2ludFN0YXRlLFxufSBmcm9tICdAYW5ndWxhci9jZGsvbGF5b3V0JztcbmltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBpbmplY3QsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBWaWV3Q2hpbGQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0RmFiQnV0dG9uLCBNYXRNaW5pRmFiQnV0dG9uIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvYnV0dG9uJztcbmltcG9ydCB7IE1hdEljb24gfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9pY29uJztcbmltcG9ydCB7IE1hdFRvb2x0aXAgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC90b29sdGlwJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQ2FudmFzU2VydmljZSB9IGZyb20gJy4uLy4uL2NvcmUvY2FudmFzLXNlcnZpY2UvY2FudmFzLXNlcnZpY2UnO1xuaW1wb3J0IHsgSWlpZk1hbmlmZXN0U2VydmljZSB9IGZyb20gJy4uLy4uL2NvcmUvaWlpZi1tYW5pZmVzdC1zZXJ2aWNlL2lpaWYtbWFuaWZlc3Qtc2VydmljZSc7XG5pbXBvcnQgeyBNaW1lVmlld2VySW50bCB9IGZyb20gJy4uLy4uL2NvcmUvaW50bCc7XG5pbXBvcnQgeyBNb2RlU2VydmljZSB9IGZyb20gJy4uLy4uL2NvcmUvbW9kZS1zZXJ2aWNlL21vZGUuc2VydmljZSc7XG5pbXBvcnQgeyBNYW5pZmVzdCB9IGZyb20gJy4uLy4uL2NvcmUvbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IFZpZXdpbmdEaXJlY3Rpb24gfSBmcm9tICcuLi8uLi9jb3JlL21vZGVscy92aWV3aW5nLWRpcmVjdGlvbic7XG5pbXBvcnQgeyBWaWV3ZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vY29yZS92aWV3ZXItc2VydmljZS92aWV3ZXIuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21pbWUtb3NkLXRvb2xiYXInLFxuICB0ZW1wbGF0ZVVybDogJy4vb3NkLXRvb2xiYXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9vc2QtdG9vbGJhci5jb21wb25lbnQuc2NzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgaW1wb3J0czogW01hdEZhYkJ1dHRvbiwgTWF0VG9vbHRpcCwgTWF0SWNvbiwgTWF0TWluaUZhYkJ1dHRvbl0sXG59KVxuZXhwb3J0IGNsYXNzIE9zZFRvb2xiYXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIEBWaWV3Q2hpbGQoJ2NvbnRhaW5lcicsIHsgc3RhdGljOiB0cnVlIH0pIGNvbnRhaW5lciE6IEVsZW1lbnRSZWY7XG4gIGludGwgPSBpbmplY3QoTWltZVZpZXdlckludGwpO1xuICBudW1iZXJPZkNhbnZhc0dyb3VwcyA9IDA7XG4gIGlzRmlyc3RDYW52YXNHcm91cCA9IGZhbHNlO1xuICBpc0xhc3RDYW52YXNHcm91cCA9IGZhbHNlO1xuICBpbnZlcnQgPSBmYWxzZTtcbiAgaXNXZWIgPSBmYWxzZTtcbiAgZmFiU3RhdGUgPSAnY2xvc2VkJztcbiAgZmFiSWNvbiA9ICdtZW51JztcbiAgYmFzZUFuaW1hdGlvbkRlbGF5ID0gMjA7XG4gIGlzWm9vbWVkID0gdHJ1ZTtcbiAgcHJpdmF0ZSByZWFkb25seSBicmVha3BvaW50T2JzZXJ2ZXIgPSBpbmplY3QoQnJlYWtwb2ludE9ic2VydmVyKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjaGFuZ2VEZXRlY3RvclJlZiA9IGluamVjdChDaGFuZ2VEZXRlY3RvclJlZik7XG4gIHByaXZhdGUgcmVhZG9ubHkgdmlld2VyU2VydmljZSA9IGluamVjdChWaWV3ZXJTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjYW52YXNTZXJ2aWNlID0gaW5qZWN0KENhbnZhc1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGlpaWZNYW5pZmVzdFNlcnZpY2UgPSBpbmplY3QoSWlpZk1hbmlmZXN0U2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbW9kZVNlcnZpY2UgPSBpbmplY3QoTW9kZVNlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMubW9kZVNlcnZpY2Uub25DaGFuZ2Uuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgdGhpcy5pc1pvb21lZCA9IHRoaXMubW9kZVNlcnZpY2UuaXNQYWdlWm9vbWVkKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmJyZWFrcG9pbnRPYnNlcnZlclxuICAgICAgICAub2JzZXJ2ZShbQnJlYWtwb2ludHMuV2ViXSlcbiAgICAgICAgLnN1YnNjcmliZSgodmFsdWU6IEJyZWFrcG9pbnRTdGF0ZSkgPT4ge1xuICAgICAgICAgIHRoaXMuaXNXZWIgPSB2YWx1ZS5tYXRjaGVzO1xuICAgICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuaWlpZk1hbmlmZXN0U2VydmljZS5jdXJyZW50TWFuaWZlc3Quc3Vic2NyaWJlKFxuICAgICAgICAobWFuaWZlc3Q6IE1hbmlmZXN0IHwgbnVsbCkgPT4ge1xuICAgICAgICAgIGlmIChtYW5pZmVzdCkge1xuICAgICAgICAgICAgdGhpcy5pbnZlcnQgPSBtYW5pZmVzdC52aWV3aW5nRGlyZWN0aW9uID09PSBWaWV3aW5nRGlyZWN0aW9uLkxUUjtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLnZpZXdlclNlcnZpY2Uub25DYW52YXNHcm91cEluZGV4Q2hhbmdlLnN1YnNjcmliZShcbiAgICAgICAgKGN1cnJlbnRDYW52YXNHcm91cEluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICB0aGlzLm51bWJlck9mQ2FudmFzR3JvdXBzID0gdGhpcy5jYW52YXNTZXJ2aWNlLm51bWJlck9mQ2FudmFzR3JvdXBzO1xuICAgICAgICAgIHRoaXMuaXNGaXJzdENhbnZhc0dyb3VwID0gdGhpcy5pc09uRmlyc3RDYW52YXNHcm91cChcbiAgICAgICAgICAgIGN1cnJlbnRDYW52YXNHcm91cEluZGV4LFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5pc0xhc3RDYW52YXNHcm91cCA9IHRoaXMuaXNPbkxhc3RDYW52YXNHcm91cChcbiAgICAgICAgICAgIGN1cnJlbnRDYW52YXNHcm91cEluZGV4LFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5pbnRsLmNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCkpLFxuICAgICk7XG4gIH1cblxuICB0b2dnbGVGYWIoKTogdm9pZCB7XG4gICAgdGhpcy5mYWJTdGF0ZSA9IHRoaXMuZmFiU3RhdGUgPT09ICdjbG9zZWQnID8gJ29wZW4nIDogJ2Nsb3NlZCc7XG4gICAgdGhpcy5mYWJJY29uID0gdGhpcy5mYWJTdGF0ZSA9PT0gJ2Nsb3NlZCcgPyAnbWVudScgOiAnY2xlYXInO1xuICB9XG5cbiAgem9vbUluKCk6IHZvaWQge1xuICAgIHRoaXMudmlld2VyU2VydmljZS56b29tSW4oKTtcbiAgfVxuXG4gIHpvb21PdXQoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3ZXJTZXJ2aWNlLnpvb21PdXQoKTtcbiAgfVxuXG4gIGhvbWUoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3ZXJTZXJ2aWNlLmhvbWUoKTtcbiAgfVxuXG4gIHJvdGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXdlclNlcnZpY2Uucm90YXRlKCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIHB1YmxpYyBnb1RvUHJldmlvdXNDYW52YXNHcm91cCgpOiB2b2lkIHtcbiAgICB0aGlzLnZpZXdlclNlcnZpY2UuZ29Ub1ByZXZpb3VzQ2FudmFzR3JvdXAoKTtcbiAgfVxuXG4gIHB1YmxpYyBnb1RvTmV4dENhbnZhc0dyb3VwKCk6IHZvaWQge1xuICAgIHRoaXMudmlld2VyU2VydmljZS5nb1RvTmV4dENhbnZhc0dyb3VwKCk7XG4gIH1cblxuICBwcml2YXRlIGlzT25GaXJzdENhbnZhc0dyb3VwKGN1cnJlbnRDYW52YXNHcm91cEluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gY3VycmVudENhbnZhc0dyb3VwSW5kZXggPT09IDA7XG4gIH1cblxuICBwcml2YXRlIGlzT25MYXN0Q2FudmFzR3JvdXAoY3VycmVudENhbnZhc0dyb3VwSW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBjdXJyZW50Q2FudmFzR3JvdXBJbmRleCA9PT0gdGhpcy5udW1iZXJPZkNhbnZhc0dyb3VwcyAtIDE7XG4gIH1cbn1cbiIsIjxkaXYgI2NvbnRhaW5lciBjbGFzcz1cIm9zZC10b29sYmFyXCIgW2NsYXNzLm9wZW5dPVwiZmFiU3RhdGUgPT09ICdvcGVuJ1wiPlxuICBAaWYgKGlzV2ViKSB7XG4gICAgPGRpdiBjbGFzcz1cImZsZXggZ2FwLTJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC0yXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBtYXQtZmFiXG4gICAgICAgICAgYXJpYS1jb250cm9scz1cIm9zZENvbnRyb2xzXCJcbiAgICAgICAgICBkYXRhLXRlc3RpZD1cImZhYkJ1dHRvblwiXG4gICAgICAgICAgW2F0dHIuYXJpYS1leHBhbmRlZF09XCJmYWJTdGF0ZSA9PT0gJ29wZW4nXCJcbiAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cIlxuICAgICAgICAgICAgZmFiU3RhdGUgPT09ICdvcGVuJ1xuICAgICAgICAgICAgICA/IGludGwuY2xvc2VPc2RDb250cm9sUGFuZWxMYWJlbFxuICAgICAgICAgICAgICA6IGludGwub3Blbk9zZENvbnRyb2xQYW5lbExhYmVsXG4gICAgICAgICAgXCJcbiAgICAgICAgICBbbWF0VG9vbHRpcF09XCJcbiAgICAgICAgICAgIGZhYlN0YXRlID09PSAnb3BlbidcbiAgICAgICAgICAgICAgPyBpbnRsLmNsb3NlT3NkQ29udHJvbFBhbmVsTGFiZWxcbiAgICAgICAgICAgICAgOiBpbnRsLm9wZW5Pc2RDb250cm9sUGFuZWxMYWJlbFxuICAgICAgICAgIFwiXG4gICAgICAgICAgKGNsaWNrKT1cInRvZ2dsZUZhYigpXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxtYXQtaWNvbj57eyBmYWJJY29uIH19PC9tYXQtaWNvbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgaWQ9XCJvc2RDb250cm9sc1wiIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgQGlmIChpbnZlcnQpIHtcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBkYXRhLXRlc3RpZD1cIm5hdmlnYXRlQmVmb3JlQnV0dG9uXCJcbiAgICAgICAgICAgIG1hdC1taW5pLWZhYlxuICAgICAgICAgICAgW3N0eWxlLi0tZGVsYXlFbnRlcl09XCIwXCJcbiAgICAgICAgICAgIFtzdHlsZS4tLWRlbGF5TGVhdmVdPVwiYmFzZUFuaW1hdGlvbkRlbGF5ICogNVwiXG4gICAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImludGwucHJldmlvdXNQYWdlTGFiZWxcIlxuICAgICAgICAgICAgW21hdFRvb2x0aXBdPVwiaW50bC5wcmV2aW91c1BhZ2VMYWJlbFwiXG4gICAgICAgICAgICBbZGlzYWJsZWRdPVwiaXNGaXJzdENhbnZhc0dyb3VwXCJcbiAgICAgICAgICAgIChjbGljayk9XCJnb1RvUHJldmlvdXNDYW52YXNHcm91cCgpXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8bWF0LWljb24+bmF2aWdhdGVfYmVmb3JlPC9tYXQtaWNvbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJuYXZpZ2F0ZU5leHRCdXR0b25cIlxuICAgICAgICAgICAgbWF0LW1pbmktZmFiXG4gICAgICAgICAgICBbc3R5bGUuLS1kZWxheUVudGVyXT1cIjBcIlxuICAgICAgICAgICAgW3N0eWxlLi0tZGVsYXlMZWF2ZV09XCJiYXNlQW5pbWF0aW9uRGVsYXkgKiA1XCJcbiAgICAgICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiaW50bC5uZXh0UGFnZUxhYmVsXCJcbiAgICAgICAgICAgIFttYXRUb29sdGlwXT1cImludGwubmV4dFBhZ2VMYWJlbFwiXG4gICAgICAgICAgICBbZGlzYWJsZWRdPVwiaXNMYXN0Q2FudmFzR3JvdXBcIlxuICAgICAgICAgICAgKGNsaWNrKT1cImdvVG9OZXh0Q2FudmFzR3JvdXAoKVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG1hdC1pY29uPm5hdmlnYXRlX2JlZm9yZTwvbWF0LWljb24+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIH1cbiAgICAgICAgQGlmIChpbnZlcnQpIHtcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBkYXRhLXRlc3RpZD1cIm5hdmlnYXRlTmV4dEJ1dHRvblwiXG4gICAgICAgICAgICBtYXQtbWluaS1mYWJcbiAgICAgICAgICAgIFtzdHlsZS4tLWRlbGF5RW50ZXJdPVwiYmFzZUFuaW1hdGlvbkRlbGF5XCJcbiAgICAgICAgICAgIFtzdHlsZS4tLWRlbGF5TGVhdmVdPVwiYmFzZUFuaW1hdGlvbkRlbGF5ICogNFwiXG4gICAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImludGwubmV4dFBhZ2VMYWJlbFwiXG4gICAgICAgICAgICBbbWF0VG9vbHRpcF09XCJpbnRsLm5leHRQYWdlTGFiZWxcIlxuICAgICAgICAgICAgW2Rpc2FibGVkXT1cImlzTGFzdENhbnZhc0dyb3VwXCJcbiAgICAgICAgICAgIChjbGljayk9XCJnb1RvTmV4dENhbnZhc0dyb3VwKClcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxtYXQtaWNvbj5uYXZpZ2F0ZV9uZXh0PC9tYXQtaWNvbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJuYXZpZ2F0ZUJlZm9yZUJ1dHRvblwiXG4gICAgICAgICAgICBtYXQtbWluaS1mYWJcbiAgICAgICAgICAgIFtzdHlsZS4tLWRlbGF5RW50ZXJdPVwiYmFzZUFuaW1hdGlvbkRlbGF5XCJcbiAgICAgICAgICAgIFtzdHlsZS4tLWRlbGF5TGVhdmVdPVwiYmFzZUFuaW1hdGlvbkRlbGF5ICogNFwiXG4gICAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImludGwucHJldmlvdXNQYWdlTGFiZWxcIlxuICAgICAgICAgICAgW21hdFRvb2x0aXBdPVwiaW50bC5wcmV2aW91c1BhZ2VMYWJlbFwiXG4gICAgICAgICAgICBbZGlzYWJsZWRdPVwiaXNGaXJzdENhbnZhc0dyb3VwXCJcbiAgICAgICAgICAgIChjbGljayk9XCJnb1RvUHJldmlvdXNDYW52YXNHcm91cCgpXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8bWF0LWljb24+bmF2aWdhdGVfbmV4dDwvbWF0LWljb24+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIH1cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIChjbGljayk9XCJ6b29tSW4oKVwiXG4gICAgICAgICAgZGF0YS10ZXN0aWQ9XCJ6b29tSW5CdXR0b25cIlxuICAgICAgICAgIG1hdC1taW5pLWZhYlxuICAgICAgICAgIFtzdHlsZS4tLWRlbGF5RW50ZXJdPVwiYmFzZUFuaW1hdGlvbkRlbGF5ICogMlwiXG4gICAgICAgICAgW3N0eWxlLi0tZGVsYXlMZWF2ZV09XCJiYXNlQW5pbWF0aW9uRGVsYXkgKiAzXCJcbiAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImludGwuem9vbUluTGFiZWxcIlxuICAgICAgICAgIFttYXRUb29sdGlwXT1cImludGwuem9vbUluTGFiZWxcIlxuICAgICAgICA+XG4gICAgICAgICAgPG1hdC1pY29uPnpvb21faW48L21hdC1pY29uPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIChjbGljayk9XCJob21lKClcIlxuICAgICAgICAgIGRhdGEtdGVzdGlkPVwiaG9tZUJ1dHRvblwiXG4gICAgICAgICAgbWF0LW1pbmktZmFiXG4gICAgICAgICAgW3N0eWxlLi0tZGVsYXlFbnRlcl09XCJiYXNlQW5pbWF0aW9uRGVsYXkgKiAzXCJcbiAgICAgICAgICBbc3R5bGUuLS1kZWxheUxlYXZlXT1cImJhc2VBbmltYXRpb25EZWxheSAqIDJcIlxuICAgICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiaW50bC5yZXNldFpvb21MYWJlbFwiXG4gICAgICAgICAgW2Rpc2FibGVkXT1cIiFpc1pvb21lZFwiXG4gICAgICAgICAgW21hdFRvb2x0aXBdPVwiaW50bC5yZXNldFpvb21MYWJlbFwiXG4gICAgICAgID5cbiAgICAgICAgICA8bWF0LWljb24+aG9tZTwvbWF0LWljb24+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgKGNsaWNrKT1cInpvb21PdXQoKVwiXG4gICAgICAgICAgZGF0YS10ZXN0aWQ9XCJ6b29tT3V0QnV0dG9uXCJcbiAgICAgICAgICBtYXQtbWluaS1mYWJcbiAgICAgICAgICBbc3R5bGUuLS1kZWxheUVudGVyXT1cImJhc2VBbmltYXRpb25EZWxheSAqIDRcIlxuICAgICAgICAgIFtzdHlsZS4tLWRlbGF5TGVhdmVdPVwiYmFzZUFuaW1hdGlvbkRlbGF5XCJcbiAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImludGwuem9vbU91dExhYmVsXCJcbiAgICAgICAgICBbbWF0VG9vbHRpcF09XCJpbnRsLnpvb21PdXRMYWJlbFwiXG4gICAgICAgID5cbiAgICAgICAgICA8bWF0LWljb24+em9vbV9vdXQ8L21hdC1pY29uPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIChjbGljayk9XCJyb3RhdGUoKVwiXG4gICAgICAgICAgZGF0YS10ZXN0aWQ9XCJyb3RhdGVCdXR0b25cIlxuICAgICAgICAgIG1hdC1taW5pLWZhYlxuICAgICAgICAgIFtzdHlsZS4tLWRlbGF5RW50ZXJdPVwiYmFzZUFuaW1hdGlvbkRlbGF5ICogNVwiXG4gICAgICAgICAgW3N0eWxlLi0tZGVsYXlMZWF2ZV09XCIwXCJcbiAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImludGwucm90YXRlQ3dMYWJlbFwiXG4gICAgICAgICAgW21hdFRvb2x0aXBdPVwiaW50bC5yb3RhdGVDd0xhYmVsXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxtYXQtaWNvbj5yb3RhdGVfcmlnaHQ8L21hdC1pY29uPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICB9XG48L2Rpdj5cbiJdfQ==","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, inject, ViewChild, } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { AltoService } from '../../core/alto-service/alto.service';\nimport { CanvasService } from '../../core/canvas-service/canvas-service';\nimport { HighlightService } from '../../core/highlight-service/highlight.service';\nimport { IiifContentSearchService } from '../../core/iiif-content-search-service/iiif-content-search.service';\nimport { IiifManifestService } from '../../core/iiif-manifest-service/iiif-manifest-service';\nimport { MimeViewerIntl } from '../../core/intl';\nimport * as i0 from \"@angular/core\";\nexport class RecognizedTextContentComponent {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.isLoading = false;\n        this.error = undefined;\n        this.cdr = inject(ChangeDetectorRef);\n        this.canvasService = inject(CanvasService);\n        this.altoService = inject(AltoService);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.iiifContentSearchService = inject(IiifContentSearchService);\n        this.highlightService = inject(HighlightService);\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe((sr) => {\n            this.altoService.initialize(sr.hits);\n        }));\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe(() => {\n            this.clearRecognizedText();\n            this.cdr.detectChanges();\n        }));\n        this.subscriptions.add(this.iiifContentSearchService.onSelected.subscribe((hit) => {\n            if (hit) {\n                this.selectedHit = hit.id;\n                this.highlightService.highlightSelectedHit(this.selectedHit);\n            }\n        }));\n        this.subscriptions.add(this.altoService.onTextContentReady$.subscribe(async () => {\n            this.clearRecognizedText();\n            this.scrollToTop();\n            await this.updateRecognizedText();\n            this.cdr.detectChanges();\n        }));\n        this.subscriptions.add(this.altoService.isLoading$.subscribe((isLoading) => {\n            this.isLoading = isLoading;\n            this.cdr.detectChanges();\n        }));\n        this.subscriptions.add(this.altoService.hasErrors$.subscribe((error) => {\n            this.error = error;\n            this.cdr.detectChanges();\n        }));\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n        this.altoService.destroy();\n    }\n    clearRecognizedText() {\n        this.firstCanvasRecognizedTextContent = '';\n        this.secondCanvasRecognizedTextContent = '';\n    }\n    scrollToTop() {\n        this.recognizedTextContentContainer.nativeElement.scrollTop = 0;\n    }\n    async updateRecognizedText() {\n        const canvases = this.canvasService.getCanvasesPerCanvasGroup(this.canvasService.currentCanvasGroupIndex);\n        await this.updateCanvases(canvases);\n        if (this.selectedHit !== undefined) {\n            this.highlightService.highlightSelectedHit(this.selectedHit);\n        }\n    }\n    async updateCanvases(canvases) {\n        this.firstCanvasRecognizedTextContent = this.altoService.getHtml(canvases[0]);\n        if (canvases.length === 2) {\n            this.secondCanvasRecognizedTextContent = this.altoService.getHtml(canvases[1]);\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: RecognizedTextContentComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: RecognizedTextContentComponent, isStandalone: true, selector: \"mime-recognized-text-content\", viewQueries: [{ propertyName: \"recognizedTextContentContainer\", first: true, predicate: [\"recognizedTextContentContainer\"], descendants: true, read: ElementRef }], ngImport: i0, template: \"<div\\n  #recognizedTextContentContainer\\n  class=\\\"recognized-text-content-container flex flex-col items-center\\\"\\n  aria-live=\\\"polite\\\"\\n>\\n  @if (error) {\\n    <div data-testid=\\\"error\\\">{{ error }}</div>\\n  }\\n  @if (!isLoading) {\\n    @if (firstCanvasRecognizedTextContent) {\\n      <div\\n        class=\\\"content\\\"\\n        data-testid=\\\"firstCanvasRecognizedTextContent\\\"\\n        [innerHTML]=\\\"firstCanvasRecognizedTextContent\\\"\\n      >\\n      </div>\\n    }\\n    @if (secondCanvasRecognizedTextContent) {\\n      <div\\n        class=\\\"content\\\"\\n        data-testid=\\\"secondCanvasRecognizedTextContent\\\"\\n        [innerHTML]=\\\"secondCanvasRecognizedTextContent\\\"\\n      >\\n      </div>\\n    }\\n  }\\n</div>\\n\", styles: [\".recognized-text-content-container{height:100%;overflow:auto}.recognized-text-content-container>div{padding:1em}::ng-deep .selectedHit{background:#ff89009c;outline:2px solid rgb(97,52,0)}::ng-deep mark{background:#ffff009c}\\n\"], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: RecognizedTextContentComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-recognized-text-content', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div\\n  #recognizedTextContentContainer\\n  class=\\\"recognized-text-content-container flex flex-col items-center\\\"\\n  aria-live=\\\"polite\\\"\\n>\\n  @if (error) {\\n    <div data-testid=\\\"error\\\">{{ error }}</div>\\n  }\\n  @if (!isLoading) {\\n    @if (firstCanvasRecognizedTextContent) {\\n      <div\\n        class=\\\"content\\\"\\n        data-testid=\\\"firstCanvasRecognizedTextContent\\\"\\n        [innerHTML]=\\\"firstCanvasRecognizedTextContent\\\"\\n      >\\n      </div>\\n    }\\n    @if (secondCanvasRecognizedTextContent) {\\n      <div\\n        class=\\\"content\\\"\\n        data-testid=\\\"secondCanvasRecognizedTextContent\\\"\\n        [innerHTML]=\\\"secondCanvasRecognizedTextContent\\\"\\n      >\\n      </div>\\n    }\\n  }\\n</div>\\n\", styles: [\".recognized-text-content-container{height:100%;overflow:auto}.recognized-text-content-container>div{padding:1em}::ng-deep .selectedHit{background:#ff89009c;outline:2px solid rgb(97,52,0)}::ng-deep mark{background:#ffff009c}\\n\"] }]\n        }], propDecorators: { recognizedTextContentContainer: [{\n                type: ViewChild,\n                args: ['recognizedTextContentContainer', { read: ElementRef }]\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVjb2duaXplZC10ZXh0LWNvbnRlbnQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL3ZpZXdlci9yZWNvZ25pemVkLXRleHQtY29udGVudC9yZWNvZ25pemVkLXRleHQtY29udGVudC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvdmlld2VyL3JlY29nbml6ZWQtdGV4dC1jb250ZW50L3JlY29nbml6ZWQtdGV4dC1jb250ZW50LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxVQUFVLEVBQ1YsTUFBTSxFQUdOLFNBQVMsR0FDVixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUNuRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFDekUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFDbEYsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sb0VBQW9FLENBQUM7QUFDOUcsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sd0RBQXdELENBQUM7QUFDN0YsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDOztBQVVqRCxNQUFNLE9BQU8sOEJBQThCO0lBTjNDO1FBU0UsU0FBSSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUc5QixjQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ2xCLFVBQUssR0FBdUIsU0FBUyxDQUFDO1FBRXJCLFFBQUcsR0FBRyxNQUFNLENBQUMsaUJBQWlC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QUFDO0lBRU8sV0FBVztRQUNqQixJQUFJLENBQUMsOEJBQThCLENBQUMsYUFBYSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUVPLEtBQUssQ0FBQyxvQkFBb0I7UUFDaEMsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyx5QkFBeUIsQ0FDM0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyx1QkFBdUIsQ0FDM0MsQ0FBQztRQUNGLE1BQU0sSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwQyxJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssU0FBUyxFQUFFLENBQUM7WUFDbkMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUMvRCxDQUFDO0lBQ0gsQ0FBQztJQUVPLEtBQUssQ0FBQyxjQUFjLENBQUMsUUFBa0I7UUFDN0MsSUFBSSxDQUFDLGdDQUFnQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUM5RCxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQ1osQ0FBQztRQUVGLElBQUksUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUMxQixJQUFJLENBQUMsaUNBQWlDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQy9ELFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FDWixDQUFDO1FBQ0osQ0FBQztJQUNILENBQUM7OEdBaEdVLDhCQUE4QjtrR0FBOUIsOEJBQThCLHFOQUNZLFVBQVUsNkJDNUJqRSw0c0JBMkJBOzsyRkRBYSw4QkFBOEI7a0JBTjFDLFNBQVM7K0JBQ0UsOEJBQThCLG1CQUd2Qix1QkFBdUIsQ0FBQyxNQUFNOztzQkFHOUMsU0FBUzt1QkFBQyxnQ0FBZ0MsRUFBRSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgaW5qZWN0LFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgVmlld0NoaWxkLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFNhZmVIdG1sIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEFsdG9TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vY29yZS9hbHRvLXNlcnZpY2UvYWx0by5zZXJ2aWNlJztcbmltcG9ydCB7IENhbnZhc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9jb3JlL2NhbnZhcy1zZXJ2aWNlL2NhbnZhcy1zZXJ2aWNlJztcbmltcG9ydCB7IEhpZ2hsaWdodFNlcnZpY2UgfSBmcm9tICcuLi8uLi9jb3JlL2hpZ2hsaWdodC1zZXJ2aWNlL2hpZ2hsaWdodC5zZXJ2aWNlJztcbmltcG9ydCB7IElpaWZDb250ZW50U2VhcmNoU2VydmljZSB9IGZyb20gJy4uLy4uL2NvcmUvaWlpZi1jb250ZW50LXNlYXJjaC1zZXJ2aWNlL2lpaWYtY29udGVudC1zZWFyY2guc2VydmljZSc7XG5pbXBvcnQgeyBJaWlmTWFuaWZlc3RTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vY29yZS9paWlmLW1hbmlmZXN0LXNlcnZpY2UvaWlpZi1tYW5pZmVzdC1zZXJ2aWNlJztcbmltcG9ydCB7IE1pbWVWaWV3ZXJJbnRsIH0gZnJvbSAnLi4vLi4vY29yZS9pbnRsJztcbmltcG9ydCB7IEhpdCB9IGZyb20gJy4uLy4uL2NvcmUvbW9kZWxzL2hpdCc7XG5pbXBvcnQgeyBTZWFyY2hSZXN1bHQgfSBmcm9tICcuLi8uLi9jb3JlL21vZGVscy9zZWFyY2gtcmVzdWx0JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbWltZS1yZWNvZ25pemVkLXRleHQtY29udGVudCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9yZWNvZ25pemVkLXRleHQtY29udGVudC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3JlY29nbml6ZWQtdGV4dC1jb250ZW50LmNvbXBvbmVudC5zY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBSZWNvZ25pemVkVGV4dENvbnRlbnRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIEBWaWV3Q2hpbGQoJ3JlY29nbml6ZWRUZXh0Q29udGVudENvbnRhaW5lcicsIHsgcmVhZDogRWxlbWVudFJlZiB9KVxuICByZWNvZ25pemVkVGV4dENvbnRlbnRDb250YWluZXIhOiBFbGVtZW50UmVmO1xuICBpbnRsID0gaW5qZWN0KE1pbWVWaWV3ZXJJbnRsKTtcbiAgZmlyc3RDYW52YXNSZWNvZ25pemVkVGV4dENvbnRlbnQ6IFNhZmVIdG1sIHwgdW5kZWZpbmVkO1xuICBzZWNvbmRDYW52YXNSZWNvZ25pemVkVGV4dENvbnRlbnQ6IFNhZmVIdG1sIHwgdW5kZWZpbmVkO1xuICBpc0xvYWRpbmcgPSBmYWxzZTtcbiAgZXJyb3I6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgc2VsZWN0ZWRIaXQ6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSByZWFkb25seSBjZHIgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbnZhc1NlcnZpY2UgPSBpbmplY3QoQ2FudmFzU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgYWx0b1NlcnZpY2UgPSBpbmplY3QoQWx0b1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGlpaWZNYW5pZmVzdFNlcnZpY2UgPSBpbmplY3QoSWlpZk1hbmlmZXN0U2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgaWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlID0gaW5qZWN0KElpaWZDb250ZW50U2VhcmNoU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgaGlnaGxpZ2h0U2VydmljZSA9IGluamVjdChIaWdobGlnaHRTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBzdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmlpaWZDb250ZW50U2VhcmNoU2VydmljZS5vbkNoYW5nZS5zdWJzY3JpYmUoKHNyOiBTZWFyY2hSZXN1bHQpID0+IHtcbiAgICAgICAgdGhpcy5hbHRvU2VydmljZS5pbml0aWFsaXplKHNyLmhpdHMpO1xuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmlpaWZNYW5pZmVzdFNlcnZpY2UuY3VycmVudE1hbmlmZXN0LnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xlYXJSZWNvZ25pemVkVGV4dCgpO1xuICAgICAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuaWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlLm9uU2VsZWN0ZWQuc3Vic2NyaWJlKChoaXQ6IEhpdCB8IG51bGwpID0+IHtcbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRIaXQgPSBoaXQuaWQ7XG4gICAgICAgICAgdGhpcy5oaWdobGlnaHRTZXJ2aWNlLmhpZ2hsaWdodFNlbGVjdGVkSGl0KHRoaXMuc2VsZWN0ZWRIaXQpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuYWx0b1NlcnZpY2Uub25UZXh0Q29udGVudFJlYWR5JC5zdWJzY3JpYmUoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aGlzLmNsZWFyUmVjb2duaXplZFRleHQoKTtcbiAgICAgICAgdGhpcy5zY3JvbGxUb1RvcCgpO1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVJlY29nbml6ZWRUZXh0KCk7XG4gICAgICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcbiAgICAgIH0pLFxuICAgICk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuYWx0b1NlcnZpY2UuaXNMb2FkaW5nJC5zdWJzY3JpYmUoKGlzTG9hZGluZzogYm9vbGVhbikgPT4ge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGlzTG9hZGluZztcbiAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgfSksXG4gICAgKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5hbHRvU2VydmljZS5oYXNFcnJvcnMkLnN1YnNjcmliZSgoZXJyb3I6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLmFsdG9TZXJ2aWNlLmRlc3Ryb3koKTtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYXJSZWNvZ25pemVkVGV4dCgpIHtcbiAgICB0aGlzLmZpcnN0Q2FudmFzUmVjb2duaXplZFRleHRDb250ZW50ID0gJyc7XG4gICAgdGhpcy5zZWNvbmRDYW52YXNSZWNvZ25pemVkVGV4dENvbnRlbnQgPSAnJztcbiAgfVxuXG4gIHByaXZhdGUgc2Nyb2xsVG9Ub3AoKSB7XG4gICAgdGhpcy5yZWNvZ25pemVkVGV4dENvbnRlbnRDb250YWluZXIubmF0aXZlRWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB1cGRhdGVSZWNvZ25pemVkVGV4dCgpIHtcbiAgICBjb25zdCBjYW52YXNlcyA9IHRoaXMuY2FudmFzU2VydmljZS5nZXRDYW52YXNlc1BlckNhbnZhc0dyb3VwKFxuICAgICAgdGhpcy5jYW52YXNTZXJ2aWNlLmN1cnJlbnRDYW52YXNHcm91cEluZGV4LFxuICAgICk7XG4gICAgYXdhaXQgdGhpcy51cGRhdGVDYW52YXNlcyhjYW52YXNlcyk7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRIaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5oaWdobGlnaHRTZXJ2aWNlLmhpZ2hsaWdodFNlbGVjdGVkSGl0KHRoaXMuc2VsZWN0ZWRIaXQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdXBkYXRlQ2FudmFzZXMoY2FudmFzZXM6IG51bWJlcltdKSB7XG4gICAgdGhpcy5maXJzdENhbnZhc1JlY29nbml6ZWRUZXh0Q29udGVudCA9IHRoaXMuYWx0b1NlcnZpY2UuZ2V0SHRtbChcbiAgICAgIGNhbnZhc2VzWzBdLFxuICAgICk7XG5cbiAgICBpZiAoY2FudmFzZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICB0aGlzLnNlY29uZENhbnZhc1JlY29nbml6ZWRUZXh0Q29udGVudCA9IHRoaXMuYWx0b1NlcnZpY2UuZ2V0SHRtbChcbiAgICAgICAgY2FudmFzZXNbMV0sXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuIiwiPGRpdlxuICAjcmVjb2duaXplZFRleHRDb250ZW50Q29udGFpbmVyXG4gIGNsYXNzPVwicmVjb2duaXplZC10ZXh0LWNvbnRlbnQtY29udGFpbmVyIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCJcbiAgYXJpYS1saXZlPVwicG9saXRlXCJcbj5cbiAgQGlmIChlcnJvcikge1xuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJlcnJvclwiPnt7IGVycm9yIH19PC9kaXY+XG4gIH1cbiAgQGlmICghaXNMb2FkaW5nKSB7XG4gICAgQGlmIChmaXJzdENhbnZhc1JlY29nbml6ZWRUZXh0Q29udGVudCkge1xuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cImNvbnRlbnRcIlxuICAgICAgICBkYXRhLXRlc3RpZD1cImZpcnN0Q2FudmFzUmVjb2duaXplZFRleHRDb250ZW50XCJcbiAgICAgICAgW2lubmVySFRNTF09XCJmaXJzdENhbnZhc1JlY29nbml6ZWRUZXh0Q29udGVudFwiXG4gICAgICA+XG4gICAgICA8L2Rpdj5cbiAgICB9XG4gICAgQGlmIChzZWNvbmRDYW52YXNSZWNvZ25pemVkVGV4dENvbnRlbnQpIHtcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJjb250ZW50XCJcbiAgICAgICAgZGF0YS10ZXN0aWQ9XCJzZWNvbmRDYW52YXNSZWNvZ25pemVkVGV4dENvbnRlbnRcIlxuICAgICAgICBbaW5uZXJIVE1MXT1cInNlY29uZENhbnZhc1JlY29nbml6ZWRUZXh0Q29udGVudFwiXG4gICAgICA+XG4gICAgICA8L2Rpdj5cbiAgICB9XG4gIH1cbjwvZGl2PlxuIl19","import { Dir } from '@angular/cdk/bidi';\nimport { ChangeDetectorRef, Component, inject, Input, } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { MatButton, MatIconButton } from '@angular/material/button';\nimport { MatIcon } from '@angular/material/icon';\nimport { MatSlider, MatSliderThumb } from '@angular/material/slider';\nimport { MatToolbar } from '@angular/material/toolbar';\nimport { MatTooltip } from '@angular/material/tooltip';\nimport { Subscription } from 'rxjs';\nimport { CanvasGroupDialogService } from '../../../canvas-group-dialog/canvas-group-dialog.service';\nimport { IiifManifestService } from '../../../core/iiif-manifest-service/iiif-manifest-service';\nimport { AccessKeys } from '../../../core/models/AccessKeys';\nimport { ViewingDirection } from '../../../core/models/viewing-direction';\nimport { CanvasService } from './../../../core/canvas-service/canvas-service';\nimport { MimeViewerIntl } from './../../../core/intl';\nimport { SearchResult } from './../../../core/models/search-result';\nimport { ViewerService } from './../../../core/viewer-service/viewer.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nexport class CanvasGroupNavigatorComponent {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.numberOfCanvases = 0;\n        this.canvasGroupLabel = '';\n        this.numberOfCanvasGroups = 0;\n        this.currentCanvasGroupIndex = -1;\n        this.isFirstCanvasGroup = false;\n        this.isLastCanvasGroup = false;\n        this.ViewingDirection = ViewingDirection;\n        this.currentViewingDirection = ViewingDirection.LTR;\n        this.changeDetectorRef = inject(ChangeDetectorRef);\n        this.viewerService = inject(ViewerService);\n        this.canvasService = inject(CanvasService);\n        this.canvasGroupDialogService = inject(CanvasGroupDialogService);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.currentSliderCanvasGroupIndex = -1;\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            if (manifest) {\n                this.currentViewingDirection =\n                    manifest.viewingDirection === ViewingDirection.LTR\n                        ? ViewingDirection.LTR\n                        : ViewingDirection.RTL;\n                this.changeDetectorRef.detectChanges();\n            }\n        }));\n        this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe((currentCanvasGroupIndex) => {\n            if (this.currentSliderCanvasGroupIndex !== -1 &&\n                this.currentSliderCanvasGroupIndex === currentCanvasGroupIndex) {\n                this.currentSliderCanvasGroupIndex = -1;\n            }\n            else if (this.currentSliderCanvasGroupIndex === -1) {\n                this.currentCanvasGroupIndex = currentCanvasGroupIndex;\n                this.canvasGroupLabel = this.canvasService.getCanvasGroupLabel(this.currentCanvasGroupIndex);\n            }\n            this.isFirstCanvasGroup = this.isOnFirstCanvasGroup(currentCanvasGroupIndex);\n            this.isLastCanvasGroup = this.isOnLastCanvasGroup(currentCanvasGroupIndex);\n            this.changeDetectorRef.detectChanges();\n        }));\n        this.subscriptions.add(this.canvasService.onNumberOfCanvasGroupsChange.subscribe((numberOfCanvasGroups) => {\n            this.numberOfCanvasGroups = numberOfCanvasGroups;\n            this.numberOfCanvases = this.canvasService.numberOfCanvases;\n            if (this.currentCanvasGroupIndex !== null) {\n                this.isFirstCanvasGroup = this.isOnFirstCanvasGroup(this.currentCanvasGroupIndex);\n                this.isLastCanvasGroup = this.isOnLastCanvasGroup(this.currentCanvasGroupIndex);\n            }\n            this.changeDetectorRef.detectChanges();\n        }));\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    goToPreviousCanvasGroup() {\n        this.viewerService.goToPreviousCanvasGroup();\n    }\n    goToNextCanvasGroup() {\n        this.viewerService.goToNextCanvasGroup();\n    }\n    onSliderChange(event) {\n        const value = parseInt(event.target.value);\n        this.currentSliderCanvasGroupIndex = value;\n        this.currentCanvasGroupIndex = value;\n        if (this.currentCanvasGroupIndex !== null) {\n            this.canvasGroupLabel = this.canvasService.getCanvasGroupLabel(this.currentCanvasGroupIndex);\n            this.viewerService.goToCanvasGroup(this.currentCanvasGroupIndex, false);\n        }\n        this.changeDetectorRef.detectChanges();\n    }\n    onSliderHotKey(event) {\n        const accessKeys = new AccessKeys(event);\n        if (accessKeys.isSliderKeys()) {\n            event.stopPropagation();\n        }\n    }\n    openCanvasGroupDialog() {\n        this.canvasGroupDialogService.toggle();\n    }\n    isOnFirstCanvasGroup(currentCanvasGroupIndex) {\n        return currentCanvasGroupIndex === 0;\n    }\n    isOnLastCanvasGroup(currentCanvasGroupIndex) {\n        return currentCanvasGroupIndex === this.numberOfCanvasGroups - 1;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: CanvasGroupNavigatorComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: CanvasGroupNavigatorComponent, isStandalone: true, selector: \"mime-page-navigator\", inputs: { searchResult: \"searchResult\" }, ngImport: i0, template: \"<mat-toolbar>\\n  <div\\n    class=\\\"w-full\\\"\\n    data-testid=\\\"navigation-slider-container\\\"\\n    [dir]=\\\"currentViewingDirection\\\"\\n  >\\n    <mat-slider\\n      class=\\\"navigation-slider\\\"\\n      [max]=\\\"numberOfCanvasGroups - 1\\\"\\n      (keydown)=\\\"onSliderHotKey($event)\\\"\\n    >\\n      <input\\n        matSliderThumb\\n        [attr.aria-label]=\\\"intl.currentPageLabel\\\"\\n        [(ngModel)]=\\\"currentCanvasGroupIndex\\\"\\n        (input)=\\\"onSliderChange($event)\\\"\\n    /></mat-slider>\\n  </div>\\n  <button\\n    mat-button\\n    data-testid=\\\"canvasGroupDialogButton\\\"\\n    class=\\\"canvasGroups\\\"\\n    (click)=\\\"openCanvasGroupDialog()\\\"\\n  >\\n    <span data-testid=\\\"currentCanvasGroupLabel\\\">{{ canvasGroupLabel }}</span\\n    ><span>/</span\\n    ><span data-testid=\\\"numOfCanvasGroups\\\">{{ numberOfCanvases }}</span>\\n  </button>\\n  <div class=\\\"navigation-buttons\\\">\\n    @if (currentViewingDirection === ViewingDirection.LTR) {\\n      <button\\n        data-testid=\\\"footerNavigateBeforeButton\\\"\\n        mat-icon-button\\n        [attr.aria-label]=\\\"intl.previousPageLabel\\\"\\n        [matTooltip]=\\\"intl.previousPageLabel\\\"\\n        matTooltipPosition=\\\"above\\\"\\n        [disabled]=\\\"isFirstCanvasGroup\\\"\\n        (click)=\\\"goToPreviousCanvasGroup()\\\"\\n      >\\n        <mat-icon>navigate_before</mat-icon>\\n      </button>\\n      <button\\n        data-testid=\\\"footerNavigateNextButton\\\"\\n        mat-icon-button\\n        [attr.aria-label]=\\\"intl.nextPageLabel\\\"\\n        [matTooltip]=\\\"intl.nextPageLabel\\\"\\n        matTooltipPosition=\\\"above\\\"\\n        [disabled]=\\\"isLastCanvasGroup\\\"\\n        (click)=\\\"goToNextCanvasGroup()\\\"\\n      >\\n        <mat-icon>navigate_next</mat-icon>\\n      </button>\\n    } @else {\\n      <button\\n        data-testid=\\\"footerNavigateNextButton\\\"\\n        mat-icon-button\\n        [attr.aria-label]=\\\"intl.nextPageLabel\\\"\\n        [matTooltip]=\\\"intl.nextPageLabel\\\"\\n        matTooltipPosition=\\\"above\\\"\\n        [disabled]=\\\"isLastCanvasGroup\\\"\\n        (click)=\\\"goToNextCanvasGroup()\\\"\\n      >\\n        <mat-icon>navigate_before</mat-icon>\\n      </button>\\n      <button\\n        data-testid=\\\"footerNavigateBeforeButton\\\"\\n        mat-icon-button\\n        [attr.aria-label]=\\\"intl.previousPageLabel\\\"\\n        [matTooltip]=\\\"intl.previousPageLabel\\\"\\n        matTooltipPosition=\\\"above\\\"\\n        [disabled]=\\\"isFirstCanvasGroup\\\"\\n        (click)=\\\"goToPreviousCanvasGroup()\\\"\\n      >\\n        <mat-icon>navigate_next</mat-icon>\\n      </button>\\n    }\\n  </div>\\n</mat-toolbar>\\n\", styles: [\".canvasGroups{font-size:13px;text-align:center;cursor:pointer}.navigation-slider{width:100%;width:-moz-available;width:-webkit-fill-available}\\n\"], dependencies: [{ kind: \"component\", type: MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { kind: \"directive\", type: Dir, selector: \"[dir]\", inputs: [\"dir\"], outputs: [\"dirChange\"], exportAs: [\"dir\"] }, { kind: \"component\", type: MatSlider, selector: \"mat-slider\", inputs: [\"disabled\", \"discrete\", \"showTickMarks\", \"min\", \"color\", \"disableRipple\", \"max\", \"step\", \"displayWith\"], exportAs: [\"matSlider\"] }, { kind: \"directive\", type: MatSliderThumb, selector: \"input[matSliderThumb]\", inputs: [\"value\"], outputs: [\"valueChange\", \"dragStart\", \"dragEnd\"], exportAs: [\"matSliderThumb\"] }, { kind: \"ngmodule\", type: FormsModule }, { kind: \"directive\", type: i1.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i1.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i1.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"component\", type: MatButton, selector: \"    button[matButton], a[matButton], button[mat-button], button[mat-raised-button],    button[mat-flat-button], button[mat-stroked-button], a[mat-button], a[mat-raised-button],    a[mat-flat-button], a[mat-stroked-button]  \", inputs: [\"matButton\"], exportAs: [\"matButton\", \"matAnchor\"] }, { kind: \"component\", type: MatIconButton, selector: \"button[mat-icon-button], a[mat-icon-button], button[matIconButton], a[matIconButton]\", exportAs: [\"matButton\", \"matAnchor\"] }, { kind: \"directive\", type: MatTooltip, selector: \"[matTooltip]\", inputs: [\"matTooltipPosition\", \"matTooltipPositionAtOrigin\", \"matTooltipDisabled\", \"matTooltipShowDelay\", \"matTooltipHideDelay\", \"matTooltipTouchGestures\", \"matTooltip\", \"matTooltipClass\"], exportAs: [\"matTooltip\"] }, { kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: CanvasGroupNavigatorComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-page-navigator', imports: [\n                        MatToolbar,\n                        Dir,\n                        MatSlider,\n                        MatSliderThumb,\n                        FormsModule,\n                        MatButton,\n                        MatIconButton,\n                        MatTooltip,\n                        MatIcon,\n                    ], template: \"<mat-toolbar>\\n  <div\\n    class=\\\"w-full\\\"\\n    data-testid=\\\"navigation-slider-container\\\"\\n    [dir]=\\\"currentViewingDirection\\\"\\n  >\\n    <mat-slider\\n      class=\\\"navigation-slider\\\"\\n      [max]=\\\"numberOfCanvasGroups - 1\\\"\\n      (keydown)=\\\"onSliderHotKey($event)\\\"\\n    >\\n      <input\\n        matSliderThumb\\n        [attr.aria-label]=\\\"intl.currentPageLabel\\\"\\n        [(ngModel)]=\\\"currentCanvasGroupIndex\\\"\\n        (input)=\\\"onSliderChange($event)\\\"\\n    /></mat-slider>\\n  </div>\\n  <button\\n    mat-button\\n    data-testid=\\\"canvasGroupDialogButton\\\"\\n    class=\\\"canvasGroups\\\"\\n    (click)=\\\"openCanvasGroupDialog()\\\"\\n  >\\n    <span data-testid=\\\"currentCanvasGroupLabel\\\">{{ canvasGroupLabel }}</span\\n    ><span>/</span\\n    ><span data-testid=\\\"numOfCanvasGroups\\\">{{ numberOfCanvases }}</span>\\n  </button>\\n  <div class=\\\"navigation-buttons\\\">\\n    @if (currentViewingDirection === ViewingDirection.LTR) {\\n      <button\\n        data-testid=\\\"footerNavigateBeforeButton\\\"\\n        mat-icon-button\\n        [attr.aria-label]=\\\"intl.previousPageLabel\\\"\\n        [matTooltip]=\\\"intl.previousPageLabel\\\"\\n        matTooltipPosition=\\\"above\\\"\\n        [disabled]=\\\"isFirstCanvasGroup\\\"\\n        (click)=\\\"goToPreviousCanvasGroup()\\\"\\n      >\\n        <mat-icon>navigate_before</mat-icon>\\n      </button>\\n      <button\\n        data-testid=\\\"footerNavigateNextButton\\\"\\n        mat-icon-button\\n        [attr.aria-label]=\\\"intl.nextPageLabel\\\"\\n        [matTooltip]=\\\"intl.nextPageLabel\\\"\\n        matTooltipPosition=\\\"above\\\"\\n        [disabled]=\\\"isLastCanvasGroup\\\"\\n        (click)=\\\"goToNextCanvasGroup()\\\"\\n      >\\n        <mat-icon>navigate_next</mat-icon>\\n      </button>\\n    } @else {\\n      <button\\n        data-testid=\\\"footerNavigateNextButton\\\"\\n        mat-icon-button\\n        [attr.aria-label]=\\\"intl.nextPageLabel\\\"\\n        [matTooltip]=\\\"intl.nextPageLabel\\\"\\n        matTooltipPosition=\\\"above\\\"\\n        [disabled]=\\\"isLastCanvasGroup\\\"\\n        (click)=\\\"goToNextCanvasGroup()\\\"\\n      >\\n        <mat-icon>navigate_before</mat-icon>\\n      </button>\\n      <button\\n        data-testid=\\\"footerNavigateBeforeButton\\\"\\n        mat-icon-button\\n        [attr.aria-label]=\\\"intl.previousPageLabel\\\"\\n        [matTooltip]=\\\"intl.previousPageLabel\\\"\\n        matTooltipPosition=\\\"above\\\"\\n        [disabled]=\\\"isFirstCanvasGroup\\\"\\n        (click)=\\\"goToPreviousCanvasGroup()\\\"\\n      >\\n        <mat-icon>navigate_next</mat-icon>\\n      </button>\\n    }\\n  </div>\\n</mat-toolbar>\\n\", styles: [\".canvasGroups{font-size:13px;text-align:center;cursor:pointer}.navigation-slider{width:100%;width:-moz-available;width:-webkit-fill-available}\\n\"] }]\n        }], propDecorators: { searchResult: [{\n                type: Input\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FudmFzLWdyb3VwLW5hdmlnYXRvci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvdmlld2VyL3ZpZXdlci1mb290ZXIvY2FudmFzLWdyb3VwLW5hdmlnYXRvci9jYW52YXMtZ3JvdXAtbmF2aWdhdG9yLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi92aWV3ZXIvdmlld2VyLWZvb3Rlci9jYW52YXMtZ3JvdXAtbmF2aWdhdG9yL2NhbnZhcy1ncm91cC1uYXZpZ2F0b3IuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEdBQUcsRUFBYSxNQUFNLG1CQUFtQixDQUFDO0FBQ25ELE9BQU8sRUFDTCxpQkFBaUIsRUFDakIsU0FBUyxFQUNULE1BQU0sRUFDTixLQUFLLEdBR04sTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxTQUFTLEVBQUUsYUFBYSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDcEUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2pELE9BQU8sRUFBRSxTQUFTLEVBQUUsY0FBYyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLDBEQUEwRCxDQUFDO0FBQ3BHLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLDJEQUEyRCxDQUFDO0FB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Rzt3QkFDSCxTQUFTO3dCQUNULGNBQWM7d0JBQ2QsV0FBVzt3QkFDWCxTQUFTO3dCQUNULGFBQWE7d0JBQ2IsVUFBVTt3QkFDVixPQUFPO3FCQUNSOztzQkFHQSxLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlyLCBEaXJlY3Rpb24gfSBmcm9tICdAYW5ndWxhci9jZGsvYmlkaSc7XG5pbXBvcnQge1xuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBpbmplY3QsXG4gIElucHV0LFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IE1hdEJ1dHRvbiwgTWF0SWNvbkJ1dHRvbiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2J1dHRvbic7XG5pbXBvcnQgeyBNYXRJY29uIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvaWNvbic7XG5pbXBvcnQgeyBNYXRTbGlkZXIsIE1hdFNsaWRlclRodW1iIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc2xpZGVyJztcbmltcG9ydCB7IE1hdFRvb2xiYXIgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC90b29sYmFyJztcbmltcG9ydCB7IE1hdFRvb2x0aXAgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC90b29sdGlwJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQ2FudmFzR3JvdXBEaWFsb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vY2FudmFzLWdyb3VwLWRpYWxvZy9jYW52YXMtZ3JvdXAtZGlhbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgSWlpZk1hbmlmZXN0U2VydmljZSB9IGZyb20gJy4uLy4uLy4uL2NvcmUvaWlpZi1tYW5pZmVzdC1zZXJ2aWNlL2lpaWYtbWFuaWZlc3Qtc2VydmljZSc7XG5pbXBvcnQgeyBBY2Nlc3NLZXlzIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tb2RlbHMvQWNjZXNzS2V5cyc7XG5pbXBvcnQgeyBNYW5pZmVzdCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IFZpZXdpbmdEaXJlY3Rpb24gfSBmcm9tICcuLi8uLi8uLi9jb3JlL21vZGVscy92aWV3aW5nLWRpcmVjdGlvbic7XG5pbXBvcnQgeyBDYW52YXNTZXJ2aWNlIH0gZnJvbSAnLi8uLi8uLi8uLi9jb3JlL2NhbnZhcy1zZXJ2aWNlL2NhbnZhcy1zZXJ2aWNlJztcbmltcG9ydCB7IE1pbWVWaWV3ZXJJbnRsIH0gZnJvbSAnLi8uLi8uLi8uLi9jb3JlL2ludGwnO1xuaW1wb3J0IHsgU2VhcmNoUmVzdWx0IH0gZnJvbSAnLi8uLi8uLi8uLi9jb3JlL21vZGVscy9zZWFyY2gtcmVzdWx0JztcbmltcG9ydCB7IFZpZXdlclNlcnZpY2UgfSBmcm9tICcuLy4uLy4uLy4uL2NvcmUvdmlld2VyLXNlcnZpY2Uvdmlld2VyLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtaW1lLXBhZ2UtbmF2aWdhdG9yJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2NhbnZhcy1ncm91cC1uYXZpZ2F0b3IuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9jYW52YXMtZ3JvdXAtbmF2aWdhdG9yLmNvbXBvbmVudC5zY3NzJ10sXG4gIGltcG9ydHM6IFtcbiAgICBNYXRUb29sYmFyLFxuICAgIERpcixcbiAgICBNYXRTbGlkZXIsXG4gICAgTWF0U2xpZGVyVGh1bWIsXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgTWF0QnV0dG9uLFxuICAgIE1hdEljb25CdXR0b24sXG4gICAgTWF0VG9vbHRpcCxcbiAgICBNYXRJY29uLFxuICBdLFxufSlcbmV4cG9ydCBjbGFzcyBDYW52YXNHcm91cE5hdmlnYXRvckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgQElucHV0KCkgcHVibGljIHNlYXJjaFJlc3VsdCE6IFNlYXJjaFJlc3VsdDtcbiAgaW50bCA9IGluamVjdChNaW1lVmlld2VySW50bCk7XG4gIG51bWJlck9mQ2FudmFzZXMgPSAwO1xuICBjYW52YXNHcm91cExhYmVsID0gJyc7XG4gIG51bWJlck9mQ2FudmFzR3JvdXBzID0gMDtcbiAgY3VycmVudENhbnZhc0dyb3VwSW5kZXg6IG51bWJlciB8IG51bGwgPSAtMTtcbiAgaXNGaXJzdENhbnZhc0dyb3VwID0gZmFsc2U7XG4gIGlzTGFzdENhbnZhc0dyb3VwID0gZmFsc2U7XG4gIHJlYWRvbmx5IFZpZXdpbmdEaXJlY3Rpb24gPSBWaWV3aW5nRGlyZWN0aW9uO1xuICBjdXJyZW50Vmlld2luZ0RpcmVjdGlvbjogRGlyZWN0aW9uID0gVmlld2luZ0RpcmVjdGlvbi5MVFI7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2hhbmdlRGV0ZWN0b3JSZWYgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IHZpZXdlclNlcnZpY2UgPSBpbmplY3QoVmlld2VyU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FudmFzU2VydmljZSA9IGluamVjdChDYW52YXNTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjYW52YXNHcm91cERpYWxvZ1NlcnZpY2UgPSBpbmplY3QoQ2FudmFzR3JvdXBEaWFsb2dTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBpaWlmTWFuaWZlc3RTZXJ2aWNlID0gaW5qZWN0KElpaWZNYW5pZmVzdFNlcnZpY2UpO1xuICBwcml2YXRlIGN1cnJlbnRTbGlkZXJDYW52YXNHcm91cEluZGV4OiBudW1iZXIgfCBudWxsID0gLTE7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5paWlmTWFuaWZlc3RTZXJ2aWNlLmN1cnJlbnRNYW5pZmVzdC5zdWJzY3JpYmUoXG4gICAgICAgIChtYW5pZmVzdDogTWFuaWZlc3QgfCBudWxsKSA9PiB7XG4gICAgICAgICAgaWYgKG1hbmlmZXN0KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWaWV3aW5nRGlyZWN0aW9uID1cbiAgICAgICAgICAgICAgbWFuaWZlc3Qudmlld2luZ0RpcmVjdGlvbiA9PT0gVmlld2luZ0RpcmVjdGlvbi5MVFJcbiAgICAgICAgICAgICAgICA/IFZpZXdpbmdEaXJlY3Rpb24uTFRSXG4gICAgICAgICAgICAgICAgOiBWaWV3aW5nRGlyZWN0aW9uLlJUTDtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmNhbnZhc1NlcnZpY2Uub25DYW52YXNHcm91cEluZGV4Q2hhbmdlLnN1YnNjcmliZShcbiAgICAgICAgKGN1cnJlbnRDYW52YXNHcm91cEluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZXJDYW52YXNHcm91cEluZGV4ICE9PSAtMSAmJlxuICAgICAgICAgICAgdGhpcy5jdXJyZW50U2xpZGVyQ2FudmFzR3JvdXBJbmRleCA9PT0gY3VycmVudENhbnZhc0dyb3VwSW5kZXhcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNsaWRlckNhbnZhc0dyb3VwSW5kZXggPSAtMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudFNsaWRlckNhbnZhc0dyb3VwSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDYW52YXNHcm91cEluZGV4ID0gY3VycmVudENhbnZhc0dyb3VwSW5kZXg7XG4gICAgICAgICAgICB0aGlzLmNhbnZhc0dyb3VwTGFiZWwgPSB0aGlzLmNhbnZhc1NlcnZpY2UuZ2V0Q2FudmFzR3JvdXBMYWJlbChcbiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2FudmFzR3JvdXBJbmRleCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaXNGaXJzdENhbnZhc0dyb3VwID0gdGhpcy5pc09uRmlyc3RDYW52YXNHcm91cChcbiAgICAgICAgICAgIGN1cnJlbnRDYW52YXNHcm91cEluZGV4LFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5pc0xhc3RDYW52YXNHcm91cCA9IHRoaXMuaXNPbkxhc3RDYW52YXNHcm91cChcbiAgICAgICAgICAgIGN1cnJlbnRDYW52YXNHcm91cEluZGV4LFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5jYW52YXNTZXJ2aWNlLm9uTnVtYmVyT2ZDYW52YXNHcm91cHNDaGFuZ2Uuc3Vic2NyaWJlKFxuICAgICAgICAobnVtYmVyT2ZDYW52YXNHcm91cHM6IG51bWJlcikgPT4ge1xuICAgICAgICAgIHRoaXMubnVtYmVyT2ZDYW52YXNHcm91cHMgPSBudW1iZXJPZkNhbnZhc0dyb3VwcztcbiAgICAgICAgICB0aGlzLm51bWJlck9mQ2FudmFzZXMgPSB0aGlzLmNhbnZhc1NlcnZpY2UubnVtYmVyT2ZDYW52YXNlcztcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FudmFzR3JvdXBJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pc0ZpcnN0Q2FudmFzR3JvdXAgPSB0aGlzLmlzT25GaXJzdENhbnZhc0dyb3VwKFxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDYW52YXNHcm91cEluZGV4LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuaXNMYXN0Q2FudmFzR3JvdXAgPSB0aGlzLmlzT25MYXN0Q2FudmFzR3JvdXAoXG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudENhbnZhc0dyb3VwSW5kZXgsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgZ29Ub1ByZXZpb3VzQ2FudmFzR3JvdXAoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3ZXJTZXJ2aWNlLmdvVG9QcmV2aW91c0NhbnZhc0dyb3VwKCk7XG4gIH1cblxuICBnb1RvTmV4dENhbnZhc0dyb3VwKCk6IHZvaWQge1xuICAgIHRoaXMudmlld2VyU2VydmljZS5nb1RvTmV4dENhbnZhc0dyb3VwKCk7XG4gIH1cblxuICBvblNsaWRlckNoYW5nZShldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KChldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpO1xuICAgIHRoaXMuY3VycmVudFNsaWRlckNhbnZhc0dyb3VwSW5kZXggPSB2YWx1ZTtcbiAgICB0aGlzLmN1cnJlbnRDYW52YXNHcm91cEluZGV4ID0gdmFsdWU7XG4gICAgaWYgKHRoaXMuY3VycmVudENhbnZhc0dyb3VwSW5kZXggIT09IG51bGwpIHtcbiAgICAgIHRoaXMuY2FudmFzR3JvdXBMYWJlbCA9IHRoaXMuY2FudmFzU2VydmljZS5nZXRDYW52YXNHcm91cExhYmVsKFxuICAgICAgICB0aGlzLmN1cnJlbnRDYW52YXNHcm91cEluZGV4LFxuICAgICAgKTtcbiAgICAgIHRoaXMudmlld2VyU2VydmljZS5nb1RvQ2FudmFzR3JvdXAodGhpcy5jdXJyZW50Q2FudmFzR3JvdXBJbmRleCwgZmFsc2UpO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgfVxuXG4gIG9uU2xpZGVySG90S2V5KGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgY29uc3QgYWNjZXNzS2V5cyA9IG5ldyBBY2Nlc3NLZXlzKGV2ZW50KTtcbiAgICBpZiAoYWNjZXNzS2V5cy5pc1NsaWRlcktleXMoKSkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgb3BlbkNhbnZhc0dyb3VwRGlhbG9nKCk6IHZvaWQge1xuICAgIHRoaXMuY2FudmFzR3JvdXBEaWFsb2dTZXJ2aWNlLnRvZ2dsZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBpc09uRmlyc3RDYW52YXNHcm91cChjdXJyZW50Q2FudmFzR3JvdXBJbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGN1cnJlbnRDYW52YXNHcm91cEluZGV4ID09PSAwO1xuICB9XG5cbiAgcHJpdmF0ZSBpc09uTGFzdENhbnZhc0dyb3VwKGN1cnJlbnRDYW52YXNHcm91cEluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gY3VycmVudENhbnZhc0dyb3VwSW5kZXggPT09IHRoaXMubnVtYmVyT2ZDYW52YXNHcm91cHMgLSAxO1xuICB9XG59XG4iLCI8bWF0LXRvb2xiYXI+XG4gIDxkaXZcbiAgICBjbGFzcz1cInctZnVsbFwiXG4gICAgZGF0YS10ZXN0aWQ9XCJuYXZpZ2F0aW9uLXNsaWRlci1jb250YWluZXJcIlxuICAgIFtkaXJdPVwiY3VycmVudFZpZXdpbmdEaXJlY3Rpb25cIlxuICA+XG4gICAgPG1hdC1zbGlkZXJcbiAgICAgIGNsYXNzPVwibmF2aWdhdGlvbi1zbGlkZXJcIlxuICAgICAgW21heF09XCJudW1iZXJPZkNhbnZhc0dyb3VwcyAtIDFcIlxuICAgICAgKGtleWRvd24pPVwib25TbGlkZXJIb3RLZXkoJGV2ZW50KVwiXG4gICAgPlxuICAgICAgPGlucHV0XG4gICAgICAgIG1hdFNsaWRlclRodW1iXG4gICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiaW50bC5jdXJyZW50UGFnZUxhYmVsXCJcbiAgICAgICAgWyhuZ01vZGVsKV09XCJjdXJyZW50Q2FudmFzR3JvdXBJbmRleFwiXG4gICAgICAgIChpbnB1dCk9XCJvblNsaWRlckNoYW5nZSgkZXZlbnQpXCJcbiAgICAvPjwvbWF0LXNsaWRlcj5cbiAgPC9kaXY+XG4gIDxidXR0b25cbiAgICBtYXQtYnV0dG9uXG4gICAgZGF0YS10ZXN0aWQ9XCJjYW52YXNHcm91cERpYWxvZ0J1dHRvblwiXG4gICAgY2xhc3M9XCJjYW52YXNHcm91cHNcIlxuICAgIChjbGljayk9XCJvcGVuQ2FudmFzR3JvdXBEaWFsb2coKVwiXG4gID5cbiAgICA8c3BhbiBkYXRhLXRlc3RpZD1cImN1cnJlbnRDYW52YXNHcm91cExhYmVsXCI+e3sgY2FudmFzR3JvdXBMYWJlbCB9fTwvc3BhblxuICAgID48c3Bhbj4vPC9zcGFuXG4gICAgPjxzcGFuIGRhdGEtdGVzdGlkPVwibnVtT2ZDYW52YXNHcm91cHNcIj57eyBudW1iZXJPZkNhbnZhc2VzIH19PC9zcGFuPlxuICA8L2J1dHRvbj5cbiAgPGRpdiBjbGFzcz1cIm5hdmlnYXRpb24tYnV0dG9uc1wiPlxuICAgIEBpZiAoY3VycmVudFZpZXdpbmdEaXJlY3Rpb24gPT09IFZpZXdpbmdEaXJlY3Rpb24uTFRSKSB7XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGRhdGEtdGVzdGlkPVwiZm9vdGVyTmF2aWdhdGVCZWZvcmVCdXR0b25cIlxuICAgICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJpbnRsLnByZXZpb3VzUGFnZUxhYmVsXCJcbiAgICAgICAgW21hdFRvb2x0aXBdPVwiaW50bC5wcmV2aW91c1BhZ2VMYWJlbFwiXG4gICAgICAgIG1hdFRvb2x0aXBQb3NpdGlvbj1cImFib3ZlXCJcbiAgICAgICAgW2Rpc2FibGVkXT1cImlzRmlyc3RDYW52YXNHcm91cFwiXG4gICAgICAgIChjbGljayk9XCJnb1RvUHJldmlvdXNDYW52YXNHcm91cCgpXCJcbiAgICAgID5cbiAgICAgICAgPG1hdC1pY29uPm5hdmlnYXRlX2JlZm9yZTwvbWF0LWljb24+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgZGF0YS10ZXN0aWQ9XCJmb290ZXJOYXZpZ2F0ZU5leHRCdXR0b25cIlxuICAgICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJpbnRsLm5leHRQYWdlTGFiZWxcIlxuICAgICAgICBbbWF0VG9vbHRpcF09XCJpbnRsLm5leHRQYWdlTGFiZWxcIlxuICAgICAgICBtYXRUb29sdGlwUG9zaXRpb249XCJhYm92ZVwiXG4gICAgICAgIFtkaXNhYmxlZF09XCJpc0xhc3RDYW52YXNHcm91cFwiXG4gICAgICAgIChjbGljayk9XCJnb1RvTmV4dENhbnZhc0dyb3VwKClcIlxuICAgICAgPlxuICAgICAgICA8bWF0LWljb24+bmF2aWdhdGVfbmV4dDwvbWF0LWljb24+XG4gICAgICA8L2J1dHRvbj5cbiAgICB9IEBlbHNlIHtcbiAgICAgIDxidXR0b25cbiAgICAgICAgZGF0YS10ZXN0aWQ9XCJmb290ZXJOYXZpZ2F0ZU5leHRCdXR0b25cIlxuICAgICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJpbnRsLm5leHRQYWdlTGFiZWxcIlxuICAgICAgICBbbWF0VG9vbHRpcF09XCJpbnRsLm5leHRQYWdlTGFiZWxcIlxuICAgICAgICBtYXRUb29sdGlwUG9zaXRpb249XCJhYm92ZVwiXG4gICAgICAgIFtkaXNhYmxlZF09XCJpc0xhc3RDYW52YXNHcm91cFwiXG4gICAgICAgIChjbGljayk9XCJnb1RvTmV4dENhbnZhc0dyb3VwKClcIlxuICAgICAgPlxuICAgICAgICA8bWF0LWljb24+bmF2aWdhdGVfYmVmb3JlPC9tYXQtaWNvbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBkYXRhLXRlc3RpZD1cImZvb3Rlck5hdmlnYXRlQmVmb3JlQnV0dG9uXCJcbiAgICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiaW50bC5wcmV2aW91c1BhZ2VMYWJlbFwiXG4gICAgICAgIFttYXRUb29sdGlwXT1cImludGwucHJldmlvdXNQYWdlTGFiZWxcIlxuICAgICAgICBtYXRUb29sdGlwUG9zaXRpb249XCJhYm92ZVwiXG4gICAgICAgIFtkaXNhYmxlZF09XCJpc0ZpcnN0Q2FudmFzR3JvdXBcIlxuICAgICAgICAoY2xpY2spPVwiZ29Ub1ByZXZpb3VzQ2FudmFzR3JvdXAoKVwiXG4gICAgICA+XG4gICAgICAgIDxtYXQtaWNvbj5uYXZpZ2F0ZV9uZXh0PC9tYXQtaWNvbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIH1cbiAgPC9kaXY+XG48L21hdC10b29sYmFyPlxuIl19","import { NgClass } from '@angular/common';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, inject, Input, } from '@angular/core';\nimport { MatIconButton } from '@angular/material/button';\nimport { MatIcon } from '@angular/material/icon';\nimport { MatToolbar } from '@angular/material/toolbar';\nimport { MatTooltip } from '@angular/material/tooltip';\nimport { Subscription } from 'rxjs';\nimport { CanvasService } from '../../../core/canvas-service/canvas-service';\nimport { IiifContentSearchService } from '../../../core/iiif-content-search-service/iiif-content-search.service';\nimport { IiifManifestService } from '../../../core/iiif-manifest-service/iiif-manifest-service';\nimport { MimeViewerIntl } from '../../../core/intl';\nimport { SearchResult } from '../../../core/models/search-result';\nimport { ViewingDirection } from '../../../core/models/viewing-direction';\nimport { ContentSearchNavigationService } from '../../../core/navigation/content-search-navigation-service/content-search-navigation.service';\nimport * as i0 from \"@angular/core\";\nexport class ContentSearchNavigatorComponent {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.isHitOnActiveCanvasGroup = false;\n        this.isFirstHit = false;\n        this.isLastHit = false;\n        this.currentHit = 0;\n        this.invert = false;\n        this.changeDetectorRef = inject(ChangeDetectorRef);\n        this.canvasService = inject(CanvasService);\n        this.iiifContentSearchService = inject(IiifContentSearchService);\n        this.contentSearchNavigationService = inject(ContentSearchNavigationService);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.contentSearchNavigationService.initialize();\n        this.subscriptions.add(this.contentSearchNavigationService.currentHitCounter.subscribe((n) => {\n            this.currentHit = n;\n            this.updateHitStatus();\n            this.changeDetectorRef.detectChanges();\n        }));\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            if (manifest) {\n                this.invert = manifest.viewingDirection !== ViewingDirection.LTR;\n                this.changeDetectorRef.detectChanges();\n            }\n        }));\n        this.subscriptions.add(this.intl.changes.subscribe(() => this.changeDetectorRef.markForCheck()));\n        this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe((canvasGroupIndex) => {\n            this.contentSearchNavigationService.update(canvasGroupIndex);\n            this.isHitOnActiveCanvasGroup =\n                this.contentSearchNavigationService.getHitOnActiveCanvasGroup();\n            this.changeDetectorRef.detectChanges();\n        }));\n    }\n    ngOnChanges(changes) {\n        this.updateHitStatus();\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n        this.contentSearchNavigationService.destroy();\n    }\n    clear() {\n        this.iiifContentSearchService.destroy();\n    }\n    goToNextHit() {\n        this.contentSearchNavigationService.goToNextHit();\n    }\n    goToPreviousHit() {\n        this.contentSearchNavigationService.goToPreviousHit();\n    }\n    updateHitStatus() {\n        this.isFirstHit = this.currentHit <= 0;\n        this.isLastHit = this.currentHit === this.searchResult.size() - 1;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchNavigatorComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: ContentSearchNavigatorComponent, isStandalone: true, selector: \"mime-content-search-navigator\", inputs: { searchResult: \"searchResult\" }, usesOnChanges: true, ngImport: i0, template: \"@if (searchResult) {\\n  <mat-toolbar class=\\\"content-search-navigator-toolbar min-w-[275px]\\\">\\n    <button\\n      data-testid=\\\"footerNavigateCloseHitsButton\\\"\\n      mat-icon-button\\n      [attr.aria-label]=\\\"intl.closeLabel\\\"\\n      [matTooltip]=\\\"intl.closeLabel\\\"\\n      matTooltipPosition=\\\"above\\\"\\n      (click)=\\\"clear()\\\"\\n    >\\n      <mat-icon>close</mat-icon>\\n    </button>\\n    <div\\n      class=\\\"current-hit-label grow\\\"\\n      [ngClass]=\\\"{ 'not-on-page': !isHitOnActiveCanvasGroup }\\\"\\n      [innerHTML]=\\\"intl.currentHitLabel(currentHit + 1, searchResult.size())\\\"\\n    ></div>\\n    <div class=\\\"navigation-buttons\\\">\\n      @if (invert) {\\n        <button\\n          data-testid=\\\"footerNavigateNextHitButton\\\"\\n          mat-icon-button\\n          [attr.aria-label]=\\\"intl.nextHitLabel\\\"\\n          [matTooltip]=\\\"intl.nextHitLabel\\\"\\n          matTooltipPosition=\\\"above\\\"\\n          [disabled]=\\\"isLastHit\\\"\\n          (click)=\\\"goToNextHit()\\\"\\n        >\\n          <mat-icon>navigate_before</mat-icon>\\n        </button>\\n        <button\\n          data-testid=\\\"footerNavigatePreviousHitButton\\\"\\n          mat-icon-button\\n          [attr.aria-label]=\\\"intl.previousHitLabel\\\"\\n          [matTooltip]=\\\"intl.previousHitLabel\\\"\\n          matTooltipPosition=\\\"above\\\"\\n          [disabled]=\\\"isFirstHit\\\"\\n          (click)=\\\"goToPreviousHit()\\\"\\n        >\\n          <mat-icon>navigate_next</mat-icon>\\n        </button>\\n      } @else {\\n        <button\\n          data-testid=\\\"footerNavigatePreviousHitButton\\\"\\n          mat-icon-button\\n          [attr.aria-label]=\\\"intl.previousHitLabel\\\"\\n          [matTooltip]=\\\"intl.previousHitLabel\\\"\\n          matTooltipPosition=\\\"above\\\"\\n          [disabled]=\\\"isFirstHit\\\"\\n          (click)=\\\"goToPreviousHit()\\\"\\n        >\\n          <mat-icon>navigate_before</mat-icon>\\n        </button>\\n        <button\\n          data-testid=\\\"footerNavigateNextHitButton\\\"\\n          mat-icon-button\\n          [attr.aria-label]=\\\"intl.nextHitLabel\\\"\\n          [matTooltip]=\\\"intl.nextHitLabel\\\"\\n          matTooltipPosition=\\\"above\\\"\\n          [disabled]=\\\"isLastHit\\\"\\n          (click)=\\\"goToNextHit()\\\"\\n        >\\n          <mat-icon>navigate_next</mat-icon>\\n        </button>\\n      }\\n    </div>\\n  </mat-toolbar>\\n}\\n\", styles: [\".current-hit-label{font-size:13px;text-align:center}.not-on-page{opacity:.7}\\n\"], dependencies: [{ kind: \"component\", type: MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { kind: \"component\", type: MatIconButton, selector: \"button[mat-icon-button], a[mat-icon-button], button[matIconButton], a[matIconButton]\", exportAs: [\"matButton\", \"matAnchor\"] }, { kind: \"directive\", type: MatTooltip, selector: \"[matTooltip]\", inputs: [\"matTooltipPosition\", \"matTooltipPositionAtOrigin\", \"matTooltipDisabled\", \"matTooltipShowDelay\", \"matTooltipHideDelay\", \"matTooltipTouchGestures\", \"matTooltip\", \"matTooltipClass\"], exportAs: [\"matTooltip\"] }, { kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { kind: \"directive\", type: NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ContentSearchNavigatorComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-content-search-navigator', changeDetection: ChangeDetectionStrategy.OnPush, imports: [MatToolbar, MatIconButton, MatTooltip, MatIcon, NgClass], template: \"@if (searchResult) {\\n  <mat-toolbar class=\\\"content-search-navigator-toolbar min-w-[275px]\\\">\\n    <button\\n      data-testid=\\\"footerNavigateCloseHitsButton\\\"\\n      mat-icon-button\\n      [attr.aria-label]=\\\"intl.closeLabel\\\"\\n      [matTooltip]=\\\"intl.closeLabel\\\"\\n      matTooltipPosition=\\\"above\\\"\\n      (click)=\\\"clear()\\\"\\n    >\\n      <mat-icon>close</mat-icon>\\n    </button>\\n    <div\\n      class=\\\"current-hit-label grow\\\"\\n      [ngClass]=\\\"{ 'not-on-page': !isHitOnActiveCanvasGroup }\\\"\\n      [innerHTML]=\\\"intl.currentHitLabel(currentHit + 1, searchResult.size())\\\"\\n    ></div>\\n    <div class=\\\"navigation-buttons\\\">\\n      @if (invert) {\\n        <button\\n          data-testid=\\\"footerNavigateNextHitButton\\\"\\n          mat-icon-button\\n          [attr.aria-label]=\\\"intl.nextHitLabel\\\"\\n          [matTooltip]=\\\"intl.nextHitLabel\\\"\\n          matTooltipPosition=\\\"above\\\"\\n          [disabled]=\\\"isLastHit\\\"\\n          (click)=\\\"goToNextHit()\\\"\\n        >\\n          <mat-icon>navigate_before</mat-icon>\\n        </button>\\n        <button\\n          data-testid=\\\"footerNavigatePreviousHitButton\\\"\\n          mat-icon-button\\n          [attr.aria-label]=\\\"intl.previousHitLabel\\\"\\n          [matTooltip]=\\\"intl.previousHitLabel\\\"\\n          matTooltipPosition=\\\"above\\\"\\n          [disabled]=\\\"isFirstHit\\\"\\n          (click)=\\\"goToPreviousHit()\\\"\\n        >\\n          <mat-icon>navigate_next</mat-icon>\\n        </button>\\n      } @else {\\n        <button\\n          data-testid=\\\"footerNavigatePreviousHitButton\\\"\\n          mat-icon-button\\n          [attr.aria-label]=\\\"intl.previousHitLabel\\\"\\n          [matTooltip]=\\\"intl.previousHitLabel\\\"\\n          matTooltipPosition=\\\"above\\\"\\n          [disabled]=\\\"isFirstHit\\\"\\n          (click)=\\\"goToPreviousHit()\\\"\\n        >\\n          <mat-icon>navigate_before</mat-icon>\\n        </button>\\n        <button\\n          data-testid=\\\"footerNavigateNextHitButton\\\"\\n          mat-icon-button\\n          [attr.aria-label]=\\\"intl.nextHitLabel\\\"\\n          [matTooltip]=\\\"intl.nextHitLabel\\\"\\n          matTooltipPosition=\\\"above\\\"\\n          [disabled]=\\\"isLastHit\\\"\\n          (click)=\\\"goToNextHit()\\\"\\n        >\\n          <mat-icon>navigate_next</mat-icon>\\n        </button>\\n      }\\n    </div>\\n  </mat-toolbar>\\n}\\n\", styles: [\".current-hit-label{font-size:13px;text-align:center}.not-on-page{opacity:.7}\\n\"] }]\n        }], propDecorators: { searchResult: [{\n                type: Input\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC1zZWFyY2gtbmF2aWdhdG9yLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi92aWV3ZXIvdmlld2VyLWZvb3Rlci9jb250ZW50LXNlYXJjaC1uYXZpZ2F0b3IvY29udGVudC1zZWFyY2gtbmF2aWdhdG9yLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi92aWV3ZXIvdmlld2VyLWZvb3Rlci9jb250ZW50LXNlYXJjaC1uYXZpZ2F0b3IvY29udGVudC1zZWFyY2gtbmF2aWdhdG9yLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMxQyxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsTUFBTSxFQUNOLEtBQUssR0FLTixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDekQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2pELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdkQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNwQyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sNkNBQTZDLENBQUM7QUFDNUUsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sdUVBQXVFLENBQUM7QUFDakgsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMkRBQTJELENBQUM7QUFDaEcsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG9CQUFvQixDQUFD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Qyx3QkFBd0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUMxQyxDQUFDO0lBRUQsV0FBVztRQUNULElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNwRCxDQUFDO0lBRUQsZUFBZTtRQUNiLElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN4RCxDQUFDO0lBRU8sZUFBZTtRQUNyQixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFVBQVUsS0FBSyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNwRSxDQUFDOzhHQS9FVSwrQkFBK0I7a0dBQS9CLCtCQUErQix3SkNqQzVDLDR2RUFvRUEsd0lEckNZLFVBQVUscUdBQUUsYUFBYSx1S0FBRSxVQUFVLGlSQUFFLE9BQU8sMklBQUUsT0FBTzs7MkZBRXRELCtCQUErQjtrQkFQM0MsU0FBUzsrQkFDRSwrQkFBK0IsbUJBR3hCLHVCQUF1QixDQUFDLE1BQU0sV0FDdEMsQ0FBQyxVQUFVLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDOztzQkFLakUsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nQ2xhc3MgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIGluamVjdCxcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIFNpbXBsZUNoYW5nZXMsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0SWNvbkJ1dHRvbiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2J1dHRvbic7XG5pbXBvcnQgeyBNYXRJY29uIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvaWNvbic7XG5pbXBvcnQgeyBNYXRUb29sYmFyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdG9vbGJhcic7XG5pbXBvcnQgeyBNYXRUb29sdGlwIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdG9vbHRpcCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENhbnZhc1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9jb3JlL2NhbnZhcy1zZXJ2aWNlL2NhbnZhcy1zZXJ2aWNlJztcbmltcG9ydCB7IElpaWZDb250ZW50U2VhcmNoU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL2NvcmUvaWlpZi1jb250ZW50LXNlYXJjaC1zZXJ2aWNlL2lpaWYtY29udGVudC1zZWFyY2guc2VydmljZSc7XG5pbXBvcnQgeyBJaWlmTWFuaWZlc3RTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9paWlmLW1hbmlmZXN0LXNlcnZpY2UvaWlpZi1tYW5pZmVzdC1zZXJ2aWNlJztcbmltcG9ydCB7IE1pbWVWaWV3ZXJJbnRsIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9pbnRsJztcbmltcG9ydCB7IE1hbmlmZXN0IH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tb2RlbHMvbWFuaWZlc3QnO1xuaW1wb3J0IHsgU2VhcmNoUmVzdWx0IH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tb2RlbHMvc2VhcmNoLXJlc3VsdCc7XG5pbXBvcnQgeyBWaWV3aW5nRGlyZWN0aW9uIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tb2RlbHMvdmlld2luZy1kaXJlY3Rpb24nO1xuaW1wb3J0IHsgQ29udGVudFNlYXJjaE5hdmlnYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9uYXZpZ2F0aW9uL2NvbnRlbnQtc2VhcmNoLW5hdmlnYXRpb24tc2VydmljZS9jb250ZW50LXNlYXJjaC1uYXZpZ2F0aW9uLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtaW1lLWNvbnRlbnQtc2VhcmNoLW5hdmlnYXRvcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9jb250ZW50LXNlYXJjaC1uYXZpZ2F0b3IuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9jb250ZW50LXNlYXJjaC1uYXZpZ2F0b3IuY29tcG9uZW50LnNjc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIGltcG9ydHM6IFtNYXRUb29sYmFyLCBNYXRJY29uQnV0dG9uLCBNYXRUb29sdGlwLCBNYXRJY29uLCBOZ0NsYXNzXSxcbn0pXG5leHBvcnQgY2xhc3MgQ29udGVudFNlYXJjaE5hdmlnYXRvckNvbXBvbmVudFxuICBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95LCBPbkNoYW5nZXNcbntcbiAgQElucHV0KCkgc2VhcmNoUmVzdWx0ITogU2VhcmNoUmVzdWx0O1xuICBpbnRsID0gaW5qZWN0KE1pbWVWaWV3ZXJJbnRsKTtcbiAgaXNIaXRPbkFjdGl2ZUNhbnZhc0dyb3VwID0gZmFsc2U7XG4gIGlzRmlyc3RIaXQgPSBmYWxzZTtcbiAgaXNMYXN0SGl0ID0gZmFsc2U7XG4gIGN1cnJlbnRIaXQgPSAwO1xuICBpbnZlcnQgPSBmYWxzZTtcbiAgcHJpdmF0ZSByZWFkb25seSBjaGFuZ2VEZXRlY3RvclJlZiA9IGluamVjdChDaGFuZ2VEZXRlY3RvclJlZik7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FudmFzU2VydmljZSA9IGluamVjdChDYW52YXNTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBpaWlmQ29udGVudFNlYXJjaFNlcnZpY2UgPSBpbmplY3QoSWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjb250ZW50U2VhcmNoTmF2aWdhdGlvblNlcnZpY2UgPSBpbmplY3QoXG4gICAgQ29udGVudFNlYXJjaE5hdmlnYXRpb25TZXJ2aWNlLFxuICApO1xuICBwcml2YXRlIHJlYWRvbmx5IGlpaWZNYW5pZmVzdFNlcnZpY2UgPSBpbmplY3QoSWlpZk1hbmlmZXN0U2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3Vic2NyaXB0aW9ucyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmNvbnRlbnRTZWFyY2hOYXZpZ2F0aW9uU2VydmljZS5pbml0aWFsaXplKCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuY29udGVudFNlYXJjaE5hdmlnYXRpb25TZXJ2aWNlLmN1cnJlbnRIaXRDb3VudGVyLnN1YnNjcmliZSgobikgPT4ge1xuICAgICAgICB0aGlzLmN1cnJlbnRIaXQgPSBuO1xuICAgICAgICB0aGlzLnVwZGF0ZUhpdFN0YXR1cygpO1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgIH0pLFxuICAgICk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuaWlpZk1hbmlmZXN0U2VydmljZS5jdXJyZW50TWFuaWZlc3Quc3Vic2NyaWJlKFxuICAgICAgICAobWFuaWZlc3Q6IE1hbmlmZXN0IHwgbnVsbCkgPT4ge1xuICAgICAgICAgIGlmIChtYW5pZmVzdCkge1xuICAgICAgICAgICAgdGhpcy5pbnZlcnQgPSBtYW5pZmVzdC52aWV3aW5nRGlyZWN0aW9uICE9PSBWaWV3aW5nRGlyZWN0aW9uLkxUUjtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmludGwuY2hhbmdlcy5zdWJzY3JpYmUoKCkgPT4gdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5tYXJrRm9yQ2hlY2soKSksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmNhbnZhc1NlcnZpY2Uub25DYW52YXNHcm91cEluZGV4Q2hhbmdlLnN1YnNjcmliZShcbiAgICAgICAgKGNhbnZhc0dyb3VwSW5kZXgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbnRlbnRTZWFyY2hOYXZpZ2F0aW9uU2VydmljZS51cGRhdGUoY2FudmFzR3JvdXBJbmRleCk7XG4gICAgICAgICAgdGhpcy5pc0hpdE9uQWN0aXZlQ2FudmFzR3JvdXAgPVxuICAgICAgICAgICAgdGhpcy5jb250ZW50U2VhcmNoTmF2aWdhdGlvblNlcnZpY2UuZ2V0SGl0T25BY3RpdmVDYW52YXNHcm91cCgpO1xuICAgICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xuICAgIHRoaXMudXBkYXRlSGl0U3RhdHVzKCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLmNvbnRlbnRTZWFyY2hOYXZpZ2F0aW9uU2VydmljZS5kZXN0cm95KCk7XG4gIH1cblxuICBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmlpaWZDb250ZW50U2VhcmNoU2VydmljZS5kZXN0cm95KCk7XG4gIH1cblxuICBnb1RvTmV4dEhpdCgpIHtcbiAgICB0aGlzLmNvbnRlbnRTZWFyY2hOYXZpZ2F0aW9uU2VydmljZS5nb1RvTmV4dEhpdCgpO1xuICB9XG5cbiAgZ29Ub1ByZXZpb3VzSGl0KCkge1xuICAgIHRoaXMuY29udGVudFNlYXJjaE5hdmlnYXRpb25TZXJ2aWNlLmdvVG9QcmV2aW91c0hpdCgpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVIaXRTdGF0dXMoKSB7XG4gICAgdGhpcy5pc0ZpcnN0SGl0ID0gdGhpcy5jdXJyZW50SGl0IDw9IDA7XG4gICAgdGhpcy5pc0xhc3RIaXQgPSB0aGlzLmN1cnJlbnRIaXQgPT09IHRoaXMuc2VhcmNoUmVzdWx0LnNpemUoKSAtIDE7XG4gIH1cbn1cbiIsIkBpZiAoc2VhcmNoUmVzdWx0KSB7XG4gIDxtYXQtdG9vbGJhciBjbGFzcz1cImNvbnRlbnQtc2VhcmNoLW5hdmlnYXRvci10b29sYmFyIG1pbi13LVsyNzVweF1cIj5cbiAgICA8YnV0dG9uXG4gICAgICBkYXRhLXRlc3RpZD1cImZvb3Rlck5hdmlnYXRlQ2xvc2VIaXRzQnV0dG9uXCJcbiAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJpbnRsLmNsb3NlTGFiZWxcIlxuICAgICAgW21hdFRvb2x0aXBdPVwiaW50bC5jbG9zZUxhYmVsXCJcbiAgICAgIG1hdFRvb2x0aXBQb3NpdGlvbj1cImFib3ZlXCJcbiAgICAgIChjbGljayk9XCJjbGVhcigpXCJcbiAgICA+XG4gICAgICA8bWF0LWljb24+Y2xvc2U8L21hdC1pY29uPlxuICAgIDwvYnV0dG9uPlxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwiY3VycmVudC1oaXQtbGFiZWwgZ3Jvd1wiXG4gICAgICBbbmdDbGFzc109XCJ7ICdub3Qtb24tcGFnZSc6ICFpc0hpdE9uQWN0aXZlQ2FudmFzR3JvdXAgfVwiXG4gICAgICBbaW5uZXJIVE1MXT1cImludGwuY3VycmVudEhpdExhYmVsKGN1cnJlbnRIaXQgKyAxLCBzZWFyY2hSZXN1bHQuc2l6ZSgpKVwiXG4gICAgPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJuYXZpZ2F0aW9uLWJ1dHRvbnNcIj5cbiAgICAgIEBpZiAoaW52ZXJ0KSB7XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBkYXRhLXRlc3RpZD1cImZvb3Rlck5hdmlnYXRlTmV4dEhpdEJ1dHRvblwiXG4gICAgICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJpbnRsLm5leHRIaXRMYWJlbFwiXG4gICAgICAgICAgW21hdFRvb2x0aXBdPVwiaW50bC5uZXh0SGl0TGFiZWxcIlxuICAgICAgICAgIG1hdFRvb2x0aXBQb3NpdGlvbj1cImFib3ZlXCJcbiAgICAgICAgICBbZGlzYWJsZWRdPVwiaXNMYXN0SGl0XCJcbiAgICAgICAgICAoY2xpY2spPVwiZ29Ub05leHRIaXQoKVwiXG4gICAgICAgID5cbiAgICAgICAgICA8bWF0LWljb24+bmF2aWdhdGVfYmVmb3JlPC9tYXQtaWNvbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBkYXRhLXRlc3RpZD1cImZvb3Rlck5hdmlnYXRlUHJldmlvdXNIaXRCdXR0b25cIlxuICAgICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiaW50bC5wcmV2aW91c0hpdExhYmVsXCJcbiAgICAgICAgICBbbWF0VG9vbHRpcF09XCJpbnRsLnByZXZpb3VzSGl0TGFiZWxcIlxuICAgICAgICAgIG1hdFRvb2x0aXBQb3NpdGlvbj1cImFib3ZlXCJcbiAgICAgICAgICBbZGlzYWJsZWRdPVwiaXNGaXJzdEhpdFwiXG4gICAgICAgICAgKGNsaWNrKT1cImdvVG9QcmV2aW91c0hpdCgpXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxtYXQtaWNvbj5uYXZpZ2F0ZV9uZXh0PC9tYXQtaWNvbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICB9IEBlbHNlIHtcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGRhdGEtdGVzdGlkPVwiZm9vdGVyTmF2aWdhdGVQcmV2aW91c0hpdEJ1dHRvblwiXG4gICAgICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJpbnRsLnByZXZpb3VzSGl0TGFiZWxcIlxuICAgICAgICAgIFttYXRUb29sdGlwXT1cImludGwucHJldmlvdXNIaXRMYWJlbFwiXG4gICAgICAgICAgbWF0VG9vbHRpcFBvc2l0aW9uPVwiYWJvdmVcIlxuICAgICAgICAgIFtkaXNhYmxlZF09XCJpc0ZpcnN0SGl0XCJcbiAgICAgICAgICAoY2xpY2spPVwiZ29Ub1ByZXZpb3VzSGl0KClcIlxuICAgICAgICA+XG4gICAgICAgICAgPG1hdC1pY29uPm5hdmlnYXRlX2JlZm9yZTwvbWF0LWljb24+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgZGF0YS10ZXN0aWQ9XCJmb290ZXJOYXZpZ2F0ZU5leHRIaXRCdXR0b25cIlxuICAgICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiaW50bC5uZXh0SGl0TGFiZWxcIlxuICAgICAgICAgIFttYXRUb29sdGlwXT1cImludGwubmV4dEhpdExhYmVsXCJcbiAgICAgICAgICBtYXRUb29sdGlwUG9zaXRpb249XCJhYm92ZVwiXG4gICAgICAgICAgW2Rpc2FibGVkXT1cImlzTGFzdEhpdFwiXG4gICAgICAgICAgKGNsaWNrKT1cImdvVG9OZXh0SGl0KClcIlxuICAgICAgICA+XG4gICAgICAgICAgPG1hdC1pY29uPm5hdmlnYXRlX25leHQ8L21hdC1pY29uPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIH1cbiAgICA8L2Rpdj5cbiAgPC9tYXQtdG9vbGJhcj5cbn1cbiJdfQ==","import { BreakpointObserver, Breakpoints, } from '@angular/cdk/layout';\nimport { NgClass } from '@angular/common';\nimport { ChangeDetectorRef, Component, inject, ViewChild, ViewContainerRef, } from '@angular/core';\nimport { MatDivider } from '@angular/material/divider';\nimport { MatToolbar } from '@angular/material/toolbar';\nimport { Subscription } from 'rxjs';\nimport { IiifContentSearchService } from '../../core/iiif-content-search-service/iiif-content-search.service';\nimport { SearchResult } from '../../core/models/search-result';\nimport { CanvasGroupNavigatorComponent } from './canvas-group-navigator/canvas-group-navigator.component';\nimport { ContentSearchNavigatorComponent } from './content-search-navigator/content-search-navigator.component';\nimport * as i0 from \"@angular/core\";\nexport class ViewerFooterComponent {\n    constructor() {\n        this.searchResult = new SearchResult();\n        this.showPageNavigator = true;\n        this.showContentSearchNavigator = false;\n        this.breakpointObserver = inject(BreakpointObserver);\n        this.changeDetectorRef = inject(ChangeDetectorRef);\n        this.iiifContentSearchService = inject(IiifContentSearchService);\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.setupContentSearchObserver();\n        this.setupBreakpointObserver();\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    setupContentSearchObserver() {\n        this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe((sr) => {\n            this.searchResult = sr;\n            this.showContentSearchNavigator = this.searchResult.size() > 0;\n            this.updateShowPageNavigator();\n            this.changeDetectorRef.detectChanges();\n        }));\n    }\n    setupBreakpointObserver() {\n        this.subscriptions.add(this.breakpointObserver\n            .observe([Breakpoints.XSmall])\n            .subscribe((value) => {\n            this.showPageNavigator = value.matches\n                ? this.searchResult.size() === 0\n                : true;\n            this.changeDetectorRef.detectChanges();\n        }));\n    }\n    updateShowPageNavigator() {\n        this.showPageNavigator =\n            this.searchResult.size() === 0 || !this.isHandsetPortrait();\n    }\n    isHandsetPortrait() {\n        return this.breakpointObserver.isMatched(Breakpoints.HandsetPortrait);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerFooterComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: ViewerFooterComponent, isStandalone: true, selector: \"mime-viewer-footer\", viewQueries: [{ propertyName: \"mimeFooterBefore\", first: true, predicate: [\"mimeFooterBefore\"], descendants: true, read: ViewContainerRef, static: true }, { propertyName: \"mimeFooterAfter\", first: true, predicate: [\"mimeFooterAfter\"], descendants: true, read: ViewContainerRef, static: true }], ngImport: i0, template: \"<mat-divider></mat-divider>\\n<mat-toolbar class=\\\"footer-toolbar\\\">\\n  <ng-template #mimeFooterBefore></ng-template>\\n  @if (showContentSearchNavigator) {\\n    <mime-content-search-navigator\\n      [ngClass]=\\\"{ 'w-full': !showPageNavigator }\\\"\\n      [searchResult]=\\\"searchResult\\\"\\n    ></mime-content-search-navigator>\\n    <mat-divider class=\\\"h-full\\\" vertical></mat-divider>\\n  }\\n  <mime-page-navigator\\n    class=\\\"w-full\\\"\\n    [hidden]=\\\"!showPageNavigator\\\"\\n    [searchResult]=\\\"searchResult\\\"\\n  ></mime-page-navigator>\\n  <ng-template #mimeFooterAfter></ng-template>\\n</mat-toolbar>\\n\", styles: [\":host{display:block;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.footer-toolbar{padding:0}[hidden]{display:none}\\n\"], dependencies: [{ kind: \"component\", type: MatDivider, selector: \"mat-divider\", inputs: [\"vertical\", \"inset\"] }, { kind: \"component\", type: MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { kind: \"component\", type: ContentSearchNavigatorComponent, selector: \"mime-content-search-navigator\", inputs: [\"searchResult\"] }, { kind: \"directive\", type: NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"component\", type: CanvasGroupNavigatorComponent, selector: \"mime-page-navigator\", inputs: [\"searchResult\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerFooterComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-viewer-footer', imports: [\n                        MatDivider,\n                        MatToolbar,\n                        ContentSearchNavigatorComponent,\n                        NgClass,\n                        CanvasGroupNavigatorComponent,\n                    ], template: \"<mat-divider></mat-divider>\\n<mat-toolbar class=\\\"footer-toolbar\\\">\\n  <ng-template #mimeFooterBefore></ng-template>\\n  @if (showContentSearchNavigator) {\\n    <mime-content-search-navigator\\n      [ngClass]=\\\"{ 'w-full': !showPageNavigator }\\\"\\n      [searchResult]=\\\"searchResult\\\"\\n    ></mime-content-search-navigator>\\n    <mat-divider class=\\\"h-full\\\" vertical></mat-divider>\\n  }\\n  <mime-page-navigator\\n    class=\\\"w-full\\\"\\n    [hidden]=\\\"!showPageNavigator\\\"\\n    [searchResult]=\\\"searchResult\\\"\\n  ></mime-page-navigator>\\n  <ng-template #mimeFooterAfter></ng-template>\\n</mat-toolbar>\\n\", styles: [\":host{display:block;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.footer-toolbar{padding:0}[hidden]{display:none}\\n\"] }]\n        }], propDecorators: { mimeFooterBefore: [{\n                type: ViewChild,\n                args: ['mimeFooterBefore', { read: ViewContainerRef, static: true }]\n            }], mimeFooterAfter: [{\n                type: ViewChild,\n                args: ['mimeFooterAfter', { read: ViewContainerRef, static: true }]\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLWZvb3Rlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvdmlld2VyL3ZpZXdlci1mb290ZXIvdmlld2VyLWZvb3Rlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvdmlld2VyL3ZpZXdlci1mb290ZXIvdmlld2VyLWZvb3Rlci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsa0JBQWtCLEVBQ2xCLFdBQVcsR0FFWixNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMxQyxPQUFPLEVBQ0wsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxNQUFNLEVBR04sU0FBUyxFQUNULGdCQUFnQixHQUNqQixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdkQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDcEMsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sb0VBQW9FLENBQUM7QUFDOUcsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBQy9ELE9BQU8sRUFBRSw2QkFBNkIsRUFBRSxNQUFNLDJEQUEyRCxDQUFDO0FBQzFHLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLCtEQUErRCxDQUFDOztBQWNoSCxNQUFNLE9BQU8scUJBQXFCO0lBWmxDO1FBaUJFLGlCQUFZLEdBQWlCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDaEQsc0JBQWlCLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLCtCQUEwQixHQUFHLEtBQUssQ0FBQztRQUNsQix1QkFBa0IsR0FBRyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNoRCxzQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUM5Qyw2QkFBd0IsR0FBRyxNQUFNLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUM1RCxrQkFBYSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7S0EyQ3JEO0lBekNDLFFBQVE7UUFDTixJQUFJLENBQUMsMEJBQTBCLEVBQUUsQ0FBQztRQUNsQyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztJQUNqQyxDQUFDO0lBRUQsV0FBVztRQUNULElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDbkMsQ0FBQztJQUVPLDBCQUEwQjtRQUNoQyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FDcEIsSUFBSSxDQUFDLHdCQUF3QixDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFnQixFQUFFLEVBQUU7WUFDcEUsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLDBCQUEwQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQy9ELElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO1lBQy9CLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QyxDQUFDLENBQUMsQ0FDSCxDQUFDO0lBQ0osQ0FBQztJQUVPLHVCQUF1QjtRQUM3QixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FDcEIsSUFBSSxDQUFDLGtCQUFrQjthQUNwQixPQUFPLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDN0IsU0FBUyxDQUFDLENBQUMsS0FBc0IsRUFBRSxFQUFFO1lBQ3BDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUMsT0FBTztnQkFDcEMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztnQkFDaEMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNULElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QyxDQUFDLENBQUMsQ0FDTCxDQUFDO0lBQ0osQ0FBQztJQUVPLHVCQUF1QjtRQUM3QixJQUFJLENBQUMsaUJBQWlCO1lBQ3BCLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDaEUsQ0FBQztJQUVPLGlCQUFpQjtRQUN2QixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ3hFLENBQUM7OEdBckRVLHFCQUFxQjtrR0FBckIscUJBQXFCLCtLQUNPLGdCQUFnQiwySEFFakIsZ0JBQWdCLDJDQ3RDeEQseWxCQWlCQSxnT0RXSSxVQUFVLHVGQUNWLFVBQVUscUdBQ1YsK0JBQStCLG9HQUMvQixPQUFPLG9GQUNQLDZCQUE2Qjs7MkZBR3BCLHFCQUFxQjtrQkFaakMsU0FBUzsrQkFDRSxvQkFBb0IsV0FHckI7d0JBQ1AsVUFBVTt3QkFDVixVQUFVO3dCQUNWLCtCQUErQjt3QkFDL0IsT0FBTzt3QkFDUCw2QkFBNkI7cUJBQzlCOztzQkFHQSxTQUFTO3VCQUFDLGtCQUFrQixFQUFFLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7O3NCQUV0RSxTQUFTO3VCQUFDLGlCQUFpQixFQUFFLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBCcmVha3BvaW50T2JzZXJ2ZXIsXG4gIEJyZWFrcG9pbnRzLFxuICBCcmVha3BvaW50U3RhdGUsXG59IGZyb20gJ0Bhbmd1bGFyL2Nkay9sYXlvdXQnO1xuaW1wb3J0IHsgTmdDbGFzcyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1xuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBpbmplY3QsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBWaWV3Q2hpbGQsXG4gIFZpZXdDb250YWluZXJSZWYsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0RGl2aWRlciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpdmlkZXInO1xuaW1wb3J0IHsgTWF0VG9vbGJhciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3Rvb2xiYXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBJaWlmQ29udGVudFNlYXJjaFNlcnZpY2UgfSBmcm9tICcuLi8uLi9jb3JlL2lpaWYtY29udGVudC1zZWFyY2gtc2VydmljZS9paWlmLWNvbnRlbnQtc2VhcmNoLnNlcnZpY2UnO1xuaW1wb3J0IHsgU2VhcmNoUmVzdWx0IH0gZnJvbSAnLi4vLi4vY29yZS9tb2RlbHMvc2VhcmNoLXJlc3VsdCc7XG5pbXBvcnQgeyBDYW52YXNHcm91cE5hdmlnYXRvckNvbXBvbmVudCB9IGZyb20gJy4vY2FudmFzLWdyb3VwLW5hdmlnYXRvci9jYW52YXMtZ3JvdXAtbmF2aWdhdG9yLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb250ZW50U2VhcmNoTmF2aWdhdG9yQ29tcG9uZW50IH0gZnJvbSAnLi9jb250ZW50LXNlYXJjaC1uYXZpZ2F0b3IvY29udGVudC1zZWFyY2gtbmF2aWdhdG9yLmNvbXBvbmVudCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21pbWUtdmlld2VyLWZvb3RlcicsXG4gIHRlbXBsYXRlVXJsOiAnLi92aWV3ZXItZm9vdGVyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vdmlld2VyLWZvb3Rlci5jb21wb25lbnQuc2NzcyddLFxuICBpbXBvcnRzOiBbXG4gICAgTWF0RGl2aWRlcixcbiAgICBNYXRUb29sYmFyLFxuICAgIENvbnRlbnRTZWFyY2hOYXZpZ2F0b3JDb21wb25lbnQsXG4gICAgTmdDbGFzcyxcbiAgICBDYW52YXNHcm91cE5hdmlnYXRvckNvbXBvbmVudCxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgVmlld2VyRm9vdGVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBAVmlld0NoaWxkKCdtaW1lRm9vdGVyQmVmb3JlJywgeyByZWFkOiBWaWV3Q29udGFpbmVyUmVmLCBzdGF0aWM6IHRydWUgfSlcbiAgbWltZUZvb3RlckJlZm9yZSE6IFZpZXdDb250YWluZXJSZWY7XG4gIEBWaWV3Q2hpbGQoJ21pbWVGb290ZXJBZnRlcicsIHsgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH0pXG4gIG1pbWVGb290ZXJBZnRlciE6IFZpZXdDb250YWluZXJSZWY7XG4gIHNlYXJjaFJlc3VsdDogU2VhcmNoUmVzdWx0ID0gbmV3IFNlYXJjaFJlc3VsdCgpO1xuICBzaG93UGFnZU5hdmlnYXRvciA9IHRydWU7XG4gIHNob3dDb250ZW50U2VhcmNoTmF2aWdhdG9yID0gZmFsc2U7XG4gIHByaXZhdGUgcmVhZG9ubHkgYnJlYWtwb2ludE9ic2VydmVyID0gaW5qZWN0KEJyZWFrcG9pbnRPYnNlcnZlcik7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2hhbmdlRGV0ZWN0b3JSZWYgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IGlpaWZDb250ZW50U2VhcmNoU2VydmljZSA9IGluamVjdChJaWlmQ29udGVudFNlYXJjaFNlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5zZXR1cENvbnRlbnRTZWFyY2hPYnNlcnZlcigpO1xuICAgIHRoaXMuc2V0dXBCcmVha3BvaW50T2JzZXJ2ZXIoKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cENvbnRlbnRTZWFyY2hPYnNlcnZlcigpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5paWlmQ29udGVudFNlYXJjaFNlcnZpY2Uub25DaGFuZ2Uuc3Vic2NyaWJlKChzcjogU2VhcmNoUmVzdWx0KSA9PiB7XG4gICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0ID0gc3I7XG4gICAgICAgIHRoaXMuc2hvd0NvbnRlbnRTZWFyY2hOYXZpZ2F0b3IgPSB0aGlzLnNlYXJjaFJlc3VsdC5zaXplKCkgPiAwO1xuICAgICAgICB0aGlzLnVwZGF0ZVNob3dQYWdlTmF2aWdhdG9yKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBCcmVha3BvaW50T2JzZXJ2ZXIoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuYnJlYWtwb2ludE9ic2VydmVyXG4gICAgICAgIC5vYnNlcnZlKFtCcmVha3BvaW50cy5YU21hbGxdKVxuICAgICAgICAuc3Vic2NyaWJlKCh2YWx1ZTogQnJlYWtwb2ludFN0YXRlKSA9PiB7XG4gICAgICAgICAgdGhpcy5zaG93UGFnZU5hdmlnYXRvciA9IHZhbHVlLm1hdGNoZXNcbiAgICAgICAgICAgID8gdGhpcy5zZWFyY2hSZXN1bHQuc2l6ZSgpID09PSAwXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVNob3dQYWdlTmF2aWdhdG9yKCkge1xuICAgIHRoaXMuc2hvd1BhZ2VOYXZpZ2F0b3IgPVxuICAgICAgdGhpcy5zZWFyY2hSZXN1bHQuc2l6ZSgpID09PSAwIHx8ICF0aGlzLmlzSGFuZHNldFBvcnRyYWl0KCk7XG4gIH1cblxuICBwcml2YXRlIGlzSGFuZHNldFBvcnRyYWl0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmJyZWFrcG9pbnRPYnNlcnZlci5pc01hdGNoZWQoQnJlYWtwb2ludHMuSGFuZHNldFBvcnRyYWl0KTtcbiAgfVxufVxuIiwiPG1hdC1kaXZpZGVyPjwvbWF0LWRpdmlkZXI+XG48bWF0LXRvb2xiYXIgY2xhc3M9XCJmb290ZXItdG9vbGJhclwiPlxuICA8bmctdGVtcGxhdGUgI21pbWVGb290ZXJCZWZvcmU+PC9uZy10ZW1wbGF0ZT5cbiAgQGlmIChzaG93Q29udGVudFNlYXJjaE5hdmlnYXRvcikge1xuICAgIDxtaW1lLWNvbnRlbnQtc2VhcmNoLW5hdmlnYXRvclxuICAgICAgW25nQ2xhc3NdPVwieyAndy1mdWxsJzogIXNob3dQYWdlTmF2aWdhdG9yIH1cIlxuICAgICAgW3NlYXJjaFJlc3VsdF09XCJzZWFyY2hSZXN1bHRcIlxuICAgID48L21pbWUtY29udGVudC1zZWFyY2gtbmF2aWdhdG9yPlxuICAgIDxtYXQtZGl2aWRlciBjbGFzcz1cImgtZnVsbFwiIHZlcnRpY2FsPjwvbWF0LWRpdmlkZXI+XG4gIH1cbiAgPG1pbWUtcGFnZS1uYXZpZ2F0b3JcbiAgICBjbGFzcz1cInctZnVsbFwiXG4gICAgW2hpZGRlbl09XCIhc2hvd1BhZ2VOYXZpZ2F0b3JcIlxuICAgIFtzZWFyY2hSZXN1bHRdPVwic2VhcmNoUmVzdWx0XCJcbiAgPjwvbWltZS1wYWdlLW5hdmlnYXRvcj5cbiAgPG5nLXRlbXBsYXRlICNtaW1lRm9vdGVyQWZ0ZXI+PC9uZy10ZW1wbGF0ZT5cbjwvbWF0LXRvb2xiYXI+XG4iXX0=","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, inject, ViewChild, ViewContainerRef, } from '@angular/core';\nimport { MatIconButton } from '@angular/material/button';\nimport { MatIcon } from '@angular/material/icon';\nimport { MatToolbar } from '@angular/material/toolbar';\nimport { MatTooltip } from '@angular/material/tooltip';\nimport { Subscription } from 'rxjs';\nimport { ContentSearchDialogService } from '../../content-search-dialog/content-search-dialog.service';\nimport { FullscreenService } from '../../core/fullscreen-service/fullscreen.service';\nimport { IiifManifestService } from '../../core/iiif-manifest-service/iiif-manifest-service';\nimport { ManifestUtils } from '../../core/iiif-manifest-service/iiif-manifest-utils';\nimport { MimeViewerIntl } from '../../core/intl';\nimport { MimeDomHelper } from '../../core/mime-dom-helper';\nimport { HelpDialogService } from '../../help-dialog/help-dialog.service';\nimport { InformationDialogService } from '../../information-dialog/information-dialog.service';\nimport { ViewDialogService } from '../../view-dialog/view-dialog.service';\nimport * as i0 from \"@angular/core\";\nexport class ViewerHeaderComponent {\n    constructor() {\n        this.intl = inject(MimeViewerIntl);\n        this.manifest = null;\n        this.isContentSearchEnabled = false;\n        this.isFullscreenEnabled = false;\n        this.isInFullscreen = false;\n        this.fullscreenLabel = '';\n        this.isPagedManifest = false;\n        this.hasRecognizedTextContent = false;\n        this.changeDetectorRef = inject(ChangeDetectorRef);\n        this.informationDialogService = inject(InformationDialogService);\n        this.contentSearchDialogService = inject(ContentSearchDialogService);\n        this.viewDialogService = inject(ViewDialogService);\n        this.helpDialogService = inject(HelpDialogService);\n        this.iiifManifestService = inject(IiifManifestService);\n        this.fullscreenService = inject(FullscreenService);\n        this.mimeDomHelper = inject(MimeDomHelper);\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.isFullscreenEnabled = this.fullscreenService.isEnabled();\n        this.subscriptions.add(this.intl.changes.subscribe(() => this.changeDetectorRef.markForCheck()));\n        this.subscriptions.add(this.fullscreenService.onChange.subscribe(() => this.onFullscreenChange()));\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            this.manifest = manifest;\n            this.isContentSearchEnabled =\n                manifest && manifest.service ? true : false;\n            this.isPagedManifest = manifest\n                ? ManifestUtils.isManifestPaged(manifest)\n                : false;\n            this.hasRecognizedTextContent = manifest\n                ? ManifestUtils.hasRecognizedTextContent(manifest)\n                : false;\n            this.changeDetectorRef.detectChanges();\n        }));\n        this.onFullscreenChange();\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    toggleView() {\n        this.informationDialogService.close();\n        this.contentSearchDialogService.close();\n        this.helpDialogService.close();\n        this.viewDialogService.toggle();\n    }\n    toggleInformationDialog() {\n        this.viewDialogService.close();\n        this.contentSearchDialogService.close();\n        this.helpDialogService.close();\n        this.informationDialogService.toggle();\n    }\n    toggleSearch() {\n        this.viewDialogService.close();\n        this.informationDialogService.close();\n        this.helpDialogService.close();\n        this.contentSearchDialogService.toggle();\n    }\n    toggleHelp() {\n        this.viewDialogService.close();\n        this.informationDialogService.close();\n        this.contentSearchDialogService.close();\n        this.helpDialogService.toggle();\n    }\n    toggleFullscreen() {\n        return this.mimeDomHelper.toggleFullscreen();\n    }\n    onFullscreenChange() {\n        this.isInFullscreen = this.fullscreenService.isFullscreen();\n        this.fullscreenLabel = this.isInFullscreen\n            ? this.intl.exitFullScreenLabel\n            : this.intl.fullScreenLabel;\n        this.changeDetectorRef.detectChanges();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerHeaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: ViewerHeaderComponent, isStandalone: true, selector: \"mime-viewer-header\", viewQueries: [{ propertyName: \"mimeHeaderBefore\", first: true, predicate: [\"mimeHeaderBefore\"], descendants: true, read: ViewContainerRef, static: true }, { propertyName: \"mimeHeaderAfter\", first: true, predicate: [\"mimeHeaderAfter\"], descendants: true, read: ViewContainerRef, static: true }, { propertyName: \"viewMenu\", first: true, predicate: [\"viewMenu\"], descendants: true, read: ElementRef, static: true }], ngImport: i0, template: \"<mat-toolbar class=\\\"secondary-toolbar\\\">\\n  <ng-template #mimeHeaderBefore></ng-template>\\n  @if (manifest) {\\n    <div\\n      data-testid=\\\"ngx-mime-manifest-label\\\"\\n      class=\\\"label w-full\\\"\\n      [matTooltip]=\\\"manifest.label\\\"\\n      >{{ manifest.label }}</div\\n    >\\n  }\\n  @if (isPagedManifest || hasRecognizedTextContent) {\\n    <button\\n      data-testid=\\\"ngx-mime-view-menu-button\\\"\\n      #viewMenu\\n      mat-icon-button\\n      [attr.aria-label]=\\\"intl.layoutMenuLabel\\\"\\n      [matTooltip]=\\\"intl.layoutMenuLabel\\\"\\n      (click)=\\\"toggleView()\\\"\\n      ><mat-icon aria-hidden=\\\"true\\\">view_module</mat-icon></button\\n    >\\n  }\\n  <button\\n    data-testid=\\\"ngx-mimeInformationDialogButton\\\"\\n    mat-icon-button\\n    [attr.aria-label]=\\\"intl.informationLabel\\\"\\n    [matTooltip]=\\\"intl.informationLabel\\\"\\n    (click)=\\\"toggleInformationDialog()\\\"\\n  >\\n    <mat-icon aria-hidden=\\\"true\\\">list</mat-icon>\\n  </button>\\n  @if (isContentSearchEnabled) {\\n    <button\\n      data-testid=\\\"ngx-mimeContentSearchDialogButton\\\"\\n      mat-icon-button\\n      [attr.aria-label]=\\\"intl.searchLabel\\\"\\n      [matTooltip]=\\\"intl.searchLabel\\\"\\n      (click)=\\\"toggleSearch()\\\"\\n    >\\n      <mat-icon aria-hidden=\\\"true\\\">search</mat-icon>\\n    </button>\\n  }\\n  <button\\n    data-testid=\\\"ngx-mimeHelpDialogButton\\\"\\n    mat-icon-button\\n    [attr.aria-label]=\\\"intl.help.helpLabel\\\"\\n    [matTooltip]=\\\"intl.help.helpLabel\\\"\\n    (click)=\\\"toggleHelp()\\\"\\n  >\\n    <mat-icon aria-hidden=\\\"true\\\">help</mat-icon>\\n  </button>\\n\\n  @if (isFullscreenEnabled) {\\n    <button\\n      data-testid=\\\"ngx-mimeFullscreenButton\\\"\\n      mat-icon-button\\n      [attr.aria-label]=\\\"fullscreenLabel\\\"\\n      [matTooltip]=\\\"fullscreenLabel\\\"\\n      (click)=\\\"toggleFullscreen()\\\"\\n    >\\n      @if (isInFullscreen) {\\n        <mat-icon aria-hidden=\\\"true\\\">fullscreen_exit</mat-icon>\\n      } @else {\\n        <mat-icon aria-hidden=\\\"true\\\">fullscreen</mat-icon>\\n      }\\n    </button>\\n  }\\n  <ng-template #mimeHeaderAfter></ng-template>\\n</mat-toolbar>\\n\", styles: [\":host{max-height:64px}.label{font-size:17px;overflow:hidden;text-overflow:ellipsis}\\n\"], dependencies: [{ kind: \"component\", type: MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { kind: \"directive\", type: MatTooltip, selector: \"[matTooltip]\", inputs: [\"matTooltipPosition\", \"matTooltipPositionAtOrigin\", \"matTooltipDisabled\", \"matTooltipShowDelay\", \"matTooltipHideDelay\", \"matTooltipTouchGestures\", \"matTooltip\", \"matTooltipClass\"], exportAs: [\"matTooltip\"] }, { kind: \"component\", type: MatIconButton, selector: \"button[mat-icon-button], a[mat-icon-button], button[matIconButton], a[matIconButton]\", exportAs: [\"matButton\", \"matAnchor\"] }, { kind: \"component\", type: MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], changeDetection: i0.ChangeDetectionStrategy.Default }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerHeaderComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-viewer-header', changeDetection: ChangeDetectionStrategy.Default, imports: [MatToolbar, MatTooltip, MatIconButton, MatIcon], template: \"<mat-toolbar class=\\\"secondary-toolbar\\\">\\n  <ng-template #mimeHeaderBefore></ng-template>\\n  @if (manifest) {\\n    <div\\n      data-testid=\\\"ngx-mime-manifest-label\\\"\\n      class=\\\"label w-full\\\"\\n      [matTooltip]=\\\"manifest.label\\\"\\n      >{{ manifest.label }}</div\\n    >\\n  }\\n  @if (isPagedManifest || hasRecognizedTextContent) {\\n    <button\\n      data-testid=\\\"ngx-mime-view-menu-button\\\"\\n      #viewMenu\\n      mat-icon-button\\n      [attr.aria-label]=\\\"intl.layoutMenuLabel\\\"\\n      [matTooltip]=\\\"intl.layoutMenuLabel\\\"\\n      (click)=\\\"toggleView()\\\"\\n      ><mat-icon aria-hidden=\\\"true\\\">view_module</mat-icon></button\\n    >\\n  }\\n  <button\\n    data-testid=\\\"ngx-mimeInformationDialogButton\\\"\\n    mat-icon-button\\n    [attr.aria-label]=\\\"intl.informationLabel\\\"\\n    [matTooltip]=\\\"intl.informationLabel\\\"\\n    (click)=\\\"toggleInformationDialog()\\\"\\n  >\\n    <mat-icon aria-hidden=\\\"true\\\">list</mat-icon>\\n  </button>\\n  @if (isContentSearchEnabled) {\\n    <button\\n      data-testid=\\\"ngx-mimeContentSearchDialogButton\\\"\\n      mat-icon-button\\n      [attr.aria-label]=\\\"intl.searchLabel\\\"\\n      [matTooltip]=\\\"intl.searchLabel\\\"\\n      (click)=\\\"toggleSearch()\\\"\\n    >\\n      <mat-icon aria-hidden=\\\"true\\\">search</mat-icon>\\n    </button>\\n  }\\n  <button\\n    data-testid=\\\"ngx-mimeHelpDialogButton\\\"\\n    mat-icon-button\\n    [attr.aria-label]=\\\"intl.help.helpLabel\\\"\\n    [matTooltip]=\\\"intl.help.helpLabel\\\"\\n    (click)=\\\"toggleHelp()\\\"\\n  >\\n    <mat-icon aria-hidden=\\\"true\\\">help</mat-icon>\\n  </button>\\n\\n  @if (isFullscreenEnabled) {\\n    <button\\n      data-testid=\\\"ngx-mimeFullscreenButton\\\"\\n      mat-icon-button\\n      [attr.aria-label]=\\\"fullscreenLabel\\\"\\n      [matTooltip]=\\\"fullscreenLabel\\\"\\n      (click)=\\\"toggleFullscreen()\\\"\\n    >\\n      @if (isInFullscreen) {\\n        <mat-icon aria-hidden=\\\"true\\\">fullscreen_exit</mat-icon>\\n      } @else {\\n        <mat-icon aria-hidden=\\\"true\\\">fullscreen</mat-icon>\\n      }\\n    </button>\\n  }\\n  <ng-template #mimeHeaderAfter></ng-template>\\n</mat-toolbar>\\n\", styles: [\":host{max-height:64px}.label{font-size:17px;overflow:hidden;text-overflow:ellipsis}\\n\"] }]\n        }], propDecorators: { mimeHeaderBefore: [{\n                type: ViewChild,\n                args: ['mimeHeaderBefore', { read: ViewContainerRef, static: true }]\n            }], mimeHeaderAfter: [{\n                type: ViewChild,\n                args: ['mimeHeaderAfter', { read: ViewContainerRef, static: true }]\n            }], viewMenu: [{\n                type: ViewChild,\n                args: ['viewMenu', { read: ElementRef, static: true }]\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLWhlYWRlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvdmlld2VyL3ZpZXdlci1oZWFkZXIvdmlld2VyLWhlYWRlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvdmlld2VyL3ZpZXdlci1oZWFkZXIvdmlld2VyLWhlYWRlci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsVUFBVSxFQUNWLE1BQU0sRUFHTixTQUFTLEVBQ1QsZ0JBQWdCLEdBQ2pCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDakQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLDJEQUEyRCxDQUFDO0FBQ3ZHLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtEQUFrRCxDQUFDO0FBQ3JGLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHdEQUF3RCxDQUFDO0FBQzdGLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxzREFBc0QsQ0FBQztBQUNyRixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDakQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRTNELE9BQU8sRUFBRSxpQkFB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LGNBQWM7WUFDeEMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CO1lBQy9CLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQztRQUM5QixJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDekMsQ0FBQzs4R0F0R1UscUJBQXFCO2tHQUFyQixxQkFBcUIsK0tBQ08sZ0JBQWdCLDJIQUVqQixnQkFBZ0IsNkdBRXZCLFVBQVUsMkNDdkMzQyx5Z0VBb0VBLCtJRHBDWSxVQUFVLHFHQUFFLFVBQVUsaVJBQUUsYUFBYSx1S0FBRSxPQUFPOzsyRkFFN0MscUJBQXFCO2tCQVBqQyxTQUFTOytCQUNFLG9CQUFvQixtQkFHYix1QkFBdUIsQ0FBQyxPQUFPLFdBQ3ZDLENBQUMsVUFBVSxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsT0FBTyxDQUFDOztzQkFHeEQsU0FBUzt1QkFBQyxrQkFBa0IsRUFBRSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFOztzQkFFdEUsU0FBUzt1QkFBQyxpQkFBaUIsRUFBRSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFOztzQkFFckUsU0FBUzt1QkFBQyxVQUFVLEVBQUUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgaW5qZWN0LFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgVmlld0NoaWxkLFxuICBWaWV3Q29udGFpbmVyUmVmLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdEljb25CdXR0b24gfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9idXR0b24nO1xuaW1wb3J0IHsgTWF0SWNvbiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2ljb24nO1xuaW1wb3J0IHsgTWF0VG9vbGJhciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3Rvb2xiYXInO1xuaW1wb3J0IHsgTWF0VG9vbHRpcCB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3Rvb2x0aXAnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDb250ZW50U2VhcmNoRGlhbG9nU2VydmljZSB9IGZyb20gJy4uLy4uL2NvbnRlbnQtc2VhcmNoLWRpYWxvZy9jb250ZW50LXNlYXJjaC1kaWFsb2cuc2VydmljZSc7XG5pbXBvcnQgeyBGdWxsc2NyZWVuU2VydmljZSB9IGZyb20gJy4uLy4uL2NvcmUvZnVsbHNjcmVlbi1zZXJ2aWNlL2Z1bGxzY3JlZW4uc2VydmljZSc7XG5pbXBvcnQgeyBJaWlmTWFuaWZlc3RTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vY29yZS9paWlmLW1hbmlmZXN0LXNlcnZpY2UvaWlpZi1tYW5pZmVzdC1zZXJ2aWNlJztcbmltcG9ydCB7IE1hbmlmZXN0VXRpbHMgfSBmcm9tICcuLi8uLi9jb3JlL2lpaWYtbWFuaWZlc3Qtc2VydmljZS9paWlmLW1hbmlmZXN0LXV0aWxzJztcbmltcG9ydCB7IE1pbWVWaWV3ZXJJbnRsIH0gZnJvbSAnLi4vLi4vY29yZS9pbnRsJztcbmltcG9ydCB7IE1pbWVEb21IZWxwZXIgfSBmcm9tICcuLi8uLi9jb3JlL21pbWUtZG9tLWhlbHBlcic7XG5pbXBvcnQgeyBNYW5pZmVzdCB9IGZyb20gJy4uLy4uL2NvcmUvbW9kZWxzL21hbmlmZXN0JztcbmltcG9ydCB7IEhlbHBEaWFsb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vaGVscC1kaWFsb2cvaGVscC1kaWFsb2cuc2VydmljZSc7XG5pbXBvcnQgeyBJbmZvcm1hdGlvbkRpYWxvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi9pbmZvcm1hdGlvbi1kaWFsb2cvaW5mb3JtYXRpb24tZGlhbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgVmlld0RpYWxvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi92aWV3LWRpYWxvZy92aWV3LWRpYWxvZy5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbWltZS12aWV3ZXItaGVhZGVyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3ZpZXdlci1oZWFkZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi92aWV3ZXItaGVhZGVyLmNvbXBvbmVudC5zY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdCxcbiAgaW1wb3J0czogW01hdFRvb2xiYXIsIE1hdFRvb2x0aXAsIE1hdEljb25CdXR0b24sIE1hdEljb25dLFxufSlcbmV4cG9ydCBjbGFzcyBWaWV3ZXJIZWFkZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIEBWaWV3Q2hpbGQoJ21pbWVIZWFkZXJCZWZvcmUnLCB7IHJlYWQ6IFZpZXdDb250YWluZXJSZWYsIHN0YXRpYzogdHJ1ZSB9KVxuICBtaW1lSGVhZGVyQmVmb3JlITogVmlld0NvbnRhaW5lclJlZjtcbiAgQFZpZXdDaGlsZCgnbWltZUhlYWRlckFmdGVyJywgeyByZWFkOiBWaWV3Q29udGFpbmVyUmVmLCBzdGF0aWM6IHRydWUgfSlcbiAgbWltZUhlYWRlckFmdGVyITogVmlld0NvbnRhaW5lclJlZjtcbiAgQFZpZXdDaGlsZCgndmlld01lbnUnLCB7IHJlYWQ6IEVsZW1lbnRSZWYsIHN0YXRpYzogdHJ1ZSB9KVxuICB2aWV3TWVudSE6IEVsZW1lbnRSZWY7XG4gIGludGwgPSBpbmplY3QoTWltZVZpZXdlckludGwpO1xuICBtYW5pZmVzdDogTWFuaWZlc3QgfCBudWxsID0gbnVsbDtcbiAgaXNDb250ZW50U2VhcmNoRW5hYmxlZCA9IGZhbHNlO1xuICBpc0Z1bGxzY3JlZW5FbmFibGVkID0gZmFsc2U7XG4gIGlzSW5GdWxsc2NyZWVuID0gZmFsc2U7XG4gIGZ1bGxzY3JlZW5MYWJlbCA9ICcnO1xuICBpc1BhZ2VkTWFuaWZlc3QgPSBmYWxzZTtcbiAgaGFzUmVjb2duaXplZFRleHRDb250ZW50ID0gZmFsc2U7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2hhbmdlRGV0ZWN0b3JSZWYgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IGluZm9ybWF0aW9uRGlhbG9nU2VydmljZSA9IGluamVjdChJbmZvcm1hdGlvbkRpYWxvZ1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNvbnRlbnRTZWFyY2hEaWFsb2dTZXJ2aWNlID0gaW5qZWN0KFxuICAgIENvbnRlbnRTZWFyY2hEaWFsb2dTZXJ2aWNlLFxuICApO1xuICBwcml2YXRlIHJlYWRvbmx5IHZpZXdEaWFsb2dTZXJ2aWNlID0gaW5qZWN0KFZpZXdEaWFsb2dTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBoZWxwRGlhbG9nU2VydmljZSA9IGluamVjdChIZWxwRGlhbG9nU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgaWlpZk1hbmlmZXN0U2VydmljZSA9IGluamVjdChJaWlmTWFuaWZlc3RTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBmdWxsc2NyZWVuU2VydmljZSA9IGluamVjdChGdWxsc2NyZWVuU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWltZURvbUhlbHBlciA9IGluamVjdChNaW1lRG9tSGVscGVyKTtcbiAgcHJpdmF0ZSByZWFkb25seSBzdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuaXNGdWxsc2NyZWVuRW5hYmxlZCA9IHRoaXMuZnVsbHNjcmVlblNlcnZpY2UuaXNFbmFibGVkKCk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5pbnRsLmNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCkpLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5mdWxsc2NyZWVuU2VydmljZS5vbkNoYW5nZS5zdWJzY3JpYmUoKCkgPT5cbiAgICAgICAgdGhpcy5vbkZ1bGxzY3JlZW5DaGFuZ2UoKSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmlpaWZNYW5pZmVzdFNlcnZpY2UuY3VycmVudE1hbmlmZXN0LnN1YnNjcmliZShcbiAgICAgICAgKG1hbmlmZXN0OiBNYW5pZmVzdCB8IG51bGwpID0+IHtcbiAgICAgICAgICB0aGlzLm1hbmlmZXN0ID0gbWFuaWZlc3Q7XG4gICAgICAgICAgdGhpcy5pc0NvbnRlbnRTZWFyY2hFbmFibGVkID1cbiAgICAgICAgICAgIG1hbmlmZXN0ICYmIG1hbmlmZXN0LnNlcnZpY2UgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgdGhpcy5pc1BhZ2VkTWFuaWZlc3QgPSBtYW5pZmVzdFxuICAgICAgICAgICAgPyBNYW5pZmVzdFV0aWxzLmlzTWFuaWZlc3RQYWdlZChtYW5pZmVzdClcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgdGhpcy5oYXNSZWNvZ25pemVkVGV4dENvbnRlbnQgPSBtYW5pZmVzdFxuICAgICAgICAgICAgPyBNYW5pZmVzdFV0aWxzLmhhc1JlY29nbml6ZWRUZXh0Q29udGVudChtYW5pZmVzdClcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLm9uRnVsbHNjcmVlbkNoYW5nZSgpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBwdWJsaWMgdG9nZ2xlVmlldygpIHtcbiAgICB0aGlzLmluZm9ybWF0aW9uRGlhbG9nU2VydmljZS5jbG9zZSgpO1xuICAgIHRoaXMuY29udGVudFNlYXJjaERpYWxvZ1NlcnZpY2UuY2xvc2UoKTtcbiAgICB0aGlzLmhlbHBEaWFsb2dTZXJ2aWNlLmNsb3NlKCk7XG4gICAgdGhpcy52aWV3RGlhbG9nU2VydmljZS50b2dnbGUoKTtcbiAgfVxuXG4gIHB1YmxpYyB0b2dnbGVJbmZvcm1hdGlvbkRpYWxvZygpIHtcbiAgICB0aGlzLnZpZXdEaWFsb2dTZXJ2aWNlLmNsb3NlKCk7XG4gICAgdGhpcy5jb250ZW50U2VhcmNoRGlhbG9nU2VydmljZS5jbG9zZSgpO1xuICAgIHRoaXMuaGVscERpYWxvZ1NlcnZpY2UuY2xvc2UoKTtcbiAgICB0aGlzLmluZm9ybWF0aW9uRGlhbG9nU2VydmljZS50b2dnbGUoKTtcbiAgfVxuXG4gIHB1YmxpYyB0b2dnbGVTZWFyY2goKSB7XG4gICAgdGhpcy52aWV3RGlhbG9nU2VydmljZS5jbG9zZSgpO1xuICAgIHRoaXMuaW5mb3JtYXRpb25EaWFsb2dTZXJ2aWNlLmNsb3NlKCk7XG4gICAgdGhpcy5oZWxwRGlhbG9nU2VydmljZS5jbG9zZSgpO1xuICAgIHRoaXMuY29udGVudFNlYXJjaERpYWxvZ1NlcnZpY2UudG9nZ2xlKCk7XG4gIH1cblxuICBwdWJsaWMgdG9nZ2xlSGVscCgpIHtcbiAgICB0aGlzLnZpZXdEaWFsb2dTZXJ2aWNlLmNsb3NlKCk7XG4gICAgdGhpcy5pbmZvcm1hdGlvbkRpYWxvZ1NlcnZpY2UuY2xvc2UoKTtcbiAgICB0aGlzLmNvbnRlbnRTZWFyY2hEaWFsb2dTZXJ2aWNlLmNsb3NlKCk7XG4gICAgdGhpcy5oZWxwRGlhbG9nU2VydmljZS50b2dnbGUoKTtcbiAgfVxuXG4gIHB1YmxpYyB0b2dnbGVGdWxsc2NyZWVuKCk6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLm1pbWVEb21IZWxwZXIudG9nZ2xlRnVsbHNjcmVlbigpO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkZ1bGxzY3JlZW5DaGFuZ2UoKSB7XG4gICAgdGhpcy5pc0luRnVsbHNjcmVlbiA9IHRoaXMuZnVsbHNjcmVlblNlcnZpY2UuaXNGdWxsc2NyZWVuKCk7XG4gICAgdGhpcy5mdWxsc2NyZWVuTGFiZWwgPSB0aGlzLmlzSW5GdWxsc2NyZWVuXG4gICAgICA/IHRoaXMuaW50bC5leGl0RnVsbFNjcmVlbkxhYmVsXG4gICAgICA6IHRoaXMuaW50bC5mdWxsU2NyZWVuTGFiZWw7XG4gICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gIH1cbn1cbiIsIjxtYXQtdG9vbGJhciBjbGFzcz1cInNlY29uZGFyeS10b29sYmFyXCI+XG4gIDxuZy10ZW1wbGF0ZSAjbWltZUhlYWRlckJlZm9yZT48L25nLXRlbXBsYXRlPlxuICBAaWYgKG1hbmlmZXN0KSB7XG4gICAgPGRpdlxuICAgICAgZGF0YS10ZXN0aWQ9XCJuZ3gtbWltZS1tYW5pZmVzdC1sYWJlbFwiXG4gICAgICBjbGFzcz1cImxhYmVsIHctZnVsbFwiXG4gICAgICBbbWF0VG9vbHRpcF09XCJtYW5pZmVzdC5sYWJlbFwiXG4gICAgICA+e3sgbWFuaWZlc3QubGFiZWwgfX08L2RpdlxuICAgID5cbiAgfVxuICBAaWYgKGlzUGFnZWRNYW5pZmVzdCB8fCBoYXNSZWNvZ25pemVkVGV4dENvbnRlbnQpIHtcbiAgICA8YnV0dG9uXG4gICAgICBkYXRhLXRlc3RpZD1cIm5neC1taW1lLXZpZXctbWVudS1idXR0b25cIlxuICAgICAgI3ZpZXdNZW51XG4gICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiaW50bC5sYXlvdXRNZW51TGFiZWxcIlxuICAgICAgW21hdFRvb2x0aXBdPVwiaW50bC5sYXlvdXRNZW51TGFiZWxcIlxuICAgICAgKGNsaWNrKT1cInRvZ2dsZVZpZXcoKVwiXG4gICAgICA+PG1hdC1pY29uIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPnZpZXdfbW9kdWxlPC9tYXQtaWNvbj48L2J1dHRvblxuICAgID5cbiAgfVxuICA8YnV0dG9uXG4gICAgZGF0YS10ZXN0aWQ9XCJuZ3gtbWltZUluZm9ybWF0aW9uRGlhbG9nQnV0dG9uXCJcbiAgICBtYXQtaWNvbi1idXR0b25cbiAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImludGwuaW5mb3JtYXRpb25MYWJlbFwiXG4gICAgW21hdFRvb2x0aXBdPVwiaW50bC5pbmZvcm1hdGlvbkxhYmVsXCJcbiAgICAoY2xpY2spPVwidG9nZ2xlSW5mb3JtYXRpb25EaWFsb2coKVwiXG4gID5cbiAgICA8bWF0LWljb24gYXJpYS1oaWRkZW49XCJ0cnVlXCI+bGlzdDwvbWF0LWljb24+XG4gIDwvYnV0dG9uPlxuICBAaWYgKGlzQ29udGVudFNlYXJjaEVuYWJsZWQpIHtcbiAgICA8YnV0dG9uXG4gICAgICBkYXRhLXRlc3RpZD1cIm5neC1taW1lQ29udGVudFNlYXJjaERpYWxvZ0J1dHRvblwiXG4gICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiaW50bC5zZWFyY2hMYWJlbFwiXG4gICAgICBbbWF0VG9vbHRpcF09XCJpbnRsLnNlYXJjaExhYmVsXCJcbiAgICAgIChjbGljayk9XCJ0b2dnbGVTZWFyY2goKVwiXG4gICAgPlxuICAgICAgPG1hdC1pY29uIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPnNlYXJjaDwvbWF0LWljb24+XG4gICAgPC9idXR0b24+XG4gIH1cbiAgPGJ1dHRvblxuICAgIGRhdGEtdGVzdGlkPVwibmd4LW1pbWVIZWxwRGlhbG9nQnV0dG9uXCJcbiAgICBtYXQtaWNvbi1idXR0b25cbiAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImludGwuaGVscC5oZWxwTGFiZWxcIlxuICAgIFttYXRUb29sdGlwXT1cImludGwuaGVscC5oZWxwTGFiZWxcIlxuICAgIChjbGljayk9XCJ0b2dnbGVIZWxwKClcIlxuICA+XG4gICAgPG1hdC1pY29uIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPmhlbHA8L21hdC1pY29uPlxuICA8L2J1dHRvbj5cblxuICBAaWYgKGlzRnVsbHNjcmVlbkVuYWJsZWQpIHtcbiAgICA8YnV0dG9uXG4gICAgICBkYXRhLXRlc3RpZD1cIm5neC1taW1lRnVsbHNjcmVlbkJ1dHRvblwiXG4gICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiZnVsbHNjcmVlbkxhYmVsXCJcbiAgICAgIFttYXRUb29sdGlwXT1cImZ1bGxzY3JlZW5MYWJlbFwiXG4gICAgICAoY2xpY2spPVwidG9nZ2xlRnVsbHNjcmVlbigpXCJcbiAgICA+XG4gICAgICBAaWYgKGlzSW5GdWxsc2NyZWVuKSB7XG4gICAgICAgIDxtYXQtaWNvbiBhcmlhLWhpZGRlbj1cInRydWVcIj5mdWxsc2NyZWVuX2V4aXQ8L21hdC1pY29uPlxuICAgICAgfSBAZWxzZSB7XG4gICAgICAgIDxtYXQtaWNvbiBhcmlhLWhpZGRlbj1cInRydWVcIj5mdWxsc2NyZWVuPC9tYXQtaWNvbj5cbiAgICAgIH1cbiAgICA8L2J1dHRvbj5cbiAgfVxuICA8bmctdGVtcGxhdGUgI21pbWVIZWFkZXJBZnRlcj48L25nLXRlbXBsYXRlPlxuPC9tYXQtdG9vbGJhcj5cbiJdfQ==","import { ChangeDetectorRef, Component, inject, } from '@angular/core';\nimport { MatProgressSpinner } from '@angular/material/progress-spinner';\nimport { Subscription } from 'rxjs';\nimport { SpinnerService, } from '../../core/spinner-service/spinner.service';\nimport * as i0 from \"@angular/core\";\nexport class ViewerSpinnerComponent {\n    constructor() {\n        this.visible = false;\n        this.spinnerService = inject(SpinnerService);\n        this.changeDetectorRef = inject(ChangeDetectorRef);\n        this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n        this.subscriptions.add(this.spinnerService.spinnerState.subscribe((state) => {\n            this.visible = state.show;\n            this.changeDetectorRef.detectChanges();\n        }));\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerSpinnerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.3.5\", type: ViewerSpinnerComponent, isStandalone: true, selector: \"mime-spinner\", ngImport: i0, template: \"<div class=\\\"mime-spinner\\\" [class.mime-spinner--active]=\\\"visible\\\">\\n  <mat-spinner></mat-spinner>\\n</div>\\n\", styles: [\".mime-spinner{display:none;position:absolute;left:50%;top:45%;transform:translate(-50%);z-index:9999}.mime-spinner--active{display:block}\\n\"], dependencies: [{ kind: \"component\", type: MatProgressSpinner, selector: \"mat-progress-spinner, mat-spinner\", inputs: [\"color\", \"mode\", \"value\", \"diameter\", \"strokeWidth\"], exportAs: [\"matProgressSpinner\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerSpinnerComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-spinner', imports: [MatProgressSpinner], template: \"<div class=\\\"mime-spinner\\\" [class.mime-spinner--active]=\\\"visible\\\">\\n  <mat-spinner></mat-spinner>\\n</div>\\n\", styles: [\".mime-spinner{display:none;position:absolute;left:50%;top:45%;transform:translate(-50%);z-index:9999}.mime-spinner--active{display:block}\\n\"] }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLXNwaW5uZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL3ZpZXdlci92aWV3ZXItc3Bpbm5lci92aWV3ZXItc3Bpbm5lci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9saWIvdmlld2VyL3ZpZXdlci1zcGlubmVyL3ZpZXdlci1zcGlubmVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxpQkFBaUIsRUFDakIsU0FBUyxFQUNULE1BQU0sR0FHUCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUN4RSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3BDLE9BQU8sRUFDTCxjQUFjLEdBRWYsTUFBTSw0Q0FBNEMsQ0FBQzs7QUFRcEQsTUFBTSxPQUFPLHNCQUFzQjtJQU5uQztRQU9TLFlBQU8sR0FBRyxLQUFLLENBQUM7UUFDTixtQkFBYyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUN4QyxzQkFBaUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUM5QyxrQkFBYSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7S0FjckQ7SUFaQyxRQUFRO1FBQ04sSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQ3BCLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQW1CLEVBQUUsRUFBRTtZQUNqRSxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFDMUIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pDLENBQUMsQ0FBQyxDQUNILENBQUM7SUFDSixDQUFDO0lBRUQsV0FBVztRQUNULElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDbkMsQ0FBQzs4R0FqQlUsc0JBQXNCO2tHQUF0QixzQkFBc0Isd0VDcEJuQyxnSEFHQSxxTURlWSxrQkFBa0I7OzJGQUVqQixzQkFBc0I7a0JBTmxDLFNBQVM7K0JBQ0UsY0FBYyxXQUdmLENBQUMsa0JBQWtCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBpbmplY3QsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdFByb2dyZXNzU3Bpbm5lciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3Byb2dyZXNzLXNwaW5uZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge1xuICBTcGlubmVyU2VydmljZSxcbiAgU3Bpbm5lclN0YXRlLFxufSBmcm9tICcuLi8uLi9jb3JlL3NwaW5uZXItc2VydmljZS9zcGlubmVyLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtaW1lLXNwaW5uZXInLFxuICB0ZW1wbGF0ZVVybDogJy4vdmlld2VyLXNwaW5uZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi92aWV3ZXItc3Bpbm5lci5jb21wb25lbnQuc2NzcyddLFxuICBpbXBvcnRzOiBbTWF0UHJvZ3Jlc3NTcGlubmVyXSxcbn0pXG5leHBvcnQgY2xhc3MgVmlld2VyU3Bpbm5lckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveSwgT25Jbml0IHtcbiAgcHVibGljIHZpc2libGUgPSBmYWxzZTtcbiAgcHJpdmF0ZSByZWFkb25seSBzcGlubmVyU2VydmljZSA9IGluamVjdChTcGlubmVyU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2hhbmdlRGV0ZWN0b3JSZWYgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMuc3Bpbm5lclNlcnZpY2Uuc3Bpbm5lclN0YXRlLnN1YnNjcmliZSgoc3RhdGU6IFNwaW5uZXJTdGF0ZSkgPT4ge1xuICAgICAgICB0aGlzLnZpc2libGUgPSBzdGF0ZS5zaG93O1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMudW5zdWJzY3JpYmUoKTtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cIm1pbWUtc3Bpbm5lclwiIFtjbGFzcy5taW1lLXNwaW5uZXItLWFjdGl2ZV09XCJ2aXNpYmxlXCI+XG4gIDxtYXQtc3Bpbm5lcj48L21hdC1zcGlubmVyPlxuPC9kaXY+XG4iXX0=","import { AttributionDialogResizeService } from '../attribution-dialog/attribution-dialog-resize.service';\nimport { AttributionDialogService } from '../attribution-dialog/attribution-dialog.service';\nimport { CanvasGroupDialogService } from '../canvas-group-dialog/canvas-group-dialog.service';\nimport { ContentSearchDialogConfigStrategyFactory } from '../content-search-dialog/content-search-dialog-config-strategy-factory';\nimport { ContentSearchDialogService } from '../content-search-dialog/content-search-dialog.service';\nimport { AccessKeysService } from '../core/access-keys-handler-service/access-keys.service';\nimport { AltoService } from '../core/alto-service/alto.service';\nimport { CanvasService } from '../core/canvas-service/canvas-service';\nimport { ClickService } from '../core/click-service/click.service';\nimport { FullscreenService } from '../core/fullscreen-service/fullscreen.service';\nimport { HighlightService } from '../core/highlight-service/highlight.service';\nimport { IiifContentSearchService } from '../core/iiif-content-search-service/iiif-content-search.service';\nimport { IiifManifestService } from '../core/iiif-manifest-service/iiif-manifest-service';\nimport { MimeDomHelper } from '../core/mime-dom-helper';\nimport { MimeResizeService } from '../core/mime-resize-service/mime-resize.service';\nimport { ModeService } from '../core/mode-service/mode.service';\nimport { ContentSearchNavigationService } from '../core/navigation/content-search-navigation-service/content-search-navigation.service';\nimport { SpinnerService } from '../core/spinner-service/spinner.service';\nimport { StyleService } from '../core/style-service/style.service';\nimport { ViewerLayoutService } from '../core/viewer-layout-service/viewer-layout-service';\nimport { ViewerService } from '../core/viewer-service/viewer.service';\nimport { HelpDialogConfigStrategyFactory } from '../help-dialog/help-dialog-config-strategy-factory';\nimport { HelpDialogService } from '../help-dialog/help-dialog.service';\nimport { InformationDialogConfigStrategyFactory } from '../information-dialog/information-dialog-config-strategy-factory';\nimport { InformationDialogService } from '../information-dialog/information-dialog.service';\nimport { ViewDialogConfigStrategyFactory } from '../view-dialog/view-dialog-config-strategy-factory';\nimport { ViewDialogService } from '../view-dialog/view-dialog.service';\nexport const VIEWER_PROVIDERS = [\n    AccessKeysService,\n    AltoService,\n    AttributionDialogResizeService,\n    AttributionDialogService,\n    CanvasGroupDialogService,\n    CanvasService,\n    ClickService,\n    ContentSearchDialogConfigStrategyFactory,\n    ContentSearchDialogService,\n    ContentSearchNavigationService,\n    FullscreenService,\n    HelpDialogConfigStrategyFactory,\n    HelpDialogService,\n    HighlightService,\n    IiifContentSearchService,\n    IiifManifestService,\n    InformationDialogConfigStrategyFactory,\n    InformationDialogService,\n    MimeDomHelper,\n    MimeResizeService,\n    ModeService,\n    SpinnerService,\n    StyleService,\n    ViewDialogConfigStrategyFactory,\n    ViewDialogService,\n    ViewerLayoutService,\n    ViewerService,\n];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLnByb3ZpZGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi92aWV3ZXIvdmlld2VyLnByb3ZpZGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsOEJBQThCLEVBQUUsTUFBTSx5REFBeUQsQ0FBQztBQUN6RyxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxrREFBa0QsQ0FBQztBQUM1RixPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxvREFBb0QsQ0FBQztBQUM5RixPQUFPLEVBQUUsd0NBQXdDLEVBQUUsTUFBTSx3RUFBd0UsQ0FBQztBQUNsSSxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSx3REFBd0QsQ0FBQztBQUNwRyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx5REFBeUQsQ0FBQztBQUM1RixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDaEUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBQ3RFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQztBQUNuRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwrQ0FBK0MsQ0FBQztBQUNsRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw2Q0FBNkMsQ0FBQztBQUMvRSxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxpRUFBaUUsQ0FBQztBQUMzRyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxxREFBcUQsQ0FBQztBQUMxRixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDeEQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0saURBQWlELENBQUM7QUFDcEYsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBQ2hFLE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLHdGQUF3RixDQUFDO0FBQ3hJLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUN6RSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFDbkUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0scURBQXFELENBQUM7QUFDMUYsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBQ3RFLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLG9EQUFvRCxDQUFDO0FBQ3JHLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ3ZFLE9BQU8sRUFBRSxzQ0FBc0MsRUFBRSxNQUFNLGtFQUFrRSxDQUFDO0FBQzFILE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLGtEQUFrRCxDQUFDO0FBQzVGLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLG9EQUFvRCxDQUFDO0FBQ3JHLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBRXZFLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHO0lBQzlCLGlCQUFpQjtJQUNqQixXQUFXO0lBQ1gsOEJBQThCO0lBQzlCLHdCQUF3QjtJQUN4Qix3QkFBd0I7SUFDeEIsYUFBYTtJQUNiLFlBQVk7SUFDWix3Q0FBd0M7SUFDeEMsMEJBQTBCO0lBQzFCLDhCQUE4QjtJQUM5QixpQkFBaUI7SUFDakIsK0JBQStCO0lBQy9CLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsd0JBQXdCO0lBQ3hCLG1CQUFtQjtJQUNuQixzQ0FBc0M7SUFDdEMsd0JBQXdCO0lBQ3hCLGFBQWE7SUFDYixpQkFBaUI7SUFDakIsV0FBVztJQUNYLGNBQWM7SUFDZCxZQUFZO0lBQ1osK0JBQStCO0lBQy9CLGlCQUFpQjtJQUNqQixtQkFBbUI7SUFDbkIsYUFBYTtDQUNkLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBdHRyaWJ1dGlvbkRpYWxvZ1Jlc2l6ZVNlcnZpY2UgfSBmcm9tICcuLi9hdHRyaWJ1dGlvbi1kaWFsb2cvYXR0cmlidXRpb24tZGlhbG9nLXJlc2l6ZS5zZXJ2aWNlJztcbmltcG9ydCB7IEF0dHJpYnV0aW9uRGlhbG9nU2VydmljZSB9IGZyb20gJy4uL2F0dHJpYnV0aW9uLWRpYWxvZy9hdHRyaWJ1dGlvbi1kaWFsb2cuc2VydmljZSc7XG5pbXBvcnQgeyBDYW52YXNHcm91cERpYWxvZ1NlcnZpY2UgfSBmcm9tICcuLi9jYW52YXMtZ3JvdXAtZGlhbG9nL2NhbnZhcy1ncm91cC1kaWFsb2cuc2VydmljZSc7XG5pbXBvcnQgeyBDb250ZW50U2VhcmNoRGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5IH0gZnJvbSAnLi4vY29udGVudC1zZWFyY2gtZGlhbG9nL2NvbnRlbnQtc2VhcmNoLWRpYWxvZy1jb25maWctc3RyYXRlZ3ktZmFjdG9yeSc7XG5pbXBvcnQgeyBDb250ZW50U2VhcmNoRGlhbG9nU2VydmljZSB9IGZyb20gJy4uL2NvbnRlbnQtc2VhcmNoLWRpYWxvZy9jb250ZW50LXNlYXJjaC1kaWFsb2cuc2VydmljZSc7XG5pbXBvcnQgeyBBY2Nlc3NLZXlzU2VydmljZSB9IGZyb20gJy4uL2NvcmUvYWNjZXNzLWtleXMtaGFuZGxlci1zZXJ2aWNlL2FjY2Vzcy1rZXlzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQWx0b1NlcnZpY2UgfSBmcm9tICcuLi9jb3JlL2FsdG8tc2VydmljZS9hbHRvLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ2FudmFzU2VydmljZSB9IGZyb20gJy4uL2NvcmUvY2FudmFzLXNlcnZpY2UvY2FudmFzLXNlcnZpY2UnO1xuaW1wb3J0IHsgQ2xpY2tTZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9jbGljay1zZXJ2aWNlL2NsaWNrLnNlcnZpY2UnO1xuaW1wb3J0IHsgRnVsbHNjcmVlblNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL2Z1bGxzY3JlZW4tc2VydmljZS9mdWxsc2NyZWVuLnNlcnZpY2UnO1xuaW1wb3J0IHsgSGlnaGxpZ2h0U2VydmljZSB9IGZyb20gJy4uL2NvcmUvaGlnaGxpZ2h0LXNlcnZpY2UvaGlnaGxpZ2h0LnNlcnZpY2UnO1xuaW1wb3J0IHsgSWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9paWlmLWNvbnRlbnQtc2VhcmNoLXNlcnZpY2UvaWlpZi1jb250ZW50LXNlYXJjaC5zZXJ2aWNlJztcbmltcG9ydCB7IElpaWZNYW5pZmVzdFNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL2lpaWYtbWFuaWZlc3Qtc2VydmljZS9paWlmLW1hbmlmZXN0LXNlcnZpY2UnO1xuaW1wb3J0IHsgTWltZURvbUhlbHBlciB9IGZyb20gJy4uL2NvcmUvbWltZS1kb20taGVscGVyJztcbmltcG9ydCB7IE1pbWVSZXNpemVTZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9taW1lLXJlc2l6ZS1zZXJ2aWNlL21pbWUtcmVzaXplLnNlcnZpY2UnO1xuaW1wb3J0IHsgTW9kZVNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL21vZGUtc2VydmljZS9tb2RlLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29udGVudFNlYXJjaE5hdmlnYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9uYXZpZ2F0aW9uL2NvbnRlbnQtc2VhcmNoLW5hdmlnYXRpb24tc2VydmljZS9jb250ZW50LXNlYXJjaC1uYXZpZ2F0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgU3Bpbm5lclNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL3NwaW5uZXItc2VydmljZS9zcGlubmVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgU3R5bGVTZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9zdHlsZS1zZXJ2aWNlL3N0eWxlLnNlcnZpY2UnO1xuaW1wb3J0IHsgVmlld2VyTGF5b3V0U2VydmljZSB9IGZyb20gJy4uL2NvcmUvdmlld2VyLWxheW91dC1zZXJ2aWNlL3ZpZXdlci1sYXlvdXQtc2VydmljZSc7XG5pbXBvcnQgeyBWaWV3ZXJTZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS92aWV3ZXItc2VydmljZS92aWV3ZXIuc2VydmljZSc7XG5pbXBvcnQgeyBIZWxwRGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5IH0gZnJvbSAnLi4vaGVscC1kaWFsb2cvaGVscC1kaWFsb2ctY29uZmlnLXN0cmF0ZWd5LWZhY3RvcnknO1xuaW1wb3J0IHsgSGVscERpYWxvZ1NlcnZpY2UgfSBmcm9tICcuLi9oZWxwLWRpYWxvZy9oZWxwLWRpYWxvZy5zZXJ2aWNlJztcbmltcG9ydCB7IEluZm9ybWF0aW9uRGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5IH0gZnJvbSAnLi4vaW5mb3JtYXRpb24tZGlhbG9nL2luZm9ybWF0aW9uLWRpYWxvZy1jb25maWctc3RyYXRlZ3ktZmFjdG9yeSc7XG5pbXBvcnQgeyBJbmZvcm1hdGlvbkRpYWxvZ1NlcnZpY2UgfSBmcm9tICcuLi9pbmZvcm1hdGlvbi1kaWFsb2cvaW5mb3JtYXRpb24tZGlhbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgVmlld0RpYWxvZ0NvbmZpZ1N0cmF0ZWd5RmFjdG9yeSB9IGZyb20gJy4uL3ZpZXctZGlhbG9nL3ZpZXctZGlhbG9nLWNvbmZpZy1zdHJhdGVneS1mYWN0b3J5JztcbmltcG9ydCB7IFZpZXdEaWFsb2dTZXJ2aWNlIH0gZnJvbSAnLi4vdmlldy1kaWFsb2cvdmlldy1kaWFsb2cuc2VydmljZSc7XG5cbmV4cG9ydCBjb25zdCBWSUVXRVJfUFJPVklERVJTID0gW1xuICBBY2Nlc3NLZXlzU2VydmljZSxcbiAgQWx0b1NlcnZpY2UsXG4gIEF0dHJpYnV0aW9uRGlhbG9nUmVzaXplU2VydmljZSxcbiAgQXR0cmlidXRpb25EaWFsb2dTZXJ2aWNlLFxuICBDYW52YXNHcm91cERpYWxvZ1NlcnZpY2UsXG4gIENhbnZhc1NlcnZpY2UsXG4gIENsaWNrU2VydmljZSxcbiAgQ29udGVudFNlYXJjaERpYWxvZ0NvbmZpZ1N0cmF0ZWd5RmFjdG9yeSxcbiAgQ29udGVudFNlYXJjaERpYWxvZ1NlcnZpY2UsXG4gIENvbnRlbnRTZWFyY2hOYXZpZ2F0aW9uU2VydmljZSxcbiAgRnVsbHNjcmVlblNlcnZpY2UsXG4gIEhlbHBEaWFsb2dDb25maWdTdHJhdGVneUZhY3RvcnksXG4gIEhlbHBEaWFsb2dTZXJ2aWNlLFxuICBIaWdobGlnaHRTZXJ2aWNlLFxuICBJaWlmQ29udGVudFNlYXJjaFNlcnZpY2UsXG4gIElpaWZNYW5pZmVzdFNlcnZpY2UsXG4gIEluZm9ybWF0aW9uRGlhbG9nQ29uZmlnU3RyYXRlZ3lGYWN0b3J5LFxuICBJbmZvcm1hdGlvbkRpYWxvZ1NlcnZpY2UsXG4gIE1pbWVEb21IZWxwZXIsXG4gIE1pbWVSZXNpemVTZXJ2aWNlLFxuICBNb2RlU2VydmljZSxcbiAgU3Bpbm5lclNlcnZpY2UsXG4gIFN0eWxlU2VydmljZSxcbiAgVmlld0RpYWxvZ0NvbmZpZ1N0cmF0ZWd5RmFjdG9yeSxcbiAgVmlld0RpYWxvZ1NlcnZpY2UsXG4gIFZpZXdlckxheW91dFNlcnZpY2UsXG4gIFZpZXdlclNlcnZpY2UsXG5dO1xuIl19","import { Platform } from '@angular/cdk/platform';\nimport { NgClass } from '@angular/common';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, HostListener, inject, Input, NgZone, Output, ViewChild, ViewContainerRef, } from '@angular/core';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { interval, Subscription } from 'rxjs';\nimport { take, throttle } from 'rxjs/operators';\nimport { AttributionDialogService } from '../attribution-dialog/attribution-dialog.service';\nimport { CanvasGroupDialogService } from '../canvas-group-dialog/canvas-group-dialog.service';\nimport { ContentSearchDialogService } from '../content-search-dialog/content-search-dialog.service';\nimport { AccessKeysService } from '../core/access-keys-handler-service/access-keys.service';\nimport { AltoService } from '../core/alto-service/alto.service';\nimport { CanvasService } from '../core/canvas-service/canvas-service';\nimport { IiifContentSearchService } from '../core/iiif-content-search-service/iiif-content-search.service';\nimport { IiifManifestService } from '../core/iiif-manifest-service/iiif-manifest-service';\nimport { ManifestUtils } from '../core/iiif-manifest-service/iiif-manifest-utils';\nimport { MimeViewerIntl } from '../core/intl';\nimport { MimeResizeService } from '../core/mime-resize-service/mime-resize.service';\nimport { MimeViewerConfig } from '../core/mime-viewer-config';\nimport { ModeService } from '../core/mode-service/mode.service';\nimport { RecognizedTextMode, ViewerMode, } from '../core/models';\nimport { ViewerLayout } from '../core/models/viewer-layout';\nimport { ViewerOptions } from '../core/models/viewer-options';\nimport { ViewerState } from '../core/models/viewerState';\nimport { StyleService } from '../core/style-service/style.service';\nimport { ViewerLayoutService } from '../core/viewer-layout-service/viewer-layout-service';\nimport { ViewerService } from '../core/viewer-service/viewer.service';\nimport { HelpDialogService } from '../help-dialog/help-dialog.service';\nimport { InformationDialogService } from '../information-dialog/information-dialog.service';\nimport { ViewDialogService } from '../view-dialog/view-dialog.service';\nimport { OsdToolbarComponent } from './osd-toolbar/osd-toolbar.component';\nimport { RecognizedTextContentComponent } from './recognized-text-content/recognized-text-content.component';\nimport { ViewerFooterComponent } from './viewer-footer/viewer-footer.component';\nimport { ViewerHeaderComponent } from './viewer-header/viewer-header.component';\nimport { ViewerSpinnerComponent } from './viewer-spinner/viewer-spinner.component';\nimport { VIEWER_PROVIDERS } from './viewer.providers';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/sidenav\";\nexport class ViewerComponent {\n    constructor() {\n        this.manifestUri = null;\n        this.canvasIndex = 0;\n        this.config = new MimeViewerConfig();\n        this.tabIndex = 0;\n        this.viewerModeChanged = new EventEmitter();\n        this.canvasChanged = new EventEmitter();\n        this.qChanged = new EventEmitter();\n        this.manifestChanged = new EventEmitter();\n        this.recognizedTextContentModeChanged = new EventEmitter();\n        this.snackBar = inject(MatSnackBar);\n        this.intl = inject(MimeViewerIntl);\n        this.recognizedTextMode = RecognizedTextMode;\n        this.id = 'ngx-mime-mimeViewer';\n        this.openseadragonId = 'openseadragon';\n        this.recognizedTextContentMode = RecognizedTextMode.NONE;\n        this.showHeaderAndFooterState = false;\n        this.osdToolbarState = false;\n        this.errorMessage = null;\n        this.iiifManifestService = inject(IiifManifestService);\n        this.viewDialogService = inject(ViewDialogService);\n        this.informationDialogService = inject(InformationDialogService);\n        this.attributionDialogService = inject(AttributionDialogService);\n        this.contentSearchDialogService = inject(ContentSearchDialogService);\n        this.helpDialogService = inject(HelpDialogService);\n        this.viewerService = inject(ViewerService);\n        this.resizeService = inject(MimeResizeService);\n        this.changeDetectorRef = inject(ChangeDetectorRef);\n        this.modeService = inject(ModeService);\n        this.iiifContentSearchService = inject(IiifContentSearchService);\n        this.accessKeysHandlerService = inject(AccessKeysService);\n        this.canvasService = inject(CanvasService);\n        this.viewerLayoutService = inject(ViewerLayoutService);\n        this.styleService = inject(StyleService);\n        this.altoService = inject(AltoService);\n        this.canvasGroupDialogService = inject(CanvasGroupDialogService);\n        this.el = inject(ElementRef);\n        this.viewContainerRef = inject(ViewContainerRef);\n        this.zone = inject(NgZone);\n        this.platform = inject(Platform);\n        this.subscriptions = new Subscription();\n        this.isCanvasPressed = false;\n        this.viewerLayout = null;\n        this.viewerState = new ViewerState();\n        this.id = this.viewerService.id;\n        this.openseadragonId = this.viewerService.openseadragonId;\n        this.informationDialogService.el = this.el;\n        this.informationDialogService.viewContainerRef = this.viewContainerRef;\n        this.attributionDialogService.el = this.el;\n        this.attributionDialogService.viewContainerRef = this.viewContainerRef;\n        this.viewDialogService.el = this.el;\n        this.viewDialogService.viewContainerRef = this.viewContainerRef;\n        this.contentSearchDialogService.el = this.el;\n        this.contentSearchDialogService.viewContainerRef = this.viewContainerRef;\n        this.helpDialogService.el = this.el;\n        this.helpDialogService.viewContainerRef = this.viewContainerRef;\n        this.canvasGroupDialogService.viewContainerRef = this.viewContainerRef;\n        this.resizeService.el = this.el;\n    }\n    get mimeHeaderBeforeRef() {\n        return this.header.mimeHeaderBefore;\n    }\n    get mimeHeaderAfterRef() {\n        return this.header.mimeHeaderAfter;\n    }\n    get mimeFooterBeforeRef() {\n        return this.footer.mimeFooterBefore;\n    }\n    get mimeFooterAfterRef() {\n        return this.footer.mimeFooterAfter;\n    }\n    handleKeys(event) {\n        this.accessKeysHandlerService.handleKeyEvents(event);\n    }\n    onDrop(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (this.config.isDropEnabled) {\n            const url = event.dataTransfer.getData('URL');\n            const params = new URL(url).searchParams;\n            const manifestUri = params.get('manifest');\n            const startCanvasId = params.get('canvas');\n            if (manifestUri) {\n                this.manifestUri = manifestUri.startsWith('//')\n                    ? `${location.protocol}${manifestUri}`\n                    : manifestUri;\n                this.cleanup();\n                this.loadManifest();\n                if (startCanvasId) {\n                    this.manifestChanged.pipe(take(1)).subscribe((manifest) => {\n                        const canvasIndex = manifest.sequences\n                            ? manifest.sequences[0]?.canvases?.findIndex((c) => c.id === startCanvasId)\n                            : -1;\n                        if (canvasIndex && canvasIndex !== -1) {\n                            setTimeout(() => {\n                                this.viewerService.goToCanvas(canvasIndex, true);\n                            }, 0);\n                        }\n                    });\n                }\n            }\n        }\n        else {\n            this.snackBar.open(this.intl.dropDisabled, undefined, {\n                duration: 3000,\n            });\n        }\n    }\n    onDragOver(event) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n    onDragLeave(event) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n    ngOnInit() {\n        this.styleService.initialize();\n        this.subscriptions.add(this.iiifManifestService.currentManifest.subscribe((manifest) => {\n            if (manifest) {\n                this.initialize();\n                this.currentManifest = manifest;\n                this.manifestChanged.next(manifest);\n                this.viewerLayoutService.init(ManifestUtils.isManifestPaged(manifest));\n                this.recognizedTextContentMode =\n                    this.altoService.recognizedTextContentMode;\n                this.changeDetectorRef.detectChanges();\n                this.viewerService.setUpViewer(manifest, this.config);\n                if (this.config.attributionDialogEnabled && manifest.attribution) {\n                    this.attributionDialogService.open(this.config.attributionDialogHideTimeout);\n                }\n                if (this.q) {\n                    this.iiifContentSearchService.search(manifest, this.q);\n                }\n            }\n        }));\n        this.subscriptions.add(this.viewerService.onOsdReadyChange.subscribe((state) => {\n            // Don't reset current page when switching layout\n            if (state &&\n                this.canvasIndex &&\n                !this.canvasService.currentCanvasGroupIndex) {\n                this.viewerService.goToCanvas(this.canvasIndex, false);\n            }\n        }));\n        this.subscriptions.add(this.iiifManifestService.errorMessage.subscribe((error) => {\n            this.resetCurrentManifest();\n            this.errorMessage = error;\n            this.changeDetectorRef.detectChanges();\n        }));\n        this.subscriptions.add(this.iiifContentSearchService.onQChange.subscribe((q) => {\n            this.qChanged.emit(q);\n        }));\n        this.subscriptions.add(this.iiifContentSearchService.onChange.subscribe((sr) => {\n            this.viewerService.highlight(sr);\n        }));\n        this.subscriptions.add(this.viewerService.isCanvasPressed.subscribe((value) => {\n            this.isCanvasPressed = value;\n            this.changeDetectorRef.detectChanges();\n        }));\n        this.subscriptions.add(this.modeService.onChange.subscribe((mode) => {\n            if (mode.currentValue !== undefined) {\n                this.toggleToolbarsState(mode.currentValue);\n            }\n            if (mode.previousValue === ViewerMode.DASHBOARD &&\n                mode.currentValue === ViewerMode.PAGE) {\n                this.viewerState.viewDialogState.isOpen =\n                    this.viewDialogService.isOpen();\n                this.viewerState.contentDialogState.isOpen =\n                    this.informationDialogService.isOpen();\n                this.viewerState.contentDialogState.selectedIndex =\n                    this.informationDialogService.getSelectedIndex();\n                this.viewerState.contentsSearchDialogState.isOpen =\n                    this.contentSearchDialogService.isOpen();\n                this.viewerState.helpDialogState.isOpen =\n                    this.helpDialogService.isOpen();\n                this.zone.run(() => {\n                    this.viewDialogService.close();\n                    this.informationDialogService.close();\n                    this.contentSearchDialogService.close();\n                    this.helpDialogService.close();\n                });\n            }\n            if (mode.currentValue === ViewerMode.DASHBOARD) {\n                this.zone.run(() => {\n                    if (this.viewerState.viewDialogState.isOpen) {\n                        this.viewDialogService.open();\n                    }\n                    if (this.viewerState.contentDialogState.isOpen) {\n                        this.informationDialogService.open(this.viewerState.contentDialogState.selectedIndex);\n                    }\n                    if (this.viewerState.contentsSearchDialogState.isOpen) {\n                        this.contentSearchDialogService.open();\n                    }\n                    if (this.viewerState.helpDialogState.isOpen) {\n                        this.helpDialogService.open();\n                    }\n                });\n            }\n            this.zone.run(() => {\n                this.viewerModeChanged.emit(mode.currentValue);\n            });\n        }));\n        this.subscriptions.add(this.canvasService.onCanvasGroupIndexChange.subscribe((canvasGroupIndex) => {\n            const canvasIndex = this.canvasService.findCanvasByCanvasIndex(canvasGroupIndex);\n            if (canvasIndex !== -1) {\n                this.canvasChanged.emit(canvasIndex);\n            }\n        }));\n        this.subscriptions.add(this.resizeService.onResize\n            .pipe(throttle((val) => interval(ViewerOptions.transitions.OSDAnimationTime)))\n            .subscribe(() => {\n            setTimeout(() => {\n                this.viewerService.home();\n                this.changeDetectorRef.markForCheck();\n            }, ViewerOptions.transitions.OSDAnimationTime);\n        }));\n        this.subscriptions.add(this.viewerLayoutService.onChange.subscribe((viewerLayout) => {\n            this.viewerLayout = viewerLayout;\n        }));\n        this.subscriptions.add(this.altoService.onRecognizedTextContentModeChange$.subscribe((recognizedTextModeChanges) => {\n            this.recognizedTextContentMode =\n                recognizedTextModeChanges.currentValue;\n            this.recognizedTextContentModeChanged.emit(this.recognizedTextContentMode);\n            this.changeDetectorRef.markForCheck();\n        }));\n    }\n    ngOnChanges(changes) {\n        if (changes['config']) {\n            this.viewerService.setConfig(this.config);\n            this.viewerLayoutService.setConfig(this.config);\n            this.iiifContentSearchService.setConfig(this.config);\n            this.altoService.setConfig(this.config);\n            this.modeService.setConfig(this.config);\n            this.modeService.initialize();\n        }\n        if (changes['manifestUri']) {\n            this.cleanup();\n            this.modeService.mode = this.config.initViewerMode;\n            this.manifestUri = changes['manifestUri'].currentValue;\n            this.loadManifest();\n        }\n        if (changes['q']) {\n            this.q = changes['q'].currentValue;\n            if (this.currentManifest) {\n                this.iiifContentSearchService.search(this.currentManifest, this.q);\n            }\n        }\n        if (changes['canvasIndex']) {\n            this.canvasIndex = changes['canvasIndex'].currentValue;\n            if (this.currentManifest) {\n                this.viewerService.goToCanvas(this.canvasIndex, true);\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n        this.cleanup();\n        this.iiifManifestService.destroy();\n        this.iiifContentSearchService.destroy();\n        this.styleService.destroy();\n    }\n    toggleToolbarsState(mode) {\n        if (this.header && this.footer) {\n            switch (mode) {\n                case ViewerMode.DASHBOARD:\n                    this.showHeaderAndFooterState = true;\n                    if (this.config.navigationControlEnabled) {\n                        this.osdToolbarState = false;\n                    }\n                    break;\n                case ViewerMode.PAGE:\n                    this.showHeaderAndFooterState = false;\n                    if (this.config.navigationControlEnabled) {\n                        this.osdToolbarState = true;\n                    }\n                    break;\n            }\n            this.changeDetectorRef.detectChanges();\n        }\n    }\n    goToHomeZoom() {\n        if (this.recognizedTextContentMode !== this.recognizedTextMode.ONLY) {\n            this.viewerService.home();\n        }\n    }\n    setClasses() {\n        return {\n            'mode-page': this.modeService.mode === ViewerMode.PAGE,\n            'mode-page-zoomed': this.modeService.isPageZoomed(),\n            'mode-dashboard': this.modeService.mode === ViewerMode.DASHBOARD,\n            'layout-one-page': this.viewerLayout === ViewerLayout.ONE_PAGE,\n            'layout-two-page': this.viewerLayout === ViewerLayout.TWO_PAGE,\n            'canvas-pressed': this.isCanvasPressed,\n            'broken-mix-blend-mode': !this.hasMixBlendModeSupport(),\n        };\n    }\n    loadManifest() {\n        this.iiifManifestService.load(this.manifestUri).pipe(take(1)).subscribe();\n    }\n    initialize() {\n        this.accessKeysHandlerService.initialize();\n        this.attributionDialogService.initialize();\n        this.viewDialogService.initialize();\n        this.informationDialogService.initialize();\n        this.contentSearchDialogService.initialize();\n        this.helpDialogService.initialize();\n        this.viewerService.initialize();\n        this.resizeService.initialize();\n    }\n    cleanup() {\n        this.viewerState = new ViewerState();\n        this.accessKeysHandlerService.destroy();\n        this.attributionDialogService.destroy();\n        this.viewDialogService.destroy();\n        this.informationDialogService.destroy();\n        this.contentSearchDialogService.destroy();\n        this.helpDialogService.destroy();\n        this.viewerService.destroy();\n        this.resizeService.destroy();\n        this.resetErrorMessage();\n    }\n    resetCurrentManifest() {\n        this.currentManifest = null;\n    }\n    resetErrorMessage() {\n        this.errorMessage = null;\n    }\n    hasMixBlendModeSupport() {\n        return !(this.platform.FIREFOX || this.platform.SAFARI);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"20.3.5\", type: ViewerComponent, isStandalone: true, selector: \"mime-viewer\", inputs: { manifestUri: \"manifestUri\", q: \"q\", canvasIndex: \"canvasIndex\", config: \"config\", tabIndex: \"tabIndex\" }, outputs: { viewerModeChanged: \"viewerModeChanged\", canvasChanged: \"canvasChanged\", qChanged: \"qChanged\", manifestChanged: \"manifestChanged\", recognizedTextContentModeChanged: \"recognizedTextContentModeChanged\" }, host: { listeners: { \"keydown\": \"handleKeys($event)\", \"drop\": \"onDrop($event)\", \"dragover\": \"onDragOver($event)\", \"dragleave\": \"onDragLeave($event)\" } }, providers: VIEWER_PROVIDERS, viewQueries: [{ propertyName: \"header\", first: true, predicate: [\"mimeHeader\"], descendants: true, static: true }, { propertyName: \"footer\", first: true, predicate: [\"mimeFooter\"], descendants: true, static: true }], usesOnChanges: true, ngImport: i0, template: \"<div\\n  [id]=\\\"id\\\"\\n  class=\\\"viewer-container\\\"\\n  [ngClass]=\\\"setClasses()\\\"\\n  [hidden]=\\\"errorMessage !== null\\\"\\n  [tabIndex]=\\\"tabIndex\\\"\\n>\\n  <mime-spinner></mime-spinner>\\n  <mime-viewer-header\\n    class=\\\"navbar navbar-header\\\"\\n    #mimeHeader\\n    [class.show]=\\\"showHeaderAndFooterState\\\"\\n  ></mime-viewer-header>\\n  @if (config.navigationControlEnabled) {\\n    <mime-osd-toolbar [class.show]=\\\"osdToolbarState\\\"></mime-osd-toolbar>\\n  }\\n\\n  <mat-drawer-container class=\\\"viewer-drawer-container\\\" autosize>\\n    <mat-drawer\\n      data-testid=\\\"ngx-mime-recognized-text-content-container\\\"\\n      mode=\\\"side\\\"\\n      position=\\\"end\\\"\\n      (openedChange)=\\\"goToHomeZoom()\\\"\\n      [opened]=\\\"recognizedTextContentMode !== recognizedTextMode.NONE\\\"\\n      [ngClass]=\\\"{\\n        only: recognizedTextContentMode === recognizedTextMode.ONLY,\\n        split: recognizedTextContentMode === recognizedTextMode.SPLIT,\\n        open: showHeaderAndFooterState,\\n      }\\\"\\n    >\\n      @if (recognizedTextContentMode !== recognizedTextMode.NONE) {\\n        <mime-recognized-text-content></mime-recognized-text-content>\\n      }\\n    </mat-drawer>\\n    <mat-drawer-content>\\n      <div [id]=\\\"openseadragonId\\\" class=\\\"openseadragon\\\"></div>\\n    </mat-drawer-content>\\n  </mat-drawer-container>\\n\\n  <mime-viewer-footer\\n    class=\\\"navbar navbar-footer\\\"\\n    #mimeFooter\\n    [class.show]=\\\"showHeaderAndFooterState\\\"\\n  ></mime-viewer-footer>\\n</div>\\n\\n@if (errorMessage) {\\n  <div class=\\\"error-container flex items-center justify-center\\\">\\n    {{ intl.somethingHasGoneWrongLabel }}\\n  </div>\\n}\\n\", styles: [\".viewer-container{overflow:hidden;box-sizing:border-box;position:relative;width:100%;height:100%;display:flex;flex-direction:column}.viewer-container mime-viewer-header{transform:translateY(-100%);transition:transform .5s ease-out}.viewer-container mime-viewer-header.show{transform:translate(0);transition:transform .4s ease-in}.viewer-container mime-osd-toolbar{transform:translate(-100%);transition:transform .5s ease-in}.viewer-container mime-osd-toolbar.show{transform:translate(0);transition:transform .4s ease-out}.viewer-container mime-viewer-footer{transform:translateY(100%);transition:transform .5s ease-out}.viewer-container mime-viewer-footer.show{transform:translate(0);transition:transform .4s ease-in}.viewer-container .openseadragon{-webkit-user-select:none;user-select:none}.viewer-container.mode-page-zoomed::ng-deep .tile:hover{cursor:-webkit-grab}.viewer-container.canvas-pressed,.viewer-container.canvas-pressed::ng-deep .tile:hover{cursor:grabbing;cursor:-webkit-grabbing}.viewer-container.mode-dashboard.layout-one-page::ng-deep .tile,.viewer-container.mode-dashboard.layout-two-page::ng-deep .page-group .tile{stroke:#00000026;stroke-width:8;transition:.25s ease stroke}.viewer-container.mode-dashboard.layout-one-page::ng-deep .tile:hover,.viewer-container.mode-dashboard.layout-two-page::ng-deep .page-group:hover .tile{stroke:#00000073}.viewer-container.broken-mix-blend-mode ::ng-deep .hit{mix-blend-mode:unset!important;fill:#ff09}.viewer-container.broken-mix-blend-mode ::ng-deep .selected{fill:#ff890099}.viewer-container ::ng-deep .openseadragon-container{flex-grow:1}.viewer-container ::ng-deep .openseadragon-canvas:focus{outline:none}.viewer-container ::ng-deep .tile{cursor:pointer;fill-opacity:0}.viewer-container ::ng-deep .hit{mix-blend-mode:multiply;fill:#ff0}.viewer-container ::ng-deep .selected{fill:#ff8900;stroke:#613400;stroke-width:4px}.viewer-container .viewer-drawer-container{width:100%;height:100%}.openseadragon{display:flex;flex-grow:1;flex-direction:column;opacity:0;width:100%;height:100%}.navbar{position:absolute;width:100%;overflow:hidden;z-index:2}.navbar-header{top:0}.navbar-footer{bottom:0}.error-container{width:100%;height:100%}[hidden]{display:none}mat-drawer.split{width:25%}@media only screen and (max-width:599px){mat-drawer.split{width:33%}}mat-drawer.only{width:100%}mat-drawer.only ::ng-deep mime-recognized-text-content .content{max-width:980px}.open{height:calc(100% - 128px)!important;top:64px}@media only screen and (max-width:599px){.open{height:calc(100% - 112px)!important;top:56px}}\\n\"], dependencies: [{ kind: \"directive\", type: NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"ngmodule\", type: MatSidenavModule }, { kind: \"component\", type: i1.MatDrawer, selector: \"mat-drawer\", inputs: [\"position\", \"mode\", \"disableClose\", \"autoFocus\", \"opened\"], outputs: [\"openedChange\", \"opened\", \"openedStart\", \"closed\", \"closedStart\", \"positionChanged\"], exportAs: [\"matDrawer\"] }, { kind: \"component\", type: i1.MatDrawerContainer, selector: \"mat-drawer-container\", inputs: [\"autosize\", \"hasBackdrop\"], outputs: [\"backdropClick\"], exportAs: [\"matDrawerContainer\"] }, { kind: \"component\", type: i1.MatDrawerContent, selector: \"mat-drawer-content\" }, { kind: \"component\", type: ViewerSpinnerComponent, selector: \"mime-spinner\" }, { kind: \"component\", type: ViewerHeaderComponent, selector: \"mime-viewer-header\" }, { kind: \"component\", type: OsdToolbarComponent, selector: \"mime-osd-toolbar\" }, { kind: \"component\", type: RecognizedTextContentComponent, selector: \"mime-recognized-text-content\" }, { kind: \"component\", type: ViewerFooterComponent, selector: \"mime-viewer-footer\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: ViewerComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'mime-viewer', changeDetection: ChangeDetectionStrategy.OnPush, imports: [\n                        NgClass,\n                        MatSidenavModule,\n                        ViewerSpinnerComponent,\n                        ViewerHeaderComponent,\n                        OsdToolbarComponent,\n                        RecognizedTextContentComponent,\n                        ViewerFooterComponent,\n                    ], providers: VIEWER_PROVIDERS, template: \"<div\\n  [id]=\\\"id\\\"\\n  class=\\\"viewer-container\\\"\\n  [ngClass]=\\\"setClasses()\\\"\\n  [hidden]=\\\"errorMessage !== null\\\"\\n  [tabIndex]=\\\"tabIndex\\\"\\n>\\n  <mime-spinner></mime-spinner>\\n  <mime-viewer-header\\n    class=\\\"navbar navbar-header\\\"\\n    #mimeHeader\\n    [class.show]=\\\"showHeaderAndFooterState\\\"\\n  ></mime-viewer-header>\\n  @if (config.navigationControlEnabled) {\\n    <mime-osd-toolbar [class.show]=\\\"osdToolbarState\\\"></mime-osd-toolbar>\\n  }\\n\\n  <mat-drawer-container class=\\\"viewer-drawer-container\\\" autosize>\\n    <mat-drawer\\n      data-testid=\\\"ngx-mime-recognized-text-content-container\\\"\\n      mode=\\\"side\\\"\\n      position=\\\"end\\\"\\n      (openedChange)=\\\"goToHomeZoom()\\\"\\n      [opened]=\\\"recognizedTextContentMode !== recognizedTextMode.NONE\\\"\\n      [ngClass]=\\\"{\\n        only: recognizedTextContentMode === recognizedTextMode.ONLY,\\n        split: recognizedTextContentMode === recognizedTextMode.SPLIT,\\n        open: showHeaderAndFooterState,\\n      }\\\"\\n    >\\n      @if (recognizedTextContentMode !== recognizedTextMode.NONE) {\\n        <mime-recognized-text-content></mime-recognized-text-content>\\n      }\\n    </mat-drawer>\\n    <mat-drawer-content>\\n      <div [id]=\\\"openseadragonId\\\" class=\\\"openseadragon\\\"></div>\\n    </mat-drawer-content>\\n  </mat-drawer-container>\\n\\n  <mime-viewer-footer\\n    class=\\\"navbar navbar-footer\\\"\\n    #mimeFooter\\n    [class.show]=\\\"showHeaderAndFooterState\\\"\\n  ></mime-viewer-footer>\\n</div>\\n\\n@if (errorMessage) {\\n  <div class=\\\"error-container flex items-center justify-center\\\">\\n    {{ intl.somethingHasGoneWrongLabel }}\\n  </div>\\n}\\n\", styles: [\".viewer-container{overflow:hidden;box-sizing:border-box;position:relative;width:100%;height:100%;display:flex;flex-direction:column}.viewer-container mime-viewer-header{transform:translateY(-100%);transition:transform .5s ease-out}.viewer-container mime-viewer-header.show{transform:translate(0);transition:transform .4s ease-in}.viewer-container mime-osd-toolbar{transform:translate(-100%);transition:transform .5s ease-in}.viewer-container mime-osd-toolbar.show{transform:translate(0);transition:transform .4s ease-out}.viewer-container mime-viewer-footer{transform:translateY(100%);transition:transform .5s ease-out}.viewer-container mime-viewer-footer.show{transform:translate(0);transition:transform .4s ease-in}.viewer-container .openseadragon{-webkit-user-select:none;user-select:none}.viewer-container.mode-page-zoomed::ng-deep .tile:hover{cursor:-webkit-grab}.viewer-container.canvas-pressed,.viewer-container.canvas-pressed::ng-deep .tile:hover{cursor:grabbing;cursor:-webkit-grabbing}.viewer-container.mode-dashboard.layout-one-page::ng-deep .tile,.viewer-container.mode-dashboard.layout-two-page::ng-deep .page-group .tile{stroke:#00000026;stroke-width:8;transition:.25s ease stroke}.viewer-container.mode-dashboard.layout-one-page::ng-deep .tile:hover,.viewer-container.mode-dashboard.layout-two-page::ng-deep .page-group:hover .tile{stroke:#00000073}.viewer-container.broken-mix-blend-mode ::ng-deep .hit{mix-blend-mode:unset!important;fill:#ff09}.viewer-container.broken-mix-blend-mode ::ng-deep .selected{fill:#ff890099}.viewer-container ::ng-deep .openseadragon-container{flex-grow:1}.viewer-container ::ng-deep .openseadragon-canvas:focus{outline:none}.viewer-container ::ng-deep .tile{cursor:pointer;fill-opacity:0}.viewer-container ::ng-deep .hit{mix-blend-mode:multiply;fill:#ff0}.viewer-container ::ng-deep .selected{fill:#ff8900;stroke:#613400;stroke-width:4px}.viewer-container .viewer-drawer-container{width:100%;height:100%}.openseadragon{display:flex;flex-grow:1;flex-direction:column;opacity:0;width:100%;height:100%}.navbar{position:absolute;width:100%;overflow:hidden;z-index:2}.navbar-header{top:0}.navbar-footer{bottom:0}.error-container{width:100%;height:100%}[hidden]{display:none}mat-drawer.split{width:25%}@media only screen and (max-width:599px){mat-drawer.split{width:33%}}mat-drawer.only{width:100%}mat-drawer.only ::ng-deep mime-recognized-text-content .content{max-width:980px}.open{height:calc(100% - 128px)!important;top:64px}@media only screen and (max-width:599px){.open{height:calc(100% - 112px)!important;top:56px}}\\n\"] }]\n        }], ctorParameters: () => [], propDecorators: { manifestUri: [{\n                type: Input\n            }], q: [{\n                type: Input\n            }], canvasIndex: [{\n                type: Input\n            }], config: [{\n                type: Input\n            }], tabIndex: [{\n                type: Input\n            }], viewerModeChanged: [{\n                type: Output\n            }], canvasChanged: [{\n                type: Output\n            }], qChanged: [{\n                type: Output\n            }], manifestChanged: [{\n                type: Output\n            }], recognizedTextContentModeChanged: [{\n                type: Output\n            }], header: [{\n                type: ViewChild,\n                args: ['mimeHeader', { static: true }]\n            }], footer: [{\n                type: ViewChild,\n                args: ['mimeFooter', { static: true }]\n            }], handleKeys: [{\n                type: HostListener,\n                args: ['keydown', ['$event']]\n            }], onDrop: [{\n                type: HostListener,\n                args: ['drop', ['$event']]\n            }], onDragOver: [{\n                type: HostListener,\n                args: ['dragover', ['$event']]\n            }], onDragLeave: [{\n                type: HostListener,\n                args: ['dragleave', ['$event']]\n            }] } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi92aWV3ZXIvdmlld2VyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi92aWV3ZXIvdmlld2VyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDMUMsT0FBTyxFQUNMLHVCQUF1QixFQUN2QixpQkFBaUIsRUFDakIsU0FBUyxFQUNULFVBQVUsRUFDVixZQUFZLEVBQ1osWUFBWSxFQUNaLE1BQU0sRUFDTixLQUFLLEVBQ0wsTUFBTSxFQUlOLE1BQU0sRUFFTixTQUFTLEVBQ1QsZ0JBQWdCLEdBQ2pCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQzdELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUM5QyxPQUFPLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hELE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLGtEQUFrRCxDQUFDO0FBQzVGLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLG9EQUFvRCxDQUFDO0FBQzlGLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLHdEQUF3RCxDQUFDO0FBQ3BHLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHlEQUF5RCxDQUFDO0FBQzVGLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztB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LElBQUksRUFBRTs7c0JBRXhDLFNBQVM7dUJBQUMsWUFBWSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTs7c0JBeUV4QyxZQUFZO3VCQUFDLFNBQVMsRUFBRSxDQUFDLFFBQVEsQ0FBQzs7c0JBS2xDLFlBQVk7dUJBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDOztzQkFxQy9CLFlBQVk7dUJBQUMsVUFBVSxFQUFFLENBQUMsUUFBUSxDQUFDOztzQkFNbkMsWUFBWTt1QkFBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQbGF0Zm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBOZ0NsYXNzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBFdmVudEVtaXR0ZXIsXG4gIEhvc3RMaXN0ZW5lcixcbiAgaW5qZWN0LFxuICBJbnB1dCxcbiAgTmdab25lLFxuICBPbkNoYW5nZXMsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIFZpZXdDaGlsZCxcbiAgVmlld0NvbnRhaW5lclJlZixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXRTaWRlbmF2TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc2lkZW5hdic7XG5pbXBvcnQgeyBNYXRTbmFja0JhciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3NuYWNrLWJhcic7XG5pbXBvcnQgeyBpbnRlcnZhbCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0YWtlLCB0aHJvdHRsZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IEF0dHJpYnV0aW9uRGlhbG9nU2VydmljZSB9IGZyb20gJy4uL2F0dHJpYnV0aW9uLWRpYWxvZy9hdHRyaWJ1dGlvbi1kaWFsb2cuc2VydmljZSc7XG5pbXBvcnQgeyBDYW52YXNHcm91cERpYWxvZ1NlcnZpY2UgfSBmcm9tICcuLi9jYW52YXMtZ3JvdXAtZGlhbG9nL2NhbnZhcy1ncm91cC1kaWFsb2cuc2VydmljZSc7XG5pbXBvcnQgeyBDb250ZW50U2VhcmNoRGlhbG9nU2VydmljZSB9IGZyb20gJy4uL2NvbnRlbnQtc2VhcmNoLWRpYWxvZy9jb250ZW50LXNlYXJjaC1kaWFsb2cuc2VydmljZSc7XG5pbXBvcnQgeyBBY2Nlc3NLZXlzU2VydmljZSB9IGZyb20gJy4uL2NvcmUvYWNjZXNzLWtleXMtaGFuZGxlci1zZXJ2aWNlL2FjY2Vzcy1rZXlzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQWx0b1NlcnZpY2UgfSBmcm9tICcuLi9jb3JlL2FsdG8tc2VydmljZS9hbHRvLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ2FudmFzU2VydmljZSB9IGZyb20gJy4uL2NvcmUvY2FudmFzLXNlcnZpY2UvY2FudmFzLXNlcnZpY2UnO1xuaW1wb3J0IHsgSWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9paWlmLWNvbnRlbnQtc2VhcmNoLXNlcnZpY2UvaWlpZi1jb250ZW50LXNlYXJjaC5zZXJ2aWNlJztcbmltcG9ydCB7IElpaWZNYW5pZmVzdFNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL2lpaWYtbWFuaWZlc3Qtc2VydmljZS9paWlmLW1hbmlmZXN0LXNlcnZpY2UnO1xuaW1wb3J0IHsgTWFuaWZlc3RVdGlscyB9IGZyb20gJy4uL2NvcmUvaWlpZi1tYW5pZmVzdC1zZXJ2aWNlL2lpaWYtbWFuaWZlc3QtdXRpbHMnO1xuaW1wb3J0IHsgTWltZVZpZXdlckludGwgfSBmcm9tICcuLi9jb3JlL2ludGwnO1xuaW1wb3J0IHsgTWltZVJlc2l6ZVNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL21pbWUtcmVzaXplLXNlcnZpY2UvbWltZS1yZXNpemUuc2VydmljZSc7XG5pbXBvcnQgeyBNaW1lVmlld2VyQ29uZmlnIH0gZnJvbSAnLi4vY29yZS9taW1lLXZpZXdlci1jb25maWcnO1xuaW1wb3J0IHsgTW9kZVNlcnZpY2UgfSBmcm9tICcuLi9jb3JlL21vZGUtc2VydmljZS9tb2RlLnNlcnZpY2UnO1xuaW1wb3J0IHtcbiAgTW9kZUNoYW5nZXMsXG4gIFJlY29nbml6ZWRUZXh0TW9kZSxcbiAgUmVjb2duaXplZFRleHRNb2RlQ2hhbmdlcyxcbiAgVmlld2VyTW9kZSxcbn0gZnJvbSAnLi4vY29yZS9tb2RlbHMnO1xuaW1wb3J0IHsgTWFuaWZlc3QgfSBmcm9tICcuLi9jb3JlL21vZGVscy9tYW5pZmVzdCc7XG5pbXBvcnQgeyBTZWFyY2hSZXN1bHQgfSBmcm9tICcuLi9jb3JlL21vZGVscy9zZWFyY2gtcmVzdWx0JztcbmltcG9ydCB7IFZpZXdlckxheW91dCB9IGZyb20gJy4uL2NvcmUvbW9kZWxzL3ZpZXdlci1sYXlvdXQnO1xuaW1wb3J0IHsgVmlld2VyT3B0aW9ucyB9IGZyb20gJy4uL2NvcmUvbW9kZWxzL3ZpZXdlci1vcHRpb25zJztcbmltcG9ydCB7IFZpZXdlclN0YXRlIH0gZnJvbSAnLi4vY29yZS9tb2RlbHMvdmlld2VyU3RhdGUnO1xuaW1wb3J0IHsgU3R5bGVTZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS9zdHlsZS1zZXJ2aWNlL3N0eWxlLnNlcnZpY2UnO1xuaW1wb3J0IHsgVmlld2VyTGF5b3V0U2VydmljZSB9IGZyb20gJy4uL2NvcmUvdmlld2VyLWxheW91dC1zZXJ2aWNlL3ZpZXdlci1sYXlvdXQtc2VydmljZSc7XG5pbXBvcnQgeyBWaWV3ZXJTZXJ2aWNlIH0gZnJvbSAnLi4vY29yZS92aWV3ZXItc2VydmljZS92aWV3ZXIuc2VydmljZSc7XG5pbXBvcnQgeyBIZWxwRGlhbG9nU2VydmljZSB9IGZyb20gJy4uL2hlbHAtZGlhbG9nL2hlbHAtZGlhbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgSW5mb3JtYXRpb25EaWFsb2dTZXJ2aWNlIH0gZnJvbSAnLi4vaW5mb3JtYXRpb24tZGlhbG9nL2luZm9ybWF0aW9uLWRpYWxvZy5zZXJ2aWNlJztcbmltcG9ydCB7IFZpZXdEaWFsb2dTZXJ2aWNlIH0gZnJvbSAnLi4vdmlldy1kaWFsb2cvdmlldy1kaWFsb2cuc2VydmljZSc7XG5pbXBvcnQgeyBPc2RUb29sYmFyQ29tcG9uZW50IH0gZnJvbSAnLi9vc2QtdG9vbGJhci9vc2QtdG9vbGJhci5jb21wb25lbnQnO1xuaW1wb3J0IHsgUmVjb2duaXplZFRleHRDb250ZW50Q29tcG9uZW50IH0gZnJvbSAnLi9yZWNvZ25pemVkLXRleHQtY29udGVudC9yZWNvZ25pemVkLXRleHQtY29udGVudC5jb21wb25lbnQnO1xuaW1wb3J0IHsgVmlld2VyRm9vdGVyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3ZXItZm9vdGVyL3ZpZXdlci1mb290ZXIuY29tcG9uZW50JztcbmltcG9ydCB7IFZpZXdlckhlYWRlckNvbXBvbmVudCB9IGZyb20gJy4vdmlld2VyLWhlYWRlci92aWV3ZXItaGVhZGVyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBWaWV3ZXJTcGlubmVyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3ZXItc3Bpbm5lci92aWV3ZXItc3Bpbm5lci5jb21wb25lbnQnO1xuaW1wb3J0IHsgVklFV0VSX1BST1ZJREVSUyB9IGZyb20gJy4vdmlld2VyLnByb3ZpZGVycyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21pbWUtdmlld2VyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3ZpZXdlci5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3ZpZXdlci5jb21wb25lbnQuc2NzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgaW1wb3J0czogW1xuICAgIE5nQ2xhc3MsXG4gICAgTWF0U2lkZW5hdk1vZHVsZSxcbiAgICBWaWV3ZXJTcGlubmVyQ29tcG9uZW50LFxuICAgIFZpZXdlckhlYWRlckNvbXBvbmVudCxcbiAgICBPc2RUb29sYmFyQ29tcG9uZW50LFxuICAgIFJlY29nbml6ZWRUZXh0Q29udGVudENvbXBvbmVudCxcbiAgICBWaWV3ZXJGb290ZXJDb21wb25lbnQsXG4gIF0sXG4gIHByb3ZpZGVyczogVklFV0VSX1BST1ZJREVSUyxcbn0pXG5leHBvcnQgY2xhc3MgVmlld2VyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3ksIE9uQ2hhbmdlcyB7XG4gIEBJbnB1dCgpIHB1YmxpYyBtYW5pZmVzdFVyaTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIEBJbnB1dCgpIHB1YmxpYyBxITogc3RyaW5nO1xuICBASW5wdXQoKSBwdWJsaWMgY2FudmFzSW5kZXggPSAwO1xuICBASW5wdXQoKSBwdWJsaWMgY29uZmlnOiBNaW1lVmlld2VyQ29uZmlnID0gbmV3IE1pbWVWaWV3ZXJDb25maWcoKTtcbiAgQElucHV0KCkgcHVibGljIHRhYkluZGV4ID0gMDtcbiAgQE91dHB1dCgpIHZpZXdlck1vZGVDaGFuZ2VkOiBFdmVudEVtaXR0ZXI8Vmlld2VyTW9kZT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBjYW52YXNDaGFuZ2VkOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIHFDaGFuZ2VkOiBFdmVudEVtaXR0ZXI8c3RyaW5nPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG1hbmlmZXN0Q2hhbmdlZDogRXZlbnRFbWl0dGVyPE1hbmlmZXN0PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIHJlY29nbml6ZWRUZXh0Q29udGVudE1vZGVDaGFuZ2VkOiBFdmVudEVtaXR0ZXI8UmVjb2duaXplZFRleHRNb2RlPiA9XG4gICAgbmV3IEV2ZW50RW1pdHRlcigpO1xuICAvLyBWaWV3Y2hpbGRzXG4gIEBWaWV3Q2hpbGQoJ21pbWVIZWFkZXInLCB7IHN0YXRpYzogdHJ1ZSB9KVxuICBwcml2YXRlIHJlYWRvbmx5IGhlYWRlciE6IFZpZXdlckhlYWRlckNvbXBvbmVudDtcbiAgQFZpZXdDaGlsZCgnbWltZUZvb3RlcicsIHsgc3RhdGljOiB0cnVlIH0pXG4gIHByaXZhdGUgcmVhZG9ubHkgZm9vdGVyITogVmlld2VyRm9vdGVyQ29tcG9uZW50O1xuICBzbmFja0JhciA9IGluamVjdChNYXRTbmFja0Jhcik7XG4gIGludGwgPSBpbmplY3QoTWltZVZpZXdlckludGwpO1xuICByZWNvZ25pemVkVGV4dE1vZGUgPSBSZWNvZ25pemVkVGV4dE1vZGU7XG4gIGlkID0gJ25neC1taW1lLW1pbWVWaWV3ZXInO1xuICBvcGVuc2VhZHJhZ29uSWQgPSAnb3BlbnNlYWRyYWdvbic7XG4gIHJlY29nbml6ZWRUZXh0Q29udGVudE1vZGU6IFJlY29nbml6ZWRUZXh0TW9kZSA9IFJlY29nbml6ZWRUZXh0TW9kZS5OT05FO1xuICBzaG93SGVhZGVyQW5kRm9vdGVyU3RhdGUgPSBmYWxzZTtcbiAgb3NkVG9vbGJhclN0YXRlID0gZmFsc2U7XG4gIGVycm9yTWVzc2FnZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVhZG9ubHkgaWlpZk1hbmlmZXN0U2VydmljZSA9IGluamVjdChJaWlmTWFuaWZlc3RTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSB2aWV3RGlhbG9nU2VydmljZSA9IGluamVjdChWaWV3RGlhbG9nU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgaW5mb3JtYXRpb25EaWFsb2dTZXJ2aWNlID0gaW5qZWN0KEluZm9ybWF0aW9uRGlhbG9nU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgYXR0cmlidXRpb25EaWFsb2dTZXJ2aWNlID0gaW5qZWN0KEF0dHJpYnV0aW9uRGlhbG9nU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29udGVudFNlYXJjaERpYWxvZ1NlcnZpY2UgPSBpbmplY3QoXG4gICAgQ29udGVudFNlYXJjaERpYWxvZ1NlcnZpY2UsXG4gICk7XG4gIHByaXZhdGUgcmVhZG9ubHkgaGVscERpYWxvZ1NlcnZpY2UgPSBpbmplY3QoSGVscERpYWxvZ1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IHZpZXdlclNlcnZpY2UgPSBpbmplY3QoVmlld2VyU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgcmVzaXplU2VydmljZSA9IGluamVjdChNaW1lUmVzaXplU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2hhbmdlRGV0ZWN0b3JSZWYgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICBwcml2YXRlIHJlYWRvbmx5IG1vZGVTZXJ2aWNlID0gaW5qZWN0KE1vZGVTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBpaWlmQ29udGVudFNlYXJjaFNlcnZpY2UgPSBpbmplY3QoSWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBhY2Nlc3NLZXlzSGFuZGxlclNlcnZpY2UgPSBpbmplY3QoQWNjZXNzS2V5c1NlcnZpY2UpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbnZhc1NlcnZpY2UgPSBpbmplY3QoQ2FudmFzU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgdmlld2VyTGF5b3V0U2VydmljZSA9IGluamVjdChWaWV3ZXJMYXlvdXRTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBzdHlsZVNlcnZpY2UgPSBpbmplY3QoU3R5bGVTZXJ2aWNlKTtcbiAgcHJpdmF0ZSByZWFkb25seSBhbHRvU2VydmljZSA9IGluamVjdChBbHRvU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FudmFzR3JvdXBEaWFsb2dTZXJ2aWNlID0gaW5qZWN0KENhbnZhc0dyb3VwRGlhbG9nU2VydmljZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgZWwgPSBpbmplY3QoRWxlbWVudFJlZik7XG4gIHByaXZhdGUgcmVhZG9ubHkgdmlld0NvbnRhaW5lclJlZiA9IGluamVjdChWaWV3Q29udGFpbmVyUmVmKTtcbiAgcHJpdmF0ZSByZWFkb25seSB6b25lID0gaW5qZWN0KE5nWm9uZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgcGxhdGZvcm0gPSBpbmplY3QoUGxhdGZvcm0pO1xuICBwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmlwdGlvbnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gIHByaXZhdGUgaXNDYW52YXNQcmVzc2VkID0gZmFsc2U7XG4gIHByaXZhdGUgY3VycmVudE1hbmlmZXN0ITogTWFuaWZlc3QgfCBudWxsO1xuICBwcml2YXRlIHZpZXdlckxheW91dDogVmlld2VyTGF5b3V0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgdmlld2VyU3RhdGUgPSBuZXcgVmlld2VyU3RhdGUoKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmlkID0gdGhpcy52aWV3ZXJTZXJ2aWNlLmlkO1xuICAgIHRoaXMub3BlbnNlYWRyYWdvbklkID0gdGhpcy52aWV3ZXJTZXJ2aWNlLm9wZW5zZWFkcmFnb25JZDtcbiAgICB0aGlzLmluZm9ybWF0aW9uRGlhbG9nU2VydmljZS5lbCA9IHRoaXMuZWw7XG4gICAgdGhpcy5pbmZvcm1hdGlvbkRpYWxvZ1NlcnZpY2Uudmlld0NvbnRhaW5lclJlZiA9IHRoaXMudmlld0NvbnRhaW5lclJlZjtcbiAgICB0aGlzLmF0dHJpYnV0aW9uRGlhbG9nU2VydmljZS5lbCA9IHRoaXMuZWw7XG4gICAgdGhpcy5hdHRyaWJ1dGlvbkRpYWxvZ1NlcnZpY2Uudmlld0NvbnRhaW5lclJlZiA9IHRoaXMudmlld0NvbnRhaW5lclJlZjtcbiAgICB0aGlzLnZpZXdEaWFsb2dTZXJ2aWNlLmVsID0gdGhpcy5lbDtcbiAgICB0aGlzLnZpZXdEaWFsb2dTZXJ2aWNlLnZpZXdDb250YWluZXJSZWYgPSB0aGlzLnZpZXdDb250YWluZXJSZWY7XG4gICAgdGhpcy5jb250ZW50U2VhcmNoRGlhbG9nU2VydmljZS5lbCA9IHRoaXMuZWw7XG4gICAgdGhpcy5jb250ZW50U2VhcmNoRGlhbG9nU2VydmljZS52aWV3Q29udGFpbmVyUmVmID0gdGhpcy52aWV3Q29udGFpbmVyUmVmO1xuICAgIHRoaXMuaGVscERpYWxvZ1NlcnZpY2UuZWwgPSB0aGlzLmVsO1xuICAgIHRoaXMuaGVscERpYWxvZ1NlcnZpY2Uudmlld0NvbnRhaW5lclJlZiA9IHRoaXMudmlld0NvbnRhaW5lclJlZjtcbiAgICB0aGlzLmNhbnZhc0dyb3VwRGlhbG9nU2VydmljZS52aWV3Q29udGFpbmVyUmVmID0gdGhpcy52aWV3Q29udGFpbmVyUmVmO1xuICAgIHRoaXMucmVzaXplU2VydmljZS5lbCA9IHRoaXMuZWw7XG4gIH1cblxuICBnZXQgbWltZUhlYWRlckJlZm9yZVJlZigpOiBWaWV3Q29udGFpbmVyUmVmIHtcbiAgICByZXR1cm4gdGhpcy5oZWFkZXIubWltZUhlYWRlckJlZm9yZTtcbiAgfVxuXG4gIGdldCBtaW1lSGVhZGVyQWZ0ZXJSZWYoKTogVmlld0NvbnRhaW5lclJlZiB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZGVyLm1pbWVIZWFkZXJBZnRlcjtcbiAgfVxuXG4gIGdldCBtaW1lRm9vdGVyQmVmb3JlUmVmKCk6IFZpZXdDb250YWluZXJSZWYge1xuICAgIHJldHVybiB0aGlzLmZvb3Rlci5taW1lRm9vdGVyQmVmb3JlO1xuICB9XG5cbiAgZ2V0IG1pbWVGb290ZXJBZnRlclJlZigpOiBWaWV3Q29udGFpbmVyUmVmIHtcbiAgICByZXR1cm4gdGhpcy5mb290ZXIubWltZUZvb3RlckFmdGVyO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcigna2V5ZG93bicsIFsnJGV2ZW50J10pXG4gIGhhbmRsZUtleXMoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICB0aGlzLmFjY2Vzc0tleXNIYW5kbGVyU2VydmljZS5oYW5kbGVLZXlFdmVudHMoZXZlbnQpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZHJvcCcsIFsnJGV2ZW50J10pXG4gIHB1YmxpYyBvbkRyb3AoZXZlbnQ6IGFueSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKHRoaXMuY29uZmlnLmlzRHJvcEVuYWJsZWQpIHtcbiAgICAgIGNvbnN0IHVybCA9IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKCdVUkwnKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkwodXJsKS5zZWFyY2hQYXJhbXM7XG4gICAgICBjb25zdCBtYW5pZmVzdFVyaSA9IHBhcmFtcy5nZXQoJ21hbmlmZXN0Jyk7XG4gICAgICBjb25zdCBzdGFydENhbnZhc0lkID0gcGFyYW1zLmdldCgnY2FudmFzJyk7XG4gICAgICBpZiAobWFuaWZlc3RVcmkpIHtcbiAgICAgICAgdGhpcy5tYW5pZmVzdFVyaSA9IG1hbmlmZXN0VXJpLnN0YXJ0c1dpdGgoJy8vJylcbiAgICAgICAgICA/IGAke2xvY2F0aW9uLnByb3RvY29sfSR7bWFuaWZlc3RVcml9YFxuICAgICAgICAgIDogbWFuaWZlc3RVcmk7XG4gICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICB0aGlzLmxvYWRNYW5pZmVzdCgpO1xuICAgICAgICBpZiAoc3RhcnRDYW52YXNJZCkge1xuICAgICAgICAgIHRoaXMubWFuaWZlc3RDaGFuZ2VkLnBpcGUodGFrZSgxKSkuc3Vic2NyaWJlKChtYW5pZmVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzSW5kZXggPSBtYW5pZmVzdC5zZXF1ZW5jZXNcbiAgICAgICAgICAgICAgPyBtYW5pZmVzdC5zZXF1ZW5jZXNbMF0/LmNhbnZhc2VzPy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAoYykgPT4gYy5pZCA9PT0gc3RhcnRDYW52YXNJZCxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogLTE7XG4gICAgICAgICAgICBpZiAoY2FudmFzSW5kZXggJiYgY2FudmFzSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU2VydmljZS5nb1RvQ2FudmFzKGNhbnZhc0luZGV4LCB0cnVlKTtcbiAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zbmFja0Jhci5vcGVuKHRoaXMuaW50bC5kcm9wRGlzYWJsZWQsIHVuZGVmaW5lZCwge1xuICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ2RyYWdvdmVyJywgWyckZXZlbnQnXSlcbiAgcHVibGljIG9uRHJhZ092ZXIoZXZlbnQ6IGFueSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCdkcmFnbGVhdmUnLCBbJyRldmVudCddKVxuICBwdWJsaWMgb25EcmFnTGVhdmUoZXZlbnQ6IGFueSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnN0eWxlU2VydmljZS5pbml0aWFsaXplKCk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5paWlmTWFuaWZlc3RTZXJ2aWNlLmN1cnJlbnRNYW5pZmVzdC5zdWJzY3JpYmUoXG4gICAgICAgIChtYW5pZmVzdDogTWFuaWZlc3QgfCBudWxsKSA9PiB7XG4gICAgICAgICAgaWYgKG1hbmlmZXN0KSB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE1hbmlmZXN0ID0gbWFuaWZlc3Q7XG4gICAgICAgICAgICB0aGlzLm1hbmlmZXN0Q2hhbmdlZC5uZXh0KG1hbmlmZXN0KTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyTGF5b3V0U2VydmljZS5pbml0KFxuICAgICAgICAgICAgICBNYW5pZmVzdFV0aWxzLmlzTWFuaWZlc3RQYWdlZChtYW5pZmVzdCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5yZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlID1cbiAgICAgICAgICAgICAgdGhpcy5hbHRvU2VydmljZS5yZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclNlcnZpY2Uuc2V0VXBWaWV3ZXIobWFuaWZlc3QsIHRoaXMuY29uZmlnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5hdHRyaWJ1dGlvbkRpYWxvZ0VuYWJsZWQgJiYgbWFuaWZlc3QuYXR0cmlidXRpb24pIHtcbiAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGlvbkRpYWxvZ1NlcnZpY2Uub3BlbihcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5hdHRyaWJ1dGlvbkRpYWxvZ0hpZGVUaW1lb3V0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5xKSB7XG4gICAgICAgICAgICAgIHRoaXMuaWlpZkNvbnRlbnRTZWFyY2hTZXJ2aWNlLnNlYXJjaChtYW5pZmVzdCwgdGhpcy5xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy52aWV3ZXJTZXJ2aWNlLm9uT3NkUmVhZHlDaGFuZ2Uuc3Vic2NyaWJlKChzdGF0ZTogYm9vbGVhbikgPT4ge1xuICAgICAgICAvLyBEb24ndCByZXNldCBjdXJyZW50IHBhZ2Ugd2hlbiBzd2l0Y2hpbmcgbGF5b3V0XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzdGF0ZSAmJlxuICAgICAgICAgIHRoaXMuY2FudmFzSW5kZXggJiZcbiAgICAgICAgICAhdGhpcy5jYW52YXNTZXJ2aWNlLmN1cnJlbnRDYW52YXNHcm91cEluZGV4XG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMudmlld2VyU2VydmljZS5nb1RvQ2FudmFzKHRoaXMuY2FudmFzSW5kZXgsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLmlpaWZNYW5pZmVzdFNlcnZpY2UuZXJyb3JNZXNzYWdlLnN1YnNjcmliZShcbiAgICAgICAgKGVycm9yOiBzdHJpbmcgfCBudWxsKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZXNldEN1cnJlbnRNYW5pZmVzdCgpO1xuICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3I7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5paWlmQ29udGVudFNlYXJjaFNlcnZpY2Uub25RQ2hhbmdlLnN1YnNjcmliZSgocTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHRoaXMucUNoYW5nZWQuZW1pdChxKTtcbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5paWlmQ29udGVudFNlYXJjaFNlcnZpY2Uub25DaGFuZ2Uuc3Vic2NyaWJlKChzcjogU2VhcmNoUmVzdWx0KSA9PiB7XG4gICAgICAgIHRoaXMudmlld2VyU2VydmljZS5oaWdobGlnaHQoc3IpO1xuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLnZpZXdlclNlcnZpY2UuaXNDYW52YXNQcmVzc2VkLnN1YnNjcmliZSgodmFsdWU6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgdGhpcy5pc0NhbnZhc1ByZXNzZWQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChcbiAgICAgIHRoaXMubW9kZVNlcnZpY2Uub25DaGFuZ2Uuc3Vic2NyaWJlKChtb2RlOiBNb2RlQ2hhbmdlcykgPT4ge1xuICAgICAgICBpZiAobW9kZS5jdXJyZW50VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMudG9nZ2xlVG9vbGJhcnNTdGF0ZShtb2RlLmN1cnJlbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIG1vZGUucHJldmlvdXNWYWx1ZSA9PT0gVmlld2VyTW9kZS5EQVNIQk9BUkQgJiZcbiAgICAgICAgICBtb2RlLmN1cnJlbnRWYWx1ZSA9PT0gVmlld2VyTW9kZS5QQUdFXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0RpYWxvZ1N0YXRlLmlzT3BlbiA9XG4gICAgICAgICAgICB0aGlzLnZpZXdEaWFsb2dTZXJ2aWNlLmlzT3BlbigpO1xuICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuY29udGVudERpYWxvZ1N0YXRlLmlzT3BlbiA9XG4gICAgICAgICAgICB0aGlzLmluZm9ybWF0aW9uRGlhbG9nU2VydmljZS5pc09wZW4oKTtcbiAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmNvbnRlbnREaWFsb2dTdGF0ZS5zZWxlY3RlZEluZGV4ID1cbiAgICAgICAgICAgIHRoaXMuaW5mb3JtYXRpb25EaWFsb2dTZXJ2aWNlLmdldFNlbGVjdGVkSW5kZXgoKTtcbiAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmNvbnRlbnRzU2VhcmNoRGlhbG9nU3RhdGUuaXNPcGVuID1cbiAgICAgICAgICAgIHRoaXMuY29udGVudFNlYXJjaERpYWxvZ1NlcnZpY2UuaXNPcGVuKCk7XG4gICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5oZWxwRGlhbG9nU3RhdGUuaXNPcGVuID1cbiAgICAgICAgICAgIHRoaXMuaGVscERpYWxvZ1NlcnZpY2UuaXNPcGVuKCk7XG4gICAgICAgICAgdGhpcy56b25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdEaWFsb2dTZXJ2aWNlLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmluZm9ybWF0aW9uRGlhbG9nU2VydmljZS5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50U2VhcmNoRGlhbG9nU2VydmljZS5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5oZWxwRGlhbG9nU2VydmljZS5jbG9zZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlLmN1cnJlbnRWYWx1ZSA9PT0gVmlld2VyTW9kZS5EQVNIQk9BUkQpIHtcbiAgICAgICAgICB0aGlzLnpvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnZpZXdEaWFsb2dTdGF0ZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgdGhpcy52aWV3RGlhbG9nU2VydmljZS5vcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS5jb250ZW50RGlhbG9nU3RhdGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgIHRoaXMuaW5mb3JtYXRpb25EaWFsb2dTZXJ2aWNlLm9wZW4oXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5jb250ZW50RGlhbG9nU3RhdGUuc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLmNvbnRlbnRzU2VhcmNoRGlhbG9nU3RhdGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgIHRoaXMuY29udGVudFNlYXJjaERpYWxvZ1NlcnZpY2Uub3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUuaGVscERpYWxvZ1N0YXRlLmlzT3Blbikge1xuICAgICAgICAgICAgICB0aGlzLmhlbHBEaWFsb2dTZXJ2aWNlLm9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnpvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnZpZXdlck1vZGVDaGFuZ2VkLmVtaXQobW9kZS5jdXJyZW50VmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5jYW52YXNTZXJ2aWNlLm9uQ2FudmFzR3JvdXBJbmRleENoYW5nZS5zdWJzY3JpYmUoXG4gICAgICAgIChjYW52YXNHcm91cEluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICBjb25zdCBjYW52YXNJbmRleCA9XG4gICAgICAgICAgICB0aGlzLmNhbnZhc1NlcnZpY2UuZmluZENhbnZhc0J5Q2FudmFzSW5kZXgoY2FudmFzR3JvdXBJbmRleCk7XG4gICAgICAgICAgaWYgKGNhbnZhc0luZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXNDaGFuZ2VkLmVtaXQoY2FudmFzSW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLnJlc2l6ZVNlcnZpY2Uub25SZXNpemVcbiAgICAgICAgLnBpcGUoXG4gICAgICAgICAgdGhyb3R0bGUoKHZhbCkgPT5cbiAgICAgICAgICAgIGludGVydmFsKFZpZXdlck9wdGlvbnMudHJhbnNpdGlvbnMuT1NEQW5pbWF0aW9uVGltZSksXG4gICAgICAgICAgKSxcbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU2VydmljZS5ob21lKCk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICAgIH0sIFZpZXdlck9wdGlvbnMudHJhbnNpdGlvbnMuT1NEQW5pbWF0aW9uVGltZSk7XG4gICAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy52aWV3ZXJMYXlvdXRTZXJ2aWNlLm9uQ2hhbmdlLnN1YnNjcmliZShcbiAgICAgICAgKHZpZXdlckxheW91dDogVmlld2VyTGF5b3V0KSA9PiB7XG4gICAgICAgICAgdGhpcy52aWV3ZXJMYXlvdXQgPSB2aWV3ZXJMYXlvdXQ7XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5hbHRvU2VydmljZS5vblJlY29nbml6ZWRUZXh0Q29udGVudE1vZGVDaGFuZ2UkLnN1YnNjcmliZShcbiAgICAgICAgKHJlY29nbml6ZWRUZXh0TW9kZUNoYW5nZXM6IFJlY29nbml6ZWRUZXh0TW9kZUNoYW5nZXMpID0+IHtcbiAgICAgICAgICB0aGlzLnJlY29nbml6ZWRUZXh0Q29udGVudE1vZGUgPVxuICAgICAgICAgICAgcmVjb2duaXplZFRleHRNb2RlQ2hhbmdlcy5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgdGhpcy5yZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlQ2hhbmdlZC5lbWl0KFxuICAgICAgICAgICAgdGhpcy5yZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAoY2hhbmdlc1snY29uZmlnJ10pIHtcbiAgICAgIHRoaXMudmlld2VyU2VydmljZS5zZXRDb25maWcodGhpcy5jb25maWcpO1xuICAgICAgdGhpcy52aWV3ZXJMYXlvdXRTZXJ2aWNlLnNldENvbmZpZyh0aGlzLmNvbmZpZyk7XG4gICAgICB0aGlzLmlpaWZDb250ZW50U2VhcmNoU2VydmljZS5zZXRDb25maWcodGhpcy5jb25maWcpO1xuICAgICAgdGhpcy5hbHRvU2VydmljZS5zZXRDb25maWcodGhpcy5jb25maWcpO1xuICAgICAgdGhpcy5tb2RlU2VydmljZS5zZXRDb25maWcodGhpcy5jb25maWcpO1xuICAgICAgdGhpcy5tb2RlU2VydmljZS5pbml0aWFsaXplKCk7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZXNbJ21hbmlmZXN0VXJpJ10pIHtcbiAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgdGhpcy5tb2RlU2VydmljZS5tb2RlID0gdGhpcy5jb25maWcuaW5pdFZpZXdlck1vZGU7XG4gICAgICB0aGlzLm1hbmlmZXN0VXJpID0gY2hhbmdlc1snbWFuaWZlc3RVcmknXS5jdXJyZW50VmFsdWU7XG4gICAgICB0aGlzLmxvYWRNYW5pZmVzdCgpO1xuICAgIH1cblxuICAgIGlmIChjaGFuZ2VzWydxJ10pIHtcbiAgICAgIHRoaXMucSA9IGNoYW5nZXNbJ3EnXS5jdXJyZW50VmFsdWU7XG4gICAgICBpZiAodGhpcy5jdXJyZW50TWFuaWZlc3QpIHtcbiAgICAgICAgdGhpcy5paWlmQ29udGVudFNlYXJjaFNlcnZpY2Uuc2VhcmNoKHRoaXMuY3VycmVudE1hbmlmZXN0LCB0aGlzLnEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaGFuZ2VzWydjYW52YXNJbmRleCddKSB7XG4gICAgICB0aGlzLmNhbnZhc0luZGV4ID0gY2hhbmdlc1snY2FudmFzSW5kZXgnXS5jdXJyZW50VmFsdWU7XG4gICAgICBpZiAodGhpcy5jdXJyZW50TWFuaWZlc3QpIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTZXJ2aWNlLmdvVG9DYW52YXModGhpcy5jYW52YXNJbmRleCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgdGhpcy5paWlmTWFuaWZlc3RTZXJ2aWNlLmRlc3Ryb3koKTtcbiAgICB0aGlzLmlpaWZDb250ZW50U2VhcmNoU2VydmljZS5kZXN0cm95KCk7XG4gICAgdGhpcy5zdHlsZVNlcnZpY2UuZGVzdHJveSgpO1xuICB9XG5cbiAgdG9nZ2xlVG9vbGJhcnNTdGF0ZShtb2RlOiBWaWV3ZXJNb2RlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGVhZGVyICYmIHRoaXMuZm9vdGVyKSB7XG4gICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBWaWV3ZXJNb2RlLkRBU0hCT0FSRDpcbiAgICAgICAgICB0aGlzLnNob3dIZWFkZXJBbmRGb290ZXJTdGF0ZSA9IHRydWU7XG4gICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm5hdmlnYXRpb25Db250cm9sRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5vc2RUb29sYmFyU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVmlld2VyTW9kZS5QQUdFOlxuICAgICAgICAgIHRoaXMuc2hvd0hlYWRlckFuZEZvb3RlclN0YXRlID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm5hdmlnYXRpb25Db250cm9sRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5vc2RUb29sYmFyU3RhdGUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgfVxuXG4gIGdvVG9Ib21lWm9vbSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlICE9PSB0aGlzLnJlY29nbml6ZWRUZXh0TW9kZS5PTkxZKSB7XG4gICAgICB0aGlzLnZpZXdlclNlcnZpY2UuaG9tZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldENsYXNzZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdtb2RlLXBhZ2UnOiB0aGlzLm1vZGVTZXJ2aWNlLm1vZGUgPT09IFZpZXdlck1vZGUuUEFHRSxcbiAgICAgICdtb2RlLXBhZ2Utem9vbWVkJzogdGhpcy5tb2RlU2VydmljZS5pc1BhZ2Vab29tZWQoKSxcbiAgICAgICdtb2RlLWRhc2hib2FyZCc6IHRoaXMubW9kZVNlcnZpY2UubW9kZSA9PT0gVmlld2VyTW9kZS5EQVNIQk9BUkQsXG4gICAgICAnbGF5b3V0LW9uZS1wYWdlJzogdGhpcy52aWV3ZXJMYXlvdXQgPT09IFZpZXdlckxheW91dC5PTkVfUEFHRSxcbiAgICAgICdsYXlvdXQtdHdvLXBhZ2UnOiB0aGlzLnZpZXdlckxheW91dCA9PT0gVmlld2VyTGF5b3V0LlRXT19QQUdFLFxuICAgICAgJ2NhbnZhcy1wcmVzc2VkJzogdGhpcy5pc0NhbnZhc1ByZXNzZWQsXG4gICAgICAnYnJva2VuLW1peC1ibGVuZC1tb2RlJzogIXRoaXMuaGFzTWl4QmxlbmRNb2RlU3VwcG9ydCgpLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGxvYWRNYW5pZmVzdCgpOiB2b2lkIHtcbiAgICB0aGlzLmlpaWZNYW5pZmVzdFNlcnZpY2UubG9hZCh0aGlzLm1hbmlmZXN0VXJpKS5waXBlKHRha2UoMSkpLnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuYWNjZXNzS2V5c0hhbmRsZXJTZXJ2aWNlLmluaXRpYWxpemUoKTtcbiAgICB0aGlzLmF0dHJpYnV0aW9uRGlhbG9nU2VydmljZS5pbml0aWFsaXplKCk7XG4gICAgdGhpcy52aWV3RGlhbG9nU2VydmljZS5pbml0aWFsaXplKCk7XG4gICAgdGhpcy5pbmZvcm1hdGlvbkRpYWxvZ1NlcnZpY2UuaW5pdGlhbGl6ZSgpO1xuICAgIHRoaXMuY29udGVudFNlYXJjaERpYWxvZ1NlcnZpY2UuaW5pdGlhbGl6ZSgpO1xuICAgIHRoaXMuaGVscERpYWxvZ1NlcnZpY2UuaW5pdGlhbGl6ZSgpO1xuICAgIHRoaXMudmlld2VyU2VydmljZS5pbml0aWFsaXplKCk7XG4gICAgdGhpcy5yZXNpemVTZXJ2aWNlLmluaXRpYWxpemUoKTtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYW51cCgpIHtcbiAgICB0aGlzLnZpZXdlclN0YXRlID0gbmV3IFZpZXdlclN0YXRlKCk7XG4gICAgdGhpcy5hY2Nlc3NLZXlzSGFuZGxlclNlcnZpY2UuZGVzdHJveSgpO1xuICAgIHRoaXMuYXR0cmlidXRpb25EaWFsb2dTZXJ2aWNlLmRlc3Ryb3koKTtcbiAgICB0aGlzLnZpZXdEaWFsb2dTZXJ2aWNlLmRlc3Ryb3koKTtcbiAgICB0aGlzLmluZm9ybWF0aW9uRGlhbG9nU2VydmljZS5kZXN0cm95KCk7XG4gICAgdGhpcy5jb250ZW50U2VhcmNoRGlhbG9nU2VydmljZS5kZXN0cm95KCk7XG4gICAgdGhpcy5oZWxwRGlhbG9nU2VydmljZS5kZXN0cm95KCk7XG4gICAgdGhpcy52aWV3ZXJTZXJ2aWNlLmRlc3Ryb3koKTtcbiAgICB0aGlzLnJlc2l6ZVNlcnZpY2UuZGVzdHJveSgpO1xuICAgIHRoaXMucmVzZXRFcnJvck1lc3NhZ2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzZXRDdXJyZW50TWFuaWZlc3QoKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50TWFuaWZlc3QgPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNldEVycm9yTWVzc2FnZSgpOiB2b2lkIHtcbiAgICB0aGlzLmVycm9yTWVzc2FnZSA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGhhc01peEJsZW5kTW9kZVN1cHBvcnQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEodGhpcy5wbGF0Zm9ybS5GSVJFRk9YIHx8IHRoaXMucGxhdGZvcm0uU0FGQVJJKTtcbiAgfVxufVxuIiwiPGRpdlxuICBbaWRdPVwiaWRcIlxuICBjbGFzcz1cInZpZXdlci1jb250YWluZXJcIlxuICBbbmdDbGFzc109XCJzZXRDbGFzc2VzKClcIlxuICBbaGlkZGVuXT1cImVycm9yTWVzc2FnZSAhPT0gbnVsbFwiXG4gIFt0YWJJbmRleF09XCJ0YWJJbmRleFwiXG4+XG4gIDxtaW1lLXNwaW5uZXI+PC9taW1lLXNwaW5uZXI+XG4gIDxtaW1lLXZpZXdlci1oZWFkZXJcbiAgICBjbGFzcz1cIm5hdmJhciBuYXZiYXItaGVhZGVyXCJcbiAgICAjbWltZUhlYWRlclxuICAgIFtjbGFzcy5zaG93XT1cInNob3dIZWFkZXJBbmRGb290ZXJTdGF0ZVwiXG4gID48L21pbWUtdmlld2VyLWhlYWRlcj5cbiAgQGlmIChjb25maWcubmF2aWdhdGlvbkNvbnRyb2xFbmFibGVkKSB7XG4gICAgPG1pbWUtb3NkLXRvb2xiYXIgW2NsYXNzLnNob3ddPVwib3NkVG9vbGJhclN0YXRlXCI+PC9taW1lLW9zZC10b29sYmFyPlxuICB9XG5cbiAgPG1hdC1kcmF3ZXItY29udGFpbmVyIGNsYXNzPVwidmlld2VyLWRyYXdlci1jb250YWluZXJcIiBhdXRvc2l6ZT5cbiAgICA8bWF0LWRyYXdlclxuICAgICAgZGF0YS10ZXN0aWQ9XCJuZ3gtbWltZS1yZWNvZ25pemVkLXRleHQtY29udGVudC1jb250YWluZXJcIlxuICAgICAgbW9kZT1cInNpZGVcIlxuICAgICAgcG9zaXRpb249XCJlbmRcIlxuICAgICAgKG9wZW5lZENoYW5nZSk9XCJnb1RvSG9tZVpvb20oKVwiXG4gICAgICBbb3BlbmVkXT1cInJlY29nbml6ZWRUZXh0Q29udGVudE1vZGUgIT09IHJlY29nbml6ZWRUZXh0TW9kZS5OT05FXCJcbiAgICAgIFtuZ0NsYXNzXT1cIntcbiAgICAgICAgb25seTogcmVjb2duaXplZFRleHRDb250ZW50TW9kZSA9PT0gcmVjb2duaXplZFRleHRNb2RlLk9OTFksXG4gICAgICAgIHNwbGl0OiByZWNvZ25pemVkVGV4dENvbnRlbnRNb2RlID09PSByZWNvZ25pemVkVGV4dE1vZGUuU1BMSVQsXG4gICAgICAgIG9wZW46IHNob3dIZWFkZXJBbmRGb290ZXJTdGF0ZSxcbiAgICAgIH1cIlxuICAgID5cbiAgICAgIEBpZiAocmVjb2duaXplZFRleHRDb250ZW50TW9kZSAhPT0gcmVjb2duaXplZFRleHRNb2RlLk5PTkUpIHtcbiAgICAgICAgPG1pbWUtcmVjb2duaXplZC10ZXh0LWNvbnRlbnQ+PC9taW1lLXJlY29nbml6ZWQtdGV4dC1jb250ZW50PlxuICAgICAgfVxuICAgIDwvbWF0LWRyYXdlcj5cbiAgICA8bWF0LWRyYXdlci1jb250ZW50PlxuICAgICAgPGRpdiBbaWRdPVwib3BlbnNlYWRyYWdvbklkXCIgY2xhc3M9XCJvcGVuc2VhZHJhZ29uXCI+PC9kaXY+XG4gICAgPC9tYXQtZHJhd2VyLWNvbnRlbnQ+XG4gIDwvbWF0LWRyYXdlci1jb250YWluZXI+XG5cbiAgPG1pbWUtdmlld2VyLWZvb3RlclxuICAgIGNsYXNzPVwibmF2YmFyIG5hdmJhci1mb290ZXJcIlxuICAgICNtaW1lRm9vdGVyXG4gICAgW2NsYXNzLnNob3ddPVwic2hvd0hlYWRlckFuZEZvb3RlclN0YXRlXCJcbiAgPjwvbWltZS12aWV3ZXItZm9vdGVyPlxuPC9kaXY+XG5cbkBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gIDxkaXYgY2xhc3M9XCJlcnJvci1jb250YWluZXIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICB7eyBpbnRsLnNvbWV0aGluZ0hhc0dvbmVXcm9uZ0xhYmVsIH19XG4gIDwvZGl2PlxufVxuIl19","import { NgModule } from '@angular/core';\nimport { MimeViewerIntl } from './core/intl';\nimport { ViewerComponent } from './viewer/viewer.component';\nimport * as i0 from \"@angular/core\";\nexport class MimeModule {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeModule, imports: [ViewerComponent], exports: [ViewerComponent] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeModule, providers: [MimeViewerIntl], imports: [ViewerComponent] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.5\", ngImport: i0, type: MimeModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ViewerComponent],\n                    exports: [ViewerComponent],\n                    providers: [MimeViewerIntl],\n                }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LW1pbWUubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtbWltZS9zcmMvbGliL25neC1taW1lLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDN0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDJCQUEyQixDQUFDOztBQU81RCxNQUFNLE9BQU8sVUFBVTs4R0FBVixVQUFVOytHQUFWLFVBQVUsWUFKWCxlQUFlLGFBQ2YsZUFBZTsrR0FHZCxVQUFVLGFBRlYsQ0FBQyxjQUFjLENBQUMsWUFGakIsZUFBZTs7MkZBSWQsVUFBVTtrQkFMdEIsUUFBUTttQkFBQztvQkFDUixPQUFPLEVBQUUsQ0FBQyxlQUFlLENBQUM7b0JBQzFCLE9BQU8sRUFBRSxDQUFDLGVBQWUsQ0FBQztvQkFDMUIsU0FBUyxFQUFFLENBQUMsY0FBYyxDQUFDO2lCQUM1QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNaW1lVmlld2VySW50bCB9IGZyb20gJy4vY29yZS9pbnRsJztcbmltcG9ydCB7IFZpZXdlckNvbXBvbmVudCB9IGZyb20gJy4vdmlld2VyL3ZpZXdlci5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbVmlld2VyQ29tcG9uZW50XSxcbiAgZXhwb3J0czogW1ZpZXdlckNvbXBvbmVudF0sXG4gIHByb3ZpZGVyczogW01pbWVWaWV3ZXJJbnRsXSxcbn0pXG5leHBvcnQgY2xhc3MgTWltZU1vZHVsZSB7fVxuIl19","/**\n * Generated bundle index. Do not edit.\n */\nexport * from './index';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF0aW9uYWxsaWJyYXJ5b2Zub3J3YXktbmd4LW1pbWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL25neC1taW1lL3NyYy9uYXRpb25hbGxpYnJhcnlvZm5vcndheS1uZ3gtbWltZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUVILGNBQWMsU0FBUyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2luZGV4JztcbiJdfQ=="],"names":["OpenSeadragon","BuilderUtils","SizesBuilder","TilesBuilder","ServiceBuilder","ResourceBuilder","ImagesBuilder","CanvasBuilder","SequenceBuilder","MetadataBuilder","StructureBuilder","TileSourceBuilder","IiifV3ManifestBuilder","IiifV2ManifestBuilder","debounceTime","i1"],"mappings":"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"}